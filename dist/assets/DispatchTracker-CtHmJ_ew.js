import{j as e,N as EA,y as tA,z as cr,b as lt,O as im,l as On,C as Or,d as Ps}from"./index-DRC3F7i0.js";import{r as P,f as om,R as dr,e as Ln,c as lm}from"./router-BPBaD_i0.js";import{n as Fr,s as UA,d as oA,u as yA,l as jr,i as vs,t as Tt,c as OA,p as Dt,e as GA,q as Bs,w as ws,g as Yt,y as KA,b as cm}from"./firebase-DWi1MSv1.js";import{b as dm,c as kn,g as um}from"./vendor-Ckhrjn13.js";import{u as vt,w as ni,j as pm,d as hm}from"./pdf-DQxUCnop.js";import{c as Zs}from"./calcProforma-Ep9qGXtN.js";import{O as JA,a as kt}from"./orderStatus-BwkCpksU.js";import{r as Nc,m as fm,w as mm,T as Uc,g as gm,s as Ec,a as xm,u as Bm,i as wm,G as ym,_ as bm,b as Ic,c as vm,k as bi,o as Cl,n as hs,d as Cm,f as jm,e as Qm,h as Fm,j as Nm,V as Sc,l as Um}from"./stockManagement-G1X58IbZ.js";import{s as nt}from"./pricing-SUVGnFgL.js";import{G as jl,v as Tc,q as fs,I as Js,F as ai,J as Ql,K as Em,L as Fl,x as Im,M as ms,N as Nl,O as gs,P as or,c as Ul,b as Gr,Q as ii,A as Sm,R as Tm,S as Ys,T as Dm,n as Hm,i as Xa,B as oi,U as Dc,k as Rm,V as Pm,W as El,H as Om,u as Lm,X as Il}from"./index-BrhajXHK.js";import{m as iA}from"./proxy-BgUy8BPw.js";import{_ as Hc}from"./extends-CF3RwP-h.js";import{A as qs}from"./index-DSciU07p.js";import{g as km,b as Mm}from"./whatsappService-BELSGllU.js";import{u as Km,G as Gm,M as Sl,D as Vm}from"./esm-LCaBFwtY.js";function Wt(A){return`"${String(A??"").replace(/"/g,'""')}"`}function Rc(A,a,i){const l=Array.isArray(A?.proforma?.lines)?A.proforma.lines[i]:void 0;return l&&l.price!=null?Number(l.price)||0:Number(a?.price)||0}function _m(A,a,i){const l=Array.isArray(A?.proforma?.lines)?A.proforma.lines[i]:void 0;if(l&&l.gross!=null)return Number(l.gross)||0;const p=Number(a?.quantity)||0,f=Rc(A,a,i);return p*f}function $m(A){const a=["Product Name","Brand","SKU","Qty","Price","Subtotal"],l=(Array.isArray(A?.items)?A.items:[]).map((u,j)=>{const o=u.productName||u.name||"",B=u.brand||"",h=u.sku||"",b=Number(u.quantity??u.qty??0)||0,w=Rc(A,u,j),T=_m(A,u,j);return[o,B,h,b,w,T]}),p=l.reduce((u,j)=>u+(Number(j[5])||0),0),f=Number(A?.proforma?.grandTotal??p)||0,x=[["Order ID",A?.id||""],["Distributor",A?.distributorName||A?.distributorBusinessName||""],["Retailer",A?.retailerName||A?.retailerBusinessName||""],["Payment Mode",A?.paymentMode||A?.paymentMethod||""],["Tax Type",A?.proforma?.taxType||""]],E=[];return x.forEach(u=>E.push(`${Wt(u[0])},${Wt(u[1])}`)),x.length&&E.push(""),E.push(a.map(Wt).join(",")),l.forEach(u=>E.push(u.map(Wt).join(","))),E.push([Wt(""),Wt(""),Wt(""),Wt(""),Wt("Grand Total"),Wt(f.toFixed(2))].join(",")),E.join(`
`)}function Wm(A,a){const i=new Blob([a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a");l.href=URL.createObjectURL(i),l.download=A&&A.endsWith(".csv")?A:`${A||"order"}.csv`,document.body.appendChild(l),l.click(),document.body.removeChild(l),setTimeout(()=>URL.revokeObjectURL(l.href),1e3)}function Xm(A,a="order.csv"){const i=$m(A);Wm(a,i)}const Pc=(A,a,i)=>{const l=Array.isArray(A?.proforma?.lines)?A.proforma.lines[i]:void 0;return l&&l.price!=null?Number(l.price)||0:Number(a?.price)||0},Jm=(A,a,i)=>{const l=Array.isArray(A?.proforma?.lines)?A.proforma.lines[i]:void 0;if(l&&l.gross!=null)return Number(l.gross)||0;const p=Number(a?.quantity??a?.qty??0)||0,f=Pc(A,a,i);return p*f},Ym=(A,a)=>A?.proforma?.grandTotal!=null?Number(A.proforma.grandTotal)||0:Number(a||0);function zm(A,a="order.xlsx"){const l=(Array.isArray(A?.items)?A.items:[]).map((h,b)=>{const w=Pc(A,h,b),T=Number(h?.quantity??h?.qty??0)||0,I=Jm(A,h,b);return{"Product Name":h.productName||h.name||"",Brand:h.brand||"",SKU:h.sku||"",Qty:T,Price:w,Subtotal:I}}),p=l.reduce((h,b)=>h+(Number(b.Subtotal)||0),0),f=Ym(A,p);l.push({"Product Name":"",Brand:"",SKU:"",Qty:"",Price:"Grand Total",Subtotal:Number(f||0)});const x=vt.json_to_sheet(l,{header:["Product Name","Brand","SKU","Qty","Price","Subtotal"]}),E=vt.decode_range(x["!ref"]);for(let h=1;h<=E.e.r;h++)[3,4,5].forEach(b=>{const w=vt.encode_cell({r:h,c:b}),T=x[w];T&&typeof T.v=="number"&&(T.t="n",T.z="0.00")});const u=[{Field:"Order ID",Value:A?.id||""},{Field:"Distributor",Value:A?.distributorName||A?.distributorBusinessName||""},{Field:"Retailer",Value:A?.retailerName||A?.retailerBusinessName||""},{Field:"Payment Mode",Value:A?.paymentMode||A?.paymentMethod||""},{Field:"Tax Type",Value:A?.proforma?.taxType||""}],j=vt.json_to_sheet(u,{header:["Field","Value"]}),o=vt.book_new();vt.book_append_sheet(o,j,"Meta"),vt.book_append_sheet(o,x,"Items");const B=a.endsWith(".xlsx")?a:`${a}.xlsx`;ni(o,B)}var Ja={exports:{}};const Zm=dm(pm);var _n={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var qm=_n.exports,Tl;function eg(){return Tl||(Tl=1,(function(A,a){(function(i,l){A.exports=l()})(qm,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var i=function(r,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var d in s)Object.prototype.hasOwnProperty.call(s,d)&&(n[d]=s[d])},i(r,t)};function l(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var p=function(){return p=Object.assign||function(t){for(var n,s=1,d=arguments.length;s<d;s++){n=arguments[s];for(var g in n)Object.prototype.hasOwnProperty.call(n,g)&&(t[g]=n[g])}return t},p.apply(this,arguments)};function f(r,t,n,s){function d(g){return g instanceof n?g:new n(function(U){U(g)})}return new(n||(n=Promise))(function(g,U){function L(Y){try{X(s.next(Y))}catch(ne){U(ne)}}function O(Y){try{X(s.throw(Y))}catch(ne){U(ne)}}function X(Y){Y.done?g(Y.value):d(Y.value).then(L,O)}X((s=s.apply(r,[])).next())})}function x(r,t){var n={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},s,d,g,U;return U={next:L(0),throw:L(1),return:L(2)},typeof Symbol=="function"&&(U[Symbol.iterator]=function(){return this}),U;function L(X){return function(Y){return O([X,Y])}}function O(X){if(s)throw new TypeError("Generator is already executing.");for(;n;)try{if(s=1,d&&(g=X[0]&2?d.return:X[0]?d.throw||((g=d.return)&&g.call(d),0):d.next)&&!(g=g.call(d,X[1])).done)return g;switch(d=0,g&&(X=[X[0]&2,g.value]),X[0]){case 0:case 1:g=X;break;case 4:return n.label++,{value:X[1],done:!1};case 5:n.label++,d=X[1],X=[0];continue;case 7:X=n.ops.pop(),n.trys.pop();continue;default:if(g=n.trys,!(g=g.length>0&&g[g.length-1])&&(X[0]===6||X[0]===2)){n=0;continue}if(X[0]===3&&(!g||X[1]>g[0]&&X[1]<g[3])){n.label=X[1];break}if(X[0]===6&&n.label<g[1]){n.label=g[1],g=X;break}if(g&&n.label<g[2]){n.label=g[2],n.ops.push(X);break}g[2]&&n.ops.pop(),n.trys.pop();continue}X=t.call(r,n)}catch(Y){X=[6,Y],d=0}finally{s=g=0}if(X[0]&5)throw X[1];return{value:X[0]?X[1]:void 0,done:!0}}}function E(r,t,n){if(arguments.length===2)for(var s=0,d=t.length,g;s<d;s++)(g||!(s in t))&&(g||(g=Array.prototype.slice.call(t,0,s)),g[s]=t[s]);return r.concat(g||t)}for(var u=(function(){function r(t,n,s,d){this.left=t,this.top=n,this.width=s,this.height=d}return r.prototype.add=function(t,n,s,d){return new r(this.left+t,this.top+n,this.width+s,this.height+d)},r.fromClientRect=function(t,n){return new r(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},r.fromDOMRectList=function(t,n){var s=Array.from(n).find(function(d){return d.width!==0});return s?new r(s.left+t.windowBounds.left,s.top+t.windowBounds.top,s.width,s.height):r.EMPTY},r.EMPTY=new r(0,0,0,0),r})(),j=function(r,t){return u.fromClientRect(r,t.getBoundingClientRect())},o=function(r){var t=r.body,n=r.documentElement;if(!t||!n)throw new Error("Unable to get document size");var s=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),d=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new u(0,0,s,d)},B=function(r){for(var t=[],n=0,s=r.length;n<s;){var d=r.charCodeAt(n++);if(d>=55296&&d<=56319&&n<s){var g=r.charCodeAt(n++);(g&64512)===56320?t.push(((d&1023)<<10)+(g&1023)+65536):(t.push(d),n--)}else t.push(d)}return t},h=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var n=r.length;if(!n)return"";for(var s=[],d=-1,g="";++d<n;){var U=r[d];U<=65535?s.push(U):(U-=65536,s.push((U>>10)+55296,U%1024+56320)),(d+1===n||s.length>16384)&&(g+=String.fromCharCode.apply(String,s),s.length=0)}return g},b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=typeof Uint8Array>"u"?[]:new Uint8Array(256),T=0;T<b.length;T++)w[b.charCodeAt(T)]=T;for(var I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",N=typeof Uint8Array>"u"?[]:new Uint8Array(256),Q=0;Q<I.length;Q++)N[I.charCodeAt(Q)]=Q;for(var m=function(r){var t=r.length*.75,n=r.length,s,d=0,g,U,L,O;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var X=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),Y=Array.isArray(X)?X:new Uint8Array(X);for(s=0;s<n;s+=4)g=N[r.charCodeAt(s)],U=N[r.charCodeAt(s+1)],L=N[r.charCodeAt(s+2)],O=N[r.charCodeAt(s+3)],Y[d++]=g<<2|U>>4,Y[d++]=(U&15)<<4|L>>2,Y[d++]=(L&3)<<6|O&63;return X},y=function(r){for(var t=r.length,n=[],s=0;s<t;s+=2)n.push(r[s+1]<<8|r[s]);return n},D=function(r){for(var t=r.length,n=[],s=0;s<t;s+=4)n.push(r[s+3]<<24|r[s+2]<<16|r[s+1]<<8|r[s]);return n},H=5,$=11,z=2,ie=$-H,re=65536>>H,F=1<<H,C=F-1,M=1024>>H,R=re+M,S=R,K=32,Z=S+K,de=65536>>$,se=1<<ie,me=se-1,Ie=function(r,t,n){return r.slice?r.slice(t,n):new Uint16Array(Array.prototype.slice.call(r,t,n))},De=function(r,t,n){return r.slice?r.slice(t,n):new Uint32Array(Array.prototype.slice.call(r,t,n))},Xe=function(r,t){var n=m(r),s=Array.isArray(n)?D(n):new Uint32Array(n),d=Array.isArray(n)?y(n):new Uint16Array(n),g=24,U=Ie(d,g/2,s[4]/2),L=s[5]===2?Ie(d,(g+s[4])/2):De(s,Math.ceil((g+s[4])/4));return new AA(s[0],s[1],s[2],s[3],U,L)},AA=(function(){function r(t,n,s,d,g,U){this.initialValue=t,this.errorValue=n,this.highStart=s,this.highValueIndex=d,this.index=g,this.data=U}return r.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>H],n=(n<<z)+(t&C),this.data[n];if(t<=65535)return n=this.index[re+(t-55296>>H)],n=(n<<z)+(t&C),this.data[n];if(t<this.highStart)return n=Z-de+(t>>$),n=this.index[n],n+=t>>H&me,n=this.index[n],n=(n<<z)+(t&C),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),$e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fA=typeof Uint8Array>"u"?[]:new Uint8Array(256),ze=0;ze<$e.length;ze++)fA[$e.charCodeAt(ze)]=ze;var lA="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",cA=50,ke=1,nA=2,Me=3,_=4,Ce=5,ce=7,Be=8,Je=9,ee=10,ve=11,ue=12,Qe=13,he=14,He=15,ye=16,We=17,rA=18,v=19,ge=20,fe=21,W=22,J=23,Ae=24,je=25,Ne=26,te=27,Ee=28,c=29,V=30,k=31,G=32,pe=33,oe=34,q=35,xe=36,le=37,Fe=38,Ue=39,jA=40,Te=41,Re=42,dA=43,mA=[9001,65288],bA="!",ae="",Pe="",eA=Xe(lA),Oe=[V,xe],aA=[ke,nA,Me,Ce],qe=[ee,Be],uA=[te,Ne],LA=aA.concat(qe),er=[Fe,Ue,jA,oe,q],Wr=[He,Qe],Er=function(r,t){t===void 0&&(t="strict");var n=[],s=[],d=[];return r.forEach(function(g,U){var L=eA.get(g);if(L>cA?(d.push(!0),L-=cA):d.push(!1),["normal","auto","loose"].indexOf(t)!==-1&&[8208,8211,12316,12448].indexOf(g)!==-1)return s.push(U),n.push(ye);if(L===_||L===ve){if(U===0)return s.push(U),n.push(V);var O=n[U-1];return LA.indexOf(O)===-1?(s.push(s[U-1]),n.push(O)):(s.push(U),n.push(V))}if(s.push(U),L===k)return n.push(t==="strict"?fe:le);if(L===Re||L===c)return n.push(V);if(L===dA)return g>=131072&&g<=196605||g>=196608&&g<=262141?n.push(le):n.push(V);n.push(L)}),[s,n,d]},at=function(r,t,n,s){var d=s[n];if(Array.isArray(r)?r.indexOf(d)!==-1:r===d)for(var g=n;g<=s.length;){g++;var U=s[g];if(U===t)return!0;if(U!==ee)break}if(d===ee)for(var g=n;g>0;){g--;var L=s[g];if(Array.isArray(r)?r.indexOf(L)!==-1:r===L)for(var O=n;O<=s.length;){O++;var U=s[O];if(U===t)return!0;if(U!==ee)break}if(L!==ee)break}return!1},sA=function(r,t){for(var n=r;n>=0;){var s=t[n];if(s===ee)n--;else return s}return 0},et=function(r,t,n,s,d){if(n[s]===0)return ae;var g=s-1;if(Array.isArray(d)&&d[g]===!0)return ae;var U=g-1,L=g+1,O=t[g],X=U>=0?t[U]:0,Y=t[L];if(O===nA&&Y===Me)return ae;if(aA.indexOf(O)!==-1)return bA;if(aA.indexOf(Y)!==-1||qe.indexOf(Y)!==-1)return ae;if(sA(g,t)===Be)return Pe;if(eA.get(r[g])===ve||(O===G||O===pe)&&eA.get(r[L])===ve||O===ce||Y===ce||O===Je||[ee,Qe,He].indexOf(O)===-1&&Y===Je||[We,rA,v,Ae,Ee].indexOf(Y)!==-1||sA(g,t)===W||at(J,W,g,t)||at([We,rA],fe,g,t)||at(ue,ue,g,t))return ae;if(O===ee)return Pe;if(O===J||Y===J)return ae;if(Y===ye||O===ye)return Pe;if([Qe,He,fe].indexOf(Y)!==-1||O===he||X===xe&&Wr.indexOf(O)!==-1||O===Ee&&Y===xe||Y===ge||Oe.indexOf(Y)!==-1&&O===je||Oe.indexOf(O)!==-1&&Y===je||O===te&&[le,G,pe].indexOf(Y)!==-1||[le,G,pe].indexOf(O)!==-1&&Y===Ne||Oe.indexOf(O)!==-1&&uA.indexOf(Y)!==-1||uA.indexOf(O)!==-1&&Oe.indexOf(Y)!==-1||[te,Ne].indexOf(O)!==-1&&(Y===je||[W,He].indexOf(Y)!==-1&&t[L+1]===je)||[W,He].indexOf(O)!==-1&&Y===je||O===je&&[je,Ee,Ae].indexOf(Y)!==-1)return ae;if([je,Ee,Ae,We,rA].indexOf(Y)!==-1)for(var ne=g;ne>=0;){var we=t[ne];if(we===je)return ae;if([Ee,Ae].indexOf(we)!==-1)ne--;else break}if([te,Ne].indexOf(Y)!==-1)for(var ne=[We,rA].indexOf(O)!==-1?U:g;ne>=0;){var we=t[ne];if(we===je)return ae;if([Ee,Ae].indexOf(we)!==-1)ne--;else break}if(Fe===O&&[Fe,Ue,oe,q].indexOf(Y)!==-1||[Ue,oe].indexOf(O)!==-1&&[Ue,jA].indexOf(Y)!==-1||[jA,q].indexOf(O)!==-1&&Y===jA||er.indexOf(O)!==-1&&[ge,Ne].indexOf(Y)!==-1||er.indexOf(Y)!==-1&&O===te||Oe.indexOf(O)!==-1&&Oe.indexOf(Y)!==-1||O===Ae&&Oe.indexOf(Y)!==-1||Oe.concat(je).indexOf(O)!==-1&&Y===W&&mA.indexOf(r[L])===-1||Oe.concat(je).indexOf(Y)!==-1&&O===rA)return ae;if(O===Te&&Y===Te){for(var Ve=n[g],Se=1;Ve>0&&(Ve--,t[Ve]===Te);)Se++;if(Se%2!==0)return ae}return O===G&&Y===pe?ae:Pe},xA=function(r,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Er(r,t.lineBreak),s=n[0],d=n[1],g=n[2];(t.wordBreak==="break-all"||t.wordBreak==="break-word")&&(d=d.map(function(L){return[je,V,Re].indexOf(L)!==-1?le:L}));var U=t.wordBreak==="keep-all"?g.map(function(L,O){return L&&r[O]>=19968&&r[O]<=40959}):void 0;return[s,d,U]},ZA=(function(){function r(t,n,s,d){this.codePoints=t,this.required=n===bA,this.start=s,this.end=d}return r.prototype.slice=function(){return h.apply(void 0,this.codePoints.slice(this.start,this.end))},r})(),yt=function(r,t){var n=B(r),s=xA(n,t),d=s[0],g=s[1],U=s[2],L=n.length,O=0,X=0;return{next:function(){if(X>=L)return{done:!0,value:null};for(var Y=ae;X<L&&(Y=et(n,g,d,++X,U))===ae;);if(Y!==ae||X===L){var ne=new ZA(n,Y,O,X);return O=X,{value:ne,done:!1}}return{done:!0,value:null}}}},At=1,it=2,$A=4,Kt=8,FA=10,Rt=47,Ar=92,Bd=9,wd=32,rn=34,Cs=61,yd=35,bd=36,vd=37,sn=39,nn=40,js=41,Cd=95,ft=45,jd=33,Qd=60,Fd=62,Nd=64,Ud=91,Ed=93,Id=61,Sd=123,an=63,Td=125,Ki=124,Dd=126,Hd=128,Gi=65533,fa=42,Ir=43,Rd=44,Pd=58,Od=59,Qs=46,Ld=0,kd=8,Md=11,Kd=14,Gd=31,Vd=127,Gt=-1,Vi=48,_i=97,$i=101,_d=102,$d=117,Wd=122,Wi=65,Xi=69,Ji=70,Xd=85,Jd=90,ot=function(r){return r>=Vi&&r<=57},Yd=function(r){return r>=55296&&r<=57343},Xr=function(r){return ot(r)||r>=Wi&&r<=Ji||r>=_i&&r<=_d},zd=function(r){return r>=_i&&r<=Wd},Zd=function(r){return r>=Wi&&r<=Jd},qd=function(r){return zd(r)||Zd(r)},eu=function(r){return r>=Hd},on=function(r){return r===FA||r===Bd||r===wd},ln=function(r){return qd(r)||eu(r)||r===Cd},Yi=function(r){return ln(r)||ot(r)||r===ft},Au=function(r){return r>=Ld&&r<=kd||r===Md||r>=Kd&&r<=Gd||r===Vd},fr=function(r,t){return r!==Ar?!1:t!==FA},cn=function(r,t,n){return r===ft?ln(t)||fr(t,n):ln(r)?!0:!!(r===Ar&&fr(r,t))},ma=function(r,t,n){return r===Ir||r===ft?ot(t)?!0:t===Qs&&ot(n):ot(r===Qs?t:r)},tu=function(r){var t=0,n=1;(r[t]===Ir||r[t]===ft)&&(r[t]===ft&&(n=-1),t++);for(var s=[];ot(r[t]);)s.push(r[t++]);var d=s.length?parseInt(h.apply(void 0,s),10):0;r[t]===Qs&&t++;for(var g=[];ot(r[t]);)g.push(r[t++]);var U=g.length,L=U?parseInt(h.apply(void 0,g),10):0;(r[t]===Xi||r[t]===$i)&&t++;var O=1;(r[t]===Ir||r[t]===ft)&&(r[t]===ft&&(O=-1),t++);for(var X=[];ot(r[t]);)X.push(r[t++]);var Y=X.length?parseInt(h.apply(void 0,X),10):0;return n*(d+L*Math.pow(10,-U))*Math.pow(10,O*Y)},ru={type:2},su={type:3},nu={type:4},au={type:13},iu={type:8},ou={type:21},lu={type:9},cu={type:10},du={type:11},uu={type:12},pu={type:14},dn={type:23},hu={type:1},fu={type:25},mu={type:24},gu={type:26},xu={type:27},Bu={type:28},wu={type:29},yu={type:31},ga={type:32},zi=(function(){function r(){this._value=[]}return r.prototype.write=function(t){this._value=this._value.concat(B(t))},r.prototype.read=function(){for(var t=[],n=this.consumeToken();n!==ga;)t.push(n),n=this.consumeToken();return t},r.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case rn:return this.consumeStringToken(rn);case yd:var n=this.peekCodePoint(0),s=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Yi(n)||fr(s,d)){var g=cn(n,s,d)?it:At,U=this.consumeName();return{type:5,value:U,flags:g}}break;case bd:if(this.peekCodePoint(0)===Cs)return this.consumeCodePoint(),au;break;case sn:return this.consumeStringToken(sn);case nn:return ru;case js:return su;case fa:if(this.peekCodePoint(0)===Cs)return this.consumeCodePoint(),pu;break;case Ir:if(ma(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Rd:return nu;case ft:var L=t,O=this.peekCodePoint(0),X=this.peekCodePoint(1);if(ma(L,O,X))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(cn(L,O,X))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(O===ft&&X===Fd)return this.consumeCodePoint(),this.consumeCodePoint(),mu;break;case Qs:if(ma(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case Rt:if(this.peekCodePoint(0)===fa)for(this.consumeCodePoint();;){var Y=this.consumeCodePoint();if(Y===fa&&(Y=this.consumeCodePoint(),Y===Rt))return this.consumeToken();if(Y===Gt)return this.consumeToken()}break;case Pd:return gu;case Od:return xu;case Qd:if(this.peekCodePoint(0)===jd&&this.peekCodePoint(1)===ft&&this.peekCodePoint(2)===ft)return this.consumeCodePoint(),this.consumeCodePoint(),fu;break;case Nd:var ne=this.peekCodePoint(0),we=this.peekCodePoint(1),Ve=this.peekCodePoint(2);if(cn(ne,we,Ve)){var U=this.consumeName();return{type:7,value:U}}break;case Ud:return Bu;case Ar:if(fr(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case Ed:return wu;case Id:if(this.peekCodePoint(0)===Cs)return this.consumeCodePoint(),iu;break;case Sd:return du;case Td:return uu;case $d:case Xd:var Se=this.peekCodePoint(0),Le=this.peekCodePoint(1);return Se===Ir&&(Xr(Le)||Le===an)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case Ki:if(this.peekCodePoint(0)===Cs)return this.consumeCodePoint(),lu;if(this.peekCodePoint(0)===Ki)return this.consumeCodePoint(),ou;break;case Dd:if(this.peekCodePoint(0)===Cs)return this.consumeCodePoint(),cu;break;case Gt:return ga}return on(t)?(this.consumeWhiteSpace(),yu):ot(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):ln(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:h(t)}},r.prototype.consumeCodePoint=function(){var t=this._value.shift();return typeof t>"u"?-1:t},r.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},r.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},r.prototype.consumeUnicodeRangeToken=function(){for(var t=[],n=this.consumeCodePoint();Xr(n)&&t.length<6;)t.push(n),n=this.consumeCodePoint();for(var s=!1;n===an&&t.length<6;)t.push(n),n=this.consumeCodePoint(),s=!0;if(s){var d=parseInt(h.apply(void 0,t.map(function(O){return O===an?Vi:O})),16),g=parseInt(h.apply(void 0,t.map(function(O){return O===an?Ji:O})),16);return{type:30,start:d,end:g}}var U=parseInt(h.apply(void 0,t),16);if(this.peekCodePoint(0)===ft&&Xr(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var L=[];Xr(n)&&L.length<6;)L.push(n),n=this.consumeCodePoint();var g=parseInt(h.apply(void 0,L),16);return{type:30,start:U,end:g}}else return{type:30,start:U,end:U}},r.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return t.toLowerCase()==="url"&&this.peekCodePoint(0)===nn?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===nn?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},r.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gt)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===sn||n===rn){var s=this.consumeStringToken(this.consumeCodePoint());return s.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Gt||this.peekCodePoint(0)===js)?(this.consumeCodePoint(),{type:22,value:s.value}):(this.consumeBadUrlRemnants(),dn)}for(;;){var d=this.consumeCodePoint();if(d===Gt||d===js)return{type:22,value:h.apply(void 0,t)};if(on(d))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Gt||this.peekCodePoint(0)===js?(this.consumeCodePoint(),{type:22,value:h.apply(void 0,t)}):(this.consumeBadUrlRemnants(),dn);if(d===rn||d===sn||d===nn||Au(d))return this.consumeBadUrlRemnants(),dn;if(d===Ar)if(fr(d,this.peekCodePoint(0)))t.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),dn;else t.push(d)}},r.prototype.consumeWhiteSpace=function(){for(;on(this.peekCodePoint(0));)this.consumeCodePoint()},r.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(t===js||t===Gt)return;fr(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},r.prototype.consumeStringSlice=function(t){for(var n=5e4,s="";t>0;){var d=Math.min(n,t);s+=h.apply(void 0,this._value.splice(0,d)),t-=d}return this._value.shift(),s},r.prototype.consumeStringToken=function(t){var n="",s=0;do{var d=this._value[s];if(d===Gt||d===void 0||d===t)return n+=this.consumeStringSlice(s),{type:0,value:n};if(d===FA)return this._value.splice(0,s),hu;if(d===Ar){var g=this._value[s+1];g!==Gt&&g!==void 0&&(g===FA?(n+=this.consumeStringSlice(s),s=-1,this._value.shift()):fr(d,g)&&(n+=this.consumeStringSlice(s),n+=h(this.consumeEscapedCodePoint()),s=-1))}s++}while(!0)},r.prototype.consumeNumber=function(){var t=[],n=$A,s=this.peekCodePoint(0);for((s===Ir||s===ft)&&t.push(this.consumeCodePoint());ot(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0);var d=this.peekCodePoint(1);if(s===Qs&&ot(d))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Kt;ot(this.peekCodePoint(0));)t.push(this.consumeCodePoint());s=this.peekCodePoint(0),d=this.peekCodePoint(1);var g=this.peekCodePoint(2);if((s===Xi||s===$i)&&((d===Ir||d===ft)&&ot(g)||ot(d)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),n=Kt;ot(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[tu(t),n]},r.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),n=t[0],s=t[1],d=this.peekCodePoint(0),g=this.peekCodePoint(1),U=this.peekCodePoint(2);if(cn(d,g,U)){var L=this.consumeName();return{type:15,number:n,flags:s,unit:L}}return d===vd?(this.consumeCodePoint(),{type:16,number:n,flags:s}):{type:17,number:n,flags:s}},r.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(Xr(t)){for(var n=h(t);Xr(this.peekCodePoint(0))&&n.length<6;)n+=h(this.consumeCodePoint());on(this.peekCodePoint(0))&&this.consumeCodePoint();var s=parseInt(n,16);return s===0||Yd(s)||s>1114111?Gi:s}return t===Gt?Gi:t},r.prototype.consumeName=function(){for(var t="";;){var n=this.consumeCodePoint();if(Yi(n))t+=h(n);else if(fr(n,this.peekCodePoint(0)))t+=h(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),t}},r})(),Zi=(function(){function r(t){this._tokens=t}return r.create=function(t){var n=new zi;return n.write(t),new r(n.read())},r.parseValue=function(t){return r.create(t).parseComponentValue()},r.parseValues=function(t){return r.create(t).parseComponentValues()},r.prototype.parseComponentValue=function(){for(var t=this.consumeToken();t.type===31;)t=this.consumeToken();if(t.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var n=this.consumeComponentValue();do t=this.consumeToken();while(t.type===31);if(t.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},r.prototype.parseComponentValues=function(){for(var t=[];;){var n=this.consumeComponentValue();if(n.type===32)return t;t.push(n),t.push()}},r.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},r.prototype.consumeSimpleBlock=function(t){for(var n={type:t,values:[]},s=this.consumeToken();;){if(s.type===32||vu(s,t))return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue()),s=this.consumeToken()}},r.prototype.consumeFunction=function(t){for(var n={name:t.value,values:[],type:18};;){var s=this.consumeToken();if(s.type===32||s.type===3)return n;this.reconsumeToken(s),n.values.push(this.consumeComponentValue())}},r.prototype.consumeToken=function(){var t=this._tokens.shift();return typeof t>"u"?ga:t},r.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},r})(),Fs=function(r){return r.type===15},Jr=function(r){return r.type===17},TA=function(r){return r.type===20},bu=function(r){return r.type===0},xa=function(r,t){return TA(r)&&r.value===t},qi=function(r){return r.type!==31},Yr=function(r){return r.type!==31&&r.type!==4},Vt=function(r){var t=[],n=[];return r.forEach(function(s){if(s.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");t.push(n),n=[];return}s.type!==31&&n.push(s)}),n.length&&t.push(n),t},vu=function(r,t){return t===11&&r.type===12||t===28&&r.type===29?!0:t===2&&r.type===3},mr=function(r){return r.type===17||r.type===15},WA=function(r){return r.type===16||mr(r)},eo=function(r){return r.length>1?[r[0],r[1]]:[r[0]]},tt={type:17,number:0,flags:$A},Ba={type:16,number:50,flags:$A},gr={type:16,number:100,flags:$A},Ns=function(r,t,n){var s=r[0],d=r[1];return[HA(s,t),HA(typeof d<"u"?d:s,n)]},HA=function(r,t){if(r.type===16)return r.number/100*t;if(Fs(r))switch(r.unit){case"rem":case"em":return 16*r.number;case"px":default:return r.number}return r.number},Ao="deg",to="grad",ro="rad",so="turn",un={name:"angle",parse:function(r,t){if(t.type===15)switch(t.unit){case Ao:return Math.PI*t.number/180;case to:return Math.PI/200*t.number;case ro:return t.number;case so:return Math.PI*2*t.number}throw new Error("Unsupported angle type")}},no=function(r){return r.type===15&&(r.unit===Ao||r.unit===to||r.unit===ro||r.unit===so)},ao=function(r){var t=r.filter(TA).map(function(n){return n.value}).join(" ");switch(t){case"to bottom right":case"to right bottom":case"left top":case"top left":return[tt,tt];case"to top":case"bottom":return Qt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[tt,gr];case"to right":case"left":return Qt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[gr,gr];case"to bottom":case"top":return Qt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[gr,tt];case"to left":case"right":return Qt(270)}return 0},Qt=function(r){return Math.PI*r/180},xr={name:"color",parse:function(r,t){if(t.type===18){var n=Cu[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(r,t.values)}if(t.type===5){if(t.value.length===3){var s=t.value.substring(0,1),d=t.value.substring(1,2),g=t.value.substring(2,3);return wr(parseInt(s+s,16),parseInt(d+d,16),parseInt(g+g,16),1)}if(t.value.length===4){var s=t.value.substring(0,1),d=t.value.substring(1,2),g=t.value.substring(2,3),U=t.value.substring(3,4);return wr(parseInt(s+s,16),parseInt(d+d,16),parseInt(g+g,16),parseInt(U+U,16)/255)}if(t.value.length===6){var s=t.value.substring(0,2),d=t.value.substring(2,4),g=t.value.substring(4,6);return wr(parseInt(s,16),parseInt(d,16),parseInt(g,16),1)}if(t.value.length===8){var s=t.value.substring(0,2),d=t.value.substring(2,4),g=t.value.substring(4,6),U=t.value.substring(6,8);return wr(parseInt(s,16),parseInt(d,16),parseInt(g,16),parseInt(U,16)/255)}}if(t.type===20){var L=tr[t.value.toUpperCase()];if(typeof L<"u")return L}return tr.TRANSPARENT}},Br=function(r){return(255&r)===0},qA=function(r){var t=255&r,n=255&r>>8,s=255&r>>16,d=255&r>>24;return t<255?"rgba("+d+","+s+","+n+","+t/255+")":"rgb("+d+","+s+","+n+")"},wr=function(r,t,n,s){return(r<<24|t<<16|n<<8|Math.round(s*255)<<0)>>>0},io=function(r,t){if(r.type===17)return r.number;if(r.type===16){var n=t===3?1:255;return t===3?r.number/100*n:Math.round(r.number/100*n)}return 0},oo=function(r,t){var n=t.filter(Yr);if(n.length===3){var s=n.map(io),d=s[0],g=s[1],U=s[2];return wr(d,g,U,1)}if(n.length===4){var L=n.map(io),d=L[0],g=L[1],U=L[2],O=L[3];return wr(d,g,U,O)}return 0};function wa(r,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-r)*n*6+r:n<1/2?t:n<2/3?(t-r)*6*(2/3-n)+r:r}var lo=function(r,t){var n=t.filter(Yr),s=n[0],d=n[1],g=n[2],U=n[3],L=(s.type===17?Qt(s.number):un.parse(r,s))/(Math.PI*2),O=WA(d)?d.number/100:0,X=WA(g)?g.number/100:0,Y=typeof U<"u"&&WA(U)?HA(U,1):1;if(O===0)return wr(X*255,X*255,X*255,1);var ne=X<=.5?X*(O+1):X+O-X*O,we=X*2-ne,Ve=wa(we,ne,L+1/3),Se=wa(we,ne,L),Le=wa(we,ne,L-1/3);return wr(Ve*255,Se*255,Le*255,Y)},Cu={hsl:lo,hsla:lo,rgb:oo,rgba:oo},Us=function(r,t){return xr.parse(r,Zi.create(t).parseComponentValue())},tr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ju={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(n){if(TA(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Qu={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pn=function(r,t){var n=xr.parse(r,t[0]),s=t[1];return s&&WA(s)?{color:n,stop:s}:{color:n,stop:null}},co=function(r,t){var n=r[0],s=r[r.length-1];n.stop===null&&(n.stop=tt),s.stop===null&&(s.stop=gr);for(var d=[],g=0,U=0;U<r.length;U++){var L=r[U].stop;if(L!==null){var O=HA(L,t);O>g?d.push(O):d.push(g),g=O}else d.push(null)}for(var X=null,U=0;U<d.length;U++){var Y=d[U];if(Y===null)X===null&&(X=U);else if(X!==null){for(var ne=U-X,we=d[X-1],Ve=(Y-we)/(ne+1),Se=1;Se<=ne;Se++)d[X+Se-1]=Ve*Se;X=null}}return r.map(function(Le,gA){var Ze=Le.color;return{color:Ze,stop:Math.max(Math.min(1,d[gA]/t),0)}})},Fu=function(r,t,n){var s=t/2,d=n/2,g=HA(r[0],t)-s,U=d-HA(r[1],n);return(Math.atan2(U,g)+Math.PI*2)%(Math.PI*2)},Nu=function(r,t,n){var s=typeof r=="number"?r:Fu(r,t,n),d=Math.abs(t*Math.sin(s))+Math.abs(n*Math.cos(s)),g=t/2,U=n/2,L=d/2,O=Math.sin(s-Math.PI/2)*L,X=Math.cos(s-Math.PI/2)*L;return[d,g-X,g+X,U-O,U+O]},Pt=function(r,t){return Math.sqrt(r*r+t*t)},uo=function(r,t,n,s,d){var g=[[0,0],[0,t],[r,0],[r,t]];return g.reduce(function(U,L){var O=L[0],X=L[1],Y=Pt(n-O,s-X);return(d?Y<U.optimumDistance:Y>U.optimumDistance)?{optimumCorner:L,optimumDistance:Y}:U},{optimumDistance:d?1/0:-1/0,optimumCorner:null}).optimumCorner},Uu=function(r,t,n,s,d){var g=0,U=0;switch(r.size){case 0:r.shape===0?g=U=Math.min(Math.abs(t),Math.abs(t-s),Math.abs(n),Math.abs(n-d)):r.shape===1&&(g=Math.min(Math.abs(t),Math.abs(t-s)),U=Math.min(Math.abs(n),Math.abs(n-d)));break;case 2:if(r.shape===0)g=U=Math.min(Pt(t,n),Pt(t,n-d),Pt(t-s,n),Pt(t-s,n-d));else if(r.shape===1){var L=Math.min(Math.abs(n),Math.abs(n-d))/Math.min(Math.abs(t),Math.abs(t-s)),O=uo(s,d,t,n,!0),X=O[0],Y=O[1];g=Pt(X-t,(Y-n)/L),U=L*g}break;case 1:r.shape===0?g=U=Math.max(Math.abs(t),Math.abs(t-s),Math.abs(n),Math.abs(n-d)):r.shape===1&&(g=Math.max(Math.abs(t),Math.abs(t-s)),U=Math.max(Math.abs(n),Math.abs(n-d)));break;case 3:if(r.shape===0)g=U=Math.max(Pt(t,n),Pt(t,n-d),Pt(t-s,n),Pt(t-s,n-d));else if(r.shape===1){var L=Math.max(Math.abs(n),Math.abs(n-d))/Math.max(Math.abs(t),Math.abs(t-s)),ne=uo(s,d,t,n,!1),X=ne[0],Y=ne[1];g=Pt(X-t,(Y-n)/L),U=L*g}break}return Array.isArray(r.size)&&(g=HA(r.size[0],s),U=r.size.length===2?HA(r.size[1],d):g),[g,U]},Eu=function(r,t){var n=Qt(180),s=[];return Vt(t).forEach(function(d,g){if(g===0){var U=d[0];if(U.type===20&&U.value==="to"){n=ao(d);return}else if(no(U)){n=un.parse(r,U);return}}var L=pn(r,d);s.push(L)}),{angle:n,stops:s,type:1}},hn=function(r,t){var n=Qt(180),s=[];return Vt(t).forEach(function(d,g){if(g===0){var U=d[0];if(U.type===20&&["top","left","right","bottom"].indexOf(U.value)!==-1){n=ao(d);return}else if(no(U)){n=(un.parse(r,U)+Qt(270))%Qt(360);return}}var L=pn(r,d);s.push(L)}),{angle:n,stops:s,type:1}},Iu=function(r,t){var n=Qt(180),s=[],d=1,g=0,U=3,L=[];return Vt(t).forEach(function(O,X){var Y=O[0];if(X===0){if(TA(Y)&&Y.value==="linear"){d=1;return}else if(TA(Y)&&Y.value==="radial"){d=2;return}}if(Y.type===18){if(Y.name==="from"){var ne=xr.parse(r,Y.values[0]);s.push({stop:tt,color:ne})}else if(Y.name==="to"){var ne=xr.parse(r,Y.values[0]);s.push({stop:gr,color:ne})}else if(Y.name==="color-stop"){var we=Y.values.filter(Yr);if(we.length===2){var ne=xr.parse(r,we[1]),Ve=we[0];Jr(Ve)&&s.push({stop:{type:16,number:Ve.number*100,flags:Ve.flags},color:ne})}}}}),d===1?{angle:(n+Qt(180))%Qt(360),stops:s,type:d}:{size:U,shape:g,stops:s,position:L,type:d}},po="closest-side",ho="farthest-side",fo="closest-corner",mo="farthest-corner",go="circle",xo="ellipse",Bo="cover",wo="contain",Su=function(r,t){var n=0,s=3,d=[],g=[];return Vt(t).forEach(function(U,L){var O=!0;if(L===0){var X=!1;O=U.reduce(function(ne,we){if(X)if(TA(we))switch(we.value){case"center":return g.push(Ba),ne;case"top":case"left":return g.push(tt),ne;case"right":case"bottom":return g.push(gr),ne}else(WA(we)||mr(we))&&g.push(we);else if(TA(we))switch(we.value){case go:return n=0,!1;case xo:return n=1,!1;case"at":return X=!0,!1;case po:return s=0,!1;case Bo:case ho:return s=1,!1;case wo:case fo:return s=2,!1;case mo:return s=3,!1}else if(mr(we)||WA(we))return Array.isArray(s)||(s=[]),s.push(we),!1;return ne},O)}if(O){var Y=pn(r,U);d.push(Y)}}),{size:s,shape:n,stops:d,position:g,type:2}},fn=function(r,t){var n=0,s=3,d=[],g=[];return Vt(t).forEach(function(U,L){var O=!0;if(L===0?O=U.reduce(function(Y,ne){if(TA(ne))switch(ne.value){case"center":return g.push(Ba),!1;case"top":case"left":return g.push(tt),!1;case"right":case"bottom":return g.push(gr),!1}else if(WA(ne)||mr(ne))return g.push(ne),!1;return Y},O):L===1&&(O=U.reduce(function(Y,ne){if(TA(ne))switch(ne.value){case go:return n=0,!1;case xo:return n=1,!1;case wo:case po:return s=0,!1;case ho:return s=1,!1;case fo:return s=2,!1;case Bo:case mo:return s=3,!1}else if(mr(ne)||WA(ne))return Array.isArray(s)||(s=[]),s.push(ne),!1;return Y},O)),O){var X=pn(r,U);d.push(X)}}),{size:s,shape:n,stops:d,position:g,type:2}},Tu=function(r){return r.type===1},Du=function(r){return r.type===2},ya={name:"image",parse:function(r,t){if(t.type===22){var n={url:t.value,type:0};return r.cache.addImage(t.value),n}if(t.type===18){var s=yo[t.name];if(typeof s>"u")throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return s(r,t.values)}throw new Error("Unsupported image type "+t.type)}};function Hu(r){return!(r.type===20&&r.value==="none")&&(r.type!==18||!!yo[r.name])}var yo={"linear-gradient":Eu,"-moz-linear-gradient":hn,"-ms-linear-gradient":hn,"-o-linear-gradient":hn,"-webkit-linear-gradient":hn,"radial-gradient":Su,"-moz-radial-gradient":fn,"-ms-radial-gradient":fn,"-o-radial-gradient":fn,"-webkit-radial-gradient":fn,"-webkit-gradient":Iu},Ru={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t.filter(function(s){return Yr(s)&&Hu(s)}).map(function(s){return ya.parse(r,s)})}},Pu={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(r,t){return t.map(function(n){if(TA(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ou={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(r,t){return Vt(t).map(function(n){return n.filter(WA)}).map(eo)}},Lu={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(r,t){return Vt(t).map(function(n){return n.filter(TA).map(function(s){return s.value}).join(" ")}).map(ku)}},ku=function(r){switch(r){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},zr;(function(r){r.AUTO="auto",r.CONTAIN="contain",r.COVER="cover"})(zr||(zr={}));var Mu={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(r,t){return Vt(t).map(function(n){return n.filter(Ku)})}},Ku=function(r){return TA(r)||WA(r)},mn=function(r){return{name:"border-"+r+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gu=mn("top"),Vu=mn("right"),_u=mn("bottom"),$u=mn("left"),gn=function(r){return{name:"border-radius-"+r,initialValue:"0 0",prefix:!1,type:1,parse:function(t,n){return eo(n.filter(WA))}}},Wu=gn("top-left"),Xu=gn("top-right"),Ju=gn("bottom-right"),Yu=gn("bottom-left"),xn=function(r){return{name:"border-"+r+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},zu=xn("top"),Zu=xn("right"),qu=xn("bottom"),ep=xn("left"),Bn=function(r){return{name:"border-"+r+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,n){return Fs(n)?n.number:0}}},Ap=Bn("top"),tp=Bn("right"),rp=Bn("bottom"),sp=Bn("left"),np={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ap={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(r,t){switch(t){case"rtl":return 1;case"ltr":default:return 0}}},ip={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(r,t){return t.filter(TA).reduce(function(n,s){return n|op(s.value)},0)}},op=function(r){switch(r){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},lp={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},cp={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(r,t){return t.type===20&&t.value==="normal"?0:t.type===17||t.type===15?t.number:0}},wn;(function(r){r.NORMAL="normal",r.STRICT="strict"})(wn||(wn={}));var dp={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"strict":return wn.STRICT;case"normal":default:return wn.NORMAL}}},up={name:"line-height",initialValue:"normal",prefix:!1,type:4},bo=function(r,t){return TA(r)&&r.value==="normal"?1.2*t:r.type===17?t*r.number:WA(r)?HA(r,t):t},pp={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(r,t){return t.type===20&&t.value==="none"?null:ya.parse(r,t)}},hp={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(r,t){switch(t){case"inside":return 0;case"outside":default:return 1}}},ba={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},yn=function(r){return{name:"margin-"+r,initialValue:"0",prefix:!1,type:4}},fp=yn("top"),mp=yn("right"),gp=yn("bottom"),xp=yn("left"),Bp={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(r,t){return t.filter(TA).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},wp={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-word":return"break-word";case"normal":default:return"normal"}}},bn=function(r){return{name:"padding-"+r,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},yp=bn("top"),bp=bn("right"),vp=bn("bottom"),Cp=bn("left"),jp={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(r,t){switch(t){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Qp={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(r,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Fp={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&xa(t[0],"none")?[]:Vt(t).map(function(n){for(var s={color:tr.TRANSPARENT,offsetX:tt,offsetY:tt,blur:tt},d=0,g=0;g<n.length;g++){var U=n[g];mr(U)?(d===0?s.offsetX=U:d===1?s.offsetY=U:s.blur=U,d++):s.color=xr.parse(r,U)}return s})}},Np={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Up={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(r,t){if(t.type===20&&t.value==="none")return null;if(t.type===18){var n=Sp[t.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},Ep=function(r){var t=r.filter(function(n){return n.type===17}).map(function(n){return n.number});return t.length===6?t:null},Ip=function(r){var t=r.filter(function(O){return O.type===17}).map(function(O){return O.number}),n=t[0],s=t[1];t[2],t[3];var d=t[4],g=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var U=t[12],L=t[13];return t[14],t[15],t.length===16?[n,s,d,g,U,L]:null},Sp={matrix:Ep,matrix3d:Ip},vo={type:16,number:50,flags:$A},Tp=[vo,vo],Dp={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(r,t){var n=t.filter(WA);return n.length!==2?Tp:[n[0],n[1]]}},Hp={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(r,t){switch(t){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Es;(function(r){r.NORMAL="normal",r.BREAK_ALL="break-all",r.KEEP_ALL="keep-all"})(Es||(Es={}));for(var Rp={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"break-all":return Es.BREAK_ALL;case"keep-all":return Es.KEEP_ALL;case"normal":default:return Es.NORMAL}}},Pp={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(r,t){if(t.type===20)return{auto:!0,order:0};if(Jr(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Co={name:"time",parse:function(r,t){if(t.type===15)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Op={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(r,t){return Jr(t)?t.number:1}},Lp={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},kp={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(r,t){return t.filter(TA).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},Mp={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(r,t){var n=[],s=[];return t.forEach(function(d){switch(d.type){case 20:case 0:n.push(d.value);break;case 17:n.push(d.number.toString());break;case 4:s.push(n.join(" ")),n.length=0;break}}),n.length&&s.push(n.join(" ")),s.map(function(d){return d.indexOf(" ")===-1?d:"'"+d+"'"})}},Kp={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Gp={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(r,t){if(Jr(t))return t.number;if(TA(t))switch(t.value){case"bold":return 700;case"normal":default:return 400}return 400}},Vp={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.filter(TA).map(function(n){return n.value})}},_p={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(r,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},YA=function(r,t){return(r&t)!==0},$p={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(r,t){if(t.length===0)return[];var n=t[0];return n.type===20&&n.value==="none"?[]:t}},Wp={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;for(var s=[],d=t.filter(qi),g=0;g<d.length;g++){var U=d[g],L=d[g+1];if(U.type===20){var O=L&&Jr(L)?L.number:1;s.push({counter:U.value,increment:O})}}return s}},Xp={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return[];for(var n=[],s=t.filter(qi),d=0;d<s.length;d++){var g=s[d],U=s[d+1];if(TA(g)&&g.value!=="none"){var L=U&&Jr(U)?U.number:0;n.push({counter:g.value,reset:L})}}return n}},Jp={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(r,t){return t.filter(Fs).map(function(n){return Co.parse(r,n)})}},Yp={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(r,t){if(t.length===0)return null;var n=t[0];if(n.type===20&&n.value==="none")return null;var s=[],d=t.filter(bu);if(d.length%2!==0)return null;for(var g=0;g<d.length;g+=2){var U=d[g].value,L=d[g+1].value;s.push({open:U,close:L})}return s}},jo=function(r,t,n){if(!r)return"";var s=r[Math.min(t,r.length-1)];return s?n?s.open:s.close:""},zp={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(r,t){return t.length===1&&xa(t[0],"none")?[]:Vt(t).map(function(n){for(var s={color:255,offsetX:tt,offsetY:tt,blur:tt,spread:tt,inset:!1},d=0,g=0;g<n.length;g++){var U=n[g];xa(U,"inset")?s.inset=!0:mr(U)?(d===0?s.offsetX=U:d===1?s.offsetY=U:d===2?s.blur=U:s.spread=U,d++):s.color=xr.parse(r,U)}return s})}},Zp={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(r,t){var n=[0,1,2],s=[];return t.filter(TA).forEach(function(d){switch(d.value){case"stroke":s.push(1);break;case"fill":s.push(0);break;case"markers":s.push(2);break}}),n.forEach(function(d){s.indexOf(d)===-1&&s.push(d)}),s}},qp={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},eh={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(r,t){return Fs(t)?t.number:0}},Ah=(function(){function r(t,n){var s,d;this.animationDuration=_e(t,Jp,n.animationDuration),this.backgroundClip=_e(t,ju,n.backgroundClip),this.backgroundColor=_e(t,Qu,n.backgroundColor),this.backgroundImage=_e(t,Ru,n.backgroundImage),this.backgroundOrigin=_e(t,Pu,n.backgroundOrigin),this.backgroundPosition=_e(t,Ou,n.backgroundPosition),this.backgroundRepeat=_e(t,Lu,n.backgroundRepeat),this.backgroundSize=_e(t,Mu,n.backgroundSize),this.borderTopColor=_e(t,Gu,n.borderTopColor),this.borderRightColor=_e(t,Vu,n.borderRightColor),this.borderBottomColor=_e(t,_u,n.borderBottomColor),this.borderLeftColor=_e(t,$u,n.borderLeftColor),this.borderTopLeftRadius=_e(t,Wu,n.borderTopLeftRadius),this.borderTopRightRadius=_e(t,Xu,n.borderTopRightRadius),this.borderBottomRightRadius=_e(t,Ju,n.borderBottomRightRadius),this.borderBottomLeftRadius=_e(t,Yu,n.borderBottomLeftRadius),this.borderTopStyle=_e(t,zu,n.borderTopStyle),this.borderRightStyle=_e(t,Zu,n.borderRightStyle),this.borderBottomStyle=_e(t,qu,n.borderBottomStyle),this.borderLeftStyle=_e(t,ep,n.borderLeftStyle),this.borderTopWidth=_e(t,Ap,n.borderTopWidth),this.borderRightWidth=_e(t,tp,n.borderRightWidth),this.borderBottomWidth=_e(t,rp,n.borderBottomWidth),this.borderLeftWidth=_e(t,sp,n.borderLeftWidth),this.boxShadow=_e(t,zp,n.boxShadow),this.color=_e(t,np,n.color),this.direction=_e(t,ap,n.direction),this.display=_e(t,ip,n.display),this.float=_e(t,lp,n.cssFloat),this.fontFamily=_e(t,Mp,n.fontFamily),this.fontSize=_e(t,Kp,n.fontSize),this.fontStyle=_e(t,_p,n.fontStyle),this.fontVariant=_e(t,Vp,n.fontVariant),this.fontWeight=_e(t,Gp,n.fontWeight),this.letterSpacing=_e(t,cp,n.letterSpacing),this.lineBreak=_e(t,dp,n.lineBreak),this.lineHeight=_e(t,up,n.lineHeight),this.listStyleImage=_e(t,pp,n.listStyleImage),this.listStylePosition=_e(t,hp,n.listStylePosition),this.listStyleType=_e(t,ba,n.listStyleType),this.marginTop=_e(t,fp,n.marginTop),this.marginRight=_e(t,mp,n.marginRight),this.marginBottom=_e(t,gp,n.marginBottom),this.marginLeft=_e(t,xp,n.marginLeft),this.opacity=_e(t,Op,n.opacity);var g=_e(t,Bp,n.overflow);this.overflowX=g[0],this.overflowY=g[g.length>1?1:0],this.overflowWrap=_e(t,wp,n.overflowWrap),this.paddingTop=_e(t,yp,n.paddingTop),this.paddingRight=_e(t,bp,n.paddingRight),this.paddingBottom=_e(t,vp,n.paddingBottom),this.paddingLeft=_e(t,Cp,n.paddingLeft),this.paintOrder=_e(t,Zp,n.paintOrder),this.position=_e(t,Qp,n.position),this.textAlign=_e(t,jp,n.textAlign),this.textDecorationColor=_e(t,Lp,(s=n.textDecorationColor)!==null&&s!==void 0?s:n.color),this.textDecorationLine=_e(t,kp,(d=n.textDecorationLine)!==null&&d!==void 0?d:n.textDecoration),this.textShadow=_e(t,Fp,n.textShadow),this.textTransform=_e(t,Np,n.textTransform),this.transform=_e(t,Up,n.transform),this.transformOrigin=_e(t,Dp,n.transformOrigin),this.visibility=_e(t,Hp,n.visibility),this.webkitTextStrokeColor=_e(t,qp,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=_e(t,eh,n.webkitTextStrokeWidth),this.wordBreak=_e(t,Rp,n.wordBreak),this.zIndex=_e(t,Pp,n.zIndex)}return r.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},r.prototype.isTransparent=function(){return Br(this.backgroundColor)},r.prototype.isTransformed=function(){return this.transform!==null},r.prototype.isPositioned=function(){return this.position!==0},r.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},r.prototype.isFloating=function(){return this.float!==0},r.prototype.isInlineLevel=function(){return YA(this.display,4)||YA(this.display,33554432)||YA(this.display,268435456)||YA(this.display,536870912)||YA(this.display,67108864)||YA(this.display,134217728)},r})(),th=(function(){function r(t,n){this.content=_e(t,$p,n.content),this.quotes=_e(t,Yp,n.quotes)}return r})(),Qo=(function(){function r(t,n){this.counterIncrement=_e(t,Wp,n.counterIncrement),this.counterReset=_e(t,Xp,n.counterReset)}return r})(),_e=function(r,t,n){var s=new zi,d=n!==null&&typeof n<"u"?n.toString():t.initialValue;s.write(d);var g=new Zi(s.read());switch(t.type){case 2:var U=g.parseComponentValue();return t.parse(r,TA(U)?U.value:t.initialValue);case 0:return t.parse(r,g.parseComponentValue());case 1:return t.parse(r,g.parseComponentValues());case 4:return g.parseComponentValue();case 3:switch(t.format){case"angle":return un.parse(r,g.parseComponentValue());case"color":return xr.parse(r,g.parseComponentValue());case"image":return ya.parse(r,g.parseComponentValue());case"length":var L=g.parseComponentValue();return mr(L)?L:tt;case"length-percentage":var O=g.parseComponentValue();return WA(O)?O:tt;case"time":return Co.parse(r,g.parseComponentValue())}break}},rh="data-html2canvas-debug",sh=function(r){var t=r.getAttribute(rh);switch(t){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},va=function(r,t){var n=sh(r);return n===1||t===n},_t=(function(){function r(t,n){if(this.context=t,this.textNodes=[],this.elements=[],this.flags=0,va(n,3))debugger;this.styles=new Ah(t,window.getComputedStyle(n,null)),Pa(n)&&(this.styles.animationDuration.some(function(s){return s>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=j(this.context,n),va(n,4)&&(this.flags|=16)}return r})(),nh="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Fo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Is=typeof Uint8Array>"u"?[]:new Uint8Array(256),vn=0;vn<Fo.length;vn++)Is[Fo.charCodeAt(vn)]=vn;for(var ah=function(r){var t=r.length*.75,n=r.length,s,d=0,g,U,L,O;r[r.length-1]==="="&&(t--,r[r.length-2]==="="&&t--);var X=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(t):new Array(t),Y=Array.isArray(X)?X:new Uint8Array(X);for(s=0;s<n;s+=4)g=Is[r.charCodeAt(s)],U=Is[r.charCodeAt(s+1)],L=Is[r.charCodeAt(s+2)],O=Is[r.charCodeAt(s+3)],Y[d++]=g<<2|U>>4,Y[d++]=(U&15)<<4|L>>2,Y[d++]=(L&3)<<6|O&63;return X},ih=function(r){for(var t=r.length,n=[],s=0;s<t;s+=2)n.push(r[s+1]<<8|r[s]);return n},oh=function(r){for(var t=r.length,n=[],s=0;s<t;s+=4)n.push(r[s+3]<<24|r[s+2]<<16|r[s+1]<<8|r[s]);return n},Sr=5,Ca=11,ja=2,lh=Ca-Sr,No=65536>>Sr,ch=1<<Sr,Qa=ch-1,dh=1024>>Sr,uh=No+dh,ph=uh,hh=32,fh=ph+hh,mh=65536>>Ca,gh=1<<lh,xh=gh-1,Uo=function(r,t,n){return r.slice?r.slice(t,n):new Uint16Array(Array.prototype.slice.call(r,t,n))},Bh=function(r,t,n){return r.slice?r.slice(t,n):new Uint32Array(Array.prototype.slice.call(r,t,n))},wh=function(r,t){var n=ah(r),s=Array.isArray(n)?oh(n):new Uint32Array(n),d=Array.isArray(n)?ih(n):new Uint16Array(n),g=24,U=Uo(d,g/2,s[4]/2),L=s[5]===2?Uo(d,(g+s[4])/2):Bh(s,Math.ceil((g+s[4])/4));return new yh(s[0],s[1],s[2],s[3],U,L)},yh=(function(){function r(t,n,s,d,g,U){this.initialValue=t,this.errorValue=n,this.highStart=s,this.highValueIndex=d,this.index=g,this.data=U}return r.prototype.get=function(t){var n;if(t>=0){if(t<55296||t>56319&&t<=65535)return n=this.index[t>>Sr],n=(n<<ja)+(t&Qa),this.data[n];if(t<=65535)return n=this.index[No+(t-55296>>Sr)],n=(n<<ja)+(t&Qa),this.data[n];if(t<this.highStart)return n=fh-mh+(t>>Ca),n=this.index[n],n+=t>>Sr&xh,n=this.index[n],n=(n<<ja)+(t&Qa),this.data[n];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},r})(),Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bh=typeof Uint8Array>"u"?[]:new Uint8Array(256),Cn=0;Cn<Eo.length;Cn++)bh[Eo.charCodeAt(Cn)]=Cn;var vh=1,Fa=2,Na=3,Io=4,So=5,Ch=7,To=8,Ua=9,Ea=10,Do=11,Ho=12,Ro=13,Po=14,Ia=15,jh=function(r){for(var t=[],n=0,s=r.length;n<s;){var d=r.charCodeAt(n++);if(d>=55296&&d<=56319&&n<s){var g=r.charCodeAt(n++);(g&64512)===56320?t.push(((d&1023)<<10)+(g&1023)+65536):(t.push(d),n--)}else t.push(d)}return t},Qh=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,r);var n=r.length;if(!n)return"";for(var s=[],d=-1,g="";++d<n;){var U=r[d];U<=65535?s.push(U):(U-=65536,s.push((U>>10)+55296,U%1024+56320)),(d+1===n||s.length>16384)&&(g+=String.fromCharCode.apply(String,s),s.length=0)}return g},Fh=wh(nh),Ft="",Sa="",Nh=function(r){return Fh.get(r)},Uh=function(r,t,n){var s=n-2,d=t[s],g=t[n-1],U=t[n];if(g===Fa&&U===Na)return Ft;if(g===Fa||g===Na||g===Io||U===Fa||U===Na||U===Io)return Sa;if(g===To&&[To,Ua,Do,Ho].indexOf(U)!==-1||(g===Do||g===Ua)&&(U===Ua||U===Ea)||(g===Ho||g===Ea)&&U===Ea||U===Ro||U===So||U===Ch||g===vh)return Ft;if(g===Ro&&U===Po){for(;d===So;)d=t[--s];if(d===Po)return Ft}if(g===Ia&&U===Ia){for(var L=0;d===Ia;)L++,d=t[--s];if(L%2===0)return Ft}return Sa},Eh=function(r){var t=jh(r),n=t.length,s=0,d=0,g=t.map(Nh);return{next:function(){if(s>=n)return{done:!0,value:null};for(var U=Ft;s<n&&(U=Uh(t,g,++s))===Ft;);if(U!==Ft||s===n){var L=Qh.apply(null,t.slice(d,s));return d=s,{value:L,done:!1}}return{done:!0,value:null}}}},Ih=function(r){for(var t=Eh(r),n=[],s;!(s=t.next()).done;)s.value&&n.push(s.value.slice());return n},Sh=function(r){var t=123;if(r.createRange){var n=r.createRange();if(n.getBoundingClientRect){var s=r.createElement("boundtest");s.style.height=t+"px",s.style.display="block",r.body.appendChild(s),n.selectNode(s);var d=n.getBoundingClientRect(),g=Math.round(d.height);if(r.body.removeChild(s),g===t)return!0}}return!1},Th=function(r){var t=r.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",r.body.appendChild(t);var n=r.createRange();t.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var s=t.firstChild,d=B(s.data).map(function(O){return h(O)}),g=0,U={},L=d.every(function(O,X){n.setStart(s,g),n.setEnd(s,g+O.length);var Y=n.getBoundingClientRect();g+=O.length;var ne=Y.x>U.x||Y.y>U.y;return U=Y,X===0?!0:ne});return r.body.removeChild(t),L},Dh=function(){return typeof new Image().crossOrigin<"u"},Hh=function(){return typeof new XMLHttpRequest().responseType=="string"},Rh=function(r){var t=new Image,n=r.createElement("canvas"),s=n.getContext("2d");if(!s)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{s.drawImage(t,0,0),n.toDataURL()}catch{return!1}return!0},Oo=function(r){return r[0]===0&&r[1]===255&&r[2]===0&&r[3]===255},Ph=function(r){var t=r.createElement("canvas"),n=100;t.width=n,t.height=n;var s=t.getContext("2d");if(!s)return Promise.reject(!1);s.fillStyle="rgb(0, 255, 0)",s.fillRect(0,0,n,n);var d=new Image,g=t.toDataURL();d.src=g;var U=Ta(n,n,0,0,d);return s.fillStyle="red",s.fillRect(0,0,n,n),Lo(U).then(function(L){s.drawImage(L,0,0);var O=s.getImageData(0,0,n,n).data;s.fillStyle="red",s.fillRect(0,0,n,n);var X=r.createElement("div");return X.style.backgroundImage="url("+g+")",X.style.height=n+"px",Oo(O)?Lo(Ta(n,n,0,0,X)):Promise.reject(!1)}).then(function(L){return s.drawImage(L,0,0),Oo(s.getImageData(0,0,n,n).data)}).catch(function(){return!1})},Ta=function(r,t,n,s,d){var g="http://www.w3.org/2000/svg",U=document.createElementNS(g,"svg"),L=document.createElementNS(g,"foreignObject");return U.setAttributeNS(null,"width",r.toString()),U.setAttributeNS(null,"height",t.toString()),L.setAttributeNS(null,"width","100%"),L.setAttributeNS(null,"height","100%"),L.setAttributeNS(null,"x",n.toString()),L.setAttributeNS(null,"y",s.toString()),L.setAttributeNS(null,"externalResourcesRequired","true"),U.appendChild(L),L.appendChild(d),U},Lo=function(r){return new Promise(function(t,n){var s=new Image;s.onload=function(){return t(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},rt={get SUPPORT_RANGE_BOUNDS(){var r=Sh(document);return Object.defineProperty(rt,"SUPPORT_RANGE_BOUNDS",{value:r}),r},get SUPPORT_WORD_BREAKING(){var r=rt.SUPPORT_RANGE_BOUNDS&&Th(document);return Object.defineProperty(rt,"SUPPORT_WORD_BREAKING",{value:r}),r},get SUPPORT_SVG_DRAWING(){var r=Rh(document);return Object.defineProperty(rt,"SUPPORT_SVG_DRAWING",{value:r}),r},get SUPPORT_FOREIGNOBJECT_DRAWING(){var r=typeof Array.from=="function"&&typeof window.fetch=="function"?Ph(document):Promise.resolve(!1);return Object.defineProperty(rt,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:r}),r},get SUPPORT_CORS_IMAGES(){var r=Dh();return Object.defineProperty(rt,"SUPPORT_CORS_IMAGES",{value:r}),r},get SUPPORT_RESPONSE_TYPE(){var r=Hh();return Object.defineProperty(rt,"SUPPORT_RESPONSE_TYPE",{value:r}),r},get SUPPORT_CORS_XHR(){var r="withCredentials"in new XMLHttpRequest;return Object.defineProperty(rt,"SUPPORT_CORS_XHR",{value:r}),r},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var r=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(rt,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:r}),r}},Ss=(function(){function r(t,n){this.text=t,this.bounds=n}return r})(),Oh=function(r,t,n,s){var d=Mh(t,n),g=[],U=0;return d.forEach(function(L){if(n.textDecorationLine.length||L.trim().length>0)if(rt.SUPPORT_RANGE_BOUNDS){var O=ko(s,U,L.length).getClientRects();if(O.length>1){var X=Da(L),Y=0;X.forEach(function(we){g.push(new Ss(we,u.fromDOMRectList(r,ko(s,Y+U,we.length).getClientRects()))),Y+=we.length})}else g.push(new Ss(L,u.fromDOMRectList(r,O)))}else{var ne=s.splitText(L.length);g.push(new Ss(L,Lh(r,s))),s=ne}else rt.SUPPORT_RANGE_BOUNDS||(s=s.splitText(L.length));U+=L.length}),g},Lh=function(r,t){var n=t.ownerDocument;if(n){var s=n.createElement("html2canvaswrapper");s.appendChild(t.cloneNode(!0));var d=t.parentNode;if(d){d.replaceChild(s,t);var g=j(r,s);return s.firstChild&&d.replaceChild(s.firstChild,s),g}}return u.EMPTY},ko=function(r,t,n){var s=r.ownerDocument;if(!s)throw new Error("Node has no owner document");var d=s.createRange();return d.setStart(r,t),d.setEnd(r,t+n),d},Da=function(r){if(rt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(r)).map(function(n){return n.segment})}return Ih(r)},kh=function(r,t){if(rt.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(r)).map(function(s){return s.segment})}return Gh(r,t)},Mh=function(r,t){return t.letterSpacing!==0?Da(r):kh(r,t)},Kh=[32,160,4961,65792,65793,4153,4241],Gh=function(r,t){for(var n=yt(r,{lineBreak:t.lineBreak,wordBreak:t.overflowWrap==="break-word"?"break-word":t.wordBreak}),s=[],d,g=function(){if(d.value){var U=d.value.slice(),L=B(U),O="";L.forEach(function(X){Kh.indexOf(X)===-1?O+=h(X):(O.length&&s.push(O),s.push(h(X)),O="")}),O.length&&s.push(O)}};!(d=n.next()).done;)g();return s},Vh=(function(){function r(t,n,s){this.text=_h(n.data,s.textTransform),this.textBounds=Oh(t,this.text,s,n)}return r})(),_h=function(r,t){switch(t){case 1:return r.toLowerCase();case 3:return r.replace($h,Wh);case 2:return r.toUpperCase();default:return r}},$h=/(^|\s|:|-|\(|\))([a-z])/g,Wh=function(r,t,n){return r.length>0?t+n.toUpperCase():r},Mo=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d.src=s.currentSrc||s.src,d.intrinsicWidth=s.naturalWidth,d.intrinsicHeight=s.naturalHeight,d.context.cache.addImage(d.src),d}return t})(_t),Ko=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d.canvas=s,d.intrinsicWidth=s.width,d.intrinsicHeight=s.height,d}return t})(_t),Go=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this,g=new XMLSerializer,U=j(n,s);return s.setAttribute("width",U.width+"px"),s.setAttribute("height",U.height+"px"),d.svg="data:image/svg+xml,"+encodeURIComponent(g.serializeToString(s)),d.intrinsicWidth=s.width.baseVal.value,d.intrinsicHeight=s.height.baseVal.value,d.context.cache.addImage(d.svg),d}return t})(_t),Vo=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d.value=s.value,d}return t})(_t),Ha=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d.start=s.start,d.reversed=typeof s.reversed=="boolean"&&s.reversed===!0,d}return t})(_t),Xh=[{type:15,flags:0,unit:"px",number:3}],Jh=[{type:16,flags:0,number:50}],Yh=function(r){return r.width>r.height?new u(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new u(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r},zh=function(r){var t=r.type===Zh?new Array(r.value.length+1).join(""):r.value;return t.length===0?r.placeholder||"":t},jn="checkbox",Qn="radio",Zh="password",_o=707406591,Ra=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;switch(d.type=s.type.toLowerCase(),d.checked=s.checked,d.value=zh(s),(d.type===jn||d.type===Qn)&&(d.styles.backgroundColor=3739148031,d.styles.borderTopColor=d.styles.borderRightColor=d.styles.borderBottomColor=d.styles.borderLeftColor=2779096575,d.styles.borderTopWidth=d.styles.borderRightWidth=d.styles.borderBottomWidth=d.styles.borderLeftWidth=1,d.styles.borderTopStyle=d.styles.borderRightStyle=d.styles.borderBottomStyle=d.styles.borderLeftStyle=1,d.styles.backgroundClip=[0],d.styles.backgroundOrigin=[0],d.bounds=Yh(d.bounds)),d.type){case jn:d.styles.borderTopRightRadius=d.styles.borderTopLeftRadius=d.styles.borderBottomRightRadius=d.styles.borderBottomLeftRadius=Xh;break;case Qn:d.styles.borderTopRightRadius=d.styles.borderTopLeftRadius=d.styles.borderBottomRightRadius=d.styles.borderBottomLeftRadius=Jh;break}return d}return t})(_t),$o=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this,g=s.options[s.selectedIndex||0];return d.value=g&&g.text||"",d}return t})(_t),Wo=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d.value=s.value,d}return t})(_t),Xo=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;d.src=s.src,d.width=parseInt(s.width,10)||0,d.height=parseInt(s.height,10)||0,d.backgroundColor=d.styles.backgroundColor;try{if(s.contentWindow&&s.contentWindow.document&&s.contentWindow.document.documentElement){d.tree=Yo(n,s.contentWindow.document.documentElement);var g=s.contentWindow.document.documentElement?Us(n,getComputedStyle(s.contentWindow.document.documentElement).backgroundColor):tr.TRANSPARENT,U=s.contentWindow.document.body?Us(n,getComputedStyle(s.contentWindow.document.body).backgroundColor):tr.TRANSPARENT;d.backgroundColor=Br(g)?Br(U)?d.styles.backgroundColor:U:g}}catch{}return d}return t})(_t),qh=["OL","UL","MENU"],Fn=function(r,t,n,s){for(var d=t.firstChild,g=void 0;d;d=g)if(g=d.nextSibling,zo(d)&&d.data.trim().length>0)n.textNodes.push(new Vh(r,d,n.styles));else if(Zr(d))if(rl(d)&&d.assignedNodes)d.assignedNodes().forEach(function(L){return Fn(r,L,n,s)});else{var U=Jo(r,d);U.styles.isVisible()&&(ef(d,U,s)?U.flags|=4:Af(U.styles)&&(U.flags|=2),qh.indexOf(d.tagName)!==-1&&(U.flags|=8),n.elements.push(U),d.slot,d.shadowRoot?Fn(r,d.shadowRoot,U,s):!Un(d)&&!Zo(d)&&!En(d)&&Fn(r,d,U,s))}},Jo=function(r,t){return La(t)?new Mo(r,t):qo(t)?new Ko(r,t):Zo(t)?new Go(r,t):tf(t)?new Vo(r,t):rf(t)?new Ha(r,t):sf(t)?new Ra(r,t):En(t)?new $o(r,t):Un(t)?new Wo(r,t):Al(t)?new Xo(r,t):new _t(r,t)},Yo=function(r,t){var n=Jo(r,t);return n.flags|=4,Fn(r,t,n,n),n},ef=function(r,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Oa(r)&&n.styles.isTransparent()},Af=function(r){return r.isPositioned()||r.isFloating()},zo=function(r){return r.nodeType===Node.TEXT_NODE},Zr=function(r){return r.nodeType===Node.ELEMENT_NODE},Pa=function(r){return Zr(r)&&typeof r.style<"u"&&!Nn(r)},Nn=function(r){return typeof r.className=="object"},tf=function(r){return r.tagName==="LI"},rf=function(r){return r.tagName==="OL"},sf=function(r){return r.tagName==="INPUT"},nf=function(r){return r.tagName==="HTML"},Zo=function(r){return r.tagName==="svg"},Oa=function(r){return r.tagName==="BODY"},qo=function(r){return r.tagName==="CANVAS"},el=function(r){return r.tagName==="VIDEO"},La=function(r){return r.tagName==="IMG"},Al=function(r){return r.tagName==="IFRAME"},tl=function(r){return r.tagName==="STYLE"},af=function(r){return r.tagName==="SCRIPT"},Un=function(r){return r.tagName==="TEXTAREA"},En=function(r){return r.tagName==="SELECT"},rl=function(r){return r.tagName==="SLOT"},sl=function(r){return r.tagName.indexOf("-")>0},of=(function(){function r(){this.counters={}}return r.prototype.getCounterValue=function(t){var n=this.counters[t];return n&&n.length?n[n.length-1]:1},r.prototype.getCounterValues=function(t){var n=this.counters[t];return n||[]},r.prototype.pop=function(t){var n=this;t.forEach(function(s){return n.counters[s].pop()})},r.prototype.parse=function(t){var n=this,s=t.counterIncrement,d=t.counterReset,g=!0;s!==null&&s.forEach(function(L){var O=n.counters[L.counter];O&&L.increment!==0&&(g=!1,O.length||O.push(1),O[Math.max(0,O.length-1)]+=L.increment)});var U=[];return g&&d.forEach(function(L){var O=n.counters[L.counter];U.push(L.counter),O||(O=n.counters[L.counter]=[]),O.push(L.reset)}),U},r})(),nl={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},al={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},lf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},cf={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},qr=function(r,t,n,s,d,g){return r<t||r>n?Ds(r,d,g.length>0):s.integers.reduce(function(U,L,O){for(;r>=L;)r-=L,U+=s.values[O];return U},"")+g},il=function(r,t,n,s){var d="";do n||r--,d=s(r)+d,r/=t;while(r*t>=t);return d},VA=function(r,t,n,s,d){var g=n-t+1;return(r<0?"-":"")+(il(Math.abs(r),g,s,function(U){return h(Math.floor(U%g)+t)})+d)},Tr=function(r,t,n){n===void 0&&(n=". ");var s=t.length;return il(Math.abs(r),s,!1,function(d){return t[Math.floor(d%s)]})+n},es=1,yr=2,br=4,Ts=8,rr=function(r,t,n,s,d,g){if(r<-9999||r>9999)return Ds(r,4,d.length>0);var U=Math.abs(r),L=d;if(U===0)return t[0]+L;for(var O=0;U>0&&O<=4;O++){var X=U%10;X===0&&YA(g,es)&&L!==""?L=t[X]+L:X>1||X===1&&O===0||X===1&&O===1&&YA(g,yr)||X===1&&O===1&&YA(g,br)&&r>100||X===1&&O>1&&YA(g,Ts)?L=t[X]+(O>0?n[O-1]:"")+L:X===1&&O>0&&(L=n[O-1]+L),U=Math.floor(U/10)}return(r<0?s:"")+L},ol="",ll="",cl="",ka="",Ds=function(r,t,n){var s=n?". ":"",d=n?"":"",g=n?", ":"",U=n?" ":"";switch(t){case 0:return""+U;case 1:return""+U;case 2:return""+U;case 5:var L=VA(r,48,57,!0,s);return L.length<4?"0"+L:L;case 4:return Tr(r,"",d);case 6:return qr(r,1,3999,nl,3,s).toLowerCase();case 7:return qr(r,1,3999,nl,3,s);case 8:return VA(r,945,969,!1,s);case 9:return VA(r,97,122,!1,s);case 10:return VA(r,65,90,!1,s);case 11:return VA(r,1632,1641,!0,s);case 12:case 49:return qr(r,1,9999,al,3,s);case 35:return qr(r,1,9999,al,3,s).toLowerCase();case 13:return VA(r,2534,2543,!0,s);case 14:case 30:return VA(r,6112,6121,!0,s);case 15:return Tr(r,"",d);case 16:return Tr(r,"",d);case 17:case 48:return rr(r,"",ol,"",d,yr|br|Ts);case 47:return rr(r,"",ll,"",d,es|yr|br|Ts);case 42:return rr(r,"",ol,"",d,yr|br|Ts);case 41:return rr(r,"",ll,"",d,es|yr|br|Ts);case 26:return rr(r,"","",cl,d,0);case 25:return rr(r,"","",cl,d,es|yr|br);case 31:return rr(r,"","",ka,g,es|yr|br);case 33:return rr(r,"","",ka,g,0);case 32:return rr(r,"","",ka,g,es|yr|br);case 18:return VA(r,2406,2415,!0,s);case 20:return qr(r,1,19999,cf,3,s);case 21:return VA(r,2790,2799,!0,s);case 22:return VA(r,2662,2671,!0,s);case 22:return qr(r,1,10999,lf,3,s);case 23:return Tr(r,"");case 24:return Tr(r,"");case 27:return VA(r,3302,3311,!0,s);case 28:return Tr(r,"",d);case 29:return Tr(r,"",d);case 34:return VA(r,3792,3801,!0,s);case 37:return VA(r,6160,6169,!0,s);case 38:return VA(r,4160,4169,!0,s);case 39:return VA(r,2918,2927,!0,s);case 40:return VA(r,1776,1785,!0,s);case 43:return VA(r,3046,3055,!0,s);case 44:return VA(r,3174,3183,!0,s);case 45:return VA(r,3664,3673,!0,s);case 46:return VA(r,3872,3881,!0,s);case 3:default:return VA(r,48,57,!0,s)}},dl="data-html2canvas-ignore",ul=(function(){function r(t,n,s){if(this.context=t,this.options=s,this.scrolledElements=[],this.referenceElement=n,this.counters=new of,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return r.prototype.toIFrame=function(t,n){var s=this,d=df(t,n);if(!d.contentWindow)return Promise.reject("Unable to find iframe window");var g=t.defaultView.pageXOffset,U=t.defaultView.pageYOffset,L=d.contentWindow,O=L.document,X=hf(d).then(function(){return f(s,void 0,void 0,function(){var Y,ne;return x(this,function(we){switch(we.label){case 0:return this.scrolledElements.forEach(xf),L&&(L.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(L.scrollY!==n.top||L.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(L.scrollX-n.left,L.scrollY-n.top,0,0))),Y=this.options.onclone,ne=this.clonedReferenceElement,typeof ne>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:O.fonts&&O.fonts.ready?[4,O.fonts.ready]:[3,2];case 1:we.sent(),we.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,pf(O)]:[3,4];case 3:we.sent(),we.label=4;case 4:return typeof Y=="function"?[2,Promise.resolve().then(function(){return Y(O,ne)}).then(function(){return d})]:[2,d]}})})});return O.open(),O.write(mf(document.doctype)+"<html></html>"),gf(this.referenceElement.ownerDocument,g,U),O.replaceChild(O.adoptNode(this.documentElement),O.documentElement),O.close(),X},r.prototype.createElementClone=function(t){if(va(t,2))debugger;if(qo(t))return this.createCanvasClone(t);if(el(t))return this.createVideoClone(t);if(tl(t))return this.createStyleClone(t);var n=t.cloneNode(!1);return La(n)&&(La(t)&&t.currentSrc&&t.currentSrc!==t.src&&(n.src=t.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),sl(n)?this.createCustomElementClone(n):n},r.prototype.createCustomElementClone=function(t){var n=document.createElement("html2canvascustomelement");return Ma(t.style,n),n},r.prototype.createStyleClone=function(t){try{var n=t.sheet;if(n&&n.cssRules){var s=[].slice.call(n.cssRules,0).reduce(function(g,U){return U&&typeof U.cssText=="string"?g+U.cssText:g},""),d=t.cloneNode(!1);return d.textContent=s,d}}catch(g){if(this.context.logger.error("Unable to access cssRules property",g),g.name!=="SecurityError")throw g}return t.cloneNode(!1)},r.prototype.createCanvasClone=function(t){var n;if(this.options.inlineImages&&t.ownerDocument){var s=t.ownerDocument.createElement("img");try{return s.src=t.toDataURL(),s}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var d=t.cloneNode(!1);try{d.width=t.width,d.height=t.height;var g=t.getContext("2d"),U=d.getContext("2d");if(U)if(!this.options.allowTaint&&g)U.putImageData(g.getImageData(0,0,t.width,t.height),0,0);else{var L=(n=t.getContext("webgl2"))!==null&&n!==void 0?n:t.getContext("webgl");if(L){var O=L.getContextAttributes();O?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}U.drawImage(t,0,0)}return d}catch{this.context.logger.info("Unable to clone canvas as it is tainted",t)}return d},r.prototype.createVideoClone=function(t){var n=t.ownerDocument.createElement("canvas");n.width=t.offsetWidth,n.height=t.offsetHeight;var s=n.getContext("2d");try{return s&&(s.drawImage(t,0,0,n.width,n.height),this.options.allowTaint||s.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",t)}var d=t.ownerDocument.createElement("canvas");return d.width=t.offsetWidth,d.height=t.offsetHeight,d},r.prototype.appendChildNode=function(t,n,s){(!Zr(n)||!af(n)&&!n.hasAttribute(dl)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Zr(n)||!tl(n))&&t.appendChild(this.cloneNode(n,s))},r.prototype.cloneChildNodes=function(t,n,s){for(var d=this,g=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;g;g=g.nextSibling)if(Zr(g)&&rl(g)&&typeof g.assignedNodes=="function"){var U=g.assignedNodes();U.length&&U.forEach(function(L){return d.appendChildNode(n,L,s)})}else this.appendChildNode(n,g,s)},r.prototype.cloneNode=function(t,n){if(zo(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var s=t.ownerDocument.defaultView;if(s&&Zr(t)&&(Pa(t)||Nn(t))){var d=this.createElementClone(t);d.style.transitionProperty="none";var g=s.getComputedStyle(t),U=s.getComputedStyle(t,":before"),L=s.getComputedStyle(t,":after");this.referenceElement===t&&Pa(d)&&(this.clonedReferenceElement=d),Oa(d)&&yf(d);var O=this.counters.parse(new Qo(this.context,g)),X=this.resolvePseudoContent(t,d,U,Hs.BEFORE);sl(t)&&(n=!0),el(t)||this.cloneChildNodes(t,d,n),X&&d.insertBefore(X,d.firstChild);var Y=this.resolvePseudoContent(t,d,L,Hs.AFTER);return Y&&d.appendChild(Y),this.counters.pop(O),(g&&(this.options.copyStyles||Nn(t))&&!Al(t)||n)&&Ma(g,d),(t.scrollTop!==0||t.scrollLeft!==0)&&this.scrolledElements.push([d,t.scrollLeft,t.scrollTop]),(Un(t)||En(t))&&(Un(d)||En(d))&&(d.value=t.value),d}return t.cloneNode(!1)},r.prototype.resolvePseudoContent=function(t,n,s,d){var g=this;if(s){var U=s.content,L=n.ownerDocument;if(!(!L||!U||U==="none"||U==="-moz-alt-content"||s.display==="none")){this.counters.parse(new Qo(this.context,s));var O=new th(this.context,s),X=L.createElement("html2canvaspseudoelement");Ma(s,X),O.content.forEach(function(ne){if(ne.type===0)X.appendChild(L.createTextNode(ne.value));else if(ne.type===22){var we=L.createElement("img");we.src=ne.value,we.style.opacity="1",X.appendChild(we)}else if(ne.type===18){if(ne.name==="attr"){var Ve=ne.values.filter(TA);Ve.length&&X.appendChild(L.createTextNode(t.getAttribute(Ve[0].value)||""))}else if(ne.name==="counter"){var Se=ne.values.filter(Yr),Le=Se[0],gA=Se[1];if(Le&&TA(Le)){var Ze=g.counters.getCounterValue(Le.value),Ye=gA&&TA(gA)?ba.parse(g.context,gA.value):3;X.appendChild(L.createTextNode(Ds(Ze,Ye,!1)))}}else if(ne.name==="counters"){var QA=ne.values.filter(Yr),Le=QA[0],BA=QA[1],gA=QA[2];if(Le&&TA(Le)){var pA=g.counters.getCounterValues(Le.value),Ge=gA&&TA(gA)?ba.parse(g.context,gA.value):3,vA=BA&&BA.type===0?BA.value:"",CA=pA.map(function(mt){return Ds(mt,Ge,!1)}).join(vA);X.appendChild(L.createTextNode(CA))}}}else if(ne.type===20)switch(ne.value){case"open-quote":X.appendChild(L.createTextNode(jo(O.quotes,g.quoteDepth++,!0)));break;case"close-quote":X.appendChild(L.createTextNode(jo(O.quotes,--g.quoteDepth,!1)));break;default:X.appendChild(L.createTextNode(ne.value))}}),X.className=Ka+" "+Ga;var Y=d===Hs.BEFORE?" "+Ka:" "+Ga;return Nn(n)?n.className.baseValue+=Y:n.className+=Y,X}}},r.destroy=function(t){return t.parentNode?(t.parentNode.removeChild(t),!0):!1},r})(),Hs;(function(r){r[r.BEFORE=0]="BEFORE",r[r.AFTER=1]="AFTER"})(Hs||(Hs={}));var df=function(r,t){var n=r.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(dl,"true"),r.body.appendChild(n),n},uf=function(r){return new Promise(function(t){if(r.complete){t();return}if(!r.src){t();return}r.onload=t,r.onerror=t})},pf=function(r){return Promise.all([].slice.call(r.images,0).map(uf))},hf=function(r){return new Promise(function(t,n){var s=r.contentWindow;if(!s)return n("No window assigned for iframe");var d=s.document;s.onload=r.onload=function(){s.onload=r.onload=null;var g=setInterval(function(){d.body.childNodes.length>0&&d.readyState==="complete"&&(clearInterval(g),t(r))},50)}})},ff=["all","d","content"],Ma=function(r,t){for(var n=r.length-1;n>=0;n--){var s=r.item(n);ff.indexOf(s)===-1&&t.style.setProperty(s,r.getPropertyValue(s))}return t},mf=function(r){var t="";return r&&(t+="<!DOCTYPE ",r.name&&(t+=r.name),r.internalSubset&&(t+=r.internalSubset),r.publicId&&(t+='"'+r.publicId+'"'),r.systemId&&(t+='"'+r.systemId+'"'),t+=">"),t},gf=function(r,t,n){r&&r.defaultView&&(t!==r.defaultView.pageXOffset||n!==r.defaultView.pageYOffset)&&r.defaultView.scrollTo(t,n)},xf=function(r){var t=r[0],n=r[1],s=r[2];t.scrollLeft=n,t.scrollTop=s},Bf=":before",wf=":after",Ka="___html2canvas___pseudoelement_before",Ga="___html2canvas___pseudoelement_after",pl=`{
    content: "" !important;
    display: none !important;
}`,yf=function(r){bf(r,"."+Ka+Bf+pl+`
         .`+Ga+wf+pl)},bf=function(r,t){var n=r.ownerDocument;if(n){var s=n.createElement("style");s.textContent=t,r.appendChild(s)}},hl=(function(){function r(){}return r.getOrigin=function(t){var n=r._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},r.isSameOrigin=function(t){return r.getOrigin(t)===r._origin},r.setContext=function(t){r._link=t.document.createElement("a"),r._origin=r.getOrigin(t.location.href)},r._origin="about:blank",r})(),vf=(function(){function r(t,n){this.context=t,this._options=n,this._cache={}}return r.prototype.addImage=function(t){var n=Promise.resolve();return this.has(t)||(_a(t)||Ff(t))&&(this._cache[t]=this.loadImage(t)).catch(function(){}),n},r.prototype.match=function(t){return this._cache[t]},r.prototype.loadImage=function(t){return f(this,void 0,void 0,function(){var n,s,d,g,U=this;return x(this,function(L){switch(L.label){case 0:return n=hl.isSameOrigin(t),s=!Va(t)&&this._options.useCORS===!0&&rt.SUPPORT_CORS_IMAGES&&!n,d=!Va(t)&&!n&&!_a(t)&&typeof this._options.proxy=="string"&&rt.SUPPORT_CORS_XHR&&!s,!n&&this._options.allowTaint===!1&&!Va(t)&&!_a(t)&&!d&&!s?[2]:(g=t,d?[4,this.proxy(g)]:[3,2]);case 1:g=L.sent(),L.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(O,X){var Y=new Image;Y.onload=function(){return O(Y)},Y.onerror=X,(Nf(g)||s)&&(Y.crossOrigin="anonymous"),Y.src=g,Y.complete===!0&&setTimeout(function(){return O(Y)},500),U._options.imageTimeout>0&&setTimeout(function(){return X("Timed out ("+U._options.imageTimeout+"ms) loading image")},U._options.imageTimeout)})];case 3:return[2,L.sent()]}})})},r.prototype.has=function(t){return typeof this._cache[t]<"u"},r.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},r.prototype.proxy=function(t){var n=this,s=this._options.proxy;if(!s)throw new Error("No proxy defined");var d=t.substring(0,256);return new Promise(function(g,U){var L=rt.SUPPORT_RESPONSE_TYPE?"blob":"text",O=new XMLHttpRequest;O.onload=function(){if(O.status===200)if(L==="text")g(O.response);else{var ne=new FileReader;ne.addEventListener("load",function(){return g(ne.result)},!1),ne.addEventListener("error",function(we){return U(we)},!1),ne.readAsDataURL(O.response)}else U("Failed to proxy resource "+d+" with status code "+O.status)},O.onerror=U;var X=s.indexOf("?")>-1?"&":"?";if(O.open("GET",""+s+X+"url="+encodeURIComponent(t)+"&responseType="+L),L!=="text"&&O instanceof XMLHttpRequest&&(O.responseType=L),n._options.imageTimeout){var Y=n._options.imageTimeout;O.timeout=Y,O.ontimeout=function(){return U("Timed out ("+Y+"ms) proxying "+d)}}O.send()})},r})(),Cf=/^data:image\/svg\+xml/i,jf=/^data:image\/.*;base64,/i,Qf=/^data:image\/.*/i,Ff=function(r){return rt.SUPPORT_SVG_DRAWING||!Uf(r)},Va=function(r){return Qf.test(r)},Nf=function(r){return jf.test(r)},_a=function(r){return r.substr(0,4)==="blob"},Uf=function(r){return r.substr(-3).toLowerCase()==="svg"||Cf.test(r)},Ke=(function(){function r(t,n){this.type=0,this.x=t,this.y=n}return r.prototype.add=function(t,n){return new r(this.x+t,this.y+n)},r})(),As=function(r,t,n){return new Ke(r.x+(t.x-r.x)*n,r.y+(t.y-r.y)*n)},In=(function(){function r(t,n,s,d){this.type=1,this.start=t,this.startControl=n,this.endControl=s,this.end=d}return r.prototype.subdivide=function(t,n){var s=As(this.start,this.startControl,t),d=As(this.startControl,this.endControl,t),g=As(this.endControl,this.end,t),U=As(s,d,t),L=As(d,g,t),O=As(U,L,t);return n?new r(this.start,s,U,O):new r(O,L,g,this.end)},r.prototype.add=function(t,n){return new r(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},r.prototype.reverse=function(){return new r(this.end,this.endControl,this.startControl,this.start)},r})(),Nt=function(r){return r.type===1},Ef=(function(){function r(t){var n=t.styles,s=t.bounds,d=Ns(n.borderTopLeftRadius,s.width,s.height),g=d[0],U=d[1],L=Ns(n.borderTopRightRadius,s.width,s.height),O=L[0],X=L[1],Y=Ns(n.borderBottomRightRadius,s.width,s.height),ne=Y[0],we=Y[1],Ve=Ns(n.borderBottomLeftRadius,s.width,s.height),Se=Ve[0],Le=Ve[1],gA=[];gA.push((g+O)/s.width),gA.push((Se+ne)/s.width),gA.push((U+Le)/s.height),gA.push((X+we)/s.height);var Ze=Math.max.apply(Math,gA);Ze>1&&(g/=Ze,U/=Ze,O/=Ze,X/=Ze,ne/=Ze,we/=Ze,Se/=Ze,Le/=Ze);var Ye=s.width-O,QA=s.height-we,BA=s.width-ne,pA=s.height-Le,Ge=n.borderTopWidth,vA=n.borderRightWidth,CA=n.borderBottomWidth,hA=n.borderLeftWidth,XA=HA(n.paddingTop,t.bounds.width),mt=HA(n.paddingRight,t.bounds.width),bt=HA(n.paddingBottom,t.bounds.width),DA=HA(n.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=g>0||U>0?RA(s.left+hA/3,s.top+Ge/3,g-hA/3,U-Ge/3,NA.TOP_LEFT):new Ke(s.left+hA/3,s.top+Ge/3),this.topRightBorderDoubleOuterBox=g>0||U>0?RA(s.left+Ye,s.top+Ge/3,O-vA/3,X-Ge/3,NA.TOP_RIGHT):new Ke(s.left+s.width-vA/3,s.top+Ge/3),this.bottomRightBorderDoubleOuterBox=ne>0||we>0?RA(s.left+BA,s.top+QA,ne-vA/3,we-CA/3,NA.BOTTOM_RIGHT):new Ke(s.left+s.width-vA/3,s.top+s.height-CA/3),this.bottomLeftBorderDoubleOuterBox=Se>0||Le>0?RA(s.left+hA/3,s.top+pA,Se-hA/3,Le-CA/3,NA.BOTTOM_LEFT):new Ke(s.left+hA/3,s.top+s.height-CA/3),this.topLeftBorderDoubleInnerBox=g>0||U>0?RA(s.left+hA*2/3,s.top+Ge*2/3,g-hA*2/3,U-Ge*2/3,NA.TOP_LEFT):new Ke(s.left+hA*2/3,s.top+Ge*2/3),this.topRightBorderDoubleInnerBox=g>0||U>0?RA(s.left+Ye,s.top+Ge*2/3,O-vA*2/3,X-Ge*2/3,NA.TOP_RIGHT):new Ke(s.left+s.width-vA*2/3,s.top+Ge*2/3),this.bottomRightBorderDoubleInnerBox=ne>0||we>0?RA(s.left+BA,s.top+QA,ne-vA*2/3,we-CA*2/3,NA.BOTTOM_RIGHT):new Ke(s.left+s.width-vA*2/3,s.top+s.height-CA*2/3),this.bottomLeftBorderDoubleInnerBox=Se>0||Le>0?RA(s.left+hA*2/3,s.top+pA,Se-hA*2/3,Le-CA*2/3,NA.BOTTOM_LEFT):new Ke(s.left+hA*2/3,s.top+s.height-CA*2/3),this.topLeftBorderStroke=g>0||U>0?RA(s.left+hA/2,s.top+Ge/2,g-hA/2,U-Ge/2,NA.TOP_LEFT):new Ke(s.left+hA/2,s.top+Ge/2),this.topRightBorderStroke=g>0||U>0?RA(s.left+Ye,s.top+Ge/2,O-vA/2,X-Ge/2,NA.TOP_RIGHT):new Ke(s.left+s.width-vA/2,s.top+Ge/2),this.bottomRightBorderStroke=ne>0||we>0?RA(s.left+BA,s.top+QA,ne-vA/2,we-CA/2,NA.BOTTOM_RIGHT):new Ke(s.left+s.width-vA/2,s.top+s.height-CA/2),this.bottomLeftBorderStroke=Se>0||Le>0?RA(s.left+hA/2,s.top+pA,Se-hA/2,Le-CA/2,NA.BOTTOM_LEFT):new Ke(s.left+hA/2,s.top+s.height-CA/2),this.topLeftBorderBox=g>0||U>0?RA(s.left,s.top,g,U,NA.TOP_LEFT):new Ke(s.left,s.top),this.topRightBorderBox=O>0||X>0?RA(s.left+Ye,s.top,O,X,NA.TOP_RIGHT):new Ke(s.left+s.width,s.top),this.bottomRightBorderBox=ne>0||we>0?RA(s.left+BA,s.top+QA,ne,we,NA.BOTTOM_RIGHT):new Ke(s.left+s.width,s.top+s.height),this.bottomLeftBorderBox=Se>0||Le>0?RA(s.left,s.top+pA,Se,Le,NA.BOTTOM_LEFT):new Ke(s.left,s.top+s.height),this.topLeftPaddingBox=g>0||U>0?RA(s.left+hA,s.top+Ge,Math.max(0,g-hA),Math.max(0,U-Ge),NA.TOP_LEFT):new Ke(s.left+hA,s.top+Ge),this.topRightPaddingBox=O>0||X>0?RA(s.left+Math.min(Ye,s.width-vA),s.top+Ge,Ye>s.width+vA?0:Math.max(0,O-vA),Math.max(0,X-Ge),NA.TOP_RIGHT):new Ke(s.left+s.width-vA,s.top+Ge),this.bottomRightPaddingBox=ne>0||we>0?RA(s.left+Math.min(BA,s.width-hA),s.top+Math.min(QA,s.height-CA),Math.max(0,ne-vA),Math.max(0,we-CA),NA.BOTTOM_RIGHT):new Ke(s.left+s.width-vA,s.top+s.height-CA),this.bottomLeftPaddingBox=Se>0||Le>0?RA(s.left+hA,s.top+Math.min(pA,s.height-CA),Math.max(0,Se-hA),Math.max(0,Le-CA),NA.BOTTOM_LEFT):new Ke(s.left+hA,s.top+s.height-CA),this.topLeftContentBox=g>0||U>0?RA(s.left+hA+DA,s.top+Ge+XA,Math.max(0,g-(hA+DA)),Math.max(0,U-(Ge+XA)),NA.TOP_LEFT):new Ke(s.left+hA+DA,s.top+Ge+XA),this.topRightContentBox=O>0||X>0?RA(s.left+Math.min(Ye,s.width+hA+DA),s.top+Ge+XA,Ye>s.width+hA+DA?0:O-hA+DA,X-(Ge+XA),NA.TOP_RIGHT):new Ke(s.left+s.width-(vA+mt),s.top+Ge+XA),this.bottomRightContentBox=ne>0||we>0?RA(s.left+Math.min(BA,s.width-(hA+DA)),s.top+Math.min(QA,s.height+Ge+XA),Math.max(0,ne-(vA+mt)),we-(CA+bt),NA.BOTTOM_RIGHT):new Ke(s.left+s.width-(vA+mt),s.top+s.height-(CA+bt)),this.bottomLeftContentBox=Se>0||Le>0?RA(s.left+hA+DA,s.top+pA,Math.max(0,Se-(hA+DA)),Le-(CA+bt),NA.BOTTOM_LEFT):new Ke(s.left+hA+DA,s.top+s.height-(CA+bt))}return r})(),NA;(function(r){r[r.TOP_LEFT=0]="TOP_LEFT",r[r.TOP_RIGHT=1]="TOP_RIGHT",r[r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",r[r.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(NA||(NA={}));var RA=function(r,t,n,s,d){var g=4*((Math.sqrt(2)-1)/3),U=n*g,L=s*g,O=r+n,X=t+s;switch(d){case NA.TOP_LEFT:return new In(new Ke(r,X),new Ke(r,X-L),new Ke(O-U,t),new Ke(O,t));case NA.TOP_RIGHT:return new In(new Ke(r,t),new Ke(r+U,t),new Ke(O,X-L),new Ke(O,X));case NA.BOTTOM_RIGHT:return new In(new Ke(O,t),new Ke(O,t+L),new Ke(r+U,X),new Ke(r,X));case NA.BOTTOM_LEFT:default:return new In(new Ke(O,X),new Ke(O-U,X),new Ke(r,t+L),new Ke(r,t))}},Sn=function(r){return[r.topLeftBorderBox,r.topRightBorderBox,r.bottomRightBorderBox,r.bottomLeftBorderBox]},If=function(r){return[r.topLeftContentBox,r.topRightContentBox,r.bottomRightContentBox,r.bottomLeftContentBox]},Tn=function(r){return[r.topLeftPaddingBox,r.topRightPaddingBox,r.bottomRightPaddingBox,r.bottomLeftPaddingBox]},Sf=(function(){function r(t,n,s){this.offsetX=t,this.offsetY=n,this.matrix=s,this.type=0,this.target=6}return r})(),Dn=(function(){function r(t,n){this.path=t,this.target=n,this.type=1}return r})(),Tf=(function(){function r(t){this.opacity=t,this.type=2,this.target=6}return r})(),Df=function(r){return r.type===0},fl=function(r){return r.type===1},Hf=function(r){return r.type===2},ml=function(r,t){return r.length===t.length?r.some(function(n,s){return n===t[s]}):!1},Rf=function(r,t,n,s,d){return r.map(function(g,U){switch(U){case 0:return g.add(t,n);case 1:return g.add(t+s,n);case 2:return g.add(t+s,n+d);case 3:return g.add(t,n+d)}return g})},gl=(function(){function r(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return r})(),xl=(function(){function r(t,n){if(this.container=t,this.parent=n,this.effects=[],this.curves=new Ef(this.container),this.container.styles.opacity<1&&this.effects.push(new Tf(this.container.styles.opacity)),this.container.styles.transform!==null){var s=this.container.bounds.left+this.container.styles.transformOrigin[0].number,d=this.container.bounds.top+this.container.styles.transformOrigin[1].number,g=this.container.styles.transform;this.effects.push(new Sf(s,d,g))}if(this.container.styles.overflowX!==0){var U=Sn(this.curves),L=Tn(this.curves);ml(U,L)?this.effects.push(new Dn(U,6)):(this.effects.push(new Dn(U,2)),this.effects.push(new Dn(L,4)))}}return r.prototype.getEffects=function(t){for(var n=[2,3].indexOf(this.container.styles.position)===-1,s=this.parent,d=this.effects.slice(0);s;){var g=s.effects.filter(function(O){return!fl(O)});if(n||s.container.styles.position!==0||!s.parent){if(d.unshift.apply(d,g),n=[2,3].indexOf(s.container.styles.position)===-1,s.container.styles.overflowX!==0){var U=Sn(s.curves),L=Tn(s.curves);ml(U,L)||d.unshift(new Dn(L,6))}}else d.unshift.apply(d,g);s=s.parent}return d.filter(function(O){return YA(O.target,t)})},r})(),$a=function(r,t,n,s){r.container.elements.forEach(function(d){var g=YA(d.flags,4),U=YA(d.flags,2),L=new xl(d,r);YA(d.styles.display,2048)&&s.push(L);var O=YA(d.flags,8)?[]:s;if(g||U){var X=g||d.styles.isPositioned()?n:t,Y=new gl(L);if(d.styles.isPositioned()||d.styles.opacity<1||d.styles.isTransformed()){var ne=d.styles.zIndex.order;if(ne<0){var we=0;X.negativeZIndex.some(function(Se,Le){return ne>Se.element.container.styles.zIndex.order?(we=Le,!1):we>0}),X.negativeZIndex.splice(we,0,Y)}else if(ne>0){var Ve=0;X.positiveZIndex.some(function(Se,Le){return ne>=Se.element.container.styles.zIndex.order?(Ve=Le+1,!1):Ve>0}),X.positiveZIndex.splice(Ve,0,Y)}else X.zeroOrAutoZIndexOrTransformedOrOpacity.push(Y)}else d.styles.isFloating()?X.nonPositionedFloats.push(Y):X.nonPositionedInlineLevel.push(Y);$a(L,Y,g?Y:n,O)}else d.styles.isInlineLevel()?t.inlineLevel.push(L):t.nonInlineLevel.push(L),$a(L,t,n,O);YA(d.flags,8)&&Bl(d,O)})},Bl=function(r,t){for(var n=r instanceof Ha?r.start:1,s=r instanceof Ha?r.reversed:!1,d=0;d<t.length;d++){var g=t[d];g.container instanceof Vo&&typeof g.container.value=="number"&&g.container.value!==0&&(n=g.container.value),g.listValue=Ds(n,g.container.styles.listStyleType,!0),n+=s?-1:1}},Pf=function(r){var t=new xl(r,null),n=new gl(t),s=[];return $a(t,n,n,s),Bl(t.container,s),n},wl=function(r,t){switch(t){case 0:return Ut(r.topLeftBorderBox,r.topLeftPaddingBox,r.topRightBorderBox,r.topRightPaddingBox);case 1:return Ut(r.topRightBorderBox,r.topRightPaddingBox,r.bottomRightBorderBox,r.bottomRightPaddingBox);case 2:return Ut(r.bottomRightBorderBox,r.bottomRightPaddingBox,r.bottomLeftBorderBox,r.bottomLeftPaddingBox);case 3:default:return Ut(r.bottomLeftBorderBox,r.bottomLeftPaddingBox,r.topLeftBorderBox,r.topLeftPaddingBox)}},Of=function(r,t){switch(t){case 0:return Ut(r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox,r.topRightBorderBox,r.topRightBorderDoubleOuterBox);case 1:return Ut(r.topRightBorderBox,r.topRightBorderDoubleOuterBox,r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox);case 2:return Ut(r.bottomRightBorderBox,r.bottomRightBorderDoubleOuterBox,r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox);case 3:default:return Ut(r.bottomLeftBorderBox,r.bottomLeftBorderDoubleOuterBox,r.topLeftBorderBox,r.topLeftBorderDoubleOuterBox)}},Lf=function(r,t){switch(t){case 0:return Ut(r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox,r.topRightBorderDoubleInnerBox,r.topRightPaddingBox);case 1:return Ut(r.topRightBorderDoubleInnerBox,r.topRightPaddingBox,r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox);case 2:return Ut(r.bottomRightBorderDoubleInnerBox,r.bottomRightPaddingBox,r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox);case 3:default:return Ut(r.bottomLeftBorderDoubleInnerBox,r.bottomLeftPaddingBox,r.topLeftBorderDoubleInnerBox,r.topLeftPaddingBox)}},kf=function(r,t){switch(t){case 0:return Hn(r.topLeftBorderStroke,r.topRightBorderStroke);case 1:return Hn(r.topRightBorderStroke,r.bottomRightBorderStroke);case 2:return Hn(r.bottomRightBorderStroke,r.bottomLeftBorderStroke);case 3:default:return Hn(r.bottomLeftBorderStroke,r.topLeftBorderStroke)}},Hn=function(r,t){var n=[];return Nt(r)?n.push(r.subdivide(.5,!1)):n.push(r),Nt(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Ut=function(r,t,n,s){var d=[];return Nt(r)?d.push(r.subdivide(.5,!1)):d.push(r),Nt(n)?d.push(n.subdivide(.5,!0)):d.push(n),Nt(s)?d.push(s.subdivide(.5,!0).reverse()):d.push(s),Nt(t)?d.push(t.subdivide(.5,!1).reverse()):d.push(t),d},yl=function(r){var t=r.bounds,n=r.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Rn=function(r){var t=r.styles,n=r.bounds,s=HA(t.paddingLeft,n.width),d=HA(t.paddingRight,n.width),g=HA(t.paddingTop,n.width),U=HA(t.paddingBottom,n.width);return n.add(s+t.borderLeftWidth,g+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+s+d),-(t.borderTopWidth+t.borderBottomWidth+g+U))},Mf=function(r,t){return r===0?t.bounds:r===2?Rn(t):yl(t)},Kf=function(r,t){return r===0?t.bounds:r===2?Rn(t):yl(t)},Wa=function(r,t,n){var s=Mf(rs(r.styles.backgroundOrigin,t),r),d=Kf(rs(r.styles.backgroundClip,t),r),g=Gf(rs(r.styles.backgroundSize,t),n,s),U=g[0],L=g[1],O=Ns(rs(r.styles.backgroundPosition,t),s.width-U,s.height-L),X=Vf(rs(r.styles.backgroundRepeat,t),O,g,s,d),Y=Math.round(s.left+O[0]),ne=Math.round(s.top+O[1]);return[X,Y,ne,U,L]},ts=function(r){return TA(r)&&r.value===zr.AUTO},Pn=function(r){return typeof r=="number"},Gf=function(r,t,n){var s=t[0],d=t[1],g=t[2],U=r[0],L=r[1];if(!U)return[0,0];if(WA(U)&&L&&WA(L))return[HA(U,n.width),HA(L,n.height)];var O=Pn(g);if(TA(U)&&(U.value===zr.CONTAIN||U.value===zr.COVER)){if(Pn(g)){var X=n.width/n.height;return X<g!=(U.value===zr.COVER)?[n.width,n.width/g]:[n.height*g,n.height]}return[n.width,n.height]}var Y=Pn(s),ne=Pn(d),we=Y||ne;if(ts(U)&&(!L||ts(L))){if(Y&&ne)return[s,d];if(!O&&!we)return[n.width,n.height];if(we&&O){var Ve=Y?s:d*g,Se=ne?d:s/g;return[Ve,Se]}var Le=Y?s:n.width,gA=ne?d:n.height;return[Le,gA]}if(O){var Ze=0,Ye=0;return WA(U)?Ze=HA(U,n.width):WA(L)&&(Ye=HA(L,n.height)),ts(U)?Ze=Ye*g:(!L||ts(L))&&(Ye=Ze/g),[Ze,Ye]}var QA=null,BA=null;if(WA(U)?QA=HA(U,n.width):L&&WA(L)&&(BA=HA(L,n.height)),QA!==null&&(!L||ts(L))&&(BA=Y&&ne?QA/s*d:n.height),BA!==null&&ts(U)&&(QA=Y&&ne?BA/d*s:n.width),QA!==null&&BA!==null)return[QA,BA];throw new Error("Unable to calculate background-size for element")},rs=function(r,t){var n=r[t];return typeof n>"u"?r[0]:n},Vf=function(r,t,n,s,d){var g=t[0],U=t[1],L=n[0],O=n[1];switch(r){case 2:return[new Ke(Math.round(s.left),Math.round(s.top+U)),new Ke(Math.round(s.left+s.width),Math.round(s.top+U)),new Ke(Math.round(s.left+s.width),Math.round(O+s.top+U)),new Ke(Math.round(s.left),Math.round(O+s.top+U))];case 3:return[new Ke(Math.round(s.left+g),Math.round(s.top)),new Ke(Math.round(s.left+g+L),Math.round(s.top)),new Ke(Math.round(s.left+g+L),Math.round(s.height+s.top)),new Ke(Math.round(s.left+g),Math.round(s.height+s.top))];case 1:return[new Ke(Math.round(s.left+g),Math.round(s.top+U)),new Ke(Math.round(s.left+g+L),Math.round(s.top+U)),new Ke(Math.round(s.left+g+L),Math.round(s.top+U+O)),new Ke(Math.round(s.left+g),Math.round(s.top+U+O))];default:return[new Ke(Math.round(d.left),Math.round(d.top)),new Ke(Math.round(d.left+d.width),Math.round(d.top)),new Ke(Math.round(d.left+d.width),Math.round(d.height+d.top)),new Ke(Math.round(d.left),Math.round(d.height+d.top))]}},_f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",bl="Hidden Text",$f=(function(){function r(t){this._data={},this._document=t}return r.prototype.parseMetrics=function(t,n){var s=this._document.createElement("div"),d=this._document.createElement("img"),g=this._document.createElement("span"),U=this._document.body;s.style.visibility="hidden",s.style.fontFamily=t,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.style.whiteSpace="nowrap",U.appendChild(s),d.src=_f,d.width=1,d.height=1,d.style.margin="0",d.style.padding="0",d.style.verticalAlign="baseline",g.style.fontFamily=t,g.style.fontSize=n,g.style.margin="0",g.style.padding="0",g.appendChild(this._document.createTextNode(bl)),s.appendChild(g),s.appendChild(d);var L=d.offsetTop-g.offsetTop+2;s.removeChild(g),s.appendChild(this._document.createTextNode(bl)),s.style.lineHeight="normal",d.style.verticalAlign="super";var O=d.offsetTop-s.offsetTop+2;return U.removeChild(s),{baseline:L,middle:O}},r.prototype.getMetrics=function(t,n){var s=t+" "+n;return typeof this._data[s]>"u"&&(this._data[s]=this.parseMetrics(t,n)),this._data[s]},r})(),vl=(function(){function r(t,n){this.context=t,this.options=n}return r})(),Wf=1e4,Xf=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d._activeEffects=[],d.canvas=s.canvas?s.canvas:document.createElement("canvas"),d.ctx=d.canvas.getContext("2d"),s.canvas||(d.canvas.width=Math.floor(s.width*s.scale),d.canvas.height=Math.floor(s.height*s.scale),d.canvas.style.width=s.width+"px",d.canvas.style.height=s.height+"px"),d.fontMetrics=new $f(document),d.ctx.scale(d.options.scale,d.options.scale),d.ctx.translate(-s.x,-s.y),d.ctx.textBaseline="bottom",d._activeEffects=[],d.context.logger.debug("Canvas renderer initialized ("+s.width+"x"+s.height+") with scale "+s.scale),d}return t.prototype.applyEffects=function(n){for(var s=this;this._activeEffects.length;)this.popEffect();n.forEach(function(d){return s.applyEffect(d)})},t.prototype.applyEffect=function(n){this.ctx.save(),Hf(n)&&(this.ctx.globalAlpha=n.opacity),Df(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),fl(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(n){return f(this,void 0,void 0,function(){var s;return x(this,function(d){switch(d.label){case 0:return s=n.element.container.styles,s.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:d.sent(),d.label=2;case 2:return[2]}})})},t.prototype.renderNode=function(n){return f(this,void 0,void 0,function(){return x(this,function(s){switch(s.label){case 0:if(YA(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return s.sent(),[4,this.renderNodeContent(n)];case 2:s.sent(),s.label=3;case 3:return[2]}})})},t.prototype.renderTextWithLetterSpacing=function(n,s,d){var g=this;if(s===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+d);else{var U=Da(n.text);U.reduce(function(L,O){return g.ctx.fillText(O,L,n.bounds.top+d),L+g.ctx.measureText(O).width},n.bounds.left)}},t.prototype.createFontStyle=function(n){var s=n.fontVariant.filter(function(U){return U==="normal"||U==="small-caps"}).join(""),d=qf(n.fontFamily).join(", "),g=Fs(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,s,n.fontWeight,g,d].join(" "),d,g]},t.prototype.renderTextNode=function(n,s){return f(this,void 0,void 0,function(){var d,g,U,L,O,X,Y,ne,we=this;return x(this,function(Ve){return d=this.createFontStyle(s),g=d[0],U=d[1],L=d[2],this.ctx.font=g,this.ctx.direction=s.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",O=this.fontMetrics.getMetrics(U,L),X=O.baseline,Y=O.middle,ne=s.paintOrder,n.textBounds.forEach(function(Se){ne.forEach(function(Le){switch(Le){case 0:we.ctx.fillStyle=qA(s.color),we.renderTextWithLetterSpacing(Se,s.letterSpacing,X);var gA=s.textShadow;gA.length&&Se.text.trim().length&&(gA.slice(0).reverse().forEach(function(Ze){we.ctx.shadowColor=qA(Ze.color),we.ctx.shadowOffsetX=Ze.offsetX.number*we.options.scale,we.ctx.shadowOffsetY=Ze.offsetY.number*we.options.scale,we.ctx.shadowBlur=Ze.blur.number,we.renderTextWithLetterSpacing(Se,s.letterSpacing,X)}),we.ctx.shadowColor="",we.ctx.shadowOffsetX=0,we.ctx.shadowOffsetY=0,we.ctx.shadowBlur=0),s.textDecorationLine.length&&(we.ctx.fillStyle=qA(s.textDecorationColor||s.color),s.textDecorationLine.forEach(function(Ze){switch(Ze){case 1:we.ctx.fillRect(Se.bounds.left,Math.round(Se.bounds.top+X),Se.bounds.width,1);break;case 2:we.ctx.fillRect(Se.bounds.left,Math.round(Se.bounds.top),Se.bounds.width,1);break;case 3:we.ctx.fillRect(Se.bounds.left,Math.ceil(Se.bounds.top+Y),Se.bounds.width,1);break}}));break;case 1:s.webkitTextStrokeWidth&&Se.text.trim().length&&(we.ctx.strokeStyle=qA(s.webkitTextStrokeColor),we.ctx.lineWidth=s.webkitTextStrokeWidth,we.ctx.lineJoin=window.chrome?"miter":"round",we.ctx.strokeText(Se.text,Se.bounds.left,Se.bounds.top+X)),we.ctx.strokeStyle="",we.ctx.lineWidth=0,we.ctx.lineJoin="miter";break}})}),[2]})})},t.prototype.renderReplacedElement=function(n,s,d){if(d&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var g=Rn(n),U=Tn(s);this.path(U),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(d,0,0,n.intrinsicWidth,n.intrinsicHeight,g.left,g.top,g.width,g.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(n){return f(this,void 0,void 0,function(){var s,d,g,U,L,O,Ye,Ye,X,Y,ne,we,BA,Ve,Se,pA,Le,gA,Ze,Ye,QA,BA,pA;return x(this,function(Ge){switch(Ge.label){case 0:this.applyEffects(n.getEffects(4)),s=n.container,d=n.curves,g=s.styles,U=0,L=s.textNodes,Ge.label=1;case 1:return U<L.length?(O=L[U],[4,this.renderTextNode(O,g)]):[3,4];case 2:Ge.sent(),Ge.label=3;case 3:return U++,[3,1];case 4:if(!(s instanceof Mo))return[3,8];Ge.label=5;case 5:return Ge.trys.push([5,7,,8]),[4,this.context.cache.match(s.src)];case 6:return Ye=Ge.sent(),this.renderReplacedElement(s,d,Ye),[3,8];case 7:return Ge.sent(),this.context.logger.error("Error loading image "+s.src),[3,8];case 8:if(s instanceof Ko&&this.renderReplacedElement(s,d,s.canvas),!(s instanceof Go))return[3,12];Ge.label=9;case 9:return Ge.trys.push([9,11,,12]),[4,this.context.cache.match(s.svg)];case 10:return Ye=Ge.sent(),this.renderReplacedElement(s,d,Ye),[3,12];case 11:return Ge.sent(),this.context.logger.error("Error loading svg "+s.svg.substring(0,255)),[3,12];case 12:return s instanceof Xo&&s.tree?(X=new t(this.context,{scale:this.options.scale,backgroundColor:s.backgroundColor,x:0,y:0,width:s.width,height:s.height}),[4,X.render(s.tree)]):[3,14];case 13:Y=Ge.sent(),s.width&&s.height&&this.ctx.drawImage(Y,0,0,s.width,s.height,s.bounds.left,s.bounds.top,s.bounds.width,s.bounds.height),Ge.label=14;case 14:if(s instanceof Ra&&(ne=Math.min(s.bounds.width,s.bounds.height),s.type===jn?s.checked&&(this.ctx.save(),this.path([new Ke(s.bounds.left+ne*.39363,s.bounds.top+ne*.79),new Ke(s.bounds.left+ne*.16,s.bounds.top+ne*.5549),new Ke(s.bounds.left+ne*.27347,s.bounds.top+ne*.44071),new Ke(s.bounds.left+ne*.39694,s.bounds.top+ne*.5649),new Ke(s.bounds.left+ne*.72983,s.bounds.top+ne*.23),new Ke(s.bounds.left+ne*.84,s.bounds.top+ne*.34085),new Ke(s.bounds.left+ne*.39363,s.bounds.top+ne*.79)]),this.ctx.fillStyle=qA(_o),this.ctx.fill(),this.ctx.restore()):s.type===Qn&&s.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(s.bounds.left+ne/2,s.bounds.top+ne/2,ne/4,0,Math.PI*2,!0),this.ctx.fillStyle=qA(_o),this.ctx.fill(),this.ctx.restore())),Jf(s)&&s.value.length){switch(we=this.createFontStyle(g),BA=we[0],Ve=we[1],Se=this.fontMetrics.getMetrics(BA,Ve).baseline,this.ctx.font=BA,this.ctx.fillStyle=qA(g.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=zf(s.styles.textAlign),pA=Rn(s),Le=0,s.styles.textAlign){case 1:Le+=pA.width/2;break;case 2:Le+=pA.width;break}gA=pA.add(Le,0,0,-pA.height/2+1),this.ctx.save(),this.path([new Ke(pA.left,pA.top),new Ke(pA.left+pA.width,pA.top),new Ke(pA.left+pA.width,pA.top+pA.height),new Ke(pA.left,pA.top+pA.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Ss(s.value,gA),g.letterSpacing,Se),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!YA(s.styles.display,2048))return[3,20];if(s.styles.listStyleImage===null)return[3,19];if(Ze=s.styles.listStyleImage,Ze.type!==0)return[3,18];Ye=void 0,QA=Ze.url,Ge.label=15;case 15:return Ge.trys.push([15,17,,18]),[4,this.context.cache.match(QA)];case 16:return Ye=Ge.sent(),this.ctx.drawImage(Ye,s.bounds.left-(Ye.width+10),s.bounds.top),[3,18];case 17:return Ge.sent(),this.context.logger.error("Error loading list-style-image "+QA),[3,18];case 18:return[3,20];case 19:n.listValue&&s.styles.listStyleType!==-1&&(BA=this.createFontStyle(g)[0],this.ctx.font=BA,this.ctx.fillStyle=qA(g.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",pA=new u(s.bounds.left,s.bounds.top+HA(s.styles.paddingTop,s.bounds.width),s.bounds.width,bo(g.lineHeight,g.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Ss(n.listValue,pA),g.letterSpacing,bo(g.lineHeight,g.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Ge.label=20;case 20:return[2]}})})},t.prototype.renderStackContent=function(n){return f(this,void 0,void 0,function(){var s,d,Ze,g,U,Ze,L,O,Ze,X,Y,Ze,ne,we,Ze,Ve,Se,Ze,Le,gA,Ze;return x(this,function(Ye){switch(Ye.label){case 0:if(YA(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:Ye.sent(),s=0,d=n.negativeZIndex,Ye.label=2;case 2:return s<d.length?(Ze=d[s],[4,this.renderStack(Ze)]):[3,5];case 3:Ye.sent(),Ye.label=4;case 4:return s++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:Ye.sent(),g=0,U=n.nonInlineLevel,Ye.label=7;case 7:return g<U.length?(Ze=U[g],[4,this.renderNode(Ze)]):[3,10];case 8:Ye.sent(),Ye.label=9;case 9:return g++,[3,7];case 10:L=0,O=n.nonPositionedFloats,Ye.label=11;case 11:return L<O.length?(Ze=O[L],[4,this.renderStack(Ze)]):[3,14];case 12:Ye.sent(),Ye.label=13;case 13:return L++,[3,11];case 14:X=0,Y=n.nonPositionedInlineLevel,Ye.label=15;case 15:return X<Y.length?(Ze=Y[X],[4,this.renderStack(Ze)]):[3,18];case 16:Ye.sent(),Ye.label=17;case 17:return X++,[3,15];case 18:ne=0,we=n.inlineLevel,Ye.label=19;case 19:return ne<we.length?(Ze=we[ne],[4,this.renderNode(Ze)]):[3,22];case 20:Ye.sent(),Ye.label=21;case 21:return ne++,[3,19];case 22:Ve=0,Se=n.zeroOrAutoZIndexOrTransformedOrOpacity,Ye.label=23;case 23:return Ve<Se.length?(Ze=Se[Ve],[4,this.renderStack(Ze)]):[3,26];case 24:Ye.sent(),Ye.label=25;case 25:return Ve++,[3,23];case 26:Le=0,gA=n.positiveZIndex,Ye.label=27;case 27:return Le<gA.length?(Ze=gA[Le],[4,this.renderStack(Ze)]):[3,30];case 28:Ye.sent(),Ye.label=29;case 29:return Le++,[3,27];case 30:return[2]}})})},t.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},t.prototype.formatPath=function(n){var s=this;n.forEach(function(d,g){var U=Nt(d)?d.start:d;g===0?s.ctx.moveTo(U.x,U.y):s.ctx.lineTo(U.x,U.y),Nt(d)&&s.ctx.bezierCurveTo(d.startControl.x,d.startControl.y,d.endControl.x,d.endControl.y,d.end.x,d.end.y)})},t.prototype.renderRepeat=function(n,s,d,g){this.path(n),this.ctx.fillStyle=s,this.ctx.translate(d,g),this.ctx.fill(),this.ctx.translate(-d,-g)},t.prototype.resizeImage=function(n,s,d){var g;if(n.width===s&&n.height===d)return n;var U=(g=this.canvas.ownerDocument)!==null&&g!==void 0?g:document,L=U.createElement("canvas");L.width=Math.max(1,s),L.height=Math.max(1,d);var O=L.getContext("2d");return O.drawImage(n,0,0,n.width,n.height,0,0,s,d),L},t.prototype.renderBackgroundImage=function(n){return f(this,void 0,void 0,function(){var s,d,g,U,L,O;return x(this,function(X){switch(X.label){case 0:s=n.styles.backgroundImage.length-1,d=function(Y){var ne,we,Ve,XA,gt,xt,DA,st,CA,Se,XA,gt,xt,DA,st,Le,gA,Ze,Ye,QA,BA,pA,Ge,vA,CA,hA,XA,mt,bt,DA,st,vr,gt,xt,Dr,$t,Cr,Hr,Rr,sr,Pr,nr;return x(this,function(ss){switch(ss.label){case 0:if(Y.type!==0)return[3,5];ne=void 0,we=Y.url,ss.label=1;case 1:return ss.trys.push([1,3,,4]),[4,g.context.cache.match(we)];case 2:return ne=ss.sent(),[3,4];case 3:return ss.sent(),g.context.logger.error("Error loading background-image "+we),[3,4];case 4:return ne&&(Ve=Wa(n,s,[ne.width,ne.height,ne.width/ne.height]),XA=Ve[0],gt=Ve[1],xt=Ve[2],DA=Ve[3],st=Ve[4],CA=g.ctx.createPattern(g.resizeImage(ne,DA,st),"repeat"),g.renderRepeat(XA,CA,gt,xt)),[3,6];case 5:Tu(Y)?(Se=Wa(n,s,[null,null,null]),XA=Se[0],gt=Se[1],xt=Se[2],DA=Se[3],st=Se[4],Le=Nu(Y.angle,DA,st),gA=Le[0],Ze=Le[1],Ye=Le[2],QA=Le[3],BA=Le[4],pA=document.createElement("canvas"),pA.width=DA,pA.height=st,Ge=pA.getContext("2d"),vA=Ge.createLinearGradient(Ze,QA,Ye,BA),co(Y.stops,gA).forEach(function(Rs){return vA.addColorStop(Rs.stop,qA(Rs.color))}),Ge.fillStyle=vA,Ge.fillRect(0,0,DA,st),DA>0&&st>0&&(CA=g.ctx.createPattern(pA,"repeat"),g.renderRepeat(XA,CA,gt,xt))):Du(Y)&&(hA=Wa(n,s,[null,null,null]),XA=hA[0],mt=hA[1],bt=hA[2],DA=hA[3],st=hA[4],vr=Y.position.length===0?[Ba]:Y.position,gt=HA(vr[0],DA),xt=HA(vr[vr.length-1],st),Dr=Uu(Y,gt,xt,DA,st),$t=Dr[0],Cr=Dr[1],$t>0&&Cr>0&&(Hr=g.ctx.createRadialGradient(mt+gt,bt+xt,0,mt+gt,bt+xt,$t),co(Y.stops,$t*2).forEach(function(Rs){return Hr.addColorStop(Rs.stop,qA(Rs.color))}),g.path(XA),g.ctx.fillStyle=Hr,$t!==Cr?(Rr=n.bounds.left+.5*n.bounds.width,sr=n.bounds.top+.5*n.bounds.height,Pr=Cr/$t,nr=1/Pr,g.ctx.save(),g.ctx.translate(Rr,sr),g.ctx.transform(1,0,0,Pr,0,0),g.ctx.translate(-Rr,-sr),g.ctx.fillRect(mt,nr*(bt-sr)+sr,DA,st*nr),g.ctx.restore()):g.ctx.fill())),ss.label=6;case 6:return s--,[2]}})},g=this,U=0,L=n.styles.backgroundImage.slice(0).reverse(),X.label=1;case 1:return U<L.length?(O=L[U],[5,d(O)]):[3,4];case 2:X.sent(),X.label=3;case 3:return U++,[3,1];case 4:return[2]}})})},t.prototype.renderSolidBorder=function(n,s,d){return f(this,void 0,void 0,function(){return x(this,function(g){return this.path(wl(d,s)),this.ctx.fillStyle=qA(n),this.ctx.fill(),[2]})})},t.prototype.renderDoubleBorder=function(n,s,d,g){return f(this,void 0,void 0,function(){var U,L;return x(this,function(O){switch(O.label){case 0:return s<3?[4,this.renderSolidBorder(n,d,g)]:[3,2];case 1:return O.sent(),[2];case 2:return U=Of(g,d),this.path(U),this.ctx.fillStyle=qA(n),this.ctx.fill(),L=Lf(g,d),this.path(L),this.ctx.fill(),[2]}})})},t.prototype.renderNodeBackgroundAndBorders=function(n){return f(this,void 0,void 0,function(){var s,d,g,U,L,O,X,Y,ne=this;return x(this,function(we){switch(we.label){case 0:return this.applyEffects(n.getEffects(2)),s=n.container.styles,d=!Br(s.backgroundColor)||s.backgroundImage.length,g=[{style:s.borderTopStyle,color:s.borderTopColor,width:s.borderTopWidth},{style:s.borderRightStyle,color:s.borderRightColor,width:s.borderRightWidth},{style:s.borderBottomStyle,color:s.borderBottomColor,width:s.borderBottomWidth},{style:s.borderLeftStyle,color:s.borderLeftColor,width:s.borderLeftWidth}],U=Yf(rs(s.backgroundClip,0),n.curves),d||s.boxShadow.length?(this.ctx.save(),this.path(U),this.ctx.clip(),Br(s.backgroundColor)||(this.ctx.fillStyle=qA(s.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:we.sent(),this.ctx.restore(),s.boxShadow.slice(0).reverse().forEach(function(Ve){ne.ctx.save();var Se=Sn(n.curves),Le=Ve.inset?0:Wf,gA=Rf(Se,-Le+(Ve.inset?1:-1)*Ve.spread.number,(Ve.inset?1:-1)*Ve.spread.number,Ve.spread.number*(Ve.inset?-2:2),Ve.spread.number*(Ve.inset?-2:2));Ve.inset?(ne.path(Se),ne.ctx.clip(),ne.mask(gA)):(ne.mask(Se),ne.ctx.clip(),ne.path(gA)),ne.ctx.shadowOffsetX=Ve.offsetX.number+Le,ne.ctx.shadowOffsetY=Ve.offsetY.number,ne.ctx.shadowColor=qA(Ve.color),ne.ctx.shadowBlur=Ve.blur.number,ne.ctx.fillStyle=Ve.inset?qA(Ve.color):"rgba(0,0,0,1)",ne.ctx.fill(),ne.ctx.restore()}),we.label=2;case 2:L=0,O=0,X=g,we.label=3;case 3:return O<X.length?(Y=X[O],Y.style!==0&&!Br(Y.color)&&Y.width>0?Y.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Y.color,Y.width,L,n.curves,2)]:[3,11]):[3,13];case 4:return we.sent(),[3,11];case 5:return Y.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Y.color,Y.width,L,n.curves,3)];case 6:return we.sent(),[3,11];case 7:return Y.style!==4?[3,9]:[4,this.renderDoubleBorder(Y.color,Y.width,L,n.curves)];case 8:return we.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Y.color,L,n.curves)];case 10:we.sent(),we.label=11;case 11:L++,we.label=12;case 12:return O++,[3,3];case 13:return[2]}})})},t.prototype.renderDashedDottedBorder=function(n,s,d,g,U){return f(this,void 0,void 0,function(){var L,O,X,Y,ne,we,Ve,Se,Le,gA,Ze,Ye,QA,BA,pA,Ge,pA,Ge;return x(this,function(vA){return this.ctx.save(),L=kf(g,d),O=wl(g,d),U===2&&(this.path(O),this.ctx.clip()),Nt(O[0])?(X=O[0].start.x,Y=O[0].start.y):(X=O[0].x,Y=O[0].y),Nt(O[1])?(ne=O[1].end.x,we=O[1].end.y):(ne=O[1].x,we=O[1].y),d===0||d===2?Ve=Math.abs(X-ne):Ve=Math.abs(Y-we),this.ctx.beginPath(),U===3?this.formatPath(L):this.formatPath(O.slice(0,2)),Se=s<3?s*3:s*2,Le=s<3?s*2:s,U===3&&(Se=s,Le=s),gA=!0,Ve<=Se*2?gA=!1:Ve<=Se*2+Le?(Ze=Ve/(2*Se+Le),Se*=Ze,Le*=Ze):(Ye=Math.floor((Ve+Le)/(Se+Le)),QA=(Ve-Ye*Se)/(Ye-1),BA=(Ve-(Ye+1)*Se)/Ye,Le=BA<=0||Math.abs(Le-QA)<Math.abs(Le-BA)?QA:BA),gA&&(U===3?this.ctx.setLineDash([0,Se+Le]):this.ctx.setLineDash([Se,Le])),U===3?(this.ctx.lineCap="round",this.ctx.lineWidth=s):this.ctx.lineWidth=s*2+1.1,this.ctx.strokeStyle=qA(n),this.ctx.stroke(),this.ctx.setLineDash([]),U===2&&(Nt(O[0])&&(pA=O[3],Ge=O[0],this.ctx.beginPath(),this.formatPath([new Ke(pA.end.x,pA.end.y),new Ke(Ge.start.x,Ge.start.y)]),this.ctx.stroke()),Nt(O[1])&&(pA=O[1],Ge=O[2],this.ctx.beginPath(),this.formatPath([new Ke(pA.end.x,pA.end.y),new Ke(Ge.start.x,Ge.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},t.prototype.render=function(n){return f(this,void 0,void 0,function(){var s;return x(this,function(d){switch(d.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=qA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),s=Pf(n),[4,this.renderStack(s)];case 1:return d.sent(),this.applyEffects([]),[2,this.canvas]}})})},t})(vl),Jf=function(r){return r instanceof Wo||r instanceof $o?!0:r instanceof Ra&&r.type!==Qn&&r.type!==jn},Yf=function(r,t){switch(r){case 0:return Sn(t);case 2:return If(t);case 1:default:return Tn(t)}},zf=function(r){switch(r){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Zf=["-apple-system","system-ui"],qf=function(r){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?r.filter(function(t){return Zf.indexOf(t)===-1}):r},em=(function(r){l(t,r);function t(n,s){var d=r.call(this,n,s)||this;return d.canvas=s.canvas?s.canvas:document.createElement("canvas"),d.ctx=d.canvas.getContext("2d"),d.options=s,d.canvas.width=Math.floor(s.width*s.scale),d.canvas.height=Math.floor(s.height*s.scale),d.canvas.style.width=s.width+"px",d.canvas.style.height=s.height+"px",d.ctx.scale(d.options.scale,d.options.scale),d.ctx.translate(-s.x,-s.y),d.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+s.width+"x"+s.height+" at "+s.x+","+s.y+") with scale "+s.scale),d}return t.prototype.render=function(n){return f(this,void 0,void 0,function(){var s,d;return x(this,function(g){switch(g.label){case 0:return s=Ta(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,Am(s)];case 1:return d=g.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=qA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(d,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},t})(vl),Am=function(r){return new Promise(function(t,n){var s=new Image;s.onload=function(){t(s)},s.onerror=n,s.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(r))})},tm=(function(){function r(t){var n=t.id,s=t.enabled;this.id=n,this.enabled=s,this.start=Date.now()}return r.prototype.debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,E([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.getTime=function(){return Date.now()-this.start},r.prototype.info=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,E([this.id,this.getTime()+"ms"],t))},r.prototype.warn=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,E([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.prototype.error=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,E([this.id,this.getTime()+"ms"],t)):this.info.apply(this,t))},r.instances={},r})(),rm=(function(){function r(t,n){var s;this.windowBounds=n,this.instanceName="#"+r.instanceCount++,this.logger=new tm({id:this.instanceName,enabled:t.logging}),this.cache=(s=t.cache)!==null&&s!==void 0?s:new vf(this,t)}return r.instanceCount=1,r})(),sm=function(r,t){return t===void 0&&(t={}),nm(r,t)};typeof window<"u"&&hl.setContext(window);var nm=function(r,t){return f(void 0,void 0,void 0,function(){var n,s,d,g,U,L,O,X,Y,ne,we,Ve,Se,Le,gA,Ze,Ye,QA,BA,pA,vA,Ge,vA,CA,hA,XA,mt,bt,DA,st,vr,gt,xt,Dr,$t,Cr,Hr,Rr,sr,Pr;return x(this,function(nr){switch(nr.label){case 0:if(!r||typeof r!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=r.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(s=n.defaultView,!s)throw new Error("Document is not attached to a Window");return d={allowTaint:(CA=t.allowTaint)!==null&&CA!==void 0?CA:!1,imageTimeout:(hA=t.imageTimeout)!==null&&hA!==void 0?hA:15e3,proxy:t.proxy,useCORS:(XA=t.useCORS)!==null&&XA!==void 0?XA:!1},g=p({logging:(mt=t.logging)!==null&&mt!==void 0?mt:!0,cache:t.cache},d),U={windowWidth:(bt=t.windowWidth)!==null&&bt!==void 0?bt:s.innerWidth,windowHeight:(DA=t.windowHeight)!==null&&DA!==void 0?DA:s.innerHeight,scrollX:(st=t.scrollX)!==null&&st!==void 0?st:s.pageXOffset,scrollY:(vr=t.scrollY)!==null&&vr!==void 0?vr:s.pageYOffset},L=new u(U.scrollX,U.scrollY,U.windowWidth,U.windowHeight),O=new rm(g,L),X=(gt=t.foreignObjectRendering)!==null&&gt!==void 0?gt:!1,Y={allowTaint:(xt=t.allowTaint)!==null&&xt!==void 0?xt:!1,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:X,copyStyles:X},O.logger.debug("Starting document clone with size "+L.width+"x"+L.height+" scrolled to "+-L.left+","+-L.top),ne=new ul(O,r,Y),we=ne.clonedReferenceElement,we?[4,ne.toIFrame(n,L)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Ve=nr.sent(),Se=Oa(we)||nf(we)?o(we.ownerDocument):j(O,we),Le=Se.width,gA=Se.height,Ze=Se.left,Ye=Se.top,QA=am(O,we,t.backgroundColor),BA={canvas:t.canvas,backgroundColor:QA,scale:($t=(Dr=t.scale)!==null&&Dr!==void 0?Dr:s.devicePixelRatio)!==null&&$t!==void 0?$t:1,x:((Cr=t.x)!==null&&Cr!==void 0?Cr:0)+Ze,y:((Hr=t.y)!==null&&Hr!==void 0?Hr:0)+Ye,width:(Rr=t.width)!==null&&Rr!==void 0?Rr:Math.ceil(Le),height:(sr=t.height)!==null&&sr!==void 0?sr:Math.ceil(gA)},X?(O.logger.debug("Document cloned, using foreign object rendering"),vA=new em(O,BA),[4,vA.render(we)]):[3,3];case 2:return pA=nr.sent(),[3,5];case 3:return O.logger.debug("Document cloned, element located at "+Ze+","+Ye+" with size "+Le+"x"+gA+" using computed rendering"),O.logger.debug("Starting DOM parsing"),Ge=Yo(O,we),QA===Ge.styles.backgroundColor&&(Ge.styles.backgroundColor=tr.TRANSPARENT),O.logger.debug("Starting renderer for element at "+BA.x+","+BA.y+" with size "+BA.width+"x"+BA.height),vA=new Xf(O,BA),[4,vA.render(Ge)];case 4:pA=nr.sent(),nr.label=5;case 5:return(!((Pr=t.removeContainer)!==null&&Pr!==void 0)||Pr)&&(ul.destroy(Ve)||O.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),O.logger.debug("Finished rendering"),[2,pA]}})})},am=function(r,t,n){var s=t.ownerDocument,d=s.documentElement?Us(r,getComputedStyle(s.documentElement).backgroundColor):tr.TRANSPARENT,g=s.body?Us(r,getComputedStyle(s.body).backgroundColor):tr.TRANSPARENT,U=typeof n=="string"?Us(r,n):n===null?tr.TRANSPARENT:4294967295;return t===s.documentElement?Br(d)?Br(g)?U:g:d:U};return sm}))})(_n)),_n.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var Dl;function Ag(){return Dl||(Dl=1,(function(A,a){(function(l,p){A.exports=p(Zm,eg())})(self,function(i,l){return(function(){var p={"./src/plugin/hyperlinks.js":(function(u,j,o){o.r(j),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/es.string.link.js");var B=o("./src/worker.js"),h=o("./src/utils.js"),b=[],w={toContainer:B.default.prototype.toContainer,toPdf:B.default.prototype.toPdf};B.default.prototype.toContainer=function(){return w.toContainer.call(this).then(function(){if(this.opt.enableLinks){var N=this.prop.container,Q=N.querySelectorAll("a"),m=(0,h.unitConvert)(N.getBoundingClientRect(),this.prop.pageSize.k);b=[],Array.prototype.forEach.call(Q,function(y){for(var D=y.getClientRects(),H=0;H<D.length;H++){var $=(0,h.unitConvert)(D[H],this.prop.pageSize.k);$.left-=m.left,$.top-=m.top;var z=Math.floor($.top/this.prop.pageSize.inner.height)+1,ie=this.opt.margin[0]+$.top%this.prop.pageSize.inner.height,re=this.opt.margin[1]+$.left;b.push({page:z,top:ie,left:re,clientRect:$,link:y})}},this)}})},B.default.prototype.toPdf=function(){return w.toPdf.call(this).then(function(){if(this.opt.enableLinks){b.forEach(function(Q){this.prop.pdf.setPage(Q.page),this.prop.pdf.link(Q.left,Q.top,Q.clientRect.width,Q.clientRect.height,{url:Q.link.href})},this);var N=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(N)}})}}),"./src/plugin/jspdf-plugin.js":(function(u,j,o){o.r(j),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");var B=o("jspdf");function h(b){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h=function(T){return typeof T}:h=function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},h(b)}B.jsPDF.getPageSize=function(b,w,T){if(h(b)==="object"){var I=b;b=I.orientation,w=I.unit||w,T=I.format||T}w=w||"mm",T=T||"a4",b=(""+(b||"P")).toLowerCase();var N=(""+T).toLowerCase(),Q={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(w){case"pt":var m=1;break;case"mm":var m=72/25.4;break;case"cm":var m=72/2.54;break;case"in":var m=72;break;case"px":var m=72/96;break;case"pc":var m=12;break;case"em":var m=12;break;case"ex":var m=6;break;default:throw"Invalid unit: "+w}if(Q.hasOwnProperty(N))var y=Q[N][1]/m,D=Q[N][0]/m;else try{var y=T[1],D=T[0]}catch{throw new Error("Invalid format: "+T)}if(b==="p"||b==="portrait"){if(b="p",D>y){var H=D;D=y,y=H}}else if(b==="l"||b==="landscape"){if(b="l",y>D){var H=D;D=y,y=H}}else throw"Invalid orientation: "+b;var $={width:D,height:y,unit:w,k:m};return $},j.default=B.jsPDF}),"./src/plugin/pagebreaks.js":(function(u,j,o){o.r(j),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.array.slice.js"),o("./node_modules/core-js/modules/es.array.join.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js"),o("./node_modules/core-js/modules/es.object.keys.js");var B=o("./src/worker.js"),h=o("./src/utils.js"),b={toContainer:B.default.prototype.toContainer};B.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},B.default.prototype.toContainer=function(){return b.toContainer.call(this).then(function(){var I=this.prop.container,N=this.prop.pageSize.inner.px.height,Q=[].concat(this.opt.pagebreak.mode),m={avoidAll:Q.indexOf("avoid-all")!==-1,css:Q.indexOf("css")!==-1,legacy:Q.indexOf("legacy")!==-1},y={},D=this;["before","after","avoid"].forEach(function(z){var ie=m.avoidAll&&z==="avoid";y[z]=ie?[]:[].concat(D.opt.pagebreak[z]||[]),y[z].length>0&&(y[z]=Array.prototype.slice.call(I.querySelectorAll(y[z].join(", "))))});var H=I.querySelectorAll(".html2pdf__page-break");H=Array.prototype.slice.call(H);var $=I.querySelectorAll("*");Array.prototype.forEach.call($,function(ie){var re={before:!1,after:m.legacy&&H.indexOf(ie)!==-1,avoid:m.avoidAll};if(m.css){var F=window.getComputedStyle(ie),C=["always","page","left","right"],M=["avoid","avoid-page"];re={before:re.before||C.indexOf(F.breakBefore||F.pageBreakBefore)!==-1,after:re.after||C.indexOf(F.breakAfter||F.pageBreakAfter)!==-1,avoid:re.avoid||M.indexOf(F.breakInside||F.pageBreakInside)!==-1}}Object.keys(re).forEach(function(se){re[se]=re[se]||y[se].indexOf(ie)!==-1});var R=ie.getBoundingClientRect();if(re.avoid&&!re.before){var S=Math.floor(R.top/N),K=Math.floor(R.bottom/N),Z=Math.abs(R.bottom-R.top)/N;K!==S&&Z<=1&&(re.before=!0)}if(re.before){var de=(0,h.createElement)("div",{style:{display:"block",height:N-R.top%N+"px"}});ie.parentNode.insertBefore(de,ie)}if(re.after){var de=(0,h.createElement)("div",{style:{display:"block",height:N-R.bottom%N+"px"}});ie.parentNode.insertBefore(de,ie.nextSibling)}})})}}),"./src/utils.js":(function(u,j,o){o.r(j),o.d(j,{objType:function(){return h},createElement:function(){return b},cloneNode:function(){return w},unitConvert:function(){return T},toPx:function(){return I}}),o("./node_modules/core-js/modules/es.number.constructor.js"),o("./node_modules/core-js/modules/es.symbol.js"),o("./node_modules/core-js/modules/es.symbol.description.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.symbol.iterator.js"),o("./node_modules/core-js/modules/es.array.iterator.js"),o("./node_modules/core-js/modules/es.string.iterator.js"),o("./node_modules/core-js/modules/web.dom-collections.iterator.js");function B(N){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?B=function(m){return typeof m}:B=function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},B(N)}var h=function(Q){var m=B(Q);return m==="undefined"?"undefined":m==="string"||Q instanceof String?"string":m==="number"||Q instanceof Number?"number":m==="function"||Q instanceof Function?"function":Q&&Q.constructor===Array?"array":Q&&Q.nodeType===1?"element":m==="object"?"object":"unknown"},b=function(Q,m){var y=document.createElement(Q);if(m.className&&(y.className=m.className),m.innerHTML){y.innerHTML=m.innerHTML;for(var D=y.getElementsByTagName("script"),H=D.length;H-- >0;null)D[H].parentNode.removeChild(D[H])}for(var $ in m.style)y.style[$]=m.style[$];return y},w=function N(Q,m){for(var y=Q.nodeType===3?document.createTextNode(Q.nodeValue):Q.cloneNode(!1),D=Q.firstChild;D;D=D.nextSibling)(m===!0||D.nodeType!==1||D.nodeName!=="SCRIPT")&&y.appendChild(N(D,m));return Q.nodeType===1&&(Q.nodeName==="CANVAS"?(y.width=Q.width,y.height=Q.height,y.getContext("2d").drawImage(Q,0,0)):(Q.nodeName==="TEXTAREA"||Q.nodeName==="SELECT")&&(y.value=Q.value),y.addEventListener("load",function(){y.scrollTop=Q.scrollTop,y.scrollLeft=Q.scrollLeft},!0)),y},T=function(Q,m){if(h(Q)==="number")return Q*72/96/m;var y={};for(var D in Q)y[D]=Q[D]*72/96/m;return y},I=function(Q,m){return Math.floor(Q*m/72*96)}}),"./src/worker.js":(function(u,j,o){o.r(j),o("./node_modules/core-js/modules/es.object.assign.js"),o("./node_modules/core-js/modules/es.array.map.js"),o("./node_modules/core-js/modules/es.object.keys.js"),o("./node_modules/core-js/modules/es.array.concat.js"),o("./node_modules/core-js/modules/es.object.to-string.js"),o("./node_modules/core-js/modules/es.regexp.to-string.js"),o("./node_modules/core-js/modules/es.function.name.js"),o("./node_modules/core-js/modules/web.dom-collections.for-each.js");var B=o("jspdf"),h=o("html2canvas"),b=o("./src/utils.js"),w=o("./node_modules/es6-promise/dist/es6-promise.js"),T=o.n(w),I=T().Promise,N=function Q(m){var y=Object.assign(Q.convert(I.resolve()),JSON.parse(JSON.stringify(Q.template))),D=Q.convert(I.resolve(),y);return D=D.setProgress(1,Q,1,[Q]),D=D.set(m),D};N.prototype=Object.create(I.prototype),N.prototype.constructor=N,N.convert=function(m,y){return m.__proto__=y||N.prototype,m},N.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},N.prototype.from=function(m,y){function D(H){switch((0,b.objType)(H)){case"string":return"string";case"element":return H.nodeName.toLowerCase&&H.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(y=y||D(m),y){case"string":return this.set({src:(0,b.createElement)("div",{innerHTML:m})});case"element":return this.set({src:m});case"canvas":return this.set({canvas:m});case"img":return this.set({img:m});default:return this.error("Unknown source type.")}})},N.prototype.to=function(m){switch(m){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},N.prototype.toContainer=function(){var m=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(m).then(function(){var D={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},H={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};D.opacity=0;var $=(0,b.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,b.createElement)("div",{className:"html2pdf__overlay",style:D}),this.prop.container=(0,b.createElement)("div",{className:"html2pdf__container",style:H}),this.prop.container.appendChild($),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},N.prototype.toCanvas=function(){var m=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(m).then(function(){var D=Object.assign({},this.opt.html2canvas);return delete D.onrendered,h(this.prop.container,D)}).then(function(D){var H=this.opt.html2canvas.onrendered||function(){};H(D),this.prop.canvas=D,document.body.removeChild(this.prop.overlay)})},N.prototype.toImg=function(){var m=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(m).then(function(){var D=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=D})},N.prototype.toPdf=function(){var m=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(m).then(function(){var D=this.prop.canvas,H=this.opt,$=D.height,z=Math.floor(D.width*this.prop.pageSize.inner.ratio),ie=Math.ceil($/z),re=this.prop.pageSize.inner.height,F=document.createElement("canvas"),C=F.getContext("2d");F.width=D.width,F.height=z,this.prop.pdf=this.prop.pdf||new B.jsPDF(H.jsPDF);for(var M=0;M<ie;M++){M===ie-1&&$%z!==0&&(F.height=$%z,re=F.height*this.prop.pageSize.inner.width/F.width);var R=F.width,S=F.height;C.fillStyle="white",C.fillRect(0,0,R,S),C.drawImage(D,0,M*z,R,S,0,0,R,S),M&&this.prop.pdf.addPage();var K=F.toDataURL("image/"+H.image.type,H.image.quality);this.prop.pdf.addImage(K,H.image.type,H.margin[1],H.margin[0],this.prop.pageSize.inner.width,re)}})},N.prototype.output=function(m,y,D){return D=D||"pdf",D.toLowerCase()==="img"||D.toLowerCase()==="image"?this.outputImg(m,y):this.outputPdf(m,y)},N.prototype.outputPdf=function(m,y){var D=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(D).then(function(){return this.prop.pdf.output(m,y)})},N.prototype.outputImg=function(m,y){var D=[function(){return this.prop.img||this.toImg()}];return this.thenList(D).then(function(){switch(m){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+m+'" is not supported.'}})},N.prototype.save=function(m){var y=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(y).set(m?{filename:m}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},N.prototype.set=function(m){if((0,b.objType)(m)!=="object")return this;var y=Object.keys(m||{}).map(function(D){switch(D){case"margin":return this.setMargin.bind(this,m.margin);case"jsPDF":return function(){return this.opt.jsPDF=m.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,m.pageSize);default:return D in N.template.prop?function(){this.prop[D]=m[D]}:function(){this.opt[D]=m[D]}}},this);return this.then(function(){return this.thenList(y)})},N.prototype.get=function(m,y){return this.then(function(){var H=m in N.template.prop?this.prop[m]:this.opt[m];return y?y(H):H})},N.prototype.setMargin=function(m){return this.then(function(){switch((0,b.objType)(m)){case"number":m=[m,m,m,m];case"array":if(m.length===2&&(m=[m[0],m[1],m[0],m[1]]),m.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=m}).then(this.setPageSize)},N.prototype.setPageSize=function(m){return this.then(function(){m=m||B.jsPDF.getPageSize(this.opt.jsPDF),m.hasOwnProperty("inner")||(m.inner={width:m.width-this.opt.margin[1]-this.opt.margin[3],height:m.height-this.opt.margin[0]-this.opt.margin[2]},m.inner.px={width:(0,b.toPx)(m.inner.width,m.k),height:(0,b.toPx)(m.inner.height,m.k)},m.inner.ratio=m.inner.height/m.inner.width),this.prop.pageSize=m})},N.prototype.setProgress=function(m,y,D,H){return m!=null&&(this.progress.val=m),y!=null&&(this.progress.state=y),D!=null&&(this.progress.n=D),H!=null&&(this.progress.stack=H),this.progress.ratio=this.progress.val/this.progress.state,this},N.prototype.updateProgress=function(m,y,D,H){return this.setProgress(m?this.progress.val+m:null,y||null,D?this.progress.n+D:null,H?this.progress.stack.concat(H):null)},N.prototype.then=function(m,y){var D=this;return this.thenCore(m,y,function($,z){return D.updateProgress(null,null,1,[$]),I.prototype.then.call(this,function(re){return D.updateProgress(null,$),re}).then($,z).then(function(re){return D.updateProgress(1),re})})},N.prototype.thenCore=function(m,y,D){D=D||I.prototype.then;var H=this;m&&(m=m.bind(H)),y&&(y=y.bind(H));var $=I.toString().indexOf("[native code]")!==-1&&I.name==="Promise",z=$?H:N.convert(Object.assign({},H),I.prototype),ie=D.call(z,m,y);return N.convert(ie,H.__proto__)},N.prototype.thenExternal=function(m,y){return I.prototype.then.call(this,m,y)},N.prototype.thenList=function(m){var y=this;return m.forEach(function(H){y=y.thenCore(H)}),y},N.prototype.catch=function(Q){Q&&(Q=Q.bind(this));var m=I.prototype.catch.call(this,Q);return N.convert(m,this)},N.prototype.catchExternal=function(m){return I.prototype.catch.call(this,m)},N.prototype.error=function(m){return this.then(function(){throw new Error(m)})},N.prototype.using=N.prototype.set,N.prototype.saveAs=N.prototype.save,N.prototype.export=N.prototype.output,N.prototype.run=N.prototype.then,j.default=N}),"./node_modules/core-js/internals/a-function.js":(function(u){u.exports=function(j){if(typeof j!="function")throw TypeError(String(j)+" is not a function");return j}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-object.js");u.exports=function(h){if(!B(h)&&h!==null)throw TypeError("Can't set "+String(h)+" as a prototype");return h}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/well-known-symbol.js"),h=o("./node_modules/core-js/internals/object-create.js"),b=o("./node_modules/core-js/internals/object-define-property.js"),w=B("unscopables"),T=Array.prototype;T[w]==null&&b.f(T,w,{configurable:!0,value:h(null)}),u.exports=function(I){T[w][I]=!0}}),"./node_modules/core-js/internals/an-object.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-object.js");u.exports=function(h){if(!B(h))throw TypeError(String(h)+" is not an object");return h}}),"./node_modules/core-js/internals/array-for-each.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/array-iteration.js").forEach,h=o("./node_modules/core-js/internals/array-method-is-strict.js"),b=h("forEach");u.exports=b?[].forEach:function(T){return B(this,T,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-includes.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/to-length.js"),b=o("./node_modules/core-js/internals/to-absolute-index.js"),w=function(T){return function(I,N,Q){var m=B(I),y=h(m.length),D=b(Q,y),H;if(T&&N!=N){for(;y>D;)if(H=m[D++],H!=H)return!0}else for(;y>D;D++)if((T||D in m)&&m[D]===N)return T||D||0;return!T&&-1}};u.exports={includes:w(!0),indexOf:w(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/function-bind-context.js"),h=o("./node_modules/core-js/internals/indexed-object.js"),b=o("./node_modules/core-js/internals/to-object.js"),w=o("./node_modules/core-js/internals/to-length.js"),T=o("./node_modules/core-js/internals/array-species-create.js"),I=[].push,N=function(Q){var m=Q==1,y=Q==2,D=Q==3,H=Q==4,$=Q==6,z=Q==7,ie=Q==5||$;return function(re,F,C,M){for(var R=b(re),S=h(R),K=B(F,C,3),Z=w(S.length),de=0,se=M||T,me=m?se(re,Z):y||z?se(re,0):void 0,Ie,De;Z>de;de++)if((ie||de in S)&&(Ie=S[de],De=K(Ie,de,R),Q))if(m)me[de]=De;else if(De)switch(Q){case 3:return!0;case 5:return Ie;case 6:return de;case 2:I.call(me,Ie)}else switch(Q){case 4:return!1;case 7:I.call(me,Ie)}return $?-1:D||H?H:me}};u.exports={forEach:N(0),map:N(1),filter:N(2),some:N(3),every:N(4),find:N(5),findIndex:N(6),filterReject:N(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/well-known-symbol.js"),b=o("./node_modules/core-js/internals/engine-v8-version.js"),w=h("species");u.exports=function(T){return b>=51||!B(function(){var I=[],N=I.constructor={};return N[w]=function(){return{foo:1}},I[T](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js");u.exports=function(h,b){var w=[][h];return!!w&&B(function(){w.call(null,b||function(){throw 1},1)})}}),"./node_modules/core-js/internals/array-species-constructor.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-object.js"),h=o("./node_modules/core-js/internals/is-array.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=b("species");u.exports=function(T){var I;return h(T)&&(I=T.constructor,typeof I=="function"&&(I===Array||h(I.prototype))?I=void 0:B(I)&&(I=I[w],I===null&&(I=void 0))),I===void 0?Array:I}}),"./node_modules/core-js/internals/array-species-create.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/array-species-constructor.js");u.exports=function(h,b){return new(B(h))(b===0?0:b)}}),"./node_modules/core-js/internals/classof-raw.js":(function(u){var j={}.toString;u.exports=function(o){return j.call(o).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/classof-raw.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=b("toStringTag"),T=h((function(){return arguments})())=="Arguments",I=function(N,Q){try{return N[Q]}catch{}};u.exports=B?h:function(N){var Q,m,y;return N===void 0?"Undefined":N===null?"Null":typeof(m=I(Q=Object(N),w))=="string"?m:T?h(Q):(y=h(Q))=="Object"&&typeof Q.callee=="function"?"Arguments":y}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/has.js"),h=o("./node_modules/core-js/internals/own-keys.js"),b=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),w=o("./node_modules/core-js/internals/object-define-property.js");u.exports=function(T,I){for(var N=h(I),Q=w.f,m=b.f,y=0;y<N.length;y++){var D=N[y];B(T,D)||Q(T,D,m(I,D))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js");u.exports=!B(function(){function h(){}return h.prototype.constructor=null,Object.getPrototypeOf(new h)!==h.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/require-object-coercible.js"),h=o("./node_modules/core-js/internals/to-string.js"),b=/"/g;u.exports=function(w,T,I,N){var Q=h(B(w)),m="<"+T;return I!==""&&(m+=" "+I+'="'+h(N).replace(b,"&quot;")+'"'),m+">"+Q+"</"+T+">"}}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,h=o("./node_modules/core-js/internals/object-create.js"),b=o("./node_modules/core-js/internals/create-property-descriptor.js"),w=o("./node_modules/core-js/internals/set-to-string-tag.js"),T=o("./node_modules/core-js/internals/iterators.js"),I=function(){return this};u.exports=function(N,Q,m){var y=Q+" Iterator";return N.prototype=h(B,{next:b(1,m)}),w(N,y,!1,!0),T[y]=I,N}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),b=o("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=B?function(w,T,I){return h.f(w,T,b(1,I))}:function(w,T,I){return w[T]=I,w}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(u){u.exports=function(j,o){return{enumerable:!(j&1),configurable:!(j&2),writable:!(j&4),value:o}}}),"./node_modules/core-js/internals/create-property.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-property-key.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),b=o("./node_modules/core-js/internals/create-property-descriptor.js");u.exports=function(w,T,I){var N=B(T);N in w?h.f(w,N,b(0,I)):w[N]=I}}),"./node_modules/core-js/internals/define-iterator.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/create-iterator-constructor.js"),b=o("./node_modules/core-js/internals/object-get-prototype-of.js"),w=o("./node_modules/core-js/internals/object-set-prototype-of.js"),T=o("./node_modules/core-js/internals/set-to-string-tag.js"),I=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),N=o("./node_modules/core-js/internals/redefine.js"),Q=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/is-pure.js"),y=o("./node_modules/core-js/internals/iterators.js"),D=o("./node_modules/core-js/internals/iterators-core.js"),H=D.IteratorPrototype,$=D.BUGGY_SAFARI_ITERATORS,z=Q("iterator"),ie="keys",re="values",F="entries",C=function(){return this};u.exports=function(M,R,S,K,Z,de,se){h(S,R,K);var me=function(ke){if(ke===Z&&$e)return $e;if(!$&&ke in Xe)return Xe[ke];switch(ke){case ie:return function(){return new S(this,ke)};case re:return function(){return new S(this,ke)};case F:return function(){return new S(this,ke)}}return function(){return new S(this)}},Ie=R+" Iterator",De=!1,Xe=M.prototype,AA=Xe[z]||Xe["@@iterator"]||Z&&Xe[Z],$e=!$&&AA||me(Z),fA=R=="Array"&&Xe.entries||AA,ze,lA,cA;if(fA&&(ze=b(fA.call(new M)),H!==Object.prototype&&ze.next&&(!m&&b(ze)!==H&&(w?w(ze,H):typeof ze[z]!="function"&&I(ze,z,C)),T(ze,Ie,!0,!0),m&&(y[Ie]=C))),Z==re&&AA&&AA.name!==re&&(De=!0,$e=function(){return AA.call(this)}),(!m||se)&&Xe[z]!==$e&&I(Xe,z,$e),y[R]=$e,Z)if(lA={values:me(re),keys:de?$e:me(ie),entries:me(F)},se)for(cA in lA)($||De||!(cA in Xe))&&N(Xe,cA,lA[cA]);else B({target:R,proto:!0,forced:$||De},lA);return lA}}),"./node_modules/core-js/internals/define-well-known-symbol.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/path.js"),h=o("./node_modules/core-js/internals/has.js"),b=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),w=o("./node_modules/core-js/internals/object-define-property.js").f;u.exports=function(T){var I=B.Symbol||(B.Symbol={});h(I,T)||w(I,T,{value:b.f(T)})}}),"./node_modules/core-js/internals/descriptors.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js");u.exports=!B(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/is-object.js"),b=B.document,w=h(b)&&h(b.createElement);u.exports=function(T){return w?b.createElement(T):{}}}),"./node_modules/core-js/internals/dom-iterables.js":(function(u){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/engine-user-agent.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/get-built-in.js");u.exports=B("navigator","userAgent")||""}),"./node_modules/core-js/internals/engine-v8-version.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/engine-user-agent.js"),b=B.process,w=B.Deno,T=b&&b.versions||w&&w.version,I=T&&T.v8,N,Q;I?(N=I.split("."),Q=N[0]<4?1:N[0]+N[1]):h&&(N=h.match(/Edge\/(\d+)/),(!N||N[1]>=74)&&(N=h.match(/Chrome\/(\d+)/),N&&(Q=N[1]))),u.exports=Q&&+Q}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(u){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=o("./node_modules/core-js/internals/redefine.js"),T=o("./node_modules/core-js/internals/set-global.js"),I=o("./node_modules/core-js/internals/copy-constructor-properties.js"),N=o("./node_modules/core-js/internals/is-forced.js");u.exports=function(Q,m){var y=Q.target,D=Q.global,H=Q.stat,$,z,ie,re,F,C;if(D?z=B:H?z=B[y]||T(y,{}):z=(B[y]||{}).prototype,z)for(ie in m){if(F=m[ie],Q.noTargetGet?(C=h(z,ie),re=C&&C.value):re=z[ie],$=N(D?ie:y+(H?".":"#")+ie,Q.forced),!$&&re!==void 0){if(typeof F==typeof re)continue;I(F,re)}(Q.sham||re&&re.sham)&&b(F,"sham",!0),w(z,ie,F,Q)}}}),"./node_modules/core-js/internals/fails.js":(function(u){u.exports=function(j){try{return!!j()}catch{return!0}}}),"./node_modules/core-js/internals/function-bind-context.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/a-function.js");u.exports=function(h,b,w){if(B(h),b===void 0)return h;switch(w){case 0:return function(){return h.call(b)};case 1:return function(T){return h.call(b,T)};case 2:return function(T,I){return h.call(b,T,I)};case 3:return function(T,I,N){return h.call(b,T,I,N)}}return function(){return h.apply(b,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=function(b){return typeof b=="function"?b:void 0};u.exports=function(b,w){return arguments.length<2?h(B[b]):B[b]&&B[b][w]}}),"./node_modules/core-js/internals/global.js":(function(u){var j=function(o){return o&&o.Math==Math&&o};u.exports=j(typeof globalThis=="object"&&globalThis)||j(typeof window=="object"&&window)||j(typeof self=="object"&&self)||j(typeof kn=="object"&&kn)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-object.js"),h={}.hasOwnProperty;u.exports=Object.hasOwn||function(w,T){return h.call(B(w),T)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/html.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/get-built-in.js");u.exports=B("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/document-create-element.js");u.exports=!B&&!h(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/classof-raw.js"),b="".split;u.exports=B(function(){return!Object("z").propertyIsEnumerable(0)})?function(w){return h(w)=="String"?b.call(w,""):Object(w)}:Object}),"./node_modules/core-js/internals/inherit-if-required.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-object.js"),h=o("./node_modules/core-js/internals/object-set-prototype-of.js");u.exports=function(b,w,T){var I,N;return h&&typeof(I=w.constructor)=="function"&&I!==T&&B(N=I.prototype)&&N!==T.prototype&&h(b,N),b}}),"./node_modules/core-js/internals/inspect-source.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/shared-store.js"),h=Function.toString;typeof B.inspectSource!="function"&&(B.inspectSource=function(b){return h.call(b)}),u.exports=B.inspectSource}),"./node_modules/core-js/internals/internal-state.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/native-weak-map.js"),h=o("./node_modules/core-js/internals/global.js"),b=o("./node_modules/core-js/internals/is-object.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),T=o("./node_modules/core-js/internals/has.js"),I=o("./node_modules/core-js/internals/shared-store.js"),N=o("./node_modules/core-js/internals/shared-key.js"),Q=o("./node_modules/core-js/internals/hidden-keys.js"),m="Object already initialized",y=h.WeakMap,D,H,$,z=function(S){return $(S)?H(S):D(S,{})},ie=function(S){return function(K){var Z;if(!b(K)||(Z=H(K)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return Z}};if(B||I.state){var re=I.state||(I.state=new y),F=re.get,C=re.has,M=re.set;D=function(S,K){if(C.call(re,S))throw new TypeError(m);return K.facade=S,M.call(re,S,K),K},H=function(S){return F.call(re,S)||{}},$=function(S){return C.call(re,S)}}else{var R=N("state");Q[R]=!0,D=function(S,K){if(T(S,R))throw new TypeError(m);return K.facade=S,w(S,R,K),K},H=function(S){return T(S,R)?S[R]:{}},$=function(S){return T(S,R)}}u.exports={set:D,get:H,has:$,enforce:z,getterFor:ie}}),"./node_modules/core-js/internals/is-array.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/classof-raw.js");u.exports=Array.isArray||function(b){return B(b)=="Array"}}),"./node_modules/core-js/internals/is-forced.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js"),h=/#|\.prototype\./,b=function(Q,m){var y=T[w(Q)];return y==N?!0:y==I?!1:typeof m=="function"?B(m):!!m},w=b.normalize=function(Q){return String(Q).replace(h,".").toLowerCase()},T=b.data={},I=b.NATIVE="N",N=b.POLYFILL="P";u.exports=b}),"./node_modules/core-js/internals/is-object.js":(function(u){u.exports=function(j){return typeof j=="object"?j!==null:typeof j=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(u){u.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/use-symbol-as-uid.js");u.exports=h?function(b){return typeof b=="symbol"}:function(b){var w=B("Symbol");return typeof w=="function"&&Object(b)instanceof w}}),"./node_modules/core-js/internals/iterators-core.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js"),h=o("./node_modules/core-js/internals/object-get-prototype-of.js"),b=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),w=o("./node_modules/core-js/internals/has.js"),T=o("./node_modules/core-js/internals/well-known-symbol.js"),I=o("./node_modules/core-js/internals/is-pure.js"),N=T("iterator"),Q=!1,m=function(){return this},y,D,H;[].keys&&(H=[].keys(),"next"in H?(D=h(h(H)),D!==Object.prototype&&(y=D)):Q=!0);var $=y==null||B(function(){var z={};return y[N].call(z)!==z});$&&(y={}),(!I||$)&&!w(y,N)&&b(y,N,m),u.exports={IteratorPrototype:y,BUGGY_SAFARI_ITERATORS:Q}}),"./node_modules/core-js/internals/iterators.js":(function(u){u.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/engine-v8-version.js"),h=o("./node_modules/core-js/internals/fails.js");u.exports=!!Object.getOwnPropertySymbols&&!h(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&B&&B<41})}),"./node_modules/core-js/internals/native-weak-map.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/inspect-source.js"),b=B.WeakMap;u.exports=typeof b=="function"&&/native code/.test(h(b))}),"./node_modules/core-js/internals/object-assign.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/object-keys.js"),w=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),T=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),I=o("./node_modules/core-js/internals/to-object.js"),N=o("./node_modules/core-js/internals/indexed-object.js"),Q=Object.assign,m=Object.defineProperty;u.exports=!Q||h(function(){if(B&&Q({b:1},Q(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var y={},D={},H=Symbol(),$="abcdefghijklmnopqrst";return y[H]=7,$.split("").forEach(function(z){D[z]=z}),Q({},y)[H]!=7||b(Q({},D)).join("")!=$})?function(D,H){for(var $=I(D),z=arguments.length,ie=1,re=w.f,F=T.f;z>ie;)for(var C=N(arguments[ie++]),M=re?b(C).concat(re(C)):b(C),R=M.length,S=0,K;R>S;)K=M[S++],(!B||F.call(C,K))&&($[K]=C[K]);return $}:Q}),"./node_modules/core-js/internals/object-create.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/object-define-properties.js"),b=o("./node_modules/core-js/internals/enum-bug-keys.js"),w=o("./node_modules/core-js/internals/hidden-keys.js"),T=o("./node_modules/core-js/internals/html.js"),I=o("./node_modules/core-js/internals/document-create-element.js"),N=o("./node_modules/core-js/internals/shared-key.js"),Q=">",m="<",y="prototype",D="script",H=N("IE_PROTO"),$=function(){},z=function(M){return m+D+Q+M+m+"/"+D+Q},ie=function(M){M.write(z("")),M.close();var R=M.parentWindow.Object;return M=null,R},re=function(){var M=I("iframe"),R="java"+D+":",S;if(M.style)return M.style.display="none",T.appendChild(M),M.src=String(R),S=M.contentWindow.document,S.open(),S.write(z("document.F=Object")),S.close(),S.F},F,C=function(){try{F=new ActiveXObject("htmlfile")}catch{}C=document.domain&&F?ie(F):re()||ie(F);for(var M=b.length;M--;)delete C[y][b[M]];return C()};w[H]=!0,u.exports=Object.create||function(R,S){var K;return R!==null?($[y]=B(R),K=new $,$[y]=null,K[H]=R):K=C(),S===void 0?K:h(K,S)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js"),b=o("./node_modules/core-js/internals/an-object.js"),w=o("./node_modules/core-js/internals/object-keys.js");u.exports=B?Object.defineProperties:function(I,N){b(I);for(var Q=w(N),m=Q.length,y=0,D;m>y;)h.f(I,D=Q[y++],N[D]);return I}}),"./node_modules/core-js/internals/object-define-property.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/ie8-dom-define.js"),b=o("./node_modules/core-js/internals/an-object.js"),w=o("./node_modules/core-js/internals/to-property-key.js"),T=Object.defineProperty;j.f=B?T:function(N,Q,m){if(b(N),Q=w(Q),b(m),h)try{return T(N,Q,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(N[Q]=m.value),N}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),b=o("./node_modules/core-js/internals/create-property-descriptor.js"),w=o("./node_modules/core-js/internals/to-indexed-object.js"),T=o("./node_modules/core-js/internals/to-property-key.js"),I=o("./node_modules/core-js/internals/has.js"),N=o("./node_modules/core-js/internals/ie8-dom-define.js"),Q=Object.getOwnPropertyDescriptor;j.f=B?Q:function(y,D){if(y=w(y),D=T(D),N)try{return Q(y,D)}catch{}if(I(y,D))return b(!h.f.call(y,D),y[D])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,b={}.toString,w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],T=function(I){try{return h(I)}catch{return w.slice()}};u.exports.f=function(N){return w&&b.call(N)=="[object Window]"?T(N):h(B(N))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/object-keys-internal.js"),h=o("./node_modules/core-js/internals/enum-bug-keys.js"),b=h.concat("length","prototype");j.f=Object.getOwnPropertyNames||function(T){return B(T,b)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(u,j){j.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/has.js"),h=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/shared-key.js"),w=o("./node_modules/core-js/internals/correct-prototype-getter.js"),T=b("IE_PROTO"),I=Object.prototype;u.exports=w?Object.getPrototypeOf:function(N){return N=h(N),B(N,T)?N[T]:typeof N.constructor=="function"&&N instanceof N.constructor?N.constructor.prototype:N instanceof Object?I:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/has.js"),h=o("./node_modules/core-js/internals/to-indexed-object.js"),b=o("./node_modules/core-js/internals/array-includes.js").indexOf,w=o("./node_modules/core-js/internals/hidden-keys.js");u.exports=function(T,I){var N=h(T),Q=0,m=[],y;for(y in N)!B(w,y)&&B(N,y)&&m.push(y);for(;I.length>Q;)B(N,y=I[Q++])&&(~b(m,y)||m.push(y));return m}}),"./node_modules/core-js/internals/object-keys.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/object-keys-internal.js"),h=o("./node_modules/core-js/internals/enum-bug-keys.js");u.exports=Object.keys||function(w){return B(w,h)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(u,j){var o={}.propertyIsEnumerable,B=Object.getOwnPropertyDescriptor,h=B&&!o.call({1:2},1);j.f=h?function(w){var T=B(this,w);return!!T&&T.enumerable}:o}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/an-object.js"),h=o("./node_modules/core-js/internals/a-possible-prototype.js");u.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var b=!1,w={},T;try{T=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,T.call(w,[]),b=w instanceof Array}catch{}return function(N,Q){return B(N),h(Q),b?T.call(N,Q):N.__proto__=Q,N}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/classof.js");u.exports=B?{}.toString:function(){return"[object "+h(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-object.js");u.exports=function(h,b){var w,T;if(b==="string"&&typeof(w=h.toString)=="function"&&!B(T=w.call(h))||typeof(w=h.valueOf)=="function"&&!B(T=w.call(h))||b!=="string"&&typeof(w=h.toString)=="function"&&!B(T=w.call(h)))return T;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/get-built-in.js"),h=o("./node_modules/core-js/internals/object-get-own-property-names.js"),b=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),w=o("./node_modules/core-js/internals/an-object.js");u.exports=B("Reflect","ownKeys")||function(I){var N=h.f(w(I)),Q=b.f;return Q?N.concat(Q(I)):N}}),"./node_modules/core-js/internals/path.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js");u.exports=B}),"./node_modules/core-js/internals/redefine.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),b=o("./node_modules/core-js/internals/has.js"),w=o("./node_modules/core-js/internals/set-global.js"),T=o("./node_modules/core-js/internals/inspect-source.js"),I=o("./node_modules/core-js/internals/internal-state.js"),N=I.get,Q=I.enforce,m=String(String).split("String");(u.exports=function(y,D,H,$){var z=$?!!$.unsafe:!1,ie=$?!!$.enumerable:!1,re=$?!!$.noTargetGet:!1,F;if(typeof H=="function"&&(typeof D=="string"&&!b(H,"name")&&h(H,"name",D),F=Q(H),F.source||(F.source=m.join(typeof D=="string"?D:""))),y===B){ie?y[D]=H:w(D,H);return}else z?!re&&y[D]&&(ie=!0):delete y[D];ie?y[D]=H:h(y,D,H)})(Function.prototype,"toString",function(){return typeof this=="function"&&N(this).source||T(this)})}),"./node_modules/core-js/internals/regexp-flags.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/an-object.js");u.exports=function(){var h=B(this),b="";return h.global&&(b+="g"),h.ignoreCase&&(b+="i"),h.multiline&&(b+="m"),h.dotAll&&(b+="s"),h.unicode&&(b+="u"),h.sticky&&(b+="y"),b}}),"./node_modules/core-js/internals/require-object-coercible.js":(function(u){u.exports=function(j){if(j==null)throw TypeError("Can't call method on "+j);return j}}),"./node_modules/core-js/internals/set-global.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js");u.exports=function(h,b){try{Object.defineProperty(B,h,{value:b,configurable:!0,writable:!0})}catch{B[h]=b}return b}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/object-define-property.js").f,h=o("./node_modules/core-js/internals/has.js"),b=o("./node_modules/core-js/internals/well-known-symbol.js"),w=b("toStringTag");u.exports=function(T,I,N){T&&!h(T=N?T:T.prototype,w)&&B(T,w,{configurable:!0,value:I})}}),"./node_modules/core-js/internals/shared-key.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/shared.js"),h=o("./node_modules/core-js/internals/uid.js"),b=B("keys");u.exports=function(w){return b[w]||(b[w]=h(w))}}),"./node_modules/core-js/internals/shared-store.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/set-global.js"),b="__core-js_shared__",w=B[b]||h(b,{});u.exports=w}),"./node_modules/core-js/internals/shared.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-pure.js"),h=o("./node_modules/core-js/internals/shared-store.js");(u.exports=function(b,w){return h[b]||(h[b]=w!==void 0?w:{})})("versions",[]).push({version:"3.16.0",mode:B?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-html-forced.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/fails.js");u.exports=function(h){return B(function(){var b=""[h]('"');return b!==b.toLowerCase()||b.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-integer.js"),h=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/require-object-coercible.js"),w=function(T){return function(I,N){var Q=h(b(I)),m=B(N),y=Q.length,D,H;return m<0||m>=y?T?"":void 0:(D=Q.charCodeAt(m),D<55296||D>56319||m+1===y||(H=Q.charCodeAt(m+1))<56320||H>57343?T?Q.charAt(m):D:T?Q.slice(m,m+2):(D-55296<<10)+(H-56320)+65536)}};u.exports={codeAt:w(!1),charAt:w(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/require-object-coercible.js"),h=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/whitespaces.js"),w="["+b+"]",T=RegExp("^"+w+w+"*"),I=RegExp(w+w+"*$"),N=function(Q){return function(m){var y=h(B(m));return Q&1&&(y=y.replace(T,"")),Q&2&&(y=y.replace(I,"")),y}};u.exports={start:N(1),end:N(2),trim:N(3)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-integer.js"),h=Math.max,b=Math.min;u.exports=function(w,T){var I=B(w);return I<0?h(I+T,0):b(I,T)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/indexed-object.js"),h=o("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(b){return B(h(b))}}),"./node_modules/core-js/internals/to-integer.js":(function(u){var j=Math.ceil,o=Math.floor;u.exports=function(B){return isNaN(B=+B)?0:(B>0?o:j)(B)}}),"./node_modules/core-js/internals/to-length.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-integer.js"),h=Math.min;u.exports=function(b){return b>0?h(B(b),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/require-object-coercible.js");u.exports=function(h){return Object(B(h))}}),"./node_modules/core-js/internals/to-primitive.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-object.js"),h=o("./node_modules/core-js/internals/is-symbol.js"),b=o("./node_modules/core-js/internals/ordinary-to-primitive.js"),w=o("./node_modules/core-js/internals/well-known-symbol.js"),T=w("toPrimitive");u.exports=function(I,N){if(!B(I)||h(I))return I;var Q=I[T],m;if(Q!==void 0){if(N===void 0&&(N="default"),m=Q.call(I,N),!B(m)||h(m))return m;throw TypeError("Can't convert object to primitive value")}return N===void 0&&(N="number"),b(I,N)}}),"./node_modules/core-js/internals/to-property-key.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-primitive.js"),h=o("./node_modules/core-js/internals/is-symbol.js");u.exports=function(b){var w=B(b,"string");return h(w)?w:String(w)}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/well-known-symbol.js"),h=B("toStringTag"),b={};b[h]="z",u.exports=String(b)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/is-symbol.js");u.exports=function(h){if(B(h))throw TypeError("Cannot convert a Symbol value to a string");return String(h)}}),"./node_modules/core-js/internals/uid.js":(function(u){var j=0,o=Math.random();u.exports=function(B){return"Symbol("+String(B===void 0?"":B)+")_"+(++j+o).toString(36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/native-symbol.js");u.exports=B&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/well-known-symbol.js");j.f=B}),"./node_modules/core-js/internals/well-known-symbol.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/shared.js"),b=o("./node_modules/core-js/internals/has.js"),w=o("./node_modules/core-js/internals/uid.js"),T=o("./node_modules/core-js/internals/native-symbol.js"),I=o("./node_modules/core-js/internals/use-symbol-as-uid.js"),N=h("wks"),Q=B.Symbol,m=I?Q:Q&&Q.withoutSetter||w;u.exports=function(y){return(!b(N,y)||!(T||typeof N[y]=="string"))&&(T&&b(Q,y)?N[y]=Q[y]:N[y]=m("Symbol."+y)),N[y]}}),"./node_modules/core-js/internals/whitespaces.js":(function(u){u.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/fails.js"),b=o("./node_modules/core-js/internals/is-array.js"),w=o("./node_modules/core-js/internals/is-object.js"),T=o("./node_modules/core-js/internals/to-object.js"),I=o("./node_modules/core-js/internals/to-length.js"),N=o("./node_modules/core-js/internals/create-property.js"),Q=o("./node_modules/core-js/internals/array-species-create.js"),m=o("./node_modules/core-js/internals/array-method-has-species-support.js"),y=o("./node_modules/core-js/internals/well-known-symbol.js"),D=o("./node_modules/core-js/internals/engine-v8-version.js"),H=y("isConcatSpreadable"),$=9007199254740991,z="Maximum allowed index exceeded",ie=D>=51||!h(function(){var M=[];return M[H]=!1,M.concat()[0]!==M}),re=m("concat"),F=function(M){if(!w(M))return!1;var R=M[H];return R!==void 0?!!R:b(M)},C=!ie||!re;B({target:"Array",proto:!0,forced:C},{concat:function(R){var S=T(this),K=Q(S,0),Z=0,de,se,me,Ie,De;for(de=-1,me=arguments.length;de<me;de++)if(De=de===-1?S:arguments[de],F(De)){if(Ie=I(De.length),Z+Ie>$)throw TypeError(z);for(se=0;se<Ie;se++,Z++)se in De&&N(K,Z,De[se])}else{if(Z>=$)throw TypeError(z);N(K,Z++,De)}return K.length=Z,K}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-indexed-object.js"),h=o("./node_modules/core-js/internals/add-to-unscopables.js"),b=o("./node_modules/core-js/internals/iterators.js"),w=o("./node_modules/core-js/internals/internal-state.js"),T=o("./node_modules/core-js/internals/define-iterator.js"),I="Array Iterator",N=w.set,Q=w.getterFor(I);u.exports=T(Array,"Array",function(m,y){N(this,{type:I,target:B(m),index:0,kind:y})},function(){var m=Q(this),y=m.target,D=m.kind,H=m.index++;return!y||H>=y.length?(m.target=void 0,{value:void 0,done:!0}):D=="keys"?{value:H,done:!1}:D=="values"?{value:y[H],done:!1}:{value:[H,y[H]],done:!1}},"values"),b.Arguments=b.Array,h("keys"),h("values"),h("entries")}),"./node_modules/core-js/modules/es.array.join.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/indexed-object.js"),b=o("./node_modules/core-js/internals/to-indexed-object.js"),w=o("./node_modules/core-js/internals/array-method-is-strict.js"),T=[].join,I=h!=Object,N=w("join",",");B({target:"Array",proto:!0,forced:I||!N},{join:function(m){return T.call(b(this),m===void 0?",":m)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/array-iteration.js").map,b=o("./node_modules/core-js/internals/array-method-has-species-support.js"),w=b("map");B({target:"Array",proto:!0,forced:!w},{map:function(I){return h(this,I,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/is-object.js"),b=o("./node_modules/core-js/internals/is-array.js"),w=o("./node_modules/core-js/internals/to-absolute-index.js"),T=o("./node_modules/core-js/internals/to-length.js"),I=o("./node_modules/core-js/internals/to-indexed-object.js"),N=o("./node_modules/core-js/internals/create-property.js"),Q=o("./node_modules/core-js/internals/well-known-symbol.js"),m=o("./node_modules/core-js/internals/array-method-has-species-support.js"),y=m("slice"),D=Q("species"),H=[].slice,$=Math.max;B({target:"Array",proto:!0,forced:!y},{slice:function(ie,re){var F=I(this),C=T(F.length),M=w(ie,C),R=w(re===void 0?C:re,C),S,K,Z;if(b(F)&&(S=F.constructor,typeof S=="function"&&(S===Array||b(S.prototype))?S=void 0:h(S)&&(S=S[D],S===null&&(S=void 0)),S===Array||S===void 0))return H.call(F,M,R);for(K=new(S===void 0?Array:S)($(R-M,0)),Z=0;M<R;M++,Z++)M in F&&N(K,Z,F[M]);return K.length=Z,K}})}),"./node_modules/core-js/modules/es.function.name.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/object-define-property.js").f,b=Function.prototype,w=b.toString,T=/^\s*function ([^ (]*)/,I="name";B&&!(I in b)&&h(b,I,{configurable:!0,get:function(){try{return w.call(this).match(T)[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/descriptors.js"),h=o("./node_modules/core-js/internals/global.js"),b=o("./node_modules/core-js/internals/is-forced.js"),w=o("./node_modules/core-js/internals/redefine.js"),T=o("./node_modules/core-js/internals/has.js"),I=o("./node_modules/core-js/internals/classof-raw.js"),N=o("./node_modules/core-js/internals/inherit-if-required.js"),Q=o("./node_modules/core-js/internals/is-symbol.js"),m=o("./node_modules/core-js/internals/to-primitive.js"),y=o("./node_modules/core-js/internals/fails.js"),D=o("./node_modules/core-js/internals/object-create.js"),H=o("./node_modules/core-js/internals/object-get-own-property-names.js").f,$=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,z=o("./node_modules/core-js/internals/object-define-property.js").f,ie=o("./node_modules/core-js/internals/string-trim.js").trim,re="Number",F=h[re],C=F.prototype,M=I(D(C))==re,R=function(se){if(Q(se))throw TypeError("Cannot convert a Symbol value to a number");var me=m(se,"number"),Ie,De,Xe,AA,$e,fA,ze,lA;if(typeof me=="string"&&me.length>2){if(me=ie(me),Ie=me.charCodeAt(0),Ie===43||Ie===45){if(De=me.charCodeAt(2),De===88||De===120)return NaN}else if(Ie===48){switch(me.charCodeAt(1)){case 66:case 98:Xe=2,AA=49;break;case 79:case 111:Xe=8,AA=55;break;default:return+me}for($e=me.slice(2),fA=$e.length,ze=0;ze<fA;ze++)if(lA=$e.charCodeAt(ze),lA<48||lA>AA)return NaN;return parseInt($e,Xe)}}return+me};if(b(re,!F(" 0o1")||!F("0b1")||F("+0x1"))){for(var S=function(me){var Ie=arguments.length<1?0:me,De=this;return De instanceof S&&(M?y(function(){C.valueOf.call(De)}):I(De)!=re)?N(new F(R(Ie)),De,S):R(Ie)},K=B?H(F):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Z=0,de;K.length>Z;Z++)T(F,de=K[Z])&&!T(S,de)&&z(S,de,$(F,de));S.prototype=C,C.constructor=S,w(h,re,S)}}),"./node_modules/core-js/modules/es.object.assign.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/object-assign.js");B({target:"Object",stat:!0,forced:Object.assign!==h},{assign:h})}),"./node_modules/core-js/modules/es.object.keys.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/to-object.js"),b=o("./node_modules/core-js/internals/object-keys.js"),w=o("./node_modules/core-js/internals/fails.js"),T=w(function(){b(1)});B({target:"Object",stat:!0,forced:T},{keys:function(N){return b(h(N))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/to-string-tag-support.js"),h=o("./node_modules/core-js/internals/redefine.js"),b=o("./node_modules/core-js/internals/object-to-string.js");B||h(Object.prototype,"toString",b,{unsafe:!0})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/redefine.js"),h=o("./node_modules/core-js/internals/an-object.js"),b=o("./node_modules/core-js/internals/to-string.js"),w=o("./node_modules/core-js/internals/fails.js"),T=o("./node_modules/core-js/internals/regexp-flags.js"),I="toString",N=RegExp.prototype,Q=N[I],m=w(function(){return Q.call({source:"a",flags:"b"})!="/a/b"}),y=Q.name!=I;(m||y)&&B(RegExp.prototype,I,function(){var H=h(this),$=b(H.source),z=H.flags,ie=b(z===void 0&&H instanceof RegExp&&!("flags"in N)?T.call(H):z);return"/"+$+"/"+ie},{unsafe:!0})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/string-multibyte.js").charAt,h=o("./node_modules/core-js/internals/to-string.js"),b=o("./node_modules/core-js/internals/internal-state.js"),w=o("./node_modules/core-js/internals/define-iterator.js"),T="String Iterator",I=b.set,N=b.getterFor(T);w(String,"String",function(Q){I(this,{type:T,string:h(Q),index:0})},function(){var m=N(this),y=m.string,D=m.index,H;return D>=y.length?{value:void 0,done:!0}:(H=B(y,D),m.index+=H.length,{value:H,done:!1})})}),"./node_modules/core-js/modules/es.string.link.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/create-html.js"),b=o("./node_modules/core-js/internals/string-html-forced.js");B({target:"String",proto:!0,forced:b("link")},{link:function(T){return h(this,"a","href",T)}})}),"./node_modules/core-js/modules/es.symbol.description.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/descriptors.js"),b=o("./node_modules/core-js/internals/global.js"),w=o("./node_modules/core-js/internals/has.js"),T=o("./node_modules/core-js/internals/is-object.js"),I=o("./node_modules/core-js/internals/object-define-property.js").f,N=o("./node_modules/core-js/internals/copy-constructor-properties.js"),Q=b.Symbol;if(h&&typeof Q=="function"&&(!("description"in Q.prototype)||Q().description!==void 0)){var m={},y=function(){var re=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),F=this instanceof y?new Q(re):re===void 0?Q():Q(re);return re===""&&(m[F]=!0),F};N(y,Q);var D=y.prototype=Q.prototype;D.constructor=y;var H=D.toString,$=String(Q("test"))=="Symbol(test)",z=/^Symbol\((.*)\)[^)]+$/;I(D,"description",{configurable:!0,get:function(){var re=T(this)?this.valueOf():this,F=H.call(re);if(w(m,re))return"";var C=$?F.slice(7,-1):F.replace(z,"$1");return C===""?void 0:C}}),B({global:!0,forced:!0},{Symbol:y})}}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/define-well-known-symbol.js");B("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/export.js"),h=o("./node_modules/core-js/internals/global.js"),b=o("./node_modules/core-js/internals/get-built-in.js"),w=o("./node_modules/core-js/internals/is-pure.js"),T=o("./node_modules/core-js/internals/descriptors.js"),I=o("./node_modules/core-js/internals/native-symbol.js"),N=o("./node_modules/core-js/internals/fails.js"),Q=o("./node_modules/core-js/internals/has.js"),m=o("./node_modules/core-js/internals/is-array.js"),y=o("./node_modules/core-js/internals/is-object.js"),D=o("./node_modules/core-js/internals/is-symbol.js"),H=o("./node_modules/core-js/internals/an-object.js"),$=o("./node_modules/core-js/internals/to-object.js"),z=o("./node_modules/core-js/internals/to-indexed-object.js"),ie=o("./node_modules/core-js/internals/to-property-key.js"),re=o("./node_modules/core-js/internals/to-string.js"),F=o("./node_modules/core-js/internals/create-property-descriptor.js"),C=o("./node_modules/core-js/internals/object-create.js"),M=o("./node_modules/core-js/internals/object-keys.js"),R=o("./node_modules/core-js/internals/object-get-own-property-names.js"),S=o("./node_modules/core-js/internals/object-get-own-property-names-external.js"),K=o("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Z=o("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),de=o("./node_modules/core-js/internals/object-define-property.js"),se=o("./node_modules/core-js/internals/object-property-is-enumerable.js"),me=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ie=o("./node_modules/core-js/internals/redefine.js"),De=o("./node_modules/core-js/internals/shared.js"),Xe=o("./node_modules/core-js/internals/shared-key.js"),AA=o("./node_modules/core-js/internals/hidden-keys.js"),$e=o("./node_modules/core-js/internals/uid.js"),fA=o("./node_modules/core-js/internals/well-known-symbol.js"),ze=o("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),lA=o("./node_modules/core-js/internals/define-well-known-symbol.js"),cA=o("./node_modules/core-js/internals/set-to-string-tag.js"),ke=o("./node_modules/core-js/internals/internal-state.js"),nA=o("./node_modules/core-js/internals/array-iteration.js").forEach,Me=Xe("hidden"),_="Symbol",Ce="prototype",ce=fA("toPrimitive"),Be=ke.set,Je=ke.getterFor(_),ee=Object[Ce],ve=h.Symbol,ue=b("JSON","stringify"),Qe=Z.f,he=de.f,He=S.f,ye=se.f,We=De("symbols"),rA=De("op-symbols"),v=De("string-to-symbol-registry"),ge=De("symbol-to-string-registry"),fe=De("wks"),W=h.QObject,J=!W||!W[Ce]||!W[Ce].findChild,Ae=T&&N(function(){return C(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a!=7})?function(oe,q,xe){var le=Qe(ee,q);le&&delete ee[q],he(oe,q,xe),le&&oe!==ee&&he(ee,q,le)}:he,je=function(oe,q){var xe=We[oe]=C(ve[Ce]);return Be(xe,{type:_,tag:oe,description:q}),T||(xe.description=q),xe},Ne=function(q,xe,le){q===ee&&Ne(rA,xe,le),H(q);var Fe=ie(xe);return H(le),Q(We,Fe)?(le.enumerable?(Q(q,Me)&&q[Me][Fe]&&(q[Me][Fe]=!1),le=C(le,{enumerable:F(0,!1)})):(Q(q,Me)||he(q,Me,F(1,{})),q[Me][Fe]=!0),Ae(q,Fe,le)):he(q,Fe,le)},te=function(q,xe){H(q);var le=z(xe),Fe=M(le).concat(G(le));return nA(Fe,function(Ue){(!T||c.call(le,Ue))&&Ne(q,Ue,le[Ue])}),q},Ee=function(q,xe){return xe===void 0?C(q):te(C(q),xe)},c=function(q){var xe=ie(q),le=ye.call(this,xe);return this===ee&&Q(We,xe)&&!Q(rA,xe)?!1:le||!Q(this,xe)||!Q(We,xe)||Q(this,Me)&&this[Me][xe]?le:!0},V=function(q,xe){var le=z(q),Fe=ie(xe);if(!(le===ee&&Q(We,Fe)&&!Q(rA,Fe))){var Ue=Qe(le,Fe);return Ue&&Q(We,Fe)&&!(Q(le,Me)&&le[Me][Fe])&&(Ue.enumerable=!0),Ue}},k=function(q){var xe=He(z(q)),le=[];return nA(xe,function(Fe){!Q(We,Fe)&&!Q(AA,Fe)&&le.push(Fe)}),le},G=function(q){var xe=q===ee,le=He(xe?rA:z(q)),Fe=[];return nA(le,function(Ue){Q(We,Ue)&&(!xe||Q(ee,Ue))&&Fe.push(We[Ue])}),Fe};if(I||(ve=function(){if(this instanceof ve)throw TypeError("Symbol is not a constructor");var q=!arguments.length||arguments[0]===void 0?void 0:re(arguments[0]),xe=$e(q),le=function(Fe){this===ee&&le.call(rA,Fe),Q(this,Me)&&Q(this[Me],xe)&&(this[Me][xe]=!1),Ae(this,xe,F(1,Fe))};return T&&J&&Ae(ee,xe,{configurable:!0,set:le}),je(xe,q)},Ie(ve[Ce],"toString",function(){return Je(this).tag}),Ie(ve,"withoutSetter",function(oe){return je($e(oe),oe)}),se.f=c,de.f=Ne,Z.f=V,R.f=S.f=k,K.f=G,ze.f=function(oe){return je(fA(oe),oe)},T&&(he(ve[Ce],"description",{configurable:!0,get:function(){return Je(this).description}}),w||Ie(ee,"propertyIsEnumerable",c,{unsafe:!0}))),B({global:!0,wrap:!0,forced:!I,sham:!I},{Symbol:ve}),nA(M(fe),function(oe){lA(oe)}),B({target:_,stat:!0,forced:!I},{for:function(oe){var q=re(oe);if(Q(v,q))return v[q];var xe=ve(q);return v[q]=xe,ge[xe]=q,xe},keyFor:function(q){if(!D(q))throw TypeError(q+" is not a symbol");if(Q(ge,q))return ge[q]},useSetter:function(){J=!0},useSimple:function(){J=!1}}),B({target:"Object",stat:!0,forced:!I,sham:!T},{create:Ee,defineProperty:Ne,defineProperties:te,getOwnPropertyDescriptor:V}),B({target:"Object",stat:!0,forced:!I},{getOwnPropertyNames:k,getOwnPropertySymbols:G}),B({target:"Object",stat:!0,forced:N(function(){K.f(1)})},{getOwnPropertySymbols:function(q){return K.f($(q))}}),ue){var pe=!I||N(function(){var oe=ve();return ue([oe])!="[null]"||ue({a:oe})!="{}"||ue(Object(oe))!="{}"});B({target:"JSON",stat:!0,forced:pe},{stringify:function(q,xe,le){for(var Fe=[q],Ue=1,jA;arguments.length>Ue;)Fe.push(arguments[Ue++]);if(jA=xe,!(!y(xe)&&q===void 0||D(q)))return m(xe)||(xe=function(Te,Re){if(typeof jA=="function"&&(Re=jA.call(this,Te,Re)),!D(Re))return Re}),Fe[1]=xe,ue.apply(null,Fe)}})}ve[Ce][ce]||me(ve[Ce],ce,ve[Ce].valueOf),cA(ve,_),AA[Me]=!0}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/dom-iterables.js"),b=o("./node_modules/core-js/internals/array-for-each.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var T in h){var I=B[T],N=I&&I.prototype;if(N&&N.forEach!==b)try{w(N,"forEach",b)}catch{N.forEach=b}}}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(u,j,o){var B=o("./node_modules/core-js/internals/global.js"),h=o("./node_modules/core-js/internals/dom-iterables.js"),b=o("./node_modules/core-js/modules/es.array.iterator.js"),w=o("./node_modules/core-js/internals/create-non-enumerable-property.js"),T=o("./node_modules/core-js/internals/well-known-symbol.js"),I=T("iterator"),N=T("toStringTag"),Q=b.values;for(var m in h){var y=B[m],D=y&&y.prototype;if(D){if(D[I]!==Q)try{w(D,I,Q)}catch{D[I]=Q}if(D[N]||w(D,N,m),h[m]){for(var H in b)if(D[H]!==b[H])try{w(D,H,b[H])}catch{D[H]=b[H]}}}}}),"./node_modules/es6-promise/dist/es6-promise.js":(function(u){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(j,o){u.exports=o()})(this,(function(){function j(W){var J=typeof W;return W!==null&&(J==="object"||J==="function")}function o(W){return typeof W=="function"}var B=void 0;Array.isArray?B=Array.isArray:B=function(W){return Object.prototype.toString.call(W)==="[object Array]"};var h=B,b=0,w=void 0,T=void 0,I=function(J,Ae){M[b]=J,M[b+1]=Ae,b+=2,b===2&&(T?T(R):K())};function N(W){T=W}function Q(W){I=W}var m=typeof window<"u"?window:void 0,y=m||{},D=y.MutationObserver||y.WebKitMutationObserver,H=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",$=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function z(){return function(){return process.nextTick(R)}}function ie(){return typeof w<"u"?function(){w(R)}:C()}function re(){var W=0,J=new D(R),Ae=document.createTextNode("");return J.observe(Ae,{characterData:!0}),function(){Ae.data=W=++W%2}}function F(){var W=new MessageChannel;return W.port1.onmessage=R,function(){return W.port2.postMessage(0)}}function C(){var W=setTimeout;return function(){return W(R,1)}}var M=new Array(1e3);function R(){for(var W=0;W<b;W+=2){var J=M[W],Ae=M[W+1];J(Ae),M[W]=void 0,M[W+1]=void 0}b=0}function S(){try{var W=Function("return this")().require("vertx");return w=W.runOnLoop||W.runOnContext,ie()}catch{return C()}}var K=void 0;H?K=z():D?K=re():$?K=F():m===void 0?K=S():K=C();function Z(W,J){var Ae=this,je=new this.constructor(me);je[se]===void 0&&ue(je);var Ne=Ae._state;if(Ne){var te=arguments[Ne-1];I(function(){return Be(Ne,je,te,Ae._result)})}else Ce(Ae,je,W,J);return je}function de(W){var J=this;if(W&&typeof W=="object"&&W.constructor===J)return W;var Ae=new J(me);return ke(Ae,W),Ae}var se=Math.random().toString(36).substring(2);function me(){}var Ie=void 0,De=1,Xe=2;function AA(){return new TypeError("You cannot resolve a promise with itself")}function $e(){return new TypeError("A promises callback cannot return that same promise.")}function fA(W,J,Ae,je){try{W.call(J,Ae,je)}catch(Ne){return Ne}}function ze(W,J,Ae){I(function(je){var Ne=!1,te=fA(Ae,J,function(Ee){Ne||(Ne=!0,J!==Ee?ke(je,Ee):Me(je,Ee))},function(Ee){Ne||(Ne=!0,_(je,Ee))},"Settle: "+(je._label||" unknown promise"));!Ne&&te&&(Ne=!0,_(je,te))},W)}function lA(W,J){J._state===De?Me(W,J._result):J._state===Xe?_(W,J._result):Ce(J,void 0,function(Ae){return ke(W,Ae)},function(Ae){return _(W,Ae)})}function cA(W,J,Ae){J.constructor===W.constructor&&Ae===Z&&J.constructor.resolve===de?lA(W,J):Ae===void 0?Me(W,J):o(Ae)?ze(W,J,Ae):Me(W,J)}function ke(W,J){if(W===J)_(W,AA());else if(j(J)){var Ae=void 0;try{Ae=J.then}catch(je){_(W,je);return}cA(W,J,Ae)}else Me(W,J)}function nA(W){W._onerror&&W._onerror(W._result),ce(W)}function Me(W,J){W._state===Ie&&(W._result=J,W._state=De,W._subscribers.length!==0&&I(ce,W))}function _(W,J){W._state===Ie&&(W._state=Xe,W._result=J,I(nA,W))}function Ce(W,J,Ae,je){var Ne=W._subscribers,te=Ne.length;W._onerror=null,Ne[te]=J,Ne[te+De]=Ae,Ne[te+Xe]=je,te===0&&W._state&&I(ce,W)}function ce(W){var J=W._subscribers,Ae=W._state;if(J.length!==0){for(var je=void 0,Ne=void 0,te=W._result,Ee=0;Ee<J.length;Ee+=3)je=J[Ee],Ne=J[Ee+Ae],je?Be(Ae,je,Ne,te):Ne(te);W._subscribers.length=0}}function Be(W,J,Ae,je){var Ne=o(Ae),te=void 0,Ee=void 0,c=!0;if(Ne){try{te=Ae(je)}catch(V){c=!1,Ee=V}if(J===te){_(J,$e());return}}else te=je;J._state!==Ie||(Ne&&c?ke(J,te):c===!1?_(J,Ee):W===De?Me(J,te):W===Xe&&_(J,te))}function Je(W,J){try{J(function(je){ke(W,je)},function(je){_(W,je)})}catch(Ae){_(W,Ae)}}var ee=0;function ve(){return ee++}function ue(W){W[se]=ee++,W._state=void 0,W._result=void 0,W._subscribers=[]}function Qe(){return new Error("Array Methods must be provided an Array")}var he=(function(){function W(J,Ae){this._instanceConstructor=J,this.promise=new J(me),this.promise[se]||ue(this.promise),h(Ae)?(this.length=Ae.length,this._remaining=Ae.length,this._result=new Array(this.length),this.length===0?Me(this.promise,this._result):(this.length=this.length||0,this._enumerate(Ae),this._remaining===0&&Me(this.promise,this._result))):_(this.promise,Qe())}return W.prototype._enumerate=function(Ae){for(var je=0;this._state===Ie&&je<Ae.length;je++)this._eachEntry(Ae[je],je)},W.prototype._eachEntry=function(Ae,je){var Ne=this._instanceConstructor,te=Ne.resolve;if(te===de){var Ee=void 0,c=void 0,V=!1;try{Ee=Ae.then}catch(G){V=!0,c=G}if(Ee===Z&&Ae._state!==Ie)this._settledAt(Ae._state,je,Ae._result);else if(typeof Ee!="function")this._remaining--,this._result[je]=Ae;else if(Ne===ge){var k=new Ne(me);V?_(k,c):cA(k,Ae,Ee),this._willSettleAt(k,je)}else this._willSettleAt(new Ne(function(G){return G(Ae)}),je)}else this._willSettleAt(te(Ae),je)},W.prototype._settledAt=function(Ae,je,Ne){var te=this.promise;te._state===Ie&&(this._remaining--,Ae===Xe?_(te,Ne):this._result[je]=Ne),this._remaining===0&&Me(te,this._result)},W.prototype._willSettleAt=function(Ae,je){var Ne=this;Ce(Ae,void 0,function(te){return Ne._settledAt(De,je,te)},function(te){return Ne._settledAt(Xe,je,te)})},W})();function He(W){return new he(this,W).promise}function ye(W){var J=this;return h(W)?new J(function(Ae,je){for(var Ne=W.length,te=0;te<Ne;te++)J.resolve(W[te]).then(Ae,je)}):new J(function(Ae,je){return je(new TypeError("You must pass an array to race."))})}function We(W){var J=this,Ae=new J(me);return _(Ae,W),Ae}function rA(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function v(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ge=(function(){function W(J){this[se]=ve(),this._result=this._state=void 0,this._subscribers=[],me!==J&&(typeof J!="function"&&rA(),this instanceof W?Je(this,J):v())}return W.prototype.catch=function(Ae){return this.then(null,Ae)},W.prototype.finally=function(Ae){var je=this,Ne=je.constructor;return o(Ae)?je.then(function(te){return Ne.resolve(Ae()).then(function(){return te})},function(te){return Ne.resolve(Ae()).then(function(){throw te})}):je.then(Ae,Ae)},W})();ge.prototype.then=Z,ge.all=He,ge.race=ye,ge.resolve=de,ge.reject=We,ge._setScheduler=N,ge._setAsap=Q,ge._asap=I;function fe(){var W=void 0;if(typeof kn<"u")W=kn;else if(typeof self<"u")W=self;else try{W=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var J=W.Promise;if(J){var Ae=null;try{Ae=Object.prototype.toString.call(J.resolve())}catch{}if(Ae==="[object Promise]"&&!J.cast)return}W.Promise=ge}return ge.polyfill=fe,ge.Promise=ge,ge}))}),html2canvas:(function(u){u.exports=l}),jspdf:(function(u){u.exports=i})},f={};function x(u){var j=f[u];if(j!==void 0)return j.exports;var o=f[u]={exports:{}};return p[u].call(o.exports,o,o.exports,x),o.exports}(function(){x.n=function(u){var j=u&&u.__esModule?function(){return u.default}:function(){return u};return x.d(j,{a:j}),j}})(),(function(){x.d=function(u,j){for(var o in j)x.o(j,o)&&!x.o(u,o)&&Object.defineProperty(u,o,{enumerable:!0,get:j[o]})}})(),(function(){x.o=function(u,j){return Object.prototype.hasOwnProperty.call(u,j)}})(),(function(){x.r=function(u){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(u,"__esModule",{value:!0})}})();var E={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/x.r(E);var u=x("./src/worker.js");x("./src/plugin/jspdf-plugin.js"),x("./src/plugin/pagebreaks.js"),x("./src/plugin/hyperlinks.js");var j=function o(B,h){var b=new o.Worker(h);return B?b.from(B).save():b};j.Worker=u.default,E.default=j})(),E=E.default,E})()})})(Ja)),Ja.exports}var tg=Ag();const rg=um(tg);function dt(A,a,i=void 0){const l={};for(const p in A){const f=A[p];let x="",E=!0;for(let u=0;u<f.length;u+=1){const j=f[u];j&&(x+=(E===!0?"":" ")+a(j),E=!1,i&&i[j]&&(x+=" "+i[j]))}l[p]=x}return l}function Oc(A){return A!=="ownerState"&&A!=="theme"&&A!=="sx"&&A!=="as"}const Zt=A=>Oc(A)&&A!=="classes";function ur(A,...a){const i=new URL(`https://mui.com/production-error/?code=${A}`);return a.forEach(l=>i.searchParams.append("args[]",l)),`Minified MUI error #${A}; visit ${i} for the full message.`}function wt(A){if(typeof A!="string")throw new Error(ur(7));return A.charAt(0).toUpperCase()+A.slice(1)}function lr(A){if(typeof A!="object"||A===null)return!1;const a=Object.getPrototypeOf(A);return(a===null||a===Object.prototype||Object.getPrototypeOf(a)===null)&&!(Symbol.toStringTag in A)&&!(Symbol.iterator in A)}function Lc(A){if(P.isValidElement(A)||Nc.isValidElementType(A)||!lr(A))return A;const a={};return Object.keys(A).forEach(i=>{a[i]=Lc(A[i])}),a}function ct(A,a,i={clone:!0}){const l=i.clone?{...A}:A;return lr(A)&&lr(a)&&Object.keys(a).forEach(p=>{P.isValidElement(a[p])||Nc.isValidElementType(a[p])?l[p]=a[p]:lr(a[p])&&Object.prototype.hasOwnProperty.call(A,p)&&lr(A[p])?l[p]=ct(A[p],a[p],i):i.clone?l[p]=lr(a[p])?Lc(a[p]):a[p]:l[p]=a[p]}),l}function Ws(A,a){return a?ct(A,a,{clone:!1}):A}function Hl(A,a){if(!A.containerQueries)return a;const i=Object.keys(a).filter(l=>l.startsWith("@container")).sort((l,p)=>{const f=/min-width:\s*([0-9.]+)/;return+(l.match(f)?.[1]||0)-+(p.match(f)?.[1]||0)});return i.length?i.reduce((l,p)=>{const f=a[p];return delete l[p],l[p]=f,l},{...a}):a}function sg(A,a){return a==="@"||a.startsWith("@")&&(A.some(i=>a.startsWith(`@${i}`))||!!a.match(/^@\d/))}function ng(A,a){const i=a.match(/^@([^/]+)?\/?(.+)?$/);if(!i)return null;const[,l,p]=i,f=Number.isNaN(+l)?l||0:+l;return A.containerQueries(p).up(f)}function ag(A){const a=(f,x)=>f.replace("@media",x?`@container ${x}`:"@container");function i(f,x){f.up=(...E)=>a(A.breakpoints.up(...E),x),f.down=(...E)=>a(A.breakpoints.down(...E),x),f.between=(...E)=>a(A.breakpoints.between(...E),x),f.only=(...E)=>a(A.breakpoints.only(...E),x),f.not=(...E)=>{const u=a(A.breakpoints.not(...E),x);return u.includes("not all and")?u.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):u}}const l={},p=f=>(i(l,f),l);return i(p),{...A,containerQueries:p}}const ea={xs:0,sm:600,md:900,lg:1200,xl:1536},Rl={keys:["xs","sm","md","lg","xl"],up:A=>`@media (min-width:${ea[A]}px)`},ig={containerQueries:A=>({up:a=>{let i=typeof a=="number"?a:ea[a]||a;return typeof i=="number"&&(i=`${i}px`),A?`@container ${A} (min-width:${i})`:`@container (min-width:${i})`}})};function pr(A,a,i){const l=A.theme||{};if(Array.isArray(a)){const f=l.breakpoints||Rl;return a.reduce((x,E,u)=>(x[f.up(f.keys[u])]=i(a[u]),x),{})}if(typeof a=="object"){const f=l.breakpoints||Rl;return Object.keys(a).reduce((x,E)=>{if(sg(f.keys,E)){const u=ng(l.containerQueries?l:ig,E);u&&(x[u]=i(a[E],E))}else if(Object.keys(f.values||ea).includes(E)){const u=f.up(E);x[u]=i(a[E],E)}else{const u=E;x[u]=a[u]}return x},{})}return i(a)}function og(A={}){return A.keys?.reduce((i,l)=>{const p=A.up(l);return i[p]={},i},{})||{}}function Pl(A,a){return A.reduce((i,l)=>{const p=i[l];return(!p||Object.keys(p).length===0)&&delete i[l],i},a)}function Aa(A,a,i=!0){if(!a||typeof a!="string")return null;if(A&&A.vars&&i){const l=`vars.${a}`.split(".").reduce((p,f)=>p&&p[f]?p[f]:null,A);if(l!=null)return l}return a.split(".").reduce((l,p)=>l&&l[p]!=null?l[p]:null,A)}function Wn(A,a,i,l=i){let p;return typeof A=="function"?p=A(i):Array.isArray(A)?p=A[i]||l:p=Aa(A,i)||l,a&&(p=a(p,l,A)),p}function _A(A){const{prop:a,cssProperty:i=A.prop,themeKey:l,transform:p}=A,f=x=>{if(x[a]==null)return null;const E=x[a],u=x.theme,j=Aa(u,l)||{};return pr(x,E,B=>{let h=Wn(j,p,B);return B===h&&typeof B=="string"&&(h=Wn(j,p,`${a}${B==="default"?"":wt(B)}`,B)),i===!1?h:{[i]:h}})};return f.propTypes={},f.filterProps=[a],f}function lg(A){const a={};return i=>(a[i]===void 0&&(a[i]=A(i)),a[i])}const cg={m:"margin",p:"padding"},dg={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},Ol={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},ug=lg(A=>{if(A.length>2)if(Ol[A])A=Ol[A];else return[A];const[a,i]=A.split(""),l=cg[a],p=dg[i]||"";return Array.isArray(p)?p.map(f=>l+f):[l+p]}),vi=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Ci=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...vi,...Ci];function en(A,a,i,l){const p=Aa(A,a,!0)??i;return typeof p=="number"||typeof p=="string"?f=>typeof f=="string"?f:typeof p=="string"?p.startsWith("var(")&&f===0?0:p.startsWith("var(")&&f===1?p:`calc(${f} * ${p})`:p*f:Array.isArray(p)?f=>{if(typeof f=="string")return f;const x=Math.abs(f),E=p[x];return f>=0?E:typeof E=="number"?-E:typeof E=="string"&&E.startsWith("var(")?`calc(-1 * ${E})`:`-${E}`}:typeof p=="function"?p:()=>{}}function ji(A){return en(A,"spacing",8)}function An(A,a){return typeof a=="string"||a==null?a:A(a)}function pg(A,a){return i=>A.reduce((l,p)=>(l[p]=An(a,i),l),{})}function hg(A,a,i,l){if(!a.includes(i))return null;const p=ug(i),f=pg(p,l),x=A[i];return pr(A,x,f)}function kc(A,a){const i=ji(A.theme);return Object.keys(A).map(l=>hg(A,a,l,i)).reduce(Ws,{})}function kA(A){return kc(A,vi)}kA.propTypes={};kA.filterProps=vi;function MA(A){return kc(A,Ci)}MA.propTypes={};MA.filterProps=Ci;function ta(...A){const a=A.reduce((l,p)=>(p.filterProps.forEach(f=>{l[f]=p}),l),{}),i=l=>Object.keys(l).reduce((p,f)=>a[f]?Ws(p,a[f](l)):p,{});return i.propTypes={},i.filterProps=A.reduce((l,p)=>l.concat(p.filterProps),[]),i}function St(A){return typeof A!="number"?A:`${A}px solid`}function Ht(A,a){return _A({prop:A,themeKey:"borders",transform:a})}const fg=Ht("border",St),mg=Ht("borderTop",St),gg=Ht("borderRight",St),xg=Ht("borderBottom",St),Bg=Ht("borderLeft",St),wg=Ht("borderColor"),yg=Ht("borderTopColor"),bg=Ht("borderRightColor"),vg=Ht("borderBottomColor"),Cg=Ht("borderLeftColor"),jg=Ht("outline",St),Qg=Ht("outlineColor"),ra=A=>{if(A.borderRadius!==void 0&&A.borderRadius!==null){const a=en(A.theme,"shape.borderRadius",4),i=l=>({borderRadius:An(a,l)});return pr(A,A.borderRadius,i)}return null};ra.propTypes={};ra.filterProps=["borderRadius"];ta(fg,mg,gg,xg,Bg,wg,yg,bg,vg,Cg,ra,jg,Qg);const sa=A=>{if(A.gap!==void 0&&A.gap!==null){const a=en(A.theme,"spacing",8),i=l=>({gap:An(a,l)});return pr(A,A.gap,i)}return null};sa.propTypes={};sa.filterProps=["gap"];const na=A=>{if(A.columnGap!==void 0&&A.columnGap!==null){const a=en(A.theme,"spacing",8),i=l=>({columnGap:An(a,l)});return pr(A,A.columnGap,i)}return null};na.propTypes={};na.filterProps=["columnGap"];const aa=A=>{if(A.rowGap!==void 0&&A.rowGap!==null){const a=en(A.theme,"spacing",8),i=l=>({rowGap:An(a,l)});return pr(A,A.rowGap,i)}return null};aa.propTypes={};aa.filterProps=["rowGap"];const Fg=_A({prop:"gridColumn"}),Ng=_A({prop:"gridRow"}),Ug=_A({prop:"gridAutoFlow"}),Eg=_A({prop:"gridAutoColumns"}),Ig=_A({prop:"gridAutoRows"}),Sg=_A({prop:"gridTemplateColumns"}),Tg=_A({prop:"gridTemplateRows"}),Dg=_A({prop:"gridTemplateAreas"}),Hg=_A({prop:"gridArea"});ta(sa,na,aa,Fg,Ng,Ug,Eg,Ig,Sg,Tg,Dg,Hg);function xs(A,a){return a==="grey"?a:A}const Rg=_A({prop:"color",themeKey:"palette",transform:xs}),Pg=_A({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:xs}),Og=_A({prop:"backgroundColor",themeKey:"palette",transform:xs});ta(Rg,Pg,Og);function Ct(A){return A<=1&&A!==0?`${A*100}%`:A}const Lg=_A({prop:"width",transform:Ct}),Qi=A=>{if(A.maxWidth!==void 0&&A.maxWidth!==null){const a=i=>{const l=A.theme?.breakpoints?.values?.[i]||ea[i];return l?A.theme?.breakpoints?.unit!=="px"?{maxWidth:`${l}${A.theme.breakpoints.unit}`}:{maxWidth:l}:{maxWidth:Ct(i)}};return pr(A,A.maxWidth,a)}return null};Qi.filterProps=["maxWidth"];const kg=_A({prop:"minWidth",transform:Ct}),Mg=_A({prop:"height",transform:Ct}),Kg=_A({prop:"maxHeight",transform:Ct}),Gg=_A({prop:"minHeight",transform:Ct});_A({prop:"size",cssProperty:"width",transform:Ct});_A({prop:"size",cssProperty:"height",transform:Ct});const Vg=_A({prop:"boxSizing"});ta(Lg,Qi,kg,Mg,Kg,Gg,Vg);const ia={border:{themeKey:"borders",transform:St},borderTop:{themeKey:"borders",transform:St},borderRight:{themeKey:"borders",transform:St},borderBottom:{themeKey:"borders",transform:St},borderLeft:{themeKey:"borders",transform:St},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:St},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ra},color:{themeKey:"palette",transform:xs},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:xs},backgroundColor:{themeKey:"palette",transform:xs},p:{style:MA},pt:{style:MA},pr:{style:MA},pb:{style:MA},pl:{style:MA},px:{style:MA},py:{style:MA},padding:{style:MA},paddingTop:{style:MA},paddingRight:{style:MA},paddingBottom:{style:MA},paddingLeft:{style:MA},paddingX:{style:MA},paddingY:{style:MA},paddingInline:{style:MA},paddingInlineStart:{style:MA},paddingInlineEnd:{style:MA},paddingBlock:{style:MA},paddingBlockStart:{style:MA},paddingBlockEnd:{style:MA},m:{style:kA},mt:{style:kA},mr:{style:kA},mb:{style:kA},ml:{style:kA},mx:{style:kA},my:{style:kA},margin:{style:kA},marginTop:{style:kA},marginRight:{style:kA},marginBottom:{style:kA},marginLeft:{style:kA},marginX:{style:kA},marginY:{style:kA},marginInline:{style:kA},marginInlineStart:{style:kA},marginInlineEnd:{style:kA},marginBlock:{style:kA},marginBlockStart:{style:kA},marginBlockEnd:{style:kA},displayPrint:{cssProperty:!1,transform:A=>({"@media print":{display:A}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:sa},rowGap:{style:aa},columnGap:{style:na},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Ct},maxWidth:{style:Qi},minWidth:{transform:Ct},height:{transform:Ct},maxHeight:{transform:Ct},minHeight:{transform:Ct},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function _g(...A){const a=A.reduce((l,p)=>l.concat(Object.keys(p)),[]),i=new Set(a);return A.every(l=>i.size===Object.keys(l).length)}function $g(A,a){return typeof A=="function"?A(a):A}function Wg(){function A(i,l,p,f){const x={[i]:l,theme:p},E=f[i];if(!E)return{[i]:l};const{cssProperty:u=i,themeKey:j,transform:o,style:B}=E;if(l==null)return null;if(j==="typography"&&l==="inherit")return{[i]:l};const h=Aa(p,j)||{};return B?B(x):pr(x,l,w=>{let T=Wn(h,o,w);return w===T&&typeof w=="string"&&(T=Wn(h,o,`${i}${w==="default"?"":wt(w)}`,w)),u===!1?T:{[u]:T}})}function a(i){const{sx:l,theme:p={},nested:f}=i||{};if(!l)return null;const x=p.unstable_sxConfig??ia;function E(u){let j=u;if(typeof u=="function")j=u(p);else if(typeof u!="object")return u;if(!j)return null;const o=og(p.breakpoints),B=Object.keys(o);let h=o;return Object.keys(j).forEach(b=>{const w=$g(j[b],p);if(w!=null)if(typeof w=="object")if(x[b])h=Ws(h,A(b,w,p,x));else{const T=pr({theme:p},w,I=>({[b]:I}));_g(T,w)?h[b]=a({sx:w,theme:p,nested:!0}):h=Ws(h,T)}else h=Ws(h,A(b,w,p,x))}),!f&&p.modularCssLayers?{"@layer sx":Hl(p,Pl(B,h))}:Hl(p,Pl(B,h))}return Array.isArray(l)?l.map(E):E(l)}return a}const ys=Wg();ys.filterProps=["sx"];var Xg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|popover|popoverTarget|popoverTargetAction|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Jg=fm(function(A){return Xg.test(A)||A.charCodeAt(0)===111&&A.charCodeAt(1)===110&&A.charCodeAt(2)<91}),Yg=Jg,zg=function(a){return a!=="theme"},Ll=function(a){return typeof a=="string"&&a.charCodeAt(0)>96?Yg:zg},kl=function(a,i,l){var p;if(i){var f=i.shouldForwardProp;p=a.__emotion_forwardProp&&f?function(x){return a.__emotion_forwardProp(x)&&f(x)}:f}return typeof p!="function"&&l&&(p=a.__emotion_forwardProp),p},Zg=function(a){var i=a.cache,l=a.serialized,p=a.isStringTag;return xm(i,l,p),Bm(function(){return wm(i,l,p)}),null},qg=function A(a,i){var l=a.__emotion_real===a,p=l&&a.__emotion_base||a,f,x;i!==void 0&&(f=i.label,x=i.target);var E=kl(a,i,l),u=E||Ll(p),j=!u("as");return function(){var o=arguments,B=l&&a.__emotion_styles!==void 0?a.__emotion_styles.slice(0):[];if(f!==void 0&&B.push("label:"+f+";"),o[0]==null||o[0].raw===void 0)B.push.apply(B,o);else{var h=o[0];B.push(h[0]);for(var b=o.length,w=1;w<b;w++)B.push(o[w],h[w])}var T=mm(function(I,N,Q){var m=j&&I.as||p,y="",D=[],H=I;if(I.theme==null){H={};for(var $ in I)H[$]=I[$];H.theme=P.useContext(Uc)}typeof I.className=="string"?y=gm(N.registered,D,I.className):I.className!=null&&(y=I.className+" ");var z=Ec(B.concat(D),N.registered,H);y+=N.key+"-"+z.name,x!==void 0&&(y+=" "+x);var ie=j&&E===void 0?Ll(m):u,re={};for(var F in I)j&&F==="as"||ie(F)&&(re[F]=I[F]);return re.className=y,Q&&(re.ref=Q),P.createElement(P.Fragment,null,P.createElement(Zg,{cache:N,serialized:z,isStringTag:typeof m=="string"}),P.createElement(m,re))});return T.displayName=f!==void 0?f:"Styled("+(typeof p=="string"?p:p.displayName||p.name||"Component")+")",T.defaultProps=a.defaultProps,T.__emotion_real=T,T.__emotion_base=p,T.__emotion_styles=B,T.__emotion_forwardProp=E,Object.defineProperty(T,"toString",{value:function(){return"."+x}}),T.withComponent=function(I,N){var Q=A(I,Hc({},i,N,{shouldForwardProp:kl(T,N,!0)}));return Q.apply(void 0,B)},T}},e0=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],li=qg.bind(null);e0.forEach(function(A){li[A]=li(A)});function A0(A){return A==null||Object.keys(A).length===0}function t0(A){const{styles:a,defaultTheme:i={}}=A,l=typeof a=="function"?p=>a(A0(p)?i:p):a;return e.jsx(ym,{styles:l})}function r0(A,a){return li(A,a)}function s0(A,a){Array.isArray(A.__emotion_styles)&&(A.__emotion_styles=a(A.__emotion_styles))}const Ml=[];function Qr(A){return Ml[0]=A,Ec(Ml)}const n0=A=>{const a=Object.keys(A).map(i=>({key:i,val:A[i]}))||[];return a.sort((i,l)=>i.val-l.val),a.reduce((i,l)=>({...i,[l.key]:l.val}),{})};function a0(A){const{values:a={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:i="px",step:l=5,...p}=A,f=n0(a),x=Object.keys(f);function E(h){return`@media (min-width:${typeof a[h]=="number"?a[h]:h}${i})`}function u(h){return`@media (max-width:${(typeof a[h]=="number"?a[h]:h)-l/100}${i})`}function j(h,b){const w=x.indexOf(b);return`@media (min-width:${typeof a[h]=="number"?a[h]:h}${i}) and (max-width:${(w!==-1&&typeof a[x[w]]=="number"?a[x[w]]:b)-l/100}${i})`}function o(h){return x.indexOf(h)+1<x.length?j(h,x[x.indexOf(h)+1]):E(h)}function B(h){const b=x.indexOf(h);return b===0?E(x[1]):b===x.length-1?u(x[b]):j(h,x[x.indexOf(h)+1]).replace("@media","@media not all and")}return{keys:x,values:f,up:E,down:u,between:j,only:o,not:B,unit:i,...p}}const i0={borderRadius:4};function Mc(A=8,a=ji({spacing:A})){if(A.mui)return A;const i=(...l)=>(l.length===0?[1]:l).map(f=>{const x=a(f);return typeof x=="number"?`${x}px`:x}).join(" ");return i.mui=!0,i}function o0(A,a){const i=this;if(i.vars){if(!i.colorSchemes?.[A]||typeof i.getColorSchemeSelector!="function")return{};let l=i.getColorSchemeSelector(A);return l==="&"?a:((l.includes("data-")||l.includes("."))&&(l=`*:where(${l.replace(/\s*&$/,"")}) &`),{[l]:a})}return i.palette.mode===A?a:{}}function Fi(A={},...a){const{breakpoints:i={},palette:l={},spacing:p,shape:f={},...x}=A,E=a0(i),u=Mc(p);let j=ct({breakpoints:E,direction:"ltr",components:{},palette:{mode:"light",...l},spacing:u,shape:{...i0,...f}},x);return j=ag(j),j.applyStyles=o0,j=a.reduce((o,B)=>ct(o,B),j),j.unstable_sxConfig={...ia,...x?.unstable_sxConfig},j.unstable_sx=function(B){return ys({sx:B,theme:this})},j}function l0(A){return Object.keys(A).length===0}function c0(A=null){const a=P.useContext(Uc);return!a||l0(a)?A:a}const d0=Fi();function Kc(A=d0){return c0(A)}function Ya(A){const a=Qr(A);return A!==a&&a.styles?(a.styles.match(/^@layer\s+[^{]*$/)||(a.styles=`@layer global{${a.styles}}`),a):A}function u0({styles:A,themeId:a,defaultTheme:i={}}){const l=Kc(i),p=a&&l[a]||l;let f=typeof A=="function"?A(p):A;return p.modularCssLayers&&(Array.isArray(f)?f=f.map(x=>Ya(typeof x=="function"?x(p):x)):f=Ya(f)),e.jsx(t0,{styles:f})}const Kl=A=>A,p0=()=>{let A=Kl;return{configure(a){A=a},generate(a){return A(a)},reset(){A=Kl}}},h0=p0(),f0={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function ut(A,a,i="Mui"){const l=f0[a];return l?`${i}-${l}`:`${h0.generate(A)}-${a}`}function zA(A,a,i="Mui"){const l={};return a.forEach(p=>{l[p]=ut(A,p,i)}),l}function Gc(A){const{variants:a,...i}=A,l={variants:a,style:Qr(i),isProcessed:!0};return l.style===i||a&&a.forEach(p=>{typeof p.style!="function"&&(p.style=Qr(p.style))}),l}const m0=Fi();function za(A){return A!=="ownerState"&&A!=="theme"&&A!=="sx"&&A!=="as"}function Vr(A,a){return a&&A&&typeof A=="object"&&A.styles&&!A.styles.startsWith("@layer")&&(A.styles=`@layer ${a}{${String(A.styles)}}`),A}function g0(A){return A?(a,i)=>i[A]:null}function x0(A,a,i){A.theme=y0(A.theme)?i:A.theme[a]||A.theme}function $n(A,a,i){const l=typeof a=="function"?a(A):a;if(Array.isArray(l))return l.flatMap(p=>$n(A,p,i));if(Array.isArray(l?.variants)){let p;if(l.isProcessed)p=i?Vr(l.style,i):l.style;else{const{variants:f,...x}=l;p=i?Vr(Qr(x),i):x}return Vc(A,l.variants,[p],i)}return l?.isProcessed?i?Vr(Qr(l.style),i):l.style:i?Vr(Qr(l),i):l}function Vc(A,a,i=[],l=void 0){let p;e:for(let f=0;f<a.length;f+=1){const x=a[f];if(typeof x.props=="function"){if(p??={...A,...A.ownerState,ownerState:A.ownerState},!x.props(p))continue}else for(const E in x.props)if(A[E]!==x.props[E]&&A.ownerState?.[E]!==x.props[E])continue e;typeof x.style=="function"?(p??={...A,...A.ownerState,ownerState:A.ownerState},i.push(l?Vr(Qr(x.style(p)),l):x.style(p))):i.push(l?Vr(Qr(x.style),l):x.style)}return i}function B0(A={}){const{themeId:a,defaultTheme:i=m0,rootShouldForwardProp:l=za,slotShouldForwardProp:p=za}=A;function f(E){x0(E,a,i)}return(E,u={})=>{s0(E,H=>H.filter($=>$!==ys));const{name:j,slot:o,skipVariantsResolver:B,skipSx:h,overridesResolver:b=g0(v0(o)),...w}=u,T=j&&j.startsWith("Mui")||o?"components":"custom",I=B!==void 0?B:o&&o!=="Root"&&o!=="root"||!1,N=h||!1;let Q=za;o==="Root"||o==="root"?Q=l:o?Q=p:b0(E)&&(Q=void 0);const m=r0(E,{shouldForwardProp:Q,label:w0(),...w}),y=H=>{if(H.__emotion_real===H)return H;if(typeof H=="function")return function(z){return $n(z,H,z.theme.modularCssLayers?T:void 0)};if(lr(H)){const $=Gc(H);return function(ie){return $.variants?$n(ie,$,ie.theme.modularCssLayers?T:void 0):ie.theme.modularCssLayers?Vr($.style,T):$.style}}return H},D=(...H)=>{const $=[],z=H.map(y),ie=[];if($.push(f),j&&b&&ie.push(function(M){const S=M.theme.components?.[j]?.styleOverrides;if(!S)return null;const K={};for(const Z in S)K[Z]=$n(M,S[Z],M.theme.modularCssLayers?"theme":void 0);return b(M,K)}),j&&!I&&ie.push(function(M){const S=M.theme?.components?.[j]?.variants;return S?Vc(M,S,[],M.theme.modularCssLayers?"theme":void 0):null}),N||ie.push(ys),Array.isArray(z[0])){const C=z.shift(),M=new Array($.length).fill(""),R=new Array(ie.length).fill("");let S;S=[...M,...C,...R],S.raw=[...M,...C.raw,...R],$.unshift(S)}const re=[...$,...z,...ie],F=m(...re);return E.muiName&&(F.muiName=E.muiName),F};return m.withConfig&&(D.withConfig=m.withConfig),D}}function w0(A,a){return void 0}function y0(A){for(const a in A)return!1;return!0}function b0(A){return typeof A=="string"&&A.charCodeAt(0)>96}function v0(A){return A&&A.charAt(0).toLowerCase()+A.slice(1)}function ci(A,a,i=!1){const l={...a};for(const p in A)if(Object.prototype.hasOwnProperty.call(A,p)){const f=p;if(f==="components"||f==="slots")l[f]={...A[f],...l[f]};else if(f==="componentsProps"||f==="slotProps"){const x=A[f],E=a[f];if(!E)l[f]=x||{};else if(!x)l[f]=E;else{l[f]={...E};for(const u in x)if(Object.prototype.hasOwnProperty.call(x,u)){const j=u;l[f][j]=ci(x[j],E[j],i)}}}else f==="className"&&i&&a.className?l.className=EA(A?.className,a?.className):f==="style"&&i&&a.style?l.style={...A?.style,...a?.style}:l[f]===void 0&&(l[f]=A[f])}return l}const Nr=typeof window<"u"?P.useLayoutEffect:P.useEffect;function C0(A,a=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER){return Math.max(a,Math.min(A,i))}function Ni(A,a=0,i=1){return C0(A,a,i)}function j0(A){A=A.slice(1);const a=new RegExp(`.{1,${A.length>=6?2:1}}`,"g");let i=A.match(a);return i&&i[0].length===1&&(i=i.map(l=>l+l)),i?`rgb${i.length===4?"a":""}(${i.map((l,p)=>p<3?parseInt(l,16):Math.round(parseInt(l,16)/255*1e3)/1e3).join(", ")})`:""}function Ur(A){if(A.type)return A;if(A.charAt(0)==="#")return Ur(j0(A));const a=A.indexOf("("),i=A.substring(0,a);if(!["rgb","rgba","hsl","hsla","color"].includes(i))throw new Error(ur(9,A));let l=A.substring(a+1,A.length-1),p;if(i==="color"){if(l=l.split(" "),p=l.shift(),l.length===4&&l[3].charAt(0)==="/"&&(l[3]=l[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(p))throw new Error(ur(10,p))}else l=l.split(",");return l=l.map(f=>parseFloat(f)),{type:i,values:l,colorSpace:p}}const Q0=A=>{const a=Ur(A);return a.values.slice(0,3).map((i,l)=>a.type.includes("hsl")&&l!==0?`${i}%`:i).join(" ")},Vs=(A,a)=>{try{return Q0(A)}catch{return A}};function oa(A){const{type:a,colorSpace:i}=A;let{values:l}=A;return a.includes("rgb")?l=l.map((p,f)=>f<3?parseInt(p,10):p):a.includes("hsl")&&(l[1]=`${l[1]}%`,l[2]=`${l[2]}%`),a.includes("color")?l=`${i} ${l.join(" ")}`:l=`${l.join(", ")}`,`${a}(${l})`}function _c(A){A=Ur(A);const{values:a}=A,i=a[0],l=a[1]/100,p=a[2]/100,f=l*Math.min(p,1-p),x=(j,o=(j+i/30)%12)=>p-f*Math.max(Math.min(o-3,9-o,1),-1);let E="rgb";const u=[Math.round(x(0)*255),Math.round(x(8)*255),Math.round(x(4)*255)];return A.type==="hsla"&&(E+="a",u.push(a[3])),oa({type:E,values:u})}function di(A){A=Ur(A);let a=A.type==="hsl"||A.type==="hsla"?Ur(_c(A)).values:A.values;return a=a.map(i=>(A.type!=="color"&&(i/=255),i<=.03928?i/12.92:((i+.055)/1.055)**2.4)),Number((.2126*a[0]+.7152*a[1]+.0722*a[2]).toFixed(3))}function F0(A,a){const i=di(A),l=di(a);return(Math.max(i,l)+.05)/(Math.min(i,l)+.05)}function Xn(A,a){return A=Ur(A),a=Ni(a),(A.type==="rgb"||A.type==="hsl")&&(A.type+="a"),A.type==="color"?A.values[3]=`/${a}`:A.values[3]=a,oa(A)}function Lr(A,a,i){try{return Xn(A,a)}catch{return A}}function la(A,a){if(A=Ur(A),a=Ni(a),A.type.includes("hsl"))A.values[2]*=1-a;else if(A.type.includes("rgb")||A.type.includes("color"))for(let i=0;i<3;i+=1)A.values[i]*=1-a;return oa(A)}function IA(A,a,i){try{return la(A,a)}catch{return A}}function ca(A,a){if(A=Ur(A),a=Ni(a),A.type.includes("hsl"))A.values[2]+=(100-A.values[2])*a;else if(A.type.includes("rgb"))for(let i=0;i<3;i+=1)A.values[i]+=(255-A.values[i])*a;else if(A.type.includes("color"))for(let i=0;i<3;i+=1)A.values[i]+=(1-A.values[i])*a;return oa(A)}function SA(A,a,i){try{return ca(A,a)}catch{return A}}function N0(A,a=.15){return di(A)>.5?la(A,a):ca(A,a)}function Mn(A,a,i){try{return N0(A,a)}catch{return A}}const U0=P.createContext(),E0=()=>P.useContext(U0)??!1,I0=P.createContext(void 0);function S0(A){const{theme:a,name:i,props:l}=A;if(!a||!a.components||!a.components[i])return l;const p=a.components[i];return p.defaultProps?ci(p.defaultProps,l,a.components.mergeClassNameAndStyle):!p.styleOverrides&&!p.variants?ci(p,l,a.components.mergeClassNameAndStyle):l}function T0({props:A,name:a}){const i=P.useContext(I0);return S0({props:A,name:a,theme:{components:i}})}let Gl=0;function D0(A){const[a,i]=P.useState(A),l=a;return P.useEffect(()=>{a==null&&(Gl+=1,i(`mui-${Gl}`))},[a]),l}const H0={...om},Vl=H0.useId;function R0(A){return Vl!==void 0?Vl():D0(A)}const _l={theme:void 0};function P0(A){let a,i;return function(p){let f=a;return(f===void 0||p.theme!==i)&&(_l.theme=p.theme,f=Gc(A(_l)),a=f,i=p.theme),f}}function O0(A=""){function a(...l){if(!l.length)return"";const p=l[0];return typeof p=="string"&&!p.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${A?`${A}-`:""}${p}${a(...l.slice(1))})`:`, ${p}`}return(l,...p)=>`var(--${A?`${A}-`:""}${l}${a(...p)})`}const $l=(A,a,i,l=[])=>{let p=A;a.forEach((f,x)=>{x===a.length-1?Array.isArray(p)?p[Number(f)]=i:p&&typeof p=="object"&&(p[f]=i):p&&typeof p=="object"&&(p[f]||(p[f]=l.includes(f)?[]:{}),p=p[f])})},L0=(A,a,i)=>{function l(p,f=[],x=[]){Object.entries(p).forEach(([E,u])=>{(!i||i&&!i([...f,E]))&&u!=null&&(typeof u=="object"&&Object.keys(u).length>0?l(u,[...f,E],Array.isArray(u)?[...x,E]:x):a([...f,E],u,x))})}l(A)},k0=(A,a)=>typeof a=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(l=>A.includes(l))||A[A.length-1].toLowerCase().includes("opacity")?a:`${a}px`:a;function Za(A,a){const{prefix:i,shouldSkipGeneratingVar:l}=a||{},p={},f={},x={};return L0(A,(E,u,j)=>{if((typeof u=="string"||typeof u=="number")&&(!l||!l(E,u))){const o=`--${i?`${i}-`:""}${E.join("-")}`,B=k0(E,u);Object.assign(p,{[o]:B}),$l(f,E,`var(${o})`,j),$l(x,E,`var(${o}, ${B})`,j)}},E=>E[0]==="vars"),{css:p,vars:f,varsWithDefaults:x}}function M0(A,a={}){const{getSelector:i=N,disableCssColorScheme:l,colorSchemeSelector:p,enableContrastVars:f}=a,{colorSchemes:x={},components:E,defaultColorScheme:u="light",...j}=A,{vars:o,css:B,varsWithDefaults:h}=Za(j,a);let b=h;const w={},{[u]:T,...I}=x;if(Object.entries(I||{}).forEach(([y,D])=>{const{vars:H,css:$,varsWithDefaults:z}=Za(D,a);b=ct(b,z),w[y]={css:$,vars:H}}),T){const{css:y,vars:D,varsWithDefaults:H}=Za(T,a);b=ct(b,H),w[u]={css:y,vars:D}}function N(y,D){let H=p;if(p==="class"&&(H=".%s"),p==="data"&&(H="[data-%s]"),p?.startsWith("data-")&&!p.includes("%s")&&(H=`[${p}="%s"]`),y){if(H==="media")return A.defaultColorScheme===y?":root":{[`@media (prefers-color-scheme: ${x[y]?.palette?.mode||y})`]:{":root":D}};if(H)return A.defaultColorScheme===y?`:root, ${H.replace("%s",String(y))}`:H.replace("%s",String(y))}return":root"}return{vars:b,generateThemeVars:()=>{let y={...o};return Object.entries(w).forEach(([,{vars:D}])=>{y=ct(y,D)}),y},generateStyleSheets:()=>{const y=[],D=A.defaultColorScheme||"light";function H(ie,re){Object.keys(re).length&&y.push(typeof ie=="string"?{[ie]:{...re}}:ie)}H(i(void 0,{...B}),B);const{[D]:$,...z}=w;if($){const{css:ie}=$,re=x[D]?.palette?.mode,F=!l&&re?{colorScheme:re,...ie}:{...ie};H(i(D,{...F}),F)}return Object.entries(z).forEach(([ie,{css:re}])=>{const F=x[ie]?.palette?.mode,C=!l&&F?{colorScheme:F,...re}:{...re};H(i(ie,{...C}),C)}),f&&y.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),y}}}function K0(A){return function(i){return A==="media"?`@media (prefers-color-scheme: ${i})`:A?A.startsWith("data-")&&!A.includes("%s")?`[${A}="${i}"] &`:A==="class"?`.${i} &`:A==="data"?`[data-${i}] &`:`${A.replace("%s",i)} &`:"&"}}const zs={black:"#000",white:"#fff"},G0={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},ns={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},as={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},Os={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},is={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},os={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},ls={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function $c(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zs.white,default:zs.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const Wc=$c();function Xc(){return{text:{primary:zs.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:zs.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ui=Xc();function Wl(A,a,i,l){const p=l.light||l,f=l.dark||l*1.5;A[a]||(A.hasOwnProperty(i)?A[a]=A[i]:a==="light"?A.light=ca(A.main,p):a==="dark"&&(A.dark=la(A.main,f)))}function Xl(A,a,i,l,p){const f=p.light||p,x=p.dark||p*1.5;a[i]||(a.hasOwnProperty(l)?a[i]=a[l]:i==="light"?a.light=`color-mix(in ${A}, ${a.main}, #fff ${(f*100).toFixed(0)}%)`:i==="dark"&&(a.dark=`color-mix(in ${A}, ${a.main}, #000 ${(x*100).toFixed(0)}%)`))}function V0(A="light"){return A==="dark"?{main:is[200],light:is[50],dark:is[400]}:{main:is[700],light:is[400],dark:is[800]}}function _0(A="light"){return A==="dark"?{main:ns[200],light:ns[50],dark:ns[400]}:{main:ns[500],light:ns[300],dark:ns[700]}}function $0(A="light"){return A==="dark"?{main:as[500],light:as[300],dark:as[700]}:{main:as[700],light:as[400],dark:as[800]}}function W0(A="light"){return A==="dark"?{main:os[400],light:os[300],dark:os[700]}:{main:os[700],light:os[500],dark:os[900]}}function X0(A="light"){return A==="dark"?{main:ls[400],light:ls[300],dark:ls[700]}:{main:ls[800],light:ls[500],dark:ls[900]}}function J0(A="light"){return A==="dark"?{main:Os[400],light:Os[300],dark:Os[700]}:{main:"#ed6c02",light:Os[500],dark:Os[900]}}function Y0(A){return`oklch(from ${A} var(--__l) 0 h / var(--__a))`}function Ui(A){const{mode:a="light",contrastThreshold:i=3,tonalOffset:l=.2,colorSpace:p,...f}=A,x=A.primary||V0(a),E=A.secondary||_0(a),u=A.error||$0(a),j=A.info||W0(a),o=A.success||X0(a),B=A.warning||J0(a);function h(I){return p?Y0(I):F0(I,ui.text.primary)>=i?ui.text.primary:Wc.text.primary}const b=({color:I,name:N,mainShade:Q=500,lightShade:m=300,darkShade:y=700})=>{if(I={...I},!I.main&&I[Q]&&(I.main=I[Q]),!I.hasOwnProperty("main"))throw new Error(ur(11,N?` (${N})`:"",Q));if(typeof I.main!="string")throw new Error(ur(12,N?` (${N})`:"",JSON.stringify(I.main)));return p?(Xl(p,I,"light",m,l),Xl(p,I,"dark",y,l)):(Wl(I,"light",m,l),Wl(I,"dark",y,l)),I.contrastText||(I.contrastText=h(I.main)),I};let w;return a==="light"?w=$c():a==="dark"&&(w=Xc()),ct({common:{...zs},mode:a,primary:b({color:x,name:"primary"}),secondary:b({color:E,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:b({color:u,name:"error"}),warning:b({color:B,name:"warning"}),info:b({color:j,name:"info"}),success:b({color:o,name:"success"}),grey:G0,contrastThreshold:i,getContrastText:h,augmentColor:b,tonalOffset:l,...w},f)}function z0(A){const a={};return Object.entries(A).forEach(l=>{const[p,f]=l;typeof f=="object"&&(a[p]=`${f.fontStyle?`${f.fontStyle} `:""}${f.fontVariant?`${f.fontVariant} `:""}${f.fontWeight?`${f.fontWeight} `:""}${f.fontStretch?`${f.fontStretch} `:""}${f.fontSize||""}${f.lineHeight?`/${f.lineHeight} `:""}${f.fontFamily||""}`)}),a}function Z0(A,a){return{toolbar:{minHeight:56,[A.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[A.up("sm")]:{minHeight:64}},...a}}function q0(A){return Math.round(A*1e5)/1e5}const Jl={textTransform:"uppercase"},Yl='"Roboto", "Helvetica", "Arial", sans-serif';function ex(A,a){const{fontFamily:i=Yl,fontSize:l=14,fontWeightLight:p=300,fontWeightRegular:f=400,fontWeightMedium:x=500,fontWeightBold:E=700,htmlFontSize:u=16,allVariants:j,pxToRem:o,...B}=typeof a=="function"?a(A):a,h=l/14,b=o||(I=>`${I/u*h}rem`),w=(I,N,Q,m,y)=>({fontFamily:i,fontWeight:I,fontSize:b(N),lineHeight:Q,...i===Yl?{letterSpacing:`${q0(m/N)}em`}:{},...y,...j}),T={h1:w(p,96,1.167,-1.5),h2:w(p,60,1.2,-.5),h3:w(f,48,1.167,0),h4:w(f,34,1.235,.25),h5:w(f,24,1.334,0),h6:w(x,20,1.6,.15),subtitle1:w(f,16,1.75,.15),subtitle2:w(x,14,1.57,.1),body1:w(f,16,1.5,.15),body2:w(f,14,1.43,.15),button:w(x,14,1.75,.4,Jl),caption:w(f,12,1.66,.4),overline:w(f,12,2.66,1,Jl),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return ct({htmlFontSize:u,pxToRem:b,fontFamily:i,fontSize:l,fontWeightLight:p,fontWeightRegular:f,fontWeightMedium:x,fontWeightBold:E,...T},B,{clone:!1})}const Ax=.2,tx=.14,rx=.12;function PA(...A){return[`${A[0]}px ${A[1]}px ${A[2]}px ${A[3]}px rgba(0,0,0,${Ax})`,`${A[4]}px ${A[5]}px ${A[6]}px ${A[7]}px rgba(0,0,0,${tx})`,`${A[8]}px ${A[9]}px ${A[10]}px ${A[11]}px rgba(0,0,0,${rx})`].join(",")}const sx=["none",PA(0,2,1,-1,0,1,1,0,0,1,3,0),PA(0,3,1,-2,0,2,2,0,0,1,5,0),PA(0,3,3,-2,0,3,4,0,0,1,8,0),PA(0,2,4,-1,0,4,5,0,0,1,10,0),PA(0,3,5,-1,0,5,8,0,0,1,14,0),PA(0,3,5,-1,0,6,10,0,0,1,18,0),PA(0,4,5,-2,0,7,10,1,0,2,16,1),PA(0,5,5,-3,0,8,10,1,0,3,14,2),PA(0,5,6,-3,0,9,12,1,0,3,16,2),PA(0,6,6,-3,0,10,14,1,0,4,18,3),PA(0,6,7,-4,0,11,15,1,0,4,20,3),PA(0,7,8,-4,0,12,17,2,0,5,22,4),PA(0,7,8,-4,0,13,19,2,0,5,24,4),PA(0,7,9,-4,0,14,21,2,0,5,26,4),PA(0,8,9,-5,0,15,22,2,0,6,28,5),PA(0,8,10,-5,0,16,24,2,0,6,30,5),PA(0,8,11,-5,0,17,26,2,0,6,32,5),PA(0,9,11,-5,0,18,28,2,0,7,34,6),PA(0,9,12,-6,0,19,29,2,0,7,36,6),PA(0,10,13,-6,0,20,31,3,0,8,38,7),PA(0,10,13,-6,0,21,33,3,0,8,40,7),PA(0,10,14,-6,0,22,35,3,0,8,42,7),PA(0,11,14,-7,0,23,36,3,0,9,44,8),PA(0,11,15,-7,0,24,38,3,0,9,46,8)],nx={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},ax={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function zl(A){return`${Math.round(A)}ms`}function ix(A){if(!A)return 0;const a=A/36;return Math.min(Math.round((4+15*a**.25+a/5)*10),3e3)}function ox(A){const a={...nx,...A.easing},i={...ax,...A.duration};return{getAutoHeightDuration:ix,create:(p=["all"],f={})=>{const{duration:x=i.standard,easing:E=a.easeInOut,delay:u=0,...j}=f;return(Array.isArray(p)?p:[p]).map(o=>`${o} ${typeof x=="string"?x:zl(x)} ${E} ${typeof u=="string"?u:zl(u)}`).join(",")},...A,easing:a,duration:i}}const lx={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function cx(A){return lr(A)||typeof A>"u"||typeof A=="string"||typeof A=="boolean"||typeof A=="number"||Array.isArray(A)}function Jc(A={}){const a={...A};function i(l){const p=Object.entries(l);for(let f=0;f<p.length;f++){const[x,E]=p[f];!cx(E)||x.startsWith("unstable_")?delete l[x]:lr(E)&&(l[x]={...E},i(l[x]))}}return i(a),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(a,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function Zl(A){return typeof A=="number"?`${(A*100).toFixed(0)}%`:`calc((${A}) * 100%)`}const dx=A=>{if(!Number.isNaN(+A))return+A;const a=A.match(/\d*\.?\d+/g);if(!a)return 0;let i=0;for(let l=0;l<a.length;l+=1)i+=+a[l];return i};function ux(A){Object.assign(A,{alpha(a,i){const l=this||A;return l.colorSpace?`oklch(from ${a} l c h / ${typeof i=="string"?`calc(${i})`:i})`:l.vars?`rgba(${a.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof i=="string"?`calc(${i})`:i})`:Xn(a,dx(i))},lighten(a,i){const l=this||A;return l.colorSpace?`color-mix(in ${l.colorSpace}, ${a}, #fff ${Zl(i)})`:ca(a,i)},darken(a,i){const l=this||A;return l.colorSpace?`color-mix(in ${l.colorSpace}, ${a}, #000 ${Zl(i)})`:la(a,i)}})}function pi(A={},...a){const{breakpoints:i,mixins:l={},spacing:p,palette:f={},transitions:x={},typography:E={},shape:u,colorSpace:j,...o}=A;if(A.vars&&A.generateThemeVars===void 0)throw new Error(ur(20));const B=Ui({...f,colorSpace:j}),h=Fi(A);let b=ct(h,{mixins:Z0(h.breakpoints,l),palette:B,shadows:sx.slice(),typography:ex(B,E),transitions:ox(x),zIndex:{...lx}});return b=ct(b,o),b=a.reduce((w,T)=>ct(w,T),b),b.unstable_sxConfig={...ia,...o?.unstable_sxConfig},b.unstable_sx=function(T){return ys({sx:T,theme:this})},b.toRuntimeSource=Jc,ux(b),b}function hi(A){let a;return A<1?a=5.11916*A**2:a=4.5*Math.log(A+1)+2,Math.round(a*10)/1e3}const px=[...Array(25)].map((A,a)=>{if(a===0)return"none";const i=hi(a);return`linear-gradient(rgba(255 255 255 / ${i}), rgba(255 255 255 / ${i}))`});function Yc(A){return{inputPlaceholder:A==="dark"?.5:.42,inputUnderline:A==="dark"?.7:.42,switchTrackDisabled:A==="dark"?.2:.12,switchTrack:A==="dark"?.3:.38}}function zc(A){return A==="dark"?px:[]}function hx(A){const{palette:a={mode:"light"},opacity:i,overlays:l,colorSpace:p,...f}=A,x=Ui({...a,colorSpace:p});return{palette:x,opacity:{...Yc(x.mode),...i},overlays:l||zc(x.mode),...f}}function fx(A){return!!A[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!A[0].match(/sxConfig$/)||A[0]==="palette"&&!!A[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const mx=A=>[...[...Array(25)].map((a,i)=>`--${A?`${A}-`:""}overlays-${i}`),`--${A?`${A}-`:""}palette-AppBar-darkBg`,`--${A?`${A}-`:""}palette-AppBar-darkColor`],gx=A=>(a,i)=>{const l=A.rootSelector||":root",p=A.colorSchemeSelector;let f=p;if(p==="class"&&(f=".%s"),p==="data"&&(f="[data-%s]"),p?.startsWith("data-")&&!p.includes("%s")&&(f=`[${p}="%s"]`),A.defaultColorScheme===a){if(a==="dark"){const x={};return mx(A.cssVarPrefix).forEach(E=>{x[E]=i[E],delete i[E]}),f==="media"?{[l]:i,"@media (prefers-color-scheme: dark)":{[l]:x}}:f?{[f.replace("%s",a)]:x,[`${l}, ${f.replace("%s",a)}`]:i}:{[l]:{...i,...x}}}if(f&&f!=="media")return`${l}, ${f.replace("%s",String(a))}`}else if(a){if(f==="media")return{[`@media (prefers-color-scheme: ${String(a)})`]:{[l]:i}};if(f)return f.replace("%s",String(a))}return l};function xx(A,a){a.forEach(i=>{A[i]||(A[i]={})})}function be(A,a,i){!A[a]&&i&&(A[a]=i)}function _s(A){return typeof A!="string"||!A.startsWith("hsl")?A:_c(A)}function ar(A,a){`${a}Channel`in A||(A[`${a}Channel`]=Vs(_s(A[a])))}function Bx(A){return typeof A=="number"?`${A}px`:typeof A=="string"||typeof A=="function"||Array.isArray(A)?A:"8px"}const Xt=A=>{try{return A()}catch{}},wx=(A="mui")=>O0(A);function qa(A,a,i,l,p){if(!i)return;i=i===!0?{}:i;const f=p==="dark"?"dark":"light";if(!l){a[p]=hx({...i,palette:{mode:f,...i?.palette},colorSpace:A});return}const{palette:x,...E}=pi({...l,palette:{mode:f,...i?.palette},colorSpace:A});return a[p]={...i,palette:x,opacity:{...Yc(f),...i?.opacity},overlays:i?.overlays||zc(f)},E}function yx(A={},...a){const{colorSchemes:i={light:!0},defaultColorScheme:l,disableCssColorScheme:p=!1,cssVarPrefix:f="mui",nativeColor:x=!1,shouldSkipGeneratingVar:E=fx,colorSchemeSelector:u=i.light&&i.dark?"media":void 0,rootSelector:j=":root",...o}=A,B=Object.keys(i)[0],h=l||(i.light&&B!=="light"?"light":B),b=wx(f),{[h]:w,light:T,dark:I,...N}=i,Q={...N};let m=w;if((h==="dark"&&!("dark"in i)||h==="light"&&!("light"in i))&&(m=!0),!m)throw new Error(ur(21,h));let y;x&&(y="oklch");const D=qa(y,Q,m,o,h);T&&!Q.light&&qa(y,Q,T,void 0,"light"),I&&!Q.dark&&qa(y,Q,I,void 0,"dark");let H={defaultColorScheme:h,...D,cssVarPrefix:f,colorSchemeSelector:u,rootSelector:j,getCssVar:b,colorSchemes:Q,font:{...z0(D.typography),...D.font},spacing:Bx(o.spacing)};Object.keys(H.colorSchemes).forEach(F=>{const C=H.colorSchemes[F].palette,M=S=>{const K=S.split("-"),Z=K[1],de=K[2];return b(S,C[Z][de])};C.mode==="light"&&(be(C.common,"background","#fff"),be(C.common,"onBackground","#000")),C.mode==="dark"&&(be(C.common,"background","#000"),be(C.common,"onBackground","#fff"));function R(S,K,Z){if(y){let de;return S===Lr&&(de=`transparent ${((1-Z)*100).toFixed(0)}%`),S===IA&&(de=`#000 ${(Z*100).toFixed(0)}%`),S===SA&&(de=`#fff ${(Z*100).toFixed(0)}%`),`color-mix(in ${y}, ${K}, ${de})`}return S(K,Z)}if(xx(C,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),C.mode==="light"){be(C.Alert,"errorColor",R(IA,C.error.light,.6)),be(C.Alert,"infoColor",R(IA,C.info.light,.6)),be(C.Alert,"successColor",R(IA,C.success.light,.6)),be(C.Alert,"warningColor",R(IA,C.warning.light,.6)),be(C.Alert,"errorFilledBg",M("palette-error-main")),be(C.Alert,"infoFilledBg",M("palette-info-main")),be(C.Alert,"successFilledBg",M("palette-success-main")),be(C.Alert,"warningFilledBg",M("palette-warning-main")),be(C.Alert,"errorFilledColor",Xt(()=>C.getContrastText(C.error.main))),be(C.Alert,"infoFilledColor",Xt(()=>C.getContrastText(C.info.main))),be(C.Alert,"successFilledColor",Xt(()=>C.getContrastText(C.success.main))),be(C.Alert,"warningFilledColor",Xt(()=>C.getContrastText(C.warning.main))),be(C.Alert,"errorStandardBg",R(SA,C.error.light,.9)),be(C.Alert,"infoStandardBg",R(SA,C.info.light,.9)),be(C.Alert,"successStandardBg",R(SA,C.success.light,.9)),be(C.Alert,"warningStandardBg",R(SA,C.warning.light,.9)),be(C.Alert,"errorIconColor",M("palette-error-main")),be(C.Alert,"infoIconColor",M("palette-info-main")),be(C.Alert,"successIconColor",M("palette-success-main")),be(C.Alert,"warningIconColor",M("palette-warning-main")),be(C.AppBar,"defaultBg",M("palette-grey-100")),be(C.Avatar,"defaultBg",M("palette-grey-400")),be(C.Button,"inheritContainedBg",M("palette-grey-300")),be(C.Button,"inheritContainedHoverBg",M("palette-grey-A100")),be(C.Chip,"defaultBorder",M("palette-grey-400")),be(C.Chip,"defaultAvatarColor",M("palette-grey-700")),be(C.Chip,"defaultIconColor",M("palette-grey-700")),be(C.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),be(C.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),be(C.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),be(C.LinearProgress,"primaryBg",R(SA,C.primary.main,.62)),be(C.LinearProgress,"secondaryBg",R(SA,C.secondary.main,.62)),be(C.LinearProgress,"errorBg",R(SA,C.error.main,.62)),be(C.LinearProgress,"infoBg",R(SA,C.info.main,.62)),be(C.LinearProgress,"successBg",R(SA,C.success.main,.62)),be(C.LinearProgress,"warningBg",R(SA,C.warning.main,.62)),be(C.Skeleton,"bg",y?R(Lr,C.text.primary,.11):`rgba(${M("palette-text-primaryChannel")} / 0.11)`),be(C.Slider,"primaryTrack",R(SA,C.primary.main,.62)),be(C.Slider,"secondaryTrack",R(SA,C.secondary.main,.62)),be(C.Slider,"errorTrack",R(SA,C.error.main,.62)),be(C.Slider,"infoTrack",R(SA,C.info.main,.62)),be(C.Slider,"successTrack",R(SA,C.success.main,.62)),be(C.Slider,"warningTrack",R(SA,C.warning.main,.62));const S=y?R(IA,C.background.default,.6825):Mn(C.background.default,.8);be(C.SnackbarContent,"bg",S),be(C.SnackbarContent,"color",Xt(()=>y?ui.text.primary:C.getContrastText(S))),be(C.SpeedDialAction,"fabHoverBg",Mn(C.background.paper,.15)),be(C.StepConnector,"border",M("palette-grey-400")),be(C.StepContent,"border",M("palette-grey-400")),be(C.Switch,"defaultColor",M("palette-common-white")),be(C.Switch,"defaultDisabledColor",M("palette-grey-100")),be(C.Switch,"primaryDisabledColor",R(SA,C.primary.main,.62)),be(C.Switch,"secondaryDisabledColor",R(SA,C.secondary.main,.62)),be(C.Switch,"errorDisabledColor",R(SA,C.error.main,.62)),be(C.Switch,"infoDisabledColor",R(SA,C.info.main,.62)),be(C.Switch,"successDisabledColor",R(SA,C.success.main,.62)),be(C.Switch,"warningDisabledColor",R(SA,C.warning.main,.62)),be(C.TableCell,"border",R(SA,R(Lr,C.divider,1),.88)),be(C.Tooltip,"bg",R(Lr,C.grey[700],.92))}if(C.mode==="dark"){be(C.Alert,"errorColor",R(SA,C.error.light,.6)),be(C.Alert,"infoColor",R(SA,C.info.light,.6)),be(C.Alert,"successColor",R(SA,C.success.light,.6)),be(C.Alert,"warningColor",R(SA,C.warning.light,.6)),be(C.Alert,"errorFilledBg",M("palette-error-dark")),be(C.Alert,"infoFilledBg",M("palette-info-dark")),be(C.Alert,"successFilledBg",M("palette-success-dark")),be(C.Alert,"warningFilledBg",M("palette-warning-dark")),be(C.Alert,"errorFilledColor",Xt(()=>C.getContrastText(C.error.dark))),be(C.Alert,"infoFilledColor",Xt(()=>C.getContrastText(C.info.dark))),be(C.Alert,"successFilledColor",Xt(()=>C.getContrastText(C.success.dark))),be(C.Alert,"warningFilledColor",Xt(()=>C.getContrastText(C.warning.dark))),be(C.Alert,"errorStandardBg",R(IA,C.error.light,.9)),be(C.Alert,"infoStandardBg",R(IA,C.info.light,.9)),be(C.Alert,"successStandardBg",R(IA,C.success.light,.9)),be(C.Alert,"warningStandardBg",R(IA,C.warning.light,.9)),be(C.Alert,"errorIconColor",M("palette-error-main")),be(C.Alert,"infoIconColor",M("palette-info-main")),be(C.Alert,"successIconColor",M("palette-success-main")),be(C.Alert,"warningIconColor",M("palette-warning-main")),be(C.AppBar,"defaultBg",M("palette-grey-900")),be(C.AppBar,"darkBg",M("palette-background-paper")),be(C.AppBar,"darkColor",M("palette-text-primary")),be(C.Avatar,"defaultBg",M("palette-grey-600")),be(C.Button,"inheritContainedBg",M("palette-grey-800")),be(C.Button,"inheritContainedHoverBg",M("palette-grey-700")),be(C.Chip,"defaultBorder",M("palette-grey-700")),be(C.Chip,"defaultAvatarColor",M("palette-grey-300")),be(C.Chip,"defaultIconColor",M("palette-grey-300")),be(C.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),be(C.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),be(C.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),be(C.LinearProgress,"primaryBg",R(IA,C.primary.main,.5)),be(C.LinearProgress,"secondaryBg",R(IA,C.secondary.main,.5)),be(C.LinearProgress,"errorBg",R(IA,C.error.main,.5)),be(C.LinearProgress,"infoBg",R(IA,C.info.main,.5)),be(C.LinearProgress,"successBg",R(IA,C.success.main,.5)),be(C.LinearProgress,"warningBg",R(IA,C.warning.main,.5)),be(C.Skeleton,"bg",y?R(Lr,C.text.primary,.13):`rgba(${M("palette-text-primaryChannel")} / 0.13)`),be(C.Slider,"primaryTrack",R(IA,C.primary.main,.5)),be(C.Slider,"secondaryTrack",R(IA,C.secondary.main,.5)),be(C.Slider,"errorTrack",R(IA,C.error.main,.5)),be(C.Slider,"infoTrack",R(IA,C.info.main,.5)),be(C.Slider,"successTrack",R(IA,C.success.main,.5)),be(C.Slider,"warningTrack",R(IA,C.warning.main,.5));const S=y?R(SA,C.background.default,.985):Mn(C.background.default,.98);be(C.SnackbarContent,"bg",S),be(C.SnackbarContent,"color",Xt(()=>y?Wc.text.primary:C.getContrastText(S))),be(C.SpeedDialAction,"fabHoverBg",Mn(C.background.paper,.15)),be(C.StepConnector,"border",M("palette-grey-600")),be(C.StepContent,"border",M("palette-grey-600")),be(C.Switch,"defaultColor",M("palette-grey-300")),be(C.Switch,"defaultDisabledColor",M("palette-grey-600")),be(C.Switch,"primaryDisabledColor",R(IA,C.primary.main,.55)),be(C.Switch,"secondaryDisabledColor",R(IA,C.secondary.main,.55)),be(C.Switch,"errorDisabledColor",R(IA,C.error.main,.55)),be(C.Switch,"infoDisabledColor",R(IA,C.info.main,.55)),be(C.Switch,"successDisabledColor",R(IA,C.success.main,.55)),be(C.Switch,"warningDisabledColor",R(IA,C.warning.main,.55)),be(C.TableCell,"border",R(IA,R(Lr,C.divider,1),.68)),be(C.Tooltip,"bg",R(Lr,C.grey[700],.92))}ar(C.background,"default"),ar(C.background,"paper"),ar(C.common,"background"),ar(C.common,"onBackground"),ar(C,"divider"),Object.keys(C).forEach(S=>{const K=C[S];S!=="tonalOffset"&&K&&typeof K=="object"&&(K.main&&be(C[S],"mainChannel",Vs(_s(K.main))),K.light&&be(C[S],"lightChannel",Vs(_s(K.light))),K.dark&&be(C[S],"darkChannel",Vs(_s(K.dark))),K.contrastText&&be(C[S],"contrastTextChannel",Vs(_s(K.contrastText))),S==="text"&&(ar(C[S],"primary"),ar(C[S],"secondary")),S==="action"&&(K.active&&ar(C[S],"active"),K.selected&&ar(C[S],"selected")))})}),H=a.reduce((F,C)=>ct(F,C),H);const $={prefix:f,disableCssColorScheme:p,shouldSkipGeneratingVar:E,getSelector:gx(H),enableContrastVars:x},{vars:z,generateThemeVars:ie,generateStyleSheets:re}=M0(H,$);return H.vars=z,Object.entries(H.colorSchemes[H.defaultColorScheme]).forEach(([F,C])=>{H[F]=C}),H.generateThemeVars=ie,H.generateStyleSheets=re,H.generateSpacing=function(){return Mc(o.spacing,ji(this))},H.getColorSchemeSelector=K0(u),H.spacing=H.generateSpacing(),H.shouldSkipGeneratingVar=E,H.unstable_sxConfig={...ia,...o?.unstable_sxConfig},H.unstable_sx=function(C){return ys({sx:C,theme:this})},H.toRuntimeSource=Jc,H}function ql(A,a,i){A.colorSchemes&&i&&(A.colorSchemes[a]={...i!==!0&&i,palette:Ui({...i===!0?{}:i.palette,mode:a})})}function bx(A={},...a){const{palette:i,cssVariables:l=!1,colorSchemes:p=i?void 0:{light:!0},defaultColorScheme:f=i?.mode,...x}=A,E=f||"light",u=p?.[E],j={...p,...i?{[E]:{...typeof u!="boolean"&&u,palette:i}}:void 0};if(l===!1){if(!("colorSchemes"in A))return pi(A,...a);let o=i;"palette"in A||j[E]&&(j[E]!==!0?o=j[E].palette:E==="dark"&&(o={mode:"dark"}));const B=pi({...A,palette:o},...a);return B.defaultColorScheme=E,B.colorSchemes=j,B.palette.mode==="light"&&(B.colorSchemes.light={...j.light!==!0&&j.light,palette:B.palette},ql(B,"dark",j.dark)),B.palette.mode==="dark"&&(B.colorSchemes.dark={...j.dark!==!0&&j.dark,palette:B.palette},ql(B,"light",j.light)),B}return!i&&!("light"in j)&&E==="light"&&(j.light=!0),yx({...x,colorSchemes:j,defaultColorScheme:E,...typeof l!="boolean"&&l},...a)}const Ei=bx(),Ii="$$material";function Si(){const A=Kc(Ei);return A[Ii]||A}function vx(A){return e.jsx(u0,{...A,defaultTheme:Ei,themeId:Ii})}const wA=B0({themeId:Ii,defaultTheme:Ei,rootShouldForwardProp:Zt});function Cx(A){return function(i){return e.jsx(vx,{styles:typeof A=="function"?l=>A({theme:l,...i}):A})}}const jt=P0;function ht(A){return T0(A)}const fi=P.createContext({});function ec(A){try{return A.matches(":focus-visible")}catch{}return!1}function pt(...A){const a=P.useRef(void 0),i=P.useCallback(l=>{const p=A.map(f=>{if(f==null)return null;if(typeof f=="function"){const x=f,E=x(l);return typeof E=="function"?E:()=>{x(null)}}return f.current=l,()=>{f.current=null}});return()=>{p.forEach(f=>f?.())}},A);return P.useMemo(()=>A.every(l=>l==null)?null:l=>{a.current&&(a.current(),a.current=void 0),l!=null&&(a.current=i(l))},A)}function $r(A){const a=P.useRef(A);return Nr(()=>{a.current=A}),P.useRef((...i)=>(0,a.current)(...i)).current}const Ac={};function Zc(A,a){const i=P.useRef(Ac);return i.current===Ac&&(i.current=A(a)),i}class Jn{static create(){return new Jn}static use(){const a=Zc(Jn.create).current,[i,l]=P.useState(!1);return a.shouldMount=i,a.setShouldMount=l,P.useEffect(a.mountEffect,[i]),a}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=Qx(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...a){this.mount().then(()=>this.ref.current?.start(...a))}stop(...a){this.mount().then(()=>this.ref.current?.stop(...a))}pulsate(...a){this.mount().then(()=>this.ref.current?.pulsate(...a))}}function jx(){return Jn.use()}function Qx(){let A,a;const i=new Promise((l,p)=>{A=l,a=p});return i.resolve=A,i.reject=a,i}function qc(A,a){A.prototype=Object.create(a.prototype),A.prototype.constructor=A,bm(A,a)}const tc={disabled:!1},Yn=dr.createContext(null);var Fx=function(a){return a.scrollTop},$s="unmounted",Mr="exited",Kr="entering",ps="entered",mi="exiting",qt=(function(A){qc(a,A);function a(l,p){var f;f=A.call(this,l,p)||this;var x=p,E=x&&!x.isMounting?l.enter:l.appear,u;return f.appearStatus=null,l.in?E?(u=Mr,f.appearStatus=Kr):u=ps:l.unmountOnExit||l.mountOnEnter?u=$s:u=Mr,f.state={status:u},f.nextCallback=null,f}a.getDerivedStateFromProps=function(p,f){var x=p.in;return x&&f.status===$s?{status:Mr}:null};var i=a.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(p){var f=null;if(p!==this.props){var x=this.state.status;this.props.in?x!==Kr&&x!==ps&&(f=Kr):(x===Kr||x===ps)&&(f=mi)}this.updateStatus(!1,f)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var p=this.props.timeout,f,x,E;return f=x=E=p,p!=null&&typeof p!="number"&&(f=p.exit,x=p.enter,E=p.appear!==void 0?p.appear:x),{exit:f,enter:x,appear:E}},i.updateStatus=function(p,f){if(p===void 0&&(p=!1),f!==null)if(this.cancelNextCallback(),f===Kr){if(this.props.unmountOnExit||this.props.mountOnEnter){var x=this.props.nodeRef?this.props.nodeRef.current:Ln.findDOMNode(this);x&&Fx(x)}this.performEnter(p)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mr&&this.setState({status:$s})},i.performEnter=function(p){var f=this,x=this.props.enter,E=this.context?this.context.isMounting:p,u=this.props.nodeRef?[E]:[Ln.findDOMNode(this),E],j=u[0],o=u[1],B=this.getTimeouts(),h=E?B.appear:B.enter;if(!p&&!x||tc.disabled){this.safeSetState({status:ps},function(){f.props.onEntered(j)});return}this.props.onEnter(j,o),this.safeSetState({status:Kr},function(){f.props.onEntering(j,o),f.onTransitionEnd(h,function(){f.safeSetState({status:ps},function(){f.props.onEntered(j,o)})})})},i.performExit=function(){var p=this,f=this.props.exit,x=this.getTimeouts(),E=this.props.nodeRef?void 0:Ln.findDOMNode(this);if(!f||tc.disabled){this.safeSetState({status:Mr},function(){p.props.onExited(E)});return}this.props.onExit(E),this.safeSetState({status:mi},function(){p.props.onExiting(E),p.onTransitionEnd(x.exit,function(){p.safeSetState({status:Mr},function(){p.props.onExited(E)})})})},i.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(p,f){f=this.setNextCallback(f),this.setState(p,f)},i.setNextCallback=function(p){var f=this,x=!0;return this.nextCallback=function(E){x&&(x=!1,f.nextCallback=null,p(E))},this.nextCallback.cancel=function(){x=!1},this.nextCallback},i.onTransitionEnd=function(p,f){this.setNextCallback(f);var x=this.props.nodeRef?this.props.nodeRef.current:Ln.findDOMNode(this),E=p==null&&!this.props.addEndListener;if(!x||E){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var u=this.props.nodeRef?[this.nextCallback]:[x,this.nextCallback],j=u[0],o=u[1];this.props.addEndListener(j,o)}p!=null&&setTimeout(this.nextCallback,p)},i.render=function(){var p=this.state.status;if(p===$s)return null;var f=this.props,x=f.children;f.in,f.mountOnEnter,f.unmountOnExit,f.appear,f.enter,f.exit,f.timeout,f.addEndListener,f.onEnter,f.onEntering,f.onEntered,f.onExit,f.onExiting,f.onExited,f.nodeRef;var E=Ic(f,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return dr.createElement(Yn.Provider,{value:null},typeof x=="function"?x(p,E):dr.cloneElement(dr.Children.only(x),E))},a})(dr.Component);qt.contextType=Yn;qt.propTypes={};function cs(){}qt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:cs,onEntering:cs,onEntered:cs,onExit:cs,onExiting:cs,onExited:cs};qt.UNMOUNTED=$s;qt.EXITED=Mr;qt.ENTERING=Kr;qt.ENTERED=ps;qt.EXITING=mi;function Ti(A,a){var i=function(f){return a&&P.isValidElement(f)?a(f):f},l=Object.create(null);return A&&P.Children.map(A,function(p){return p}).forEach(function(p){l[p.key]=i(p)}),l}function Nx(A,a){A=A||{},a=a||{};function i(o){return o in a?a[o]:A[o]}var l=Object.create(null),p=[];for(var f in A)f in a?p.length&&(l[f]=p,p=[]):p.push(f);var x,E={};for(var u in a){if(l[u])for(x=0;x<l[u].length;x++){var j=l[u][x];E[l[u][x]]=i(j)}E[u]=i(u)}for(x=0;x<p.length;x++)E[p[x]]=i(p[x]);return E}function _r(A,a,i){return i[a]!=null?i[a]:A.props[a]}function Ux(A,a){return Ti(A.children,function(i){return P.cloneElement(i,{onExited:a.bind(null,i),in:!0,appear:_r(i,"appear",A),enter:_r(i,"enter",A),exit:_r(i,"exit",A)})})}function Ex(A,a,i){var l=Ti(A.children),p=Nx(a,l);return Object.keys(p).forEach(function(f){var x=p[f];if(P.isValidElement(x)){var E=f in a,u=f in l,j=a[f],o=P.isValidElement(j)&&!j.props.in;u&&(!E||o)?p[f]=P.cloneElement(x,{onExited:i.bind(null,x),in:!0,exit:_r(x,"exit",A),enter:_r(x,"enter",A)}):!u&&E&&!o?p[f]=P.cloneElement(x,{in:!1}):u&&E&&P.isValidElement(j)&&(p[f]=P.cloneElement(x,{onExited:i.bind(null,x),in:j.props.in,exit:_r(x,"exit",A),enter:_r(x,"enter",A)}))}}),p}var Ix=Object.values||function(A){return Object.keys(A).map(function(a){return A[a]})},Sx={component:"div",childFactory:function(a){return a}},Di=(function(A){qc(a,A);function a(l,p){var f;f=A.call(this,l,p)||this;var x=f.handleExited.bind(vm(f));return f.state={contextValue:{isMounting:!0},handleExited:x,firstRender:!0},f}var i=a.prototype;return i.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},i.componentWillUnmount=function(){this.mounted=!1},a.getDerivedStateFromProps=function(p,f){var x=f.children,E=f.handleExited,u=f.firstRender;return{children:u?Ux(p,E):Ex(p,x,E),firstRender:!1}},i.handleExited=function(p,f){var x=Ti(this.props.children);p.key in x||(p.props.onExited&&p.props.onExited(f),this.mounted&&this.setState(function(E){var u=Hc({},E.children);return delete u[p.key],{children:u}}))},i.render=function(){var p=this.props,f=p.component,x=p.childFactory,E=Ic(p,["component","childFactory"]),u=this.state.contextValue,j=Ix(this.state.children).map(x);return delete E.appear,delete E.enter,delete E.exit,f===null?dr.createElement(Yn.Provider,{value:u},j):dr.createElement(Yn.Provider,{value:u},dr.createElement(f,E,j))},a})(dr.Component);Di.propTypes={};Di.defaultProps=Sx;const Tx=[];function Dx(A){P.useEffect(A,Tx)}class Hi{static create(){return new Hi}currentId=null;start(a,i){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,i()},a)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function ed(){const A=Zc(Hi.create).current;return Dx(A.disposeEffect),A}function Hx(A){const{className:a,classes:i,pulsate:l=!1,rippleX:p,rippleY:f,rippleSize:x,in:E,onExited:u,timeout:j}=A,[o,B]=P.useState(!1),h=EA(a,i.ripple,i.rippleVisible,l&&i.ripplePulsate),b={width:x,height:x,top:-(x/2)+f,left:-(x/2)+p},w=EA(i.child,o&&i.childLeaving,l&&i.childPulsate);return!E&&!o&&B(!0),P.useEffect(()=>{if(!E&&u!=null){const T=setTimeout(u,j);return()=>{clearTimeout(T)}}},[u,E,j]),e.jsx("span",{className:h,style:b,children:e.jsx("span",{className:w})})}const It=zA("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),gi=550,Rx=80,Px=bi`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Ox=bi`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Lx=bi`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,kx=wA("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Mx=wA(Hx,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${It.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Px};
    animation-duration: ${gi}ms;
    animation-timing-function: ${({theme:A})=>A.transitions.easing.easeInOut};
  }

  &.${It.ripplePulsate} {
    animation-duration: ${({theme:A})=>A.transitions.duration.shorter}ms;
  }

  & .${It.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${It.childLeaving} {
    opacity: 0;
    animation-name: ${Ox};
    animation-duration: ${gi}ms;
    animation-timing-function: ${({theme:A})=>A.transitions.easing.easeInOut};
  }

  & .${It.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Lx};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:A})=>A.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,Kx=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiTouchRipple"}),{center:p=!1,classes:f={},className:x,...E}=l,[u,j]=P.useState([]),o=P.useRef(0),B=P.useRef(null);P.useEffect(()=>{B.current&&(B.current(),B.current=null)},[u]);const h=P.useRef(!1),b=ed(),w=P.useRef(null),T=P.useRef(null),I=P.useCallback(y=>{const{pulsate:D,rippleX:H,rippleY:$,rippleSize:z,cb:ie}=y;j(re=>[...re,e.jsx(Mx,{classes:{ripple:EA(f.ripple,It.ripple),rippleVisible:EA(f.rippleVisible,It.rippleVisible),ripplePulsate:EA(f.ripplePulsate,It.ripplePulsate),child:EA(f.child,It.child),childLeaving:EA(f.childLeaving,It.childLeaving),childPulsate:EA(f.childPulsate,It.childPulsate)},timeout:gi,pulsate:D,rippleX:H,rippleY:$,rippleSize:z},o.current)]),o.current+=1,B.current=ie},[f]),N=P.useCallback((y={},D={},H=()=>{})=>{const{pulsate:$=!1,center:z=p||D.pulsate,fakeElement:ie=!1}=D;if(y?.type==="mousedown"&&h.current){h.current=!1;return}y?.type==="touchstart"&&(h.current=!0);const re=ie?null:T.current,F=re?re.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,M,R;if(z||y===void 0||y.clientX===0&&y.clientY===0||!y.clientX&&!y.touches)C=Math.round(F.width/2),M=Math.round(F.height/2);else{const{clientX:S,clientY:K}=y.touches&&y.touches.length>0?y.touches[0]:y;C=Math.round(S-F.left),M=Math.round(K-F.top)}if(z)R=Math.sqrt((2*F.width**2+F.height**2)/3),R%2===0&&(R+=1);else{const S=Math.max(Math.abs((re?re.clientWidth:0)-C),C)*2+2,K=Math.max(Math.abs((re?re.clientHeight:0)-M),M)*2+2;R=Math.sqrt(S**2+K**2)}y?.touches?w.current===null&&(w.current=()=>{I({pulsate:$,rippleX:C,rippleY:M,rippleSize:R,cb:H})},b.start(Rx,()=>{w.current&&(w.current(),w.current=null)})):I({pulsate:$,rippleX:C,rippleY:M,rippleSize:R,cb:H})},[p,I,b]),Q=P.useCallback(()=>{N({},{pulsate:!0})},[N]),m=P.useCallback((y,D)=>{if(b.clear(),y?.type==="touchend"&&w.current){w.current(),w.current=null,b.start(0,()=>{m(y,D)});return}w.current=null,j(H=>H.length>0?H.slice(1):H),B.current=D},[b]);return P.useImperativeHandle(i,()=>({pulsate:Q,start:N,stop:m}),[Q,N,m]),e.jsx(kx,{className:EA(It.root,f.root,x),ref:T,...E,children:e.jsx(Di,{component:null,exit:!0,children:u})})});function Gx(A){return ut("MuiButtonBase",A)}const Vx=zA("MuiButtonBase",["root","disabled","focusVisible"]),_x=A=>{const{disabled:a,focusVisible:i,focusVisibleClassName:l,classes:p}=A,x=dt({root:["root",a&&"disabled",i&&"focusVisible"]},Gx,p);return i&&l&&(x.root+=` ${l}`),x},$x=wA("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Vx.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Wx=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiButtonBase"}),{action:p,centerRipple:f=!1,children:x,className:E,component:u="button",disabled:j=!1,disableRipple:o=!1,disableTouchRipple:B=!1,focusRipple:h=!1,focusVisibleClassName:b,LinkComponent:w="a",onBlur:T,onClick:I,onContextMenu:N,onDragLeave:Q,onFocus:m,onFocusVisible:y,onKeyDown:D,onKeyUp:H,onMouseDown:$,onMouseLeave:z,onMouseUp:ie,onTouchEnd:re,onTouchMove:F,onTouchStart:C,tabIndex:M=0,TouchRippleProps:R,touchRippleRef:S,type:K,...Z}=l,de=P.useRef(null),se=jx(),me=pt(se.ref,S),[Ie,De]=P.useState(!1);j&&Ie&&De(!1),P.useImperativeHandle(p,()=>({focusVisible:()=>{De(!0),de.current.focus()}}),[]);const Xe=se.shouldMount&&!o&&!j;P.useEffect(()=>{Ie&&h&&!o&&se.pulsate()},[o,h,Ie,se]);const AA=ir(se,"start",$,B),$e=ir(se,"stop",N,B),fA=ir(se,"stop",Q,B),ze=ir(se,"stop",ie,B),lA=ir(se,"stop",he=>{Ie&&he.preventDefault(),z&&z(he)},B),cA=ir(se,"start",C,B),ke=ir(se,"stop",re,B),nA=ir(se,"stop",F,B),Me=ir(se,"stop",he=>{ec(he.target)||De(!1),T&&T(he)},!1),_=$r(he=>{de.current||(de.current=he.currentTarget),ec(he.target)&&(De(!0),y&&y(he)),m&&m(he)}),Ce=()=>{const he=de.current;return u&&u!=="button"&&!(he.tagName==="A"&&he.href)},ce=$r(he=>{h&&!he.repeat&&Ie&&he.key===" "&&se.stop(he,()=>{se.start(he)}),he.target===he.currentTarget&&Ce()&&he.key===" "&&he.preventDefault(),D&&D(he),he.target===he.currentTarget&&Ce()&&he.key==="Enter"&&!j&&(he.preventDefault(),I&&I(he))}),Be=$r(he=>{h&&he.key===" "&&Ie&&!he.defaultPrevented&&se.stop(he,()=>{se.pulsate(he)}),H&&H(he),I&&he.target===he.currentTarget&&Ce()&&he.key===" "&&!he.defaultPrevented&&I(he)});let Je=u;Je==="button"&&(Z.href||Z.to)&&(Je=w);const ee={};Je==="button"?(ee.type=K===void 0?"button":K,ee.disabled=j):(!Z.href&&!Z.to&&(ee.role="button"),j&&(ee["aria-disabled"]=j));const ve=pt(i,de),ue={...l,centerRipple:f,component:u,disabled:j,disableRipple:o,disableTouchRipple:B,focusRipple:h,tabIndex:M,focusVisible:Ie},Qe=_x(ue);return e.jsxs($x,{as:Je,className:EA(Qe.root,E),ownerState:ue,onBlur:Me,onClick:I,onContextMenu:$e,onFocus:_,onKeyDown:ce,onKeyUp:Be,onMouseDown:AA,onMouseLeave:lA,onMouseUp:ze,onDragLeave:fA,onTouchEnd:ke,onTouchMove:nA,onTouchStart:cA,ref:ve,tabIndex:j?-1:M,type:K,...ee,...Z,children:[x,Xe?e.jsx(Kx,{ref:me,center:f,...R}):null]})});function ir(A,a,i,l=!1){return $r(p=>(i&&i(p),l||A[a](p),!0))}const rc=zA("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),sc=zA("MuiListItemIcon",["root","alignItemsFlexStart"]);function Xx(A){return typeof A.main=="string"}function Jx(A,a=[]){if(!Xx(A))return!1;for(const i of a)if(!A.hasOwnProperty(i)||typeof A[i]!="string")return!1;return!0}function Ri(A=[]){return([,a])=>a&&Jx(a,A)}const nc=zA("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function zn(A){return typeof A=="string"}function Ad(A,a,i){return A===void 0||zn(A)?a:{...a,ownerState:{...a.ownerState,...i}}}function td(A,a,i){return typeof A=="function"?A(a,i):A}function rd(A,a=[]){if(A===void 0)return{};const i={};return Object.keys(A).filter(l=>l.match(/^on[A-Z]/)&&typeof A[l]=="function"&&!a.includes(l)).forEach(l=>{i[l]=A[l]}),i}function ac(A){if(A===void 0)return{};const a={};return Object.keys(A).filter(i=>!(i.match(/^on[A-Z]/)&&typeof A[i]=="function")).forEach(i=>{a[i]=A[i]}),a}function sd(A){const{getSlotProps:a,additionalProps:i,externalSlotProps:l,externalForwardedProps:p,className:f}=A;if(!a){const b=EA(i?.className,f,p?.className,l?.className),w={...i?.style,...p?.style,...l?.style},T={...i,...p,...l};return b.length>0&&(T.className=b),Object.keys(w).length>0&&(T.style=w),{props:T,internalRef:void 0}}const x=rd({...p,...l}),E=ac(l),u=ac(p),j=a(x),o=EA(j?.className,i?.className,f,p?.className,l?.className),B={...j?.style,...i?.style,...p?.style,...l?.style},h={...j,...i,...u,...E};return o.length>0&&(h.className=o),Object.keys(B).length>0&&(h.style=B),{props:h,internalRef:j.ref}}function zt(A,a){const{className:i,elementType:l,ownerState:p,externalForwardedProps:f,internalForwardedProps:x,shouldForwardComponentProp:E=!1,...u}=a,{component:j,slots:o={[A]:void 0},slotProps:B={[A]:void 0},...h}=f,b=o[A]||l,w=td(B[A],p),{props:{component:T,...I},internalRef:N}=sd({className:i,...u,externalForwardedProps:A==="root"?h:void 0,externalSlotProps:w}),Q=pt(N,w?.ref,a.ref),m=A==="root"?T||j:T,y=Ad(b,{...A==="root"&&!j&&!o[A]&&x,...A!=="root"&&!o[A]&&x,...I,...m&&!E&&{as:m},...m&&E&&{component:m},ref:Q},p);return[b,y]}function Yx(A){return ut("MuiMenuItem",A)}const Ls=zA("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),zx=(A,a)=>{const{ownerState:i}=A;return[a.root,i.dense&&a.dense,i.divider&&a.divider,!i.disableGutters&&a.gutters]},Zx=A=>{const{disabled:a,dense:i,divider:l,disableGutters:p,selected:f,classes:x}=A,u=dt({root:["root",i&&"dense",a&&"disabled",!p&&"gutters",l&&"divider",f&&"selected"]},Yx,x);return{...x,...u}},qx=wA(Wx,{shouldForwardProp:A=>Zt(A)||A==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:zx})(jt(({theme:A})=>({...A.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(A.vars||A).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Ls.selected}`]:{backgroundColor:A.alpha((A.vars||A).palette.primary.main,(A.vars||A).palette.action.selectedOpacity),[`&.${Ls.focusVisible}`]:{backgroundColor:A.alpha((A.vars||A).palette.primary.main,`${(A.vars||A).palette.action.selectedOpacity} + ${(A.vars||A).palette.action.focusOpacity}`)}},[`&.${Ls.selected}:hover`]:{backgroundColor:A.alpha((A.vars||A).palette.primary.main,`${(A.vars||A).palette.action.selectedOpacity} + ${(A.vars||A).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:A.alpha((A.vars||A).palette.primary.main,(A.vars||A).palette.action.selectedOpacity)}},[`&.${Ls.focusVisible}`]:{backgroundColor:(A.vars||A).palette.action.focus},[`&.${Ls.disabled}`]:{opacity:(A.vars||A).palette.action.disabledOpacity},[`& + .${rc.root}`]:{marginTop:A.spacing(1),marginBottom:A.spacing(1)},[`& + .${rc.inset}`]:{marginLeft:52},[`& .${nc.root}`]:{marginTop:0,marginBottom:0},[`& .${nc.inset}`]:{paddingLeft:36},[`& .${sc.root}`]:{minWidth:36},variants:[{props:({ownerState:a})=>!a.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:a})=>a.divider,style:{borderBottom:`1px solid ${(A.vars||A).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:a})=>!a.dense,style:{[A.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:a})=>a.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...A.typography.body2,[`& .${sc.root} svg`]:{fontSize:"1.25rem"}}}]}))),ic=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiMenuItem"}),{autoFocus:p=!1,component:f="li",dense:x=!1,divider:E=!1,disableGutters:u=!1,focusVisibleClassName:j,role:o="menuitem",tabIndex:B,className:h,...b}=l,w=P.useContext(fi),T=P.useMemo(()=>({dense:x||w.dense||!1,disableGutters:u}),[w.dense,x,u]),I=P.useRef(null);Nr(()=>{p&&I.current&&I.current.focus()},[p]);const N={...l,dense:T.dense,divider:E,disableGutters:u},Q=Zx(l),m=pt(I,i);let y;return l.disabled||(y=B!==void 0?B:-1),e.jsx(fi.Provider,{value:T,children:e.jsx(qx,{ref:m,role:o,tabIndex:y,component:f,focusVisibleClassName:EA(Q.focusVisible,j),className:EA(Q.root,h),...b,ownerState:N,classes:Q})})});function tn(A){return parseInt(P.version,10)>=19?A?.props?.ref||null:A?.ref||null}function Mt(A){return A&&A.ownerDocument||document}function eB(A){const{elementType:a,externalSlotProps:i,ownerState:l,skipResolvingSlotProps:p=!1,...f}=A,x=p?{}:td(i,l),{props:E,internalRef:u}=sd({...f,externalSlotProps:x}),j=pt(u,x?.ref,A.additionalProps?.ref);return Ad(a,{...E,ref:j},l)}function AB(A){return ut("MuiList",A)}zA("MuiList",["root","padding","dense","subheader"]);const tB=A=>{const{classes:a,disablePadding:i,dense:l,subheader:p}=A;return dt({root:["root",!i&&"padding",l&&"dense",p&&"subheader"]},AB,a)},rB=wA("ul",{name:"MuiList",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.root,!i.disablePadding&&a.padding,i.dense&&a.dense,i.subheader&&a.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:A})=>!A.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:A})=>A.subheader,style:{paddingTop:0}}]}),sB=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiList"}),{children:p,className:f,component:x="ul",dense:E=!1,disablePadding:u=!1,subheader:j,...o}=l,B=P.useMemo(()=>({dense:E}),[E]),h={...l,component:x,dense:E,disablePadding:u},b=tB(h);return e.jsx(fi.Provider,{value:B,children:e.jsxs(rB,{as:x,className:EA(b.root,f),ref:i,ownerState:h,...o,children:[j,p]})})});function nd(A=window){const a=A.document.documentElement.clientWidth;return A.innerWidth-a}function oc(...A){return A.reduce((a,i)=>i==null?a:function(...p){a.apply(this,p),i.apply(this,p)},()=>{})}function nB(A){return ut("MuiSvgIcon",A)}zA("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const aB=A=>{const{color:a,fontSize:i,classes:l}=A,p={root:["root",a!=="inherit"&&`color${wt(a)}`,`fontSize${wt(i)}`]};return dt(p,nB,l)},iB=wA("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.root,i.color!=="inherit"&&a[`color${wt(i.color)}`],a[`fontSize${wt(i.fontSize)}`]]}})(jt(({theme:A})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:A.transitions?.create?.("fill",{duration:(A.vars??A).transitions?.duration?.shorter}),variants:[{props:a=>!a.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:A.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:A.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:A.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((A.vars??A).palette).filter(([,a])=>a&&a.main).map(([a])=>({props:{color:a},style:{color:(A.vars??A).palette?.[a]?.main}})),{props:{color:"action"},style:{color:(A.vars??A).palette?.action?.active}},{props:{color:"disabled"},style:{color:(A.vars??A).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),xi=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiSvgIcon"}),{children:p,className:f,color:x="inherit",component:E="svg",fontSize:u="medium",htmlColor:j,inheritViewBox:o=!1,titleAccess:B,viewBox:h="0 0 24 24",...b}=l,w=P.isValidElement(p)&&p.type==="svg",T={...l,color:x,component:E,fontSize:u,instanceFontSize:a.fontSize,inheritViewBox:o,viewBox:h,hasSvgAsChild:w},I={};o||(I.viewBox=h);const N=aB(T);return e.jsxs(iB,{as:E,className:EA(N.root,f),focusable:"false",color:j,"aria-hidden":B?void 0:!0,role:B?"img":void 0,ref:i,...I,...b,...w&&p.props,ownerState:T,children:[w?p.props.children:p,B?e.jsx("title",{children:B}):null]})});xi.muiName="SvgIcon";function oB(A,a){function i(l,p){return e.jsx(xi,{"data-testid":void 0,ref:p,...l,children:A})}return i.muiName=xi.muiName,P.memo(P.forwardRef(i))}function ad(A,a=166){let i;function l(...p){const f=()=>{A.apply(this,p)};clearTimeout(i),i=setTimeout(f,a)}return l.clear=()=>{clearTimeout(i)},l}function hr(A){return Mt(A).defaultView||window}function lc(A,a){typeof A=="function"?A(a):A&&(A.current=a)}function cc(A){const{controlled:a,default:i,name:l,state:p="value"}=A,{current:f}=P.useRef(a!==void 0),[x,E]=P.useState(i),u=f?a:x,j=P.useCallback(o=>{f||E(o)},[]);return[u,j]}function lB(A,a){const i=A.charCodeAt(2);return A[0]==="o"&&A[1]==="n"&&i>=65&&i<=90&&typeof a=="function"}function cB(A,a){if(!A)return a;function i(x,E){const u={};return Object.keys(E).forEach(j=>{lB(j,E[j])&&typeof x[j]=="function"&&(u[j]=(...o)=>{x[j](...o),E[j](...o)})}),u}if(typeof A=="function"||typeof a=="function")return x=>{const E=typeof a=="function"?a(x):a,u=typeof A=="function"?A({...x,...E}):A,j=EA(x?.className,E?.className,u?.className),o=i(u,E);return{...E,...u,...o,...!!j&&{className:j},...E?.style&&u?.style&&{style:{...E.style,...u.style}},...E?.sx&&u?.sx&&{sx:[...Array.isArray(E.sx)?E.sx:[E.sx],...Array.isArray(u.sx)?u.sx:[u.sx]]}}};const l=a,p=i(A,l),f=EA(l?.className,A?.className);return{...a,...A,...p,...!!f&&{className:f},...l?.style&&A?.style&&{style:{...l.style,...A.style}},...l?.sx&&A?.sx&&{sx:[...Array.isArray(l.sx)?l.sx:[l.sx],...Array.isArray(A.sx)?A.sx:[A.sx]]}}}function ei(A,a,i){return A===a?A.firstChild:a&&a.nextElementSibling?a.nextElementSibling:i?null:A.firstChild}function dc(A,a,i){return A===a?i?A.firstChild:A.lastChild:a&&a.previousElementSibling?a.previousElementSibling:i?null:A.lastChild}function id(A,a){if(a===void 0)return!0;let i=A.innerText;return i===void 0&&(i=A.textContent),i=i.trim().toLowerCase(),i.length===0?!1:a.repeating?i[0]===a.keys[0]:i.startsWith(a.keys.join(""))}function ks(A,a,i,l,p,f){let x=!1,E=p(A,a,a?i:!1);for(;E;){if(E===A.firstChild){if(x)return!1;x=!0}const u=l?!1:E.disabled||E.getAttribute("aria-disabled")==="true";if(!E.hasAttribute("tabindex")||!id(E,f)||u)E=p(A,E,i);else return E.focus(),!0}return!1}const dB=P.forwardRef(function(a,i){const{actions:l,autoFocus:p=!1,autoFocusItem:f=!1,children:x,className:E,disabledItemsFocusable:u=!1,disableListWrap:j=!1,onKeyDown:o,variant:B="selectedMenu",...h}=a,b=P.useRef(null),w=P.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Nr(()=>{p&&b.current.focus()},[p]),P.useImperativeHandle(l,()=>({adjustStyleForScrollbar:(m,{direction:y})=>{const D=!b.current.style.width;if(m.clientHeight<b.current.clientHeight&&D){const H=`${nd(hr(m))}px`;b.current.style[y==="rtl"?"paddingLeft":"paddingRight"]=H,b.current.style.width=`calc(100% + ${H})`}return b.current}}),[]);const T=m=>{const y=b.current,D=m.key;if(m.ctrlKey||m.metaKey||m.altKey){o&&o(m);return}const $=Mt(y).activeElement;if(D==="ArrowDown")m.preventDefault(),ks(y,$,j,u,ei);else if(D==="ArrowUp")m.preventDefault(),ks(y,$,j,u,dc);else if(D==="Home")m.preventDefault(),ks(y,null,j,u,ei);else if(D==="End")m.preventDefault(),ks(y,null,j,u,dc);else if(D.length===1){const z=w.current,ie=D.toLowerCase(),re=performance.now();z.keys.length>0&&(re-z.lastTime>500?(z.keys=[],z.repeating=!0,z.previousKeyMatched=!0):z.repeating&&ie!==z.keys[0]&&(z.repeating=!1)),z.lastTime=re,z.keys.push(ie);const F=$&&!z.repeating&&id($,z);z.previousKeyMatched&&(F||ks(y,$,!1,u,ei,z))?m.preventDefault():z.previousKeyMatched=!1}o&&o(m)},I=pt(b,i);let N=-1;P.Children.forEach(x,(m,y)=>{if(!P.isValidElement(m)){N===y&&(N+=1,N>=x.length&&(N=-1));return}m.props.disabled||(B==="selectedMenu"&&m.props.selected||N===-1)&&(N=y),N===y&&(m.props.disabled||m.props.muiSkipListHighlight||m.type.muiSkipListHighlight)&&(N+=1,N>=x.length&&(N=-1))});const Q=P.Children.map(x,(m,y)=>{if(y===N){const D={};return f&&(D.autoFocus=!0),m.props.tabIndex===void 0&&B==="selectedMenu"&&(D.tabIndex=0),P.cloneElement(m,D)}return m});return e.jsx(sB,{role:"menu",ref:I,className:E,onKeyDown:T,tabIndex:p?0:-1,...h,children:Q})}),od=A=>A.scrollTop;function Zn(A,a){const{timeout:i,easing:l,style:p={}}=A;return{duration:p.transitionDuration??(typeof i=="number"?i:i[a.mode]||0),easing:p.transitionTimingFunction??(typeof l=="object"?l[a.mode]:l),delay:p.transitionDelay}}function Bi(A){return`scale(${A}, ${A**2})`}const uB={entering:{opacity:1,transform:Bi(1)},entered:{opacity:1,transform:"none"}},Ai=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),wi=P.forwardRef(function(a,i){const{addEndListener:l,appear:p=!0,children:f,easing:x,in:E,onEnter:u,onEntered:j,onEntering:o,onExit:B,onExited:h,onExiting:b,style:w,timeout:T="auto",TransitionComponent:I=qt,...N}=a,Q=ed(),m=P.useRef(),y=Si(),D=P.useRef(null),H=pt(D,tn(f),i),$=S=>K=>{if(S){const Z=D.current;K===void 0?S(Z):S(Z,K)}},z=$(o),ie=$((S,K)=>{od(S);const{duration:Z,delay:de,easing:se}=Zn({style:w,timeout:T,easing:x},{mode:"enter"});let me;T==="auto"?(me=y.transitions.getAutoHeightDuration(S.clientHeight),m.current=me):me=Z,S.style.transition=[y.transitions.create("opacity",{duration:me,delay:de}),y.transitions.create("transform",{duration:Ai?me:me*.666,delay:de,easing:se})].join(","),u&&u(S,K)}),re=$(j),F=$(b),C=$(S=>{const{duration:K,delay:Z,easing:de}=Zn({style:w,timeout:T,easing:x},{mode:"exit"});let se;T==="auto"?(se=y.transitions.getAutoHeightDuration(S.clientHeight),m.current=se):se=K,S.style.transition=[y.transitions.create("opacity",{duration:se,delay:Z}),y.transitions.create("transform",{duration:Ai?se:se*.666,delay:Ai?Z:Z||se*.333,easing:de})].join(","),S.style.opacity=0,S.style.transform=Bi(.75),B&&B(S)}),M=$(h),R=S=>{T==="auto"&&Q.start(m.current||0,S),l&&l(D.current,S)};return e.jsx(I,{appear:p,in:E,nodeRef:D,onEnter:ie,onEntered:re,onEntering:z,onExit:C,onExited:M,onExiting:F,addEndListener:R,timeout:T==="auto"?null:T,...N,children:(S,{ownerState:K,...Z})=>P.cloneElement(f,{style:{opacity:0,transform:Bi(.75),visibility:S==="exited"&&!E?"hidden":void 0,...uB[S],...w,...f.props.style},ref:H,...Z})})});wi&&(wi.muiSupportAuto=!0);function pB(A){const a=Mt(A);return a.body===A?hr(A).innerWidth>a.documentElement.clientWidth:A.scrollHeight>A.clientHeight}function Xs(A,a){a?A.setAttribute("aria-hidden","true"):A.removeAttribute("aria-hidden")}function uc(A){return parseInt(hr(A).getComputedStyle(A).paddingRight,10)||0}function hB(A){const i=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(A.tagName),l=A.tagName==="INPUT"&&A.getAttribute("type")==="hidden";return i||l}function pc(A,a,i,l,p){const f=[a,i,...l];[].forEach.call(A.children,x=>{const E=!f.includes(x),u=!hB(x);E&&u&&Xs(x,p)})}function ti(A,a){let i=-1;return A.some((l,p)=>a(l)?(i=p,!0):!1),i}function fB(A,a){const i=[],l=A.container;if(!a.disableScrollLock){if(pB(l)){const x=nd(hr(l));i.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${uc(l)+x}px`;const E=Mt(l).querySelectorAll(".mui-fixed");[].forEach.call(E,u=>{i.push({value:u.style.paddingRight,property:"padding-right",el:u}),u.style.paddingRight=`${uc(u)+x}px`})}let f;if(l.parentNode instanceof DocumentFragment)f=Mt(l).body;else{const x=l.parentElement,E=hr(l);f=x?.nodeName==="HTML"&&E.getComputedStyle(x).overflowY==="scroll"?x:l}i.push({value:f.style.overflow,property:"overflow",el:f},{value:f.style.overflowX,property:"overflow-x",el:f},{value:f.style.overflowY,property:"overflow-y",el:f}),f.style.overflow="hidden"}return()=>{i.forEach(({value:f,el:x,property:E})=>{f?x.style.setProperty(E,f):x.style.removeProperty(E)})}}function mB(A){const a=[];return[].forEach.call(A.children,i=>{i.getAttribute("aria-hidden")==="true"&&a.push(i)}),a}class gB{constructor(){this.modals=[],this.containers=[]}add(a,i){let l=this.modals.indexOf(a);if(l!==-1)return l;l=this.modals.length,this.modals.push(a),a.modalRef&&Xs(a.modalRef,!1);const p=mB(i);pc(i,a.mount,a.modalRef,p,!0);const f=ti(this.containers,x=>x.container===i);return f!==-1?(this.containers[f].modals.push(a),l):(this.containers.push({modals:[a],container:i,restore:null,hiddenSiblings:p}),l)}mount(a,i){const l=ti(this.containers,f=>f.modals.includes(a)),p=this.containers[l];p.restore||(p.restore=fB(p,i))}remove(a,i=!0){const l=this.modals.indexOf(a);if(l===-1)return l;const p=ti(this.containers,x=>x.modals.includes(a)),f=this.containers[p];if(f.modals.splice(f.modals.indexOf(a),1),this.modals.splice(l,1),f.modals.length===0)f.restore&&f.restore(),a.modalRef&&Xs(a.modalRef,i),pc(f.container,a.mount,a.modalRef,f.hiddenSiblings,!1),this.containers.splice(p,1);else{const x=f.modals[f.modals.length-1];x.modalRef&&Xs(x.modalRef,!1)}return l}isTopModal(a){return this.modals.length>0&&this.modals[this.modals.length-1]===a}}const xB=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function BB(A){const a=parseInt(A.getAttribute("tabindex")||"",10);return Number.isNaN(a)?A.contentEditable==="true"||(A.nodeName==="AUDIO"||A.nodeName==="VIDEO"||A.nodeName==="DETAILS")&&A.getAttribute("tabindex")===null?0:A.tabIndex:a}function wB(A){if(A.tagName!=="INPUT"||A.type!=="radio"||!A.name)return!1;const a=l=>A.ownerDocument.querySelector(`input[type="radio"]${l}`);let i=a(`[name="${A.name}"]:checked`);return i||(i=a(`[name="${A.name}"]`)),i!==A}function yB(A){return!(A.disabled||A.tagName==="INPUT"&&A.type==="hidden"||wB(A))}function bB(A){const a=[],i=[];return Array.from(A.querySelectorAll(xB)).forEach((l,p)=>{const f=BB(l);f===-1||!yB(l)||(f===0?a.push(l):i.push({documentOrder:p,tabIndex:f,node:l}))}),i.sort((l,p)=>l.tabIndex===p.tabIndex?l.documentOrder-p.documentOrder:l.tabIndex-p.tabIndex).map(l=>l.node).concat(a)}function vB(){return!0}function CB(A){const{children:a,disableAutoFocus:i=!1,disableEnforceFocus:l=!1,disableRestoreFocus:p=!1,getTabbable:f=bB,isEnabled:x=vB,open:E}=A,u=P.useRef(!1),j=P.useRef(null),o=P.useRef(null),B=P.useRef(null),h=P.useRef(null),b=P.useRef(!1),w=P.useRef(null),T=pt(tn(a),w),I=P.useRef(null);P.useEffect(()=>{!E||!w.current||(b.current=!i)},[i,E]),P.useEffect(()=>{if(!E||!w.current)return;const m=Mt(w.current);return w.current.contains(m.activeElement)||(w.current.hasAttribute("tabIndex")||w.current.setAttribute("tabIndex","-1"),b.current&&w.current.focus()),()=>{p||(B.current&&B.current.focus&&(u.current=!0,B.current.focus()),B.current=null)}},[E]),P.useEffect(()=>{if(!E||!w.current)return;const m=Mt(w.current),y=$=>{I.current=$,!(l||!x()||$.key!=="Tab")&&m.activeElement===w.current&&$.shiftKey&&(u.current=!0,o.current&&o.current.focus())},D=()=>{const $=w.current;if($===null)return;if(!m.hasFocus()||!x()||u.current){u.current=!1;return}if($.contains(m.activeElement)||l&&m.activeElement!==j.current&&m.activeElement!==o.current)return;if(m.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!b.current)return;let z=[];if((m.activeElement===j.current||m.activeElement===o.current)&&(z=f(w.current)),z.length>0){const ie=!!(I.current?.shiftKey&&I.current?.key==="Tab"),re=z[0],F=z[z.length-1];typeof re!="string"&&typeof F!="string"&&(ie?F.focus():re.focus())}else $.focus()};m.addEventListener("focusin",D),m.addEventListener("keydown",y,!0);const H=setInterval(()=>{m.activeElement&&m.activeElement.tagName==="BODY"&&D()},50);return()=>{clearInterval(H),m.removeEventListener("focusin",D),m.removeEventListener("keydown",y,!0)}},[i,l,p,x,E,f]);const N=m=>{B.current===null&&(B.current=m.relatedTarget),b.current=!0,h.current=m.target;const y=a.props.onFocus;y&&y(m)},Q=m=>{B.current===null&&(B.current=m.relatedTarget),b.current=!0};return e.jsxs(P.Fragment,{children:[e.jsx("div",{tabIndex:E?0:-1,onFocus:Q,ref:j,"data-testid":"sentinelStart"}),P.cloneElement(a,{ref:T,onFocus:N}),e.jsx("div",{tabIndex:E?0:-1,onFocus:Q,ref:o,"data-testid":"sentinelEnd"})]})}function jB(A){return typeof A=="function"?A():A}const QB=P.forwardRef(function(a,i){const{children:l,container:p,disablePortal:f=!1}=a,[x,E]=P.useState(null),u=pt(P.isValidElement(l)?tn(l):null,i);if(Nr(()=>{f||E(jB(p)||document.body)},[p,f]),Nr(()=>{if(x&&!f)return lc(i,x),()=>{lc(i,null)}},[i,x,f]),f){if(P.isValidElement(l)){const j={ref:u};return P.cloneElement(l,j)}return l}return x&&lm.createPortal(l,x)}),FB={entering:{opacity:1},entered:{opacity:1}},NB=P.forwardRef(function(a,i){const l=Si(),p={enter:l.transitions.duration.enteringScreen,exit:l.transitions.duration.leavingScreen},{addEndListener:f,appear:x=!0,children:E,easing:u,in:j,onEnter:o,onEntered:B,onEntering:h,onExit:b,onExited:w,onExiting:T,style:I,timeout:N=p,TransitionComponent:Q=qt,...m}=a,y=P.useRef(null),D=pt(y,tn(E),i),H=R=>S=>{if(R){const K=y.current;S===void 0?R(K):R(K,S)}},$=H(h),z=H((R,S)=>{od(R);const K=Zn({style:I,timeout:N,easing:u},{mode:"enter"});R.style.webkitTransition=l.transitions.create("opacity",K),R.style.transition=l.transitions.create("opacity",K),o&&o(R,S)}),ie=H(B),re=H(T),F=H(R=>{const S=Zn({style:I,timeout:N,easing:u},{mode:"exit"});R.style.webkitTransition=l.transitions.create("opacity",S),R.style.transition=l.transitions.create("opacity",S),b&&b(R)}),C=H(w),M=R=>{f&&f(y.current,R)};return e.jsx(Q,{appear:x,in:j,nodeRef:y,onEnter:z,onEntered:ie,onEntering:$,onExit:F,onExited:C,onExiting:re,addEndListener:M,timeout:N,...m,children:(R,{ownerState:S,...K})=>P.cloneElement(E,{style:{opacity:0,visibility:R==="exited"&&!j?"hidden":void 0,...FB[R],...I,...E.props.style},ref:D,...K})})});function UB(A){return ut("MuiBackdrop",A)}zA("MuiBackdrop",["root","invisible"]);const EB=A=>{const{classes:a,invisible:i}=A;return dt({root:["root",i&&"invisible"]},UB,a)},IB=wA("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.root,i.invisible&&a.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),SB=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiBackdrop"}),{children:p,className:f,component:x="div",invisible:E=!1,open:u,components:j={},componentsProps:o={},slotProps:B={},slots:h={},TransitionComponent:b,transitionDuration:w,...T}=l,I={...l,component:x,invisible:E},N=EB(I),Q={transition:b,root:j.Root,...h},m={...o,...B},y={component:x,slots:Q,slotProps:m},[D,H]=zt("root",{elementType:IB,externalForwardedProps:y,className:EA(N.root,f),ownerState:I}),[$,z]=zt("transition",{elementType:NB,externalForwardedProps:y,ownerState:I});return e.jsx($,{in:u,timeout:w,...T,...z,children:e.jsx(D,{"aria-hidden":!0,...H,classes:N,ref:i,children:p})})});function TB(A){return typeof A=="function"?A():A}function DB(A){return A?A.props.hasOwnProperty("in"):!1}const hc=()=>{},Kn=new gB;function HB(A){const{container:a,disableEscapeKeyDown:i=!1,disableScrollLock:l=!1,closeAfterTransition:p=!1,onTransitionEnter:f,onTransitionExited:x,children:E,onClose:u,open:j,rootRef:o}=A,B=P.useRef({}),h=P.useRef(null),b=P.useRef(null),w=pt(b,o),[T,I]=P.useState(!j),N=DB(E);let Q=!0;(A["aria-hidden"]==="false"||A["aria-hidden"]===!1)&&(Q=!1);const m=()=>Mt(h.current),y=()=>(B.current.modalRef=b.current,B.current.mount=h.current,B.current),D=()=>{Kn.mount(y(),{disableScrollLock:l}),b.current&&(b.current.scrollTop=0)},H=$r(()=>{const S=TB(a)||m().body;Kn.add(y(),S),b.current&&D()}),$=()=>Kn.isTopModal(y()),z=$r(S=>{h.current=S,S&&(j&&$()?D():b.current&&Xs(b.current,Q))}),ie=P.useCallback(()=>{Kn.remove(y(),Q)},[Q]);P.useEffect(()=>()=>{ie()},[ie]),P.useEffect(()=>{j?H():(!N||!p)&&ie()},[j,ie,N,p,H]);const re=S=>K=>{S.onKeyDown?.(K),!(K.key!=="Escape"||K.which===229||!$())&&(i||(K.stopPropagation(),u&&u(K,"escapeKeyDown")))},F=S=>K=>{S.onClick?.(K),K.target===K.currentTarget&&u&&u(K,"backdropClick")};return{getRootProps:(S={})=>{const K=rd(A);delete K.onTransitionEnter,delete K.onTransitionExited;const Z={...K,...S};return{role:"presentation",...Z,onKeyDown:re(Z),ref:w}},getBackdropProps:(S={})=>{const K=S;return{"aria-hidden":!0,...K,onClick:F(K),open:j}},getTransitionProps:()=>{const S=()=>{I(!1),f&&f()},K=()=>{I(!0),x&&x(),p&&ie()};return{onEnter:oc(S,E?.props.onEnter??hc),onExited:oc(K,E?.props.onExited??hc)}},rootRef:w,portalRef:z,isTopModal:$,exited:T,hasTransition:N}}function RB(A){return ut("MuiModal",A)}zA("MuiModal",["root","hidden","backdrop"]);const PB=A=>{const{open:a,exited:i,classes:l}=A;return dt({root:["root",!a&&i&&"hidden"],backdrop:["backdrop"]},RB,l)},OB=wA("div",{name:"MuiModal",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.root,!i.open&&i.exited&&a.hidden]}})(jt(({theme:A})=>({position:"fixed",zIndex:(A.vars||A).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:a})=>!a.open&&a.exited,style:{visibility:"hidden"}}]}))),LB=wA(SB,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),kB=P.forwardRef(function(a,i){const l=ht({name:"MuiModal",props:a}),{BackdropComponent:p=LB,BackdropProps:f,classes:x,className:E,closeAfterTransition:u=!1,children:j,container:o,component:B,components:h={},componentsProps:b={},disableAutoFocus:w=!1,disableEnforceFocus:T=!1,disableEscapeKeyDown:I=!1,disablePortal:N=!1,disableRestoreFocus:Q=!1,disableScrollLock:m=!1,hideBackdrop:y=!1,keepMounted:D=!1,onClose:H,onTransitionEnter:$,onTransitionExited:z,open:ie,slotProps:re={},slots:F={},theme:C,...M}=l,R={...l,closeAfterTransition:u,disableAutoFocus:w,disableEnforceFocus:T,disableEscapeKeyDown:I,disablePortal:N,disableRestoreFocus:Q,disableScrollLock:m,hideBackdrop:y,keepMounted:D},{getRootProps:S,getBackdropProps:K,getTransitionProps:Z,portalRef:de,isTopModal:se,exited:me,hasTransition:Ie}=HB({...R,rootRef:i}),De={...R,exited:me},Xe=PB(De),AA={};if(j.props.tabIndex===void 0&&(AA.tabIndex="-1"),Ie){const{onEnter:ke,onExited:nA}=Z();AA.onEnter=ke,AA.onExited=nA}const $e={slots:{root:h.Root,backdrop:h.Backdrop,...F},slotProps:{...b,...re}},[fA,ze]=zt("root",{ref:i,elementType:OB,externalForwardedProps:{...$e,...M,component:B},getSlotProps:S,ownerState:De,className:EA(E,Xe?.root,!De.open&&De.exited&&Xe?.hidden)}),[lA,cA]=zt("backdrop",{ref:f?.ref,elementType:p,externalForwardedProps:$e,shouldForwardComponentProp:!0,additionalProps:f,getSlotProps:ke=>K({...ke,onClick:nA=>{ke?.onClick&&ke.onClick(nA)}}),className:EA(f?.className,Xe?.backdrop),ownerState:De});return!D&&!ie&&(!Ie||me)?null:e.jsx(QB,{ref:de,container:o,disablePortal:N,children:e.jsxs(fA,{...ze,children:[!y&&p?e.jsx(lA,{...cA}):null,e.jsx(CB,{disableEnforceFocus:T,disableAutoFocus:w,disableRestoreFocus:Q,isEnabled:se,open:ie,children:P.cloneElement(j,AA)})]})})});function MB(A){return ut("MuiPaper",A)}zA("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const KB=A=>{const{square:a,elevation:i,variant:l,classes:p}=A,f={root:["root",l,!a&&"rounded",l==="elevation"&&`elevation${i}`]};return dt(f,MB,p)},GB=wA("div",{name:"MuiPaper",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.root,a[i.variant],!i.square&&a.rounded,i.variant==="elevation"&&a[`elevation${i.elevation}`]]}})(jt(({theme:A})=>({backgroundColor:(A.vars||A).palette.background.paper,color:(A.vars||A).palette.text.primary,transition:A.transitions.create("box-shadow"),variants:[{props:({ownerState:a})=>!a.square,style:{borderRadius:A.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(A.vars||A).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),VB=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiPaper"}),p=Si(),{className:f,component:x="div",elevation:E=1,square:u=!1,variant:j="elevation",...o}=l,B={...l,component:x,elevation:E,square:u,variant:j},h=KB(B);return e.jsx(GB,{as:x,ownerState:B,className:EA(h.root,f),ref:i,...o,style:{...j==="elevation"&&{"--Paper-shadow":(p.vars||p).shadows[E],...p.vars&&{"--Paper-overlay":p.vars.overlays?.[E]},...!p.vars&&p.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Xn("#fff",hi(E))}, ${Xn("#fff",hi(E))})`}},...o.style}})});function _B(A){return ut("MuiPopover",A)}zA("MuiPopover",["root","paper"]);function fc(A,a){let i=0;return typeof a=="number"?i=a:a==="center"?i=A.height/2:a==="bottom"&&(i=A.height),i}function mc(A,a){let i=0;return typeof a=="number"?i=a:a==="center"?i=A.width/2:a==="right"&&(i=A.width),i}function gc(A){return[A.horizontal,A.vertical].map(a=>typeof a=="number"?`${a}px`:a).join(" ")}function Gn(A){return typeof A=="function"?A():A}const $B=A=>{const{classes:a}=A;return dt({root:["root"],paper:["paper"]},_B,a)},WB=wA(kB,{name:"MuiPopover",slot:"Root"})({}),ld=wA(VB,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),XB=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiPopover"}),{action:p,anchorEl:f,anchorOrigin:x={vertical:"top",horizontal:"left"},anchorPosition:E,anchorReference:u="anchorEl",children:j,className:o,container:B,elevation:h=8,marginThreshold:b=16,open:w,PaperProps:T={},slots:I={},slotProps:N={},transformOrigin:Q={vertical:"top",horizontal:"left"},TransitionComponent:m,transitionDuration:y="auto",TransitionProps:D={},disableScrollLock:H=!1,...$}=l,z=P.useRef(),ie={...l,anchorOrigin:x,anchorReference:u,elevation:h,marginThreshold:b,transformOrigin:Q,TransitionComponent:m,transitionDuration:y,TransitionProps:D},re=$B(ie),F=P.useCallback(()=>{if(u==="anchorPosition")return E;const ke=Gn(f),Me=(ke&&ke.nodeType===1?ke:Mt(z.current).body).getBoundingClientRect();return{top:Me.top+fc(Me,x.vertical),left:Me.left+mc(Me,x.horizontal)}},[f,x.horizontal,x.vertical,E,u]),C=P.useCallback(ke=>({vertical:fc(ke,Q.vertical),horizontal:mc(ke,Q.horizontal)}),[Q.horizontal,Q.vertical]),M=P.useCallback(ke=>{const nA={width:ke.offsetWidth,height:ke.offsetHeight},Me=C(nA);if(u==="none")return{top:null,left:null,transformOrigin:gc(Me)};const _=F();let Ce=_.top-Me.vertical,ce=_.left-Me.horizontal;const Be=Ce+nA.height,Je=ce+nA.width,ee=hr(Gn(f)),ve=ee.innerHeight-b,ue=ee.innerWidth-b;if(b!==null&&Ce<b){const Qe=Ce-b;Ce-=Qe,Me.vertical+=Qe}else if(b!==null&&Be>ve){const Qe=Be-ve;Ce-=Qe,Me.vertical+=Qe}if(b!==null&&ce<b){const Qe=ce-b;ce-=Qe,Me.horizontal+=Qe}else if(Je>ue){const Qe=Je-ue;ce-=Qe,Me.horizontal+=Qe}return{top:`${Math.round(Ce)}px`,left:`${Math.round(ce)}px`,transformOrigin:gc(Me)}},[f,u,F,C,b]),[R,S]=P.useState(w),K=P.useCallback(()=>{const ke=z.current;if(!ke)return;const nA=M(ke);nA.top!==null&&ke.style.setProperty("top",nA.top),nA.left!==null&&(ke.style.left=nA.left),ke.style.transformOrigin=nA.transformOrigin,S(!0)},[M]);P.useEffect(()=>(H&&window.addEventListener("scroll",K),()=>window.removeEventListener("scroll",K)),[f,H,K]);const Z=()=>{K()},de=()=>{S(!1)};P.useEffect(()=>{w&&K()}),P.useImperativeHandle(p,()=>w?{updatePosition:()=>{K()}}:null,[w,K]),P.useEffect(()=>{if(!w)return;const ke=ad(()=>{K()}),nA=hr(Gn(f));return nA.addEventListener("resize",ke),()=>{ke.clear(),nA.removeEventListener("resize",ke)}},[f,w,K]);let se=y;const me={slots:{transition:m,...I},slotProps:{transition:D,paper:T,...N}},[Ie,De]=zt("transition",{elementType:wi,externalForwardedProps:me,ownerState:ie,getSlotProps:ke=>({...ke,onEntering:(nA,Me)=>{ke.onEntering?.(nA,Me),Z()},onExited:nA=>{ke.onExited?.(nA),de()}}),additionalProps:{appear:!0,in:w}});y==="auto"&&!Ie.muiSupportAuto&&(se=void 0);const Xe=B||(f?Mt(Gn(f)).body:void 0),[AA,{slots:$e,slotProps:fA,...ze}]=zt("root",{ref:i,elementType:WB,externalForwardedProps:{...me,...$},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:I.backdrop},slotProps:{backdrop:cB(typeof N.backdrop=="function"?N.backdrop(ie):N.backdrop,{invisible:!0})},container:Xe,open:w},ownerState:ie,className:EA(re.root,o)}),[lA,cA]=zt("paper",{ref:z,className:re.paper,elementType:ld,externalForwardedProps:me,shouldForwardComponentProp:!0,additionalProps:{elevation:h,style:R?void 0:{opacity:0}},ownerState:ie});return e.jsx(AA,{...ze,...!zn(AA)&&{slots:$e,slotProps:fA,disableScrollLock:H},children:e.jsx(Ie,{...De,timeout:se,children:e.jsx(lA,{...cA,children:j})})})});function JB(A){return ut("MuiMenu",A)}zA("MuiMenu",["root","paper","list"]);const YB={vertical:"top",horizontal:"right"},zB={vertical:"top",horizontal:"left"},ZB=A=>{const{classes:a}=A;return dt({root:["root"],paper:["paper"],list:["list"]},JB,a)},qB=wA(XB,{shouldForwardProp:A=>Zt(A)||A==="classes",name:"MuiMenu",slot:"Root"})({}),ew=wA(ld,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),Aw=wA(dB,{name:"MuiMenu",slot:"List"})({outline:0}),tw=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiMenu"}),{autoFocus:p=!0,children:f,className:x,disableAutoFocusItem:E=!1,MenuListProps:u={},onClose:j,open:o,PaperProps:B={},PopoverClasses:h,transitionDuration:b="auto",TransitionProps:{onEntering:w,...T}={},variant:I="selectedMenu",slots:N={},slotProps:Q={},...m}=l,y=E0(),D={...l,autoFocus:p,disableAutoFocusItem:E,MenuListProps:u,onEntering:w,PaperProps:B,transitionDuration:b,TransitionProps:T,variant:I},H=ZB(D),$=p&&!E&&o,z=P.useRef(null),ie=(se,me)=>{z.current&&z.current.adjustStyleForScrollbar(se,{direction:y?"rtl":"ltr"}),w&&w(se,me)},re=se=>{se.key==="Tab"&&(se.preventDefault(),j&&j(se,"tabKeyDown"))};let F=-1;P.Children.map(f,(se,me)=>{P.isValidElement(se)&&(se.props.disabled||(I==="selectedMenu"&&se.props.selected||F===-1)&&(F=me))});const C={slots:N,slotProps:{list:u,transition:T,paper:B,...Q}},M=eB({elementType:N.root,externalSlotProps:Q.root,ownerState:D,className:[H.root,x]}),[R,S]=zt("paper",{className:H.paper,elementType:ew,externalForwardedProps:C,shouldForwardComponentProp:!0,ownerState:D}),[K,Z]=zt("list",{className:EA(H.list,u.className),elementType:Aw,shouldForwardComponentProp:!0,externalForwardedProps:C,getSlotProps:se=>({...se,onKeyDown:me=>{re(me),se.onKeyDown?.(me)}}),ownerState:D}),de=typeof C.slotProps.transition=="function"?C.slotProps.transition(D):C.slotProps.transition;return e.jsx(qB,{onClose:j,anchorOrigin:{vertical:"bottom",horizontal:y?"right":"left"},transformOrigin:y?YB:zB,slots:{root:N.root,paper:R,backdrop:N.backdrop,...N.transition&&{transition:N.transition}},slotProps:{root:M,paper:S,backdrop:typeof Q.backdrop=="function"?Q.backdrop(D):Q.backdrop,transition:{...de,onEntering:(...se)=>{ie(...se),de?.onEntering?.(...se)}}},open:o,ref:i,transitionDuration:b,ownerState:D,...m,classes:h,children:e.jsx(K,{actions:z,autoFocus:p&&(F===-1||E),autoFocusItem:$,variant:I,...Z,children:f})})});function rw(A){return ut("MuiNativeSelect",A)}const Pi=zA("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),sw=A=>{const{classes:a,variant:i,disabled:l,multiple:p,open:f,error:x}=A,E={select:["select",i,l&&"disabled",p&&"multiple",x&&"error"],icon:["icon",`icon${wt(i)}`,f&&"iconOpen",l&&"disabled"]};return dt(E,rw,a)},cd=wA("select",{name:"MuiNativeSelect"})(({theme:A})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${Pi.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(A.vars||A).palette.background.paper},variants:[{props:({ownerState:a})=>a.variant!=="filled"&&a.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(A.vars||A).shape.borderRadius,"&:focus":{borderRadius:(A.vars||A).shape.borderRadius},"&&&":{paddingRight:32}}}]})),nw=wA(cd,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Zt,overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.select,a[i.variant],i.error&&a.error,{[`&.${Pi.multiple}`]:a.multiple}]}})({}),dd=wA("svg",{name:"MuiNativeSelect"})(({theme:A})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(A.vars||A).palette.action.active,[`&.${Pi.disabled}`]:{color:(A.vars||A).palette.action.disabled},variants:[{props:({ownerState:a})=>a.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),aw=wA(dd,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.icon,i.variant&&a[`icon${wt(i.variant)}`],i.open&&a.iconOpen]}})({}),iw=P.forwardRef(function(a,i){const{className:l,disabled:p,error:f,IconComponent:x,inputRef:E,variant:u="standard",...j}=a,o={...a,disabled:p,variant:u,error:f},B=sw(o);return e.jsxs(P.Fragment,{children:[e.jsx(nw,{ownerState:o,className:EA(B.select,l),disabled:p,ref:E||i,...j}),a.multiple?null:e.jsx(aw,{as:x,ownerState:o,className:B.icon})]})});function xc(A){return A!=null&&!(Array.isArray(A)&&A.length===0)}function ud(A,a=!1){return A&&(xc(A.value)&&A.value!==""||a&&xc(A.defaultValue)&&A.defaultValue!=="")}function pd(A){return ut("MuiSelect",A)}const Ms=zA("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Bc;const ow=wA(cd,{name:"MuiSelect",slot:"Select",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[{[`&.${Ms.select}`]:a.select},{[`&.${Ms.select}`]:a[i.variant]},{[`&.${Ms.error}`]:a.error},{[`&.${Ms.multiple}`]:a.multiple}]}})({[`&.${Ms.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lw=wA(dd,{name:"MuiSelect",slot:"Icon",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[a.icon,i.variant&&a[`icon${wt(i.variant)}`],i.open&&a.iconOpen]}})({}),cw=wA("input",{shouldForwardProp:A=>Oc(A)&&A!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function wc(A,a){return typeof a=="object"&&a!==null?A===a:String(A)===String(a)}function dw(A){return A==null||typeof A=="string"&&!A.trim()}const uw=A=>{const{classes:a,variant:i,disabled:l,multiple:p,open:f,error:x}=A,E={select:["select",i,l&&"disabled",p&&"multiple",x&&"error"],icon:["icon",`icon${wt(i)}`,f&&"iconOpen",l&&"disabled"],nativeInput:["nativeInput"]};return dt(E,pd,a)},pw=P.forwardRef(function(a,i){const{"aria-describedby":l,"aria-label":p,autoFocus:f,autoWidth:x,children:E,className:u,defaultOpen:j,defaultValue:o,disabled:B,displayEmpty:h,error:b=!1,IconComponent:w,inputRef:T,labelId:I,MenuProps:N={},multiple:Q,name:m,onBlur:y,onChange:D,onClose:H,onFocus:$,onOpen:z,open:ie,readOnly:re,renderValue:F,required:C,SelectDisplayProps:M={},tabIndex:R,type:S,value:K,variant:Z="standard",...de}=a,[se,me]=cc({controlled:K,default:o,name:"Select"}),[Ie,De]=cc({controlled:ie,default:j,name:"Select"}),Xe=P.useRef(null),AA=P.useRef(null),[$e,fA]=P.useState(null),{current:ze}=P.useRef(ie!=null),[lA,cA]=P.useState(),ke=pt(i,T),nA=P.useCallback(te=>{AA.current=te,te&&fA(te)},[]),Me=$e?.parentNode;P.useImperativeHandle(ke,()=>({focus:()=>{AA.current.focus()},node:Xe.current,value:se}),[se]),P.useEffect(()=>{j&&Ie&&$e&&!ze&&(cA(x?null:Me.clientWidth),AA.current.focus())},[$e,x]),P.useEffect(()=>{f&&AA.current.focus()},[f]),P.useEffect(()=>{if(!I)return;const te=Mt(AA.current).getElementById(I);if(te){const Ee=()=>{getSelection().isCollapsed&&AA.current.focus()};return te.addEventListener("click",Ee),()=>{te.removeEventListener("click",Ee)}}},[I]);const _=(te,Ee)=>{te?z&&z(Ee):H&&H(Ee),ze||(cA(x?null:Me.clientWidth),De(te))},Ce=te=>{te.button===0&&(te.preventDefault(),AA.current.focus(),_(!0,te))},ce=te=>{_(!1,te)},Be=P.Children.toArray(E),Je=te=>{const Ee=Be.find(c=>c.props.value===te.target.value);Ee!==void 0&&(me(Ee.props.value),D&&D(te,Ee))},ee=te=>Ee=>{let c;if(Ee.currentTarget.hasAttribute("tabindex")){if(Q){c=Array.isArray(se)?se.slice():[];const V=se.indexOf(te.props.value);V===-1?c.push(te.props.value):c.splice(V,1)}else c=te.props.value;if(te.props.onClick&&te.props.onClick(Ee),se!==c&&(me(c),D)){const V=Ee.nativeEvent||Ee,k=new V.constructor(V.type,V);Object.defineProperty(k,"target",{writable:!0,value:{value:c,name:m}}),D(k,te)}Q||_(!1,Ee)}},ve=te=>{re||[" ","ArrowUp","ArrowDown","Enter"].includes(te.key)&&(te.preventDefault(),_(!0,te))},ue=$e!==null&&Ie,Qe=te=>{!ue&&y&&(Object.defineProperty(te,"target",{writable:!0,value:{value:se,name:m}}),y(te))};delete de["aria-invalid"];let he,He;const ye=[];let We=!1;(ud({value:se})||h)&&(F?he=F(se):We=!0);const rA=Be.map(te=>{if(!P.isValidElement(te))return null;let Ee;if(Q){if(!Array.isArray(se))throw new Error(ur(2));Ee=se.some(c=>wc(c,te.props.value)),Ee&&We&&ye.push(te.props.children)}else Ee=wc(se,te.props.value),Ee&&We&&(He=te.props.children);return P.cloneElement(te,{"aria-selected":Ee?"true":"false",onClick:ee(te),onKeyUp:c=>{c.key===" "&&c.preventDefault(),te.props.onKeyUp&&te.props.onKeyUp(c)},role:"option",selected:Ee,value:void 0,"data-value":te.props.value})});We&&(Q?ye.length===0?he=null:he=ye.reduce((te,Ee,c)=>(te.push(Ee),c<ye.length-1&&te.push(", "),te),[]):he=He);let v=lA;!x&&ze&&$e&&(v=Me.clientWidth);let ge;typeof R<"u"?ge=R:ge=B?null:0;const fe=M.id||(m?`mui-component-select-${m}`:void 0),W={...a,variant:Z,value:se,open:ue,error:b},J=uw(W),Ae={...N.PaperProps,...typeof N.slotProps?.paper=="function"?N.slotProps.paper(W):N.slotProps?.paper},je={...N.MenuListProps,...typeof N.slotProps?.list=="function"?N.slotProps.list(W):N.slotProps?.list},Ne=R0();return e.jsxs(P.Fragment,{children:[e.jsx(ow,{as:"div",ref:nA,tabIndex:ge,role:"combobox","aria-controls":ue?Ne:void 0,"aria-disabled":B?"true":void 0,"aria-expanded":ue?"true":"false","aria-haspopup":"listbox","aria-label":p,"aria-labelledby":[I,fe].filter(Boolean).join(" ")||void 0,"aria-describedby":l,"aria-required":C?"true":void 0,"aria-invalid":b?"true":void 0,onKeyDown:ve,onMouseDown:B||re?null:Ce,onBlur:Qe,onFocus:$,...M,ownerState:W,className:EA(M.className,J.select,u),id:fe,children:dw(he)?Bc||(Bc=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):he}),e.jsx(cw,{"aria-invalid":b,value:Array.isArray(se)?se.join(","):se,name:m,ref:Xe,"aria-hidden":!0,onChange:Je,tabIndex:-1,disabled:B,className:J.nativeInput,autoFocus:f,required:C,...de,ownerState:W}),e.jsx(lw,{as:w,className:J.icon,ownerState:W}),e.jsx(tw,{id:`menu-${m||""}`,anchorEl:Me,open:ue,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...N,slotProps:{...N.slotProps,list:{"aria-labelledby":I,role:"listbox","aria-multiselectable":Q?"true":void 0,disableListWrap:!0,id:Ne,...je},paper:{...Ae,style:{minWidth:v,...Ae!=null?Ae.style:null}}},children:rA})]})});function Oi({props:A,states:a,muiFormControl:i}){return a.reduce((l,p)=>(l[p]=A[p],i&&typeof A[p]>"u"&&(l[p]=i[p]),l),{})}const hd=P.createContext(void 0);function Li(){return P.useContext(hd)}const hw=oB(e.jsx("path",{d:"M7 10l5 5 5-5z"}));function Vn(A){return parseInt(A,10)||0}const fw={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function mw(A){for(const a in A)return!1;return!0}function yc(A){return mw(A)||A.outerHeightStyle===0&&!A.overflowing}const gw=P.forwardRef(function(a,i){const{onChange:l,maxRows:p,minRows:f=1,style:x,value:E,...u}=a,{current:j}=P.useRef(E!=null),o=P.useRef(null),B=pt(i,o),h=P.useRef(null),b=P.useRef(null),w=P.useCallback(()=>{const m=o.current,y=b.current;if(!m||!y)return;const H=hr(m).getComputedStyle(m);if(H.width==="0px")return{outerHeightStyle:0,overflowing:!1};y.style.width=H.width,y.value=m.value||a.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const $=H.boxSizing,z=Vn(H.paddingBottom)+Vn(H.paddingTop),ie=Vn(H.borderBottomWidth)+Vn(H.borderTopWidth),re=y.scrollHeight;y.value="x";const F=y.scrollHeight;let C=re;f&&(C=Math.max(Number(f)*F,C)),p&&(C=Math.min(Number(p)*F,C)),C=Math.max(C,F);const M=C+($==="border-box"?z+ie:0),R=Math.abs(C-re)<=1;return{outerHeightStyle:M,overflowing:R}},[p,f,a.placeholder]),T=$r(()=>{const m=o.current,y=w();if(!m||!y||yc(y))return!1;const D=y.outerHeightStyle;return h.current!=null&&h.current!==D}),I=P.useCallback(()=>{const m=o.current,y=w();if(!m||!y||yc(y))return;const D=y.outerHeightStyle;h.current!==D&&(h.current=D,m.style.height=`${D}px`),m.style.overflow=y.overflowing?"hidden":""},[w]),N=P.useRef(-1);Nr(()=>{const m=ad(I),y=o?.current;if(!y)return;const D=hr(y);D.addEventListener("resize",m);let H;return typeof ResizeObserver<"u"&&(H=new ResizeObserver(()=>{T()&&(H.unobserve(y),cancelAnimationFrame(N.current),I(),N.current=requestAnimationFrame(()=>{H.observe(y)}))}),H.observe(y)),()=>{m.clear(),cancelAnimationFrame(N.current),D.removeEventListener("resize",m),H&&H.disconnect()}},[w,I,T]),Nr(()=>{I()});const Q=m=>{j||I();const y=m.target,D=y.value.length,H=y.value.endsWith(`
`),$=y.selectionStart===D;H&&$&&y.setSelectionRange(D,D),l&&l(m)};return e.jsxs(P.Fragment,{children:[e.jsx("textarea",{value:E,onChange:Q,ref:B,rows:f,style:x,...u}),e.jsx("textarea",{"aria-hidden":!0,className:a.className,readOnly:!0,ref:b,tabIndex:-1,style:{...fw.shadow,...x,paddingTop:0,paddingBottom:0}})]})});function xw(A){return ut("MuiInputBase",A)}const bs=zA("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var bc;const da=(A,a)=>{const{ownerState:i}=A;return[a.root,i.formControl&&a.formControl,i.startAdornment&&a.adornedStart,i.endAdornment&&a.adornedEnd,i.error&&a.error,i.size==="small"&&a.sizeSmall,i.multiline&&a.multiline,i.color&&a[`color${wt(i.color)}`],i.fullWidth&&a.fullWidth,i.hiddenLabel&&a.hiddenLabel]},ua=(A,a)=>{const{ownerState:i}=A;return[a.input,i.size==="small"&&a.inputSizeSmall,i.multiline&&a.inputMultiline,i.type==="search"&&a.inputTypeSearch,i.startAdornment&&a.inputAdornedStart,i.endAdornment&&a.inputAdornedEnd,i.hiddenLabel&&a.inputHiddenLabel]},Bw=A=>{const{classes:a,color:i,disabled:l,error:p,endAdornment:f,focused:x,formControl:E,fullWidth:u,hiddenLabel:j,multiline:o,readOnly:B,size:h,startAdornment:b,type:w}=A,T={root:["root",`color${wt(i)}`,l&&"disabled",p&&"error",u&&"fullWidth",x&&"focused",E&&"formControl",h&&h!=="medium"&&`size${wt(h)}`,o&&"multiline",b&&"adornedStart",f&&"adornedEnd",j&&"hiddenLabel",B&&"readOnly"],input:["input",l&&"disabled",w==="search"&&"inputTypeSearch",o&&"inputMultiline",h==="small"&&"inputSizeSmall",j&&"inputHiddenLabel",b&&"inputAdornedStart",f&&"inputAdornedEnd",B&&"readOnly"]};return dt(T,xw,a)},pa=wA("div",{name:"MuiInputBase",slot:"Root",overridesResolver:da})(jt(({theme:A})=>({...A.typography.body1,color:(A.vars||A).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${bs.disabled}`]:{color:(A.vars||A).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:a})=>a.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:a,size:i})=>a.multiline&&i==="small",style:{paddingTop:1}},{props:({ownerState:a})=>a.fullWidth,style:{width:"100%"}}]}))),ha=wA("input",{name:"MuiInputBase",slot:"Input",overridesResolver:ua})(jt(({theme:A})=>{const a=A.palette.mode==="light",i={color:"currentColor",...A.vars?{opacity:A.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5},transition:A.transitions.create("opacity",{duration:A.transitions.duration.shorter})},l={opacity:"0 !important"},p=A.vars?{opacity:A.vars.opacity.inputPlaceholder}:{opacity:a?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&::-ms-input-placeholder":i,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${bs.formControl} &`]:{"&::-webkit-input-placeholder":l,"&::-moz-placeholder":l,"&::-ms-input-placeholder":l,"&:focus::-webkit-input-placeholder":p,"&:focus::-moz-placeholder":p,"&:focus::-ms-input-placeholder":p},[`&.${bs.disabled}`]:{opacity:1,WebkitTextFillColor:(A.vars||A).palette.text.disabled},variants:[{props:({ownerState:f})=>!f.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:f})=>f.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),vc=Cx({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),ki=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiInputBase"}),{"aria-describedby":p,autoComplete:f,autoFocus:x,className:E,color:u,components:j={},componentsProps:o={},defaultValue:B,disabled:h,disableInjectingGlobalStyles:b,endAdornment:w,error:T,fullWidth:I=!1,id:N,inputComponent:Q="input",inputProps:m={},inputRef:y,margin:D,maxRows:H,minRows:$,multiline:z=!1,name:ie,onBlur:re,onChange:F,onClick:C,onFocus:M,onKeyDown:R,onKeyUp:S,placeholder:K,readOnly:Z,renderSuffix:de,rows:se,size:me,slotProps:Ie={},slots:De={},startAdornment:Xe,type:AA="text",value:$e,...fA}=l,ze=m.value!=null?m.value:$e,{current:lA}=P.useRef(ze!=null),cA=P.useRef(),ke=P.useCallback(J=>{},[]),nA=pt(cA,y,m.ref,ke),[Me,_]=P.useState(!1),Ce=Li(),ce=Oi({props:l,muiFormControl:Ce,states:["color","disabled","error","hiddenLabel","size","required","filled"]});ce.focused=Ce?Ce.focused:Me,P.useEffect(()=>{!Ce&&h&&Me&&(_(!1),re&&re())},[Ce,h,Me,re]);const Be=Ce&&Ce.onFilled,Je=Ce&&Ce.onEmpty,ee=P.useCallback(J=>{ud(J)?Be&&Be():Je&&Je()},[Be,Je]);Nr(()=>{lA&&ee({value:ze})},[ze,ee,lA]);const ve=J=>{M&&M(J),m.onFocus&&m.onFocus(J),Ce&&Ce.onFocus?Ce.onFocus(J):_(!0)},ue=J=>{re&&re(J),m.onBlur&&m.onBlur(J),Ce&&Ce.onBlur?Ce.onBlur(J):_(!1)},Qe=(J,...Ae)=>{if(!lA){const je=J.target||cA.current;if(je==null)throw new Error(ur(1));ee({value:je.value})}m.onChange&&m.onChange(J,...Ae),F&&F(J,...Ae)};P.useEffect(()=>{ee(cA.current)},[]);const he=J=>{cA.current&&J.currentTarget===J.target&&cA.current.focus(),C&&C(J)};let He=Q,ye=m;z&&He==="input"&&(se?ye={type:void 0,minRows:se,maxRows:se,...ye}:ye={type:void 0,maxRows:H,minRows:$,...ye},He=gw);const We=J=>{ee(J.animationName==="mui-auto-fill-cancel"?cA.current:{value:"x"})};P.useEffect(()=>{Ce&&Ce.setAdornedStart(!!Xe)},[Ce,Xe]);const rA={...l,color:ce.color||"primary",disabled:ce.disabled,endAdornment:w,error:ce.error,focused:ce.focused,formControl:Ce,fullWidth:I,hiddenLabel:ce.hiddenLabel,multiline:z,size:ce.size,startAdornment:Xe,type:AA},v=Bw(rA),ge=De.root||j.Root||pa,fe=Ie.root||o.root||{},W=De.input||j.Input||ha;return ye={...ye,...Ie.input??o.input},e.jsxs(P.Fragment,{children:[!b&&typeof vc=="function"&&(bc||(bc=e.jsx(vc,{}))),e.jsxs(ge,{...fe,ref:i,onClick:he,...fA,...!zn(ge)&&{ownerState:{...rA,...fe.ownerState}},className:EA(v.root,fe.className,E,Z&&"MuiInputBase-readOnly"),children:[Xe,e.jsx(hd.Provider,{value:null,children:e.jsx(W,{"aria-invalid":ce.error,"aria-describedby":p,autoComplete:f,autoFocus:x,defaultValue:B,disabled:ce.disabled,id:N,onAnimationStart:We,name:ie,placeholder:K,readOnly:Z,required:ce.required,rows:se,value:ze,onKeyDown:R,onKeyUp:S,type:AA,...ye,...!zn(W)&&{as:He,ownerState:{...rA,...ye.ownerState}},ref:nA,className:EA(v.input,ye.className,Z&&"MuiInputBase-readOnly"),onBlur:ue,onChange:Qe,onFocus:ve})}),w,de?de({...ce,startAdornment:Xe}):null]})]})});function ww(A){return ut("MuiInput",A)}const Ks={...bs,...zA("MuiInput",["root","underline","input"])},yw=A=>{const{classes:a,disableUnderline:i}=A,p=dt({root:["root",!i&&"underline"],input:["input"]},ww,a);return{...a,...p}},bw=wA(pa,{shouldForwardProp:A=>Zt(A)||A==="classes",name:"MuiInput",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[...da(A,a),!i.disableUnderline&&a.underline]}})(jt(({theme:A})=>{let i=A.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return A.vars&&(i=A.alpha(A.vars.palette.common.onBackground,A.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:l})=>l.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:l})=>!l.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:A.transitions.create("transform",{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Ks.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Ks.error}`]:{"&::before, &::after":{borderBottomColor:(A.vars||A).palette.error.main}},"&::before":{borderBottom:`1px solid ${i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:A.transitions.create("border-bottom-color",{duration:A.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Ks.disabled}, .${Ks.error}):before`]:{borderBottom:`2px solid ${(A.vars||A).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${i}`}},[`&.${Ks.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(A.palette).filter(Ri()).map(([l])=>({props:{color:l,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(A.vars||A).palette[l].main}`}}}))]}})),vw=wA(ha,{name:"MuiInput",slot:"Input",overridesResolver:ua})({}),fd=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiInput"}),{disableUnderline:p=!1,components:f={},componentsProps:x,fullWidth:E=!1,inputComponent:u="input",multiline:j=!1,slotProps:o,slots:B={},type:h="text",...b}=l,w=yw(l),I={root:{ownerState:{disableUnderline:p}}},N=o??x?ct(o??x,I):I,Q=B.root??f.Root??bw,m=B.input??f.Input??vw;return e.jsx(ki,{slots:{root:Q,input:m},slotProps:N,fullWidth:E,inputComponent:u,multiline:j,ref:i,type:h,...b,classes:w})});fd.muiName="Input";function Cw(A){return ut("MuiFilledInput",A)}const kr={...bs,...zA("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},jw=A=>{const{classes:a,disableUnderline:i,startAdornment:l,endAdornment:p,size:f,hiddenLabel:x,multiline:E}=A,u={root:["root",!i&&"underline",l&&"adornedStart",p&&"adornedEnd",f==="small"&&`size${wt(f)}`,x&&"hiddenLabel",E&&"multiline"],input:["input"]},j=dt(u,Cw,a);return{...a,...j}},Qw=wA(pa,{shouldForwardProp:A=>Zt(A)||A==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(A,a)=>{const{ownerState:i}=A;return[...da(A,a),!i.disableUnderline&&a.underline]}})(jt(({theme:A})=>{const a=A.palette.mode==="light",i=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",p=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",f=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:A.vars?A.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(A.vars||A).shape.borderRadius,borderTopRightRadius:(A.vars||A).shape.borderRadius,transition:A.transitions.create("background-color",{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut}),"&:hover":{backgroundColor:A.vars?A.vars.palette.FilledInput.hoverBg:p,"@media (hover: none)":{backgroundColor:A.vars?A.vars.palette.FilledInput.bg:l}},[`&.${kr.focused}`]:{backgroundColor:A.vars?A.vars.palette.FilledInput.bg:l},[`&.${kr.disabled}`]:{backgroundColor:A.vars?A.vars.palette.FilledInput.disabledBg:f},variants:[{props:({ownerState:x})=>!x.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:A.transitions.create("transform",{duration:A.transitions.duration.shorter,easing:A.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${kr.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${kr.error}`]:{"&::before, &::after":{borderBottomColor:(A.vars||A).palette.error.main}},"&::before":{borderBottom:`1px solid ${A.vars?A.alpha(A.vars.palette.common.onBackground,A.vars.opacity.inputUnderline):i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:A.transitions.create("border-bottom-color",{duration:A.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${kr.disabled}, .${kr.error}):before`]:{borderBottom:`1px solid ${(A.vars||A).palette.text.primary}`},[`&.${kr.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(A.palette).filter(Ri()).map(([x])=>({props:{disableUnderline:!1,color:x},style:{"&::after":{borderBottom:`2px solid ${(A.vars||A).palette[x]?.main}`}}})),{props:({ownerState:x})=>x.startAdornment,style:{paddingLeft:12}},{props:({ownerState:x})=>x.endAdornment,style:{paddingRight:12}},{props:({ownerState:x})=>x.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:x,size:E})=>x.multiline&&E==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:x})=>x.multiline&&x.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:x})=>x.multiline&&x.hiddenLabel&&x.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),Fw=wA(ha,{name:"MuiFilledInput",slot:"Input",overridesResolver:ua})(jt(({theme:A})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!A.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:A.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:A.palette.mode==="light"?null:"#fff",caretColor:A.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...A.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[A.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:a})=>a.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:0}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:0}},{props:({ownerState:a})=>a.hiddenLabel&&a.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:a})=>a.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),md=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiFilledInput"}),{disableUnderline:p=!1,components:f={},componentsProps:x,fullWidth:E=!1,hiddenLabel:u,inputComponent:j="input",multiline:o=!1,slotProps:B,slots:h={},type:b="text",...w}=l,T={...l,disableUnderline:p,fullWidth:E,inputComponent:j,multiline:o,type:b},I=jw(l),N={root:{ownerState:T},input:{ownerState:T}},Q=B??x?ct(N,B??x):N,m=h.root??f.Root??Qw,y=h.input??f.Input??Fw;return e.jsx(ki,{slots:{root:m,input:y},slotProps:Q,fullWidth:E,inputComponent:j,multiline:o,ref:i,type:b,...w,classes:I})});md.muiName="Input";var Cc;const Nw=wA("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:Zt})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Uw=wA("legend",{name:"MuiNotchedOutlined",shouldForwardProp:Zt})(jt(({theme:A})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:a})=>!a.withLabel,style:{padding:0,lineHeight:"11px",transition:A.transitions.create("width",{duration:150,easing:A.transitions.easing.easeOut})}},{props:({ownerState:a})=>a.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:A.transitions.create("max-width",{duration:50,easing:A.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:a})=>a.withLabel&&a.notched,style:{maxWidth:"100%",transition:A.transitions.create("max-width",{duration:100,easing:A.transitions.easing.easeOut,delay:50})}}]})));function Ew(A){const{children:a,classes:i,className:l,label:p,notched:f,...x}=A,E=p!=null&&p!=="",u={...A,notched:f,withLabel:E};return e.jsx(Nw,{"aria-hidden":!0,className:l,ownerState:u,...x,children:e.jsx(Uw,{ownerState:u,children:E?e.jsx("span",{children:p}):Cc||(Cc=e.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function Iw(A){return ut("MuiOutlinedInput",A)}const Jt={...bs,...zA("MuiOutlinedInput",["root","notchedOutline","input"])},Sw=A=>{const{classes:a}=A,l=dt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Iw,a);return{...a,...l}},Tw=wA(pa,{shouldForwardProp:A=>Zt(A)||A==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:da})(jt(({theme:A})=>{const a=A.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(A.vars||A).shape.borderRadius,[`&:hover .${Jt.notchedOutline}`]:{borderColor:(A.vars||A).palette.text.primary},"@media (hover: none)":{[`&:hover .${Jt.notchedOutline}`]:{borderColor:A.vars?A.alpha(A.vars.palette.common.onBackground,.23):a}},[`&.${Jt.focused} .${Jt.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(A.palette).filter(Ri()).map(([i])=>({props:{color:i},style:{[`&.${Jt.focused} .${Jt.notchedOutline}`]:{borderColor:(A.vars||A).palette[i].main}}})),{props:{},style:{[`&.${Jt.error} .${Jt.notchedOutline}`]:{borderColor:(A.vars||A).palette.error.main},[`&.${Jt.disabled} .${Jt.notchedOutline}`]:{borderColor:(A.vars||A).palette.action.disabled}}},{props:({ownerState:i})=>i.startAdornment,style:{paddingLeft:14}},{props:({ownerState:i})=>i.endAdornment,style:{paddingRight:14}},{props:({ownerState:i})=>i.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:i,size:l})=>i.multiline&&l==="small",style:{padding:"8.5px 14px"}}]}})),Dw=wA(Ew,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(jt(({theme:A})=>{const a=A.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:A.vars?A.alpha(A.vars.palette.common.onBackground,.23):a}})),Hw=wA(ha,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:ua})(jt(({theme:A})=>({padding:"16.5px 14px",...!A.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:A.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:A.palette.mode==="light"?null:"#fff",caretColor:A.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...A.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[A.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:a})=>a.multiline,style:{padding:0}},{props:({ownerState:a})=>a.startAdornment,style:{paddingLeft:0}},{props:({ownerState:a})=>a.endAdornment,style:{paddingRight:0}}]}))),gd=P.forwardRef(function(a,i){const l=ht({props:a,name:"MuiOutlinedInput"}),{components:p={},fullWidth:f=!1,inputComponent:x="input",label:E,multiline:u=!1,notched:j,slots:o={},slotProps:B={},type:h="text",...b}=l,w=Sw(l),T=Li(),I=Oi({props:l,muiFormControl:T,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),N={...l,color:I.color||"primary",disabled:I.disabled,error:I.error,focused:I.focused,formControl:T,fullWidth:f,hiddenLabel:I.hiddenLabel,multiline:u,size:I.size,type:h},Q=o.root??p.Root??Tw,m=o.input??p.Input??Hw,[y,D]=zt("notchedOutline",{elementType:Dw,className:w.notchedOutline,shouldForwardComponentProp:!0,ownerState:N,externalForwardedProps:{slots:o,slotProps:B},additionalProps:{label:E!=null&&E!==""&&I.required?e.jsxs(P.Fragment,{children:[E,"","*"]}):E}});return e.jsx(ki,{slots:{root:Q,input:m},slotProps:B,renderSuffix:H=>e.jsx(y,{...D,notched:typeof j<"u"?j:!!(H.startAdornment||H.filled||H.focused)}),fullWidth:f,inputComponent:x,multiline:u,ref:i,type:h,...b,classes:{...w,notchedOutline:null}})});gd.muiName="Input";const Rw=A=>{const{classes:a}=A,l=dt({root:["root"]},pd,a);return{...a,...l}},Mi={name:"MuiSelect",slot:"Root",shouldForwardProp:A=>Zt(A)&&A!=="variant"},Pw=wA(fd,Mi)(""),Ow=wA(gd,Mi)(""),Lw=wA(md,Mi)(""),xd=P.forwardRef(function(a,i){const l=ht({name:"MuiSelect",props:a}),{autoWidth:p=!1,children:f,classes:x={},className:E,defaultOpen:u=!1,displayEmpty:j=!1,IconComponent:o=hw,id:B,input:h,inputProps:b,label:w,labelId:T,MenuProps:I,multiple:N=!1,native:Q=!1,onClose:m,onOpen:y,open:D,renderValue:H,SelectDisplayProps:$,variant:z="outlined",...ie}=l,re=Q?iw:pw,F=Li(),C=Oi({props:l,muiFormControl:F,states:["variant","error"]}),M=C.variant||z,R={...l,variant:M,classes:x},S=Rw(R),{root:K,...Z}=S,de=h||{standard:e.jsx(Pw,{ownerState:R}),outlined:e.jsx(Ow,{label:w,ownerState:R}),filled:e.jsx(Lw,{ownerState:R})}[M],se=pt(i,tn(de));return e.jsx(P.Fragment,{children:P.cloneElement(de,{inputComponent:re,inputProps:{children:f,error:C.error,IconComponent:o,variant:M,type:void 0,multiple:N,...Q?{id:B}:{autoWidth:p,defaultOpen:u,displayEmpty:j,labelId:T,MenuProps:I,onClose:m,onOpen:y,open:D,renderValue:H,SelectDisplayProps:{id:B,...$}},...b,classes:b?ct(Z,b.classes):Z,...h?h.props.inputProps:{}},...(N&&Q||j)&&M==="outlined"?{notched:!0}:{},ref:se,className:EA(de.props.className,E,S.root),...!h&&{variant:M},...ie})})});xd.muiName="Select";function qn(A){if(Array.isArray(A))return A.map(qn);if(A&&typeof A=="object"){const a={};for(const[i,l]of Object.entries(A))if(l!==void 0){if(typeof l=="number"&&Number.isNaN(l)){a[i]=0;continue}a[i]=qn(l)}return a}return typeof A=="number"&&Number.isNaN(A)?0:A}function kw({orderId:A,distributorId:a,retailerId:i,order:l,distributorState:p,retailerState:f,onSaved:x}){const E=Fr(),u=P.useMemo(()=>(Array.isArray(l?.items)?l.items:[]).map(R=>({name:R.productName||R.name||"Item",sku:R.sku,hsn:R.hsn,uom:R.uom||R.unit,qty:Number(R.quantity??R.qty??0),price:Number(R.unitPrice??R.price??0),itemDiscountPct:Number(R.itemDiscountPct??0),gstRate:Number(R.gstRate??0)})),[l]),[j,o]=P.useState(u),[B,h]=P.useState({delivery:0,packing:0,insurance:0,other:0,discountPct:0,discountAmt:0,discountChangedBy:"pct"}),[b,w]=P.useState(!1),[T,I]=P.useState("NEAREST"),[N,Q]=P.useState(!1),m=P.useMemo(()=>{const M=()=>({grossItems:0,lineDiscountTotal:0,itemsSubTotal:0,subTotal:0,discountTotal:0,orderCharges:{delivery:0,packing:0,insurance:0,other:0},taxableBase:0,taxType:"CGST_SGST",taxBreakup:{cgst:0,sgst:0,igst:0},roundOff:0,grandTotal:0});try{const R=Zs({lines:j,orderCharges:B,distributorState:p,retailerState:f,roundingEnabled:b,rounding:T})||M();R.orderCharges=R.orderCharges||{delivery:0,packing:0,insurance:0,other:0},R.taxBreakup=R.taxBreakup||{cgst:0,sgst:0,igst:0};for(const S of["grossItems","lineDiscountTotal","itemsSubTotal","subTotal","discountTotal","taxableBase","roundOff","grandTotal"])typeof R[S]!="number"&&(R[S]=0);return R.taxType||(R.taxType="CGST_SGST"),R}catch(R){return console.error("calculateProforma failed",R),M()}},[j,B,p,f,b,T]),y=P.useMemo(()=>{const M=(p||"").toString(),R=(f||"").toString();return m?.taxType==="IGST"?`IGST (Interstate: ${M}  ${R})`:`CGST + SGST (Intrastate: ${M}  ${R})`},[m?.taxType,p,f]);function D(M,R,S){o(K=>{const Z=[...K],de={...Z[M]};if(["qty","price","itemDiscountPct","gstRate"].includes(R)){let se=Number(S||0);Number.isFinite(se)||(se=0),(R==="qty"||R==="price")&&(se=Math.max(0,se)),R==="itemDiscountPct"&&(se=Math.min(100,Math.max(0,se))),R==="gstRate"&&(se=Math.min(28,Math.max(0,se))),de[R]=se}else de[R]=S;return Z[M]=de,Z})}function H(M,R){let S=Number(R||0);Number.isFinite(S)||(S=0),S=Math.max(0,S),h(K=>({...K,[M]:S}))}function $(M,R){let S=Number(R||0);Number.isFinite(S)||(S=0),S=Math.max(0,S),M==="discountPct"?(S=Math.min(100,S),h(K=>({...K,discountPct:S,discountChangedBy:"pct"}))):M==="discountAmt"&&h(K=>({...K,discountAmt:S,discountChangedBy:"amt"}))}async function z(){if(!(Array.isArray(j)&&j.some(R=>Number(R.qty)>0))){tA.error("Add at least one item with quantity > 0 before generating a proforma.");return}if((!p||!f)&&tA.warn("Missing state info for POS. Tax type may be incorrect (IGST vs CGST/SGST).",{autoClose:3500}),!((l?.proforma||l?.chargesSnapshot)&&!window.confirm("A proforma already exists for this order. Overwrite it?"))){Q(!0);try{const R=qn(m),S=qn({breakdown:{grossItems:Number(R.grossItems||0),lineDiscountTotal:Number(R.lineDiscountTotal||0),itemsSubTotal:Number(R.itemsSubTotal||0),subTotal:R.subTotal,delivery:R?.orderCharges?.delivery||0,packing:R?.orderCharges?.packing||0,insurance:R?.orderCharges?.insurance||0,other:R?.orderCharges?.other||0,discountPct:Number(B?.discountPct||0),discountAmt:Number(B?.discountAmt||0),discountChangedBy:B?.discountChangedBy||"pct",roundOff:R.roundOff||0,taxableBase:R.taxableBase||0,taxType:R.taxType,taxBreakup:R.taxBreakup||{},grandTotal:R.grandTotal||0},defaultsUsed:{enabled:!0,skipProforma:!1,autodetectTaxType:!0,deliveryFee:Number(B?.delivery||0),packingFee:Number(B?.packing||0),insuranceFee:Number(B?.insurance||0),otherFee:Number(B?.other||0),discountPct:Number(B?.discountPct||0),discountAmt:Number(B?.discountAmt||0),roundEnabled:!!b,roundRule:(T||"NEAREST").toString().toLowerCase()},version:1}),K={...R,date:UA(),version:1},Z={proforma:K,chargesSnapshot:S,statusCode:JA.QUOTED,status:"Quoted",statusTimestamps:{...l?.statusTimestamps||{},quotedAt:UA()},updatedAt:UA()},de=a||l?.distributorId,se=i||l?.retailerId;if(!de||!se){tA.error("Missing distributorId/retailerId  unable to share proforma."),Q(!1);return}const me=oA(E,`businesses/${de}/orderRequests/${A}`);await yA(me,Z);const Ie=oA(E,`businesses/${se}/sentOrders/${A}`);await jr(Ie,Z,{merge:!0}),tA.success("Proforma generated and shared with retailer."),x&&x(K)}catch(R){console.error(R),tA.error("Failed to generate proforma. Check console for details.")}finally{Q(!1)}}}const ie=Number(m.taxableBase||0)+Number(m.discountTotal||0),re=ie>0?Number(m.discountTotal||0)/ie*100:0,F=B.discountChangedBy==="pct"?B.discountPct:Number.isFinite(re)?Number(re.toFixed(2)):0,C=B.discountChangedBy==="amt"?B.discountAmt:Number(m.discountTotal||0);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Line Items (Distributor View)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-white/80",children:[e.jsx("th",{className:"text-left p-2",children:"Item"}),e.jsx("th",{className:"text-right p-2",children:"Qty"}),e.jsx("th",{className:"text-right p-2",children:"Price"}),e.jsx("th",{className:"text-right p-2",children:"Disc %"}),e.jsx("th",{className:"text-right p-2",children:"GST %"})]})}),e.jsx("tbody",{children:j.map((M,R)=>e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsxs("td",{className:"p-2 text-white/90",children:[e.jsx("div",{className:"font-medium",children:M.name}),e.jsxs("div",{className:"text-xs text-white/60",children:[M.sku||""," ",M.hsn?` HSN ${M.hsn}`:""]})]}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1",value:M.qty,onChange:S=>D(R,"qty",S.target.value),min:"0"})}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("input",{type:"number",className:"w-28 rounded bg-white/10 text-white px-2 py-1",value:M.price,onChange:S=>D(R,"price",S.target.value),min:"0"})}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1",value:M.itemDiscountPct,onChange:S=>D(R,"itemDiscountPct",S.target.value),min:"0",max:"100"})}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1",value:M.gstRate,onChange:S=>D(R,"gstRate",S.target.value),min:"0",max:"28"})})]},R))})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Order-level Charges & Discount"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsx(ds,{label:"Delivery",value:B.delivery,onChange:M=>H("delivery",M)}),e.jsx(ds,{label:"Packing",value:B.packing,onChange:M=>H("packing",M)}),e.jsx(ds,{label:"Insurance",value:B.insurance,onChange:M=>H("insurance",M)}),e.jsx(ds,{label:"Other",value:B.other,onChange:M=>H("other",M)}),e.jsx(ds,{label:"Discount %",value:F,onChange:M=>$("discountPct",M)}),e.jsx(ds,{label:"Discount ",value:C,onChange:M=>$("discountAmt",M)})]}),e.jsxs("div",{className:"mt-3 space-y-2",children:[e.jsxs("label",{className:"flex items-center gap-2 text-white/90 text-sm",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:M=>w(M.target.checked)}),e.jsx("span",{children:"Enable Rounding"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Rounding Mode"}),e.jsxs("select",{value:T,onChange:M=>I(M.target.value),className:"rounded bg-white/10 text-white px-2 py-1",disabled:!b,children:[e.jsx("option",{value:"NEAREST",children:"Nearest"}),e.jsx("option",{value:"UP",children:"Up"}),e.jsx("option",{value:"DOWN",children:"Down"})]})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Proforma Preview"}),e.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[e.jsx(Bt,{k:"Gross Items Total",v:m.grossItems}),e.jsx(Bt,{k:" Line Discounts",v:m.lineDiscountTotal}),e.jsx(Bt,{k:"Items SubTotal",v:m.itemsSubTotal??m.subTotal}),e.jsx(Bt,{k:"+ Delivery",v:m.orderCharges?.delivery||0}),e.jsx(Bt,{k:"+ Packing",v:m.orderCharges?.packing||0}),e.jsx(Bt,{k:"+ Insurance",v:m.orderCharges?.insurance||0}),e.jsx(Bt,{k:"+ Other",v:m.orderCharges?.other||0}),e.jsx(Bt,{k:" Order Discount",v:m.discountTotal}),e.jsx(Bt,{k:"Taxable Base",v:m.taxableBase,bold:!0}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{children:y})]}),m.taxType==="IGST"?e.jsx(Bt,{k:"IGST",v:m.taxBreakup?.igst||0}):e.jsxs(e.Fragment,{children:[e.jsx(Bt,{k:"CGST",v:m.taxBreakup?.cgst||0}),e.jsx(Bt,{k:"SGST",v:m.taxBreakup?.sgst||0})]}),b&&Number(m.roundOff||0)!==0&&e.jsx(Bt,{k:"Round Off",v:m.roundOff}),e.jsx(Bt,{k:"Grand Total",v:m.grandTotal,bold:!0})]}),e.jsx("button",{onClick:z,disabled:N,className:`mt-4 w-full md:w-auto rounded-lg px-4 py-2 font-semibold text-white ${N?"bg-emerald-500/60 cursor-not-allowed":"bg-emerald-500/90 hover:bg-emerald-500"}`,children:N?"Saving...":"Generate Proforma"})]})]})]})}function Bt({k:A,v:a,bold:i}){return e.jsxs("div",{className:`flex justify-between ${i?"font-semibold text-white":""}`,children:[e.jsx("span",{children:A}),e.jsxs("span",{children:["",Number(a||0).toFixed(2)]})]})}function ds({label:A,value:a,onChange:i}){return e.jsxs("label",{className:"block",children:[e.jsx("span",{className:"block text-white/90 text-sm mb-1",children:A}),e.jsx("input",{type:"number",value:a,onChange:l=>i(l.target.value),className:"w-full rounded bg-white/10 text-white px-2 py-1",min:"0",step:"0.01"})]})}const Mw=()=>{const[A,a]=P.useState([]),[i,l]=P.useState(!0),[p,f]=P.useState("none"),[x,E]=P.useState([]),[u,j]=P.useState(""),[o,B]=P.useState("All"),[h,b]=P.useState(""),[w,T]=P.useState([]),[I,N]=P.useState("all"),[Q,m]=P.useState({}),[y,D]=P.useState({}),[H,$]=P.useState({}),[z,ie]=P.useState({}),[re,F]=P.useState("all"),C=()=>e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"inline-flex rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-lg p-1.5",children:["all","active","passive"].map(v=>e.jsx("button",{type:"button",onClick:()=>F(v),className:`px-5 py-2.5 text-sm font-semibold first:rounded-l-xl last:rounded-r-xl transition-all duration-200 relative ${re===v?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/25":"bg-transparent text-white/70 hover:text-white hover:bg-white/5"}`,children:v[0].toUpperCase()+v.slice(1)},v))})}),[M,R]=P.useState(!1),[S,K]=P.useState(""),[Z,de]=P.useState(null),se=v=>{if(v==null)return 0;if(typeof v=="number")return isNaN(v)?0:v;if(typeof v=="string"){const ge=v.replace(/[^\d.-]/g,""),fe=Number(ge);return isNaN(fe)?0:fe}return 0},me=v=>se(v.quantity??v.qty),Ie=v=>se(v.price??v.unitPrice??v.sellingPrice??v.rate??v.unit_price),De=v=>me(v)*Ie(v),Xe=(v=[])=>v.reduce((ge,fe)=>ge+De(fe),0),AA=v=>{const ge=v?.chargesSnapshot?.breakdown?.grandTotal;return typeof ge=="number"&&!Number.isNaN(ge)?ge:Xe(v?.items||[])},$e=v=>{const ge=v?.retailerMode==="passive"||v?.mode==="passive"||v?.isProvisional===!0||!!v?.provisionalRetailerId||v?.provisional===!0,fe=v?.statusCode==="DIRECT"||v?.status==="Placed (Direct)"||v?.directFlow===!0||v?.chargesSnapshot?.directFlow===!0||v?.chargesSnapshot?.defaultsUsed?.skipProforma===!0;return ge||fe},fA=v=>{const ge=v?.chargesSnapshot?.breakdown||{},fe=ge?.taxBreakup||{};return{...ge,cgst:ge.cgst??fe.cgst??0,sgst:ge.sgst??fe.sgst??0,igst:ge.igst??fe.igst??0}},ze=(v,ge={},fe={})=>{if(!v||!v.items||v.items.length===0)return{grandTotal:0,breakdown:{}};const W=(v.items||[]).map((c,V)=>{const k=Array.isArray(v?.proforma?.lines)?v.proforma.lines[V]:null,G=fe[V]||{},pe=c.pricingMode||"LEGACY",oe=Number(c.gstRate||c.taxRate||k?.gstRate||0),q=Number(c.sellingPrice||c.price||c.unitPrice||0),xe=Number(c.mrp||0),le=Number(c.basePrice||0);let Fe=0,Ue=0;pe==="MRP_INCLUSIVE"?xe>0&&oe>0?(Fe=nt(xe,oe).base,Ue=oe):q>0&&oe>0?(Fe=nt(q,oe).base,Ue=oe):(Fe=q||xe,Ue=0):pe==="BASE_PLUS_TAX"?(le>0?Fe=le:q>0&&oe>0?Fe=nt(q,oe).base:Fe=q,G.gstRate!==void 0?Ue=Number(G.gstRate)||0:Ue=oe):pe==="SELLING_PRICE"?(q>0&&oe>0?(Fe=nt(q,oe).base,Ue=oe):q>0?(Fe=q,Ue=0):(Fe=le||0,Ue=0),G.gstRate!==void 0&&Number(G.gstRate)>0&&(Fe=nt(q,Number(G.gstRate)).base,Ue=Number(G.gstRate))):(!le&&q>0&&oe>0?Fe=nt(q,oe).base:Fe=q,G.gstRate!==void 0?Ue=Number(G.gstRate)||0:Ue=oe),G.gstRate!==void 0&&pe!=="MRP_INCLUSIVE"&&pe!=="SELLING_PRICE"&&(Ue=Number(G.gstRate)||0,pe==="LEGACY"&&q>0&&Ue>0&&!le&&(Fe=nt(q,Ue).base));const jA=G.itemDiscountPct!==void 0?Number(G.itemDiscountPct):Number(k?.itemDiscountPct||c.itemDiscountPct||0),Te=G.itemDiscountAmt!==void 0?Number(G.itemDiscountAmt):Number(k?.discountAmount||c.itemDiscountAmt||0),Re=G.itemDiscountChangedBy||k?.itemDiscountChangedBy||c.itemDiscountChangedBy||"pct";return{qty:Number(c.quantity||c.qty||0),price:Fe,gstRate:Ue,itemDiscountPct:jA,itemDiscountAmt:Te,itemDiscountChangedBy:Re}}),J=v?.chargesSnapshot?.breakdown||{};let Ae=ge.discountChangedBy||J.discountChangedBy;if(!Ae){const c=Number(ge.discountAmt??J.discountAmt??0);Number(ge.discountPct??J.discountPct??0),Ae=c>0?"amt":"pct"}const je={delivery:Number(ge.delivery??J.delivery??0),packing:Number(ge.packing??J.packing??0),insurance:Number(ge.insurance??J.insurance??0),other:Number(ge.other??J.other??0),discountPct:Number(ge.discountPct??J.discountPct??0),discountAmt:Number(ge.discountAmt??J.discountAmt??0),discountChangedBy:Ae},Ne=v.distributorState||"Maharashtra",te=v.retailerState||v.state||Ne,Ee=Zs({lines:W,orderCharges:je,distributorState:Ne,retailerState:te,roundingEnabled:v?.chargesSnapshot?.defaultsUsed?.roundEnabled||!1,rounding:(v?.chargesSnapshot?.defaultsUsed?.roundRule||"nearest").toUpperCase()});return{grandTotal:Ee.grandTotal,breakdown:{...Ee,orderCharges:Ee.orderCharges||je,taxBreakup:Ee.taxBreakup||{},grossItems:Ee.grossItems||0,lineDiscountTotal:Ee.lineDiscountTotal||0,itemsSubTotal:Ee.itemsSubTotal||Ee.subTotal||0,subTotal:Ee.subTotal||0,discountTotal:Ee.discountTotal||0,taxableBase:Ee.taxableBase||0,taxType:Ee.taxType||"CGST_SGST",roundOff:Ee.roundOff||0}}},lA=v=>z[v]||{},cA=(v,ge,fe)=>{if($e(v)){const W=fe[v.id],J=lA(v.id);if(ge[v.id]&&W)return ze(v,W,J).grandTotal;const Ae=fA(v);return typeof Ae?.grandTotal=="number"?Ae.grandTotal:ze(v,{},J).grandTotal}return AA(v)},ke=v=>{try{return new Date(v).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},nA=v=>{try{if(v?.timestamp?.seconds)return v.timestamp.seconds*1e3;if(v?.createdAt?.seconds)return v.createdAt.seconds*1e3;if(typeof v?.createdAt=="string"){const ge=Date.parse(v.createdAt);if(!Number.isNaN(ge))return ge}}catch{}return 0},Me=v=>{try{return new Date(v).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},_=v=>{if(!v)return"N/A";if(typeof v=="string")return v;if(typeof v=="object"){if(typeof v.label=="string"&&v.label.trim())return v.label.trim();const ge=(v.code||v.type||"").toString().toLowerCase();if(ge){if(ge.includes("split"))return"Split Payment";if(ge==="credit"||ge.includes("credit_cycle")||ge.includes("creditcycle"))return"Credit Cycle";if(ge==="cod"||ge.includes("cash_on_delivery"))return"COD";if(ge==="upi")return"UPI";if(ge.includes("net"))return"Net Banking";if(ge.includes("cheque")||ge.includes("check"))return"Cheque";if(ge.includes("advance"))return"Advance Payment"}if(v.isSplit)return"Split Payment";if(v.isCredit)return"Credit Cycle";if(v.isCOD)return"COD";if(v.isUPI)return"UPI";if(v.isNetBanking)return"Net Banking";if(v.isCheque)return"Cheque";if(v.isAdvance)return"Advance Payment";if(typeof v.raw=="string"&&v.raw.trim())return v.raw.trim()}return"N/A"},Ce=v=>{de(v),K(""),R(!0)},ce=()=>{R(!1),K(""),de(null)},Be=async()=>{const v=S.trim();v&&(await He(Z,"Rejected",v),ce())},Je=v=>{E(ge=>ge.includes(v)?ge.filter(fe=>fe!==v):[...ge,v])};P.useEffect(()=>{const v=setTimeout(()=>b((u||"").toLowerCase()),250);return()=>clearTimeout(v)},[u]);const ee=P.useMemo(()=>{const v=h;return(A||[]).filter(ge=>{const fe=ge.retailerMode==="passive"||ge.mode==="passive"||ge.isProvisional===!0||!!ge.provisionalRetailerId;if(re==="active"&&fe||re==="passive"&&!fe)return!1;const W=(ge.id||"").toLowerCase().includes(v)||(ge.retailerName||"").toLowerCase().includes(v)||(ge.retailerEmail||"").toLowerCase().includes(v)||(ge.retailerPhone||"").toLowerCase().includes(v)||(ge.retailerCity||"").toLowerCase().includes(v)||(ge.retailerAddress||"").toLowerCase().includes(v),J=kt(ge.statusCode||ge.status),Ae=o==="All"?null:kt(o),je=!Ae||J===Ae,Ne=I==="all"||ge.retailerId===I;return W&&je&&Ne})},[A,h,o,I,re]),ve=()=>{const v=ee;if(!v.length){alert("No orders to export.");return}const ge=[["Order ID","Retailer","Email","Phone","City","Status","Payment","Requested On","Total"]];v.forEach(Ae=>{ge.push([Ae.id||"",Ae.retailerName||"N/A",Ae.retailerEmail||"N/A",Ae.retailerPhone||"N/A",Ae.retailerCity||"N/A",Ae.status||"N/A",_(Ae.paymentMode),Ae.timestamp?.seconds?ke(Ae.timestamp.seconds*1e3):"",AA(Ae).toFixed(2)])});const fe=ge.map(Ae=>Ae.map(je=>`"${String(je).replace(/"/g,'""')}"`).join(",")).join(`
`),W=new Blob([fe],{type:"text/csv"}),J=document.createElement("a");J.href=URL.createObjectURL(W),J.download=`order_requests_${Date.now()}.csv`,J.click()},ue=()=>{const v=ee;if(!v.length){alert("No orders to export.");return}const ge=v.map(J=>({"Order ID":J.id||"",Retailer:J.retailerName||"N/A",Email:J.retailerEmail||"N/A",Phone:J.retailerPhone||"N/A",City:J.retailerCity||"N/A",Status:J.status||"N/A",Payment:_(J.paymentMode),"Requested On":J.timestamp?.seconds?ke(J.timestamp.seconds*1e3):"",Total:AA(J).toFixed(2)})),fe=vt.book_new(),W=vt.json_to_sheet(ge);vt.book_append_sheet(fe,W,"Orders"),ni(fe,`order_requests_${Date.now()}.xlsx`)},Qe=Fr(),he=vs();P.useEffect(()=>{let v=null,ge=null;const fe=W=>{if(v){try{v()}catch{}v=null}if(!W){a([]),T([]),l(!1);return}l(!0);const J=async te=>{let Ee={};if(te?.retailerId&&typeof te.retailerId=="string")try{const V=oA(Qe,"businesses",te.retailerId),k=await GA(V);if(k.exists()){const G=k.data();Ee={retailerName:G.businessName||G.ownerName||"N/A",retailerEmail:G.email||"N/A",retailerPhone:G.phone||"N/A",retailerCity:G.city||"N/A",retailerState:G.state||"N/A",retailerAddress:G.address||"N/A"}}}catch(V){console.warn("Retailer fetch failed:",V)}const c=await Promise.all((te.items||[]).map(async V=>{const k=V.sku||V.SKU;if(k)try{const G=OA(Fr(),"businesses",W.uid,"products"),pe=Bs(G,ws("sku","==",k)),oe=await Yt(pe);if(!oe.empty){const q=oe.docs[0].data(),xe=Number(q.quantity||0),le=Number(q.reservedQuantity||0),Fe=xe-le;return{...V,availableStock:Fe,totalStock:xe,reservedStock:le}}}catch{}if(V?.distributorProductId&&typeof V.distributorProductId=="string")try{const G=await GA(oA(Qe,"businesses",W.uid,"products",V.distributorProductId));if(G.exists()){const pe=G.data(),oe=Number(pe.quantity||0),q=Number(pe.reservedQuantity||0),xe=oe-q;return{...V,availableStock:xe,totalStock:oe,reservedStock:q}}}catch(G){console.warn("Stock lookup by productId failed:",G)}return{...V}}));return{...te,...Ee,items:c}},Ae=async te=>{try{if(!te?.id||!te?.retailerId||te.status==="Accepted"||te.statusCode==="ACCEPTED")return;const Ee=oA(Qe,"businesses",te.retailerId,"sentOrders",te.id),c=await GA(Ee);if(!c.exists())return;const V=c.data();if(V?.status==="Accepted"||V?.statusCode==="ACCEPTED"){const k=oA(Qe,"businesses",W.uid,"orderRequests",te.id);await yA(k,{status:"Accepted",statusCode:"ACCEPTED",statusTimestamps:{acceptedAt:UA()},updatedAt:UA(),proformaLocked:!0,acceptedBy:te.retailerId,acceptedSource:"RETAILER",promotionReady:!0}),te.status="Accepted",te.statusCode="ACCEPTED"}if((te.status==="Quoted"||te.statusCode==="QUOTED")&&(te.proforma||te.chargesSnapshot)&&!V?.proforma&&!V?.chargesSnapshot){const k=oA(Qe,"businesses",te.retailerId,"sentOrders",te.id);await yA(k,{status:"Quoted",statusCode:"QUOTED",proforma:te.proforma,chargesSnapshot:te.chargesSnapshot,statusTimestamps:{quotedAt:UA()},updatedAt:UA()})}}catch(Ee){if(Ee?.code==="permission-denied")return;console.debug("Mirror sync skipped:",Ee?.message||Ee)}},je=OA(Qe,"businesses",W.uid,"orderRequests");v=Dt(je,te=>{const Ee=te.docs.map(c=>J({id:c.id,...c.data()}));Promise.all(Ee).then(async c=>{await Promise.all(c.filter(V=>V?.status!=="Accepted"&&V?.statusCode!=="ACCEPTED").map(V=>Ae(V))),c.sort((V,k)=>nA(k)-nA(V)),a(c),l(!1),D(V=>{const k={...V};return c.forEach(G=>{$e(G)&&!k[G.id]&&(k[G.id]=fA(G))}),k})})},te=>{console.error("orderRequests onSnapshot error:",te),l(!1)}),(async te=>{try{const c=(await Yt(OA(Qe,"businesses",te,"connectedRetailers"))).docs.map(V=>({retailerId:V.id,...V.data()}));T(c)}catch(Ee){console.warn("fetchConnectedRetailers failed:",Ee?.message||Ee)}})(W.uid)};return ge=Tt(he,W=>{fe(W)}),()=>{if(v)try{v()}catch{}if(ge)try{ge()}catch{}}},[he,Qe]),w.map(v=>({value:v.retailerId,label:`${v.retailerName||v.businessName||v.ownerName||"Unnamed"}  ${v.city||v.address?.city||""}  ${v.retailerEmail||v.email||"N/A"} (ID: ${(v.retailerId||"").substring(0,6)}...)`}));const He=async(v,ge,fe,W=!1,J=null)=>{try{const Ae=he.currentUser?.uid;if(!Ae)return;const je=cr(),Ne=!!je,te=Ne?{type:"employee",employeeId:je.employeeId,flypEmployeeId:je.flypEmployeeId||je.employeeId,name:je.name||null,role:je.role||null,uid:lt.currentUser?.uid||Ae}:{type:"distributor",uid:Ae},Ee=(ge||"").toString().toUpperCase(),c=kt(ge),V=oA(Qe,"businesses",Ae,"orderRequests",v),k=await GA(V);if(!k.exists()){console.warn("handleStatusUpdate: order not found",v);return}const G=k.data(),pe=!!G?.retailerId,oe=pe?oA(Qe,"businesses",G.retailerId,"sentOrders",v):null,q=oe?await GA(oe):null,xe=oA(Qe,"businesses",Ae,"orders",v);if(W&&c===JA.ACCEPTED){const le=Array.isArray(G.items)?G.items:[];let Fe=le.map(sA=>({...sA}));if(le.length>0)try{let sA=0;for(const et of le){const xA=et.distributorProductId||et.id;if(xA)try{const yt=oA(Qe,"businesses",Ae,"products",xA),At=await GA(yt);if(At.exists()){const it=At.data(),$A=Number(et.quantity||et.qty||0),Kt=Number(it.quantity||0),FA=Math.max(Kt-$A,0);await yA(yt,{quantity:FA}),sA+=$A;continue}}catch{}const ZA=et.sku||et.SKU;if(ZA)try{const yt=OA(Qe,"businesses",Ae,"products"),At=Bs(yt,ws("sku","==",ZA)),it=await Yt(At);if(!it.empty){const $A=it.docs[0],Kt=$A.data(),FA=Number(et.quantity||et.qty||0),Rt=Number(Kt.quantity||0),Ar=Math.max(Rt-FA,0);await yA($A.ref,{quantity:Ar}),sA+=FA}}catch{}}sA>0&&tA.success(` Order accepted! Stock deducted: ${sA} units from inventory.`)}catch{tA.error("Order accepted but stock deduction failed. Please check inventory manually.")}let Ue=J||{};const jA=lA(G.id),Te=J&&(J.lineDiscountTotal!==void 0||J.grandTotal!==void 0||J.grossItems!==void 0),Re=Te?{delivery:Ue.delivery,packing:Ue.packing,insurance:Ue.insurance,other:Ue.other,discountPct:Ue.discountPct,discountAmt:Ue.discountAmt,discountChangedBy:Ue.discountChangedBy}:Ue,dA=Te&&Ue.lineDiscountTotal!==void 0&&Ue.grandTotal!==void 0&&Ue.grossItems!==void 0,mA=dA?null:ze(G,Re,jA);Fe=Fe.map((sA,et)=>{const xA=jA[et]||{},ZA={...sA};return xA.itemDiscountPct!==void 0&&(ZA.itemDiscountPct=Number(xA.itemDiscountPct)||0),xA.itemDiscountAmt!==void 0&&(ZA.itemDiscountAmt=Number(xA.itemDiscountAmt)||0),xA.itemDiscountChangedBy&&(ZA.itemDiscountChangedBy=xA.itemDiscountChangedBy),xA.gstRate!==void 0&&(ZA.gstRate=Number(xA.gstRate)||0,ZA.taxRate=Number(xA.gstRate)||0),ZA});const bA=G?.chargesSnapshot||{},ae=bA?.defaultsUsed||{};let Pe=Ue.discountChangedBy||bA?.breakdown?.discountChangedBy;if(!Pe){const sA=Number(Ue.discountAmt??bA?.breakdown?.discountAmt??0),et=Number(Ue.discountPct??bA?.breakdown?.discountPct??0);Pe=sA>0?"amt":"pct"}const eA=dA&&Ue.lines&&Array.isArray(Ue.lines)&&Ue.lines.length>0?Ue.lines.map(sA=>({qty:sA.qty||0,price:sA.price||0,itemDiscountPct:sA.itemDiscountPct||0,itemDiscountAmt:sA.itemDiscountAmt||sA.discountAmount||0,itemDiscountChangedBy:sA.itemDiscountChangedBy||(sA.itemDiscountAmt>0||sA.discountAmount>0?"amt":"pct"),gstRate:sA.gstRate||0,gross:sA.gross||0,discountAmount:sA.discountAmount||0,taxable:sA.taxable||0})):Array.isArray(mA?.breakdown?.lines)&&mA.breakdown.lines.length>0?mA.breakdown.lines.map(sA=>({qty:sA.qty||0,price:sA.price||0,itemDiscountPct:sA.itemDiscountPct||0,itemDiscountAmt:sA.itemDiscountAmt||sA.discountAmount||0,itemDiscountChangedBy:sA.itemDiscountChangedBy||(sA.itemDiscountAmt>0||sA.discountAmount>0?"amt":"pct"),gstRate:sA.gstRate||0,gross:sA.gross||0,discountAmount:sA.discountAmount||0,taxable:sA.taxable||0})):(G.items||[]).map((sA,et)=>{const xA=jA[et]||{},ZA=Number(sA.quantity||sA.qty||0),yt=Number(sA.sellingPrice||sA.price||sA.unitPrice||0),At=xA.itemDiscountPct!==void 0?Number(xA.itemDiscountPct):Number(sA.itemDiscountPct||0),it=xA.itemDiscountAmt!==void 0?Number(xA.itemDiscountAmt):Number(sA.itemDiscountAmt||0),$A=xA.itemDiscountChangedBy||sA.itemDiscountChangedBy||(it>0?"amt":"pct"),Kt=xA.gstRate!==void 0?Number(xA.gstRate):Number(sA.gstRate||sA.taxRate||0),FA=ZA*yt;let Rt=0;$A==="amt"&&it>0?Rt=Math.max(0,Math.min(FA,it)):$A==="pct"&&At>0?Rt=Math.round(FA*Math.max(0,Math.min(100,At))/100*100)/100:it>0?Rt=Math.max(0,Math.min(FA,it)):At>0&&(Rt=Math.round(FA*Math.max(0,Math.min(100,At))/100*100)/100);const Ar=FA-Rt;return{qty:ZA,price:yt,itemDiscountPct:At,itemDiscountAmt:it,itemDiscountChangedBy:$A,gstRate:Kt,gross:FA,discountAmount:Rt,taxable:Ar}}),Oe=dA?{...Ue,delivery:Number(Re.delivery??Ue.delivery??bA?.breakdown?.delivery??0),packing:Number(Re.packing??Ue.packing??bA?.breakdown?.packing??0),insurance:Number(Re.insurance??Ue.insurance??bA?.breakdown?.insurance??0),other:Number(Re.other??Ue.other??bA?.breakdown?.other??0),discountPct:Number(Re.discountPct??Ue.discountPct??bA?.breakdown?.discountPct??0),discountAmt:Number(Re.discountAmt??Ue.discountAmt??bA?.breakdown?.discountAmt??0),discountChangedBy:Re.discountChangedBy??Ue.discountChangedBy??Pe}:{...mA.breakdown,delivery:Number(Re.delivery??bA?.breakdown?.delivery??0),packing:Number(Re.packing??bA?.breakdown?.packing??0),insurance:Number(Re.insurance??bA?.breakdown?.insurance??0),other:Number(Re.other??bA?.breakdown?.other??0),discountPct:Number(Re.discountPct??bA?.breakdown?.discountPct??0),discountAmt:Number(Re.discountAmt??bA?.breakdown?.discountAmt??0),discountChangedBy:Re.discountChangedBy??Pe};W&&(Oe.directFlow=!0);const aA={...bA,breakdown:Oe,defaultsUsed:ae};W&&(aA.directFlow=!0);const uA={lines:dA&&Ue.lines&&Array.isArray(Ue.lines)&&Ue.lines.length>0?Ue.lines:eA,grossItems:Oe.grossItems,lineDiscountTotal:Oe.lineDiscountTotal,itemsSubTotal:Oe.itemsSubTotal,subTotal:Oe.subTotal,orderCharges:{delivery:Oe.delivery,packing:Oe.packing,insurance:Oe.insurance,other:Oe.other,discountPct:Oe.discountPct,discountAmt:Oe.discountAmt,discountChangedBy:Oe.discountChangedBy},discountTotal:Oe.discountTotal,taxableBase:Oe.taxableBase,taxType:Oe.taxType||"CGST_SGST",taxBreakup:Oe.taxBreakup,roundOff:Oe.roundOff,grandTotal:Oe.grandTotal},LA=G.retailerMode||(G.provisionalRetailerId?"passive":"active"),er=Cl&&hs?hs(G.paymentMode||G.payment_method||G.payment):G.paymentMode||G.payment_method||G.payment||"Cash",Wr={status:"ACCEPTED",by:Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},at:new Date().toISOString(),...LA?{mode:LA}:{}},Er={at:new Date().toISOString(),event:"acceptOrder",by:Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},meta:{fastAccept:!0}},at={status:"Accepted",statusCode:"ACCEPTED",distributorId:Ae,retailerId:G.retailerId??(G.provisionalRetailerId||null),retailerMode:LA,provisionalRetailerId:G.provisionalRetailerId||null,proformaLocked:!0,promotionReady:!0,directFlow:!0,items:Fe,proforma:uA,chargesSnapshot:aA,paymentMode:er,paymentMethod:G.paymentMethod||G.payment_method||void 0};if(await yA(V,{...at,"statusTimestamps.acceptedAt":UA(),"handledBy.acceptedBy":Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},...Ne?{createdBy:"employee",creatorDetails:te,employeeActivity:KA({action:"accepted",employeeId:te.employeeId,flypEmployeeId:te.flypEmployeeId,employeeName:te.name,employeeRole:te.role,at:new Date().toISOString()})}:{createdBy:G.createdBy||"distributor"},updatedAt:UA(),timeline:KA(Wr),auditTrail:KA(Er)}),await jr(xe,at,{merge:!0}),await yA(xe,{"statusTimestamps.acceptedAt":UA(),"handledBy.acceptedBy":Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},...Ne?{createdBy:"employee",creatorDetails:te,employeeActivity:KA({action:"accepted",employeeId:te.employeeId,flypEmployeeId:te.flypEmployeeId,employeeName:te.name,employeeRole:te.role,at:new Date().toISOString()})}:{},updatedAt:UA(),timeline:KA(Wr),auditTrail:KA(Er)}),pe)try{await jr(oe,{status:"Accepted",statusCode:"ACCEPTED",distributorId:Ae,retailerId:G.retailerId,items:Fe,proforma:uA,chargesSnapshot:aA,proformaLocked:!0,directFlow:!0,paymentMode:er},{merge:!0}),await yA(oe,{"statusTimestamps.acceptedAt":UA(),directFlow:!0,timeline:KA(Wr)})}catch(sA){sA?.code!=="permission-denied"&&console.warn("retailer accept mirror skipped:",sA?.message||sA)}return}if(c===JA.ACCEPTED)return await He(v,"Accepted",fe,!0,J);if(c===JA.REJECTED){const le=(fe||"").trim();if(!le)return;const Fe=G.items||[];if(Fe.some(dA=>dA.sku||dA.SKU)&&Fe.length>0&&G.stockReserved)try{await Cm(Ae,Fe),console.log("[OrderRequests]  Reserved stock released for rejected order:",v),tA.info("Reserved stock has been released")}catch(dA){console.error("[OrderRequests]  Failed to release reserved stock:",dA),tA.warn("Order rejected, but stock release failed. Please check inventory manually.")}const jA={status:"REJECTED",by:Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},at:new Date().toISOString()},Te={at:new Date().toISOString(),event:"rejectOrder",by:Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},meta:{reason:le}},Re={status:"Rejected",statusCode:"REJECTED",distributorId:Ae,retailerId:G.retailerId??null,rejectionNote:le,items:G.items||[],chargesSnapshot:G.chargesSnapshot||null,paymentMode:Cl&&hs?hs(G.paymentMode||G.payment_method||G.payment):G.paymentMode||G.payment_method||G.payment||void 0,...G.stockReserved?{stockReleasedAt:UA(),stockReleased:!0}:{}};if(await jr(xe,Re,{merge:!0}),await yA(xe,{"statusTimestamps.rejectedAt":UA(),"handledBy.rejectedBy":Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},...Ne?{employeeActivity:KA({action:"rejected",employeeId:te.employeeId,flypEmployeeId:te.flypEmployeeId,employeeName:te.name,employeeRole:te.role,reason:le,at:new Date().toISOString()})}:{},timeline:KA(jA),auditTrail:KA(Te),updatedAt:UA()}),await yA(V,{...Re,"statusTimestamps.rejectedAt":UA(),"handledBy.rejectedBy":Ne?{...te,uid:te.uid,type:"employee"}:{uid:Ae,type:"distributor"},...Ne?{employeeActivity:KA({action:"rejected",employeeId:te.employeeId,flypEmployeeId:te.flypEmployeeId,employeeName:te.name,employeeRole:te.role,reason:le,at:new Date().toISOString()})}:{},timeline:KA(jA),auditTrail:KA(Te),updatedAt:UA()}),pe)try{await jr(oe,{status:"Rejected",statusCode:"REJECTED",distributorId:Ae,retailerId:G.retailerId,rejectionNote:le,items:G.items||[],chargesSnapshot:G.chargesSnapshot||null},{merge:!0}),await yA(oe,{"statusTimestamps.rejectedAt":UA(),timeline:KA(jA)})}catch(dA){dA?.code!=="permission-denied"&&console.warn("retailer reject mirror skipped:",dA?.message||dA)}return}}catch(Ae){console.error("Failed to update status:",Ae)}},ye=v=>{const ge=[["Retailer","Email","Date","Payment","Status"],[v.retailerName,v.retailerEmail,v.timestamp?.seconds?Me(v.timestamp.seconds*1e3):"",_(v.paymentMode),v.status]].map(J=>J.join(",")).join(`
`),fe=new Blob([ge],{type:"text/csv"}),W=document.createElement("a");W.href=URL.createObjectURL(fe),W.download=`order_${v.id}.csv`,W.click()},We=v=>{const ge=vt.book_new(),fe=vt.json_to_sheet([{Retailer:v.retailerName,Email:v.retailerEmail,Date:v.timestamp?.seconds?Me(v.timestamp.seconds*1e3):"",Payment:_(v.paymentMode),Status:v.status}]);vt.book_append_sheet(ge,fe,"Order"),ni(ge,`order_${v.id}.xlsx`)},rA=v=>{const ge=document.getElementById(`order-card-${v.id}`);rg().from(ge).save(`order_${v.id}.pdf`)};return i?e.jsx("div",{className:"space-y-4",children:[0,1,2].map(v=>e.jsx("div",{className:"rounded-2xl overflow-hidden bg-white/5 backdrop-blur-xl border border-white/10 animate-pulse shadow-lg",children:e.jsxs("div",{className:"px-6 py-5 flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsx("div",{className:"h-5 bg-white/10 rounded-lg w-1/4"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx("div",{className:"h-3 bg-white/10 rounded w-1/6"}),e.jsx("div",{className:"h-3 bg-white/10 rounded w-1/5"}),e.jsx("div",{className:"h-3 bg-white/10 rounded w-1/6"})]})]}),e.jsx("div",{className:"h-8 w-24 bg-white/10 rounded-xl"})]})},v))}):!i&&A.length===0?e.jsx("div",{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl text-white p-12 text-center shadow-2xl max-w-md",children:[e.jsx("div",{className:"text-5xl mb-4",children:""}),e.jsx("p",{className:"text-xl font-bold text-white mb-2",children:"No order requests yet"}),e.jsx("p",{className:"text-white/60 text-sm",children:"New orders from retailers will appear here"})]})}):e.jsxs("div",{className:"space-y-6 text-white",children:[C(),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-emerald-200 to-cyan-300",children:"Order Requests"}),e.jsx("p",{className:"text-white/60 text-sm mt-1.5 font-medium",children:"Review and process new orders from retailers"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(iA.button,{onClick:ve,whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},className:"px-5 py-2.5 rounded-xl text-sm font-semibold bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all flex items-center gap-2.5 shadow-lg hover:shadow-xl","aria-label":"Export visible orders as CSV",children:[e.jsx(jl,{className:"w-4 h-4"}),"Export CSV"]}),e.jsxs(iA.button,{onClick:ue,whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},className:"px-5 py-2.5 rounded-xl text-sm font-semibold bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all flex items-center gap-2.5 shadow-lg hover:shadow-xl","aria-label":"Export visible orders as Excel",children:[e.jsx(jl,{className:"w-4 h-4"}),"Export Excel"]})]})]}),e.jsxs("div",{className:"rounded-2xl p-6 flex flex-col gap-5 border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-stretch sm:items-center",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx("input",{type:"text",placeholder:"Search by Order ID, Retailer Name, Email, Phone, City, or Address",value:u,onChange:v=>j(v.target.value.toLowerCase()),className:"w-full pl-11 pr-4 py-3 rounded-xl text-sm bg-white/10 border border-white/20 placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"}),e.jsx(Tc,{className:"absolute left-3.5 top-1/2 transform -translate-y-1/2 w-4 h-4 text-white/50 pointer-events-none"})]}),e.jsx("div",{className:"w-full sm:min-w-[200px]",children:e.jsxs(xd,{value:I||"all",onChange:v=>N(v.target.value),displayEmpty:!0,size:"small",sx:{backgroundColor:"rgba(255,255,255,0.08)",color:"#fff",borderRadius:"0.75rem",fontSize:14,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.10)",".MuiSvgIcon-root":{color:"#fff"},".MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.2)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.35)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(16,185,129,0.6)"},minWidth:"180px",height:"36px",width:"100%"},inputProps:{className:"px-3 py-2 text-sm"},MenuProps:{PaperProps:{sx:{bgcolor:"rgba(15,23,42,0.98)",color:"#fff"}}},children:[e.jsx(ic,{value:"all",children:e.jsx("span",{className:"text-sm text-white",children:"All Retailers"})}),w.filter(v=>v.status==="accepted").map(v=>{const ge=v.businessName||v.retailerName||v.ownerName||"N/A",fe=v.ownerName||v.retailerName||"N/A",W=v.address||"N/A",J=v.city||"N/A",Ae=v.state||"N/A";return e.jsx(ic,{value:v.retailerId,children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"font-semibold text-white",children:ge}),e.jsxs("span",{className:"text-xs text-white/70",children:["Owner: ",fe]}),e.jsxs("span",{className:"text-xs text-white/70",children:[W!=="N/A"?W:"",W!=="N/A"&&(J!=="N/A"||Ae!=="N/A")?", ":"",J!=="N/A"||Ae!=="N/A"?[J!=="N/A"?J:"",Ae!=="N/A"?Ae:""].filter(Boolean).join(", "):""]})]})},v.retailerId)})]})})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsx("span",{className:"text-sm text-white/70 font-semibold uppercase tracking-wide",children:"Filter by Status:"}),["All","Requested","Quoted","Accepted","Rejected"].map(v=>{const ge=o===v;return e.jsx(iA.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-5 py-2.5 rounded-xl text-sm font-semibold border transition-all whitespace-nowrap ${ge?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white border-transparent shadow-lg shadow-emerald-500/30":"bg-white/5 text-white/70 border-white/10 hover:bg-white/10 hover:border-white/20 hover:text-white"}`,onClick:()=>B(v),children:v},v)})]})]}),e.jsx("div",{id:"order-requests-content",className:"space-y-5",children:ee.length===0?e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl p-16 text-center shadow-xl",children:[e.jsx("div",{className:"text-6xl mb-5",children:""}),e.jsx("p",{className:"text-2xl font-bold text-white mb-2",children:"No orders found"}),e.jsx("p",{className:"text-white/60 text-sm",children:"Try adjusting your filters or search terms"})]}):ee.map((v,ge)=>e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ge*.03,duration:.3,type:"spring",stiffness:100,damping:15},className:"rounded-2xl overflow-hidden bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl border border-white/10 shadow-xl hover:shadow-2xl hover:border-white/20 transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-5 cursor-pointer select-none hover:bg-white/5 transition-all duration-200 border-b border-white/10",onClick:()=>Je(v.id),children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"font-bold text-xl text-white",children:v.retailerName||"N/A"}),(v.retailerMode==="passive"||v.mode==="passive"||v.isProvisional||v.provisionalRetailerId)&&e.jsx("span",{className:"rounded-full px-2.5 py-1 text-xs font-semibold bg-amber-500/20 text-amber-300 border border-amber-400/30",children:"Passive"})]}),e.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[v.retailerCity||"N/A",v.retailerState?`, ${v.retailerState}`:"",v.retailerAddress?`  ${v.retailerAddress}`:""]}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1 text-xs text-white/50",children:[e.jsx("span",{children:(()=>{const fe=nA(v);return fe?`Requested on: ${ke(fe)}`:"Requested on: N/A"})()}),e.jsxs("span",{children:["Items: ",v.items?.length||0]}),v.handledBy?.acceptedBy?.type==="employee"&&e.jsxs("span",{className:"text-emerald-300",children:[" Accepted by: ",v.handledBy.acceptedBy.name||v.handledBy.acceptedBy.flypEmployeeId||"Employee"," (",v.handledBy.acceptedBy.role||"Employee",")"]}),v.creatorDetails?.type==="employee"&&v.createdBy==="employee"&&e.jsxs("span",{className:"text-blue-300",children:[" Created by: ",v.creatorDetails.name||v.creatorDetails.flypEmployeeId||"Employee"," (",v.creatorDetails.role||"Employee",")"]}),e.jsxs("span",{children:["Total: ",e.jsxs("span",{className:"font-semibold text-emerald-300",children:["",AA(v).toFixed(2)]})]}),e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full bg-white/10 text-white/70",children:(()=>{const fe=v?.timestamp?.seconds?v.timestamp.seconds*1e3:null;if(!fe)return"Age: N/A";const W=Date.now()-fe,J=Math.floor(W/6e4);if(J<60)return`Age: ${J}m`;const Ae=Math.floor(J/60);return Ae<48?`Age: ${Ae}h`:`Age: ${Math.floor(Ae/24)}d`})()})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-3",children:[e.jsxs("span",{className:`px-3 py-1.5 rounded-xl text-xs font-bold
                  ${v.status==="Requested"||v.statusCode==="REQUESTED"?"bg-blue-500/20 text-blue-300 border border-blue-400/30":v.status==="Accepted"||v.statusCode==="ACCEPTED"?"bg-emerald-500/20 text-emerald-300 border border-emerald-400/30":v.status==="Rejected"||v.statusCode==="REJECTED"?"bg-rose-500/20 text-rose-300 border border-rose-400/30":"bg-white/10 text-white/80 border border-white/20"}
                  `,children:[(v.status==="Requested"||v.statusCode==="REQUESTED")&&" ",(v.status==="Accepted"||v.statusCode==="ACCEPTED")&&" ",(v.status==="Rejected"||v.statusCode==="REJECTED")&&" ",v.status||(v.statusCode?v.statusCode.charAt(0)+v.statusCode.slice(1).toLowerCase():"")]}),$e(v)&&e.jsx("span",{className:"ml-2 px-2 py-1 rounded-full text-xs font-medium bg-emerald-500/15 text-emerald-300 border border-emerald-400/20",children:"Direct"}),e.jsxs("div",{className:"flex gap-2.5",children:[e.jsx(iA.button,{type:"button",onClick:fe=>{fe.stopPropagation(),v.status==="Requested"&&He(v.id,"Accepted",null,$e(v),y[v.id])},disabled:v.status!=="Requested",whileHover:v.status==="Requested"?{scale:1.05}:{},whileTap:v.status==="Requested"?{scale:.95}:{},className:`rounded-xl px-4 py-2 text-xs font-semibold transition-all ${v.status!=="Requested"?"bg-white/5 text-white/30 cursor-not-allowed border border-white/10":"bg-gradient-to-r from-emerald-500 to-teal-500 text-white hover:shadow-lg hover:shadow-emerald-500/30"}`,"aria-label":"Quick accept order",children:"Accept"}),e.jsx(iA.button,{type:"button",onClick:fe=>{fe.stopPropagation(),v.status==="Requested"&&Ce(v.id)},disabled:v.status!=="Requested",whileHover:v.status==="Requested"?{scale:1.05}:{},whileTap:v.status==="Requested"?{scale:.95}:{},className:`rounded-xl px-4 py-2 text-xs font-semibold transition-all ${v.status!=="Requested"?"bg-white/5 text-white/30 cursor-not-allowed border border-white/10":"bg-gradient-to-r from-rose-500 to-pink-500 text-white hover:shadow-lg hover:shadow-rose-500/30"}`,"aria-label":"Quick reject order",children:"Reject"})]}),e.jsx(iA.button,{className:"text-xs text-emerald-400 hover:text-emerald-300 font-semibold focus:outline-none transition-colors","aria-expanded":x.includes(v.id),onClick:()=>Je(v.id),whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[e.jsx("span",{children:x.includes(v.id)?"Hide Details":"Show Details"}),e.jsx("span",{className:`transition-transform duration-200 ${x.includes(v.id)?"rotate-180":""}`,children:""})]})})]})]}),x.includes(v.id)&&e.jsxs(iA.div,{id:`order-card-${v.id}`,className:"bg-white/5 px-5 pb-5 pt-3",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2},children:[e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"absolute top-0 right-0 text-sm font-bold",children:[v.status==="Accepted"&&e.jsx("span",{className:"px-2 py-1 bg-emerald-400/15 text-emerald-300 rounded-full font-bold",children:" Accepted"}),v.status==="Rejected"&&e.jsx("span",{className:"px-2 py-1 bg-rose-400/15 text-rose-300 rounded-full font-bold",children:" Rejected"})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Order ID:"}),e.jsx("span",{className:"ml-2 text-white",children:v.id})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Retailer Email:"}),e.jsx("span",{className:"ml-2 text-white",children:v.retailerEmail||"N/A"})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Phone:"}),e.jsx("span",{className:"ml-2 text-white",children:v.retailerPhone||"N/A"})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Address:"}),e.jsx("span",{className:"ml-2 text-white",children:v.retailerAddress||"N/A"})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"City:"}),e.jsx("span",{className:"ml-2 text-white",children:v.retailerCity||"N/A"}),e.jsx("span",{className:"ml-4 font-medium text-white/70",children:"State:"}),e.jsx("span",{className:"ml-2 text-white",children:v.retailerState||"N/A"})]}),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Requested On:"}),e.jsx("span",{className:"ml-2 text-white",children:(()=>{const fe=nA(v);return fe?ke(fe):"N/A"})()})]}),v.statusTimestamps&&e.jsxs("div",{className:"mb-1 space-y-0.5 text-xs text-white/60",children:[v.statusTimestamps.requestedAt?.seconds&&e.jsxs("div",{children:["Requested: ",ke(v.statusTimestamps.requestedAt.seconds*1e3)]}),v.statusTimestamps.quotedAt?.seconds&&e.jsxs("div",{children:["Quoted: ",ke(v.statusTimestamps.quotedAt.seconds*1e3)]}),v.statusTimestamps.acceptedAt?.seconds&&e.jsxs("div",{children:["Accepted: ",ke(v.statusTimestamps.acceptedAt.seconds*1e3)]}),v.statusTimestamps.shippedAt?.seconds&&e.jsxs("div",{children:["Shipped: ",ke(v.statusTimestamps.shippedAt.seconds*1e3)]}),v.statusTimestamps.deliveredAt?.seconds&&e.jsxs("div",{children:["Delivered: ",ke(v.statusTimestamps.deliveredAt.seconds*1e3)]}),v.statusTimestamps.rejectedAt?.seconds&&e.jsxs("div",{children:["Rejected: ",ke(v.statusTimestamps.rejectedAt.seconds*1e3)]})]}),(()=>{if(v.creatorDetails?.type==="employee"){const fe=v.creatorDetails?.name||v.creatorDetails?.flypEmployeeId||"Employee",W=v.creatorDetails?.role;return e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Created By:"}),e.jsxs("span",{className:"ml-2 text-blue-300 font-medium",children:[" ",fe,W&&` (${W})`]})]})}if(v.creatorDetails?.type==="distributor"){const fe=v.creatorDetails?.name||"Distributor Owner";return e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Created By:"}),e.jsxs("span",{className:"ml-2 text-emerald-300 font-medium",children:[" ",fe]})]})}if(v.createdBy==="employee"){const fe=v.creatorDetails?.name||v.creatorDetails?.flypEmployeeId||"Employee",W=v.creatorDetails?.role;return e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Created By:"}),e.jsxs("span",{className:"ml-2 text-blue-300 font-medium",children:[" ",fe,W&&` (${W})`]})]})}if(v.createdBy==="distributor"){const fe=v.creatorDetails?.name||"Distributor Owner";return e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Created By:"}),e.jsxs("span",{className:"ml-2 text-emerald-300 font-medium",children:[" ",fe]})]})}return null})(),e.jsxs("div",{className:"mb-1",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Order Note:"}),e.jsx("span",{className:"ml-2 text-white",children:v.notes||""})]}),e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Status:"}),e.jsxs("span",{className:`ml-2 px-2 py-1 rounded-full font-semibold text-xs
                        ${v.status==="Requested"||v.statusCode==="REQUESTED"?"bg-sky-400/15 text-sky-300":v.status==="Accepted"||v.statusCode==="ACCEPTED"?"bg-emerald-400/15 text-emerald-300":v.status==="Rejected"||v.statusCode==="REJECTED"?"bg-rose-400/15 text-rose-300":"bg-white/10 text-white/80"}`,children:[(v.status==="Requested"||v.statusCode==="REQUESTED")&&" ",(v.status==="Accepted"||v.statusCode==="ACCEPTED")&&" ",(v.status==="Rejected"||v.statusCode==="REJECTED")&&" ",v.status||(v.statusCode?v.statusCode.charAt(0)+v.statusCode.slice(1).toLowerCase():"")]})]}),e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Payment Mode:"}),(()=>{const fe=_(v.paymentMode);return fe==="Credit Cycle"?e.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-400/15 text-orange-300 font-medium text-xs",children:"Credit Cycle"}):fe==="Split Payment"?e.jsx("span",{className:"px-2 py-1 rounded-full bg-fuchsia-400/15 text-fuchsia-300 font-medium text-xs",children:"Split Payment"}):e.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 font-medium text-xs",children:fe})})()]}),v.paymentMode==="Credit Cycle"&&v.timestamp?.seconds&&v.creditDays&&e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Due Date:"}),e.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-400/15 text-orange-300 font-medium text-xs",children:Me(v.timestamp.seconds*1e3+v.creditDays*864e5)})]}),v.paymentMode==="Split Payment"&&v.splitPayment&&e.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-white/70",children:"Split Payment:"}),e.jsxs("span",{className:"px-2 py-1 rounded-full bg-fuchsia-400/15 text-fuchsia-300 font-medium text-xs",children:["Advance ",v.splitPayment.advance,"% / Balance ",v.splitPayment.balance,"%"]})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsx("h4",{className:"font-medium mb-1",children:"Items:"}),e.jsx("div",{className:"mt-2 border border-white/10 rounded-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-xs",children:[e.jsx("thead",{className:"font-semibold bg-white/10 border-b border-white/10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left",children:"Product Details"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"SKU"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Brand"}),e.jsx("th",{className:"px-3 py-2 text-left",children:"Category"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Unit"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Base Price"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"MRP"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"GST %"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Selling Price"}),e.jsx("th",{className:"px-3 py-2 text-center",children:"Qty"}),e.jsx("th",{className:"px-3 py-2 text-right",children:"Subtotal"}),e.jsx("th",{className:"px-3 py-2 text-center",children:"Stock"})]})}),e.jsx("tbody",{children:v.items.map((fe,W)=>{const J=Number(fe.sellingPrice||fe.price||fe.unitPrice||0),Ae=Number(fe.quantity||fe.qty||0),je=Ae*J;return e.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5 transition",children:[e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("div",{className:"font-medium",children:fe.productName||fe.name||"N/A"}),fe.hsnCode&&e.jsxs("div",{className:"text-xs text-white/60 mt-0.5",children:["HSN: ",fe.hsnCode]})]}),e.jsx("td",{className:"px-3 py-2",children:fe.sku||""}),e.jsx("td",{className:"px-3 py-2",children:fe.brand||""}),e.jsx("td",{className:"px-3 py-2",children:fe.category||""}),e.jsx("td",{className:"px-3 py-2 text-right",children:fe.unit||""}),e.jsx("td",{className:"px-3 py-2 text-right",children:fe.basePrice>0?`${fe.basePrice.toFixed(2)}`:""}),e.jsx("td",{className:"px-3 py-2 text-right",children:fe.mrp>0?`${fe.mrp.toFixed(2)}`:""}),e.jsx("td",{className:"px-3 py-2 text-right",children:(fe.gstRate||fe.taxRate)>0?`${fe.gstRate||fe.taxRate}%`:""}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",J.toFixed(2)]})}),e.jsx("td",{className:"px-3 py-2 text-center",children:Ae}),e.jsx("td",{className:"px-3 py-2 text-right",children:e.jsxs("span",{className:"font-semibold",children:["",je.toFixed(2)]})}),e.jsx("td",{className:`px-3 py-2 text-center font-medium ${fe.availableStock===void 0?"text-white/50":fe.availableStock>=Ae?"text-emerald-300":fe.availableStock>0?"text-amber-300":"text-rose-300"}`,children:fe.availableStock===void 0?e.jsx("span",{className:"text-white/50",children:"N/A"}):e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:fe.availableStock>=Ae?"text-emerald-300":fe.availableStock>0?"text-amber-300":"text-rose-300",children:fe.availableStock>=Ae?` ${fe.availableStock} Available`:fe.availableStock>0?` ${fe.availableStock} Low`:" Out of Stock"}),fe.reservedStock>0&&e.jsxs("span",{className:"text-xs text-amber-400/70 mt-0.5",children:["(",fe.reservedStock," reserved)"]}),fe.totalStock!==void 0&&fe.totalStock!==fe.availableStock&&e.jsxs("span",{className:"text-xs text-white/40 mt-0.5",children:["Total: ",fe.totalStock]})]})})]},W)})})]})})})]}),e.jsxs("div",{className:"mt-3 flex justify-end text-emerald-300 text-sm font-semibold",children:["Total: ",cA(v,Q,y).toFixed(2)]}),v.status==="Requested"&&e.jsxs("div",{className:"mt-5",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Proforma / Taxes & Charges"}),$e(v)?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"text-xs text-white/70",children:"Using retailer's default charges snapshot"}),e.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[e.jsx("input",{type:"checkbox",checked:!!Q[v.id],onChange:()=>m(fe=>({...fe,[v.id]:!fe[v.id]}))}),"Edit charges"]})]}),(()=>{const fe=fA(v),W=y[v.id]||{},J={...fe,...W},Ae=lA(v.id),je=!Q[v.id];let Ne=H[v.id];!Ne&&Q[v.id]&&(Ne={},["delivery","packing","insurance","other","discountPct","discountAmt"].forEach(Te=>{const Re=J?.[Te]??0;Ne[Te]=Re===0||Re===""?"":String(Re)}),$(Te=>({...Te,[v.id]:Ne}))),Ne=Ne||{};const te=(Te,Re)=>{$(ae=>({...ae,[v.id]:{...ae[v.id]||{},[Te]:Re}}));const dA=Re===""||Re===null||Re===void 0?0:Number(Re),mA={...y[v.id]||fe,[Te]:dA};if(Te==="discountPct"){mA.discountChangedBy="pct";const ae={...mA,discountPct:0,discountAmt:0},Pe=ze(v,ae,Ae),eA=Pe.breakdown.itemsSubTotal||Pe.breakdown.subTotal||0,Oe=(ae.delivery||0)+(ae.packing||0)+(ae.insurance||0)+(ae.other||0),aA=eA+Oe;if(aA>0&&dA>0){const qe=aA*dA/100;mA.discountAmt=Math.round(qe*100)/100,$(uA=>({...uA,[v.id]:{...uA[v.id]||{},discountAmt:qe===0?"":String(qe.toFixed(2))}}))}else mA.discountAmt=0,$(qe=>({...qe,[v.id]:{...qe[v.id]||{},discountAmt:""}}))}else if(Te==="discountAmt"){mA.discountChangedBy="amt";const ae={...mA,discountPct:0,discountAmt:0},Pe=ze(v,ae,Ae),eA=Pe.breakdown.itemsSubTotal||Pe.breakdown.subTotal||0,Oe=(ae.delivery||0)+(ae.packing||0)+(ae.insurance||0)+(ae.other||0),aA=eA+Oe;if(aA>0&&dA>0){const qe=dA/aA*100;mA.discountPct=Math.min(100,Math.round(qe*100)/100),$(uA=>({...uA,[v.id]:{...uA[v.id]||{},discountPct:qe===0?"":String(qe.toFixed(2))}}))}else mA.discountPct=0,$(qe=>({...qe,[v.id]:{...qe[v.id]||{},discountPct:""}}))}const bA=ze(v,mA,Ae);D(ae=>({...ae,[v.id]:{...mA,...bA.breakdown,grandTotal:bA.grandTotal}}))},Ee=(Te,Re,dA)=>{const mA=dA===""||dA===null||dA===void 0?0:Number(dA);ie(Pe=>{const eA=Pe[v.id]||{},aA={...eA[Te]||{},[Re]:mA};return Re==="itemDiscountAmt"&&mA>0?aA.itemDiscountChangedBy="amt":Re==="itemDiscountPct"&&mA>0&&(aA.itemDiscountChangedBy="pct"),{...Pe,[v.id]:{...eA,[Te]:aA}}});const bA={...Ae,[Te]:{...Ae[Te],[Re]:mA}},ae=ze(v,W,bA);D(Pe=>({...Pe,[v.id]:{...W,...ae.breakdown,grandTotal:ae.grandTotal}}))},c=Q[v.id]&&y[v.id]?ze(v,y[v.id],Ae):ze(v,{},Ae);c.breakdown;const V=c.breakdown||c,k=Number(V?.discountTotal||0),pe=Number(V?.taxableBase||0)+k,oe=W.discountChangedBy||J?.discountChangedBy||"pct",q=pe>0?k/pe*100:0,xe=oe==="pct"?Ne.discountPct!==void 0?Ne.discountPct:J?.discountPct===0?"":String(J?.discountPct||""):q>0?String(Math.round(q*100)/100):"",le=oe==="amt"?Ne.discountAmt!==void 0?Ne.discountAmt:J?.discountAmt===0?"":String(J?.discountAmt||""):k>0?String(k.toFixed(2)):"",Fe=v.distributorState||"Maharashtra",Ue=v.retailerState||v.state||Fe,jA=V?.taxType==="IGST"?`IGST (Interstate: ${Fe}  ${Ue})`:`CGST + SGST (Intrastate: ${Fe}  ${Ue})`;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Line Items (Distributor View)"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-white/80",children:[e.jsx("th",{className:"text-left p-2",children:"Item"}),e.jsx("th",{className:"text-right p-2",children:"Qty"}),e.jsx("th",{className:"text-right p-2",children:"Price"}),e.jsx("th",{className:"text-right p-2",children:"Disc %"}),e.jsx("th",{className:"text-right p-2",children:"GST %"})]})}),e.jsx("tbody",{children:(v.items||[]).map((Te,Re)=>{const dA=Ae[Re]||{},mA=dA.itemDiscountPct!==void 0?dA.itemDiscountPct:Te.itemDiscountPct||0,bA=Number(Te.gstRate||Te.taxRate||0),ae=dA.gstRate!==void 0?dA.gstRate===0?"":String(dA.gstRate):bA>0?String(bA):"";return e.jsxs("tr",{className:"border-t border-white/10",children:[e.jsxs("td",{className:"p-2 text-white/90",children:[e.jsx("div",{className:"font-medium",children:Te.productName||Te.name||"Item"}),e.jsxs("div",{className:"text-xs text-white/60",children:[Te.sku||""," ",Te.hsnCode||Te.hsn?` HSN ${Te.hsnCode||Te.hsn}`:""]})]}),e.jsx("td",{className:"p-2 text-right text-white/90",children:Te.quantity||Te.qty||0}),e.jsx("td",{className:"p-2 text-right text-white/90",children:(()=>{const Pe=Te.pricingMode||"LEGACY",eA=Number(Te.basePrice||0),Oe=Number(Te.mrp||0),aA=Number(Te.sellingPrice||Te.price||Te.unitPrice||0),qe=Number(Te.gstRate||Te.taxRate||0);let uA=eA;if(Pe==="SELLING_PRICE")aA>0&&qe>0?uA=nt(aA,qe).base:uA=aA;else if(Pe==="MRP_INCLUSIVE"){const LA=Oe>0?Oe:aA;LA>0&&qe>0?uA=nt(LA,qe).base:uA=LA}else uA||(Pe==="BASE_PLUS_TAX"?uA=eA||aA:aA>0&&qe>0?uA=nt(aA,qe).base:uA=aA);return`${uA.toFixed(2)}`})()}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1 text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:mA===0?"":String(mA),onChange:Pe=>Ee(Re,"itemDiscountPct",Pe.target.value),onFocus:Pe=>Pe.target.select(),placeholder:"0",min:"0",max:"100",disabled:je})}),e.jsx("td",{className:"p-2 text-right",children:e.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1 text-right [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:ae,onChange:Pe=>Ee(Re,"gstRate",Pe.target.value),onFocus:Pe=>Pe.target.select(),placeholder:"0",min:"0",max:"28",disabled:je})})]},Re)})})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Order-level Charges & Discount"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Delivery"}),e.jsx("input",{type:"number",className:"w-full rounded bg-white/10 text-white px-2 py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:Ne.delivery!==void 0?Ne.delivery:J?.delivery===0?"":String(J?.delivery||""),onChange:Te=>te("delivery",Te.target.value),onFocus:Te=>Te.target.select(),placeholder:"0",min:"0",disabled:je})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Packing"}),e.jsx("input",{type:"number",className:"w-full rounded bg-white/10 text-white px-2 py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:Ne.packing!==void 0?Ne.packing:J?.packing===0?"":String(J?.packing||""),onChange:Te=>te("packing",Te.target.value),onFocus:Te=>Te.target.select(),placeholder:"0",min:"0",disabled:je})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Insurance"}),e.jsx("input",{type:"number",className:"w-full rounded bg-white/10 text-white px-2 py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:Ne.insurance!==void 0?Ne.insurance:J?.insurance===0?"":String(J?.insurance||""),onChange:Te=>te("insurance",Te.target.value),onFocus:Te=>Te.target.select(),placeholder:"0",min:"0",disabled:je})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Other"}),e.jsx("input",{type:"number",className:"w-full rounded bg-white/10 text-white px-2 py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:Ne.other!==void 0?Ne.other:J?.other===0?"":String(J?.other||""),onChange:Te=>te("other",Te.target.value),onFocus:Te=>Te.target.select(),placeholder:"0",min:"0",disabled:je})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Discount %"}),e.jsx("input",{type:"number",className:"w-full rounded bg-white/10 text-white px-2 py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:xe,onChange:Te=>te("discountPct",Te.target.value),onFocus:Te=>Te.target.select(),placeholder:"0",min:"0",max:"100",step:"0.01",disabled:je})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Discount "}),e.jsx("input",{type:"number",className:"w-full rounded bg-white/10 text-white px-2 py-1 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",value:le,onChange:Te=>te("discountAmt",Te.target.value),onFocus:Te=>Te.target.select(),placeholder:"0",min:"0",step:"0.01",disabled:je})]})]})]}),e.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h3",{className:"text-white font-semibold mb-3",children:"Proforma Preview"}),e.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unit Price Total"}),e.jsxs("span",{children:["",Number(V?.grossItems||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Line Discounts"}),e.jsxs("span",{children:["",Number(V?.lineDiscountTotal||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items SubTotal"}),e.jsxs("span",{children:["",Number(V?.itemsSubTotal||V?.subTotal||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Delivery"}),e.jsxs("span",{children:["",Number((W?.delivery!==void 0?W.delivery:V?.orderCharges?.delivery)||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Packing"}),e.jsxs("span",{children:["",Number((W?.packing!==void 0?W.packing:V?.orderCharges?.packing)||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Insurance"}),e.jsxs("span",{children:["",Number((W?.insurance!==void 0?W.insurance:V?.orderCharges?.insurance)||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Other"}),e.jsxs("span",{children:["",Number((W?.other!==void 0?W.other:V?.orderCharges?.other)||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Order Discount"}),e.jsxs("span",{children:["",Number(V?.discountTotal||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",Number(V?.taxableBase||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{children:jA})]}),V?.taxType==="IGST"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(V?.taxBreakup?.igst||0).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(V?.taxBreakup?.cgst||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(V?.taxBreakup?.sgst||0).toFixed(2)]})]})]}),V?.roundOff&&Number(V.roundOff)!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",Number(V.roundOff).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-white",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["",Number(V?.grandTotal||0).toFixed(2)]})]})]})]})]})]})})()]}):e.jsx(kw,{orderId:v.id,distributorId:he.currentUser?.uid,retailerId:v.retailerId,order:v,distributorState:v.distributorState,retailerState:v.retailerState,onSaved:()=>{}})]}),v.status!=="Requested"&&v.proforma&&e.jsxs("div",{className:"mt-5 rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Proforma Summary"}),e.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",Number(v.proforma.taxableBase||0).toFixed(2)]})]}),v.proforma.taxType==="IGST"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(v.proforma.taxBreakup?.igst||0).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(v.proforma.taxBreakup?.cgst||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(v.proforma.taxBreakup?.sgst||0).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",Number(v.proforma.roundOff||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-white",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["",Number(v.proforma.grandTotal||0).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx("button",{onClick:()=>ye(v),className:"px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/15 hover:bg-white/15 transition",title:"Export this order as CSV",children:"CSV"}),e.jsx("button",{onClick:()=>We(v),className:"px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/15 hover:bg-white/15 transition",title:"Export this order as Excel",children:"Excel"}),e.jsx("button",{onClick:()=>rA(v),className:"px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/15 hover:bg-white/15 transition",title:"Export this order as PDF",children:"PDF"})]}),e.jsxs("div",{className:"mt-5 flex gap-3",children:[e.jsx(iA.button,{disabled:v.status!=="Requested",onClick:()=>He(v.id,"Accepted",null,$e(v),y[v.id]),whileHover:v.status==="Requested"?{scale:1.02,y:-1}:{},whileTap:v.status==="Requested"?{scale:.98}:{},className:`rounded-xl px-6 py-2.5 font-semibold text-sm transition-all ${v.status!=="Requested"?"bg-white/10 text-white/40 cursor-not-allowed":"text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:shadow-xl hover:shadow-emerald-500/30"}`,children:"Accept"}),e.jsx(iA.button,{disabled:v.status!=="Requested",onClick:()=>Ce(v.id),whileHover:v.status==="Requested"?{scale:1.02,y:-1}:{},whileTap:v.status==="Requested"?{scale:.98}:{},className:`rounded-xl px-6 py-2.5 font-semibold text-sm transition-all ${v.status!=="Requested"?"bg-white/10 text-white/40 cursor-not-allowed":"bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-700 hover:to-pink-700 text-white shadow-lg hover:shadow-xl hover:shadow-rose-500/30"}`,children:"Reject"})]}),v.rejectionNote&&e.jsxs("p",{className:"text-sm mt-2 text-rose-300",children:[e.jsx("strong",{children:"Reason:"})," ",v.rejectionNote]})]})]},v.id))}),e.jsx(qs,{children:M&&e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(iA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:ce}),e.jsxs(iA.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative w-full max-w-lg mx-4 rounded-2xl border border-white/10 bg-gradient-to-br from-slate-900/95 to-slate-800/95 backdrop-blur-2xl text-white shadow-2xl",children:[e.jsxs("div",{className:"px-6 py-5 border-b border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold text-white mb-1.5",children:"Reject Order"}),e.jsx("p",{className:"text-sm text-white/60",children:"Please provide a reason for rejection. This will be visible to the retailer."})]}),e.jsxs("div",{className:"px-6 py-5",children:[e.jsx("div",{className:"mb-3 text-xs text-white/70 font-semibold uppercase tracking-wide",children:"Quick reasons:"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-5",children:["Out of stock","Incorrect pricing","Address mismatch","Credit overdue","Not serviceable","Duplicate request"].map(v=>e.jsx(iA.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(v),className:"px-3 py-1.5 rounded-lg border text-xs font-medium bg-white/5 border-white/20 hover:bg-white/10 hover:border-white/30 transition-all",children:v},v))}),e.jsx("label",{className:"block text-sm font-semibold mb-2 text-white/90",children:"Reason"}),e.jsx("textarea",{value:S,onChange:v=>K(v.target.value),rows:4,className:"w-full rounded-xl px-4 py-3 text-sm bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-rose-400/50 focus:border-rose-400/50 transition-all backdrop-blur-sm resize-none",placeholder:"Write the rejection reason..."})]}),e.jsxs("div",{className:"px-6 py-4 border-t border-white/10 flex justify-end gap-3 bg-white/5 rounded-b-2xl",children:[e.jsx(iA.button,{onClick:ce,whileHover:{scale:1.02},whileTap:{scale:.98},className:"px-5 py-2.5 text-sm font-semibold rounded-xl border bg-white/10 border-white/20 hover:bg-white/15 transition-all",children:"Cancel"}),e.jsx(iA.button,{onClick:Be,disabled:!S.trim(),whileHover:S.trim()?{scale:1.02}:{},whileTap:S.trim()?{scale:.98}:{},className:`px-5 py-2.5 text-sm font-semibold rounded-xl transition-all ${S.trim()?"bg-gradient-to-r from-rose-600 to-pink-600 hover:from-rose-700 hover:to-pink-700 text-white shadow-lg shadow-rose-500/25":"bg-white/10 text-white/40 cursor-not-allowed"}`,children:"Confirm Reject"})]})]})]})})]})},Kw=()=>{const[A,a]=P.useState([]),[i,l]=P.useState("All"),[p,f]=P.useState(new Set),[x,E]=P.useState([]),[u,j]=P.useState(new Set),o=Fr(),B=vs(),h=F=>{try{return new Date(F).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},b=F=>F.stockAvailable===void 0||F.stockAvailable===null?{isOverstock:!1,message:""}:Number(F.quantity)>Number(F.stockAvailable)?{isOverstock:!0,message:`Only ${F.stockAvailable} in stock`}:{isOverstock:!1,message:""},w=(F,C,M)=>{const R=M.pricingMode||"LEGACY",S=Number(M.basePrice||0),K=Number(M.mrp||0),Z=Number(M.sellingPrice||M.price||M.unitPrice||0),de=Number(M.gstRate||M.taxRate||0),se=Array.isArray(F?.proforma?.lines)?F.proforma.lines[C]:void 0,me=se?.gstRate!==void 0?Number(se.gstRate):de;return R==="MRP_INCLUSIVE"?K>0&&me>0?nt(K,me).base:K||Z:R==="SELLING_PRICE"?Z>0&&me>0?nt(Z,me).base:Z:R==="BASE_PLUS_TAX"?S>0?S:Z>0&&me>0?nt(Z,me).base:Z:S||Z},T=(F,C,M)=>{if(Array.isArray(F?.proforma?.lines)){const S=F.proforma.lines[C];if(S&&S.price!=null)return Number(S.price)||0}const R=Number(M.sellingPrice||M.price||0);return R>0?R:Number(M.price)||0},I=(F,C,M)=>{if(Array.isArray(F?.proforma?.lines)){const K=F.proforma.lines[C];if(K&&K.gross!=null)return Number(K.gross)||0}const R=Number(M?.quantity)||0,S=T(F,C,M);return R*S},N=F=>{if(F?.proforma&&F.proforma.lines&&Array.isArray(F.proforma.lines)&&F.proforma.lines.length>0)return{grossItems:Number(F.proforma.grossItems||0),lineDiscountTotal:Number(F.proforma.lineDiscountTotal||0),itemsSubTotal:Number(F.proforma.itemsSubTotal||F.proforma.subTotal||0),orderCharges:{delivery:Number(F.proforma.orderCharges?.delivery??0),packing:Number(F.proforma.orderCharges?.packing??0),insurance:Number(F.proforma.orderCharges?.insurance??0),other:Number(F.proforma.orderCharges?.other??0)},discountTotal:Number(F.proforma.discountTotal||0),taxableBase:Number(F.proforma.taxableBase||0),taxType:F.proforma.taxType||"CGST_SGST",taxBreakup:F.proforma.taxBreakup||{},roundOff:Number(F.proforma.roundOff||0),grandTotal:Number(F.proforma.grandTotal||0)};const C=F?.chargesSnapshot?.breakdown;if(C)return{grossItems:Number(C.grossItems||0),lineDiscountTotal:Number(C.lineDiscountTotal||0),itemsSubTotal:Number(C.itemsSubTotal||C.subTotal||0),orderCharges:{delivery:Number(C.delivery||0),packing:Number(C.packing||0),insurance:Number(C.insurance||0),other:Number(C.other||0)},discountTotal:Number(C.discountTotal||0),taxableBase:Number(C.taxableBase||0),taxType:C.taxType||"CGST_SGST",taxBreakup:C.taxBreakup||{},roundOff:Number(C.roundOff||0),grandTotal:Number(C.grandTotal||0)};const M=Array.isArray(F?.items)?F.items:[],R=Array.isArray(F?.proforma?.lines)?F.proforma.lines:null,S=M.map((de,se)=>{if(R&&R[se]){const me=R[se];return{qty:Number(me.qty??de.quantity??de.qty??0),price:Number(me.price??de.sellingPrice??de.price??de.unitPrice??0),itemDiscountPct:Number(me.itemDiscountPct??0),itemDiscountAmt:Number(me.itemDiscountAmt??0),itemDiscountChangedBy:me.itemDiscountChangedBy||(me.itemDiscountAmt>0?"amt":"pct"),gstRate:Number(me.gstRate??de.gstRate??de.taxRate??0)}}return{qty:Number(de.quantity??de.qty??0),price:Number(de.sellingPrice??de.price??de.unitPrice??0),itemDiscountPct:Number(de.itemDiscountPct??0),itemDiscountAmt:Number(de.itemDiscountAmt??0),itemDiscountChangedBy:de.itemDiscountChangedBy||(de.itemDiscountAmt>0?"amt":"pct"),gstRate:Number(de.gstRate??de.taxRate??0)}}),K={delivery:Number(F?.chargesSnapshot?.breakdown?.delivery??F?.proforma?.orderCharges?.delivery??F?.delivery??0),packing:Number(F?.chargesSnapshot?.breakdown?.packing??F?.proforma?.orderCharges?.packing??F?.packing??0),insurance:Number(F?.chargesSnapshot?.breakdown?.insurance??F?.proforma?.orderCharges?.insurance??F?.insurance??0),other:Number(F?.chargesSnapshot?.breakdown?.other??F?.proforma?.orderCharges?.other??F?.other??0),discountPct:Number(F?.chargesSnapshot?.breakdown?.discountPct??F?.proforma?.orderCharges?.discountPct??F?.orderDiscountPct??0),discountAmt:Number(F?.chargesSnapshot?.breakdown?.discountAmt??F?.proforma?.orderCharges?.discountAmt??F?.orderDiscountAmt??0),discountChangedBy:F?.chargesSnapshot?.breakdown?.discountChangedBy??F?.proforma?.orderCharges?.discountChangedBy??(F?.orderDiscountAmt?"amt":"pct")},Z=Zs({lines:S,orderCharges:K,distributorState:F?.distributorState,retailerState:F?.retailerState||F?.state,roundingEnabled:!!F?.chargesSnapshot?.defaultsUsed?.roundEnabled,rounding:(F?.chargesSnapshot?.defaultsUsed?.roundRule||"nearest").toUpperCase()});return{grossItems:Z.grossItems,lineDiscountTotal:Z.lineDiscountTotal,itemsSubTotal:Z.itemsSubTotal??Z.subTotal,orderCharges:{delivery:Number(K.delivery||0),packing:Number(K.packing||0),insurance:Number(K.insurance||0),other:Number(K.other||0)},discountTotal:Number(Z.discountTotal||0),taxableBase:Number(Z.taxableBase||0),taxType:Z.taxType||"CGST_SGST",taxBreakup:Z.taxBreakup||{},roundOff:Number(Z.roundOff||0),grandTotal:Number(Z.grandTotal||0)}},Q=async(F,C)=>{const M=B.currentUser;if(!M)return;const R=oA(o,"businesses",M.uid,"orderRequests",F);await yA(R,{expectedDeliveryDate:C||""})},m=async(F,C)=>{const M=B.currentUser;if(!M)return;const R=oA(o,"businesses",M.uid,"orderRequests",F);await yA(R,{deliveryMode:C||""})},y=async(F,C,M)=>{const R=B.currentUser;if(!R)return;const S=oA(o,"businesses",R.uid,"orderRequests",F);a(K=>K.map(Z=>Z.id===F?{...Z,deliveryDetails:{...Z.deliveryDetails||{},[C]:M}}:Z));try{await yA(S,{[`deliveryDetails.${C}`]:M||null,lastUpdated:UA()});const K=A.find(Z=>Z.id===F);if(K?.retailerId){const Z=oA(o,"businesses",K.retailerId,"sentOrders",F);await yA(Z,{[`deliveryDetails.${C}`]:M||null,lastUpdated:UA()}).catch(console.error)}}catch(K){console.error("Failed to update delivery field:",K),tA.error("Failed to save delivery details"),a(Z=>Z.map(de=>de.id===F&&A.find(se=>se.id===F)||de))}},D=F=>{j(C=>{const M=new Set(C);return M.has(F)?M.delete(F):M.add(F),M})},H=(F,C,M,R)=>{a(S=>S.map(K=>{if(K.id!==F)return K;const Z=[...K.items||[]];return Z[C]={...Z[C],[M]:R},{...K,items:Z}}))},$=(F,C)=>{a(M=>M.map(R=>{if(R.id!==F)return R;const S=(R.items||[]).filter((K,Z)=>Z!==C);return{...R,items:S}}))},z=async F=>{const C=B.currentUser;if(!C)return;const M=A.find(Z=>Z.id===F);if(!M)return;const R=cr(),S=!!R,K=S?{type:"employee",employeeId:R.employeeId,flypEmployeeId:R.flypEmployeeId||R.employeeId,name:R.name||null,role:R.role||null,uid:lt.currentUser?.uid||C.uid}:null;if(await Fm({db:o,auth:B,distributorId:C.uid,orderId:F,items:M.items,deliveryMode:M.deliveryMode,expectedDeliveryDate:M.expectedDeliveryDate,paymentMode:M.payment||M.paymentMode}),S&&K)try{const Z=oA(o,"businesses",C.uid,"orderRequests",F);await yA(Z,{"handledBy.modifiedBy":{...K,uid:K.uid,type:"employee"},employeeActivity:KA({action:"modified",employeeId:K.employeeId,flypEmployeeId:K.flypEmployeeId,employeeName:K.name,employeeRole:K.role,at:new Date().toISOString()})})}catch(Z){console.warn("Failed to log employee activity for order modification:",Z)}typeof tA=="function"&&tA.success("Changes saved")},ie=async F=>{const C=B.currentUser;if(!C)return;const M=A.find(Z=>Z.id===F);if(!M)return;const R=cr(),S=!!R,K=S?{type:"employee",employeeId:R.employeeId,flypEmployeeId:R.flypEmployeeId||R.employeeId,name:R.name||null,role:R.role||null,uid:lt.currentUser?.uid||C.uid}:null;if(a(Z=>Z.map(de=>de.id===F?{...de,deliveryDateError:!de.expectedDeliveryDate,deliveryModeError:!de.deliveryMode}:de)),!(!M.expectedDeliveryDate||!M.deliveryMode)){f(Z=>new Set(Z).add(F));try{if(await Nm({db:o,auth:B,distributorId:C.uid,orderId:F,expectedDeliveryDate:M.expectedDeliveryDate,deliveryMode:M.deliveryMode,courier:M.courier||null,awb:M.awb||null}),S&&K)try{const Z=oA(o,"businesses",C.uid,"orderRequests",F);await yA(Z,{"handledBy.shippedBy":{...K,uid:K.uid,type:"employee"},employeeActivity:KA({action:"shipped",employeeId:K.employeeId,flypEmployeeId:K.flypEmployeeId,employeeName:K.name,employeeRole:K.role,deliveryMode:M.deliveryMode,expectedDeliveryDate:M.expectedDeliveryDate,at:new Date().toISOString()})})}catch(Z){console.warn("Failed to log employee activity for shipping:",Z)}a(Z=>Z.filter(de=>de.id!==F)),typeof tA=="function"&&tA.success("Order marked as Shipped  Track Orders")}catch(Z){console.error("shipOrder failed:",Z),typeof tA=="function"&&tA.error(Z.message||"Failed to mark as Shipped.")}finally{f(Z=>{const de=new Set(Z);return de.delete(F),de})}}};P.useEffect(()=>{const F=B.currentUser;if(!F)return;const C=OA(o,"businesses",F.uid,"distributorEmployees"),M=Dt(C,R=>{const S=R.docs.map(K=>({id:K.id,...K.data()}));E(S)});return()=>M()},[]),P.useEffect(()=>{const F=B.currentUser;if(!F)return;const C=OA(o,"businesses",F.uid,"orderRequests"),M=Bs(C,ws("statusCode","in",["ACCEPTED","MODIFIED","PACKED"])),R=Bs(C,ws("status","in",["Accepted","Modified","Packed"])),S=new Map,K=async se=>{const me=se.data()||{},Ie=typeof me.retailerId=="string"&&me.retailerId.trim().length?me.retailerId.trim():null;let De={};if(Ie)try{const $e=oA(o,"businesses",Ie),fA=await GA($e);fA.exists()&&(De=fA.data()||{})}catch{}else me.retailerInfo&&(De={businessName:me.retailerInfo.name||me.retailerInfo.businessName,ownerName:me.retailerInfo.ownerName||null,email:me.retailerInfo.email||null,phone:me.retailerInfo.phone||null,city:me.retailerInfo.city||null,state:me.retailerInfo.state||null,address:me.retailerInfo.address||null});const Xe=Array.isArray(me.items)?me.items:[],AA=await Promise.all(Xe.map(async($e,fA)=>{const ze=Array.isArray(me.proforma?.lines)?me.proforma.lines[fA]:void 0;let lA={...$e};const cA=typeof $e.distributorProductId=="string"&&$e.distributorProductId.trim()||typeof $e.productId=="string"&&$e.productId.trim()||null;if(!ze&&cA)try{const ke=oA(o,"businesses",F.uid,"products",cA),nA=await GA(ke);if(nA.exists()){const Me=nA.data()||{};lA={...lA,stockAvailable:Me.quantity??Me.stockAvailable,price:Me.sellingPrice||Me.price||lA.price||0,sku:Me.sku||lA.sku||"",unit:Me.unit||lA.unit||""}}}catch{}return ze&&(lA={...lA,price:Number(ze.price??lA.price??0),proformaGross:Number(ze.gross??0),gstRate:Number(ze.gstRate??lA.gstRate??0)}),lA}));return{id:se.id,...me,items:AA,retailerName:De.businessName||De.ownerName||me.retailerName||"N/A",retailerEmail:De.email||me.retailerEmail||me.retailerInfo?.email||"N/A"}},Z=Dt(M,async se=>{(await Promise.all(se.docs.map(K))).forEach(Ie=>S.set(Ie.id,Ie)),a(Array.from(S.values()))}),de=Dt(R,async se=>{(await Promise.all(se.docs.map(K))).forEach(Ie=>S.set(Ie.id,Ie)),a(Array.from(S.values()))});return()=>{Z(),de()}},[]);const re=P.useMemo(()=>A.filter(F=>{if(i==="All")return!0;if(i==="Modified")return F.status==="Modified";const C=kt(F.statusCode||F.status),M=kt(i);return C&&M&&C===M}),[A,i]);return e.jsxs("div",{className:"space-y-6 text-white",children:[e.jsx("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl p-1.5",children:e.jsx("div",{className:"flex gap-2 flex-wrap",children:["All","Accepted","Packed","Modified"].map(F=>{const C=i===F;return e.jsx(iA.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-5 py-2.5 rounded-xl text-sm font-semibold border transition-all duration-200 ${C?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white border-transparent shadow-lg shadow-emerald-500/30":"bg-transparent text-white/70 border-white/10 hover:bg-white/5 hover:border-white/20 hover:text-white"}`,onClick:()=>l(F),children:F},F)})})}),re.map((F,C)=>{const M=F.status||(F.statusCode?F.statusCode.charAt(0)+F.statusCode.slice(1).toLowerCase():"N/A"),R=jm(F.paymentMode||F.payment);return e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:C*.03,duration:.3,type:"spring",stiffness:100,damping:15},className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl hover:shadow-2xl hover:border-white/20 transition-all duration-300 p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-5",children:[e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("h3",{className:"font-bold text-2xl text-white",children:["Retailer: ",F.retailerName]}),e.jsxs("p",{className:"text-sm text-white/60 font-medium",children:["Order ID: ",e.jsx("span",{className:"font-mono text-white/80",children:F.id})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("span",{className:`px-4 py-2.5 rounded-xl text-xs font-bold border shadow-md ${F.statusCode==="ACCEPTED"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/30":F.statusCode==="MODIFIED"?"bg-amber-500/20 text-amber-300 border-amber-500/30":F.statusCode==="PACKED"?"bg-sky-500/20 text-sky-300 border-sky-500/30":"bg-white/10 text-white/80 border-white/20"}`,children:M})})]}),e.jsxs("div",{className:"mb-5 flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[e.jsxs("p",{className:"text-white/70 font-medium",children:["Email: ",e.jsx("span",{className:"text-white/90",children:F.retailerEmail})]}),F.status==="Modified"?e.jsxs("label",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"font-semibold text-white/90",children:"Payment Mode:"}),e.jsxs("select",{value:Qm(F.payment||F.paymentMode)||"",onChange:S=>a(K=>K.map(Z=>Z.id===F.id?{...Z,paymentMode:S.target.value}:Z)),className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm min-w-[200px]",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"COD",children:"Cash on Delivery (COD)"}),e.jsx("option",{value:"SPLIT",children:"Split Payment (50/50 or custom %)"}),e.jsx("option",{value:"ADVANCE",children:"Advance Payment"}),e.jsx("option",{value:"END_OF_MONTH",children:"End of Month"}),e.jsx("option",{value:"CREDIT_CYCLE",children:"Credit Cycle (15/30 days)"}),e.jsx("option",{value:"UPI",children:"UPI"}),e.jsx("option",{value:"NET_BANKING",children:"Net Banking"}),e.jsx("option",{value:"CHEQUE",children:"Cheque"}),e.jsx("option",{value:"OTHER",children:"Other"})]})]}):e.jsxs("p",{className:"text-white/70",children:[e.jsx("span",{className:"font-medium",children:"Payment Mode:"})," ",R]})]}),e.jsxs("p",{className:"mt-1 text-white/60 text-sm",children:["Requested On:"," ",F.timestamp?.seconds?h(F.timestamp.seconds*1e3):"N/A"]}),e.jsxs("div",{className:"mt-5 border border-white/10 rounded-xl overflow-hidden bg-white/5 backdrop-blur-sm",children:[e.jsxs("div",{className:"grid grid-cols-12 font-semibold bg-white/10 border-b border-white/10 px-4 py-3 text-white text-sm",children:[e.jsx("div",{children:"Name"}),e.jsx("div",{children:"Brand"}),e.jsx("div",{children:"Category"}),e.jsx("div",{className:"text-right",children:"Qty"}),e.jsx("div",{children:"Unit"}),e.jsx("div",{className:"text-right",children:"Base Price"}),e.jsx("div",{className:"text-right",children:"MRP"}),e.jsx("div",{className:"text-right",children:"Selling Price"}),e.jsx("div",{className:"text-right",children:"GST %"}),e.jsx("div",{children:"Actions"}),e.jsx("div",{className:"text-right",children:"Price"}),e.jsx("div",{className:"text-right",children:"Subtotal"})]}),(F.items||[]).map((S,K)=>{const{isOverstock:Z,message:de}=b(S),se=w(F,K,S),me=Number(S.mrp||0),Ie=T(F,K,S),De=Number(S.gstRate||S.taxRate||0),Xe=Array.isArray(F?.proforma?.lines)?F.proforma.lines[K]:void 0,AA=Xe?.gstRate!==void 0?Number(Xe.gstRate):De;return e.jsx("div",{className:"grid grid-cols-12 border-t border-white/10 px-4 py-2 text-sm items-center gap-2 hover:bg-white/5 transition",children:F.status==="Modified"?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:S.productName,onChange:$e=>H(F.id,K,"productName",$e.target.value)}),e.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:S.brand||"",onChange:$e=>H(F.id,K,"brand",$e.target.value)}),e.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:S.category||"",onChange:$e=>H(F.id,K,"category",$e.target.value)}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("input",{className:`rounded px-2 py-1 bg-white/10 border ${Z?"border-rose-500":"border-white/20"} text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition text-right`,type:"number",value:S.quantity,onChange:$e=>H(F.id,K,"quantity",parseInt($e.target.value))}),Z&&e.jsx("span",{className:"text-xs text-rose-300",children:de})]}),e.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:S.unit||"",onChange:$e=>H(F.id,K,"unit",$e.target.value)}),e.jsxs("div",{className:"text-right text-white/90",children:["",se.toFixed(2)]}),e.jsx("div",{className:"text-right text-white/90",children:me>0?`${me.toFixed(2)}`:""}),e.jsxs("div",{className:"text-right text-white/90",children:["",Ie.toFixed(2)]}),e.jsx("div",{className:"text-right text-white/90",children:AA>0?`${AA}%`:""}),e.jsx("button",{onClick:()=>$(F.id,K),className:"text-rose-300 font-semibold px-2 py-1 rounded hover:bg-white/10 transition",title:"Delete Item",type:"button",children:"Delete"}),e.jsxs("div",{className:"text-right text-white/90",children:["",Ie.toFixed(2)]}),e.jsxs("div",{className:"text-right text-white/90",children:["",I(F,K,S).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{children:S.productName}),e.jsx("div",{children:S.brand||"N/A"}),e.jsx("div",{children:S.category||"N/A"}),e.jsxs("div",{className:"text-right",children:[S.quantity,S.stockAvailable!==void 0&&Number(S.quantity)>Number(S.stockAvailable)&&e.jsx("span",{className:"text-rose-300 text-xs ml-1",children:"Out of Stock"})]}),e.jsx("div",{children:S.unit||"N/A"}),e.jsxs("div",{className:"text-right text-white/90",children:["",se.toFixed(2)]}),e.jsx("div",{className:"text-right text-white/90",children:me>0?`${me.toFixed(2)}`:""}),e.jsxs("div",{className:"text-right text-white/90",children:["",Ie.toFixed(2)]}),e.jsx("div",{className:"text-right text-white/90",children:AA>0?`${AA}%`:""}),e.jsx("div",{}),e.jsxs("div",{className:"text-right text-white/90",children:["",Ie.toFixed(2)]}),e.jsxs("div",{className:"text-right text-white/90",children:["",I(F,K,S).toFixed(2)]})]})},K)}),F?.proforma?.grandTotal!=null&&e.jsxs("div",{className:"flex justify-end px-4 py-2 border-t border-white/10 text-sm font-semibold",children:[e.jsx("span",{className:"mr-2 text-white/80",children:"Grand Total:"}),e.jsxs("span",{children:["",Number(F.proforma.grandTotal||0).toFixed(2)]})]})]}),(()=>{const S=N(F),K=F.distributorState||"Maharashtra",Z=F.retailerState||F.state||K,de=S.taxType==="IGST"?`IGST (Interstate: ${K}  ${Z})`:`CGST + SGST (Intrastate: ${K}  ${Z})`;return e.jsxs("div",{className:"mt-5 rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl p-5 shadow-lg",children:[e.jsx("h4",{className:"font-bold text-lg mb-4 text-white",children:"Proforma Breakdown"}),e.jsxs("div",{className:"space-y-1 text-sm text-white/80",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unit Price Total"}),e.jsxs("span",{children:["",S.grossItems.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Line Discounts"}),e.jsxs("span",{children:["",S.lineDiscountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items SubTotal"}),e.jsxs("span",{children:["",S.itemsSubTotal.toFixed(2)]})]}),S.orderCharges.delivery>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Delivery"}),e.jsxs("span",{children:["",S.orderCharges.delivery.toFixed(2)]})]}),S.orderCharges.packing>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Packing"}),e.jsxs("span",{children:["",S.orderCharges.packing.toFixed(2)]})]}),S.orderCharges.insurance>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Insurance"}),e.jsxs("span",{children:["",S.orderCharges.insurance.toFixed(2)]})]}),S.orderCharges.other>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Other"}),e.jsxs("span",{children:["",S.orderCharges.other.toFixed(2)]})]}),S.discountTotal>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Order Discount"}),e.jsxs("span",{children:["",S.discountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",S.taxableBase.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{className:"text-xs",children:de})]}),S.taxType==="IGST"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(S.taxBreakup?.igst||0).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(S.taxBreakup?.cgst||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(S.taxBreakup?.sgst||0).toFixed(2)]})]})]}),S.roundOff!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",S.roundOff.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-white border-t border-white/20 pt-1 mt-1",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["",S.grandTotal.toFixed(2)]})]})]})]})})(),e.jsxs("div",{className:"mt-6 rounded-xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl p-5 shadow-lg",children:[e.jsxs(iA.button,{type:"button",onClick:()=>D(F.id),whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full flex items-center justify-between font-bold text-lg text-white mb-3 hover:text-emerald-300 transition-colors",children:[e.jsxs("span",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:""}),e.jsx("span",{children:"Delivery Tracking & Logistics"})]}),e.jsx("span",{className:"text-white/60 text-xl transition-transform",children:u.has(F.id)?"":""})]}),u.has(F.id)&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Delivery Person Type"}),e.jsxs("select",{value:F?.deliveryDetails?.personType||"",onChange:S=>y(F.id,"personType",S.target.value),className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"employee",children:"Employee"}),e.jsx("option",{value:"external",children:"External Person"}),e.jsx("option",{value:"third-party",children:"Third Party Service"})]})]}),(F?.deliveryDetails?.personType==="employee"||!F?.deliveryDetails?.personType)&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Select Employee"}),e.jsxs("select",{value:F?.deliveryDetails?.employeeId||"",onChange:S=>{const K=x.find(Z=>Z.id===S.target.value);y(F.id,"employeeId",S.target.value),K&&(y(F.id,"personName",K.name||""),y(F.id,"personPhone",K.phone||""),y(F.id,"personDesignation",K.designation||K.role||""))},className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"",children:"Select Employee"}),x.map(S=>e.jsxs("option",{value:S.id,children:[S.name||S.flypEmployeeId||S.id," ",S.phone?`- ${S.phone}`:""]},S.id))]})]}),F?.deliveryDetails?.personType==="external"&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Person Name"}),e.jsx("input",{type:"text",value:F?.deliveryDetails?.personName||"",onChange:S=>y(F.id,"personName",S.target.value),placeholder:"Enter person name",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),(F?.deliveryDetails?.personType==="external"||F?.deliveryDetails?.personType==="third-party")&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Contact Number"}),e.jsx("input",{type:"tel",value:F?.deliveryDetails?.personPhone||"",onChange:S=>y(F.id,"personPhone",S.target.value),placeholder:"Enter contact number",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),F?.deliveryDetails?.personType&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Designation / Role"}),e.jsx("input",{type:"text",value:F?.deliveryDetails?.personDesignation||"",onChange:S=>y(F.id,"personDesignation",S.target.value),placeholder:"Driver, Delivery Boy, etc.",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Vehicle Type"}),e.jsxs("select",{value:F?.deliveryDetails?.vehicleType||"",onChange:S=>y(F.id,"vehicleType",S.target.value),className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"",children:"Select Vehicle"}),e.jsx("option",{value:"car",children:"Car"}),e.jsx("option",{value:"jeep",children:"Jeep"}),e.jsx("option",{value:"van",children:"Van"}),e.jsx("option",{value:"truck",children:"Truck"}),e.jsx("option",{value:"motorcycle",children:"Motorcycle"}),e.jsx("option",{value:"auto",children:"Auto Rickshaw"}),e.jsx("option",{value:"bicycle",children:"Bicycle"}),e.jsx("option",{value:"e-rickshaw",children:"E-Rickshaw"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Vehicle Number"}),e.jsx("input",{type:"text",value:F?.deliveryDetails?.vehicleNumber||"",onChange:S=>y(F.id,"vehicleNumber",S.target.value.toUpperCase()),placeholder:"MH-12-AB-1234",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Transport Method"}),e.jsxs("select",{value:F?.deliveryDetails?.transportMethod||"",onChange:S=>y(F.id,"transportMethod",S.target.value),className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"",children:"Select Method"}),e.jsx("option",{value:"by-distributor",children:"By Distributor (Own Vehicle)"}),e.jsx("option",{value:"transport",children:"Transport Service"}),e.jsx("option",{value:"bus",children:"Bus Service"}),e.jsx("option",{value:"courier",children:"Courier Service"}),e.jsx("option",{value:"shiprocket",children:"Shiprocket"}),e.jsx("option",{value:"delhivery",children:"Delhivery"}),e.jsx("option",{value:"bluedart",children:"Blue Dart"}),e.jsx("option",{value:"dtdc",children:"DTDC"}),e.jsx("option",{value:"fedex",children:"FedEx"}),e.jsx("option",{value:"other",children:"Other"})]})]}),["transport","bus","other"].includes(F?.deliveryDetails?.transportMethod)&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Transport Service Name"}),e.jsx("input",{type:"text",value:F?.deliveryDetails?.transportServiceName||"",onChange:S=>y(F.id,"transportServiceName",S.target.value),placeholder:"Enter transport service name",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),["courier","shiprocket","delhivery","bluedart","dtdc","fedex"].includes(F?.deliveryDetails?.transportMethod)&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"AWB / Tracking Number"}),e.jsx("input",{type:"text",value:F?.deliveryDetails?.awbNumber||F?.awb||"",onChange:S=>{y(F.id,"awbNumber",S.target.value);const K=oA(o,"businesses",B.currentUser?.uid,"orderRequests",F.id);yA(K,{awb:S.target.value||null}).catch(console.error)},placeholder:"Enter AWB/Tracking number",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),F?.deliveryDetails?.transportMethod==="courier"&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Courier Service"}),e.jsx("input",{type:"text",value:F?.courier||F?.deliveryDetails?.courierName||"",onChange:S=>{y(F.id,"courierName",S.target.value);const K=oA(o,"businesses",B.currentUser?.uid,"orderRequests",F.id);yA(K,{courier:S.target.value||null}).catch(console.error)},placeholder:"Enter courier service name",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Expected Delivery Date"}),e.jsx("input",{type:"date",value:F?.expectedDeliveryDate||F?.deliveryDetails?.expectedDeliveryDate||"",onChange:S=>{Q(F.id,S.target.value),y(F.id,"expectedDeliveryDate",S.target.value),a(K=>K.map(Z=>Z.id===F.id?{...Z,expectedDeliveryDate:S.target.value}:Z))},className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Delivery Mode"}),e.jsxs("select",{value:F?.deliveryMode||F?.deliveryDetails?.deliveryMode||"",onChange:S=>{m(F.id,S.target.value),y(F.id,"deliveryMode",S.target.value),a(K=>K.map(Z=>Z.id===F.id?{...Z,deliveryMode:S.target.value}:Z))},className:"rounded-xl px-4 py-2.5 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"",children:"Select"}),e.jsx("option",{value:"By Distributor",children:"By Distributor"}),e.jsx("option",{value:"Shiprocket",children:"Shiprocket"}),e.jsx("option",{value:"Delhivery",children:"Delhivery"}),e.jsx("option",{value:"Other",children:"Other"})]})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Delivery Notes / Special Instructions"}),e.jsx("textarea",{value:F?.deliveryDetails?.deliveryNotes||"",onChange:S=>y(F.id,"deliveryNotes",S.target.value),placeholder:"Enter any special instructions, delivery address details, landmark, etc.",rows:3,className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition resize-none"})]}),F?.deliveryDetails&&Object.keys(F.deliveryDetails).length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[e.jsx("h5",{className:"text-sm font-semibold text-white/90 mb-2",children:"Delivery Summary:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-white/70",children:[F.deliveryDetails.personName&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Person:"})," ",F.deliveryDetails.personName]}),F.deliveryDetails.vehicleType&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",F.deliveryDetails.vehicleType]}),F.deliveryDetails.vehicleNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vehicle No:"})," ",F.deliveryDetails.vehicleNumber]}),F.deliveryDetails.transportMethod&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Method:"})," ",F.deliveryDetails.transportMethod.replace(/-/g," ")]}),F.deliveryDetails.awbNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"AWB:"})," ",F.deliveryDetails.awbNumber]})]})]})]})]}),(F.deliveryDateError||F.deliveryModeError)&&e.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-rose-500/10 border border-rose-500/20",children:[F.deliveryDateError&&e.jsxs("p",{className:"text-rose-300 text-sm font-medium flex items-center gap-2",children:[e.jsx("span",{children:""})," Please select a valid delivery date."]}),F.deliveryModeError&&e.jsxs("p",{className:"text-rose-300 text-sm font-medium flex items-center gap-2",children:[e.jsx("span",{children:""})," Please select a delivery mode."]})]}),e.jsxs("div",{className:"mt-4 flex gap-3 flex-wrap",children:[F.status==="Modified"&&e.jsx("button",{onClick:()=>z(F.id),className:"px-4 py-2 rounded-full font-medium text-sm text-slate-900 bg-gradient-to-r from-amber-300 via-yellow-300 to-orange-300 hover:shadow-[0_8px_24px_rgba(251,191,36,0.35)] transition",children:"Save Changes"}),e.jsx("button",{onClick:()=>ie(F.id),disabled:p.has(F.id),className:`px-4 py-2 rounded-full font-medium text-sm text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] transition ${p.has(F.id)?"opacity-60 cursor-not-allowed":""}`,children:p.has(F.id)?"Shipping":"Mark as Shipped"})]})]},F.id)})]})};async function Gw(A,a,i){try{const l=await km(A);return!l||!l.enabled?{success:!1,reason:"WhatsApp not enabled"}:await Mm(A,a,i)}catch(l){return console.error("Error sending WhatsApp notification:",l),{success:!1,error:l.message}}}const Vw=hs||((A,a={})=>{const i=(A??"").toString().trim(),l=i.toUpperCase();return{code:l||null,label:i||"N/A",isCredit:/CREDIT/.test(l),isCOD:l==="COD",isUPI:l==="UPI",isNetBanking:/NET.?BANK/i.test(i),isCheque:/CHEQUE|CHECK/i.test(i),isSplit:!!a.split,creditDays:a.creditDays??void 0,advanceAmount:a.advanceAmount??void 0}}),jc=Sc,_w=({open:A,order:a,onClose:i,onConfirm:l})=>{const[p,f]=P.useState("CASH"),[x,E]=P.useState(""),[u,j]=P.useState(""),[o,B]=P.useState(""),[h,b]=P.useState(!1),w=[{code:"CASH",label:"Cash",icon:Js,color:"emerald",description:"Physical cash payment",requiresTransactionId:!1},{code:"UPI",label:"UPI",icon:Ql,color:"blue",description:"UPI, GPay, PhonePe, Paytm",requiresTransactionId:!0,placeholder:"Enter UPI Transaction ID/Reference"},{code:"NET_BANKING",label:"Net Banking",icon:Em,color:"purple",description:"Online bank transfer",requiresTransactionId:!0,placeholder:"Enter Transaction Reference Number"},{code:"CARD",label:"Card Payment",icon:Fl,color:"indigo",description:"Debit/Credit Card",requiresTransactionId:!0,placeholder:"Enter Last 4 digits or Transaction ID"},{code:"CHEQUE",label:"Cheque",icon:Fl,color:"orange",description:"Cheque payment",requiresTransactionId:!0,placeholder:"Enter Cheque Number"},{code:"WALLET",label:"Wallet",icon:Ql,color:"pink",description:"Paytm, PhonePe Wallet, etc.",requiresTransactionId:!0,placeholder:"Enter Wallet Transaction ID"}];P.useEffect(()=>{A&&(f("CASH"),E(""),j(""),B(""),b(!1))},[A]);const T=async()=>{const Q=w.find(m=>m.code===p);if(Q?.requiresTransactionId&&!x.trim()){tA.error(`Please enter ${Q.label} transaction details`);return}b(!0);try{await l({method:p,methodLabel:Q.label,transactionId:x.trim()||null,reference:u.trim()||null,notes:o.trim()||null,receivedAt:new Date().toISOString()}),i()}catch(m){console.error("Payment confirmation error:",m),tA.error("Failed to confirm payment. Please try again.")}finally{b(!1)}};if(!A||!a)return null;const N=(a.chargesSnapshot?.breakdown||a.proforma||{}).grandTotal||0;return e.jsx(qs,{children:A&&e.jsxs(iA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[e.jsx(iA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-black/70 backdrop-blur-sm",onClick:i}),e.jsxs(iA.div,{initial:{opacity:0,y:-20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},className:"relative w-full max-w-2xl bg-gradient-to-br from-slate-900/95 to-slate-950/95 border border-white/20 rounded-2xl shadow-2xl overflow-hidden backdrop-blur-xl",onClick:Q=>Q.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-1",children:"Record Payment Received"}),e.jsxs("p",{className:"text-sm text-gray-400",children:["Order: ",a.id.substring(0,12),"..."]})]}),e.jsx("button",{onClick:i,className:"p-2 rounded-lg hover:bg-white/10 text-gray-400 hover:text-white transition-colors",children:e.jsx(ai,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6 space-y-6 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"text-center p-6 bg-gradient-to-r from-emerald-500/20 via-teal-500/20 to-cyan-500/20 rounded-xl border border-emerald-500/30 shadow-lg shadow-emerald-500/10",children:[e.jsx("p",{className:"text-sm text-white/60 mb-2 font-medium",children:"Amount to be Received"}),e.jsxs("p",{className:"text-4xl font-bold text-emerald-300",children:["",N.toFixed(2)]}),e.jsxs("p",{className:"text-sm text-white/70 mt-2",children:["Retailer: ",e.jsx("span",{className:"font-semibold text-white/90",children:a.retailerName||a.retailerBusinessName||"N/A"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-3",children:"Select Payment Method"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:w.map(Q=>{const m=Q.icon,y=p===Q.code,D={emerald:y?"border-emerald-500 bg-emerald-500/20":"",blue:y?"border-blue-500 bg-blue-500/20":"",purple:y?"border-purple-500 bg-purple-500/20":"",indigo:y?"border-indigo-500 bg-indigo-500/20":"",orange:y?"border-orange-500 bg-orange-500/20":"",pink:y?"border-pink-500 bg-pink-500/20":""},H={emerald:"bg-emerald-500/20 text-emerald-400",blue:"bg-blue-500/20 text-blue-400",purple:"bg-purple-500/20 text-purple-400",indigo:"bg-indigo-500/20 text-indigo-400",orange:"bg-orange-500/20 text-orange-400",pink:"bg-pink-500/20 text-pink-400"};return e.jsx(iA.button,{onClick:()=>{f(Q.code),E(""),j("")},whileHover:{scale:1.02,y:-2},whileTap:{scale:.98},className:`p-4 rounded-xl border-2 transition-all text-left shadow-md ${y?`${D[Q.color]||"border-emerald-500 bg-emerald-500/20"} shadow-emerald-500/20`:"border-white/10 bg-white/5 hover:border-white/20 hover:bg-white/10"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`p-2 rounded-lg ${H[Q.color]||"bg-emerald-500/20 text-emerald-400"}`,children:e.jsx(m,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("div",{className:`font-semibold text-sm ${y?"text-white":"text-gray-300"}`,children:Q.label}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:Q.description})]}),y&&e.jsx(fs,{className:`w-5 h-5 ${H[Q.color]?.split(" ")[1]||"text-emerald-400"} flex-shrink-0`})]})},Q.code)})})]}),(()=>{const Q=w.find(m=>m.code===p);return Q?.requiresTransactionId?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-white mb-2",children:["Transaction ID / Reference ",Q.code==="CHEQUE"?"(Cheque Number)":""]}),e.jsx("input",{type:"text",value:x,onChange:m=>E(m.target.value),placeholder:Q.placeholder||"Enter transaction details",className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all backdrop-blur-sm"})]}),(p==="NET_BANKING"||p==="CARD")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Additional Reference (Optional)"}),e.jsx("input",{type:"text",value:u,onChange:m=>j(m.target.value),placeholder:"Bank name, card type, etc.",className:"w-full px-4 py-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-500/50 focus:border-emerald-500/50 transition-all backdrop-blur-sm"})]})]}):null})(),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Notes (Optional)"}),e.jsx("textarea",{value:o,onChange:Q=>B(Q.target.value),placeholder:"Any additional notes about this payment...",rows:3,className:"w-full px-4 py-3 rounded-lg bg-white/5 border border-white/20 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500 resize-none"})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 p-6 border-t border-white/10 bg-white/5",children:[e.jsx("button",{onClick:i,disabled:h,className:"px-6 py-3 rounded-lg border border-white/20 bg-white/5 hover:bg-white/10 text-white font-medium transition-colors disabled:opacity-50",children:"Cancel"}),e.jsx("button",{onClick:T,disabled:h,className:"px-6 py-3 rounded-lg bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-500 text-white font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(fs,{className:"w-5 h-5"}),"Confirm Payment Received"]})})]})]})]})})},Qc=A=>{if(!A)return 0;if(A instanceof Date)return A.getTime();if(typeof A=="object"&&typeof A.seconds=="number")return A.seconds*1e3;const a=new Date(A);return isNaN(a.getTime())?0:a.getTime()},Lt=A=>{try{if(!A)return{label:"N/A",normalized:null,flags:{}};const a=A.paymentFlags||{},i=A.paymentNormalized||{},l=A?.advanceAmount??A?.payment?.advanceAmount??A?.paymentSummary?.advanceAmount??void 0,p=A?.splitPayment??A?.payment?.splitPayment??A?.paymentSummary?.splitPayment??void 0,f=A?.creditDays??A?.payment?.creditDays??A?.paymentSummary?.creditDueDays??A?.payment?.creditDueDays??void 0,x=i?.code&&i.code.trim()?i.code:A?.paymentMethod&&typeof A.paymentMethod=="string"&&A.paymentMethod.trim()?A.paymentMethod:A?.payment?.code&&A.payment.code.trim()?A.payment.code:A?.payment?.type&&A.payment.type.trim()?A.payment.type:A?.paymentMode&&A.paymentMode.trim()?A.paymentMode:A?.paymentSummary?.mode&&A.paymentSummary.mode.trim()?A.paymentSummary.mode:typeof A?.payment=="string"&&A.payment.trim()?A.payment:null,E=Vw(x,{creditDays:f,advanceAmount:l,split:p});return{label:E.label&&E.label.trim()||A?.paymentMode||A?.payment?.type||A?.payment?.label||A?.paymentSummary?.mode||A?.paymentMethod||i?.label||"N/A",normalized:E,flags:{isCredit:a.isCredit??!!E.isCredit,isAdvance:a.isAdvance??!!E.isAdvance,isSplit:a.isSplit??!!E.isSplit,isCOD:a.isCOD??!!E.isCOD,isUPI:a.isUPI??!!E.isUPI,isNetBanking:a.isNetBanking??!!E.isNetBanking,isCheque:a.isCheque??!!E.isCheque}}}catch{return{label:A?.paymentMode||A?.payment?.type||A?.paymentSummary?.mode||A?.paymentMethod||"N/A",normalized:A?.paymentNormalized||null,flags:A?.paymentFlags||{}}}},Gs=A=>{try{const a=Lt(A),i=a&&a.label;return typeof i=="string"?i:i&&typeof i=="object"&&typeof i.label=="string"?i.label:A?.paymentMode||A?.payment?.type||A?.paymentSummary?.mode||A?.paymentMethod||"N/A"}catch{return"N/A"}},ri=A=>{try{const a=Lt(A);return!!(a?.flags?.isCredit||a?.normalized?.code==="CREDIT_CYCLE"||/credit/i.test(a?.label||"")||/credit/i.test(A?.paymentMethod||"")||A?.paymentFlags?.isCredit===!0)}catch{return!1}},$w=()=>{const[A,a]=P.useState([]),[i,l]=P.useState([]),[p,f]=P.useState(""),[x,E]=P.useState(""),[u,j]=P.useState("Out for Delivery"),[o,B]=P.useState("all"),[h,b]=P.useState(null),[w,T]=P.useState(null),[I,N]=P.useState(!1),[Q,m]=P.useState([]),[y,D]=P.useState(new Set),[H,$]=P.useState(null);P.useEffect(()=>{const c=()=>{const V=window.location.hash||"",k=V.indexOf("?");if(k!==-1){const pe=(new URLSearchParams(V.substring(k+1)).get("sub")||"").toLowerCase();pe==="payment-due"?j("Payment Due"):pe==="out-for-delivery"?j("Out for Delivery"):pe==="paid"||pe==="paid-orders"?j("Paid Orders"):pe==="quoted"&&j("Quoted")}};return c(),window.addEventListener("hashchange",c),()=>window.removeEventListener("hashchange",c)},[]);const z=c=>{j(c);try{const V=window.location.hash||"#/distributor-dashboard",[k,G=""]=V.split("?"),pe=new URLSearchParams(G);pe.set("tab","track-orders"),c==="Payment Due"?pe.set("sub","payment-due"):c==="Out for Delivery"?pe.set("sub","out-for-delivery"):c==="Paid Orders"?pe.set("sub","paid"):c==="Quoted"?pe.set("sub","quoted"):pe.delete("sub");const oe=`${k}?${pe.toString()}`;oe!==V&&window.history.replaceState(null,"",oe)}catch{}},ie=()=>{try{const c=window.location.hash||"#/distributor-dashboard",[V,k=""]=c.split("?"),G=new URLSearchParams(k);G.set("tab","invoices");const pe=`${V}?${G.toString()}`;pe!==c&&window.history.replaceState(null,"",pe)}catch{}},re=async c=>{const V=M.currentUser;if(!(!V||!c?.id)){N(!0),b(null),T(null);try{const k=oA(C,"businesses",V.uid,"invoices",c.id),G=await GA(k),pe=oA(C,"businesses",V.uid,"orderRequests",c.id),oe=await GA(pe),q=oe.exists()?{id:oe.id,...oe.data()}:c;if(G.exists()){const xe={id:G.id,...G.data()};b(xe),T(q)}else T(q),tA.info("Invoice not found for this order. It will be created when the order is marked as delivered.")}catch(k){console.error("[TrackOrders] Error fetching invoice:",k),tA.error("Failed to load invoice")}finally{N(!1)}}},F=()=>{b(null),T(null)},C=Fr(),M=vs(),[R,S]=P.useState({}),[K,Z]=P.useState({}),[de,se]=P.useState({}),me=P.useRef({}),Ie=c=>{l(V=>V.includes(c)?V.filter(k=>k!==c):[...V,c])},De=c=>(c||"order").toString().replace(/[^a-z0-9_-]+/gi,"_"),Xe=c=>{const V=`${De(c.retailerBusinessName||c.retailerName)}_${c.id}`;Xm(c,`${V}.csv`)},AA=c=>{const V=`${De(c.retailerBusinessName||c.retailerName)}_${c.id}`;zm(c,`${V}.xlsx`)},$e=c=>{const V=`${De(c.retailerBusinessName||c.retailerName)}_${c.id}`;hm(c,`${V}.pdf`)},fA=c=>c?.retailerMode==="passive"||c?.mode==="passive"||c?.isProvisional===!0||!!c?.provisionalRetailerId||c?.provisional===!0,ze=c=>{if(o==="all")return!0;const V=fA(c);return o==="active"?!V:o==="passive"?V:!0},lA=c=>{const V=new Date;return V.setDate(V.getDate()+Number(c||0)),V};P.useEffect(()=>{const c=Tt(M,V=>{if(!V)return;const k=OA(C,"businesses",V.uid,"orderRequests"),G=Dt(k,pe=>{const oe=pe.docs.map(q=>({id:q.id,...q.data()})).sort((q,xe)=>{const le=q.status==="Delivered"||q.statusCode==="DELIVERED",Fe=xe.status==="Delivered"||xe.statusCode==="DELIVERED";return le!==Fe?le?1:-1:Qc(xe.createdAt)-Qc(q.createdAt)});a(oe)});return()=>G()});return()=>c()},[]),P.useEffect(()=>{if(!A||A.length===0)return;Array.from(new Set(A.map(V=>V.retailerId).filter(Boolean))).forEach(V=>{if(me.current[V])return;const k=oA(C,"businesses",V),G=Dt(k,pe=>{pe.exists()&&S(oe=>({...oe,[V]:pe.data()}))});me.current[V]=G})},[A]),P.useEffect(()=>{const c=Tt(M,V=>{if(!V)return;const k=OA(C,"businesses",V.uid,"connectedRetailers"),G=Dt(k,pe=>{const oe={};pe.forEach(q=>{const xe=q.data();xe?.retailerId&&(oe[xe.retailerId]=xe)}),Z(oe)});return()=>G()});return()=>c()},[]),P.useEffect(()=>{const c=Tt(M,V=>{if(!V)return;const k=OA(C,"businesses",V.uid,"distributorEmployees"),G=Dt(k,pe=>{const oe=pe.docs.map(q=>({id:q.id,...q.data()}));m(oe)});return()=>G()});return()=>c()},[]);const cA=async(c,V,k)=>{const G=M.currentUser;if(!G)return;const pe=oA(C,"businesses",G.uid,"orderRequests",c);a(oe=>oe.map(q=>q.id===c?{...q,deliveryDetails:{...q.deliveryDetails||{},[V]:k}}:q));try{await yA(pe,{[`deliveryDetails.${V}`]:k||null,lastUpdated:UA()});const oe=A.find(q=>q.id===c);if(oe?.retailerId){const q=oA(C,"businesses",oe.retailerId,"sentOrders",c);await yA(q,{[`deliveryDetails.${V}`]:k||null,lastUpdated:UA()})}}catch(oe){console.error("Failed to update delivery field:",oe),tA.error("Failed to save delivery details"),a(q=>q.map(xe=>xe.id===c&&A.find(le=>le.id===c)||xe))}},ke=c=>{D(V=>{const k=new Set(V);return k.has(c)?k.delete(c):k.add(c),k})},nA=async c=>{const V=M.currentUser;if(!V)return;const k=cr(),G=!!k,pe=G?{type:"employee",employeeId:k.employeeId,flypEmployeeId:k.flypEmployeeId||k.employeeId,name:k.name||null,role:k.role||null,uid:lt.currentUser?.uid||V.uid}:{type:"distributor",uid:V.uid},oe=V.uid,q=oA(C,"businesses",oe,"orderRequests",c),xe=await GA(q);if(!xe.exists()){console.warn("[TrackOrders] markAsDelivered: order not found",c);return}const le=xe.data(),Fe=!!(le&&le.retailerId),Ue=Fe?oA(C,"businesses",le.retailerId,"sentOrders",c):null,jA=new Date,Te=jA.toISOString(),Re=Lt(le),dA=Re?.flags||{},mA=Re?.normalized||{},bA=mA?.creditDays??le?.creditDays??le?.payment?.creditDays??le?.paymentSummary?.creditDueDays??le?.payment?.creditDueDays??0,ae=Number(bA||0),Pe=!!dA.isCredit||mA?.isCredit||typeof le?.paymentMethod=="string"&&le.paymentMethod.toUpperCase().includes("CREDIT")||le?.paymentFlags&&le.paymentFlags.isCredit===!0,eA={...le?.paymentFlags||{},...Object.fromEntries(Object.entries(dA).filter(([,LA])=>typeof LA=="boolean"))},Oe=mA&&mA.code?{...le?.paymentNormalized||{},...mA}:le?.paymentNormalized||null,aA=Re?.label&&Re.label!=="N/A"?typeof Re.label=="string"?Re.label:Re.label.label||"N/A":le?.paymentMode||le?.payment?.type||le?.paymentSummary?.mode||le?.paymentMethod||"N/A",qe=mA&&mA.code||le?.paymentMethod||le?.paymentNormalized?.code||null;let uA={status:"Delivered",statusCode:"DELIVERED",deliveredAt:Te,"statusTimestamps.deliveredAt":UA(),timeline:KA({status:"DELIVERED",by:G?{...pe,uid:pe.uid,type:"employee"}:{uid:oe,type:"distributor"},at:Te}),handledBy:{...le?.handledBy||{},deliveredBy:G?{...pe,uid:pe.uid,type:"employee"}:{uid:oe,type:"distributor"}},auditTrail:KA({at:Te,event:"deliverOrder",by:G?{...pe,uid:pe.uid,type:"employee"}:{uid:oe,type:"distributor"}}),policyVersion:jc,paymentUi:aA,paymentMode:aA,paymentNormalized:Oe,paymentFlags:eA,...G?{employeeActivity:KA({action:"delivered",employeeId:pe.employeeId,flypEmployeeId:pe.flypEmployeeId,employeeName:pe.name,employeeRole:pe.role,at:Te})}:{}};if(qe&&(uA.paymentMethod=qe),Pe&&Number.isFinite(ae)&&ae>0){const LA=new Date(jA);LA.setDate(LA.getDate()+ae),uA.creditDueDate=LA.toISOString(),uA.creditDays=ae,uA.isPaid=!1,uA.paymentStatus||(uA.paymentStatus="Payment Due")}await yA(q,uA),Fe&&Ue&&await yA(Ue,uA);try{await Gw(oe,le,"DELIVERED")}catch(LA){console.warn("WhatsApp notification failed (non-blocking):",LA)}try{const LA=OA(C,"businesses",oe,"invoices"),er=oA(LA,c);if(!(await GA(er)).exists()){const Er=await GA(oA(C,"businesses",oe)),at=Er.exists()?Er.data():{},sA={businessId:le.retailerId||null,businessName:le.retailerBusinessName||le.retailerName||le.retailer&&le.retailer.name||null,email:le.retailerEmail||le.retailer&&le.retailer.email||null,phone:le.retailerPhone||le.retailer&&le.retailer.phone||null,city:le.city||le.retailerCity||null,state:le.state||le.retailerState||null},et={businessId:oe,businessName:at.businessName||at.ownerName||at.name||null,email:at.email||null,phone:at.phone||null,city:at.city||null,state:at.state||null,gstNumber:at.gstNumber||at.gstin||null},xA=le?.chargesSnapshot?.breakdown;let ZA={grandTotal:xA?.grandTotal?Number(xA.grandTotal):Qe(le)};if(xA)ZA={grossItems:Number(xA.grossItems||0),lineDiscountTotal:Number(xA.lineDiscountTotal||0),itemsSubTotal:Number(xA.itemsSubTotal||xA.subTotal||0),delivery:Number(xA.delivery||0),packing:Number(xA.packing||0),insurance:Number(xA.insurance||0),other:Number(xA.other||0),discountTotal:Number(xA.discountTotal||0),taxableBase:Number(xA.taxableBase||0),taxType:xA.taxType||"CGST_SGST",taxBreakup:xA.taxBreakup||{},roundOff:Number(xA.roundOff||0),grandTotal:Number(xA.grandTotal||0)};else{const FA=he(le);ZA={grossItems:FA.grossItems,lineDiscountTotal:FA.lineDiscountTotal,itemsSubTotal:FA.itemsSubTotal,delivery:FA.orderCharges.delivery,packing:FA.orderCharges.packing,insurance:FA.orderCharges.insurance,other:FA.orderCharges.other,discountTotal:FA.discountTotal,taxableBase:FA.taxableBase,taxType:FA.taxType,taxBreakup:FA.taxBreakup,roundOff:FA.roundOff,grandTotal:FA.grandTotal}}const yt=le.invoiceNumber||`INV-${(c||"").slice(-6).toUpperCase()}`,At=le?.isPaid===!0||le?.paymentStatus==="Paid"||le?.payment?.isPaid===!0,it=At&&"Paid"||le?.paymentStatus||(Pe?"Payment Due":"Pending"),$A=le.deliveryDetails||{},Kt={orderId:c,invoiceNumber:yt,distributorId:oe,retailerId:le.retailerId||null,buyer:sA,seller:et,totals:ZA,payment:{mode:aA,flags:eA,normalized:Oe,isPaid:At||uA.paymentStatus==="Paid",status:it,receivedMethod:le.paymentReceivedMethod||null,receivedMethodLabel:le.paymentReceivedMethodLabel||null,receivedTransactionId:le.paymentReceivedTransactionId||null,receivedReference:le.paymentReceivedReference||null,receivedNotes:le.paymentReceivedNotes||null,receivedAt:le.paymentReceivedAt||le.paidAt||null,receivedBy:le.handledBy?.paidBy||null},deliveryDetails:Object.keys($A).length>0?$A:null,deliveryMode:le.deliveryMode||null,expectedDeliveryDate:le.expectedDeliveryDate||null,courier:$A.courierName||le.courier||null,awb:$A.awbNumber||le.awb||null,issuedAt:Te,createdAt:UA(),status:At?"Paid":"Issued",paymentStatus:it,isPaid:At,source:"distributor-track-orders"};await jr(er,Kt,{merge:!0}),console.log("[TrackOrders] Invoice created for order",c)}}catch(LA){console.error("[TrackOrders] Failed to create invoice for delivered order",c,LA)}tA.success(" Order marked as Delivered!",{position:"top-right",autoClose:3e3,icon:""})},Me=c=>{$(c)},_=()=>{$(null)},Ce=async c=>{if(!H)return;const V=H,k=M.currentUser;if(!k)return;const G=oA(C,"businesses",k.uid,"orderRequests",V.id),pe=V.retailerId?oA(C,"businesses",V.retailerId,"sentOrders",V.id):null,q=new Date().toISOString(),xe=cr(),le=!!(xe&&lt.currentUser);let Fe={uid:k.uid,type:"distributor"};le&&lt.currentUser&&(Fe={uid:lt.currentUser.uid,type:"employee",employeeId:xe.employeeId,name:xe.name||"Employee",role:xe.role||"Employee",flypEmployeeId:xe.flypEmployeeId||null});const Ue=c.method,jA=c.methodLabel||c.method,Te={code:Ue,label:jA,isUPI:Ue==="UPI",isCash:Ue==="CASH",isCard:Ue==="CARD",isNetBanking:Ue==="NET_BANKING",isCheque:Ue==="CHEQUE",isWallet:Ue==="WALLET",transactionId:c.transactionId||null,reference:c.reference||null,notes:c.notes||null},Re={isUPI:Ue==="UPI",isCash:Ue==="CASH",isCard:Ue==="CARD",isNetBanking:Ue==="NET_BANKING",isCheque:Ue==="CHEQUE",isWallet:Ue==="WALLET",isCOD:V?.paymentMethod==="COD"||V?.paymentFlags?.isCOD||!1},dA={isPaid:!0,paymentStatus:"Paid",paidAt:q,paidAtTimestamp:UA(),"statusTimestamps.paidAt":UA(),timeline:KA({status:"PAID",by:Fe,at:q}),handledBy:{...V?.handledBy||{},paidBy:Fe},auditTrail:KA({at:q,event:"recordPayment",by:Fe,meta:{method:Ue,methodLabel:jA,transactionId:c.transactionId||null,reference:c.reference||null}}),policyVersion:jc,paymentReceivedMethod:Ue,paymentReceivedMethodLabel:jA,paymentReceivedTransactionId:c.transactionId||null,paymentReceivedReference:c.reference||null,paymentReceivedNotes:c.notes||null,paymentReceivedAt:q,paymentMethod:Ue,paymentMode:jA,paymentUi:jA,paymentNormalized:Te,paymentFlags:Re,...le&&{employeeActivity:KA({action:"payment_received",employeeId:xe.employeeId,flypEmployeeId:xe.flypEmployeeId||null,employeeName:xe.name||"Employee",employeeRole:xe.role||"Employee",at:q,meta:{paymentMethod:Ue,amount:V.chargesSnapshot?.breakdown?.grandTotal||V.proforma?.grandTotal||0}})}};try{await yA(G,dA),pe&&await yA(pe,dA);const mA=oA(C,"businesses",k.uid,"invoices",V.id),bA=await GA(mA);bA.exists()&&await yA(mA,{payment:{...bA.data().payment||{},isPaid:!0,paidAt:q,method:Ue,methodLabel:jA,transactionId:c.transactionId||null,reference:c.reference||null,notes:c.notes||null,receivedBy:Fe},paymentStatus:"Paid"}),tA.success(` Payment received via ${jA}${c.transactionId?" (ID: "+c.transactionId+")":""}`),$(null)}catch(mA){throw console.error("Error confirming payment:",mA),tA.error("Failed to confirm payment. Please try again."),mA}},ce=c=>{Me(c)},Be=c=>{const V=de[c.id];if(typeof V=="number"&&V>0)return V;const G=Lt(c)?.normalized||{};return Number(G.creditDays??c.creditDays??c.payment?.creditDays??c.paymentSummary?.creditDueDays??c.payment?.creditDueDays??15)},Je=async c=>{const V=Lt(c),k=V?.flags||{},G=k.isCOD||typeof c.paymentMethod=="string"&&c.paymentMethod.toUpperCase()==="COD",pe=k.isCredit||V?.normalized?.isCredit||typeof c.paymentMethod=="string"&&c.paymentMethod.toUpperCase().includes("CREDIT")||c.paymentFlags&&c.paymentFlags.isCredit===!0;if(G&&!c.isPaid){tA.info("For COD, please confirm 'Payment Received' first.");return}if(pe){const oe=Number(Be(c));if(!Number.isFinite(oe)||oe<=0){tA.error("Invalid credit days");return}const q=M.currentUser;if(!q)return;const xe=oA(C,"businesses",q.uid,"orderRequests",c.id);if(await yA(xe,{creditDays:oe}),c.retailerId){const le=oA(C,"businesses",c.retailerId,"sentOrders",c.id);await yA(le,{creditDays:oe})}}await nA(c.id)},ee=(c,V,k)=>{const G=k.pricingMode||"LEGACY",pe=Number(k.basePrice||0),oe=Number(k.mrp||0),q=Number(k.sellingPrice||k.price||k.unitPrice||0),xe=Number(k.gstRate||k.taxRate||0),le=Array.isArray(c?.proforma?.lines)?c.proforma.lines[V]:void 0,Fe=le?.gstRate!==void 0?Number(le.gstRate):xe;return G==="MRP_INCLUSIVE"?oe>0&&Fe>0?nt(oe,Fe).base:oe||q:G==="SELLING_PRICE"?q>0&&Fe>0?nt(q,Fe).base:q:G==="BASE_PLUS_TAX"?pe>0?pe:q>0&&Fe>0?nt(q,Fe).base:q:pe||q},ve=(c,V,k)=>{const G=Array.isArray(c?.proforma?.lines)?c.proforma.lines[V]:void 0;if(G&&G.price!=null)return Number(G.price)||0;const pe=Number(k.sellingPrice||k.price||0);return pe>0?pe:Number(k?.price)||0},ue=(c,V,k)=>{const G=Array.isArray(c?.proforma?.lines)?c.proforma.lines[V]:void 0;if(G&&G.gross!=null)return Number(G.gross)||0;const pe=Number(k?.quantity)||0,oe=ve(c,V,k);return pe*oe},Qe=c=>c?.chargesSnapshot?.breakdown?.grandTotal!=null?Number(c.chargesSnapshot.breakdown.grandTotal)||0:c?.proforma?.grandTotal!=null?Number(c.proforma.grandTotal)||0:(c.items||[]).reduce((V,k,G)=>V+ue(c,G,k),0),he=c=>{if(c?.proforma&&c.proforma.lines&&Array.isArray(c.proforma.lines)&&c.proforma.lines.length>0)return{grossItems:Number(c.proforma.grossItems||0),lineDiscountTotal:Number(c.proforma.lineDiscountTotal||0),itemsSubTotal:Number(c.proforma.itemsSubTotal||c.proforma.subTotal||0),orderCharges:{delivery:Number(c.proforma.orderCharges?.delivery??0),packing:Number(c.proforma.orderCharges?.packing??0),insurance:Number(c.proforma.orderCharges?.insurance??0),other:Number(c.proforma.orderCharges?.other??0)},discountTotal:Number(c.proforma.discountTotal||0),taxableBase:Number(c.proforma.taxableBase||0),taxType:c.proforma.taxType||"CGST_SGST",taxBreakup:c.proforma.taxBreakup||{},roundOff:Number(c.proforma.roundOff||0),grandTotal:Number(c.proforma.grandTotal||0)};const V=c?.chargesSnapshot?.breakdown;if(V)return{grossItems:Number(V.grossItems||0),lineDiscountTotal:Number(V.lineDiscountTotal||0),itemsSubTotal:Number(V.itemsSubTotal||V.subTotal||0),orderCharges:{delivery:Number(V.delivery||0),packing:Number(V.packing||0),insurance:Number(V.insurance||0),other:Number(V.other||0)},discountTotal:Number(V.discountTotal||0),taxableBase:Number(V.taxableBase||0),taxType:V.taxType||"CGST_SGST",taxBreakup:V.taxBreakup||{},roundOff:Number(V.roundOff||0),grandTotal:Number(V.grandTotal||0)};const k=Array.isArray(c?.items)?c.items:[],G=Array.isArray(c?.proforma?.lines)?c.proforma.lines:null,pe=k.map((xe,le)=>{if(G&&G[le]){const Fe=G[le];return{qty:Number(Fe.qty??xe.quantity??xe.qty??0),price:Number(Fe.price??xe.sellingPrice??xe.price??xe.unitPrice??0),itemDiscountPct:Number(Fe.itemDiscountPct??0),itemDiscountAmt:Number(Fe.itemDiscountAmt??0),itemDiscountChangedBy:Fe.itemDiscountChangedBy||(Fe.itemDiscountAmt>0?"amt":"pct"),gstRate:Number(Fe.gstRate??xe.gstRate??xe.taxRate??0)}}return{qty:Number(xe.quantity??xe.qty??0),price:Number(xe.sellingPrice??xe.price??xe.unitPrice??0),itemDiscountPct:Number(xe.itemDiscountPct??0),itemDiscountAmt:Number(xe.itemDiscountAmt??0),itemDiscountChangedBy:xe.itemDiscountChangedBy||(xe.itemDiscountAmt>0?"amt":"pct"),gstRate:Number(xe.gstRate??xe.taxRate??0)}}),oe={delivery:Number(c?.chargesSnapshot?.breakdown?.delivery??c?.proforma?.orderCharges?.delivery??c?.delivery??0),packing:Number(c?.chargesSnapshot?.breakdown?.packing??c?.proforma?.orderCharges?.packing??c?.packing??0),insurance:Number(c?.chargesSnapshot?.breakdown?.insurance??c?.proforma?.orderCharges?.insurance??c?.insurance??0),other:Number(c?.chargesSnapshot?.breakdown?.other??c?.proforma?.orderCharges?.other??c?.other??0),discountPct:Number(c?.chargesSnapshot?.breakdown?.discountPct??c?.proforma?.orderCharges?.discountPct??c?.orderDiscountPct??0),discountAmt:Number(c?.chargesSnapshot?.breakdown?.discountAmt??c?.proforma?.orderCharges?.discountAmt??c?.orderDiscountAmt??0),discountChangedBy:c?.chargesSnapshot?.breakdown?.discountChangedBy??c?.proforma?.orderCharges?.discountChangedBy??(c?.orderDiscountAmt?"amt":"pct")},q=Zs({lines:pe,orderCharges:oe,distributorState:c?.distributorState,retailerState:c?.retailerState||c?.state,roundingEnabled:!!c?.chargesSnapshot?.defaultsUsed?.roundEnabled,rounding:(c?.chargesSnapshot?.defaultsUsed?.roundRule||"nearest").toUpperCase()});return{grossItems:q.grossItems,lineDiscountTotal:q.lineDiscountTotal,itemsSubTotal:q.itemsSubTotal??q.subTotal,orderCharges:{delivery:Number(oe.delivery||0),packing:Number(oe.packing||0),insurance:Number(oe.insurance||0),other:Number(oe.other||0)},discountTotal:Number(q.discountTotal||0),taxableBase:Number(q.taxableBase||0),taxType:q.taxType||"CGST_SGST",taxBreakup:q.taxBreakup||{},roundOff:Number(q.roundOff||0),grandTotal:Number(q.grandTotal||0)}},He=(c,V,k)=>{const G=Number(k?.quantity??0),pe=ve(c,V,k);return G*pe},ye=(c,V,k)=>{const G=Array.isArray(c?.proforma?.lines)?c.proforma.lines[V]:void 0;return Number(G?.itemDiscountPct??k?.itemDiscountPct??0)},We=(c,V,k)=>{const G=Array.isArray(c?.proforma?.lines)?c.proforma.lines[V]:void 0,pe=He(c,V,k),oe=G?.discountAmount;if(oe!=null)return Number(oe)||0;const q=ye(c,V,k);return+(pe*Math.max(0,Math.min(100,q))/100)},rA=(c,V,k)=>He(c,V,k)-We(c,V,k),v=p.toLowerCase(),ge=c=>c.id?.toLowerCase().includes(v)||c.retailerName?.toLowerCase().includes(v)||c.retailerEmail?.toLowerCase().includes(v)||c.retailerPhone?.toLowerCase().includes(v)||c.retailerAddress?.toLowerCase().includes(v)||c.city?.toLowerCase().includes(v),fe=c=>x?c.expectedDeliveryDate?.slice(0,10)===x:!0,W=c=>{if(c?.creditDueDate)return new Date(c.creditDueDate);const V=Lt(c).normalized,k=V&&Number(V.creditDays)||(Number.isFinite(c?.creditDays)?Number(c.creditDays):null);if(c?.deliveredAt&&Number.isFinite(k)){const G=new Date(c.deliveredAt);return G.setDate(G.getDate()+Number(k||0)),G}return null},J=A.filter(c=>{const V=kt(c.statusCode||c.status);return(V==="SHIPPED"||V==="OUT_FOR_DELIVERY")&&ze(c)&&ge(c)&&fe(c)}),Ae=A.filter(c=>(c.status==="Quoted"||c.statusCode==="QUOTED"||c.statusCode==="PROFORMA_SENT")&&ze(c)&&ge(c)&&fe(c));let je=A.filter(c=>!ze(c)||!ri(c)||c.isPaid===!0||c.paymentStatus==="Paid"?!1:!!W(c)&&ge(c)&&fe(c)).map(c=>({...c,__dueDate:W(c)})).sort((c,V)=>c.__dueDate-V.__dueDate),Ne=A.filter(c=>ze(c)&&(c.isPaid===!0||c.paymentStatus==="Paid")&&ge(c)&&fe(c));je.reduce((c,V)=>c+Qe(V),0),Ne.reduce((c,V)=>c+Qe(V),0);const te=c=>{try{return new Date(c).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},Ee=c=>{try{return new Date(c).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}};return e.jsxs("div",{className:"p-3 sm:p-4 lg:p-6 text-white",children:[e.jsx(im,{}),e.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[e.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Track Orders"}),e.jsx("button",{type:"button",onClick:ie,className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs sm:text-sm font-medium bg-white/10 border border-white/20 text-white hover:bg-white/15 hover:border-emerald-400/60 transition",children:"View Invoices"})]}),e.jsxs("div",{className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl p-4 mb-6 flex flex-col lg:flex-row lg:items-center gap-4",children:[e.jsx("div",{className:"relative flex-1 lg:max-w-md",children:e.jsx("input",{type:"text",placeholder:"Search by order ID, retailer, phone, email, etc.",value:p,onChange:c=>f(c.target.value),className:"w-full px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 placeholder-white/50 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all text-sm backdrop-blur-sm"})}),e.jsx("input",{type:"date",value:x,onChange:c=>E(c.target.value),className:"px-4 py-2.5 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all text-sm backdrop-blur-sm"}),e.jsx("div",{className:"ml-auto inline-flex rounded-xl bg-white/5 border border-white/10 overflow-hidden backdrop-blur-xl p-1",children:["all","active","passive"].map((c,V)=>e.jsx(iA.button,{onClick:()=>B(c),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 font-semibold text-xs transition-all rounded-lg "+(o===c?"bg-gradient-to-r from-cyan-500/30 to-blue-500/30 text-cyan-200 shadow-md":"text-white/70 hover:bg-white/5"),children:c[0].toUpperCase()+c.slice(1)},c))})]}),e.jsx("div",{className:"inline-flex rounded-2xl bg-gradient-to-br from-white/5 to-white/5 border border-white/10 overflow-hidden mb-6 backdrop-blur-xl shadow-lg p-1",children:[{name:"Out for Delivery",count:J.length,color:"emerald"},{name:"Payment Due",count:je.length,color:"amber"},{name:"Paid Orders",count:Ne.length,color:"sky"},{name:"Quoted",count:Ae.length,color:"amber"}].map(c=>{const V=u===c.name,k={emerald:V?"bg-gradient-to-r from-emerald-500/30 to-teal-500/30 text-emerald-200 shadow-md":"text-white/70 hover:bg-white/5",amber:V?"bg-gradient-to-r from-amber-500/30 to-orange-500/30 text-amber-200 shadow-md":"text-white/70 hover:bg-white/5",sky:V?"bg-gradient-to-r from-sky-500/30 to-blue-500/30 text-sky-200 shadow-md":"text-white/70 hover:bg-white/5"};return e.jsxs(iA.button,{onClick:()=>z(c.name),whileHover:{scale:1.05},whileTap:{scale:.95},className:`px-5 py-2.5 font-semibold text-sm transition-all rounded-xl ${k[c.color]}`,children:[c.name," (",c.count,")"]},c.name)})}),je.length===0&&Ne.length===0&&J.length===0&&Ae.length===0?e.jsx("p",{className:"text-white/60 mt-8 text-center",children:"No orders to track yet."}):e.jsxs(e.Fragment,{children:[u==="Out for Delivery"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-emerald-200 mb-2",children:" Out for Delivery"}),J.length===0?e.jsx("div",{className:"text-white/60 mb-6",children:"No orders are currently out for delivery."}):J.map((c,V)=>e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.03,duration:.3,type:"spring",stiffness:100,damping:15},className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition-all hover:shadow-2xl hover:border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg text-white",children:c.retailerBusinessName||c.retailerName||c.retailer?.name||"N/A"}),fA(c)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-amber-500/20 text-amber-200 border border-amber-400/30",children:"passive"})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-sky-500/15 text-sky-200",children:c.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"Total:"})," ",Qe(c).toFixed(2)]}),e.jsxs("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 text-xs font-medium",children:["Payment: ",Gs(c)]}),ri(c)&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{className:"text-xs text-white/70 font-medium",children:"Credit Days:"}),e.jsx("input",{type:"number",min:1,max:180,className:"w-16 px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:Be(c),onChange:k=>{const G=Number(k.target.value);se(pe=>({...pe,[c.id]:Number.isFinite(G)?G:""}))}}),e.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/15 text-amber-200 text-[11px] font-medium",children:["Due if delivered today: ",Ee(lA(Be(c)))]})]})]}),c.isPaid&&c.paymentReceivedMethodLabel&&e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 text-sm",children:[e.jsx(fs,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:["Payment Received via ",c.paymentReceivedMethodLabel]}),c.paymentReceivedTransactionId&&e.jsxs("span",{className:"text-xs text-emerald-200/70 font-mono",children:["(ID: ",c.paymentReceivedTransactionId.substring(0,12),"...)"]}),c.paymentReceivedAt&&e.jsxs("span",{className:"text-xs text-emerald-200/70",children:[" ",new Date(c.paymentReceivedAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})}),e.jsxs("div",{className:"px-4 pb-2 flex flex-col md:flex-row gap-2",children:[(c.paymentMethod==="COD"||Lt(c).flags.isCOD)&&!c.isPaid&&e.jsxs(iA.button,{onClick:()=>ce(c),whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},className:"rounded-xl px-5 py-2.5 font-semibold text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-500 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/30",children:[e.jsx(Js,{className:"w-4 h-4"}),"Confirm Payment Received"]}),e.jsx(iA.button,{onClick:()=>Je(c),whileHover:(c.paymentMethod==="COD"||Lt(c).flags.isCOD)&&!c.isPaid?{}:{scale:1.02,y:-1},whileTap:(c.paymentMethod==="COD"||Lt(c).flags.isCOD)&&!c.isPaid?{}:{scale:.98},className:`rounded-xl px-5 py-2.5 font-semibold text-white transition-all ${(c.paymentMethod==="COD"||Lt(c).flags.isCOD)&&!c.isPaid?"bg-white/10 cursor-not-allowed":"bg-gradient-to-r from-sky-500 to-indigo-500 hover:from-sky-400 hover:to-indigo-500 shadow-lg shadow-sky-500/30"}`,disabled:(c.paymentMethod==="COD"||Lt(c).flags.isCOD)&&!c.isPaid,children:"Mark Delivered"})]}),e.jsx("div",{className:"flex justify-end px-4 pb-2",children:e.jsx("button",{onClick:()=>Ie(c.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:i.includes(c.id)?"Hide Details":"Show Details"})}),i.includes(c.id)&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5 mt-2",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-2",children:"Retailer Information"}),(()=>{const k=R[c.retailerId]||{},G=K[c.retailerId]||{},pe=k.businessName||G.retailerName||c.retailerBusinessName||c.retailerName||"N/A",oe=k.ownerName||c.ownerName||c.retailerOwnerName||c.retailerName||"N/A",q=[k.address||G.address||c.retailerAddress,k.city||G.city||c.city,k.state||G.state||c.state||c.retailerState].filter(Boolean).join(", ")||"",xe=k.email||G.retailerEmail||c.retailerEmail||"",le=k.phone||G.retailerPhone||c.retailerPhone||"";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-medium text-white text-base mb-1",children:pe}),oe!==pe&&e.jsxs("div",{className:"text-sm text-white/70 mb-1",children:["Owner: ",oe]}),q!==""&&e.jsx("div",{className:"text-sm text-white/70 mb-1",children:q}),xe!==""&&e.jsxs("div",{className:"text-sm text-white/70",children:["Email: ",xe]}),le!==""&&e.jsxs("div",{className:"text-sm text-white/70",children:["Phone: ",le]})]})})()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",c.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment Method:"})," ",Gs(c)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delivery Mode:"})," ",c.deliveryMode||"N/A"]}),e.jsxs("div",{className:"mt-4 rounded-lg bg-white/5 border border-white/10 p-3",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Product Details"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"SKU"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Brand"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Category"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Unit"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Base Price"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"MRP"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"GST %"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Selling Price"}),e.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-white/70",children:"Qty"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Disc %"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Disc "}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Line Total"})]})}),e.jsx("tbody",{children:(c.items||[]).map((k,G)=>{const pe=ee(c,G,k),oe=Number(k.mrp||0),q=ve(c,G,k),xe=Number(k.gstRate||k.taxRate||0),le=Array.isArray(c?.proforma?.lines)?c.proforma.lines[G]:void 0,Fe=le?.gstRate!==void 0?Number(le.gstRate):xe;return e.jsxs("tr",{className:"hover:bg-white/5 transition",children:[e.jsxs("td",{className:"px-2 py-2",children:[e.jsx("div",{className:"font-medium",children:k.productName||k.name||"N/A"}),k.hsnCode&&e.jsxs("div",{className:"text-xs text-white/60 mt-0.5",children:["HSN: ",k.hsnCode]})]}),e.jsx("td",{className:"px-2 py-2",children:k.sku||""}),e.jsx("td",{className:"px-2 py-2",children:k.brand||""}),e.jsx("td",{className:"px-2 py-2",children:k.category||""}),e.jsx("td",{className:"px-2 py-2 text-right",children:k.unit||""}),e.jsx("td",{className:"px-2 py-2 text-right",children:pe>0?`${pe.toFixed(2)}`:""}),e.jsx("td",{className:"px-2 py-2 text-right",children:oe>0?`${oe.toFixed(2)}`:""}),e.jsx("td",{className:"px-2 py-2 text-right",children:Fe>0?`${Fe}%`:""}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",q.toFixed(2)]})}),e.jsx("td",{className:"px-2 py-2 text-center",children:k.quantity||k.qty||0}),e.jsxs("td",{className:"px-2 py-2 text-right",children:[ye(c,G,k).toFixed(2),"%"]}),e.jsxs("td",{className:"px-2 py-2 text-right",children:["",We(c,G,k).toFixed(2)]}),e.jsxs("td",{className:"px-2 py-2 text-right",children:["",rA(c,G,k).toFixed(2)]})]},G)})})]}),(()=>{const k=he(c),G=c.distributorState||"Maharashtra",pe=c.retailerState||c.state||G,oe=k.taxType==="IGST"?`IGST (Interstate: ${G}  ${pe})`:`CGST + SGST (Intrastate: ${G}  ${pe})`;return e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-white/80",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unit Price Total"}),e.jsxs("span",{children:["",k.grossItems.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Line Discounts"}),e.jsxs("span",{children:["",k.lineDiscountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items SubTotal"}),e.jsxs("span",{children:["",k.itemsSubTotal.toFixed(2)]})]}),k.orderCharges.delivery>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Delivery"}),e.jsxs("span",{children:["",k.orderCharges.delivery.toFixed(2)]})]}),k.orderCharges.packing>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Packing"}),e.jsxs("span",{children:["",k.orderCharges.packing.toFixed(2)]})]}),k.orderCharges.insurance>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Insurance"}),e.jsxs("span",{children:["",k.orderCharges.insurance.toFixed(2)]})]}),k.orderCharges.other>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Other"}),e.jsxs("span",{children:["",k.orderCharges.other.toFixed(2)]})]}),k.discountTotal>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Order Discount"}),e.jsxs("span",{children:["",k.discountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",k.taxableBase.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{className:"text-xs",children:oe})]}),k.taxType==="IGST"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.igst||0).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.cgst||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.sgst||0).toFixed(2)]})]})]}),k.roundOff!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",k.roundOff.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-white border-t border-white/20 pt-1 mt-1",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["",k.grandTotal.toFixed(2)]})]})]})})()]})]}),(()=>{const k=y.has(c.id);return e.jsxs("div",{className:"mt-4 rounded-xl border border-white/10 bg-white/5 p-4",children:[e.jsxs("button",{type:"button",onClick:()=>ke(c.id),className:"w-full flex items-center justify-between font-semibold text-white mb-2 hover:text-emerald-300 transition",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Delivery Tracking & Logistics"})]}),e.jsx("span",{className:"text-white/60",children:k?"":""})]}),k&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Delivery Person Type"}),e.jsxs("select",{value:c?.deliveryDetails?.personType||"",onChange:G=>cA(c.id,"personType",G.target.value),className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition",children:[e.jsx("option",{value:"",children:"Select Type"}),e.jsx("option",{value:"employee",children:"Employee"}),e.jsx("option",{value:"external",children:"External Person"}),e.jsx("option",{value:"third-party",children:"Third Party Service"})]})]}),(c?.deliveryDetails?.personType==="employee"||!c?.deliveryDetails?.personType)&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Select Employee"}),e.jsxs("select",{value:c?.deliveryDetails?.employeeId||"",onChange:G=>{const pe=Q.find(oe=>oe.id===G.target.value);cA(c.id,"employeeId",G.target.value),pe&&(cA(c.id,"personName",pe.name||""),cA(c.id,"personPhone",pe.phone||""),cA(c.id,"personDesignation",pe.designation||pe.role||""))},className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition",children:[e.jsx("option",{value:"",children:"Select Employee"}),Q.map(G=>e.jsxs("option",{value:G.id,children:[G.name||G.flypEmployeeId||G.id," ",G.phone?`- ${G.phone}`:""]},G.id))]})]}),c?.deliveryDetails?.personType==="external"&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Person Name"}),e.jsx("input",{type:"text",value:c?.deliveryDetails?.personName||"",onChange:G=>cA(c.id,"personName",G.target.value),placeholder:"Enter person name",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),(c?.deliveryDetails?.personType==="external"||c?.deliveryDetails?.personType==="third-party")&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Contact Number"}),e.jsx("input",{type:"tel",value:c?.deliveryDetails?.personPhone||"",onChange:G=>cA(c.id,"personPhone",G.target.value),placeholder:"Enter contact number",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Vehicle Type"}),e.jsxs("select",{value:c?.deliveryDetails?.vehicleType||"",onChange:G=>cA(c.id,"vehicleType",G.target.value),className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition",children:[e.jsx("option",{value:"",children:"Select Vehicle"}),e.jsx("option",{value:"car",children:"Car"}),e.jsx("option",{value:"jeep",children:"Jeep"}),e.jsx("option",{value:"van",children:"Van"}),e.jsx("option",{value:"truck",children:"Truck"}),e.jsx("option",{value:"motorcycle",children:"Motorcycle"}),e.jsx("option",{value:"auto",children:"Auto Rickshaw"}),e.jsx("option",{value:"bicycle",children:"Bicycle"}),e.jsx("option",{value:"e-rickshaw",children:"E-Rickshaw"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Vehicle Number"}),e.jsx("input",{type:"text",value:c?.deliveryDetails?.vehicleNumber||"",onChange:G=>cA(c.id,"vehicleNumber",G.target.value.toUpperCase()),placeholder:"MH-12-AB-1234",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Transport Method"}),e.jsxs("select",{value:c?.deliveryDetails?.transportMethod||"",onChange:G=>cA(c.id,"transportMethod",G.target.value),className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition",children:[e.jsx("option",{value:"",children:"Select Method"}),e.jsx("option",{value:"by-distributor",children:"By Distributor (Own Vehicle)"}),e.jsx("option",{value:"transport",children:"Transport Service"}),e.jsx("option",{value:"bus",children:"Bus Service"}),e.jsx("option",{value:"courier",children:"Courier Service"}),e.jsx("option",{value:"shiprocket",children:"Shiprocket"}),e.jsx("option",{value:"delhivery",children:"Delhivery"}),e.jsx("option",{value:"bluedart",children:"Blue Dart"}),e.jsx("option",{value:"dtdc",children:"DTDC"}),e.jsx("option",{value:"fedex",children:"FedEx"}),e.jsx("option",{value:"other",children:"Other"})]})]}),["courier","shiprocket","delhivery","bluedart","dtdc","fedex"].includes(c?.deliveryDetails?.transportMethod)&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"AWB / Tracking Number"}),e.jsx("input",{type:"text",value:c?.deliveryDetails?.awbNumber||c?.awb||"",onChange:G=>{cA(c.id,"awbNumber",G.target.value);const pe=oA(C,"businesses",M.currentUser?.uid,"orderRequests",c.id);yA(pe,{awb:G.target.value||null}).catch(console.error)},placeholder:"Enter AWB/Tracking number",className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),e.jsxs("div",{className:"flex flex-col gap-1 md:col-span-2",children:[e.jsx("label",{className:"text-sm font-medium text-white/80",children:"Delivery Notes / Special Instructions"}),e.jsx("textarea",{value:c?.deliveryDetails?.deliveryNotes||"",onChange:G=>cA(c.id,"deliveryNotes",G.target.value),placeholder:"Enter any special instructions, delivery address details, landmark, etc.",rows:3,className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition resize-none"})]})]}),c?.deliveryDetails&&Object.keys(c.deliveryDetails).length>0&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10",children:[e.jsx("h5",{className:"text-sm font-semibold text-white/90 mb-2",children:"Delivery Summary:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2 text-xs text-white/70",children:[c.deliveryDetails.personName&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Person:"})," ",c.deliveryDetails.personName]}),c.deliveryDetails.vehicleType&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vehicle:"})," ",c.deliveryDetails.vehicleType]}),c.deliveryDetails.vehicleNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Vehicle No:"})," ",c.deliveryDetails.vehicleNumber]}),c.deliveryDetails.transportMethod&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Method:"})," ",c.deliveryDetails.transportMethod.replace(/-/g," ")]}),c.deliveryDetails.awbNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"AWB:"})," ",c.deliveryDetails.awbNumber]})]})]})]})]})})(),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(ri(c)?"bg-amber-500/15 text-amber-200":"bg-white/10 text-white/80"),children:["Payment: ",Gs(c)]}),e.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(c.deliveryMode==="Self Pickup"?"bg-emerald-500/15 text-emerald-200":c.deliveryMode==="Courier"?"bg-sky-500/15 text-sky-200":"bg-white/10 text-white/80"),children:["Delivery: ",c.deliveryMode||"N/A"]}),c.status==="Delivered"&&e.jsx("button",{onClick:()=>re(c),disabled:I,className:"px-3 py-1 rounded-lg text-xs font-medium bg-blue-500/20 text-blue-200 hover:bg-blue-500/30 transition disabled:opacity-50",children:I?"Loading...":"View Invoice"})]})]})]},c.id))]}),u==="Payment Due"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-amber-200 mb-2",children:" Payment Due"}),je.length===0?e.jsx("div",{className:"text-white/60 mb-6",children:"No payment due orders."}):je.map((c,V)=>e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.03,duration:.3,type:"spring",stiffness:100,damping:15},className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition-all hover:shadow-2xl hover:border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg text-white",children:c.retailerBusinessName||c.retailerName||c.retailer?.name||"N/A"}),fA(c)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-amber-500/20 text-amber-200 border border-amber-400/30",children:"passive"})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-emerald-500/15 text-emerald-200",children:c.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[c.deliveredAt&&e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"Delivered:"})," ",Ee(c.deliveredAt)]}),(c.creditDueDate||c.__dueDate)&&e.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/15 text-amber-200 text-xs font-medium",children:["Credit Due Date: ",e.jsx("span",{className:"font-semibold",children:Ee(c.creditDueDate||c.__dueDate)})]})]}),e.jsx("div",{className:"flex justify-end px-4 pb-2",children:e.jsx("button",{onClick:()=>Ie(c.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:i.includes(c.id)?"Hide Details":"Show Details"})}),i.includes(c.id)&&e.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[c.deliveredAt&&e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"Delivered:"})," ",Ee(c.deliveredAt)]}),(c.creditDueDate||c.__dueDate)&&e.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/15 text-amber-200 text-xs font-medium",children:["Credit Due Date: ",e.jsx("span",{className:"font-semibold",children:Ee(c.creditDueDate||c.__dueDate)})]})]}),e.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5 mt-2",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-2",children:"Retailer Information"}),(()=>{const k=R[c.retailerId]||{},G=K[c.retailerId]||{},pe=k.businessName||G.retailerName||c.retailerBusinessName||c.retailerName||"N/A",oe=k.ownerName||c.ownerName||c.retailerOwnerName||c.retailerName||"N/A",q=[k.address||G.address||c.retailerAddress,k.city||G.city||c.city,k.state||G.state||c.state||c.retailerState].filter(Boolean).join(", ")||"",xe=k.email||G.retailerEmail||c.retailerEmail||"",le=k.phone||G.retailerPhone||c.retailerPhone||"";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-medium text-white text-base mb-1",children:pe}),oe!==pe&&e.jsxs("div",{className:"text-sm text-white/70 mb-1",children:["Owner: ",oe]}),q!==""&&e.jsx("div",{className:"text-sm text-white/70 mb-1",children:q}),xe!==""&&e.jsxs("div",{className:"text-sm text-white/70",children:["Email: ",xe]}),le!==""&&e.jsxs("div",{className:"text-sm text-white/70",children:["Phone: ",le]})]})})()]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",c.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment Method:"})," ",Gs(c)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Retailer Email:"})," ",c.retailerEmail||c.retailer?.email||R[c.retailerId]?.email||K[c.retailerId]?.retailerEmail||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Retailer Phone:"})," ",c.retailerPhone||c.retailer?.phone||R[c.retailerId]?.phone||K[c.retailerId]?.retailerPhone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delivery Mode:"})," ",c.deliveryMode||"N/A"]}),c.deliveredAt&&e.jsxs("p",{children:[e.jsx("strong",{children:"Delivered On:"})," ",te(c.deliveredAt)]})]}),e.jsxs("div",{className:"mt-4 rounded-lg bg-white/5 border border-white/10 p-3",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Product Details"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"SKU"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Brand"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Category"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Unit"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Base Price"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"MRP"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"GST %"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Selling Price"}),e.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-white/70",children:"Qty"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Disc %"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Disc "}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Line Total"})]})}),e.jsx("tbody",{children:(c.items||[]).map((k,G)=>e.jsxs("tr",{className:"hover:bg-white/5 transition",children:[e.jsxs("td",{className:"px-2 py-2",children:[e.jsx("div",{className:"font-medium",children:k.productName||k.name||"N/A"}),k.hsnCode&&e.jsxs("div",{className:"text-xs text-white/60 mt-0.5",children:["HSN: ",k.hsnCode]})]}),e.jsx("td",{className:"px-2 py-2",children:k.sku||""}),e.jsx("td",{className:"px-2 py-2",children:k.brand||""}),e.jsx("td",{className:"px-2 py-2",children:k.category||""}),e.jsx("td",{className:"px-2 py-2 text-right",children:k.unit||""}),e.jsx("td",{className:"px-2 py-2 text-right",children:(()=>{const pe=ee(c,G,k);return pe>0?`${pe.toFixed(2)}`:""})()}),e.jsx("td",{className:"px-2 py-2 text-right",children:k.mrp>0?`${k.mrp.toFixed(2)}`:""}),e.jsx("td",{className:"px-2 py-2 text-right",children:(()=>{const pe=Number(k.gstRate||k.taxRate||0),oe=Array.isArray(c?.proforma?.lines)?c.proforma.lines[G]:void 0,q=oe?.gstRate!==void 0?Number(oe.gstRate):pe;return q>0?`${q}%`:""})()}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",ve(c,G,k).toFixed(2)]})}),e.jsx("td",{className:"px-2 py-2 text-center",children:k.quantity||k.qty||0}),e.jsxs("td",{className:"px-2 py-2 text-right",children:[ye(c,G,k).toFixed(2),"%"]}),e.jsxs("td",{className:"px-2 py-2 text-right",children:["",We(c,G,k).toFixed(2)]}),e.jsxs("td",{className:"px-2 py-2 text-right",children:["",rA(c,G,k).toFixed(2)]})]},G))})]}),(()=>{const k=he(c),G=c.distributorState||"Maharashtra",pe=c.retailerState||c.state||G,oe=k.taxType==="IGST"?`IGST (Interstate: ${G}  ${pe})`:`CGST + SGST (Intrastate: ${G}  ${pe})`;return e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-white/80",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unit Price Total"}),e.jsxs("span",{children:["",k.grossItems.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Line Discounts"}),e.jsxs("span",{children:["",k.lineDiscountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items SubTotal"}),e.jsxs("span",{children:["",k.itemsSubTotal.toFixed(2)]})]}),k.orderCharges.delivery>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Delivery"}),e.jsxs("span",{children:["",k.orderCharges.delivery.toFixed(2)]})]}),k.orderCharges.packing>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Packing"}),e.jsxs("span",{children:["",k.orderCharges.packing.toFixed(2)]})]}),k.orderCharges.insurance>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Insurance"}),e.jsxs("span",{children:["",k.orderCharges.insurance.toFixed(2)]})]}),k.orderCharges.other>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Other"}),e.jsxs("span",{children:["",k.orderCharges.other.toFixed(2)]})]}),k.discountTotal>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Order Discount"}),e.jsxs("span",{children:["",k.discountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",k.taxableBase.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{className:"text-xs",children:oe})]}),k.taxType==="IGST"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.igst||0).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.cgst||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.sgst||0).toFixed(2)]})]})]}),k.roundOff!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",k.roundOff.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-white border-t border-white/20 pt-1 mt-1",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["",k.grandTotal.toFixed(2)]})]})]})})()]})]}),c.isPaid&&c.paymentReceivedMethodLabel&&e.jsxs("div",{className:"mt-4 p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fs,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"font-semibold text-emerald-300",children:"Payment Received"})]}),e.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Method:"})," ",e.jsx("span",{className:"font-medium text-white",children:c.paymentReceivedMethodLabel})]}),c.paymentReceivedTransactionId&&e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Transaction ID:"})," ",e.jsx("span",{className:"font-mono text-xs",children:c.paymentReceivedTransactionId})]}),c.paymentReceivedReference&&e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Reference:"})," ",c.paymentReceivedReference]}),c.paymentReceivedAt&&e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Received At:"})," ",new Date(c.paymentReceivedAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-col md:flex-row gap-2 items-center",children:[!c.isPaid&&e.jsxs(iA.button,{onClick:()=>Me(c),whileHover:{scale:1.02,y:-1},whileTap:{scale:.98},className:"rounded-xl px-5 py-2.5 font-semibold text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-500 transition-all flex items-center gap-2 shadow-lg shadow-emerald-500/30",children:[e.jsx(Js,{className:"w-4 h-4"}),"Mark Credit as Paid"]}),c.status==="Delivered"&&e.jsx(iA.button,{onClick:()=>re(c),disabled:I,whileHover:I?{}:{scale:1.02,y:-1},whileTap:I?{}:{scale:.98},className:"rounded-xl px-5 py-2.5 font-semibold text-white bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-400 hover:to-indigo-500 transition-all disabled:opacity-50 shadow-lg shadow-blue-500/30",children:I?"Loading...":"View Invoice"})]})]})]},c.id))]}),u==="Paid Orders"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-emerald-200 mb-2",children:" Paid Orders"}),Ne.length===0?e.jsx("div",{className:"text-white/60 mb-6",children:"No paid orders."}):Ne.map((c,V)=>e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.03,duration:.3,type:"spring",stiffness:100,damping:15},className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition-all hover:shadow-2xl hover:border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg text-white",children:c.retailerBusinessName||c.retailerName||c.retailer?.name||"N/A"}),fA(c)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-amber-500/20 text-amber-200 border border-amber-400/30",children:"passive"})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(c.status==="Delivered"?"bg-emerald-500/15 text-emerald-200":c.status==="Shipped"?"bg-sky-500/15 text-sky-200":c.status==="Accepted"?"bg-amber-500/15 text-amber-200":"bg-white/10 text-white/80"),children:c.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"City:"})," ",c.city||K[c.retailerId]?.city||R[c.retailerId]?.city||""]}),c.deliveredAt&&e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"Delivered:"})," ",Ee(c.deliveredAt)]}),e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"Total:"})," ",Qe(c).toFixed(2)]}),c.isPaid&&c.paymentReceivedMethodLabel&&e.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 rounded-lg bg-emerald-500/20 border border-emerald-500/30 text-emerald-300 text-xs font-medium",children:[e.jsx(fs,{className:"w-3 h-3"}),"Paid via ",c.paymentReceivedMethodLabel]})]}),c.isPaid&&c.paymentReceivedMethodLabel&&e.jsx("div",{className:"px-4 pb-2",children:e.jsxs("div",{className:"p-3 bg-emerald-500/10 border border-emerald-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(fs,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"font-semibold text-emerald-300 text-sm",children:"Payment Details"})]}),e.jsxs("div",{className:"text-xs text-white/80 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Method:"})," ",e.jsx("span",{className:"font-medium text-white",children:c.paymentReceivedMethodLabel})]}),c.paymentReceivedTransactionId&&e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Transaction ID:"})," ",e.jsx("span",{className:"font-mono",children:c.paymentReceivedTransactionId})]}),c.paymentReceivedReference&&e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Reference:"})," ",c.paymentReceivedReference]}),c.paymentReceivedAt&&e.jsxs("p",{children:[e.jsx("span",{className:"text-white/60",children:"Received:"})," ",new Date(c.paymentReceivedAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]})]})}),e.jsx("div",{className:"px-4 pb-2",children:e.jsx("div",{className:"flex items-center gap-2",children:(()=>{const k=["Requested","Accepted","Shipped","Delivered, Paid"];let pe=["Requested","Accepted","Shipped","Delivered"].indexOf(c.status);return(c.isPaid||c.paymentStatus==="Paid")&&(pe=3),k.map((oe,q)=>{const xe=q<pe,le=q===pe;return e.jsxs("div",{className:`flex items-center gap-1 ${le?"text-blue-600":xe?"text-green-600":"text-gray-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${le?"bg-blue-600":xe?"bg-green-600":"bg-gray-300"}`}),e.jsx("span",{className:"text-xs",children:oe}),q!==3&&e.jsx("div",{className:"w-6 h-px bg-gray-200"})]},oe)})})()})}),e.jsx("div",{className:"flex justify-end px-4 pb-2",children:e.jsx("button",{onClick:()=>Ie(c.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:i.includes(c.id)?"Hide Details":"Show Details"})}),i.includes(c.id)&&e.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[e.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5 mt-2",children:[e.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-2",children:"Retailer Information"}),(()=>{const k=R[c.retailerId]||{},G=K[c.retailerId]||{},pe=k.businessName||G.retailerName||c.retailerBusinessName||c.retailerName||"N/A",oe=k.ownerName||c.ownerName||c.retailerOwnerName||c.retailerName||"N/A",q=[k.address||G.address||c.retailerAddress,k.city||G.city||c.city,k.state||G.state||c.state||c.retailerState].filter(Boolean).join(", ")||"",xe=k.email||G.retailerEmail||c.retailerEmail||"",le=k.phone||G.retailerPhone||c.retailerPhone||"";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"font-medium text-white text-base mb-1",children:pe}),oe!==pe&&e.jsxs("div",{className:"text-sm text-white/70 mb-1",children:["Owner: ",oe]}),q!==""&&e.jsx("div",{className:"text-sm text-white/70 mb-1",children:q}),xe!==""&&e.jsxs("div",{className:"text-sm text-white/70",children:["Email: ",xe]}),le!==""&&e.jsxs("div",{className:"text-sm text-white/70",children:["Phone: ",le]})]})})()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Order ID:"})," ",c.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Retailer Email:"})," ",c.retailerEmail||c.retailer?.email||R[c.retailerId]?.email||K[c.retailerId]?.retailerEmail||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Retailer Phone:"})," ",c.retailerPhone||c.retailer?.phone||R[c.retailerId]?.phone||K[c.retailerId]?.retailerPhone||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Payment Method:"})," ",Gs(c)]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Delivery Mode:"})," ",c.deliveryMode||"N/A"]}),c.deliveredAt&&e.jsxs("p",{children:[e.jsx("strong",{children:"Delivered On:"})," ",te(c.deliveredAt)]}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-blue-600 text-white text-xs hover:bg-blue-700 transition",onClick:()=>Xe(c),children:"Export CSV"}),e.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-green-600 text-white text-xs hover:bg-green-700 transition",onClick:()=>AA(c),children:"Export Excel"}),e.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-red-500 text-white text-xs hover:bg-red-600 transition",onClick:()=>$e(c),children:"Export PDF"})]}),e.jsxs("div",{className:"mt-4 rounded-lg bg-white/5 border border-white/10 p-3",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"min-w-full table-auto",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Product Details"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"SKU"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Brand"}),e.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Category"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Unit"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Base Price"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"MRP"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"GST %"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Selling Price"}),e.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-white/70",children:"Qty"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Disc %"}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Disc "}),e.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Line Total"})]})}),e.jsx("tbody",{children:(c.items||[]).map((k,G)=>e.jsxs("tr",{className:"hover:bg-white/5 transition",children:[e.jsxs("td",{className:"px-2 py-2",children:[e.jsx("div",{className:"font-medium",children:k.productName||k.name||"N/A"}),k.hsnCode&&e.jsxs("div",{className:"text-xs text-white/60 mt-0.5",children:["HSN: ",k.hsnCode]})]}),e.jsx("td",{className:"px-2 py-2",children:k.sku||""}),e.jsx("td",{className:"px-2 py-2",children:k.brand||""}),e.jsx("td",{className:"px-2 py-2",children:k.category||""}),e.jsx("td",{className:"px-2 py-2 text-right",children:k.unit||""}),e.jsx("td",{className:"px-2 py-2 text-right",children:(()=>{const pe=ee(c,G,k);return pe>0?`${pe.toFixed(2)}`:""})()}),e.jsx("td",{className:"px-2 py-2 text-right",children:k.mrp>0?`${k.mrp.toFixed(2)}`:""}),e.jsx("td",{className:"px-2 py-2 text-right",children:(()=>{const pe=Number(k.gstRate||k.taxRate||0),oe=Array.isArray(c?.proforma?.lines)?c.proforma.lines[G]:void 0,q=oe?.gstRate!==void 0?Number(oe.gstRate):pe;return q>0?`${q}%`:""})()}),e.jsx("td",{className:"px-2 py-2 text-right",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",ve(c,G,k).toFixed(2)]})}),e.jsx("td",{className:"px-2 py-2 text-center",children:k.quantity||k.qty||0}),e.jsxs("td",{className:"px-2 py-2 text-right",children:[ye(c,G,k).toFixed(2),"%"]}),e.jsxs("td",{className:"px-2 py-2 text-right",children:["",We(c,G,k).toFixed(2)]}),e.jsxs("td",{className:"px-2 py-2 text-right",children:["",rA(c,G,k).toFixed(2)]})]},G))})]}),(()=>{const k=he(c),G=c.distributorState||"Maharashtra",pe=c.retailerState||c.state||G,oe=k.taxType==="IGST"?`IGST (Interstate: ${G}  ${pe})`:`CGST + SGST (Intrastate: ${G}  ${pe})`;return e.jsxs("div",{className:"mt-2 space-y-1 text-sm text-white/80",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unit Price Total"}),e.jsxs("span",{children:["",k.grossItems.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Line Discounts"}),e.jsxs("span",{children:["",k.lineDiscountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items SubTotal"}),e.jsxs("span",{children:["",k.itemsSubTotal.toFixed(2)]})]}),k.orderCharges.delivery>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Delivery"}),e.jsxs("span",{children:["",k.orderCharges.delivery.toFixed(2)]})]}),k.orderCharges.packing>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Packing"}),e.jsxs("span",{children:["",k.orderCharges.packing.toFixed(2)]})]}),k.orderCharges.insurance>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Insurance"}),e.jsxs("span",{children:["",k.orderCharges.insurance.toFixed(2)]})]}),k.orderCharges.other>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Other"}),e.jsxs("span",{children:["",k.orderCharges.other.toFixed(2)]})]}),k.discountTotal>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Order Discount"}),e.jsxs("span",{children:["",k.discountTotal.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",k.taxableBase.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{className:"text-xs",children:oe})]}),k.taxType==="IGST"?e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.igst||0).toFixed(2)]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.cgst||0).toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(k.taxBreakup?.sgst||0).toFixed(2)]})]})]}),k.roundOff!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",k.roundOff.toFixed(2)]})]}),e.jsxs("div",{className:"flex justify-between font-semibold text-white border-t border-white/20 pt-1 mt-1",children:[e.jsx("span",{children:"Grand Total"}),e.jsxs("span",{children:["",k.grandTotal.toFixed(2)]})]})]})})()]})]}),c.status==="Delivered"&&e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>re(c),disabled:I,className:"rounded-lg px-4 py-2 font-medium text-white bg-gradient-to-r from-blue-500 to-indigo-500 hover:from-blue-400 hover:to-indigo-500 transition disabled:opacity-50",children:I?"Loading...":"View Invoice"})})]})]},c.id))]}),u==="Quoted"&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-amber-200 mb-2",children:" Quoted (Proforma Sent)"}),Ae.length===0?e.jsx("div",{className:"text-white/60 mb-6",children:"No quoted orders."}):Ae.map((c,V)=>e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:V*.03,duration:.3,type:"spring",stiffness:100,damping:15},className:"rounded-2xl border border-white/10 bg-gradient-to-br from-white/5 to-white/5 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition-all hover:shadow-2xl hover:border-white/20",children:[e.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-bold text-lg text-white",children:c.retailerBusinessName||c.retailerName||c.retailer?.name||"N/A"}),fA(c)&&e.jsx("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-amber-500/20 text-amber-200 border border-amber-400/30",children:"passive"})]}),e.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-amber-500/15 text-amber-200",children:c.status})]}),e.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[e.jsxs("span",{children:[e.jsx("span",{className:"font-medium text-white/80",children:"Total:"})," ",(Array.isArray(c.items)?c.items.reduce((k,G)=>k+Number(G.quantity||0)*Number(G.price||G.unitPrice||0),0):0).toFixed(2)]}),e.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 text-xs font-medium",children:"Awaiting retailer acceptance"})]})]},c.id))]})]}),h&&e.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-70 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-[#1a1f2e] rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-white/10",children:[e.jsxs("div",{className:"sticky top-0 bg-[#1a1f2e] border-b border-white/10 px-6 py-4 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Invoice Details"}),e.jsx("button",{onClick:F,className:"text-white/70 hover:text-white text-2xl font-bold transition",children:""})]}),e.jsxs("div",{className:"p-6 space-y-6 text-white",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/60",children:"Invoice Number"}),e.jsx("p",{className:"font-semibold text-lg text-white",children:h.invoiceNumber||h.id})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-white/60",children:"Issued Date"}),e.jsx("p",{className:"font-semibold text-white",children:h.issuedAt?new Date(h.issuedAt).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-6 border-t border-white/10 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Bill To (Buyer)"}),e.jsxs("div",{className:"text-sm text-white/70 space-y-1",children:[e.jsx("p",{className:"font-medium text-white",children:h.buyer?.businessName||"N/A"}),h.buyer?.email&&e.jsxs("p",{children:["Email: ",h.buyer.email]}),h.buyer?.phone&&e.jsxs("p",{children:["Phone: ",h.buyer.phone]}),(h.buyer?.city||h.buyer?.state)&&e.jsx("p",{children:[h.buyer.city,h.buyer.state].filter(Boolean).join(", ")})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-white mb-2",children:"Sold By (Seller)"}),e.jsxs("div",{className:"text-sm text-white/70 space-y-1",children:[e.jsx("p",{className:"font-medium text-white",children:h.seller?.businessName||"N/A"}),h.seller?.email&&e.jsxs("p",{children:["Email: ",h.seller.email]}),h.seller?.phone&&e.jsxs("p",{children:["Phone: ",h.seller.phone]}),h.seller?.gstNumber&&e.jsxs("p",{children:["GST: ",h.seller.gstNumber]}),(h.seller?.city||h.seller?.state)&&e.jsx("p",{children:[h.seller.city,h.seller.state].filter(Boolean).join(", ")})]})]})]}),h.payment&&e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsx("h3",{className:"font-semibold text-white mb-3",children:"Payment Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.jsxs("div",{className:"bg-white/5 rounded-lg p-4 border border-white/10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-gray-400",children:"Payment Status"}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${h.payment?.isPaid?"bg-emerald-500/20 text-emerald-300 border border-emerald-500/30":"bg-amber-500/20 text-amber-300 border border-amber-500/30"}`,children:h.payment?.isPaid?"Paid":h.payment?.status||"Pending"})]}),e.jsxs("div",{className:"text-sm text-white/70 space-y-1",children:[e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Original Mode:"})," ",h.payment?.mode||"N/A"]}),h.payment?.receivedMethodLabel&&e.jsxs("p",{className:"mt-2 pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Payment Received Via:"}),e.jsx("span",{className:"ml-2 font-semibold text-emerald-300",children:h.payment?.receivedMethodLabel})]}),h.payment?.receivedTransactionId&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Transaction ID:"})," ",e.jsx("span",{className:"font-mono text-xs",children:h.payment?.receivedTransactionId})]}),h.payment?.receivedReference&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Reference:"})," ",h.payment?.receivedReference]}),h.payment?.receivedAt&&e.jsxs("p",{children:[e.jsx("span",{className:"text-gray-400",children:"Received At:"})," ",new Date(h.payment?.receivedAt).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]}),h.payment?.receivedBy&&e.jsxs("p",{className:"mt-2 pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-gray-400",children:"Received By:"}),e.jsxs("span",{className:"ml-2 text-white",children:[h.payment?.receivedBy?.name||h.payment?.receivedBy?.employeeId||"N/A",h.payment?.receivedBy?.type==="employee"&&e.jsx("span",{className:"ml-1 text-xs text-blue-300",children:"(Employee)"})]})]}),h.payment?.receivedNotes&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-white/10",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-1",children:"Notes:"}),e.jsx("p",{className:"text-sm text-white/80 italic",children:h.payment?.receivedNotes})]})]})]})})]}),w?e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsx("h3",{className:"font-semibold text-white mb-4",children:"Order Items"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"bg-white/5",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2 text-left text-white/70",children:"Product Details"}),e.jsx("th",{className:"px-4 py-2 text-left text-white/70",children:"SKU"}),e.jsx("th",{className:"px-4 py-2 text-left text-white/70",children:"Brand"}),e.jsx("th",{className:"px-4 py-2 text-left text-white/70",children:"Category"}),e.jsx("th",{className:"px-4 py-2 text-right text-white/70",children:"Unit"}),e.jsx("th",{className:"px-4 py-2 text-right text-white/70",children:"Base Price"}),e.jsx("th",{className:"px-4 py-2 text-right text-white/70",children:"MRP"}),e.jsx("th",{className:"px-4 py-2 text-right text-white/70",children:"GST %"}),e.jsx("th",{className:"px-4 py-2 text-right text-white/70",children:"Selling Price"}),e.jsx("th",{className:"px-4 py-2 text-center text-white/70",children:"Qty"}),e.jsx("th",{className:"px-4 py-2 text-right text-white/70",children:"Total"})]})}),e.jsx("tbody",{children:(w.items||[]).map((c,V)=>{const k=Number(c.quantity||c.qty||0),G=ve(w,V,c),pe=ue(w,V,c);return e.jsxs("tr",{className:"border-b border-white/10",children:[e.jsxs("td",{className:"px-4 py-2 text-white",children:[e.jsx("div",{className:"font-medium",children:c.productName||c.name||"N/A"}),c.hsnCode&&e.jsxs("div",{className:"text-xs text-white/60 mt-0.5",children:["HSN: ",c.hsnCode]})]}),e.jsx("td",{className:"px-4 py-2 text-white/70",children:c.sku||""}),e.jsx("td",{className:"px-4 py-2 text-white/70",children:c.brand||""}),e.jsx("td",{className:"px-4 py-2 text-white/70",children:c.category||""}),e.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:c.unit||""}),e.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:(()=>{const oe=ee(w,V,c);return oe>0?`${oe.toFixed(2)}`:""})()}),e.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:c.mrp>0?`${c.mrp.toFixed(2)}`:""}),e.jsx("td",{className:"px-4 py-2 text-right text-white/70",children:(()=>{const oe=Number(c.gstRate||c.taxRate||0),q=Array.isArray(w?.proforma?.lines)?w.proforma.lines[V]:void 0,xe=q?.gstRate!==void 0?Number(q.gstRate):oe;return xe>0?`${xe}%`:""})()}),e.jsx("td",{className:"px-4 py-2 text-right text-white",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",G.toFixed(2)]})}),e.jsx("td",{className:"px-4 py-2 text-center text-white",children:k}),e.jsx("td",{className:"px-4 py-2 text-right text-white",children:e.jsxs("span",{className:"font-semibold",children:["",pe.toFixed(2)]})})]},V)})})]})})]}):e.jsx("div",{className:"border-t border-white/10 pt-4",children:e.jsx("p",{className:"text-white/60 text-sm",children:h.orderId?"Order data not available":"No order ID associated with this invoice"})}),e.jsxs("div",{className:"border-t border-white/10 pt-4 space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/70",children:"Payment Method:"}),e.jsx("span",{className:"font-semibold text-white",children:h.payment?.mode||h.payment?.normalized?.label||"N/A"})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-white/70",children:"Payment Status:"}),e.jsx("span",{className:`font-semibold ${h.payment?.isPaid?"text-emerald-400":"text-amber-400"}`,children:h.payment?.isPaid?"Paid":"Pending"})]}),h.totals&&e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsx("h4",{className:"font-semibold mb-3 text-white",children:"Invoice Breakdown"}),e.jsxs("div",{className:"space-y-1 text-sm text-white/80",children:[h.totals.grossItems!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Unit Price Total"}),e.jsxs("span",{children:["",Number(h.totals.grossItems||0).toFixed(2)]})]}),h.totals.lineDiscountTotal!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Line Discounts"}),e.jsxs("span",{children:["",Number(h.totals.lineDiscountTotal||0).toFixed(2)]})]}),h.totals.itemsSubTotal!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Items SubTotal"}),e.jsxs("span",{children:["",Number(h.totals.itemsSubTotal||0).toFixed(2)]})]}),h.totals.delivery>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Delivery"}),e.jsxs("span",{children:["",Number(h.totals.delivery||0).toFixed(2)]})]}),h.totals.packing>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Packing"}),e.jsxs("span",{children:["",Number(h.totals.packing||0).toFixed(2)]})]}),h.totals.insurance>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Insurance"}),e.jsxs("span",{children:["",Number(h.totals.insurance||0).toFixed(2)]})]}),h.totals.other>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"+ Other"}),e.jsxs("span",{children:["",Number(h.totals.other||0).toFixed(2)]})]}),h.totals.discountTotal>0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:" Order Discount"}),e.jsxs("span",{children:["",Number(h.totals.discountTotal||0).toFixed(2)]})]}),h.totals.taxableBase!==void 0&&e.jsxs("div",{className:"flex justify-between font-semibold",children:[e.jsx("span",{children:"Taxable Base"}),e.jsxs("span",{children:["",Number(h.totals.taxableBase||0).toFixed(2)]})]}),h.totals.taxType&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Tax Type"}),e.jsx("span",{className:"text-xs",children:h.totals.taxType==="IGST"?"IGST (Interstate)":"CGST + SGST (Intrastate)"})]}),h.totals.taxType==="IGST"&&h.totals.taxBreakup?.igst!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"IGST"}),e.jsxs("span",{children:["",Number(h.totals.taxBreakup.igst||0).toFixed(2)]})]}),h.totals.taxType!=="IGST"&&e.jsxs(e.Fragment,{children:[h.totals.taxBreakup?.cgst!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"CGST"}),e.jsxs("span",{children:["",Number(h.totals.taxBreakup.cgst||0).toFixed(2)]})]}),h.totals.taxBreakup?.sgst!==void 0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"SGST"}),e.jsxs("span",{children:["",Number(h.totals.taxBreakup.sgst||0).toFixed(2)]})]})]}),h.totals.roundOff!==void 0&&h.totals.roundOff!==0&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Round Off"}),e.jsxs("span",{children:["",Number(h.totals.roundOff||0).toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-white/10",children:[e.jsx("span",{className:"text-lg font-semibold text-white",children:"Grand Total:"}),e.jsxs("span",{className:"text-2xl font-bold text-white",children:["",Number(h.totals?.grandTotal||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})]})]})]}),(h.deliveryDetails||h.deliveryMode||h.expectedDeliveryDate||w?.deliveryDetails)&&e.jsxs("div",{className:"border-t border-white/10 pt-4",children:[e.jsx("h4",{className:"font-semibold mb-3 text-white",children:" Delivery Information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-white/80",children:(()=>{const c=h.deliveryDetails||w?.deliveryDetails||{};return e.jsxs(e.Fragment,{children:[h.deliveryMode||w?.deliveryMode?e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Delivery Mode: "}),e.jsx("span",{children:h.deliveryMode||w?.deliveryMode})]}):null,h.expectedDeliveryDate||w?.expectedDeliveryDate?e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Expected Delivery Date: "}),e.jsx("span",{children:h.expectedDeliveryDate||w?.expectedDeliveryDate?new Date(h.expectedDeliveryDate||w.expectedDeliveryDate).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]}):null,c.personName&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Delivery Person: "}),e.jsxs("span",{children:[c.personName,c.personDesignation&&` (${c.personDesignation})`]})]}),c.personPhone&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Contact: "}),e.jsx("span",{children:c.personPhone})]}),c.vehicleType&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Vehicle Type: "}),e.jsx("span",{children:c.vehicleType})]}),c.vehicleNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Vehicle Number: "}),e.jsx("span",{children:c.vehicleNumber})]}),c.transportMethod&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Transport Method: "}),e.jsx("span",{children:c.transportMethod.replace(/-/g," ")})]}),c.awbNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"AWB/Tracking Number: "}),e.jsx("span",{children:c.awbNumber})]}),c.transportServiceName&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Transport Service: "}),e.jsx("span",{children:c.transportServiceName})]}),c.courierName&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-white/90",children:"Courier: "}),e.jsx("span",{children:c.courierName})]}),c.deliveryNotes&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("span",{className:"font-medium text-white/90",children:"Delivery Notes: "}),e.jsx("p",{className:"mt-1 text-white/70 whitespace-pre-wrap",children:c.deliveryNotes})]})]})})()})]}),h.orderId&&e.jsx("div",{className:"border-t border-white/10 pt-4",children:e.jsxs("p",{className:"text-sm text-white/60",children:[e.jsx("span",{className:"font-medium text-white/80",children:"Order ID:"})," ",h.orderId]})})]})]})}),e.jsx(_w,{open:!!H,order:H,onClose:_,onConfirm:Ce})]})},Ot=A=>Number(A||0).toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2}),Et=A=>(A||"").toLowerCase().trim(),Ww=A=>(A||[]).map(a=>({productName:a.productName||a.name||"Item",name:a.name||a.productName||"Item",sku:a.sku||null,brand:a.brand||null,category:a.category||null,unit:a.unit||null,quantity:Number(a.qty||0),qty:Number(a.qty||0),price:Number(a.sellingPrice||a.price||0),unitPrice:Number(a.sellingPrice||a.price||0),sellingPrice:Number(a.sellingPrice||a.price||0),mrp:Number(a.mrp||0),basePrice:Number(a.basePrice||0),costPrice:Number(a.costPrice||0),gstRate:Number(a.gstRate||a.taxRate||0),taxRate:Number(a.taxRate||a.gstRate||0),hsnCode:a.hsnCode||null,pricingMode:a.pricingMode||"LEGACY",lineTotal:Number(a.qty||0)*Number(a.sellingPrice||a.price||0)})),si=[{label:"Cash",value:"Cash"},{label:"Credit",value:"Credit"},{label:"Cash on Delivery",value:"COD"},{label:"Advance",value:"Advance"}],Xw=[{id:"SKU-001",name:"Parle-G 100g",sku:"PG100",brand:"Parle",unit:"pkt",price:8},{id:"SKU-002",name:"Amul Butter 100g",sku:"AB100",brand:"Amul",unit:"pkt",price:55},{id:"SKU-003",name:"Marie 250g",sku:"BM250",brand:"Britannia",unit:"pkt",price:30}],us=!0;function Jw(){const[A,a]=P.useState(1),[i,l]=P.useState(null),[p,f]=P.useState(""),[x,E]=P.useState(!1),[u,j]=P.useState(null),[o,B]=P.useState([]),[h,b]=P.useState(!1),[w,T]=P.useState([]),[I,N]=P.useState(""),[Q,m]=P.useState([]),[y,D]=P.useState(-1),[H,$]=P.useState([]),z=P.useMemo(()=>H.reduce((_,Ce)=>_+Number(Ce.qty||0)*Number(Ce.price||0),0),[H]),[ie,re]=P.useState(""),[F,C]=P.useState(si[0].value),[M,R]=P.useState(15),[S,K]=P.useState(0),[Z,de]=P.useState(""),[se,me]=P.useState(!1),Ie=P.useRef(null);P.useEffect(()=>{const _=cr();if(_?.distributorId){l(_.distributorId);return}const Ce=Tt(On,ce=>{ce&&l(ce.uid)});return On.currentUser&&l(On.currentUser.uid),()=>Ce()},[]),P.useEffect(()=>{let _=!0;return(async()=>{if(!i){B([]);return}b(!0);let ce=[],Be=[];const ve=cr()&&lt.currentUser?Or:Ps;try{const ye=OA(ve,"businesses",i,"connectedRetailers"),We=await Yt(ye);ce=We.docs.map(rA=>({id:rA.id,...rA.data()||{},__src:"connected"})),us&&console.log("[Retailers] connectedRetailers size:",We.size)}catch(ye){console.warn("[Retailers] connectedRetailers read blocked by rules or missing path:",ye)}try{const ye=OA(ve,"businesses",i,"provisionalRetailers"),We=await Yt(ye);Be=We.docs.map(rA=>({id:rA.id,...rA.data()||{},__src:"provisional"})),us&&console.log("[Retailers] provisionalRetailers size:",We.size)}catch(ye){console.warn("[Retailers] provisionalRetailers read blocked by rules or missing path:",ye)}let ue=new Set;try{const ye=OA(ve,"provisionalRetailers"),We=await Yt(ye);ue=new Set(We.docs.map(rA=>rA.id)),us&&console.log("[Retailers] Global provisionalRetailers size:",We.size)}catch(ye){console.warn("[Retailers] Global provisionalRetailers read blocked by rules:",ye)}const Qe=[...ce,...Be].map(ye=>{const We=ye.provisionalId&&(typeof ye.provisionalId=="string"?ye.provisionalId.trim().length>0:!0),rA=We&&ue.has(ye.provisionalId),v=ye.__src==="provisional"||typeof ye.source=="string"&&ye.source.toLowerCase().startsWith("provisioned")||typeof ye.status=="string"&&ye.status.toLowerCase().startsWith("provisioned")||rA||We;return console.log("[PassiveOrders] Retailer data:",{id:ye.retailerId||ye.id,displayName:ye.retailerName||ye.name||ye.displayName||ye.shopName,__src:ye.__src,source:ye.source,status:ye.status,provisionalId:ye.provisionalId,isProvisional:v,rawData:ye}),{id:ye.retailerId||ye.id,displayName:ye.retailerName||ye.name||ye.displayName||ye.shopName||"Retailer",phone:ye.retailerPhone||ye.phone||"",email:ye.retailerEmail||ye.email||"",city:ye.retailerCity||ye.city||"",state:ye.retailerState||ye.state||"",address:ye.retailerAddress||ye.address||"",type:v?"provisional":"connected",provisionalId:ye.provisionalId||(ye.__src==="provisional"?ye.id:null),status:ye.status||"",source:ye.source||"",rawData:ye}}).sort((ye,We)=>(ye.displayName||"").localeCompare(We.displayName||"")),he=Et(p),He=he?Qe.filter(ye=>Et(ye.displayName).includes(he)||Et(ye.email).includes(he)||Et(ye.phone).includes(he)):Qe;_&&(B(He.slice(0,50)),b(!1))})(),()=>{_=!1}},[p,i]),P.useEffect(()=>{let _=!0;return(async()=>{if(!i)return;let ce=[];const ee=cr()&&lt.currentUser?Or:Ps;try{const ue=OA(ee,"businesses",i,"inventory"),Qe=await Yt(ue);Qe.size>0&&(ce=Qe.docs.map(he=>({id:he.id,...he.data()||{}})),us&&console.log("[Inventory] Using /inventory:",Qe.size))}catch(ue){console.warn("[Inventory] /inventory blocked by rules or missing:",ue)}if(!ce.length)try{const ue=OA(ee,"businesses",i,"products"),Qe=await Yt(ue);Qe.size>0&&(ce=Qe.docs.map(he=>({id:he.id,...he.data()||{}})),us&&console.log("[Inventory] Using /products:",Qe.size))}catch(ue){console.warn("[Inventory] /products blocked by rules or missing:",ue)}if(!ce.length)try{const ue=OA(ee,"businesses",i,"items"),Qe=await Yt(ue);Qe.size>0&&(ce=Qe.docs.map(he=>({id:he.id,...he.data()||{}})),us&&console.log("[Inventory] Using /items:",Qe.size))}catch(ue){console.warn("[Inventory] /items blocked by rules or missing:",ue)}const ve=ce.map(ue=>({id:ue.id,name:ue.name||ue.productName||ue.title||"Unnamed",productName:ue.productName||ue.name||ue.title||"Unnamed",sku:ue.sku||ue.SKU||ue.code||"",brand:ue.brand||ue.Brand||"",category:ue.category||ue.Category||"",unit:ue.unit||ue.Unit||ue.measure||"",sellingPrice:Number(ue.sellingPrice??ue.selling_price??ue.price??0),mrp:Number(ue.mrp??ue.MRP??0),basePrice:Number(ue.basePrice??ue.base_price??0),costPrice:Number(ue.costPrice??ue.cost_price??0),gstRate:Number(ue.gstRate??ue.taxRate??ue.gst??ue.tax??0),taxRate:Number(ue.taxRate??ue.gstRate??ue.tax??ue.gst??0),hsnCode:ue.hsnCode||ue.hsn||"",pricingMode:ue.pricingMode||ue.pricing_mode||"LEGACY",price:Number(ue.sellingPrice??ue.selling_price??ue.price??ue.mrp??0)}));_&&T(ve)})(),()=>{_=!1}},[i]),P.useEffect(()=>{const _=Et(I);if(!_)return m([]);const Ce=w.filter(ce=>Et(ce.name).includes(_)||Et(ce.sku).includes(_)||Et(ce.brand).includes(_));m(Ce.slice(0,20))},[I,w]);const De=(_,Ce=1,ce=null)=>{$(Be=>{const Je=_.id||`${_.sku}-${_.name}`,ee=Be.findIndex(Qe=>Qe.key===Je);let ve=ce||_.pricingMode||"LEGACY",ue=0;if(ce==="MRP_INCLUSIVE"&&_.mrp>0?(ue=_.mrp,ve="MRP_INCLUSIVE"):ce==="BASE_PLUS_TAX"&&_.basePrice>0?(ue=_.basePrice,ve="BASE_PLUS_TAX"):ce==="SELLING_PRICE"||_.sellingPrice>0?(ue=_.sellingPrice||_.price||0,ve=ce||"SELLING_PRICE"):(ue=_.sellingPrice||_.price||_.mrp||_.basePrice||0,ve="LEGACY"),ee>=0){const Qe=[...Be];return Qe[ee]={...Qe[ee],qty:Number(Qe[ee].qty)+Number(Ce)},Qe}return[...Be,{key:Je,name:_.name||_.productName||"Unnamed",productName:_.productName||_.name||"Unnamed",sku:_.sku||null,brand:_.brand||null,category:_.category||null,unit:_.unit||null,sellingPrice:ue,mrp:Number(_.mrp??0),basePrice:Number(_.basePrice??0),costPrice:Number(_.costPrice??0),gstRate:Number(_.gstRate??_.taxRate??0),taxRate:Number(_.taxRate??_.gstRate??0),hsnCode:_.hsnCode||null,pricingMode:ve,qty:Number(Ce),price:ue}]})},Xe=(_,Ce)=>{$(ce=>ce.map(Be=>{if(Be.key===_){let Je=Be.sellingPrice;return Ce==="MRP_INCLUSIVE"&&Be.mrp>0?Je=Be.mrp:Ce==="BASE_PLUS_TAX"&&Be.basePrice>0?Je=Be.basePrice:Ce==="SELLING_PRICE"&&(Je=Be.sellingPrice||Be.price||0),{...Be,pricingMode:Ce,sellingPrice:Je,price:Je}}return Be}))},AA=_=>$(Ce=>Ce.filter(ce=>ce.key!==_)),$e=_=>$(Ce=>Ce.map(ce=>ce.key===_?{...ce,qty:ce.qty+1}:ce)),fA=_=>$(Ce=>Ce.map(ce=>ce.key===_?{...ce,qty:Math.max(0,ce.qty-1)}:ce).filter(ce=>ce.qty>0)),ze=(_,Ce)=>$(ce=>ce.map(Be=>Be.key===_?{...Be,qty:Math.max(0,Number.isInteger(+Ce)?+Ce:Be.qty)}:Be).filter(Be=>Be.qty>0)),lA=_=>{De(_,1),N(""),m([]),D(-1),Ie.current?.focus()},cA=_=>{if(_.key==="Enter"){const Ce=I.trim();if(y>=0&&Q[y])return lA(Q[y]);if(Ce){const ce=w.find(Be=>Et(Be.sku)===Et(Ce))||w.find(Be=>Et(Be.name)===Et(Ce));if(ce)return lA(ce)}if(Q.length)return lA(Q[0])}else _.key==="ArrowDown"&&Q.length?(_.preventDefault(),D(Ce=>(Ce+1)%Q.length)):_.key==="ArrowUp"&&Q.length?(_.preventDefault(),D(Ce=>(Ce-1+Q.length)%Q.length)):_.key==="Escape"&&(m([]),D(-1))},ke=()=>{if(!u)return"Select a retailer";if(H.length===0)return"Add at least one product";for(let ce=0;ce<H.length;ce++){const Be=H[ce];if(!Be.name||!Be.name.trim())return`Product ${ce+1} is missing a name. Please check your product catalog.`;if(!Be.qty||Number(Be.qty)<=0)return`${Be.name||"Product"} has invalid quantity. Please set quantity to at least 1.`;if(!Be.price||Number(Be.price)<=0)return`${Be.name||"Product"} has invalid price. Please check product pricing.`}if(!ie)return"Select a delivery date";const _=new Date(ie),Ce=new Date;return Ce.setHours(0,0,0,0),_<Ce?"Delivery date cannot be in the past. Please select a future date.":F==="Credit"&&(!M||Number(M)<=0)?"Credit days must be greater than 0":F==="Advance"&&(!S||Number(S)<=0)?"Advance amount must be greater than 0":i?"":"Distributor ID not found. Please refresh the page."},nA=()=>{a(1),f(""),E(!1),j(null),N(""),m([]),D(-1),$([]),re(""),C(si[0].value),R(15),K(0),de("")},Me=async()=>{const _=ke();if(_)return tA.error(_);if(!i)return tA.error("Distributor ID not found. Please refresh and try again.");try{me(!0);const Ce=(u?.displayName||"").trim();let ce=cr();const Be=On.currentUser;let Je=lt.currentUser;console.log("[PassiveOrders] Authentication check:",{hasSession:!!ce,sessionEmployeeId:ce?.employeeId,sessionDistributorId:ce?.distributorId,sessionName:ce?.name,sessionFlypId:ce?.flypEmployeeId,hasEmployeeAuth:!!Je,employeeAuthUid:Je?.uid,hasOwnerAuth:!!Be,ownerAuthUid:Be?.uid,ownerAuthDisplayName:Be?.displayName,distributorId:i});const ee=!!ce,ve=!!Je,ue=Be?.uid,Qe=ce?.distributorId,he=ee&&!ve&&Qe===ue;let He=!1;if(ve&&ee&&!he?(He=!0,console.log("[PassiveOrders]  Employee authenticated - setting isEmployee = true",{employeeAuthUid:Je.uid,sessionEmployeeId:ce.employeeId,sessionName:ce.name,hasOwnerAuth:!!Be,ownerUid:ue})):Be&&Be.uid===i?(He=!1,console.log("[PassiveOrders]  Owner authenticated - setting isEmployee = false",{ownerUid:Be.uid,distributorId:i,hasSession:ee,hasEmployeeAuth:ve})):(He=!1,console.log("[PassiveOrders]  Fallback: treating as owner",{hasEmployeeAuth:ve,hasSession:ee,isStaleSession:he,hasOwnerAuth:!!Be})),!He&&ee&&!ve&&!he&&!Be){console.warn("[PassiveOrders]  Employee session exists but empAuth is not authenticated. Waiting for auth state to restore...",{sessionDistributorId:Qe,ownerUid:ue,distributorId:i,isStaleSession:he});let ae=!1,Pe=null;try{await new Promise((Oe,aA)=>{const qe=setTimeout(()=>{Pe&&Pe(),aA(new Error("Auth restoration timeout"))},2e3);Pe=Tt(lt,uA=>{uA&&(ae=!0,clearTimeout(qe),Pe&&Pe(),console.log("[PassiveOrders]  Auth state restored:",uA.uid),Oe(uA))}),lt.currentUser&&(ae=!0,clearTimeout(qe),Pe&&Pe(),Oe(lt.currentUser))});const eA=lt.currentUser;eA&&(He=!0,Je=eA,console.log("[PassiveOrders]  Auth state restored:",eA.uid))}catch(eA){console.error("[PassiveOrders]  Auth restoration failed:",eA),Pe&&Pe();const Oe=eA.message==="Auth restoration timeout"?"Employee authentication is taking too long. Please refresh the page and try again.":"Employee authentication not available. Please refresh the page or log in again.";return me(!1),tA.error(Oe)}if(!lt.currentUser)return console.error("[PassiveOrders]  CRITICAL: Employee session exists but empAuth is still not authenticated after waiting.",{sessionEmployeeId:ce?.employeeId,sessionName:ce?.name,hasSession:!!ce,hasEmployeeAuth:!!lt.currentUser}),me(!1),tA.error("Employee authentication required. Please refresh the page or log in again.")}he&&(console.log("[PassiveOrders]  Detected stale employee session (session.distributorId matches owner UID). Treating as distributor owner.",{sessionDistributorId:Qe,ownerUid:ue,distributorId:i}),He=!1,ce=null),console.log("[PassiveOrders]  Final authentication decision:",{isEmployee:He,hasSession:!!ce,hasEmployeeAuth:!!Je,isStaleSession:he,ownerUid:ue,sessionDistributorId:Qe,distributorId:i});let ye=null,We=null,rA=null;if(He&&ce&&Je&&!he){ye=Je.uid,ye!==ce.employeeId&&(console.warn("[PassiveOrders]  creatorUid does not match session.employeeId:",{creatorUid:ye,sessionEmployeeId:ce.employeeId,employeeAuthUid:Je.uid}),ye=Je.uid);let ae=ce.name||null,Pe=ce.role||null,eA=ce.flypEmployeeId||null,Oe=ce.employeeId||null;if(Oe&&i)try{let aA=null;try{const qe=oA(Or,"businesses",i,"distributorEmployees",Oe);aA=await GA(qe)}catch(qe){console.warn("[PassiveOrders] Failed to fetch from empDB, trying db:",qe)}if(!aA||!aA.exists()){const qe=oA(Ps,"businesses",i,"distributorEmployees",Oe);aA=await GA(qe)}if(aA&&aA.exists()){const qe=aA.data();ae=qe.name||ae||ce.name||"Employee",Pe=qe.role||Pe||ce.role||"Employee",eA=qe.flypEmployeeId||eA||ce.flypEmployeeId||null,Oe=Oe||aA.id,console.log("[PassiveOrders]  Fetched employee details from Firestore:",{employeeId:Oe,employeeName:ae,employeeRole:Pe,flypEmployeeId:eA,source:"Firestore"})}else console.warn("[PassiveOrders]  Employee document not found in Firestore:",{employeeId:Oe,distributorId:i,usingSessionData:!0}),ae=ae||ce.name||"Employee",Pe=Pe||ce.role||"Employee",eA=eA||ce.flypEmployeeId||null}catch(aA){console.error("[PassiveOrders]  Error fetching employee details:",aA),ae=ae||ce.name||"Employee",Pe=Pe||ce.role||"Employee",eA=eA||ce.flypEmployeeId||null}else console.warn("[PassiveOrders]  Missing employeeId or distributorId, using session data only:",{employeeId:Oe,distributorId:i}),ae=ae||ce.name||"Employee",Pe=Pe||ce.role||"Employee",eA=eA||ce.flypEmployeeId||null;(!ae||ae==="Employee"||ae.trim()==="")&&(console.error("[PassiveOrders]  CRITICAL: Employee name is missing or invalid!",{employeeName:ae,sessionName:ce.name,employeeId:Oe,sessionData:ce}),ae=ae||eA||ce.flypEmployeeId||"Employee"),rA={type:"employee",uid:ye,employeeId:Oe,name:ae,role:Pe||"Employee",flypEmployeeId:eA||null},console.log("[PassiveOrders]  Final createdByInfo for employee order:",{createdByInfo:rA,isEmployee:!0,hasEmployeeAuth:!!Je,sessionEmployeeId:ce.employeeId})}else if(Be&&Be.uid===i){ye=Be.uid,We=Be.email||null;let ae=Be.displayName||null;try{const Pe=oA(Ps,"businesses",i),eA=await GA(Pe);if(eA.exists()){const Oe=eA.data();ae=Oe.businessName||Oe.ownerName||Be.displayName||null}}catch(Pe){console.warn("[PassiveOrders] Failed to fetch distributor profile for name:",Pe)}rA={type:"distributor",uid:Be.uid,name:ae||Be.displayName||"Distributor Owner"},console.log("[PassiveOrders]  Set createdByInfo for distributor owner:",{createdByInfo:rA,ownerUid:Be.uid,ownerEmail:Be.email,distributorName:ae})}else console.warn("[PassiveOrders]  No ownerAuth but treating as owner - using distributorId as fallback",{hasOwnerAuth:!!Be,ownerUid:Be?.uid,distributorId:i}),ye=i,rA={type:"distributor",uid:i,name:"Distributor Owner"};let v=He?Or:Ps;if(He&&!Je&&ce&&!he)return console.error("[PassiveOrders]  CRITICAL: Employee session exists but empAuth.currentUser is null.",{sessionEmployeeId:ce?.employeeId,sessionName:ce?.name,distributorId:i,hasSession:!!ce,isStaleSession:he}),me(!1),tA.error("Employee authentication not available. Please refresh the page or log in again.");if(He&&Je&&ce&&!he&&ye!==Je.uid&&(console.warn("[PassiveOrders]  creatorUid does not match employeeAuth.uid. Correcting...",{creatorUid:ye,employeeAuthUid:Je.uid,sessionEmployeeId:ce?.employeeId}),ye=Je.uid),!He&&Be&&i!==Be.uid)return console.error("[PassiveOrders] MISMATCH: distributorId does not match owner UID",{distributorId:i,ownerUid:Be.uid}),tA.error("Distributor ID mismatch. Please refresh and try again.");let ge=u.type==="provisional";!ge&&(u.provisionalId||typeof u.status=="string"&&u.status.toLowerCase().startsWith("provisioned")||typeof u.source=="string"&&u.source.toLowerCase().startsWith("provisioned"))&&(console.warn('[PassiveOrders] Retailer type mismatch detected! Retailer has provisional indicators but type is "connected". Re-checking...',{selectedRetailer:u,provisionalId:u.provisionalId,status:u.status,source:u.source}),ge=!0);try{let ae=!1,Pe=null,eA=null;if(u.provisionalId)try{const Oe=oA(v,"provisionalRetailers",u.provisionalId),aA=await GA(Oe);if(aA.exists()){const qe=aA.data();ae=!0,Pe="provisionalRetailers",eA=qe,console.log("[PassiveOrders] Firestore verification: Retailer is PROVISIONAL (found in provisionalRetailers collection)",{provisionalId:u.provisionalId,status:qe.status})}}catch(Oe){console.warn("[PassiveOrders] Failed to check provisionalRetailers:",Oe)}if(!ae&&u.provisionalId)try{const Oe=OA(v,"businesses",i,"connectedRetailers"),aA=Bs(Oe,ws("provisionalId","==",u.provisionalId)),qe=await Yt(aA);if(!qe.empty){const uA=qe.docs[0].data();(uA.provisionalId||typeof uA.source=="string"&&uA.source.toLowerCase().startsWith("provisioned")||typeof uA.status=="string"&&uA.status.toLowerCase().startsWith("provisioned")||uA.status==="provisional"||uA.status==="accepted"&&typeof uA.source=="string"&&uA.source.toLowerCase().startsWith("provisioned"))&&(ae=!0,Pe="connectedRetailers (by provisionalId)",eA=uA,console.log("[PassiveOrders] Firestore verification: Retailer is PROVISIONAL (found in connectedRetailers by provisionalId)",{provisionalId:u.provisionalId,source:uA.source,status:uA.status}))}}catch(Oe){console.warn("[PassiveOrders] Failed to query connectedRetailers by provisionalId:",Oe)}if(!ae)try{const Oe=oA(v,"businesses",i,"connectedRetailers",u.id),aA=await GA(Oe);if(aA.exists()){const qe=aA.data();(qe.provisionalId||typeof qe.source=="string"&&qe.source.toLowerCase().startsWith("provisioned")||typeof qe.status=="string"&&qe.status.toLowerCase().startsWith("provisioned")||qe.status==="provisional")&&(ae=!0,Pe="connectedRetailers (by document ID)",eA=qe,console.log("[PassiveOrders] Firestore verification: Retailer is PROVISIONAL (found in connectedRetailers by document ID)",{retailerId:u.id,provisionalId:qe.provisionalId,source:qe.source,status:qe.status}))}}catch(Oe){console.warn("[PassiveOrders] Failed to check connectedRetailers by document ID:",Oe)}ae?(ge=!0,console.log("[PassiveOrders] Final verification result: PROVISIONAL",{verificationSource:Pe,verificationData:eA})):console.log("[PassiveOrders] Firestore verification: No provisional indicators found, using fallback logic",{selectedRetailerType:u.type,selectedRetailerProvisionalId:u.provisionalId,selectedRetailerStatus:u.status})}catch(ae){console.error("[PassiveOrders] Firestore verification failed (using fallback logic):",ae)}console.log("[PassiveOrders] Creating order:",{isEmployee:He,hasEmployeeAuth:!!Je,hasOwnerAuth:!!Be,ownerUid:Be?.uid,creatorUid:ye,distributorId:i,distributorIdMatchesOwner:He?"N/A":i===Be?.uid,usingFirestore:v===Or?"empDB":"db",selectedRetailer:{id:u.id,displayName:u.displayName,type:u.type,provisionalId:u.provisionalId,status:u.status},isProvisionalRetailer:ge,retailerMode:ge?"passive":"active",finalDecision:ge?"PASSIVE ORDER":"ACTIVE ORDER"}),console.log("[PassiveOrders]  FINAL PROVISIONAL DECISION",{retailerName:Ce,isProvisionalRetailer:ge,selectedRetailer:u});const fe=ge||u?.type==="provisional"||typeof u?.source=="string"&&u.source.toLowerCase().startsWith("provisioned")||typeof u?.status=="string"&&u.status.toLowerCase().startsWith("provisioned")||!!u?.provisionalId,W=Ww(H),J=(u?.displayName||"").trim(),Ae=u?.phone||"",je=u?.email||"",Ne=u?.city||"",te=u?.state||"",Ee=u?.address||"",c=hs(F),V={isCredit:!!c.isCredit,isAdvance:!!c.isAdvance,isSplit:!!c.isSplit,isCOD:!!c.isCOD,isUPI:!!c.isUPI,isNetBanking:!!c.isNetBanking,isCheque:!!c.isCheque},k=c.label||(typeof F=="string"?F:"");let G="";try{const ae=oA(v,"businesses",i),Pe=await GA(ae);Pe.exists()&&(G=Pe.data().state||"")}catch(ae){console.warn("[PassiveOrders] Failed to fetch distributor profile:",ae)}const pe=te||G||"Maharashtra",oe=W.map(ae=>({qty:Number(ae.quantity||ae.qty||0),price:Number(ae.sellingPrice||ae.price||0),gstRate:0,itemDiscountPct:0,itemDiscountAmt:0})),q=Zs({lines:oe,orderCharges:{delivery:0,packing:0,insurance:0,other:0,discountPct:0,discountAmt:0},distributorState:G||"Maharashtra",retailerState:pe,roundingEnabled:!1}),xe={breakdown:{grossItems:Number(q.grossItems||0),lineDiscountTotal:Number(q.lineDiscountTotal||0),itemsSubTotal:Number(q.itemsSubTotal||q.subTotal||0),subTotal:Number(q.subTotal||0),delivery:0,packing:0,insurance:0,other:0,discountPct:0,discountAmt:0,discountTotal:Number(q.discountTotal||0),taxableBase:Number(q.taxableBase||0),taxBreakup:{cgst:Number(q.taxBreakup?.cgst||0),sgst:Number(q.taxBreakup?.sgst||0),igst:Number(q.taxBreakup?.igst||0)},roundOff:Number(q.roundOff||0),grandTotal:Number(q.grandTotal||0)},defaultsUsed:{cgstRate:null,sgstRate:null,igstRate:null,roundEnabled:!1},directFlow:!0},le=ae=>{if(ae===null)return null;if(ae===void 0)return"__UNDEFINED__";if(ae instanceof Date||ae&&typeof ae=="object"&&"_methodName"in ae||ae&&typeof ae=="function"&&ae._methodName)return ae;if(Array.isArray(ae))return ae.map(le).filter(eA=>eA!=="__UNDEFINED__");if(ae&&typeof ae=="object"){const Pe={};for(const[eA,Oe]of Object.entries(ae)){const aA=le(Oe);aA!=="__UNDEFINED__"&&(Pe[eA]=aA)}return Pe}return typeof ae=="number"&&Number.isNaN(ae)?0:ae},Fe=rA?{type:rA.type||(He?"employee":"distributor"),uid:rA.uid||null,employeeId:rA.employeeId||null,name:rA.name||null,role:rA.role||null,flypEmployeeId:rA.flypEmployeeId||null}:null;if(he&&Fe&&Fe.type==="employee"&&(console.error("[PassiveOrders]  CRITICAL BUG: Stale session detected but createdByInfo still shows employee!",{isStaleSession:he,isEmployee:He,createdByInfo:rA,cleanCreatedByInfo:Fe}),Be)){const ae={type:"distributor",uid:Be.uid,name:Be.displayName||"Distributor Owner"};console.log("[PassiveOrders]  Fixing createdByInfo to use owner data:",ae)}const Ue=He&&Fe&&Fe.employeeId?[{action:"created",employeeId:Fe.employeeId,flypEmployeeId:Fe.flypEmployeeId||Fe.employeeId||null,employeeName:Fe.name||"Employee",employeeRole:Fe.role||"Employee",at:new Date().toISOString()}]:null,jA={createdBy:He?"employee":"distributor",creatorUid:He&&ce&&Je?ce.employeeId||ye||null:ye||null,...We?{creatorEmail:We}:{},...Fe?{creatorDetails:le(Fe)}:{},...Ue?{employeeActivity:Ue}:{},distributorId:i||null,retailerId:fe?null:u?.id||null,retailerMode:fe?"passive":"active",mode:fe?"passive":"active",isProvisional:fe,provisionalRetailerId:fe?u?.provisionalId||u?.id:null,retailerBusinessName:J||null,retailerName:J||null,retailerPhone:Ae||null,retailerEmail:je||null,retailerCity:Ne||null,retailerState:pe||null,retailerAddress:Ee||null,retailerInfo:{name:J||null,phone:Ae||null,email:je||null,city:Ne||null,state:pe||null,address:Ee||null,type:u?.type||null,provisionalId:u?.type==="provisional"&&(u?.provisionalId||u?.id)||null},status:"Requested",statusCode:JA.REQUESTED,timestamp:UA(),statusTimestamps:{requestedAt:UA()},items:Array.isArray(W)?W:[],itemsSubTotal:Array.isArray(W)?W.reduce((ae,Pe)=>ae+Number(Pe.lineTotal||0),0):0,chargesSnapshot:xe||{},distributorState:G||"Maharashtra",retailerState:pe||null,createdAt:UA(),deliveryDate:new Date(`${ie}T00:00:00`),deliveryMode:"Courier",paymentMethod:c&&c.code?c.code:null,paymentMode:k||"Cash",paymentFlags:V||{},payment:{type:k||"Cash",...V?.isCredit&&M?{creditDays:Number(M)||0}:{},...V?.isAdvance&&S?{advanceAmount:Number(S)||0}:{}},policyVersion:Sc||"1",notes:(Z||"").trim()||null},Te=ae=>{if(ae===null)return null;if(ae!==void 0){if(ae&&typeof ae=="object"&&"_methodName"in ae||ae instanceof Date)return ae;if(Array.isArray(ae)){const Pe=ae.map(Te).filter(eA=>eA!==void 0);return Pe.length>0?Pe:void 0}if(ae&&typeof ae=="object"){const Pe={};let eA=!1;for(const[Oe,aA]of Object.entries(ae)){const qe=Te(aA);qe!==void 0&&(Pe[Oe]=qe,eA=!0)}return eA?Pe:void 0}return ae}},Re=Te(jA);if(!Re||typeof Re!="object")throw console.error("[PassiveOrders] Order data sanitization failed - data is invalid"),new Error("Failed to prepare order data");if(console.log("[PassiveOrders] Creating order with employee tracking:",{isEmployee:He,createdBy:Re.createdBy,creatorDetails:Re.creatorDetails,hasEmployeeActivity:!!Re.employeeActivity,orderKeys:Object.keys(Re)}),!v)throw new Error("Database connection not available. Please refresh the page.");if(!i)throw new Error("Distributor ID is missing. Please refresh the page.");if(!Re||typeof Re!="object")throw new Error("Order data is invalid. Please check all fields and try again.");if(!Array.isArray(Re.items)||Re.items.length===0)throw new Error("Order must have at least one item. Please add products to the order.");if(!Re.retailerName||!Re.retailerName.trim())throw new Error("Retailer name is required. Please select a retailer.");if(!Re.creatorUid){const ae=He?"Employee authentication failed. Please refresh the page or log in again.":"User authentication failed. Please refresh the page or log in again.";throw new Error(ae)}const dA=Re.items.filter(ae=>!ae.name||!ae.quantity||Number(ae.quantity)<=0||!ae.price||Number(ae.price)<=0);if(dA.length>0)throw new Error(`Invalid items found: ${dA.length} item(s) have missing or invalid data. Please check product details.`);console.log("[PassiveOrders]  All validations passed. Attempting to create order with:",{firestore:v===Or?"empDB":"db",distributorId:i,createdBy:Re.createdBy,creatorUid:Re.creatorUid,isEmployee:He,hasOwnerAuth:!!Be,hasEmployeeAuth:!!Je,ownerUid:Be?.uid,employeeUid:Je?.uid,itemCount:Re.items?.length||0,retailerName:Re.retailerName});const mA=Re.items||[];if(mA.some(ae=>ae.sku||ae.SKU)&&mA.length>0)try{const ae=OA(v,"businesses",i,"orderRequests"),Pe=oA(ae),eA=Pe.id;await Um(i,eA,mA),console.log("[PassiveOrders]  Stock reserved for order:",eA),Re.id=eA,Re.stockReservedAt=UA(),Re.stockReserved=!0,await jr(Pe,Re),console.log("[PassiveOrders]  Order created successfully with stock reserved"),tA.success("Order created successfully! Stock reserved."),nA()}catch(ae){return console.error("[PassiveOrders]  Stock reservation failed:",ae),me(!1),tA.error(`Cannot create order: ${ae.message||"Insufficient stock available"}`)}else{const ae=OA(v,"businesses",i,"orderRequests");await cm(ae,Re),console.log("[PassiveOrders]  Order created successfully (no SKUs - stock not reserved)"),tA.success("Order created successfully!"),nA()}}catch(Ce){console.error("[PassiveOrders]  Order creation failed:",Ce);let ce={};try{ce={code:Ce.code||"unknown",message:Ce.message||"Unknown error",stack:Ce.stack,firestore:typeof firestore<"u"&&firestore?firestore===Or?"empDB":"db":"undefined",distributorId:typeof i<"u"?i:"undefined",isEmployee:typeof isEmployee<"u"?isEmployee:"undefined",hasOwnerAuth:typeof ownerAuth<"u"?!!ownerAuth:"undefined",hasEmployeeAuth:typeof employeeAuth<"u"?!!employeeAuth:"undefined"},typeof finalOrderData<"u"&&finalOrderData&&(ce.createdBy=finalOrderData.createdBy,ce.creatorUid=finalOrderData.creatorUid,ce.itemCount=finalOrderData.items?.length||0),console.error("[PassiveOrders] Error details:",ce)}catch(Je){console.error("[PassiveOrders] Failed to log error details:",Je),console.error("[PassiveOrders] Original error:",Ce)}let Be="Failed to create order.";Ce.code==="permission-denied"?Be=isEmployee?"Permission denied. Your employee account may not have permission to create orders. Please contact your administrator.":"Permission denied. Please check your access or contact support.":Ce.code==="unauthenticated"?Be=isEmployee?"Employee authentication expired. Please refresh the page or log in again.":"Authentication required. Please login again.":Ce.code==="failed-precondition"?Be="Order creation failed due to a system error. Please try again or contact support.":Ce.code==="invalid-argument"?Be="Invalid order data. Please check all fields and try again.":Ce.message?Be=Ce.message:Ce.name==="FirebaseError"&&(Be=`Database error: ${Ce.code||"unknown"}. Please try again or contact support.`),console.error("[PassiveOrders] Final error message:",Be),console.error("[PassiveOrders] Full error object:",Ce),tA.error(Be)}finally{me(!1)}};return e.jsx("div",{className:"w-full text-slate-200",children:e.jsxs("div",{className:"mx-auto w-full max-w-7xl px-4 py-6",children:[e.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-slate-100 mb-1",children:"Create Order"}),e.jsx("p",{className:"text-sm text-emerald-500 mb-6",children:"Step flow  Retailer  Products  Review (Passive / Provisional Flow)"}),e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"flex items-center gap-2 text-xs",children:[1,2,3].map((_,Ce)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`h-7 w-7 rounded-full grid place-items-center border transition-all duration-150 ${A===_?"bg-emerald-500 text-slate-900 border-emerald-400":"bg-[#161b22] text-slate-400 border-slate-700/70"}`,children:_}),Ce<2&&e.jsx("div",{className:"w-10 h-[2px] bg-slate-700"})]},_))})}),e.jsxs("section",{className:`mb-8 ${A!==1?"opacity-70 pointer-events-none":""}`,children:[e.jsxs("header",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex items-center",children:e.jsx("h2",{className:"text-base text-slate-100 font-semibold",children:"1 Retailer Details"})}),u?e.jsx("button",{className:"text-emerald-400 text-sm hover:underline",onClick:()=>j(null),children:"Change"}):null]}),u?e.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-700/40 bg-[#273244] p-3 shadow-sm",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-100",children:u.displayName}),e.jsxs("div",{className:"text-xs text-slate-400",children:[u.phone,"  ",u.email,"  ",u.type]})]}),e.jsx("button",{onClick:()=>a(2),className:"px-3 py-2 rounded-lg bg-emerald-500 text-slate-900 font-semibold hover:brightness-110 transform transition-transform duration-150 hover:-translate-y-0.5",children:"Continue"})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm mb-2 text-slate-400",children:"Search retailer by name / phone / email"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{value:p,onChange:_=>f(_.target.value),onFocus:()=>E(!0),placeholder:"e.g., Om Sai Kirana, 98xxxxxx10",className:"w-full px-4 py-3 rounded-xl border border-slate-600/50 bg-[#1d2633] text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),p&&e.jsx("button",{type:"button",onClick:()=>{f(""),E(!1)},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",title:"Clear",children:""})]}),e.jsx("div",{className:"mt-2 rounded-xl border border-slate-700/50 bg-[#1d2633] max-h-60 overflow-auto shadow",children:h?e.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"Loading retailers"}):o.length===0?e.jsx("div",{className:"px-3 py-2 text-sm text-slate-500",children:"No retailers found."}):e.jsx("div",{className:"divide-y divide-slate-700",children:o.map(_=>e.jsxs("button",{onClick:()=>{j(_),E(!1),a(2)},className:"w-full text-left px-3 py-2 hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"text-sm font-medium flex items-center gap-2",children:[_.displayName,e.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full border ${_.type==="provisional"?"bg-amber-500/10 text-amber-400 border-amber-500/30":"bg-emerald-500/10 text-emerald-400 border-emerald-500/30"}`,children:_.type})]}),e.jsxs("div",{className:"text-xs text-slate-400",children:[_.phone,"  ",_.email]})]},_.id))})})]})]}),e.jsxs("section",{className:`mb-8 ${A<2?"opacity-40 pointer-events-none":A>2?"opacity-70 pointer-events-none":""}`,children:[e.jsxs("header",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base text-slate-100 font-semibold",children:"2 Products"}),A===2&&e.jsx("button",{className:"text-sm bg-slate-700 text-slate-300 px-3 py-1 rounded-lg hover:bg-slate-600 border border-slate-600 shadow-sm transition",onClick:()=>a(3),disabled:H.length===0,children:"Review"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm mb-2 text-slate-400",children:"Scan / Search"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{ref:Ie,value:I,onChange:_=>N(_.target.value),onKeyDown:cA,placeholder:"Scan barcode or type: sku:ABC123, brand:amul, name:atta",className:"w-full px-4 py-3 rounded-xl border border-slate-600/50 bg-[#1d2633] text-slate-100 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500"}),I&&e.jsx("button",{type:"button",onClick:()=>{N(""),m([]),D(-1),Ie.current?.focus()},className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",title:"Clear",children:""})]}),!!Q.length&&e.jsx("div",{className:"mt-2 rounded-xl border border-slate-700/50 bg-[#1d2633] divide-y divide-slate-600/40 max-h-56 overflow-auto shadow",children:Q.map((_,Ce)=>e.jsxs("button",{onClick:()=>lA(_),className:`w-full text-left px-3 py-2 hover:bg-[#2f3a4d] ${Ce===y?"bg-[#2f3a4d]":""}`,children:[e.jsx("div",{className:"text-sm font-medium text-slate-200",children:_.name}),e.jsxs("div",{className:"text-xs text-slate-400",children:["SKU: ",_.sku||"-","  ",_.brand||"-"]})]},_.id??_.sku??Ce))})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mb-3",children:(w.length?w.slice(0,8):Xw).map(_=>e.jsxs("button",{onClick:()=>De(_),className:"rounded-xl border border-slate-700/40 bg-[#273244] p-3 text-left hover:bg-white/5 transition-all duration-150 ease-out shadow-sm hover:shadow-md",children:[e.jsx("div",{className:"font-medium text-sm truncate text-slate-100",children:_.name}),e.jsxs("div",{className:"text-xs text-slate-400 truncate",children:[_.brand,"  ",_.sku]}),e.jsxs("div",{className:"mt-2 text-sm text-emerald-400",children:["",Ot(_.price)]})]},_.id))}),H.length===0?e.jsxs("div",{className:"text-sm text-slate-400 p-5 border border-dashed border-slate-700/50 rounded-xl bg-[#1d2633]/60",children:["Start by ",e.jsx("span",{className:"text-emerald-400",children:"scanning"})," or ",e.jsx("span",{className:"text-emerald-400",children:"searching"})," items, or use ",e.jsx("span",{className:"text-emerald-400",children:"Quick Picks"}),"."]}):e.jsx("div",{className:"overflow-auto rounded-xl border border-slate-700/50 bg-[#1d2633]/40",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"text-xs uppercase text-slate-300 bg-white/5 sticky top-0",children:e.jsxs("tr",{className:"border-b border-slate-700/50",children:[e.jsx("th",{className:"text-left py-3 px-3 min-w-[200px]",children:"Product Details"}),e.jsx("th",{className:"text-left py-3 px-3 min-w-[100px]",children:"SKU"}),e.jsx("th",{className:"text-left py-3 px-3 min-w-[100px]",children:"Brand"}),e.jsx("th",{className:"text-left py-3 px-3 min-w-[100px]",children:"Category"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[80px]",children:"Unit"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[90px]",children:"Base Price"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[90px]",children:"MRP"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[80px]",children:"GST %"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[120px]",children:"Price Mode"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[90px]",children:"Selling Price"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[100px]",children:"Qty"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[100px]",children:"Subtotal"}),e.jsx("th",{className:"py-3 px-3 text-center w-20",children:""})]})}),e.jsx("tbody",{children:H.map(_=>{const Ce=Number(_.sellingPrice||_.price||0),ce=Number(_.qty)*Ce;return e.jsxs("tr",{className:"border-b border-slate-700/30 hover:bg-[#2f3a4d]/50 transition-colors",children:[e.jsxs("td",{className:"py-3 px-3",children:[e.jsx("div",{className:"font-medium text-slate-100",children:_.productName||_.name}),_.hsnCode&&e.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:["HSN: ",_.hsnCode]})]}),e.jsx("td",{className:"py-3 px-3 text-slate-300",children:_.sku||"-"}),e.jsx("td",{className:"py-3 px-3 text-slate-300",children:_.brand||"-"}),e.jsx("td",{className:"py-3 px-3 text-slate-300",children:_.category||"-"}),e.jsx("td",{className:"py-3 px-3 text-right text-slate-300",children:_.unit||"-"}),e.jsx("td",{className:"py-3 px-3 text-right",children:(()=>{let Be=_.basePrice;return!Be&&_.pricingMode==="MRP_INCLUSIVE"&&_.mrp>0&&(_.gstRate||_.taxRate)>0&&(Be=nt(_.mrp,_.gstRate||_.taxRate).base),Be>0?e.jsxs("span",{className:"text-slate-200",children:["",Ot(Be)]}):e.jsx("span",{className:"text-slate-500",children:"-"})})()}),e.jsx("td",{className:"py-3 px-3 text-right",children:_.mrp>0?e.jsxs("span",{className:"text-slate-200",children:["",Ot(_.mrp)]}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-3 text-right",children:(_.gstRate||_.taxRate)>0?e.jsxs("span",{className:"text-slate-200",children:[_.gstRate||_.taxRate,"%"]}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-3 text-right",children:e.jsxs("select",{value:_.pricingMode||"LEGACY",onChange:Be=>Xe(_.key,Be.target.value),className:"text-xs rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100 px-2 py-1 min-w-[100px] focus:outline-none focus:ring-2 focus:ring-emerald-500",children:[_.mrp>0&&e.jsx("option",{value:"MRP_INCLUSIVE",children:"MRP (GST Included)"}),_.sellingPrice>0&&e.jsx("option",{value:"SELLING_PRICE",children:"Selling Price"}),_.basePrice>0&&e.jsx("option",{value:"BASE_PLUS_TAX",children:"Base + Tax"}),!_.mrp&&!_.sellingPrice&&!_.basePrice&&e.jsx("option",{value:"LEGACY",children:"Legacy"})]})}),e.jsx("td",{className:"py-3 px-3 text-right",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",Ot(Ce)]})}),e.jsx("td",{className:"py-3 px-3 text-right min-w-[100px]",children:e.jsxs("div",{className:"inline-flex items-center gap-1",children:[e.jsx("button",{onClick:()=>fA(_.key),className:"h-7 w-7 rounded-lg border border-slate-600/50 bg-[#243041] hover:bg-[#2c3a4f] transition text-slate-300",children:"-"}),e.jsx("input",{type:"number",value:_.qty,onChange:Be=>ze(_.key,Be.target.value),className:"w-16 text-center rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100 px-2 py-1"}),e.jsx("button",{onClick:()=>$e(_.key),className:"h-7 w-7 rounded-lg border border-slate-600/50 bg-[#243041] hover:bg-[#2c3a4f] transition text-slate-300",children:"+"})]})}),e.jsx("td",{className:"py-3 px-3 text-right",children:e.jsxs("span",{className:"font-semibold text-slate-100",children:["",Ot(ce)]})}),e.jsx("td",{className:"py-3 px-3 text-center",children:e.jsx("button",{onClick:()=>AA(_.key),className:"px-2 py-1 rounded-lg border border-red-500/30 text-xs hover:bg-red-500/20 text-red-400 transition",children:"Remove"})})]},_.key)})})]})}),A===2&&e.jsx("div",{className:"mt-3 flex items-center justify-end",children:e.jsx("button",{className:"px-4 py-2 rounded-xl bg-emerald-500 text-slate-900 font-semibold hover:brightness-110 disabled:opacity-60 transform transition-transform duration-150 hover:-translate-y-0.5",disabled:H.length===0,onClick:()=>a(3),children:"Review & Continue"})})]}),e.jsxs("section",{className:`${A<3?"opacity-40 pointer-events-none":""}`,children:[e.jsxs("header",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base text-slate-100 font-semibold",children:"3 Review & Create"}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Total: ",e.jsxs("span",{className:"text-slate-100 font-semibold",children:["",Ot(z)]})," (",H.length," item",H.length!==1?"s":"",")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"rounded-xl border border-slate-700/50 bg-[#1d2633]/60 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Retailer"}),u?e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-slate-100",children:u.displayName}),e.jsxs("div",{className:"text-xs text-slate-400",children:[u.phone,"  ",u.email,"  ",u.type]})]}):e.jsx("div",{className:"text-xs text-slate-400",children:""})]}),e.jsxs("div",{className:"rounded-xl border border-slate-700/50 bg-[#1d2633]/60 p-3",children:[e.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Items"}),e.jsxs("div",{className:"text-sm text-slate-100",children:[H.length," line(s)"]}),e.jsxs("div",{className:"text-xs text-slate-400",children:["Subtotal: ",Ot(z)]})]}),e.jsxs("div",{className:"rounded-xl border border-slate-700/50 bg-[#1d2633]/60 p-3 space-y-2",children:[e.jsx("div",{className:"text-xs text-slate-400",children:"Delivery & Payment"}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("input",{type:"date",value:ie,onChange:_=>re(_.target.value),className:"px-3 py-2 rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100"}),e.jsx("select",{value:F,onChange:_=>C(_.target.value),className:"px-3 py-2 rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100",children:si.map(_=>e.jsx("option",{value:_.value,className:"bg-[#1d2633]",children:_.label},_.value))}),F==="Credit"&&e.jsx("input",{type:"number",min:"1",value:M,onChange:_=>R(Number(_.target.value)||0),className:"w-24 text-right px-3 py-2 rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100",placeholder:"Days"}),F==="Advance"&&e.jsx("input",{type:"number",min:"0",step:"0.01",value:S,onChange:_=>K(Number(_.target.value)||0),className:"w-28 text-right px-3 py-2 rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100",placeholder:""})]}),e.jsx("textarea",{rows:2,value:Z,onChange:_=>de(_.target.value),className:"w-full px-3 py-2 rounded-lg border border-slate-600/50 bg-[#1d2633] text-slate-100 placeholder-slate-500",placeholder:"Notes / instructions (optional)"})]})]}),e.jsx("div",{className:"mt-4 overflow-auto rounded-xl border border-slate-700/50 bg-[#1d2633]/40",children:e.jsxs("table",{className:"min-w-full text-sm",children:[e.jsx("thead",{className:"text-xs uppercase text-slate-300 bg-white/5 sticky top-0",children:e.jsxs("tr",{className:"border-b border-slate-700/50",children:[e.jsx("th",{className:"text-left py-3 px-3 min-w-[200px]",children:"Product Details"}),e.jsx("th",{className:"text-left py-3 px-3 min-w-[100px]",children:"SKU"}),e.jsx("th",{className:"text-left py-3 px-3 min-w-[100px]",children:"Brand"}),e.jsx("th",{className:"text-left py-3 px-3 min-w-[100px]",children:"Category"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[80px]",children:"Unit"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[90px]",children:"Base Price"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[90px]",children:"MRP"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[80px]",children:"GST %"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[90px]",children:"Selling Price"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[80px]",children:"Qty"}),e.jsx("th",{className:"text-right py-3 px-3 min-w-[100px]",children:"Subtotal"})]})}),e.jsx("tbody",{children:H.map(_=>{const Ce=Number(_.sellingPrice||_.price||0),ce=Number(_.qty)*Ce;return e.jsxs("tr",{className:"border-t border-slate-700/30 hover:bg-[#2f3a4d]/30",children:[e.jsxs("td",{className:"py-3 px-3",children:[e.jsx("div",{className:"font-medium text-slate-100",children:_.productName||_.name}),_.hsnCode&&e.jsxs("div",{className:"text-xs text-slate-400 mt-0.5",children:["HSN: ",_.hsnCode]})]}),e.jsx("td",{className:"py-3 px-3 text-slate-300",children:_.sku||"-"}),e.jsx("td",{className:"py-3 px-3 text-slate-300",children:_.brand||"-"}),e.jsx("td",{className:"py-3 px-3 text-slate-300",children:_.category||"-"}),e.jsx("td",{className:"py-3 px-3 text-right text-slate-300",children:_.unit||"-"}),e.jsx("td",{className:"py-3 px-3 text-right",children:_.basePrice>0?e.jsxs("span",{className:"text-slate-200",children:["",Ot(_.basePrice)]}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-3 text-right",children:_.mrp>0?e.jsxs("span",{className:"text-slate-200",children:["",Ot(_.mrp)]}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-3 text-right",children:(_.gstRate||_.taxRate)>0?e.jsxs("span",{className:"text-slate-200",children:[_.gstRate||_.taxRate,"%"]}):e.jsx("span",{className:"text-slate-500",children:"-"})}),e.jsx("td",{className:"py-3 px-3 text-right",children:e.jsxs("span",{className:"font-semibold text-emerald-400",children:["",Ot(Ce)]})}),e.jsx("td",{className:"py-3 px-3 text-right text-slate-200",children:_.qty}),e.jsx("td",{className:"py-3 px-3 text-right",children:e.jsxs("span",{className:"font-semibold text-slate-100",children:["",Ot(ce)]})})]},_.key)})})]})}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("button",{onClick:nA,className:"px-4 py-2 rounded-xl bg-[#243041] text-slate-300 hover:bg-[#2c3a4f] border border-slate-600/50 shadow-sm transition",children:"Cancel / Reset"}),e.jsx("button",{onClick:Me,disabled:se,className:`px-6 py-3 rounded-xl font-semibold bg-emerald-500 text-slate-900 hover:brightness-110 transform transition-transform duration-150 hover:-translate-y-0.5 ${se?"opacity-60 cursor-not-allowed":""}`,children:se?e.jsxs("span",{className:"inline-flex items-center gap-2",children:[e.jsxs("svg",{className:"h-4 w-4 animate-spin",viewBox:"0 0 24 24",fill:"none",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Creating"]}):"Create Order"})]})]})]})})}const yi="AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",Yw=(A,a)=>{if(!A||A.length===0)return[];if(A.length===1)return A;const i=[],l=[...A];let p=a;for(;l.length>0;){let f=null,x=1/0,E=-1;if(l.forEach((u,j)=>{const o=u.location;if(!o)return;const B=zw(p.lat,p.lng,o.lat,o.lng);B<x&&(x=B,f=u,E=j)}),f)i.push(f),l.splice(E,1),p=f.location;else break}return i},zw=(A,a,i,l)=>{const f=(i-A)*Math.PI/180,x=(l-a)*Math.PI/180,E=Math.sin(f/2)*Math.sin(f/2)+Math.cos(A*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(x/2)*Math.sin(x/2);return 6371*(2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E)))},Fc=async A=>{if(!A||!yi)return null;try{const i=await(await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${encodeURIComponent(A)}&key=${yi}`)).json();if(i.results&&i.results.length>0){const l=i.results[0].geometry.location;return{lat:l.lat,lng:l.lng}}}catch(a){console.error("Geocoding error:",a)}return null},Zw=()=>{const[A,a]=P.useState([]),[i,l]=P.useState([]),[p,f]=P.useState(null),[x,E]=P.useState({lat:19.076,lng:72.8777}),[u,j]=P.useState(null),[o,B]=P.useState(!1),[h,b]=P.useState(!1),[w,T]=P.useState(null),[I,N]=P.useState(!1),[Q,m]=P.useState(""),[y,D]=P.useState(""),[H,$]=P.useState(""),[z,ie]=P.useState([]),[re,F]=P.useState(new Map),[C,M]=P.useState({}),[R,S]=P.useState(!1),[K,Z]=P.useState(0),[de,se]=P.useState(!1),[me,Ie]=P.useState("roadmap"),De=Fr(),Xe=vs(),{isLoaded:AA,loadError:$e}=Km({id:"google-map-script",googleMapsApiKey:yi,libraries:["places","geometry"]});P.useEffect(()=>{const ee=Tt(Xe,ve=>{if(!ve)return;const ue=OA(De,"businesses",ve.uid,"distributorEmployees"),Qe=Dt(ue,he=>{const He=he.docs.map(ye=>({id:ye.id,...ye.data()}));ie(He)});return()=>Qe()});return()=>ee()},[]),P.useEffect(()=>{const ee=Tt(Xe,async ve=>{if(ve)try{const ue=oA(De,"businesses",ve.uid),Qe=await GA(ue);if(Qe.exists()){const he=Qe.data(),He=he.address||`${he.city||""}, ${he.state||""}`;if(He){const ye=await Fc(He);ye&&(T(ye),E(ye))}}}catch(ue){console.error("Error loading distributor location:",ue)}});return()=>ee()},[]),P.useEffect(()=>{const ee=Tt(Xe,ve=>{if(!ve)return;const ue=OA(De,"businesses",ve.uid,"orderRequests"),Qe=Bs(ue,ws("statusCode","in",["SHIPPED","OUT_FOR_DELIVERY"])),he=Dt(Qe,async He=>{const ye=await Promise.all(He.docs.map(async We=>{const rA=We.data(),v={id:We.id,...rA},ge=`${v.retailerAddress||""} ${v.retailerCity||""} ${v.retailerState||""}`.trim();if(ge&&!re.has(v.id)){const fe=await Fc(ge);fe&&(F(W=>new Map(W).set(v.id,fe)),v.location=fe)}else re.has(v.id)&&(v.location=re.get(v.id));return v}));a(ye)});return()=>he()});return()=>ee()},[re]),P.useEffect(()=>{const ee=Tt(Xe,ve=>{if(!ve)return;const ue=OA(De,"businesses",ve.uid,"deliveryRoutes"),Qe=Dt(ue,he=>{const He=he.docs.map(ye=>({id:ye.id,...ye.data()}));l(He)},he=>{console.error("Error loading routes:",he),he.code==="permission-denied"&&tA.error("Permission denied. Please check Firestore rules.")});return()=>Qe()});return()=>ee()},[]);const fA=async ee=>{if(!(!ee||ee.length===0)){if(!window.google||!window.google.maps||!window.google.maps.DirectionsService){console.warn("Google Maps API not loaded");return}B(!0);try{const ve=ee.filter(We=>We.location).map(We=>{try{return{location:new window.google.maps.LatLng(We.location.lat,We.location.lng),stopover:!0}}catch(rA){return console.error("Error creating waypoint:",rA),null}}).filter(Boolean);if(ve.length===0){B(!1);return}const ue=new window.google.maps.DirectionsService,Qe=w||x;if(!Qe||!Qe.lat||!Qe.lng){console.error("Invalid start location"),B(!1);return}const he=new window.google.maps.LatLng(Qe.lat,Qe.lng),He=ve[ve.length-1].location,ye=ve.slice(0,-1);ue.route({origin:he,destination:He,waypoints:ye.length>0?ye:void 0,optimizeWaypoints:ye.length>0,travelMode:window.google.maps.TravelMode.DRIVING},(We,rA)=>{rA==="OK"&&We?j(We):(console.error("Directions request failed:",rA),rA!=="ZERO_RESULTS"&&tA.error("Failed to calculate route directions")),B(!1)})}catch(ve){console.error("Error calculating directions:",ve),tA.error("Error calculating route"),B(!1)}}},ze=async()=>{if(p){b(!0);try{const ee=i.find(He=>He.id===p);if(!ee)return;const ue=A.filter(He=>ee.orderIds?.includes(He.id)).filter(He=>He.location);if(ue.length===0){tA.error("No orders with valid addresses found"),b(!1);return}const Qe=Yw(ue,w||x),he=oA(De,"businesses",Xe.currentUser.uid,"deliveryRoutes",p);await yA(he,{orderIds:Qe.map(He=>He.id),optimizedAt:new Date().toISOString(),optimizedSequence:Qe.map((He,ye)=>({orderId:He.id,sequence:ye+1}))}),tA.success("Route optimized successfully!"),await fA(Qe)}catch(ee){console.error("Error optimizing route:",ee),tA.error("Failed to optimize route")}finally{b(!1)}}},lA=async()=>{if(!Q.trim()){tA.error("Please enter a route name");return}try{const ee=oA(OA(De,"businesses",Xe.currentUser.uid,"deliveryRoutes"));await jr(ee,{name:Q,employeeId:y||null,vehicle:H||null,orderIds:[],createdAt:new Date().toISOString(),status:"active"}),m(""),D(""),$(""),N(!1),tA.success("Route created successfully")}catch(ee){console.error("Error creating route:",ee),tA.error("Failed to create route")}},cA=async(ee,ve)=>{try{const ue=i.find(He=>He.id===ve);if(!ue)return;const Qe=[...ue.orderIds||[],ee],he=oA(De,"businesses",Xe.currentUser.uid,"deliveryRoutes",ve);await yA(he,{orderIds:Qe}),tA.success("Order added to route")}catch(ue){console.error("Error adding order to route:",ue),tA.error("Failed to add order to route")}},ke=async(ee,ve)=>{try{const ue=i.find(He=>He.id===ve);if(!ue)return;const Qe=(ue.orderIds||[]).filter(He=>He!==ee),he=oA(De,"businesses",Xe.currentUser.uid,"deliveryRoutes",ve);if(await yA(he,{orderIds:Qe}),tA.success("Order removed from route"),p===ve){const He=A.filter(ye=>Qe.includes(ye.id));await fA(He)}}catch(ue){console.error("Error removing order from route:",ue),tA.error("Failed to remove order from route")}},nA=async ee=>{try{const ve=oA(De,"businesses",Xe.currentUser.uid,"deliveryRoutes",ee);await yA(ve,{status:"in-progress",startedAt:new Date().toISOString()}),tA.success("Route started!")}catch(ve){console.error("Error starting route:",ve),tA.error("Failed to start route")}},Me=async ee=>{try{const ve=oA(De,"businesses",Xe.currentUser.uid,"deliveryRoutes",ee);await yA(ve,{status:"completed",completedAt:new Date().toISOString()}),tA.success("Route completed!")}catch(ve){console.error("Error completing route:",ve),tA.error("Failed to complete route")}},_=async ee=>{f(ee);const ve=i.find(ue=>ue.id===ee);if(ve&&ve.orderIds){const ue=A.filter(Qe=>ve.orderIds.includes(Qe.id));await fA(ue)}},Ce=P.useMemo(()=>{const ee=new Set;return i.forEach(ve=>{(ve.orderIds||[]).forEach(ue=>ee.add(ue))}),A.filter(ve=>!ee.has(ve.id))},[A,i]),ce=i.find(ee=>ee.id===p),Be=ce?A.filter(ee=>ce.orderIds?.includes(ee.id)):[],Je=P.useMemo(()=>Be.reduce((ee,ve)=>{const ue=ve.proforma?.grandTotal||ve.chargesSnapshot?.breakdown?.grandTotal||0;return ee+Number(ue)},0),[Be]);return e.jsxs("div",{className:"p-4 sm:p-6 space-y-6 text-white",children:[e.jsx("style",{children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 6px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(16, 185, 129, 0.3);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(16, 185, 129, 0.5);
        }
      `}),e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-emerald-400 to-cyan-400 tracking-tight",children:" Delivery Route Optimization"}),e.jsx("p",{className:"text-white/70 mt-1.5 font-medium",children:"Optimize delivery routes like Uber for maximum efficiency"})]}),e.jsxs("button",{onClick:()=>N(!0),className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-full font-semibold hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] transition flex items-center gap-2",children:[e.jsx(Im,{className:"w-5 h-5"}),"Create Route"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-5 mb-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 border border-emerald-400/30 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Total Routes"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:i.length})]}),e.jsx(ms,{className:"w-8 h-8 text-emerald-400"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-400/30 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-sm font-semibold",children:"Active Routes"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1.5",children:i.filter(ee=>ee.status==="active"||ee.status==="in-progress").length})]}),e.jsx(Nl,{className:"w-8 h-8 text-blue-400"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-amber-500/20 to-orange-500/20 border border-amber-400/30 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-sm font-semibold",children:"Unassigned Orders"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1.5",children:Ce.length})]}),e.jsx(gs,{className:"w-8 h-8 text-amber-400"})]})}),e.jsx("div",{className:"bg-gradient-to-br from-purple-500/20 to-pink-500/20 border border-purple-400/30 rounded-2xl p-5 shadow-lg backdrop-blur-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-sm font-semibold",children:"Total Orders"}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1.5",children:A.length})]}),e.jsx(or,{className:"w-8 h-8 text-purple-400"})]})})]}),e.jsx(qs,{children:I&&e.jsx(iA.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:()=>N(!1),children:e.jsxs(iA.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-slate-900/95 border border-white/20 rounded-2xl p-6 w-full max-w-md",onClick:ee=>ee.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Create New Route"}),e.jsx("button",{onClick:()=>N(!1),className:"text-white/60 hover:text-white",children:e.jsx(ai,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Route Name"}),e.jsx("input",{type:"text",value:Q,onChange:ee=>m(ee.target.value),placeholder:"e.g., Route A - North Zone",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Assign Employee (Optional)"}),e.jsxs("select",{value:y,onChange:ee=>D(ee.target.value),className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",children:[e.jsx("option",{value:"",children:"Select Employee"}),z.map(ee=>e.jsx("option",{value:ee.id,children:ee.name||ee.flypEmployeeId||ee.id},ee.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-white/80 mb-2",children:"Vehicle (Optional)"}),e.jsx("input",{type:"text",value:H,onChange:ee=>$(ee.target.value),placeholder:"e.g., Truck-001, Van-002",className:"w-full px-4 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-white/40 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{onClick:lA,className:"flex-1 px-4 py-2 bg-emerald-500 text-white rounded-lg font-semibold hover:bg-emerald-600 transition",children:"Create"}),e.jsx("button",{onClick:()=>N(!1),className:"flex-1 px-4 py-2 bg-white/10 text-white rounded-lg font-semibold hover:bg-white/20 transition",children:"Cancel"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-1 space-y-4",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(ms,{className:"w-5 h-5 text-emerald-400"}),"Active Routes"]}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[i.map(ee=>{const ve=ee.status||"active",ue={active:"bg-blue-500/20 text-blue-300 border-blue-400/30","in-progress":"bg-emerald-500/20 text-emerald-300 border-emerald-400/30",completed:"bg-gray-500/20 text-gray-300 border-gray-400/30"},Qe={active:"Active","in-progress":"In Progress",completed:"Completed"},he=A.filter(We=>ee.orderIds?.includes(We.id)),He=he.filter(We=>We.statusCode==="DELIVERED"||We.status==="Delivered").length,ye=he.length>0?Math.round(He/he.length*100):0;return e.jsx(iA.div,{onClick:()=>_(ee.id),whileHover:{scale:1.02},className:`p-4 rounded-xl border cursor-pointer transition-all ${p===ee.id?"bg-gradient-to-br from-emerald-500/20 to-teal-500/20 border-emerald-400/50 shadow-lg shadow-emerald-500/20":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("p",{className:"font-bold text-white truncate",children:ee.name||"Unnamed Route"}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold border flex-shrink-0 ${ue[ve]||ue.active}`,children:Qe[ve]||"Active"})]}),ve==="in-progress"&&he.length>0&&e.jsxs("div",{className:"mb-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-white/60",children:"Progress"}),e.jsxs("span",{className:"text-emerald-400 font-semibold",children:[ye,"%"]})]}),e.jsx("div",{className:"h-1.5 bg-white/10 rounded-full overflow-hidden",children:e.jsx(iA.div,{initial:{width:0},animate:{width:`${ye}%`},transition:{duration:.5},className:"h-full bg-gradient-to-r from-emerald-400 to-teal-400 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-white/60",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(gs,{className:"w-3 h-3"}),he.length||0," orders"]}),ee.employeeId&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ul,{className:"w-3 h-3"}),z.find(We=>We.id===ee.employeeId)?.name||"Employee"]}),ee.vehicle&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(or,{className:"w-3 h-3"}),ee.vehicle]})]}),he.length>0&&e.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs",children:[e.jsxs("span",{className:"text-emerald-400",children:[" ",He," delivered"]}),e.jsxs("span",{className:"text-amber-400",children:[" ",he.length-He," pending"]})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[p===ee.id&&e.jsx(Gr,{className:"w-5 h-5 text-emerald-400 flex-shrink-0"}),ve==="in-progress"&&e.jsx(iA.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2},className:"w-2 h-2 bg-emerald-400 rounded-full"})]})]})},ee.id)}),i.length===0&&e.jsx("p",{className:"text-white/40 text-center py-8",children:"No routes created yet"})]})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl p-4",children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5 text-amber-400"}),"Unassigned Orders (",Ce.length,")"]}),e.jsxs("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[Ce.map(ee=>e.jsx("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-white text-sm",children:ee.retailerName||"N/A"}),e.jsxs("p",{className:"text-xs text-white/60",children:[ee.id.substring(0,12),"..."]}),e.jsxs("p",{className:"text-xs text-white/60 mt-1",children:[ee.retailerCity||""," ",ee.retailerState||""]})]}),e.jsx("div",{className:"flex flex-col gap-1",children:i.map(ve=>e.jsxs("button",{onClick:()=>cA(ee.id,ve.id),className:"px-2 py-1 text-xs bg-emerald-500/20 text-emerald-300 rounded hover:bg-emerald-500/30 transition",title:`Add to ${ve.name}`,children:["+",ve.name?.substring(0,1)||"R"]},ve.id))})]})},ee.id)),Ce.length===0&&e.jsx("p",{className:"text-white/40 text-center py-8",children:"All orders assigned"})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl p-4 h-[600px] relative",children:[$e?e.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ms,{className:"w-16 h-16 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Error loading Google Maps"}),e.jsx("p",{className:"text-sm mt-2 text-rose-400",children:$e.message})]})}):AA?e.jsxs(Gm,{mapContainerStyle:{width:"100%",height:"100%",borderRadius:"0.75rem"},center:x,zoom:Be.length>0?12:10,options:{mapTypeId:me,styles:[{featureType:"all",elementType:"geometry",stylers:[{color:"#0f172a"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#1e3a8a"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#1e293b"},{lightness:20}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#334155"},{lightness:10}]},{featureType:"landscape",elementType:"geometry",stylers:[{color:"#0f172a"}]},{featureType:"poi",elementType:"geometry",stylers:[{color:"#1e293b"}]},{featureType:"all",elementType:"labels.text.fill",stylers:[{color:"#94a3b8"},{gamma:.5}]},{featureType:"all",elementType:"labels.text.stroke",stylers:[{color:"#0f172a"},{gamma:.5}]}],disableDefaultUI:!1,zoomControl:!0,mapTypeControl:!0,scaleControl:!0,streetViewControl:!1,rotateControl:!0,fullscreenControl:!0},children:[w&&AA&&e.jsx(Sl,{position:w,icon:{url:"data:image/svg+xml;base64,"+btoa(`
                        <svg width="40" height="40" viewBox="0 0 40 40" xmlns="http://www.w3.org/2000/svg">
                          <circle cx="20" cy="20" r="15" fill="#10b981" stroke="#fff" stroke-width="2"/>
                          <rect x="12" y="14" width="16" height="12" fill="white" rx="1"/>
                          <rect x="14" y="16" width="4" height="4" fill="#10b981"/>
                          <rect x="22" y="16" width="4" height="4" fill="#10b981"/>
                          <rect x="14" y="22" width="12" height="2" fill="#10b981"/>
                        </svg>
                      `),scaledSize:new window.google.maps.Size(40,40)},title:"Distributor Location"}),Be.map((ee,ve)=>{if(!ee.location||!AA)return null;try{const ue=ee.statusCode==="DELIVERED"||ee.status==="Delivered",Qe=ue?"#10b981":"#3b82f6",he=ue?"":`${ve+1}`;return e.jsx(Sl,{position:ee.location,label:{text:he,color:"white",fontWeight:"bold",fontSize:ue?"14px":"12px"},icon:{url:"data:image/svg+xml;base64,"+btoa(`
                            <svg width="36" height="36" viewBox="0 0 36 36" xmlns="http://www.w3.org/2000/svg">
                              <circle cx="18" cy="18" r="14" fill="${Qe}" stroke="#fff" stroke-width="2.5"/>
                              ${ue?'<circle cx="18" cy="18" r="10" fill="#fff" opacity="0.3"/>':""}
                            </svg>
                          `),scaledSize:new window.google.maps.Size(36,36),anchor:new window.google.maps.Point(18,18)},title:`${ve+1}. ${ee.retailerName||"Order"}${ue?" (Delivered)":""}`},ee.id)}catch(ue){return console.error("Error rendering marker:",ue),null}}),u&&e.jsx(Vm,{directions:u})]}):e.jsx("div",{className:"flex items-center justify-center h-full text-white/60",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ms,{className:"w-16 h-16 mx-auto mb-4 opacity-50 animate-pulse"}),e.jsx("p",{children:"Loading map..."})]})}),e.jsxs("div",{className:"absolute top-4 left-4 z-10 flex gap-2",children:[e.jsx("button",{onClick:()=>Ie("roadmap"),className:`px-3 py-2 rounded-lg text-sm font-medium transition ${me==="roadmap"?"bg-emerald-500 text-white":"bg-slate-900/90 text-white/80 hover:bg-slate-800/90"}`,children:"Map"}),e.jsx("button",{onClick:()=>Ie("satellite"),className:`px-3 py-2 rounded-lg text-sm font-medium transition ${me==="satellite"?"bg-emerald-500 text-white":"bg-slate-900/90 text-white/80 hover:bg-slate-800/90"}`,children:"Satellite"})]}),p&&e.jsxs("div",{className:"absolute top-4 right-4 bg-slate-900/95 backdrop-blur-xl border border-white/20 rounded-xl p-4 space-y-3 min-w-[300px] max-w-[350px] shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white text-lg",children:ce?.name||"Route"}),ce?.status==="in-progress"&&e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx(iA.div,{animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:1.5},className:"w-2 h-2 bg-emerald-400 rounded-full"}),e.jsx("span",{className:"text-xs text-emerald-400 font-medium",children:"Live Tracking"})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>se(!de),className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition",title:"Route Statistics",children:e.jsx(ii,{className:"w-4 h-4 text-white"})}),e.jsx("button",{onClick:()=>{const ee=`${ce?.name}
${Be.length} orders
${Je.toFixed(2)} total value`;navigator.clipboard.writeText(ee),tA.success("Route info copied!")},className:"p-2 bg-white/10 hover:bg-white/20 rounded-lg transition",title:"Copy Route Info",children:e.jsx(Sm,{className:"w-4 h-4 text-white"})})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[ce?.status==="active"&&e.jsxs("button",{onClick:()=>nA(p),className:"flex-1 px-3 py-2 bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-lg text-sm font-semibold hover:shadow-lg hover:shadow-blue-500/30 transition flex items-center justify-center gap-2",children:[e.jsx(Tm,{className:"w-4 h-4"}),"Start Route"]}),ce?.status==="in-progress"&&e.jsxs("button",{onClick:()=>Me(p),className:"flex-1 px-3 py-2 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-lg text-sm font-semibold hover:shadow-lg hover:shadow-emerald-500/30 transition flex items-center justify-center gap-2",children:[e.jsx(Gr,{className:"w-4 h-4"}),"Complete"]}),e.jsxs("button",{onClick:ze,disabled:h||ce?.status==="completed",className:"px-3 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg text-sm font-semibold hover:shadow-lg hover:shadow-purple-500/30 transition flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",title:"Optimize Route",children:[e.jsx(Ys,{className:"w-4 h-4"}),h?"Optimizing...":"Optimize"]})]}),de&&Be.length>0&&e.jsx(iA.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-white/5 rounded-lg p-3 space-y-2 border border-white/10",children:e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60",children:"Avg Distance"}),e.jsx("p",{className:"text-white font-semibold",children:u?.routes?.[0]?.legs?`${(u.routes[0].legs.reduce((ee,ve)=>ee+ve.distance.value,0)/Be.length/1e3).toFixed(1)} km`:""})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60",children:"Avg Time"}),e.jsx("p",{className:"text-white font-semibold",children:u?.routes?.[0]?.legs?`${Math.round(u.routes[0].legs.reduce((ee,ve)=>ee+ve.duration.value,0)/Be.length/60)} min`:""})]})]})}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto custom-scrollbar",children:Be.length===0?e.jsx("p",{className:"text-white/60 text-sm text-center py-4",children:"No orders in this route"}):Be.map((ee,ve)=>{const ue=ee.statusCode==="DELIVERED"||ee.status==="Delivered",Qe=ee.proforma?.grandTotal||ee.chargesSnapshot?.breakdown?.grandTotal||0;return e.jsx(iA.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:`p-3 rounded-lg border transition-all ${ue?"bg-emerald-500/10 border-emerald-400/30":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center font-bold text-sm flex-shrink-0 ${ue?"bg-emerald-500/20 text-emerald-300":"bg-blue-500/20 text-blue-300"}`,children:ue?"":ve+1}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:ee.retailerName||"N/A"}),ue&&e.jsx(Gr,{className:"w-4 h-4 text-emerald-400 flex-shrink-0"})]}),e.jsxs("p",{className:"text-xs text-white/60 truncate mt-0.5",children:[ee.retailerCity||""," ",ee.retailerState||""]}),e.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs",children:[e.jsxs("span",{className:"text-emerald-400 font-medium",children:["",Number(Qe).toFixed(0)]}),ee.retailerPhone&&e.jsx("a",{href:`tel:${ee.retailerPhone}`,className:"text-blue-400 hover:text-blue-300 transition",onClick:he=>he.stopPropagation(),children:" Call"}),ee.location&&e.jsxs("a",{href:`https://www.google.com/maps/dir/?api=1&destination=${ee.location.lat},${ee.location.lng}`,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 transition flex items-center gap-1",onClick:he=>he.stopPropagation(),children:[e.jsx(Nl,{className:"w-3 h-3"}),"Navigate"]})]})]}),e.jsx("button",{onClick:he=>{he.stopPropagation(),ke(ee.id,p)},className:"p-1.5 text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded transition flex-shrink-0",title:"Remove from route",children:e.jsx(ai,{className:"w-4 h-4"})})]})},ee.id)})}),Be.length>0&&e.jsxs("div",{className:"pt-3 border-t border-white/10 space-y-2",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-white/60",children:"Orders"}),e.jsx("p",{className:"text-lg font-bold text-white",children:Be.length})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-white/60",children:"Value"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:["",Je.toFixed(0)]})]})]}),u?.routes?.[0]?.legs&&e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-white/60",children:"Distance"}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[(u.routes[0].legs.reduce((ee,ve)=>ee+ve.distance.value,0)/1e3).toFixed(1)," km"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-white/60",children:"Est. Time"}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[Math.round(u.routes[0].legs.reduce((ee,ve)=>ee+ve.duration.value,0)/60)," min"]})]})]}),ce?.employeeId&&e.jsxs("div",{className:"bg-gradient-to-r from-cyan-500/20 to-blue-500/20 rounded-lg p-2 border border-cyan-400/30",children:[e.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Assigned To"}),e.jsxs("p",{className:"text-sm font-semibold text-cyan-300 flex items-center gap-2",children:[e.jsx(Ul,{className:"w-4 h-4"}),z.find(ee=>ee.id===ce.employeeId)?.name||"Employee"]})]}),ce?.vehicle&&e.jsxs("div",{className:"bg-gradient-to-r from-purple-500/20 to-pink-500/20 rounded-lg p-2 border border-purple-400/30",children:[e.jsx("p",{className:"text-xs text-white/60 mb-1",children:"Vehicle"}),e.jsxs("p",{className:"text-sm font-semibold text-purple-300 flex items-center gap-2",children:[e.jsx(or,{className:"w-4 h-4"}),ce.vehicle]})]})]})]})]})})]})]})},qw=()=>{const[A,a]=P.useState("overview"),[i,l]=P.useState([]),[p,f]=P.useState(!0),[x,E]=P.useState(""),[u,j]=P.useState("today"),o=Fr(),B=vs();P.useEffect(()=>{const m=Tt(B,y=>{if(!y)return;const D=OA(o,"businesses",y.uid,"orderRequests"),H=Dt(D,$=>{const z=$.docs.map(ie=>({id:ie.id,...ie.data()}));l(z),f(!1)});return()=>H()});return()=>m()},[]);const h={overview:"overview",requests:"order-requests",create:"create-order",pending:"pending-orders",completed:"track-orders",routes:"delivery-routes",settings:"settings"},b={overview:"overview","order-requests":"requests","create-order":"create","pending-orders":"pending","track-orders":"completed","delivery-routes":"routes",settings:"settings"};P.useEffect(()=>{const m=()=>{const y=window.location.hash||"",D=y.indexOf("?");if(D===-1){a("overview");return}const $=(new URLSearchParams(y.substring(D+1)).get("tab")||"").toLowerCase();b[$]?a(b[$]):a("overview")};return m(),window.addEventListener("hashchange",m),()=>window.removeEventListener("hashchange",m)},[]);const w=m=>{a(m);try{const y=window.location.hash||"#/distributor-dashboard",[D,H=""]=y.split("?"),$=new URLSearchParams(H),z=h[m]||"overview";$.set("tab",z),z!=="track-orders"&&$.delete("sub");const ie=`${D}?${$.toString()}`;ie!==y&&window.history.replaceState(null,"",ie)}catch{}},T=P.useMemo(()=>{const m=new Date,y=new Date(m.getFullYear(),m.getMonth(),m.getDate()),D=new Date(y);D.setDate(y.getDate()-7);const H=new Date(y);H.setMonth(y.getMonth()-1);const $=de=>{const se=de.createdAt?.toDate?.()||de.timestamp?.toDate?.()||new Date(de.createdAt||de.timestamp);switch(u){case"today":return se>=y;case"week":return se>=D;case"month":return se>=H;default:return!0}},z=i.filter($),ie=z.filter(de=>{const se=kt(de.statusCode||de.status);return se===JA.REQUESTED||se===JA.QUOTED}),re=z.filter(de=>{const se=kt(de.statusCode||de.status);return se===JA.ACCEPTED||se===JA.MODIFIED||se===JA.PACKED}),F=z.filter(de=>{const se=kt(de.statusCode||de.status);return se===JA.SHIPPED||se===JA.OUT_FOR_DELIVERY}),C=z.filter(de=>kt(de.statusCode||de.status)===JA.DELIVERED),M=z.reduce((de,se)=>{const me=se.proforma?.grandTotal||se.chargesSnapshot?.breakdown?.grandTotal||0;return de+Number(me)},0),R=C.reduce((de,se)=>{const me=se.proforma?.grandTotal||se.chargesSnapshot?.breakdown?.grandTotal||0;return de+Number(me)},0),S=z.length>0?M/z.length:0,K=z.length>0?C.length/z.length*100:0,Z=C.length>0?C.reduce((de,se)=>{const me=se.statusTimestamps?.shippedAt?.seconds||se.statusTimestamps?.shippedAt,Ie=se.statusTimestamps?.deliveredAt?.seconds||se.statusTimestamps?.deliveredAt;return me&&Ie?de+(Ie-me)/86400:de},0)/C.length:0;return{requested:ie.length,pending:re.length,inTransit:F.length,delivered:C.length,totalOrders:z.length,totalValue:M,deliveredValue:R,avgOrderValue:S,deliveryRate:Math.round(K),avgDeliveryTime:Math.round(Z*10)/10}},[i,u]),I=P.useMemo(()=>{const m=[{status:JA.REQUESTED,label:"Requested",count:0,color:"blue",icon:gs},{status:JA.QUOTED,label:"Quoted",count:0,color:"cyan",icon:Js},{status:JA.ACCEPTED,label:"Accepted",count:0,color:"emerald",icon:Gr},{status:JA.PACKED,label:"Packed",count:0,color:"amber",icon:Dm},{status:JA.SHIPPED,label:"Shipped",count:0,color:"purple",icon:or},{status:JA.OUT_FOR_DELIVERY,label:"Out for Delivery",count:0,color:"pink",icon:Hm},{status:JA.DELIVERED,label:"Delivered",count:0,color:"green",icon:Gr}];return i.forEach(y=>{const D=kt(y.statusCode||y.status),H=m.find($=>$.status===D);H&&H.count++}),m},[i]),N=({icon:m,label:y,value:D,subtitle:H,color:$,onClick:z,trend:ie})=>e.jsxs(iA.div,{whileHover:{scale:1.01,y:-4},onClick:z,className:`relative overflow-hidden rounded-2xl border bg-gradient-to-br p-6 cursor-pointer transition-all duration-300 shadow-lg hover:shadow-xl backdrop-blur-sm ${$==="blue"?"from-blue-500/10 via-blue-500/5 to-transparent border-blue-500/20 hover:border-blue-500/50 hover:shadow-blue-500/20":$==="amber"?"from-amber-500/10 via-amber-500/5 to-transparent border-amber-500/20 hover:border-amber-500/50 hover:shadow-amber-500/20":$==="purple"?"from-purple-500/10 via-purple-500/5 to-transparent border-purple-500/20 hover:border-purple-500/50 hover:shadow-purple-500/20":"from-emerald-500/10 via-emerald-500/5 to-transparent border-emerald-500/20 hover:border-emerald-500/50 hover:shadow-emerald-500/20"}`,children:[e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-start justify-between mb-5",children:[e.jsx("div",{className:`p-3.5 rounded-xl shadow-md ${$==="blue"?"bg-blue-500/25":$==="amber"?"bg-amber-500/25":$==="purple"?"bg-purple-500/25":"bg-emerald-500/25"}`,children:m&&e.jsx(m,{className:`w-6 h-6 ${$==="blue"?"text-blue-300":$==="amber"?"text-amber-300":$==="purple"?"text-purple-300":"text-emerald-300"}`})}),ie&&e.jsxs("div",{className:`flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-full font-semibold ${ie>0?"bg-emerald-500/25 text-emerald-300 border border-emerald-500/30":"bg-rose-500/25 text-rose-300 border border-rose-500/30"}`,children:[e.jsx(El,{className:`w-3 h-3 ${ie<0?"rotate-180":""}`}),Math.abs(ie),"%"]})]}),e.jsx("p",{className:"text-white/70 text-sm font-semibold mb-2 tracking-wide uppercase",children:y}),e.jsx("p",{className:"text-4xl font-bold text-white mb-2 tracking-tight",children:typeof D=="number"?D.toLocaleString():D}),H&&e.jsx("p",{className:"text-xs text-white/60 font-medium",children:H})]}),e.jsx("div",{className:`absolute inset-0 opacity-[0.03] ${$==="blue"?"bg-blue-500":$==="amber"?"bg-amber-500":$==="purple"?"bg-purple-500":"bg-emerald-500"}`,style:{backgroundImage:"radial-gradient(circle at 20% 50%, currentColor 0%, transparent 50%)"}})]}),Q=({id:m,active:y,onClick:D,children:H,badge:$,icon:z})=>e.jsxs("button",{onClick:()=>D(m),className:`relative flex items-center gap-2.5 px-5 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${y?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30 border border-emerald-400/30":"bg-white/5 text-white/70 border border-white/10 hover:bg-white/10 hover:border-white/20 hover:text-white"}`,"aria-selected":y,role:"tab",children:[z&&e.jsx(z,{className:`w-4 h-4 ${y?"text-white":"text-white/60"}`}),e.jsx("span",{children:H}),$!==void 0&&$>0&&e.jsx("span",{className:`px-2.5 py-1 rounded-full text-xs font-bold min-w-[22px] text-center ${y?"bg-white/30 text-white border border-white/20":"bg-emerald-500/30 text-emerald-300 border border-emerald-500/40"}`,children:$})]});return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4 mb-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-emerald-200 to-cyan-300 tracking-tight",children:"Dispatch Tracker"}),e.jsx("p",{className:"text-white/60 text-sm mt-1.5 font-medium",children:"Enterprise Order Management System"})]}),e.jsxs("div",{className:"flex items-center gap-3 flex-shrink-0",children:[e.jsxs("div",{className:"relative flex-1 max-w-md min-w-[200px]",children:[e.jsx(Tc,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-white/50 w-4 h-4 pointer-events-none"}),e.jsx("input",{type:"text",value:x,onChange:m=>E(m.target.value),placeholder:"Search orders, retailers, IDs...",className:"w-full pl-11 pr-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"})]}),e.jsxs("select",{value:u,onChange:m=>j(m.target.value),className:"px-4 py-3 bg-white/5 border border-white/10 rounded-xl text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition-all appearance-none bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iOCIgdmlld0JveD0iMCAwIDEyIDgiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xIDFMNiA2TDExIDEiIHN0cm9rZT0iY3VycmVudENvbG9yIiBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgo8L3N2Zz4K')] bg-[length:12px] bg-[position:right_12px_center] bg-no-repeat pr-10 backdrop-blur-sm",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-2.5 shadow-lg",children:e.jsxs("div",{className:"flex flex-wrap gap-2.5",role:"tablist","aria-label":"Dispatch sections",children:[e.jsx(Q,{id:"overview",active:A==="overview",onClick:w,icon:ii,children:"Overview"}),e.jsx(Q,{id:"requests",active:A==="requests",onClick:w,badge:T.requested,icon:gs,children:"Order Requests"}),e.jsx(Q,{id:"create",active:A==="create",onClick:w,icon:Ys,children:"Create Order"}),e.jsx(Q,{id:"pending",active:A==="pending",onClick:w,badge:T.pending,icon:Xa,children:"Pending Orders"}),e.jsx(Q,{id:"completed",active:A==="completed",onClick:w,badge:T.inTransit+T.delivered,icon:or,children:"Track Orders"}),e.jsx(Q,{id:"routes",active:A==="routes",onClick:w,icon:or,children:"Delivery Routes"}),e.jsx(Q,{id:"settings",active:A==="settings",onClick:w,icon:oi,children:"Settings"})]})})]}),e.jsxs("div",{className:"w-full",children:[A==="overview"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:p?e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Dc,{className:"w-10 h-10 text-emerald-400 animate-spin"}),e.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Loading dashboard analytics..."})]})}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5",children:[e.jsx(N,{icon:gs,label:"New Requests",value:T.requested,subtitle:"Awaiting action",color:"blue",onClick:()=>w("requests")}),e.jsx(N,{icon:Xa,label:"Pending Orders",value:T.pending,subtitle:"Ready to ship",color:"amber",onClick:()=>w("pending")}),e.jsx(N,{icon:or,label:"In Transit",value:T.inTransit,subtitle:"On the way",color:"purple",onClick:()=>w("completed")}),e.jsx(N,{icon:Gr,label:"Delivered",value:T.delivered,subtitle:`${T.deliveryRate}% success rate`,color:"emerald",onClick:()=>w("completed")})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-emerald-500/20 shadow-md",children:e.jsx(Rm,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Order Flow Pipeline"}),e.jsx("p",{className:"text-xs text-white/60 font-medium",children:"Real-time status distribution"})]})]}),e.jsxs("button",{onClick:()=>w("completed"),className:"text-sm text-emerald-400 hover:text-emerald-300 flex items-center gap-1.5 transition font-semibold px-3 py-1.5 rounded-lg hover:bg-emerald-500/10",children:["View All ",e.jsx(Pm,{className:"w-4 h-4"})]})]}),e.jsx("div",{className:"space-y-4",children:I.map((m,y)=>{const D=i.length||1,H=m.count/D*100,$=m.count>0,z=m.icon,ie={blue:{bg:"bg-blue-500/25",text:"text-blue-300",gradient:"from-blue-500 to-blue-400",icon:"text-blue-300",border:"border-blue-500/30"},cyan:{bg:"bg-cyan-500/25",text:"text-cyan-300",gradient:"from-cyan-500 to-cyan-400",icon:"text-cyan-300",border:"border-cyan-500/30"},emerald:{bg:"bg-emerald-500/25",text:"text-emerald-300",gradient:"from-emerald-500 to-emerald-400",icon:"text-emerald-300",border:"border-emerald-500/30"},amber:{bg:"bg-amber-500/25",text:"text-amber-300",gradient:"from-amber-500 to-amber-400",icon:"text-amber-300",border:"border-amber-500/30"},purple:{bg:"bg-purple-500/25",text:"text-purple-300",gradient:"from-purple-500 to-purple-400",icon:"text-purple-300",border:"border-purple-500/30"},pink:{bg:"bg-pink-500/25",text:"text-pink-300",gradient:"from-pink-500 to-pink-400",icon:"text-pink-300",border:"border-pink-500/30"},green:{bg:"bg-green-500/25",text:"text-green-300",gradient:"from-green-500 to-green-400",icon:"text-green-300",border:"border-green-500/30"}},re=ie[m.color]||ie.blue;return e.jsxs("div",{className:"space-y-2.5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-11 h-11 rounded-xl flex items-center justify-center shadow-sm border ${$?`${re.bg} ${re.border}`:"bg-white/5 border-white/10"}`,children:z&&e.jsx(z,{className:`w-5 h-5 ${$?re.icon:"text-white/30"}`})}),e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:`font-semibold text-sm ${$?"text-white":"text-white/50"}`,children:m.label}),e.jsx("span",{className:`text-sm font-bold ${$?re.text:"text-white/40"}`,children:m.count})]})})]}),e.jsxs("span",{className:"text-xs text-white/60 ml-3 w-14 text-right font-semibold",children:[Math.round(H),"%"]})]}),e.jsx("div",{className:"h-2.5 bg-white/5 rounded-full overflow-hidden shadow-inner",children:e.jsx(iA.div,{initial:{width:0},animate:{width:`${H}%`},transition:{duration:.8,delay:y*.1,ease:"easeOut"},className:`h-full rounded-full bg-gradient-to-r ${re.gradient} shadow-sm`})})]},m.status)})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-teal-500/10 border border-emerald-500/20 rounded-2xl p-6 shadow-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-emerald-500/25 shadow-md",children:e.jsx(Js,{className:"w-5 h-5 text-emerald-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white/70 text-xs font-semibold uppercase tracking-wide mb-1",children:"Total Value"}),e.jsxs("p",{className:"text-2xl font-bold text-white tracking-tight",children:["",T.totalValue.toLocaleString("en-IN")]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-emerald-300 font-semibold",children:[e.jsx(El,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:[T.totalOrders," orders"]})]})]}),e.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-cyan-500/10 border border-blue-500/20 rounded-2xl p-6 shadow-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-blue-500/25 shadow-md",children:e.jsx(Gr,{className:"w-5 h-5 text-blue-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white/70 text-xs font-semibold uppercase tracking-wide mb-1",children:"Delivered Value"}),e.jsxs("p",{className:"text-2xl font-bold text-white tracking-tight",children:["",T.deliveredValue.toLocaleString("en-IN")]})]})]}),e.jsx("p",{className:"text-xs text-blue-300 font-semibold",children:"Completed orders"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-500/10 to-pink-500/10 border border-purple-500/20 rounded-2xl p-6 shadow-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-purple-500/25 shadow-md",children:e.jsx(ii,{className:"w-5 h-5 text-purple-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white/70 text-xs font-semibold uppercase tracking-wide mb-1",children:"Avg Order Value"}),e.jsxs("p",{className:"text-2xl font-bold text-white tracking-tight",children:["",Math.round(T.avgOrderValue).toLocaleString("en-IN")]})]})]}),e.jsx("p",{className:"text-xs text-purple-300 font-semibold",children:"Per order average"})]}),T.avgDeliveryTime>0&&e.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/20 rounded-2xl p-6 shadow-lg backdrop-blur-sm",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[e.jsx("div",{className:"p-2.5 rounded-xl bg-amber-500/25 shadow-md",children:e.jsx(Xa,{className:"w-5 h-5 text-amber-300"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-white/70 text-xs font-semibold uppercase tracking-wide mb-1",children:"Avg Delivery Time"}),e.jsxs("p",{className:"text-2xl font-bold text-white tracking-tight",children:[T.avgDeliveryTime," days"]})]})]}),e.jsx("p",{className:"text-xs text-amber-300 font-semibold",children:"From shipped to delivered"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5",children:[e.jsx(iA.button,{whileHover:{scale:1.01,y:-2},whileTap:{scale:.99},onClick:()=>w("create"),className:"group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-2xl p-6 text-left hover:shadow-2xl hover:shadow-emerald-500/30 transition-all border border-emerald-400/20",children:e.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:e.jsx(Ys,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-1.5",children:"Create Order"}),e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Create a new order for a retailer"})]})]})}),e.jsx(iA.button,{whileHover:{scale:1.01,y:-2},whileTap:{scale:.99},onClick:()=>w("routes"),className:"group relative overflow-hidden bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-2xl p-6 text-left hover:shadow-2xl hover:shadow-purple-500/30 transition-all border border-purple-400/20",children:e.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:e.jsx(or,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-1.5",children:"Route Optimization"}),e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Optimize delivery routes intelligently"})]})]})}),e.jsx(iA.button,{whileHover:{scale:1.01,y:-2},whileTap:{scale:.99},onClick:()=>w("requests"),className:"group relative overflow-hidden bg-gradient-to-r from-blue-500 to-cyan-500 text-white rounded-2xl p-6 text-left hover:shadow-2xl hover:shadow-blue-500/30 transition-all border border-blue-400/20",children:e.jsxs("div",{className:"relative z-10 flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl bg-white/20 flex items-center justify-center group-hover:scale-110 transition-transform shadow-lg",children:e.jsx(Om,{className:"w-7 h-7"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-lg mb-1.5",children:"View Requests"}),e.jsx("p",{className:"text-white/90 text-sm font-medium",children:"Review and process new orders"})]})]})})]})]})}),e.jsxs(qs,{mode:"wait",children:[A==="requests"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(Mw,{})},"requests"),A==="create"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(Jw,{})},"create"),A==="pending"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(Kw,{})},"pending"),A==="completed"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx($w,{})},"completed"),A==="routes"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(Zw,{})},"routes"),A==="settings"&&e.jsx(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:e.jsx(ey,{})},"settings")]})]})]})},ey=()=>{const[A,a]=P.useState(!0),[i,l]=P.useState(!1),[p,f]=P.useState("delivery"),[x,E]=P.useState({delivery:{googleMapsApiKey:"",courierEnabled:!1,courierProvider:"manual",shiprocket:{email:"",password:"",token:""},delhivery:{apiKey:"",clientId:""},bluedart:{apiKey:"",accountNumber:""},fedex:{apiKey:"",accountNumber:""}},process:{autoAcceptEnabled:!1,autoAcceptThreshold:0,autoNotifyOnStatusChange:!0,autoNotifyOnShipped:!0,autoNotifyOnDelivered:!0,defaultDeliveryDays:3,requireConfirmationForLargeOrders:!0,largeOrderThreshold:5e4},notifications:{whatsappEnabled:!0,emailEnabled:!1,smsEnabled:!1,notifyOnNewRequest:!0,notifyOnOrderAccepted:!0,notifyOnOrderShipped:!0,notifyOnOrderDelivered:!0,notifyOnPaymentReceived:!0},preferences:{defaultTimeRange:"today",itemsPerPage:20,showOrderFlowChart:!0,showFinancialMetrics:!0,enableRouteOptimization:!0,defaultMapCenter:{lat:19.076,lng:72.8777}}}),u=Fr(),j=vs();P.useEffect(()=>{const w=async()=>{try{const I=j.currentUser;if(!I)return;const N=oA(u,"businesses",I.uid),Q=await GA(N);if(Q.exists()){const m=Q.data();E(y=>({...y,delivery:{...y.delivery,googleMapsApiKey:m.googleMapsApiKey||"",courierEnabled:m.courierEnabled||!1,courierProvider:m.courierProvider||"manual",shiprocket:{email:m.shiprocketEmail||"",password:m.shiprocketPassword||"",token:m.shiprocketToken||""},delhivery:{apiKey:m.delhiveryApiKey||"",clientId:m.delhiveryClientId||""},bluedart:{apiKey:m.bluedartApiKey||"",accountNumber:m.bluedartAccountNumber||""},fedex:{apiKey:m.fedexApiKey||"",accountNumber:m.fedexAccountNumber||""}},process:m.dispatchProcessSettings||y.process,notifications:m.dispatchNotificationSettings||y.notifications,preferences:m.dispatchPreferences||y.preferences}))}}catch(I){console.error("Error loading settings:",I),tA.error("Failed to load settings")}finally{a(!1)}},T=Tt(j,I=>{I&&w()});return()=>T()},[]);const o=async()=>{try{const w=j.currentUser;if(!w){tA.error("Please sign in to save settings");return}l(!0);const T=oA(u,"businesses",w.uid);await yA(T,{googleMapsApiKey:x.delivery.googleMapsApiKey,courierEnabled:x.delivery.courierEnabled,courierProvider:x.delivery.courierProvider,shiprocketEmail:x.delivery.shiprocket.email,shiprocketPassword:x.delivery.shiprocket.password,shiprocketToken:x.delivery.shiprocket.token,delhiveryApiKey:x.delivery.delhivery.apiKey,delhiveryClientId:x.delivery.delhivery.clientId,bluedartApiKey:x.delivery.bluedart.apiKey,bluedartAccountNumber:x.delivery.bluedart.accountNumber,fedexApiKey:x.delivery.fedex.apiKey,fedexAccountNumber:x.delivery.fedex.accountNumber,dispatchProcessSettings:x.process,dispatchNotificationSettings:x.notifications,dispatchPreferences:x.preferences,settingsUpdatedAt:new Date}),tA.success("Settings saved successfully!")}catch(w){console.error("Error saving settings:",w),tA.error("Failed to save settings")}finally{l(!1)}},B=(w,T,I)=>{E(N=>({...N,[w]:{...N[w],[T]:I}}))},h=(w,T,I,N)=>{E(Q=>({...Q,[w]:{...Q[w],[T]:{...Q[w][T],[I]:N}}}))},b=[{id:"delivery",label:"Delivery APIs",icon:ms},{id:"process",label:"Process Settings",icon:Ys},{id:"notifications",label:"Notifications",icon:Il},{id:"preferences",label:"Preferences",icon:oi}];return A?e.jsx("div",{className:"flex items-center justify-center py-24",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(Dc,{className:"w-10 h-10 text-emerald-400 animate-spin"}),e.jsx("p",{className:"text-white/70 text-sm font-medium",children:"Loading settings..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-emerald-200 to-cyan-300",children:"Dispatch Settings"}),e.jsx("p",{className:"text-white/60 text-sm mt-1.5 font-medium",children:"Configure delivery APIs, processes, and preferences"})]}),e.jsxs(iA.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,disabled:i,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl font-semibold shadow-lg hover:shadow-emerald-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Lm,{className:"w-5 h-5"}),i?"Saving...":"Save Settings"]})]}),e.jsx("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-2.5 shadow-lg",children:e.jsx("div",{className:"flex flex-wrap gap-2.5",children:b.map(w=>{const T=w.icon;return e.jsxs("button",{onClick:()=>f(w.id),className:`flex items-center gap-2.5 px-5 py-3 rounded-xl text-sm font-semibold transition-all duration-200 ${p===w.id?"bg-gradient-to-r from-emerald-500 to-teal-500 text-white shadow-lg shadow-emerald-500/30 border border-emerald-400/30":"bg-white/5 text-white/70 border border-white/10 hover:bg-white/10 hover:border-white/20 hover:text-white"}`,children:[e.jsx(T,{className:"w-4 h-4"}),e.jsx("span",{children:w.label})]},w.id)})})}),e.jsx(qs,{mode:"wait",children:e.jsxs(iA.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[p==="delivery"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-blue-500/20 shadow-md",children:e.jsx(ms,{className:"w-6 h-6 text-blue-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Google Maps API"}),e.jsx("p",{className:"text-sm text-white/60",children:"Required for route optimization and geocoding"})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:x.delivery.googleMapsApiKey,onChange:w=>B("delivery","googleMapsApiKey",w.target.value),placeholder:"Enter Google Maps API key",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"}),e.jsx("p",{className:"text-xs text-white/50 mt-2",children:"Get your API key from Google Cloud Console"})]})})]}),e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 rounded-xl bg-purple-500/20 shadow-md",children:e.jsx(or,{className:"w-6 h-6 text-purple-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Courier Service Integration"}),e.jsx("p",{className:"text-sm text-white/60",children:"Connect with shipping partners for automated tracking"})]})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.delivery.courierEnabled,onChange:w=>B("delivery","courierEnabled",w.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),x.delivery.courierEnabled&&e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Courier Provider"}),e.jsxs("select",{value:x.delivery.courierProvider,onChange:w=>B("delivery","courierProvider",w.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"manual",children:"Manual Entry"}),e.jsx("option",{value:"shiprocket",children:"Shiprocket"}),e.jsx("option",{value:"delhivery",children:"Delhivery"}),e.jsx("option",{value:"bluedart",children:"BlueDart"}),e.jsx("option",{value:"fedex",children:"FedEx"})]})]}),x.delivery.courierProvider==="shiprocket"&&e.jsxs("div",{className:"space-y-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Shiprocket Credentials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"Email"}),e.jsx("input",{type:"email",value:x.delivery.shiprocket.email,onChange:w=>h("delivery","shiprocket","email",w.target.value),placeholder:"your@email.com",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"Password"}),e.jsx("input",{type:"password",value:x.delivery.shiprocket.password,onChange:w=>h("delivery","shiprocket","password",w.target.value),placeholder:"",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]})]}),x.delivery.courierProvider==="delhivery"&&e.jsxs("div",{className:"space-y-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"Delhivery Credentials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:x.delivery.delhivery.apiKey,onChange:w=>h("delivery","delhivery","apiKey",w.target.value),placeholder:"Enter API key",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"Client ID"}),e.jsx("input",{type:"text",value:x.delivery.delhivery.clientId,onChange:w=>h("delivery","delhivery","clientId",w.target.value),placeholder:"Enter client ID",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]})]}),x.delivery.courierProvider==="bluedart"&&e.jsxs("div",{className:"space-y-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"BlueDart Credentials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:x.delivery.bluedart.apiKey,onChange:w=>h("delivery","bluedart","apiKey",w.target.value),placeholder:"Enter API key",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"Account Number"}),e.jsx("input",{type:"text",value:x.delivery.bluedart.accountNumber,onChange:w=>h("delivery","bluedart","accountNumber",w.target.value),placeholder:"Enter account number",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]})]}),x.delivery.courierProvider==="fedex"&&e.jsxs("div",{className:"space-y-4 p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-4",children:"FedEx Credentials"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"API Key"}),e.jsx("input",{type:"password",value:x.delivery.fedex.apiKey,onChange:w=>h("delivery","fedex","apiKey",w.target.value),placeholder:"Enter API key",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-white/80 mb-2",children:"Account Number"}),e.jsx("input",{type:"text",value:x.delivery.fedex.accountNumber,onChange:w=>h("delivery","fedex","accountNumber",w.target.value),placeholder:"Enter account number",className:"w-full px-4 py-2.5 rounded-lg bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]})]})]})]})]}),p==="process"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-amber-500/20 shadow-md",children:e.jsx(Ys,{className:"w-6 h-6 text-amber-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Order Processing"}),e.jsx("p",{className:"text-sm text-white/60",children:"Automate order acceptance and processing workflows"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Auto-Accept Orders"}),e.jsx("p",{className:"text-xs text-white/60",children:"Automatically accept orders below threshold"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.process.autoAcceptEnabled,onChange:w=>B("process","autoAcceptEnabled",w.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),x.process.autoAcceptEnabled&&e.jsxs("div",{className:"ml-4 pl-4 border-l-2 border-white/10",children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Auto-Accept Threshold ()"}),e.jsx("input",{type:"number",value:x.process.autoAcceptThreshold,onChange:w=>B("process","autoAcceptThreshold",parseFloat(w.target.value)||0),placeholder:"0",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"}),e.jsx("p",{className:"text-xs text-white/50 mt-2",children:"Orders below this value will be auto-accepted"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold text-white mb-1",children:"Require Confirmation for Large Orders"}),e.jsx("p",{className:"text-xs text-white/60",children:"Always require manual approval for high-value orders"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.process.requireConfirmationForLargeOrders,onChange:w=>B("process","requireConfirmationForLargeOrders",w.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),x.process.requireConfirmationForLargeOrders&&e.jsxs("div",{className:"ml-4 pl-4 border-l-2 border-white/10",children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Large Order Threshold ()"}),e.jsx("input",{type:"number",value:x.process.largeOrderThreshold,onChange:w=>B("process","largeOrderThreshold",parseFloat(w.target.value)||0),placeholder:"50000",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Default Delivery Days"}),e.jsx("input",{type:"number",value:x.process.defaultDeliveryDays,onChange:w=>B("process","defaultDeliveryDays",parseInt(w.target.value)||3),min:"1",max:"30",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"}),e.jsx("p",{className:"text-xs text-white/50 mt-2",children:"Default number of days for delivery estimation"})]})]})]})}),p==="notifications"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-pink-500/20 shadow-md",children:e.jsx(Il,{className:"w-6 h-6 text-pink-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Notification Preferences"}),e.jsx("p",{className:"text-sm text-white/60",children:"Configure how and when you receive notifications"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-white",children:"Notification Channels"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"WhatsApp"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.notifications.whatsappEnabled,onChange:w=>B("notifications","whatsappEnabled",w.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"Email"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.notifications.emailEnabled,onChange:w=>B("notifications","emailEnabled",w.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/10",children:[e.jsx("span",{className:"text-sm font-medium text-white",children:"SMS"}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.notifications.smsEnabled,onChange:w=>B("notifications","smsEnabled",w.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]})]})]}),e.jsxs("div",{className:"space-y-3 mt-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-white",children:"Notification Events"}),e.jsx("div",{className:"space-y-2",children:[{key:"notifyOnNewRequest",label:"New Order Request"},{key:"notifyOnOrderAccepted",label:"Order Accepted"},{key:"notifyOnOrderShipped",label:"Order Shipped"},{key:"notifyOnOrderDelivered",label:"Order Delivered"},{key:"notifyOnPaymentReceived",label:"Payment Received"}].map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("span",{className:"text-sm text-white/90",children:w.label}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.notifications[w.key],onChange:T=>B("notifications",w.key,T.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]},w.key))})]})]})]})}),p==="preferences"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-3 rounded-xl bg-cyan-500/20 shadow-md",children:e.jsx(oi,{className:"w-6 h-6 text-cyan-300"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"General Preferences"}),e.jsx("p",{className:"text-sm text-white/60",children:"Customize your dashboard and display options"})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Default Time Range"}),e.jsxs("select",{value:x.preferences.defaultTimeRange,onChange:w=>B("preferences","defaultTimeRange",w.target.value),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm",children:[e.jsx("option",{value:"today",children:"Today"}),e.jsx("option",{value:"week",children:"This Week"}),e.jsx("option",{value:"month",children:"This Month"}),e.jsx("option",{value:"all",children:"All Time"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-white mb-2",children:"Items Per Page"}),e.jsx("input",{type:"number",value:x.preferences.itemsPerPage,onChange:w=>B("preferences","itemsPerPage",parseInt(w.target.value)||20),min:"10",max:"100",step:"10",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/20 text-white placeholder-white/40 text-sm focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/50 transition-all backdrop-blur-sm"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-semibold text-white",children:"Dashboard Features"}),e.jsx("div",{className:"space-y-2",children:[{key:"showOrderFlowChart",label:"Show Order Flow Chart"},{key:"showFinancialMetrics",label:"Show Financial Metrics"},{key:"enableRouteOptimization",label:"Enable Route Optimization"}].map(w=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/5 rounded-lg border border-white/10",children:[e.jsx("span",{className:"text-sm text-white/90",children:w.label}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:x.preferences[w.key],onChange:T=>B("preferences",w.key,T.target.checked),className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-white/30 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-emerald-500/50 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-emerald-500"})]})]},w.key))})]})]})]})})]},p)})]})},my=Object.freeze(Object.defineProperty({__proto__:null,default:qw},Symbol.toStringTag,{value:"Module"}));export{qw as D,Mw as O,Jw as P,$w as T,my as a};
