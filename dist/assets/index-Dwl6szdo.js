function _mergeNamespaces(Re,Ce){for(var je=0;je<Ce.length;je++){const Be=Ce[je];if(typeof Be!="string"&&!Array.isArray(Be)){for(const De in Be)if(De!=="default"&&!(De in Re)){const Fe=Object.getOwnPropertyDescriptor(Be,De);Fe&&Object.defineProperty(Re,De,Fe.get?Fe:{enumerable:!0,get:()=>Be[De]})}}}return Object.freeze(Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"}))}(function(){const Ce=document.createElement("link").relList;if(Ce&&Ce.supports&&Ce.supports("modulepreload"))return;for(const De of document.querySelectorAll('link[rel="modulepreload"]'))Be(De);new MutationObserver(De=>{for(const Fe of De)if(Fe.type==="childList")for(const ke of Fe.addedNodes)ke.tagName==="LINK"&&ke.rel==="modulepreload"&&Be(ke)}).observe(document,{childList:!0,subtree:!0});function je(De){const Fe={};return De.integrity&&(Fe.integrity=De.integrity),De.referrerPolicy&&(Fe.referrerPolicy=De.referrerPolicy),De.crossOrigin==="use-credentials"?Fe.credentials="include":De.crossOrigin==="anonymous"?Fe.credentials="omit":Fe.credentials="same-origin",Fe}function Be(De){if(De.ep)return;De.ep=!0;const Fe=je(De);fetch(De.href,Fe)}})();var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Re){return Re&&Re.__esModule&&Object.prototype.hasOwnProperty.call(Re,"default")?Re.default:Re}function getAugmentedNamespace(Re){if(Object.prototype.hasOwnProperty.call(Re,"__esModule"))return Re;var Ce=Re.default;if(typeof Ce=="function"){var je=function Be(){var De=!1;try{De=this instanceof Be}catch{}return De?Reflect.construct(Ce,arguments,this.constructor):Ce.apply(this,arguments)};je.prototype=Ce.prototype}else je={};return Object.defineProperty(je,"__esModule",{value:!0}),Object.keys(Re).forEach(function(Be){var De=Object.getOwnPropertyDescriptor(Re,Be);Object.defineProperty(je,Be,De.get?De:{enumerable:!0,get:function(){return Re[Be]}})}),je}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Re=Symbol.for("react.transitional.element"),Ce=Symbol.for("react.fragment");function je(Be,De,Fe){var ke=null;if(Fe!==void 0&&(ke=""+Fe),De.key!==void 0&&(ke=""+De.key),"key"in De){Fe={};for(var Oe in De)Oe!=="key"&&(Fe[Oe]=De[Oe])}else Fe=De;return De=Fe.ref,{$$typeof:Re,type:Be,key:ke,ref:De!==void 0?De:null,props:Fe}}return reactJsxRuntime_production.Fragment=Ce,reactJsxRuntime_production.jsx=je,reactJsxRuntime_production.jsxs=je,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Re=Symbol.for("react.transitional.element"),Ce=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Fe=Symbol.for("react.consumer"),ke=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.memo"),$e=Symbol.for("react.lazy"),He=Symbol.iterator;function Qe(Pr){return Pr===null||typeof Pr!="object"?null:(Pr=He&&Pr[He]||Pr["@@iterator"],typeof Pr=="function"?Pr:null)}var We={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qe=Object.assign,Ke={};function Xe(Pr,Mr,_r){this.props=Pr,this.context=Mr,this.refs=Ke,this.updater=_r||We}Xe.prototype.isReactComponent={},Xe.prototype.setState=function(Pr,Mr){if(typeof Pr!="object"&&typeof Pr!="function"&&Pr!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Pr,Mr,"setState")},Xe.prototype.forceUpdate=function(Pr){this.updater.enqueueForceUpdate(this,Pr,"forceUpdate")};function Ye(){}Ye.prototype=Xe.prototype;function Ze(Pr,Mr,_r){this.props=Pr,this.context=Mr,this.refs=Ke,this.updater=_r||We}var Je=Ze.prototype=new Ye;Je.constructor=Ze,qe(Je,Xe.prototype),Je.isPureReactComponent=!0;var tr=Array.isArray,rr={H:null,A:null,T:null,S:null,V:null},ar=Object.prototype.hasOwnProperty;function ir(Pr,Mr,_r,Ir,Dr,Or){return _r=Or.ref,{$$typeof:Re,type:Pr,key:Mr,ref:_r!==void 0?_r:null,props:Or}}function nr(Pr,Mr){return ir(Pr.type,Mr,void 0,void 0,void 0,Pr.props)}function cr(Pr){return typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===Re}function mr(Pr){var Mr={"=":"=0",":":"=2"};return"$"+Pr.replace(/[=:]/g,function(_r){return Mr[_r]})}var fr=/\/+/g;function or(Pr,Mr){return typeof Pr=="object"&&Pr!==null&&Pr.key!=null?mr(""+Pr.key):Mr.toString(36)}function yr(){}function Cr(Pr){switch(Pr.status){case"fulfilled":return Pr.value;case"rejected":throw Pr.reason;default:switch(typeof Pr.status=="string"?Pr.then(yr,yr):(Pr.status="pending",Pr.then(function(Mr){Pr.status==="pending"&&(Pr.status="fulfilled",Pr.value=Mr)},function(Mr){Pr.status==="pending"&&(Pr.status="rejected",Pr.reason=Mr)})),Pr.status){case"fulfilled":return Pr.value;case"rejected":throw Pr.reason}}throw Pr}function jr(Pr,Mr,_r,Ir,Dr){var Or=typeof Pr;(Or==="undefined"||Or==="boolean")&&(Pr=null);var br=!1;if(Pr===null)br=!0;else switch(Or){case"bigint":case"string":case"number":br=!0;break;case"object":switch(Pr.$$typeof){case Re:case Ce:br=!0;break;case $e:return br=Pr._init,jr(br(Pr._payload),Mr,_r,Ir,Dr)}}if(br)return Dr=Dr(Pr),br=Ir===""?"."+or(Pr,0):Ir,tr(Dr)?(_r="",br!=null&&(_r=br.replace(fr,"$&/")+"/"),jr(Dr,Mr,_r,"",function(zr){return zr})):Dr!=null&&(cr(Dr)&&(Dr=nr(Dr,_r+(Dr.key==null||Pr&&Pr.key===Dr.key?"":(""+Dr.key).replace(fr,"$&/")+"/")+br)),Mr.push(Dr)),1;br=0;var Ur=Ir===""?".":Ir+":";if(tr(Pr))for(var Qr=0;Qr<Pr.length;Qr++)Ir=Pr[Qr],Or=Ur+or(Ir,Qr),br+=jr(Ir,Mr,_r,Or,Dr);else if(Qr=Qe(Pr),typeof Qr=="function")for(Pr=Qr.call(Pr),Qr=0;!(Ir=Pr.next()).done;)Ir=Ir.value,Or=Ur+or(Ir,Qr++),br+=jr(Ir,Mr,_r,Or,Dr);else if(Or==="object"){if(typeof Pr.then=="function")return jr(Cr(Pr),Mr,_r,Ir,Dr);throw Mr=String(Pr),Error("Objects are not valid as a React child (found: "+(Mr==="[object Object]"?"object with keys {"+Object.keys(Pr).join(", ")+"}":Mr)+"). If you meant to render a collection of children, use an array instead.")}return br}function vr(Pr,Mr,_r){if(Pr==null)return Pr;var Ir=[],Dr=0;return jr(Pr,Ir,"","",function(Or){return Mr.call(_r,Or,Dr++)}),Ir}function Tr(Pr){if(Pr._status===-1){var Mr=Pr._result;Mr=Mr(),Mr.then(function(_r){(Pr._status===0||Pr._status===-1)&&(Pr._status=1,Pr._result=_r)},function(_r){(Pr._status===0||Pr._status===-1)&&(Pr._status=2,Pr._result=_r)}),Pr._status===-1&&(Pr._status=0,Pr._result=Mr)}if(Pr._status===1)return Pr._result.default;throw Pr._result}var wr=typeof reportError=="function"?reportError:function(Pr){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Mr=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Pr=="object"&&Pr!==null&&typeof Pr.message=="string"?String(Pr.message):String(Pr),error:Pr});if(!window.dispatchEvent(Mr))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Pr);return}console.error(Pr)};function Er(){}return react_production.Children={map:vr,forEach:function(Pr,Mr,_r){vr(Pr,function(){Mr.apply(this,arguments)},_r)},count:function(Pr){var Mr=0;return vr(Pr,function(){Mr++}),Mr},toArray:function(Pr){return vr(Pr,function(Mr){return Mr})||[]},only:function(Pr){if(!cr(Pr))throw Error("React.Children.only expected to receive a single React element child.");return Pr}},react_production.Component=Xe,react_production.Fragment=je,react_production.Profiler=De,react_production.PureComponent=Ze,react_production.StrictMode=Be,react_production.Suspense=Me,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=rr,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(Pr){return rr.H.useMemoCache(Pr)}},react_production.cache=function(Pr){return function(){return Pr.apply(null,arguments)}},react_production.cloneElement=function(Pr,Mr,_r){if(Pr==null)throw Error("The argument must be a React element, but you passed "+Pr+".");var Ir=qe({},Pr.props),Dr=Pr.key,Or=void 0;if(Mr!=null)for(br in Mr.ref!==void 0&&(Or=void 0),Mr.key!==void 0&&(Dr=""+Mr.key),Mr)!ar.call(Mr,br)||br==="key"||br==="__self"||br==="__source"||br==="ref"&&Mr.ref===void 0||(Ir[br]=Mr[br]);var br=arguments.length-2;if(br===1)Ir.children=_r;else if(1<br){for(var Ur=Array(br),Qr=0;Qr<br;Qr++)Ur[Qr]=arguments[Qr+2];Ir.children=Ur}return ir(Pr.type,Dr,void 0,void 0,Or,Ir)},react_production.createContext=function(Pr){return Pr={$$typeof:ke,_currentValue:Pr,_currentValue2:Pr,_threadCount:0,Provider:null,Consumer:null},Pr.Provider=Pr,Pr.Consumer={$$typeof:Fe,_context:Pr},Pr},react_production.createElement=function(Pr,Mr,_r){var Ir,Dr={},Or=null;if(Mr!=null)for(Ir in Mr.key!==void 0&&(Or=""+Mr.key),Mr)ar.call(Mr,Ir)&&Ir!=="key"&&Ir!=="__self"&&Ir!=="__source"&&(Dr[Ir]=Mr[Ir]);var br=arguments.length-2;if(br===1)Dr.children=_r;else if(1<br){for(var Ur=Array(br),Qr=0;Qr<br;Qr++)Ur[Qr]=arguments[Qr+2];Dr.children=Ur}if(Pr&&Pr.defaultProps)for(Ir in br=Pr.defaultProps,br)Dr[Ir]===void 0&&(Dr[Ir]=br[Ir]);return ir(Pr,Or,void 0,void 0,null,Dr)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(Pr){return{$$typeof:Oe,render:Pr}},react_production.isValidElement=cr,react_production.lazy=function(Pr){return{$$typeof:$e,_payload:{_status:-1,_result:Pr},_init:Tr}},react_production.memo=function(Pr,Mr){return{$$typeof:Ue,type:Pr,compare:Mr===void 0?null:Mr}},react_production.startTransition=function(Pr){var Mr=rr.T,_r={};rr.T=_r;try{var Ir=Pr(),Dr=rr.S;Dr!==null&&Dr(_r,Ir),typeof Ir=="object"&&Ir!==null&&typeof Ir.then=="function"&&Ir.then(Er,wr)}catch(Or){wr(Or)}finally{rr.T=Mr}},react_production.unstable_useCacheRefresh=function(){return rr.H.useCacheRefresh()},react_production.use=function(Pr){return rr.H.use(Pr)},react_production.useActionState=function(Pr,Mr,_r){return rr.H.useActionState(Pr,Mr,_r)},react_production.useCallback=function(Pr,Mr){return rr.H.useCallback(Pr,Mr)},react_production.useContext=function(Pr){return rr.H.useContext(Pr)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(Pr,Mr){return rr.H.useDeferredValue(Pr,Mr)},react_production.useEffect=function(Pr,Mr,_r){var Ir=rr.H;if(typeof _r=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Ir.useEffect(Pr,Mr)},react_production.useId=function(){return rr.H.useId()},react_production.useImperativeHandle=function(Pr,Mr,_r){return rr.H.useImperativeHandle(Pr,Mr,_r)},react_production.useInsertionEffect=function(Pr,Mr){return rr.H.useInsertionEffect(Pr,Mr)},react_production.useLayoutEffect=function(Pr,Mr){return rr.H.useLayoutEffect(Pr,Mr)},react_production.useMemo=function(Pr,Mr){return rr.H.useMemo(Pr,Mr)},react_production.useOptimistic=function(Pr,Mr){return rr.H.useOptimistic(Pr,Mr)},react_production.useReducer=function(Pr,Mr,_r){return rr.H.useReducer(Pr,Mr,_r)},react_production.useRef=function(Pr){return rr.H.useRef(Pr)},react_production.useState=function(Pr){return rr.H.useState(Pr)},react_production.useSyncExternalStore=function(Pr,Mr,_r){return rr.H.useSyncExternalStore(Pr,Mr,_r)},react_production.useTransition=function(){return rr.H.useTransition()},react_production.version="19.1.1",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);var client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(Re){function Ce(vr,Tr){var wr=vr.length;vr.push(Tr);e:for(;0<wr;){var Er=wr-1>>>1,Pr=vr[Er];if(0<De(Pr,Tr))vr[Er]=Tr,vr[wr]=Pr,wr=Er;else break e}}function je(vr){return vr.length===0?null:vr[0]}function Be(vr){if(vr.length===0)return null;var Tr=vr[0],wr=vr.pop();if(wr!==Tr){vr[0]=wr;e:for(var Er=0,Pr=vr.length,Mr=Pr>>>1;Er<Mr;){var _r=2*(Er+1)-1,Ir=vr[_r],Dr=_r+1,Or=vr[Dr];if(0>De(Ir,wr))Dr<Pr&&0>De(Or,Ir)?(vr[Er]=Or,vr[Dr]=wr,Er=Dr):(vr[Er]=Ir,vr[_r]=wr,Er=_r);else if(Dr<Pr&&0>De(Or,wr))vr[Er]=Or,vr[Dr]=wr,Er=Dr;else break e}}return Tr}function De(vr,Tr){var wr=vr.sortIndex-Tr.sortIndex;return wr!==0?wr:vr.id-Tr.id}if(Re.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var Fe=performance;Re.unstable_now=function(){return Fe.now()}}else{var ke=Date,Oe=ke.now();Re.unstable_now=function(){return ke.now()-Oe}}var Me=[],Ue=[],$e=1,He=null,Qe=3,We=!1,qe=!1,Ke=!1,Xe=!1,Ye=typeof setTimeout=="function"?setTimeout:null,Ze=typeof clearTimeout=="function"?clearTimeout:null,Je=typeof setImmediate<"u"?setImmediate:null;function tr(vr){for(var Tr=je(Ue);Tr!==null;){if(Tr.callback===null)Be(Ue);else if(Tr.startTime<=vr)Be(Ue),Tr.sortIndex=Tr.expirationTime,Ce(Me,Tr);else break;Tr=je(Ue)}}function rr(vr){if(Ke=!1,tr(vr),!qe)if(je(Me)!==null)qe=!0,ar||(ar=!0,or());else{var Tr=je(Ue);Tr!==null&&jr(rr,Tr.startTime-vr)}}var ar=!1,ir=-1,nr=5,cr=-1;function mr(){return Xe?!0:!(Re.unstable_now()-cr<nr)}function fr(){if(Xe=!1,ar){var vr=Re.unstable_now();cr=vr;var Tr=!0;try{e:{qe=!1,Ke&&(Ke=!1,Ze(ir),ir=-1),We=!0;var wr=Qe;try{t:{for(tr(vr),He=je(Me);He!==null&&!(He.expirationTime>vr&&mr());){var Er=He.callback;if(typeof Er=="function"){He.callback=null,Qe=He.priorityLevel;var Pr=Er(He.expirationTime<=vr);if(vr=Re.unstable_now(),typeof Pr=="function"){He.callback=Pr,tr(vr),Tr=!0;break t}He===je(Me)&&Be(Me),tr(vr)}else Be(Me);He=je(Me)}if(He!==null)Tr=!0;else{var Mr=je(Ue);Mr!==null&&jr(rr,Mr.startTime-vr),Tr=!1}}break e}finally{He=null,Qe=wr,We=!1}Tr=void 0}}finally{Tr?or():ar=!1}}}var or;if(typeof Je=="function")or=function(){Je(fr)};else if(typeof MessageChannel<"u"){var yr=new MessageChannel,Cr=yr.port2;yr.port1.onmessage=fr,or=function(){Cr.postMessage(null)}}else or=function(){Ye(fr,0)};function jr(vr,Tr){ir=Ye(function(){vr(Re.unstable_now())},Tr)}Re.unstable_IdlePriority=5,Re.unstable_ImmediatePriority=1,Re.unstable_LowPriority=4,Re.unstable_NormalPriority=3,Re.unstable_Profiling=null,Re.unstable_UserBlockingPriority=2,Re.unstable_cancelCallback=function(vr){vr.callback=null},Re.unstable_forceFrameRate=function(vr){0>vr||125<vr?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):nr=0<vr?Math.floor(1e3/vr):5},Re.unstable_getCurrentPriorityLevel=function(){return Qe},Re.unstable_next=function(vr){switch(Qe){case 1:case 2:case 3:var Tr=3;break;default:Tr=Qe}var wr=Qe;Qe=Tr;try{return vr()}finally{Qe=wr}},Re.unstable_requestPaint=function(){Xe=!0},Re.unstable_runWithPriority=function(vr,Tr){switch(vr){case 1:case 2:case 3:case 4:case 5:break;default:vr=3}var wr=Qe;Qe=vr;try{return Tr()}finally{Qe=wr}},Re.unstable_scheduleCallback=function(vr,Tr,wr){var Er=Re.unstable_now();switch(typeof wr=="object"&&wr!==null?(wr=wr.delay,wr=typeof wr=="number"&&0<wr?Er+wr:Er):wr=Er,vr){case 1:var Pr=-1;break;case 2:Pr=250;break;case 5:Pr=1073741823;break;case 4:Pr=1e4;break;default:Pr=5e3}return Pr=wr+Pr,vr={id:$e++,callback:Tr,priorityLevel:vr,startTime:wr,expirationTime:Pr,sortIndex:-1},wr>Er?(vr.sortIndex=wr,Ce(Ue,vr),je(Me)===null&&vr===je(Ue)&&(Ke?(Ze(ir),ir=-1):Ke=!0,jr(rr,wr-Er))):(vr.sortIndex=Pr,Ce(Me,vr),qe||We||(qe=!0,ar||(ar=!0,or()))),vr},Re.unstable_shouldYield=mr,Re.unstable_wrapCallback=function(vr){var Tr=Qe;return function(){var wr=Qe;Qe=Tr;try{return vr.apply(this,arguments)}finally{Qe=wr}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Re=requireReact();function Ce(Me){var Ue="https://react.dev/errors/"+Me;if(1<arguments.length){Ue+="?args[]="+encodeURIComponent(arguments[1]);for(var $e=2;$e<arguments.length;$e++)Ue+="&args[]="+encodeURIComponent(arguments[$e])}return"Minified React error #"+Me+"; visit "+Ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function je(){}var Be={d:{f:je,r:function(){throw Error(Ce(522))},D:je,C:je,L:je,m:je,X:je,S:je,M:je},p:0,findDOMNode:null},De=Symbol.for("react.portal");function Fe(Me,Ue,$e){var He=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:De,key:He==null?null:""+He,children:Me,containerInfo:Ue,implementation:$e}}var ke=Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Oe(Me,Ue){if(Me==="font")return"";if(typeof Ue=="string")return Ue==="use-credentials"?Ue:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Be,reactDom_production.createPortal=function(Me,Ue){var $e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ue||Ue.nodeType!==1&&Ue.nodeType!==9&&Ue.nodeType!==11)throw Error(Ce(299));return Fe(Me,Ue,null,$e)},reactDom_production.flushSync=function(Me){var Ue=ke.T,$e=Be.p;try{if(ke.T=null,Be.p=2,Me)return Me()}finally{ke.T=Ue,Be.p=$e,Be.d.f()}},reactDom_production.preconnect=function(Me,Ue){typeof Me=="string"&&(Ue?(Ue=Ue.crossOrigin,Ue=typeof Ue=="string"?Ue==="use-credentials"?Ue:"":void 0):Ue=null,Be.d.C(Me,Ue))},reactDom_production.prefetchDNS=function(Me){typeof Me=="string"&&Be.d.D(Me)},reactDom_production.preinit=function(Me,Ue){if(typeof Me=="string"&&Ue&&typeof Ue.as=="string"){var $e=Ue.as,He=Oe($e,Ue.crossOrigin),Qe=typeof Ue.integrity=="string"?Ue.integrity:void 0,We=typeof Ue.fetchPriority=="string"?Ue.fetchPriority:void 0;$e==="style"?Be.d.S(Me,typeof Ue.precedence=="string"?Ue.precedence:void 0,{crossOrigin:He,integrity:Qe,fetchPriority:We}):$e==="script"&&Be.d.X(Me,{crossOrigin:He,integrity:Qe,fetchPriority:We,nonce:typeof Ue.nonce=="string"?Ue.nonce:void 0})}},reactDom_production.preinitModule=function(Me,Ue){if(typeof Me=="string")if(typeof Ue=="object"&&Ue!==null){if(Ue.as==null||Ue.as==="script"){var $e=Oe(Ue.as,Ue.crossOrigin);Be.d.M(Me,{crossOrigin:$e,integrity:typeof Ue.integrity=="string"?Ue.integrity:void 0,nonce:typeof Ue.nonce=="string"?Ue.nonce:void 0})}}else Ue==null&&Be.d.M(Me)},reactDom_production.preload=function(Me,Ue){if(typeof Me=="string"&&typeof Ue=="object"&&Ue!==null&&typeof Ue.as=="string"){var $e=Ue.as,He=Oe($e,Ue.crossOrigin);Be.d.L(Me,$e,{crossOrigin:He,integrity:typeof Ue.integrity=="string"?Ue.integrity:void 0,nonce:typeof Ue.nonce=="string"?Ue.nonce:void 0,type:typeof Ue.type=="string"?Ue.type:void 0,fetchPriority:typeof Ue.fetchPriority=="string"?Ue.fetchPriority:void 0,referrerPolicy:typeof Ue.referrerPolicy=="string"?Ue.referrerPolicy:void 0,imageSrcSet:typeof Ue.imageSrcSet=="string"?Ue.imageSrcSet:void 0,imageSizes:typeof Ue.imageSizes=="string"?Ue.imageSizes:void 0,media:typeof Ue.media=="string"?Ue.media:void 0})}},reactDom_production.preloadModule=function(Me,Ue){if(typeof Me=="string")if(Ue){var $e=Oe(Ue.as,Ue.crossOrigin);Be.d.m(Me,{as:typeof Ue.as=="string"&&Ue.as!=="script"?Ue.as:void 0,crossOrigin:$e,integrity:typeof Ue.integrity=="string"?Ue.integrity:void 0})}else Be.d.m(Me)},reactDom_production.requestFormReset=function(Me){Be.d.r(Me)},reactDom_production.unstable_batchedUpdates=function(Me,Ue){return Me(Ue)},reactDom_production.useFormState=function(Me,Ue,$e){return ke.H.useFormState(Me,Ue,$e)},reactDom_production.useFormStatus=function(){return ke.H.useHostTransitionStatus()},reactDom_production.version="19.1.1",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Re(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Re)}catch(Ce){console.error(Ce)}}return Re(),reactDom.exports=requireReactDom_production(),reactDom.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Re=requireScheduler(),Ce=requireReact(),je=requireReactDom();function Be(ze){var Ge="https://react.dev/errors/"+ze;if(1<arguments.length){Ge+="?args[]="+encodeURIComponent(arguments[1]);for(var er=2;er<arguments.length;er++)Ge+="&args[]="+encodeURIComponent(arguments[er])}return"Minified React error #"+ze+"; visit "+Ge+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function De(ze){return!(!ze||ze.nodeType!==1&&ze.nodeType!==9&&ze.nodeType!==11)}function Fe(ze){var Ge=ze,er=ze;if(ze.alternate)for(;Ge.return;)Ge=Ge.return;else{ze=Ge;do Ge=ze,(Ge.flags&4098)!==0&&(er=Ge.return),ze=Ge.return;while(ze)}return Ge.tag===3?er:null}function ke(ze){if(ze.tag===13){var Ge=ze.memoizedState;if(Ge===null&&(ze=ze.alternate,ze!==null&&(Ge=ze.memoizedState)),Ge!==null)return Ge.dehydrated}return null}function Oe(ze){if(Fe(ze)!==ze)throw Error(Be(188))}function Me(ze){var Ge=ze.alternate;if(!Ge){if(Ge=Fe(ze),Ge===null)throw Error(Be(188));return Ge!==ze?null:ze}for(var er=ze,sr=Ge;;){var gr=er.return;if(gr===null)break;var Sr=gr.alternate;if(Sr===null){if(sr=gr.return,sr!==null){er=sr;continue}break}if(gr.child===Sr.child){for(Sr=gr.child;Sr;){if(Sr===er)return Oe(gr),ze;if(Sr===sr)return Oe(gr),Ge;Sr=Sr.sibling}throw Error(Be(188))}if(er.return!==sr.return)er=gr,sr=Sr;else{for(var Hr=!1,rn=gr.child;rn;){if(rn===er){Hr=!0,er=gr,sr=Sr;break}if(rn===sr){Hr=!0,sr=gr,er=Sr;break}rn=rn.sibling}if(!Hr){for(rn=Sr.child;rn;){if(rn===er){Hr=!0,er=Sr,sr=gr;break}if(rn===sr){Hr=!0,sr=Sr,er=gr;break}rn=rn.sibling}if(!Hr)throw Error(Be(189))}}if(er.alternate!==sr)throw Error(Be(190))}if(er.tag!==3)throw Error(Be(188));return er.stateNode.current===er?ze:Ge}function Ue(ze){var Ge=ze.tag;if(Ge===5||Ge===26||Ge===27||Ge===6)return ze;for(ze=ze.child;ze!==null;){if(Ge=Ue(ze),Ge!==null)return Ge;ze=ze.sibling}return null}var $e=Object.assign,He=Symbol.for("react.element"),Qe=Symbol.for("react.transitional.element"),We=Symbol.for("react.portal"),qe=Symbol.for("react.fragment"),Ke=Symbol.for("react.strict_mode"),Xe=Symbol.for("react.profiler"),Ye=Symbol.for("react.provider"),Ze=Symbol.for("react.consumer"),Je=Symbol.for("react.context"),tr=Symbol.for("react.forward_ref"),rr=Symbol.for("react.suspense"),ar=Symbol.for("react.suspense_list"),ir=Symbol.for("react.memo"),nr=Symbol.for("react.lazy"),cr=Symbol.for("react.activity"),mr=Symbol.for("react.memo_cache_sentinel"),fr=Symbol.iterator;function or(ze){return ze===null||typeof ze!="object"?null:(ze=fr&&ze[fr]||ze["@@iterator"],typeof ze=="function"?ze:null)}var yr=Symbol.for("react.client.reference");function Cr(ze){if(ze==null)return null;if(typeof ze=="function")return ze.$$typeof===yr?null:ze.displayName||ze.name||null;if(typeof ze=="string")return ze;switch(ze){case qe:return"Fragment";case Xe:return"Profiler";case Ke:return"StrictMode";case rr:return"Suspense";case ar:return"SuspenseList";case cr:return"Activity"}if(typeof ze=="object")switch(ze.$$typeof){case We:return"Portal";case Je:return(ze.displayName||"Context")+".Provider";case Ze:return(ze._context.displayName||"Context")+".Consumer";case tr:var Ge=ze.render;return ze=ze.displayName,ze||(ze=Ge.displayName||Ge.name||"",ze=ze!==""?"ForwardRef("+ze+")":"ForwardRef"),ze;case ir:return Ge=ze.displayName||null,Ge!==null?Ge:Cr(ze.type)||"Memo";case nr:Ge=ze._payload,ze=ze._init;try{return Cr(ze(Ge))}catch{}}return null}var jr=Array.isArray,vr=Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tr=je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wr={pending:!1,data:null,method:null,action:null},Er=[],Pr=-1;function Mr(ze){return{current:ze}}function _r(ze){0>Pr||(ze.current=Er[Pr],Er[Pr]=null,Pr--)}function Ir(ze,Ge){Pr++,Er[Pr]=ze.current,ze.current=Ge}var Dr=Mr(null),Or=Mr(null),br=Mr(null),Ur=Mr(null);function Qr(ze,Ge){switch(Ir(br,Ge),Ir(Or,ze),Ir(Dr,null),Ge.nodeType){case 9:case 11:ze=(ze=Ge.documentElement)&&(ze=ze.namespaceURI)?Wp(ze):0;break;default:if(ze=Ge.tagName,Ge=Ge.namespaceURI)Ge=Wp(Ge),ze=Kp(Ge,ze);else switch(ze){case"svg":ze=1;break;case"math":ze=2;break;default:ze=0}}_r(Dr),Ir(Dr,ze)}function zr(){_r(Dr),_r(Or),_r(br)}function Gr(ze){ze.memoizedState!==null&&Ir(Ur,ze);var Ge=Dr.current,er=Kp(Ge,ze.type);Ge!==er&&(Ir(Or,ze),Ir(Dr,er))}function fn(ze){Or.current===ze&&(_r(Dr),_r(Or)),Ur.current===ze&&(_r(Ur),AA._currentValue=wr)}var nn=Object.prototype.hasOwnProperty,bn=Re.unstable_scheduleCallback,hn=Re.unstable_cancelCallback,yn=Re.unstable_shouldYield,Zr=Re.unstable_requestPaint,Rn=Re.unstable_now,ri=Re.unstable_getCurrentPriorityLevel,Yn=Re.unstable_ImmediatePriority,ti=Re.unstable_UserBlockingPriority,ei=Re.unstable_NormalPriority,Gn=Re.unstable_LowPriority,Ei=Re.unstable_IdlePriority,Ci=Re.log,Fi=Re.unstable_setDisableYieldValue,Si=null,Ti=null;function ji(ze){if(typeof Ci=="function"&&Fi(ze),Ti&&typeof Ti.setStrictMode=="function")try{Ti.setStrictMode(Si,ze)}catch{}}var wi=Math.clz32?Math.clz32:On,En=Math.log,an=Math.LN2;function On(ze){return ze>>>=0,ze===0?32:31-(En(ze)/an|0)|0}var Mn=256,ui=4194304;function Vn(ze){var Ge=ze&42;if(Ge!==0)return Ge;switch(ze&-ze){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return ze&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return ze&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return ze}}function yi(ze,Ge,er){var sr=ze.pendingLanes;if(sr===0)return 0;var gr=0,Sr=ze.suspendedLanes,Hr=ze.pingedLanes;ze=ze.warmLanes;var rn=sr&134217727;return rn!==0?(sr=rn&~Sr,sr!==0?gr=Vn(sr):(Hr&=rn,Hr!==0?gr=Vn(Hr):er||(er=rn&~ze,er!==0&&(gr=Vn(er))))):(rn=sr&~Sr,rn!==0?gr=Vn(rn):Hr!==0?gr=Vn(Hr):er||(er=sr&~ze,er!==0&&(gr=Vn(er)))),gr===0?0:Ge!==0&&Ge!==gr&&(Ge&Sr)===0&&(Sr=gr&-gr,er=Ge&-Ge,Sr>=er||Sr===32&&(er&4194048)!==0)?Ge:gr}function jn(ze,Ge){return(ze.pendingLanes&~(ze.suspendedLanes&~ze.pingedLanes)&Ge)===0}function vn(ze,Ge){switch(ze){case 1:case 2:case 4:case 8:case 64:return Ge+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ge+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ni(){var ze=Mn;return Mn<<=1,(Mn&4194048)===0&&(Mn=256),ze}function xi(){var ze=ui;return ui<<=1,(ui&62914560)===0&&(ui=4194304),ze}function Gi(ze){for(var Ge=[],er=0;31>er;er++)Ge.push(ze);return Ge}function ki(ze,Ge){ze.pendingLanes|=Ge,Ge!==268435456&&(ze.suspendedLanes=0,ze.pingedLanes=0,ze.warmLanes=0)}function Ai(ze,Ge,er,sr,gr,Sr){var Hr=ze.pendingLanes;ze.pendingLanes=er,ze.suspendedLanes=0,ze.pingedLanes=0,ze.warmLanes=0,ze.expiredLanes&=er,ze.entangledLanes&=er,ze.errorRecoveryDisabledLanes&=er,ze.shellSuspendCounter=0;var rn=ze.entanglements,wn=ze.expirationTimes,Xn=ze.hiddenUpdates;for(er=Hr&~er;0<er;){var fi=31-wi(er),bi=1<<fi;rn[fi]=0,wn[fi]=-1;var Zn=Xn[fi];if(Zn!==null)for(Xn[fi]=null,fi=0;fi<Zn.length;fi++){var ni=Zn[fi];ni!==null&&(ni.lane&=-536870913)}er&=~bi}sr!==0&&hi(ze,sr,0),Sr!==0&&gr===0&&ze.tag!==0&&(ze.suspendedLanes|=Sr&~(Hr&~Ge))}function hi(ze,Ge,er){ze.pendingLanes|=Ge,ze.suspendedLanes&=~Ge;var sr=31-wi(Ge);ze.entangledLanes|=Ge,ze.entanglements[sr]=ze.entanglements[sr]|1073741824|er&4194090}function Bi(ze,Ge){var er=ze.entangledLanes|=Ge;for(ze=ze.entanglements;er;){var sr=31-wi(er),gr=1<<sr;gr&Ge|ze[sr]&Ge&&(ze[sr]|=Ge),er&=~gr}}function Zi(ze){switch(ze){case 2:ze=1;break;case 8:ze=4;break;case 32:ze=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:ze=128;break;case 268435456:ze=134217728;break;default:ze=0}return ze}function ds(ze){return ze&=-ze,2<ze?8<ze?(ze&134217727)!==0?32:268435456:8:2}function oa(){var ze=Tr.p;return ze!==0?ze:(ze=window.event,ze===void 0?32:fm(ze.type))}function Wa(ze,Ge){var er=Tr.p;try{return Tr.p=ze,Ge()}finally{Tr.p=er}}var Li=Math.random().toString(36).slice(2),Qs="__reactFiber$"+Li,Fs="__reactProps$"+Li,Xs="__reactContainer$"+Li,Yi="__reactEvents$"+Li,ra="__reactListeners$"+Li,qr="__reactHandles$"+Li,pn="__reactResources$"+Li,on="__reactMarker$"+Li;function cn(ze){delete ze[Qs],delete ze[Fs],delete ze[Yi],delete ze[ra],delete ze[qr]}function mn(ze){var Ge=ze[Qs];if(Ge)return Ge;for(var er=ze.parentNode;er;){if(Ge=er[Xs]||er[Qs]){if(er=Ge.alternate,Ge.child!==null||er!==null&&er.child!==null)for(ze=Xp(ze);ze!==null;){if(er=ze[Qs])return er;ze=Xp(ze)}return Ge}ze=er,er=ze.parentNode}return null}function gn(ze){if(ze=ze[Qs]||ze[Xs]){var Ge=ze.tag;if(Ge===5||Ge===6||Ge===13||Ge===26||Ge===27||Ge===3)return ze}return null}function Un(ze){var Ge=ze.tag;if(Ge===5||Ge===26||Ge===27||Ge===6)return ze.stateNode;throw Error(Be(33))}function Jn(ze){var Ge=ze[pn];return Ge||(Ge=ze[pn]={hoistableStyles:new Map,hoistableScripts:new Map}),Ge}function Dn(ze){ze[on]=!0}var zn=new Set,qn={};function vi(ze,Ge){Ii(ze,Ge),Ii(ze+"Capture",Ge)}function Ii(ze,Ge){for(qn[ze]=Ge,ze=0;ze<Ge.length;ze++)zn.add(Ge[ze])}var zi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Pi={},Ui={};function ss(ze){return nn.call(Ui,ze)?!0:nn.call(Pi,ze)?!1:zi.test(ze)?Ui[ze]=!0:(Pi[ze]=!0,!1)}function gs(ze,Ge,er){if(ss(Ge))if(er===null)ze.removeAttribute(Ge);else{switch(typeof er){case"undefined":case"function":case"symbol":ze.removeAttribute(Ge);return;case"boolean":var sr=Ge.toLowerCase().slice(0,5);if(sr!=="data-"&&sr!=="aria-"){ze.removeAttribute(Ge);return}}ze.setAttribute(Ge,""+er)}}function ws(ze,Ge,er){if(er===null)ze.removeAttribute(Ge);else{switch(typeof er){case"undefined":case"function":case"symbol":case"boolean":ze.removeAttribute(Ge);return}ze.setAttribute(Ge,""+er)}}function ys(ze,Ge,er,sr){if(sr===null)ze.removeAttribute(er);else{switch(typeof sr){case"undefined":case"function":case"symbol":case"boolean":ze.removeAttribute(er);return}ze.setAttributeNS(Ge,er,""+sr)}}var eo,wo;function oo(ze){if(eo===void 0)try{throw Error()}catch(er){var Ge=er.stack.trim().match(/\n( *(at )?)/);eo=Ge&&Ge[1]||"",wo=-1<er.stack.indexOf(`
    at`)?" (<anonymous>)":-1<er.stack.indexOf("@")?"@unknown:0:0":""}return`
`+eo+ze+wo}var Eo=!1;function co(ze,Ge){if(!ze||Eo)return"";Eo=!0;var er=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var sr={DetermineComponentFrameRoot:function(){try{if(Ge){var bi=function(){throw Error()};if(Object.defineProperty(bi.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(bi,[])}catch(ni){var Zn=ni}Reflect.construct(ze,[],bi)}else{try{bi.call()}catch(ni){Zn=ni}ze.call(bi.prototype)}}else{try{throw Error()}catch(ni){Zn=ni}(bi=ze())&&typeof bi.catch=="function"&&bi.catch(function(){})}}catch(ni){if(ni&&Zn&&typeof ni.stack=="string")return[ni.stack,Zn.stack]}return[null,null]}};sr.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var gr=Object.getOwnPropertyDescriptor(sr.DetermineComponentFrameRoot,"name");gr&&gr.configurable&&Object.defineProperty(sr.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var Sr=sr.DetermineComponentFrameRoot(),Hr=Sr[0],rn=Sr[1];if(Hr&&rn){var wn=Hr.split(`
`),Xn=rn.split(`
`);for(gr=sr=0;sr<wn.length&&!wn[sr].includes("DetermineComponentFrameRoot");)sr++;for(;gr<Xn.length&&!Xn[gr].includes("DetermineComponentFrameRoot");)gr++;if(sr===wn.length||gr===Xn.length)for(sr=wn.length-1,gr=Xn.length-1;1<=sr&&0<=gr&&wn[sr]!==Xn[gr];)gr--;for(;1<=sr&&0<=gr;sr--,gr--)if(wn[sr]!==Xn[gr]){if(sr!==1||gr!==1)do if(sr--,gr--,0>gr||wn[sr]!==Xn[gr]){var fi=`
`+wn[sr].replace(" at new "," at ");return ze.displayName&&fi.includes("<anonymous>")&&(fi=fi.replace("<anonymous>",ze.displayName)),fi}while(1<=sr&&0<=gr);break}}}finally{Eo=!1,Error.prepareStackTrace=er}return(er=ze?ze.displayName||ze.name:"")?oo(er):""}function Na(ze){switch(ze.tag){case 26:case 27:case 5:return oo(ze.type);case 16:return oo("Lazy");case 13:return oo("Suspense");case 19:return oo("SuspenseList");case 0:case 15:return co(ze.type,!1);case 11:return co(ze.type.render,!1);case 1:return co(ze.type,!0);case 31:return oo("Activity");default:return""}}function la(ze){try{var Ge="";do Ge+=Na(ze),ze=ze.return;while(ze);return Ge}catch(er){return`
Error generating stack: `+er.message+`
`+er.stack}}function uo(ze){switch(typeof ze){case"bigint":case"boolean":case"number":case"string":case"undefined":return ze;case"object":return ze;default:return""}}function $c(ze){var Ge=ze.type;return(ze=ze.nodeName)&&ze.toLowerCase()==="input"&&(Ge==="checkbox"||Ge==="radio")}function mc(ze){var Ge=$c(ze)?"checked":"value",er=Object.getOwnPropertyDescriptor(ze.constructor.prototype,Ge),sr=""+ze[Ge];if(!ze.hasOwnProperty(Ge)&&typeof er<"u"&&typeof er.get=="function"&&typeof er.set=="function"){var gr=er.get,Sr=er.set;return Object.defineProperty(ze,Ge,{configurable:!0,get:function(){return gr.call(this)},set:function(Hr){sr=""+Hr,Sr.call(this,Hr)}}),Object.defineProperty(ze,Ge,{enumerable:er.enumerable}),{getValue:function(){return sr},setValue:function(Hr){sr=""+Hr},stopTracking:function(){ze._valueTracker=null,delete ze[Ge]}}}}function sl(ze){ze._valueTracker||(ze._valueTracker=mc(ze))}function Bl(ze){if(!ze)return!1;var Ge=ze._valueTracker;if(!Ge)return!0;var er=Ge.getValue(),sr="";return ze&&(sr=$c(ze)?ze.checked?"true":"false":ze.value),ze=sr,ze!==er?(Ge.setValue(ze),!0):!1}function xo(ze){if(ze=ze||(typeof document<"u"?document:void 0),typeof ze>"u")return null;try{return ze.activeElement||ze.body}catch{return ze.body}}var Da=/[\n"\\]/g;function ks(ze){return ze.replace(Da,function(Ge){return"\\"+Ge.charCodeAt(0).toString(16)+" "})}function vo(ze,Ge,er,sr,gr,Sr,Hr,rn){ze.name="",Hr!=null&&typeof Hr!="function"&&typeof Hr!="symbol"&&typeof Hr!="boolean"?ze.type=Hr:ze.removeAttribute("type"),Ge!=null?Hr==="number"?(Ge===0&&ze.value===""||ze.value!=Ge)&&(ze.value=""+uo(Ge)):ze.value!==""+uo(Ge)&&(ze.value=""+uo(Ge)):Hr!=="submit"&&Hr!=="reset"||ze.removeAttribute("value"),Ge!=null?Jl(ze,Hr,uo(Ge)):er!=null?Jl(ze,Hr,uo(er)):sr!=null&&ze.removeAttribute("value"),gr==null&&Sr!=null&&(ze.defaultChecked=!!Sr),gr!=null&&(ze.checked=gr&&typeof gr!="function"&&typeof gr!="symbol"),rn!=null&&typeof rn!="function"&&typeof rn!="symbol"&&typeof rn!="boolean"?ze.name=""+uo(rn):ze.removeAttribute("name")}function Xl(ze,Ge,er,sr,gr,Sr,Hr,rn){if(Sr!=null&&typeof Sr!="function"&&typeof Sr!="symbol"&&typeof Sr!="boolean"&&(ze.type=Sr),Ge!=null||er!=null){if(!(Sr!=="submit"&&Sr!=="reset"||Ge!=null))return;er=er!=null?""+uo(er):"",Ge=Ge!=null?""+uo(Ge):er,rn||Ge===ze.value||(ze.value=Ge),ze.defaultValue=Ge}sr=sr??gr,sr=typeof sr!="function"&&typeof sr!="symbol"&&!!sr,ze.checked=rn?ze.checked:!!sr,ze.defaultChecked=!!sr,Hr!=null&&typeof Hr!="function"&&typeof Hr!="symbol"&&typeof Hr!="boolean"&&(ze.name=Hr)}function Jl(ze,Ge,er){Ge==="number"&&xo(ze.ownerDocument)===ze||ze.defaultValue===""+er||(ze.defaultValue=""+er)}function hl(ze,Ge,er,sr){if(ze=ze.options,Ge){Ge={};for(var gr=0;gr<er.length;gr++)Ge["$"+er[gr]]=!0;for(er=0;er<ze.length;er++)gr=Ge.hasOwnProperty("$"+ze[er].value),ze[er].selected!==gr&&(ze[er].selected=gr),gr&&sr&&(ze[er].defaultSelected=!0)}else{for(er=""+uo(er),Ge=null,gr=0;gr<ze.length;gr++){if(ze[gr].value===er){ze[gr].selected=!0,sr&&(ze[gr].defaultSelected=!0);return}Ge!==null||ze[gr].disabled||(Ge=ze[gr])}Ge!==null&&(Ge.selected=!0)}}function Ws(ze,Ge,er){if(Ge!=null&&(Ge=""+uo(Ge),Ge!==ze.value&&(ze.value=Ge),er==null)){ze.defaultValue!==Ge&&(ze.defaultValue=Ge);return}ze.defaultValue=er!=null?""+uo(er):""}function Zl(ze,Ge,er,sr){if(Ge==null){if(sr!=null){if(er!=null)throw Error(Be(92));if(jr(sr)){if(1<sr.length)throw Error(Be(93));sr=sr[0]}er=sr}er==null&&(er=""),Ge=er}er=uo(Ge),ze.defaultValue=er,sr=ze.textContent,sr===er&&sr!==""&&sr!==null&&(ze.value=sr)}function Qo(ze,Ge){if(Ge){var er=ze.firstChild;if(er&&er===ze.lastChild&&er.nodeType===3){er.nodeValue=Ge;return}}ze.textContent=Ge}var zo=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gu(ze,Ge,er){var sr=Ge.indexOf("--")===0;er==null||typeof er=="boolean"||er===""?sr?ze.setProperty(Ge,""):Ge==="float"?ze.cssFloat="":ze[Ge]="":sr?ze.setProperty(Ge,er):typeof er!="number"||er===0||zo.has(Ge)?Ge==="float"?ze.cssFloat=er:ze[Ge]=(""+er).trim():ze[Ge]=er+"px"}function Vc(ze,Ge,er){if(Ge!=null&&typeof Ge!="object")throw Error(Be(62));if(ze=ze.style,er!=null){for(var sr in er)!er.hasOwnProperty(sr)||Ge!=null&&Ge.hasOwnProperty(sr)||(sr.indexOf("--")===0?ze.setProperty(sr,""):sr==="float"?ze.cssFloat="":ze[sr]="");for(var gr in Ge)sr=Ge[gr],Ge.hasOwnProperty(gr)&&er[gr]!==sr&&Gu(ze,gr,sr)}else for(var Sr in Ge)Ge.hasOwnProperty(Sr)&&Gu(ze,Sr,Ge[Sr])}function du(ze){if(ze.indexOf("-")===-1)return!1;switch(ze){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nl=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function al(ze){return gc.test(""+ze)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":ze}var fo=null;function na(ze){return ze=ze.target||ze.srcElement||window,ze.correspondingUseElement&&(ze=ze.correspondingUseElement),ze.nodeType===3?ze.parentNode:ze}var Dl=null,Al=null;function ts(ze){var Ge=gn(ze);if(Ge&&(ze=Ge.stateNode)){var er=ze[Fs]||null;e:switch(ze=Ge.stateNode,Ge.type){case"input":if(vo(ze,er.value,er.defaultValue,er.defaultValue,er.checked,er.defaultChecked,er.type,er.name),Ge=er.name,er.type==="radio"&&Ge!=null){for(er=ze;er.parentNode;)er=er.parentNode;for(er=er.querySelectorAll('input[name="'+ks(""+Ge)+'"][type="radio"]'),Ge=0;Ge<er.length;Ge++){var sr=er[Ge];if(sr!==ze&&sr.form===ze.form){var gr=sr[Fs]||null;if(!gr)throw Error(Be(90));vo(sr,gr.value,gr.defaultValue,gr.defaultValue,gr.checked,gr.defaultChecked,gr.type,gr.name)}}for(Ge=0;Ge<er.length;Ge++)sr=er[Ge],sr.form===ze.form&&Bl(sr)}break e;case"textarea":Ws(ze,er.value,er.defaultValue);break e;case"select":Ge=er.value,Ge!=null&&hl(ze,!!er.multiple,Ge,!1)}}}var pl=!1;function qu(ze,Ge,er){if(pl)return ze(Ge,er);pl=!0;try{var sr=ze(Ge);return sr}finally{if(pl=!1,(Dl!==null||Al!==null)&&(xs(),Dl&&(Ge=Dl,ze=Al,Al=Dl=null,ts(Ge),ze)))for(Ge=0;Ge<ze.length;Ge++)ts(ze[Ge])}}function So(ze,Ge){var er=ze.stateNode;if(er===null)return null;var sr=er[Fs]||null;if(sr===null)return null;er=sr[Ge];e:switch(Ge){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(sr=!sr.disabled)||(ze=ze.type,sr=!(ze==="button"||ze==="input"||ze==="select"||ze==="textarea")),ze=!sr;break e;default:ze=!1}if(ze)return null;if(er&&typeof er!="function")throw Error(Be(231,Ge,typeof er));return er}var Wo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(Wo)try{var ml={};Object.defineProperty(ml,"passive",{get:function(){ko=!0}}),window.addEventListener("test",ml,ml),window.removeEventListener("test",ml,ml)}catch{ko=!1}var ya=null,gl=null,xl=null;function Hc(){if(xl)return xl;var ze,Ge=gl,er=Ge.length,sr,gr="value"in ya?ya.value:ya.textContent,Sr=gr.length;for(ze=0;ze<er&&Ge[ze]===gr[ze];ze++);var Hr=er-ze;for(sr=1;sr<=Hr&&Ge[er-sr]===gr[Sr-sr];sr++);return xl=gr.slice(ze,1<sr?1-sr:void 0)}function Ko(ze){var Ge=ze.keyCode;return"charCode"in ze?(ze=ze.charCode,ze===0&&Ge===13&&(ze=13)):ze=Ge,ze===10&&(ze=13),32<=ze||ze===13?ze:0}function Ro(){return!0}function vl(){return!1}function Fa(ze){function Ge(er,sr,gr,Sr,Hr){this._reactName=er,this._targetInst=gr,this.type=sr,this.nativeEvent=Sr,this.target=Hr,this.currentTarget=null;for(var rn in ze)ze.hasOwnProperty(rn)&&(er=ze[rn],this[rn]=er?er(Sr):Sr[rn]);return this.isDefaultPrevented=(Sr.defaultPrevented!=null?Sr.defaultPrevented:Sr.returnValue===!1)?Ro:vl,this.isPropagationStopped=vl,this}return $e(Ge.prototype,{preventDefault:function(){this.defaultPrevented=!0;var er=this.nativeEvent;er&&(er.preventDefault?er.preventDefault():typeof er.returnValue!="unknown"&&(er.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var er=this.nativeEvent;er&&(er.stopPropagation?er.stopPropagation():typeof er.cancelBubble!="unknown"&&(er.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),Ge}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(ze){return ze.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Fa(Rs),yl=$e({},Rs,{view:0,detail:0}),fu=Fa(yl),ha,xc,ho,Co=$e({},yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nc,button:0,buttons:0,relatedTarget:function(ze){return ze.relatedTarget===void 0?ze.fromElement===ze.srcElement?ze.toElement:ze.fromElement:ze.relatedTarget},movementX:function(ze){return"movementX"in ze?ze.movementX:(ze!==ho&&(ho&&ze.type==="mousemove"?(ha=ze.screenX-ho.screenX,xc=ze.screenY-ho.screenY):xc=ha=0,ho=ze),ha)},movementY:function(ze){return"movementY"in ze?ze.movementY:xc}}),$a=Fa(Co),Yu=$e({},Co,{dataTransfer:0}),tc=Fa(Yu),Va=$e({},yl,{relatedTarget:0}),ol=Fa(Va),bl=$e({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Qc=Fa(bl),To=$e({},Rs,{clipboardData:function(ze){return"clipboardData"in ze?ze.clipboardData:window.clipboardData}}),kl=Fa(To),vc=$e({},Rs,{data:0}),yc=Fa(vc),rc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(ze){var Ge=this.nativeEvent;return Ge.getModifierState?Ge.getModifierState(ze):(ze=zc[ze])?!!Ge[ze]:!1}function nc(){return wc}var Xu=$e({},yl,{key:function(ze){if(ze.key){var Ge=rc[ze.key]||ze.key;if(Ge!=="Unidentified")return Ge}return ze.type==="keypress"?(ze=Ko(ze),ze===13?"Enter":String.fromCharCode(ze)):ze.type==="keydown"||ze.type==="keyup"?bc[ze.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nc,charCode:function(ze){return ze.type==="keypress"?Ko(ze):0},keyCode:function(ze){return ze.type==="keydown"||ze.type==="keyup"?ze.keyCode:0},which:function(ze){return ze.type==="keypress"?Ko(ze):ze.type==="keydown"||ze.type==="keyup"?ze.keyCode:0}}),Ol=Fa(Xu),ic=$e({},Co,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_c=Fa(ic),jo=$e({},yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nc}),Wc=Fa(jo),Rr=$e({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kr=Fa(Rr),xn=$e({},Co,{deltaX:function(ze){return"deltaX"in ze?ze.deltaX:"wheelDeltaX"in ze?-ze.wheelDeltaX:0},deltaY:function(ze){return"deltaY"in ze?ze.deltaY:"wheelDeltaY"in ze?-ze.wheelDeltaY:"wheelDelta"in ze?-ze.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=Fa(xn),Fn=$e({},Rs,{newState:0,oldState:0}),si=Fa(Fn),Ri=[9,13,27,32],Vi=Wo&&"CompositionEvent"in window,dr=null;Wo&&"documentMode"in document&&(dr=document.documentMode);var Fr=Wo&&"TextEvent"in window&&!dr,$r=Wo&&(!Vi||dr&&8<dr&&11>=dr),en=" ",In=!1;function Hn(ze,Ge){switch(ze){case"keyup":return Ri.indexOf(Ge.keyCode)!==-1;case"keydown":return Ge.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oi(ze){return ze=ze.detail,typeof ze=="object"&&"data"in ze?ze.data:null}var os=!1;function _s(ze,Ge){switch(ze){case"compositionend":return oi(Ge);case"keypress":return Ge.which!==32?null:(In=!0,en);case"textInput":return ze=Ge.data,ze===en&&In?null:ze;default:return null}}function As(ze,Ge){if(os)return ze==="compositionend"||!Vi&&Hn(ze,Ge)?(ze=Hc(),xl=gl=ya=null,os=!1,ze):null;switch(ze){case"paste":return null;case"keypress":if(!(Ge.ctrlKey||Ge.altKey||Ge.metaKey)||Ge.ctrlKey&&Ge.altKey){if(Ge.char&&1<Ge.char.length)return Ge.char;if(Ge.which)return String.fromCharCode(Ge.which)}return null;case"compositionend":return $r&&Ge.locale!=="ko"?null:Ge.data;default:return null}}var Bs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cs(ze){var Ge=ze&&ze.nodeName&&ze.nodeName.toLowerCase();return Ge==="input"?!!Bs[ze.type]:Ge==="textarea"}function wl(ze,Ge,er,sr){Dl?Al?Al.push(sr):Al=[sr]:Dl=sr,Ge=UA(Ge,"onChange"),0<Ge.length&&(er=new Fl("onChange","change",null,er,sr),ze.push({event:er,listeners:Ge}))}var Js=null,Os=null;function Ml(ze){$p(ze,0)}function Aa(ze){var Ge=Un(ze);if(Bl(Ge))return ze}function Kc(ze,Ge){if(ze==="change")return Ge}var Go=!1;if(Wo){var ba;if(Wo){var Ms="oninput"in document;if(!Ms){var Gc=document.createElement("div");Gc.setAttribute("oninput","return;"),Ms=typeof Gc.oninput=="function"}ba=Ms}else ba=!1;Go=ba&&(!document.documentMode||9<document.documentMode)}function qc(){Js&&(Js.detachEvent("onpropertychange",hu),Os=Js=null)}function hu(ze){if(ze.propertyName==="value"&&Aa(Os)){var Ge=[];wl(Ge,Os,ze,na(ze)),qu(Ml,Ge)}}function Oo(ze,Ge,er){ze==="focusin"?(qc(),Js=Ge,Os=er,Js.attachEvent("onpropertychange",hu)):ze==="focusout"&&qc()}function Ju(ze){if(ze==="selectionchange"||ze==="keyup"||ze==="keydown")return Aa(Os)}function Zu(ze,Ge){if(ze==="click")return Aa(Ge)}function _d(ze,Ge){if(ze==="input"||ze==="change")return Aa(Ge)}function wa(ze,Ge){return ze===Ge&&(ze!==0||1/ze===1/Ge)||ze!==ze&&Ge!==Ge}var da=typeof Object.is=="function"?Object.is:wa;function Mo(ze,Ge){if(da(ze,Ge))return!0;if(typeof ze!="object"||ze===null||typeof Ge!="object"||Ge===null)return!1;var er=Object.keys(ze),sr=Object.keys(Ge);if(er.length!==sr.length)return!1;for(sr=0;sr<er.length;sr++){var gr=er[sr];if(!nn.call(Ge,gr)||!da(ze[gr],Ge[gr]))return!1}return!0}function Ta(ze){for(;ze&&ze.firstChild;)ze=ze.firstChild;return ze}function Po(ze,Ge){var er=Ta(ze);ze=0;for(var sr;er;){if(er.nodeType===3){if(sr=ze+er.textContent.length,ze<=Ge&&sr>=Ge)return{node:er,offset:Ge-ze};ze=sr}e:{for(;er;){if(er.nextSibling){er=er.nextSibling;break e}er=er.parentNode}er=void 0}er=Ta(er)}}function Ec(ze,Ge){return ze&&Ge?ze===Ge?!0:ze&&ze.nodeType===3?!1:Ge&&Ge.nodeType===3?Ec(ze,Ge.parentNode):"contains"in ze?ze.contains(Ge):ze.compareDocumentPosition?!!(ze.compareDocumentPosition(Ge)&16):!1:!1}function Io(ze){ze=ze!=null&&ze.ownerDocument!=null&&ze.ownerDocument.defaultView!=null?ze.ownerDocument.defaultView:window;for(var Ge=xo(ze.document);Ge instanceof ze.HTMLIFrameElement;){try{var er=typeof Ge.contentWindow.location.href=="string"}catch{er=!1}if(er)ze=Ge.contentWindow;else break;Ge=xo(ze.document)}return Ge}function Ka(ze){var Ge=ze&&ze.nodeName&&ze.nodeName.toLowerCase();return Ge&&(Ge==="input"&&(ze.type==="text"||ze.type==="search"||ze.type==="tel"||ze.type==="url"||ze.type==="password")||Ge==="textarea"||ze.contentEditable==="true")}var Sc=Wo&&"documentMode"in document&&11>=document.documentMode,qo=null,Lo=null,Ao=null,Ll=!1;function ja(ze,Ge,er){var sr=er.window===er?er.document:er.nodeType===9?er:er.ownerDocument;Ll||qo==null||qo!==xo(sr)||(sr=qo,"selectionStart"in sr&&Ka(sr)?sr={start:sr.selectionStart,end:sr.selectionEnd}:(sr=(sr.ownerDocument&&sr.ownerDocument.defaultView||window).getSelection(),sr={anchorNode:sr.anchorNode,anchorOffset:sr.anchorOffset,focusNode:sr.focusNode,focusOffset:sr.focusOffset}),Ao&&Mo(Ao,sr)||(Ao=sr,sr=UA(Lo,"onSelect"),0<sr.length&&(Ge=new Fl("onSelect","select",null,Ge,er),ze.push({event:Ge,listeners:sr}),Ge.target=qo)))}function Yo(ze,Ge){var er={};return er[ze.toLowerCase()]=Ge.toLowerCase(),er["Webkit"+ze]="webkit"+Ge,er["Moz"+ze]="moz"+Ge,er}var Oa={animationend:Yo("Animation","AnimationEnd"),animationiteration:Yo("Animation","AnimationIteration"),animationstart:Yo("Animation","AnimationStart"),transitionrun:Yo("Transition","TransitionRun"),transitionstart:Yo("Transition","TransitionStart"),transitioncancel:Yo("Transition","TransitionCancel"),transitionend:Yo("Transition","TransitionEnd")},Xo={},Au={};Wo&&(Au=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ha(ze){if(Xo[ze])return Xo[ze];if(!Oa[ze])return ze;var Ge=Oa[ze],er;for(er in Ge)if(Ge.hasOwnProperty(er)&&er in Au)return Xo[ze]=Ge[er];return ze}var pu=Ha("animationend"),Yc=Ha("animationiteration"),Xc=Ha("animationstart"),Ul=Ha("transitionrun"),mu=Ha("transitionstart"),gu=Ha("transitioncancel"),Rc=Ha("transitionend"),sc=new Map,Jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jc.push("scrollEnd");function Ea(ze,Ge){sc.set(ze,Ge),vi(Ge,[ze])}var Jo=new WeakMap;function Es(ze,Ge){if(typeof ze=="object"&&ze!==null){var er=Jo.get(ze);return er!==void 0?er:(Ge={value:ze,source:Ge,stack:la(Ge)},Jo.set(ze,Ge),Ge)}return{value:ze,source:Ge,stack:la(Ge)}}var Ss=[],ca=0,pa=0;function _l(){for(var ze=ca,Ge=pa=ca=0;Ge<ze;){var er=Ss[Ge];Ss[Ge++]=null;var sr=Ss[Ge];Ss[Ge++]=null;var gr=Ss[Ge];Ss[Ge++]=null;var Sr=Ss[Ge];if(Ss[Ge++]=null,sr!==null&&gr!==null){var Hr=sr.pending;Hr===null?gr.next=gr:(gr.next=Hr.next,Hr.next=gr),sr.pending=gr}Sr!==0&&Ed(er,gr,Sr)}}function Zc(ze,Ge,er,sr){Ss[ca++]=ze,Ss[ca++]=Ge,Ss[ca++]=er,Ss[ca++]=sr,pa|=sr,ze.lanes|=sr,ze=ze.alternate,ze!==null&&(ze.lanes|=sr)}function ac(ze,Ge,er,sr){return Zc(ze,Ge,er,sr),xu(ze)}function Cc(ze,Ge){return Zc(ze,null,null,Ge),xu(ze)}function Ed(ze,Ge,er){ze.lanes|=er;var sr=ze.alternate;sr!==null&&(sr.lanes|=er);for(var gr=!1,Sr=ze.return;Sr!==null;)Sr.childLanes|=er,sr=Sr.alternate,sr!==null&&(sr.childLanes|=er),Sr.tag===22&&(ze=Sr.stateNode,ze===null||ze._visibility&1||(gr=!0)),ze=Sr,Sr=Sr.return;return ze.tag===3?(Sr=ze.stateNode,gr&&Ge!==null&&(gr=31-wi(er),ze=Sr.hiddenUpdates,sr=ze[gr],sr===null?ze[gr]=[Ge]:sr.push(Ge),Ge.lane=er|536870912),Sr):null}function xu(ze){if(50<$n)throw $n=0,li=null,Error(Be(185));for(var Ge=ze.return;Ge!==null;)ze=Ge,Ge=ze.return;return ze.tag===3?ze.stateNode:null}var po={};function El(ze,Ge,er,sr){this.tag=ze,this.key=er,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Ge,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=sr,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bo(ze,Ge,er,sr){return new El(ze,Ge,er,sr)}function ed(ze){return ze=ze.prototype,!(!ze||!ze.isReactComponent)}function Uo(ze,Ge){var er=ze.alternate;return er===null?(er=Bo(ze.tag,Ge,ze.key,ze.mode),er.elementType=ze.elementType,er.type=ze.type,er.stateNode=ze.stateNode,er.alternate=ze,ze.alternate=er):(er.pendingProps=Ge,er.type=ze.type,er.flags=0,er.subtreeFlags=0,er.deletions=null),er.flags=ze.flags&65011712,er.childLanes=ze.childLanes,er.lanes=ze.lanes,er.child=ze.child,er.memoizedProps=ze.memoizedProps,er.memoizedState=ze.memoizedState,er.updateQueue=ze.updateQueue,Ge=ze.dependencies,er.dependencies=Ge===null?null:{lanes:Ge.lanes,firstContext:Ge.firstContext},er.sibling=ze.sibling,er.index=ze.index,er.ref=ze.ref,er.refCleanup=ze.refCleanup,er}function Sd(ze,Ge){ze.flags&=65011714;var er=ze.alternate;return er===null?(ze.childLanes=0,ze.lanes=Ge,ze.child=null,ze.subtreeFlags=0,ze.memoizedProps=null,ze.memoizedState=null,ze.updateQueue=null,ze.dependencies=null,ze.stateNode=null):(ze.childLanes=er.childLanes,ze.lanes=er.lanes,ze.child=er.child,ze.subtreeFlags=0,ze.deletions=null,ze.memoizedProps=er.memoizedProps,ze.memoizedState=er.memoizedState,ze.updateQueue=er.updateQueue,ze.type=er.type,Ge=er.dependencies,ze.dependencies=Ge===null?null:{lanes:Ge.lanes,firstContext:Ge.firstContext}),ze}function vu(ze,Ge,er,sr,gr,Sr){var Hr=0;if(sr=ze,typeof ze=="function")ed(ze)&&(Hr=1);else if(typeof ze=="string")Hr=Gm(ze,er,Dr.current)?26:ze==="html"||ze==="head"||ze==="body"?27:5;else e:switch(ze){case cr:return ze=Bo(31,er,Ge,gr),ze.elementType=cr,ze.lanes=Sr,ze;case qe:return Sl(er.children,gr,Sr,Ge);case Ke:Hr=8,gr|=24;break;case Xe:return ze=Bo(12,er,Ge,gr|2),ze.elementType=Xe,ze.lanes=Sr,ze;case rr:return ze=Bo(13,er,Ge,gr),ze.elementType=rr,ze.lanes=Sr,ze;case ar:return ze=Bo(19,er,Ge,gr),ze.elementType=ar,ze.lanes=Sr,ze;default:if(typeof ze=="object"&&ze!==null)switch(ze.$$typeof){case Ye:case Je:Hr=10;break e;case Ze:Hr=9;break e;case tr:Hr=11;break e;case ir:Hr=14;break e;case nr:Hr=16,sr=null;break e}Hr=29,er=Error(Be(130,ze===null?"null":typeof ze,"")),sr=null}return Ge=Bo(Hr,er,Ge,gr),Ge.elementType=ze,Ge.type=sr,Ge.lanes=Sr,Ge}function Sl(ze,Ge,er,sr){return ze=Bo(7,ze,sr,Ge),ze.lanes=er,ze}function qd(ze,Ge,er){return ze=Bo(6,ze,null,Ge),ze.lanes=er,ze}function Rd(ze,Ge,er){return Ge=Bo(4,ze.children!==null?ze.children:[],ze.key,Ge),Ge.lanes=er,Ge.stateNode={containerInfo:ze.containerInfo,pendingChildren:null,implementation:ze.implementation},Ge}var eu=[],Tc=0,jc=null,Yd=0,Rl=[],ll=0,yu=null,Cl=1,Pc="";function bu(ze,Ge){eu[Tc++]=Yd,eu[Tc++]=jc,jc=ze,Yd=Ge}function nh(ze,Ge,er){Rl[ll++]=Cl,Rl[ll++]=Pc,Rl[ll++]=yu,yu=ze;var sr=Cl;ze=Pc;var gr=32-wi(sr)-1;sr&=~(1<<gr),er+=1;var Sr=32-wi(Ge)+gr;if(30<Sr){var Hr=gr-gr%5;Sr=(sr&(1<<Hr)-1).toString(32),sr>>=Hr,gr-=Hr,Cl=1<<32-wi(Ge)+gr|er<<gr|sr,Pc=Sr+ze}else Cl=1<<Sr|er<<gr|sr,Pc=ze}function Cd(ze){ze.return!==null&&(bu(ze,1),nh(ze,1,0))}function tu(ze){for(;ze===jc;)jc=eu[--Tc],eu[Tc]=null,Yd=eu[--Tc],eu[Tc]=null;for(;ze===yu;)yu=Rl[--ll],Rl[ll]=null,Pc=Rl[--ll],Rl[ll]=null,Cl=Rl[--ll],Rl[ll]=null}var Ga=null,Pa=null,zs=!1,ru=null,oc=!1,Rf=Error(Be(519));function wu(ze){var Ge=Error(Be(418,""));throw rd(Es(Ge,ze)),Rf}function ih(ze){var Ge=ze.stateNode,er=ze.type,sr=ze.memoizedProps;switch(Ge[Qs]=ze,Ge[Fs]=sr,er){case"dialog":$s("cancel",Ge),$s("close",Ge);break;case"iframe":case"object":case"embed":$s("load",Ge);break;case"video":case"audio":for(er=0;er<lA.length;er++)$s(lA[er],Ge);break;case"source":$s("error",Ge);break;case"img":case"image":case"link":$s("error",Ge),$s("load",Ge);break;case"details":$s("toggle",Ge);break;case"input":$s("invalid",Ge),Xl(Ge,sr.value,sr.defaultValue,sr.checked,sr.defaultChecked,sr.type,sr.name,!0),sl(Ge);break;case"select":$s("invalid",Ge);break;case"textarea":$s("invalid",Ge),Zl(Ge,sr.value,sr.defaultValue,sr.children),sl(Ge)}er=sr.children,typeof er!="string"&&typeof er!="number"&&typeof er!="bigint"||Ge.textContent===""+er||sr.suppressHydrationWarning===!0||zp(Ge.textContent,er)?(sr.popover!=null&&($s("beforetoggle",Ge),$s("toggle",Ge)),sr.onScroll!=null&&$s("scroll",Ge),sr.onScrollEnd!=null&&$s("scrollend",Ge),sr.onClick!=null&&(Ge.onclick=$A),Ge=!0):Ge=!1,Ge||wu(ze)}function Ic(ze){for(Ga=ze.return;Ga;)switch(Ga.tag){case 5:case 13:oc=!1;return;case 27:case 3:oc=!0;return;default:Ga=Ga.return}}function $o(ze){if(ze!==Ga)return!1;if(!zs)return Ic(ze),zs=!0,!1;var Ge=ze.tag,er;if((er=Ge!==3&&Ge!==27)&&((er=Ge===5)&&(er=ze.type,er=!(er!=="form"&&er!=="button")||vp(ze.type,ze.memoizedProps)),er=!er),er&&Pa&&wu(ze),Ic(ze),Ge===13){if(ze=ze.memoizedState,ze=ze!==null?ze.dehydrated:null,!ze)throw Error(Be(317));e:{for(ze=ze.nextSibling,Ge=0;ze;){if(ze.nodeType===8)if(er=ze.data,er==="/$"){if(Ge===0){Pa=Ku(ze.nextSibling);break e}Ge--}else er!=="$"&&er!=="$!"&&er!=="$?"||Ge++;ze=ze.nextSibling}Pa=null}}else Ge===27?(Ge=Pa,yf(ze.type)?(ze=_p,_p=null,Pa=ze):Pa=Ge):Pa=Ga?Ku(ze.stateNode.nextSibling):null;return!0}function No(){Pa=Ga=null,zs=!1}function sh(){var ze=ru;return ze!==null&&(Il===null?Il=ze:Il.push.apply(Il,ze),ru=null),ze}function rd(ze){ru===null?ru=[ze]:ru.push(ze)}var $l=Mr(null),mo=null,Bc=null;function cc(ze,Ge,er){Ir($l,Ge._currentValue),Ge._currentValue=er}function cl(ze){ze._currentValue=$l.current,_r($l)}function Xd(ze,Ge,er){for(;ze!==null;){var sr=ze.alternate;if((ze.childLanes&Ge)!==Ge?(ze.childLanes|=Ge,sr!==null&&(sr.childLanes|=Ge)):sr!==null&&(sr.childLanes&Ge)!==Ge&&(sr.childLanes|=Ge),ze===er)break;ze=ze.return}}function Jd(ze,Ge,er,sr){var gr=ze.child;for(gr!==null&&(gr.return=ze);gr!==null;){var Sr=gr.dependencies;if(Sr!==null){var Hr=gr.child;Sr=Sr.firstContext;e:for(;Sr!==null;){var rn=Sr;Sr=gr;for(var wn=0;wn<Ge.length;wn++)if(rn.context===Ge[wn]){Sr.lanes|=er,rn=Sr.alternate,rn!==null&&(rn.lanes|=er),Xd(Sr.return,er,ze),sr||(Hr=null);break e}Sr=rn.next}}else if(gr.tag===18){if(Hr=gr.return,Hr===null)throw Error(Be(341));Hr.lanes|=er,Sr=Hr.alternate,Sr!==null&&(Sr.lanes|=er),Xd(Hr,er,ze),Hr=null}else Hr=gr.child;if(Hr!==null)Hr.return=gr;else for(Hr=gr;Hr!==null;){if(Hr===ze){Hr=null;break}if(gr=Hr.sibling,gr!==null){gr.return=Hr.return,Hr=gr;break}Hr=Hr.return}gr=Hr}}function nd(ze,Ge,er,sr){ze=null;for(var gr=Ge,Sr=!1;gr!==null;){if(!Sr){if((gr.flags&524288)!==0)Sr=!0;else if((gr.flags&262144)!==0)break}if(gr.tag===10){var Hr=gr.alternate;if(Hr===null)throw Error(Be(387));if(Hr=Hr.memoizedProps,Hr!==null){var rn=gr.type;da(gr.pendingProps.value,Hr.value)||(ze!==null?ze.push(rn):ze=[rn])}}else if(gr===Ur.current){if(Hr=gr.alternate,Hr===null)throw Error(Be(387));Hr.memoizedState.memoizedState!==gr.memoizedState.memoizedState&&(ze!==null?ze.push(AA):ze=[AA])}gr=gr.return}ze!==null&&Jd(Ge,ze,er,sr),Ge.flags|=262144}function Zd(ze){for(ze=ze.firstContext;ze!==null;){if(!da(ze.context._currentValue,ze.memoizedValue))return!0;ze=ze.next}return!1}function uc(ze){mo=ze,Bc=null,ze=ze.dependencies,ze!==null&&(ze.firstContext=null)}function qa(ze){return ef(mo,ze)}function Vl(ze,Ge){return mo===null&&uc(ze),ef(ze,Ge)}function ef(ze,Ge){var er=Ge._currentValue;if(Ge={context:Ge,memoizedValue:er,next:null},Bc===null){if(ze===null)throw Error(Be(308));Bc=Ge,ze.dependencies={lanes:0,firstContext:Ge},ze.flags|=524288}else Bc=Bc.next=Ge;return er}var Dh=typeof AbortController<"u"?AbortController:function(){var ze=[],Ge=this.signal={aborted:!1,addEventListener:function(er,sr){ze.push(sr)}};this.abort=function(){Ge.aborted=!0,ze.forEach(function(er){return er()})}},ah=Re.unstable_scheduleCallback,Fh=Re.unstable_NormalPriority,Ya={$$typeof:Je,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cf(){return{controller:new Dh,data:new Map,refCount:0}}function Td(ze){ze.refCount--,ze.refCount===0&&ah(Fh,function(){ze.controller.abort()})}var jd=null,Tf=0,_u=0,Nc=null;function kh(ze,Ge){if(jd===null){var er=jd=[];Tf=0,_u=up(),Nc={status:"pending",value:void 0,then:function(sr){er.push(sr)}}}return Tf++,Ge.then(jf,jf),Ge}function jf(){if(--Tf===0&&jd!==null){Nc!==null&&(Nc.status="fulfilled");var ze=jd;jd=null,_u=0,Nc=null;for(var Ge=0;Ge<ze.length;Ge++)(0,ze[Ge])()}}function oh(ze,Ge){var er=[],sr={status:"pending",value:null,reason:null,then:function(gr){er.push(gr)}};return ze.then(function(){sr.status="fulfilled",sr.value=Ge;for(var gr=0;gr<er.length;gr++)(0,er[gr])(Ge)},function(gr){for(sr.status="rejected",sr.reason=gr,gr=0;gr<er.length;gr++)(0,er[gr])(void 0)}),sr}var lr=vr.S;vr.S=function(ze,Ge){typeof Ge=="object"&&Ge!==null&&typeof Ge.then=="function"&&kh(ze,Ge),lr!==null&&lr(ze,Ge)};var xr=Mr(null);function Br(){var ze=xr.current;return ze!==null?ze:ga.pooledCache}function Lr(ze,Ge){Ge===null?Ir(xr,xr.current):Ir(xr,Ge.pool)}function Wr(){var ze=Br();return ze===null?null:{parent:Ya._currentValue,pool:ze}}var Yr=Error(Be(460)),Jr=Error(Be(474)),tn=Error(Be(542)),sn={then:function(){}};function An(ze){return ze=ze.status,ze==="fulfilled"||ze==="rejected"}function Sn(){}function Wn(ze,Ge,er){switch(er=ze[er],er===void 0?ze.push(Ge):er!==Ge&&(Ge.then(Sn,Sn),Ge=er),Ge.status){case"fulfilled":return Ge.value;case"rejected":throw ze=Ge.reason,ai(ze),ze;default:if(typeof Ge.status=="string")Ge.then(Sn,Sn);else{if(ze=ga,ze!==null&&100<ze.shellSuspendCounter)throw Error(Be(482));ze=Ge,ze.status="pending",ze.then(function(sr){if(Ge.status==="pending"){var gr=Ge;gr.status="fulfilled",gr.value=sr}},function(sr){if(Ge.status==="pending"){var gr=Ge;gr.status="rejected",gr.reason=sr}})}switch(Ge.status){case"fulfilled":return Ge.value;case"rejected":throw ze=Ge.reason,ai(ze),ze}throw Qn=Ge,Yr}}var Qn=null;function kn(){if(Qn===null)throw Error(Be(459));var ze=Qn;return Qn=null,ze}function ai(ze){if(ze===Yr||ze===tn)throw Error(Be(483))}var ii=!1;function Cn(ze){ze.updateQueue={baseState:ze.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bn(ze,Ge){ze=ze.updateQueue,Ge.updateQueue===ze&&(Ge.updateQueue={baseState:ze.baseState,firstBaseUpdate:ze.firstBaseUpdate,lastBaseUpdate:ze.lastBaseUpdate,shared:ze.shared,callbacks:null})}function ci(ze){return{lane:ze,tag:0,payload:null,callback:null,next:null}}function mi(ze,Ge,er){var sr=ze.updateQueue;if(sr===null)return null;if(sr=sr.shared,(aa&2)!==0){var gr=sr.pending;return gr===null?Ge.next=Ge:(Ge.next=gr.next,gr.next=Ge),sr.pending=Ge,Ge=xu(ze),Ed(ze,null,er),Ge}return Zc(ze,sr,Ge,er),xu(ze)}function di(ze,Ge,er){if(Ge=Ge.updateQueue,Ge!==null&&(Ge=Ge.shared,(er&4194048)!==0)){var sr=Ge.lanes;sr&=ze.pendingLanes,er|=sr,Ge.lanes=er,Bi(ze,er)}}function Ki(ze,Ge){var er=ze.updateQueue,sr=ze.alternate;if(sr!==null&&(sr=sr.updateQueue,er===sr)){var gr=null,Sr=null;if(er=er.firstBaseUpdate,er!==null){do{var Hr={lane:er.lane,tag:er.tag,payload:er.payload,callback:null,next:null};Sr===null?gr=Sr=Hr:Sr=Sr.next=Hr,er=er.next}while(er!==null);Sr===null?gr=Sr=Ge:Sr=Sr.next=Ge}else gr=Sr=Ge;er={baseState:sr.baseState,firstBaseUpdate:gr,lastBaseUpdate:Sr,shared:sr.shared,callbacks:sr.callbacks},ze.updateQueue=er;return}ze=er.lastBaseUpdate,ze===null?er.firstBaseUpdate=Ge:ze.next=Ge,er.lastBaseUpdate=Ge}var $i=!1;function es(){if($i){var ze=Nc;if(ze!==null)throw ze}}function Hi(ze,Ge,er,sr){$i=!1;var gr=ze.updateQueue;ii=!1;var Sr=gr.firstBaseUpdate,Hr=gr.lastBaseUpdate,rn=gr.shared.pending;if(rn!==null){gr.shared.pending=null;var wn=rn,Xn=wn.next;wn.next=null,Hr===null?Sr=Xn:Hr.next=Xn,Hr=wn;var fi=ze.alternate;fi!==null&&(fi=fi.updateQueue,rn=fi.lastBaseUpdate,rn!==Hr&&(rn===null?fi.firstBaseUpdate=Xn:rn.next=Xn,fi.lastBaseUpdate=wn))}if(Sr!==null){var bi=gr.baseState;Hr=0,fi=Xn=wn=null,rn=Sr;do{var Zn=rn.lane&-536870913,ni=Zn!==rn.lane;if(ni?(Hs&Zn)===Zn:(sr&Zn)===Zn){Zn!==0&&Zn===_u&&($i=!0),fi!==null&&(fi=fi.next={lane:0,tag:rn.tag,payload:rn.payload,callback:null,next:null});e:{var ms=ze,us=rn;Zn=Ge;var va=er;switch(us.tag){case 1:if(ms=us.payload,typeof ms=="function"){bi=ms.call(va,bi,Zn);break e}bi=ms;break e;case 3:ms.flags=ms.flags&-65537|128;case 0:if(ms=us.payload,Zn=typeof ms=="function"?ms.call(va,bi,Zn):ms,Zn==null)break e;bi=$e({},bi,Zn);break e;case 2:ii=!0}}Zn=rn.callback,Zn!==null&&(ze.flags|=64,ni&&(ze.flags|=8192),ni=gr.callbacks,ni===null?gr.callbacks=[Zn]:ni.push(Zn))}else ni={lane:Zn,tag:rn.tag,payload:rn.payload,callback:rn.callback,next:null},fi===null?(Xn=fi=ni,wn=bi):fi=fi.next=ni,Hr|=Zn;if(rn=rn.next,rn===null){if(rn=gr.shared.pending,rn===null)break;ni=rn,rn=ni.next,ni.next=null,gr.lastBaseUpdate=ni,gr.shared.pending=null}}while(!0);fi===null&&(wn=bi),gr.baseState=wn,gr.firstBaseUpdate=Xn,gr.lastBaseUpdate=fi,Sr===null&&(gr.shared.lanes=0),xd|=Hr,ze.lanes=Hr,ze.memoizedState=bi}}function Vs(ze,Ge){if(typeof ze!="function")throw Error(Be(191,ze));ze.call(Ge)}function Ks(ze,Ge){var er=ze.callbacks;if(er!==null)for(ze.callbacks=null,ze=0;ze<er.length;ze++)Vs(er[ze],Ge)}var bs=Mr(null),_i=Mr(0);function Zs(ze,Ge){ze=Qu,Ir(_i,ze),Ir(bs,Ge),Qu=ze|Ge.baseLanes}function Gs(){Ir(_i,Qu),Ir(bs,bs.current)}function fs(){Qu=_i.current,_r(bs),_r(_i)}var Ps=0,ns=null,ls=null,Ts=null,Ns=!1,go=!1,Xa=!1,Ma=0,ia=0,Ia=null,Zo=0;function qs(){throw Error(Be(321))}function La(ze,Ge){if(Ge===null)return!1;for(var er=0;er<Ge.length&&er<ze.length;er++)if(!da(ze[er],Ge[er]))return!1;return!0}function Hl(ze,Ge,er,sr,gr,Sr){return Ps=Sr,ns=Ge,Ge.memoizedState=null,Ge.updateQueue=null,Ge.lanes=0,vr.H=ze===null||ze.memoizedState===null?bA:wA,Xa=!1,Sr=er(sr,gr),Xa=!1,go&&(Sr=Eu(Ge,er,sr,gr)),dc(ze),Sr}function dc(ze){vr.H=ph;var Ge=ls!==null&&ls.next!==null;if(Ps=0,Ts=ls=ns=null,Ns=!1,ia=0,Ia=null,Ge)throw Error(Be(300));ze===null||Do||(ze=ze.dependencies,ze!==null&&Zd(ze)&&(Do=!0))}function Eu(ze,Ge,er,sr){ns=ze;var gr=0;do{if(go&&(Ia=null),ia=0,go=!1,25<=gr)throw Error(Be(301));if(gr+=1,Ts=ls=null,ze.updateQueue!=null){var Sr=ze.updateQueue;Sr.lastEffect=null,Sr.events=null,Sr.stores=null,Sr.memoCache!=null&&(Sr.memoCache.index=0)}vr.H=mh,Sr=Ge(er,sr)}while(go);return Sr}function nu(){var ze=vr.H,Ge=ze.useState()[0];return Ge=typeof Ge.then=="function"?Dc(Ge):Ge,ze=ze.useState()[0],(ls!==null?ls.memoizedState:null)!==ze&&(ns.flags|=1024),Ge}function ma(){var ze=Ma!==0;return Ma=0,ze}function Pd(ze,Ge,er){Ge.updateQueue=ze.updateQueue,Ge.flags&=-2053,ze.lanes&=~er}function tf(ze){if(Ns){for(ze=ze.memoizedState;ze!==null;){var Ge=ze.queue;Ge!==null&&(Ge.pending=null),ze=ze.next}Ns=!1}Ps=0,Ts=ls=ns=null,go=!1,ia=Ma=0,Ia=null}function Vo(){var ze={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ts===null?ns.memoizedState=Ts=ze:Ts=Ts.next=ze,Ts}function Sa(){if(ls===null){var ze=ns.alternate;ze=ze!==null?ze.memoizedState:null}else ze=ls.next;var Ge=Ts===null?ns.memoizedState:Ts.next;if(Ge!==null)Ts=Ge,ls=ze;else{if(ze===null)throw ns.alternate===null?Error(Be(467)):Error(Be(310));ls=ze,ze={memoizedState:ls.memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},Ts===null?ns.memoizedState=Ts=ze:Ts=Ts.next=ze}return Ts}function Su(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(ze){var Ge=ia;return ia+=1,Ia===null&&(Ia=[]),ze=Wn(Ia,ze,Ge),Ge=ns,(Ts===null?Ge.memoizedState:Ts.next)===null&&(Ge=Ge.alternate,vr.H=Ge===null||Ge.memoizedState===null?bA:wA),ze}function el(ze){if(ze!==null&&typeof ze=="object"){if(typeof ze.then=="function")return Dc(ze);if(ze.$$typeof===Je)return qa(ze)}throw Error(Be(438,String(ze)))}function iu(ze){var Ge=null,er=ns.updateQueue;if(er!==null&&(Ge=er.memoCache),Ge==null){var sr=ns.alternate;sr!==null&&(sr=sr.updateQueue,sr!==null&&(sr=sr.memoCache,sr!=null&&(Ge={data:sr.data.map(function(gr){return gr.slice()}),index:0})))}if(Ge==null&&(Ge={data:[],index:0}),er===null&&(er=Su(),ns.updateQueue=er),er.memoCache=Ge,er=Ge.data[Ge.index],er===void 0)for(er=Ge.data[Ge.index]=Array(ze),sr=0;sr<ze;sr++)er[sr]=mr;return Ge.index++,er}function tl(ze,Ge){return typeof Ge=="function"?Ge(ze):Ge}function sd(ze){var Ge=Sa();return ad(Ge,ls,ze)}function ad(ze,Ge,er){var sr=ze.queue;if(sr===null)throw Error(Be(311));sr.lastRenderedReducer=er;var gr=ze.baseQueue,Sr=sr.pending;if(Sr!==null){if(gr!==null){var Hr=gr.next;gr.next=Sr.next,Sr.next=Hr}Ge.baseQueue=gr=Sr,sr.pending=null}if(Sr=ze.baseState,gr===null)ze.memoizedState=Sr;else{Ge=gr.next;var rn=Hr=null,wn=null,Xn=Ge,fi=!1;do{var bi=Xn.lane&-536870913;if(bi!==Xn.lane?(Hs&bi)===bi:(Ps&bi)===bi){var Zn=Xn.revertLane;if(Zn===0)wn!==null&&(wn=wn.next={lane:0,revertLane:0,action:Xn.action,hasEagerState:Xn.hasEagerState,eagerState:Xn.eagerState,next:null}),bi===_u&&(fi=!0);else if((Ps&Zn)===Zn){Xn=Xn.next,Zn===_u&&(fi=!0);continue}else bi={lane:0,revertLane:Xn.revertLane,action:Xn.action,hasEagerState:Xn.hasEagerState,eagerState:Xn.eagerState,next:null},wn===null?(rn=wn=bi,Hr=Sr):wn=wn.next=bi,ns.lanes|=Zn,xd|=Zn;bi=Xn.action,Xa&&er(Sr,bi),Sr=Xn.hasEagerState?Xn.eagerState:er(Sr,bi)}else Zn={lane:bi,revertLane:Xn.revertLane,action:Xn.action,hasEagerState:Xn.hasEagerState,eagerState:Xn.eagerState,next:null},wn===null?(rn=wn=Zn,Hr=Sr):wn=wn.next=Zn,ns.lanes|=bi,xd|=bi;Xn=Xn.next}while(Xn!==null&&Xn!==Ge);if(wn===null?Hr=Sr:wn.next=rn,!da(Sr,ze.memoizedState)&&(Do=!0,fi&&(er=Nc,er!==null)))throw er;ze.memoizedState=Sr,ze.baseState=Hr,ze.baseQueue=wn,sr.lastRenderedState=Sr}return gr===null&&(sr.lanes=0),[ze.memoizedState,sr.dispatch]}function Ru(ze){var Ge=Sa(),er=Ge.queue;if(er===null)throw Error(Be(311));er.lastRenderedReducer=ze;var sr=er.dispatch,gr=er.pending,Sr=Ge.memoizedState;if(gr!==null){er.pending=null;var Hr=gr=gr.next;do Sr=ze(Sr,Hr.action),Hr=Hr.next;while(Hr!==gr);da(Sr,Ge.memoizedState)||(Do=!0),Ge.memoizedState=Sr,Ge.baseQueue===null&&(Ge.baseState=Sr),er.lastRenderedState=Sr}return[Sr,sr]}function Id(ze,Ge,er){var sr=ns,gr=Sa(),Sr=zs;if(Sr){if(er===void 0)throw Error(Be(407));er=er()}else er=Ge();var Hr=!da((ls||gr).memoizedState,er);Hr&&(gr.memoizedState=er,Do=!0),gr=gr.queue;var rn=Tu.bind(null,sr,gr,ze);if(cd(2048,8,rn,[ze]),gr.getSnapshot!==Ge||Hr||Ts!==null&&Ts.memoizedState.tag&1){if(sr.flags|=2048,Fc(9,Dd(),Cu.bind(null,sr,gr,er,Ge),null),ga===null)throw Error(Be(349));Sr||(Ps&124)!==0||od(sr,Ge,er)}return er}function od(ze,Ge,er){ze.flags|=16384,ze={getSnapshot:Ge,value:er},Ge=ns.updateQueue,Ge===null?(Ge=Su(),ns.updateQueue=Ge,Ge.stores=[ze]):(er=Ge.stores,er===null?Ge.stores=[ze]:er.push(ze))}function Cu(ze,Ge,er,sr){Ge.value=er,Ge.getSnapshot=sr,Pf(Ge)&&lh(ze)}function Tu(ze,Ge,er){return er(function(){Pf(Ge)&&lh(ze)})}function Pf(ze){var Ge=ze.getSnapshot;ze=ze.value;try{var er=Ge();return!da(ze,er)}catch{return!0}}function lh(ze){var Ge=Cc(ze,2);Ge!==null&&Mi(Ge,ze,2)}function ld(ze){var Ge=Vo();if(typeof ze=="function"){var er=ze;if(ze=er(),Xa){ji(!0);try{er()}finally{ji(!1)}}}return Ge.memoizedState=Ge.baseState=ze,Ge.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:ze},Ge}function Ql(ze,Ge,er,sr){return ze.baseState=er,ad(ze,ls,typeof sr=="function"?sr:tl)}function If(ze,Ge,er,sr,gr){if(Uf(ze))throw Error(Be(485));if(ze=Ge.action,ze!==null){var Sr={payload:gr,action:ze,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Hr){Sr.listeners.push(Hr)}};vr.T!==null?er(!0):Sr.isTransition=!1,sr(Sr),er=Ge.pending,er===null?(Sr.next=Ge.pending=Sr,Bf(Ge,Sr)):(Sr.next=er.next,Ge.pending=er.next=Sr)}}function Bf(ze,Ge){var er=Ge.action,sr=Ge.payload,gr=ze.state;if(Ge.isTransition){var Sr=vr.T,Hr={};vr.T=Hr;try{var rn=er(gr,sr),wn=vr.S;wn!==null&&wn(Hr,rn),Nf(ze,Ge,rn)}catch(Xn){ju(ze,Ge,Xn)}finally{vr.T=Sr}}else try{Sr=er(gr,sr),Nf(ze,Ge,Sr)}catch(Xn){ju(ze,Ge,Xn)}}function Nf(ze,Ge,er){er!==null&&typeof er=="object"&&typeof er.then=="function"?er.then(function(sr){rf(ze,Ge,sr)},function(sr){return ju(ze,Ge,sr)}):rf(ze,Ge,er)}function rf(ze,Ge,er){Ge.status="fulfilled",Ge.value=er,Bd(Ge),ze.state=er,Ge=ze.pending,Ge!==null&&(er=Ge.next,er===Ge?ze.pending=null:(er=er.next,Ge.next=er,Bf(ze,er)))}function ju(ze,Ge,er){var sr=ze.pending;if(ze.pending=null,sr!==null){sr=sr.next;do Ge.status="rejected",Ge.reason=er,Bd(Ge),Ge=Ge.next;while(Ge!==sr)}ze.action=null}function Bd(ze){ze=ze.listeners;for(var Ge=0;Ge<ze.length;Ge++)(0,ze[Ge])()}function Df(ze,Ge){return Ge}function Nd(ze,Ge){if(zs){var er=ga.formState;if(er!==null){e:{var sr=ns;if(zs){if(Pa){t:{for(var gr=Pa,Sr=oc;gr.nodeType!==8;){if(!Sr){gr=null;break t}if(gr=Ku(gr.nextSibling),gr===null){gr=null;break t}}Sr=gr.data,gr=Sr==="F!"||Sr==="F"?gr:null}if(gr){Pa=Ku(gr.nextSibling),sr=gr.data==="F!";break e}}wu(sr)}sr=!1}sr&&(Ge=er[0])}}return er=Vo(),er.memoizedState=er.baseState=Ge,sr={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Df,lastRenderedState:Ge},er.queue=sr,er=Oh.bind(null,ns,sr),sr.dispatch=er,sr=ld(!1),Sr=hh.bind(null,ns,!1,sr.queue),sr=Vo(),gr={state:Ge,dispatch:null,action:ze,pending:null},sr.queue=gr,er=If.bind(null,ns,gr,Sr,er),gr.dispatch=er,sr.memoizedState=ze,[Ge,er,!1]}function nf(ze){var Ge=Sa();return yo(Ge,ls,ze)}function yo(ze,Ge,er){if(Ge=ad(ze,Ge,Df)[0],ze=sd(tl)[0],typeof Ge=="object"&&Ge!==null&&typeof Ge.then=="function")try{var sr=Dc(Ge)}catch(Hr){throw Hr===Yr?tn:Hr}else sr=Ge;Ge=Sa();var gr=Ge.queue,Sr=gr.dispatch;return er!==Ge.memoizedState&&(ns.flags|=2048,Fc(9,Dd(),sf.bind(null,gr,er),null)),[sr,Sr,ze]}function sf(ze,Ge){ze.action=Ge}function ch(ze){var Ge=Sa(),er=ls;if(er!==null)return yo(Ge,er,ze);Sa(),Ge=Ge.memoizedState,er=Sa();var sr=er.queue.dispatch;return er.memoizedState=ze,[Ge,sr,!1]}function Fc(ze,Ge,er,sr){return ze={tag:ze,create:er,deps:sr,inst:Ge,next:null},Ge=ns.updateQueue,Ge===null&&(Ge=Su(),ns.updateQueue=Ge),er=Ge.lastEffect,er===null?Ge.lastEffect=ze.next=ze:(sr=er.next,er.next=ze,ze.next=sr,Ge.lastEffect=ze),ze}function Dd(){return{destroy:void 0,resource:void 0}}function af(){return Sa().memoizedState}function zl(ze,Ge,er,sr){var gr=Vo();sr=sr===void 0?null:sr,ns.flags|=ze,gr.memoizedState=Fc(1|Ge,Dd(),er,sr)}function cd(ze,Ge,er,sr){var gr=Sa();sr=sr===void 0?null:sr;var Sr=gr.memoizedState.inst;ls!==null&&sr!==null&&La(sr,ls.memoizedState.deps)?gr.memoizedState=Fc(Ge,Sr,er,sr):(ns.flags|=ze,gr.memoizedState=Fc(1|Ge,Sr,er,sr))}function Ff(ze,Ge){zl(8390656,8,ze,Ge)}function uh(ze,Ge){cd(2048,8,ze,Ge)}function kf(ze,Ge){return cd(4,2,ze,Ge)}function su(ze,Ge){return cd(4,4,ze,Ge)}function dh(ze,Ge){if(typeof Ge=="function"){ze=ze();var er=Ge(ze);return function(){typeof er=="function"?er():Ge(null)}}if(Ge!=null)return ze=ze(),Ge.current=ze,function(){Ge.current=null}}function Fd(ze,Ge,er){er=er!=null?er.concat([ze]):null,cd(4,4,dh.bind(null,Ge,ze),er)}function of(){}function Ja(ze,Ge){var er=Sa();Ge=Ge===void 0?null:Ge;var sr=er.memoizedState;return Ge!==null&&La(Ge,sr[1])?sr[0]:(er.memoizedState=[ze,Ge],ze)}function ud(ze,Ge){var er=Sa();Ge=Ge===void 0?null:Ge;var sr=er.memoizedState;if(Ge!==null&&La(Ge,sr[1]))return sr[0];if(sr=ze(),Xa){ji(!0);try{ze()}finally{ji(!1)}}return er.memoizedState=[sr,Ge],sr}function Pu(ze,Ge,er){return er===void 0||(Ps&1073741824)!==0?ze.memoizedState=Ge:(ze.memoizedState=er,ze=Oi(),ns.lanes|=ze,xd|=ze,er)}function lf(ze,Ge,er,sr){return da(er,Ge)?er:bs.current!==null?(ze=Pu(ze,er,sr),da(ze,Ge)||(Do=!0),ze):(Ps&42)===0?(Do=!0,ze.memoizedState=er):(ze=Oi(),ns.lanes|=ze,xd|=ze,Ge)}function dd(ze,Ge,er,sr,gr){var Sr=Tr.p;Tr.p=Sr!==0&&8>Sr?Sr:8;var Hr=vr.T,rn={};vr.T=rn,hh(ze,!1,Ge,er);try{var wn=gr(),Xn=vr.S;if(Xn!==null&&Xn(rn,wn),wn!==null&&typeof wn=="object"&&typeof wn.then=="function"){var fi=oh(wn,sr);cf(ze,Ge,fi,Qi(ze))}else cf(ze,Ge,sr,Qi(ze))}catch(bi){cf(ze,Ge,{then:function(){},status:"rejected",reason:bi},Qi())}finally{Tr.p=Sr,vr.T=Hr}}function Wl(){}function fc(ze,Ge,er,sr){if(ze.tag!==5)throw Error(Be(476));var gr=kc(ze).queue;dd(ze,gr,Ge,wr,er===null?Wl:function(){return kd(ze),er(sr)})}function kc(ze){var Ge=ze.memoizedState;if(Ge!==null)return Ge;Ge={memoizedState:wr,baseState:wr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:wr},next:null};var er={};return Ge.next={memoizedState:er,baseState:er,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:er},next:null},ze.memoizedState=Ge,ze=ze.alternate,ze!==null&&(ze.memoizedState=Ge),Ge}function kd(ze){var Ge=kc(ze).next.queue;cf(ze,Ge,{},Qi())}function Od(){return qa(AA)}function Of(){return Sa().memoizedState}function fh(){return Sa().memoizedState}function Mf(ze){for(var Ge=ze.return;Ge!==null;){switch(Ge.tag){case 24:case 3:var er=Qi();ze=ci(er);var sr=mi(Ge,ze,er);sr!==null&&(Mi(sr,Ge,er),di(sr,Ge,er)),Ge={cache:Cf()},ze.payload=Ge;return}Ge=Ge.return}}function Lf(ze,Ge,er){var sr=Qi();er={lane:sr,revertLane:0,action:er,hasEagerState:!1,eagerState:null,next:null},Uf(ze)?Ah(Ge,er):(er=ac(ze,Ge,er,sr),er!==null&&(Mi(er,ze,sr),yA(er,Ge,sr)))}function Oh(ze,Ge,er){var sr=Qi();cf(ze,Ge,er,sr)}function cf(ze,Ge,er,sr){var gr={lane:sr,revertLane:0,action:er,hasEagerState:!1,eagerState:null,next:null};if(Uf(ze))Ah(Ge,gr);else{var Sr=ze.alternate;if(ze.lanes===0&&(Sr===null||Sr.lanes===0)&&(Sr=Ge.lastRenderedReducer,Sr!==null))try{var Hr=Ge.lastRenderedState,rn=Sr(Hr,er);if(gr.hasEagerState=!0,gr.eagerState=rn,da(rn,Hr))return Zc(ze,Ge,gr,0),ga===null&&_l(),!1}catch{}finally{}if(er=ac(ze,Ge,gr,sr),er!==null)return Mi(er,ze,sr),yA(er,Ge,sr),!0}return!1}function hh(ze,Ge,er,sr){if(sr={lane:2,revertLane:up(),action:sr,hasEagerState:!1,eagerState:null,next:null},Uf(ze)){if(Ge)throw Error(Be(479))}else Ge=ac(ze,er,sr,2),Ge!==null&&Mi(Ge,ze,2)}function Uf(ze){var Ge=ze.alternate;return ze===ns||Ge!==null&&Ge===ns}function Ah(ze,Ge){go=Ns=!0;var er=ze.pending;er===null?Ge.next=Ge:(Ge.next=er.next,er.next=Ge),ze.pending=Ge}function yA(ze,Ge,er){if((er&4194048)!==0){var sr=Ge.lanes;sr&=ze.pendingLanes,er|=sr,Ge.lanes=er,Bi(ze,er)}}var ph={readContext:qa,use:el,useCallback:qs,useContext:qs,useEffect:qs,useImperativeHandle:qs,useLayoutEffect:qs,useInsertionEffect:qs,useMemo:qs,useReducer:qs,useRef:qs,useState:qs,useDebugValue:qs,useDeferredValue:qs,useTransition:qs,useSyncExternalStore:qs,useId:qs,useHostTransitionStatus:qs,useFormState:qs,useActionState:qs,useOptimistic:qs,useMemoCache:qs,useCacheRefresh:qs},bA={readContext:qa,use:el,useCallback:function(ze,Ge){return Vo().memoizedState=[ze,Ge===void 0?null:Ge],ze},useContext:qa,useEffect:Ff,useImperativeHandle:function(ze,Ge,er){er=er!=null?er.concat([ze]):null,zl(4194308,4,dh.bind(null,Ge,ze),er)},useLayoutEffect:function(ze,Ge){return zl(4194308,4,ze,Ge)},useInsertionEffect:function(ze,Ge){zl(4,2,ze,Ge)},useMemo:function(ze,Ge){var er=Vo();Ge=Ge===void 0?null:Ge;var sr=ze();if(Xa){ji(!0);try{ze()}finally{ji(!1)}}return er.memoizedState=[sr,Ge],sr},useReducer:function(ze,Ge,er){var sr=Vo();if(er!==void 0){var gr=er(Ge);if(Xa){ji(!0);try{er(Ge)}finally{ji(!1)}}}else gr=Ge;return sr.memoizedState=sr.baseState=gr,ze={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ze,lastRenderedState:gr},sr.queue=ze,ze=ze.dispatch=Lf.bind(null,ns,ze),[sr.memoizedState,ze]},useRef:function(ze){var Ge=Vo();return ze={current:ze},Ge.memoizedState=ze},useState:function(ze){ze=ld(ze);var Ge=ze.queue,er=Oh.bind(null,ns,Ge);return Ge.dispatch=er,[ze.memoizedState,er]},useDebugValue:of,useDeferredValue:function(ze,Ge){var er=Vo();return Pu(er,ze,Ge)},useTransition:function(){var ze=ld(!1);return ze=dd.bind(null,ns,ze.queue,!0,!1),Vo().memoizedState=ze,[!1,ze]},useSyncExternalStore:function(ze,Ge,er){var sr=ns,gr=Vo();if(zs){if(er===void 0)throw Error(Be(407));er=er()}else{if(er=Ge(),ga===null)throw Error(Be(349));(Hs&124)!==0||od(sr,Ge,er)}gr.memoizedState=er;var Sr={value:er,getSnapshot:Ge};return gr.queue=Sr,Ff(Tu.bind(null,sr,Sr,ze),[ze]),sr.flags|=2048,Fc(9,Dd(),Cu.bind(null,sr,Sr,er,Ge),null),er},useId:function(){var ze=Vo(),Ge=ga.identifierPrefix;if(zs){var er=Pc,sr=Cl;er=(sr&~(1<<32-wi(sr)-1)).toString(32)+er,Ge=""+Ge+"R"+er,er=Ma++,0<er&&(Ge+="H"+er.toString(32)),Ge+=""}else er=Zo++,Ge=""+Ge+"r"+er.toString(32)+"";return ze.memoizedState=Ge},useHostTransitionStatus:Od,useFormState:Nd,useActionState:Nd,useOptimistic:function(ze){var Ge=Vo();Ge.memoizedState=Ge.baseState=ze;var er={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Ge.queue=er,Ge=hh.bind(null,ns,!0,er),er.dispatch=Ge,[ze,Ge]},useMemoCache:iu,useCacheRefresh:function(){return Vo().memoizedState=Mf.bind(null,ns)}},wA={readContext:qa,use:el,useCallback:Ja,useContext:qa,useEffect:uh,useImperativeHandle:Fd,useInsertionEffect:kf,useLayoutEffect:su,useMemo:ud,useReducer:sd,useRef:af,useState:function(){return sd(tl)},useDebugValue:of,useDeferredValue:function(ze,Ge){var er=Sa();return lf(er,ls.memoizedState,ze,Ge)},useTransition:function(){var ze=sd(tl)[0],Ge=Sa().memoizedState;return[typeof ze=="boolean"?ze:Dc(ze),Ge]},useSyncExternalStore:Id,useId:Of,useHostTransitionStatus:Od,useFormState:nf,useActionState:nf,useOptimistic:function(ze,Ge){var er=Sa();return Ql(er,ls,ze,Ge)},useMemoCache:iu,useCacheRefresh:fh},mh={readContext:qa,use:el,useCallback:Ja,useContext:qa,useEffect:uh,useImperativeHandle:Fd,useInsertionEffect:kf,useLayoutEffect:su,useMemo:ud,useReducer:Ru,useRef:af,useState:function(){return Ru(tl)},useDebugValue:of,useDeferredValue:function(ze,Ge){var er=Sa();return ls===null?Pu(er,ze,Ge):lf(er,ls.memoizedState,ze,Ge)},useTransition:function(){var ze=Ru(tl)[0],Ge=Sa().memoizedState;return[typeof ze=="boolean"?ze:Dc(ze),Ge]},useSyncExternalStore:Id,useId:Of,useHostTransitionStatus:Od,useFormState:ch,useActionState:ch,useOptimistic:function(ze,Ge){var er=Sa();return ls!==null?Ql(er,ls,ze,Ge):(er.baseState=ze,[ze,er.queue.dispatch])},useMemoCache:iu,useCacheRefresh:fh},Iu=null,$f=0;function Vf(ze){var Ge=$f;return $f+=1,Iu===null&&(Iu=[]),Wn(Iu,ze,Ge)}function Md(ze,Ge){Ge=Ge.props.ref,ze.ref=Ge!==void 0?Ge:null}function Hf(ze,Ge){throw Ge.$$typeof===He?Error(Be(525)):(ze=Object.prototype.toString.call(Ge),Error(Be(31,ze==="[object Object]"?"object with keys {"+Object.keys(Ge).join(", ")+"}":ze)))}function Mh(ze){var Ge=ze._init;return Ge(ze._payload)}function Lh(ze){function Ge(Ln,Pn){if(ze){var Kn=Ln.deletions;Kn===null?(Ln.deletions=[Pn],Ln.flags|=16):Kn.push(Pn)}}function er(Ln,Pn){if(!ze)return null;for(;Pn!==null;)Ge(Ln,Pn),Pn=Pn.sibling;return null}function sr(Ln){for(var Pn=new Map;Ln!==null;)Ln.key!==null?Pn.set(Ln.key,Ln):Pn.set(Ln.index,Ln),Ln=Ln.sibling;return Pn}function gr(Ln,Pn){return Ln=Uo(Ln,Pn),Ln.index=0,Ln.sibling=null,Ln}function Sr(Ln,Pn,Kn){return Ln.index=Kn,ze?(Kn=Ln.alternate,Kn!==null?(Kn=Kn.index,Kn<Pn?(Ln.flags|=67108866,Pn):Kn):(Ln.flags|=67108866,Pn)):(Ln.flags|=1048576,Pn)}function Hr(Ln){return ze&&Ln.alternate===null&&(Ln.flags|=67108866),Ln}function rn(Ln,Pn,Kn,gi){return Pn===null||Pn.tag!==6?(Pn=qd(Kn,Ln.mode,gi),Pn.return=Ln,Pn):(Pn=gr(Pn,Kn),Pn.return=Ln,Pn)}function wn(Ln,Pn,Kn,gi){var Ji=Kn.type;return Ji===qe?fi(Ln,Pn,Kn.props.children,gi,Kn.key):Pn!==null&&(Pn.elementType===Ji||typeof Ji=="object"&&Ji!==null&&Ji.$$typeof===nr&&Mh(Ji)===Pn.type)?(Pn=gr(Pn,Kn.props),Md(Pn,Kn),Pn.return=Ln,Pn):(Pn=vu(Kn.type,Kn.key,Kn.props,null,Ln.mode,gi),Md(Pn,Kn),Pn.return=Ln,Pn)}function Xn(Ln,Pn,Kn,gi){return Pn===null||Pn.tag!==4||Pn.stateNode.containerInfo!==Kn.containerInfo||Pn.stateNode.implementation!==Kn.implementation?(Pn=Rd(Kn,Ln.mode,gi),Pn.return=Ln,Pn):(Pn=gr(Pn,Kn.children||[]),Pn.return=Ln,Pn)}function fi(Ln,Pn,Kn,gi,Ji){return Pn===null||Pn.tag!==7?(Pn=Sl(Kn,Ln.mode,gi,Ji),Pn.return=Ln,Pn):(Pn=gr(Pn,Kn),Pn.return=Ln,Pn)}function bi(Ln,Pn,Kn){if(typeof Pn=="string"&&Pn!==""||typeof Pn=="number"||typeof Pn=="bigint")return Pn=qd(""+Pn,Ln.mode,Kn),Pn.return=Ln,Pn;if(typeof Pn=="object"&&Pn!==null){switch(Pn.$$typeof){case Qe:return Kn=vu(Pn.type,Pn.key,Pn.props,null,Ln.mode,Kn),Md(Kn,Pn),Kn.return=Ln,Kn;case We:return Pn=Rd(Pn,Ln.mode,Kn),Pn.return=Ln,Pn;case nr:var gi=Pn._init;return Pn=gi(Pn._payload),bi(Ln,Pn,Kn)}if(jr(Pn)||or(Pn))return Pn=Sl(Pn,Ln.mode,Kn,null),Pn.return=Ln,Pn;if(typeof Pn.then=="function")return bi(Ln,Vf(Pn),Kn);if(Pn.$$typeof===Je)return bi(Ln,Vl(Ln,Pn),Kn);Hf(Ln,Pn)}return null}function Zn(Ln,Pn,Kn,gi){var Ji=Pn!==null?Pn.key:null;if(typeof Kn=="string"&&Kn!==""||typeof Kn=="number"||typeof Kn=="bigint")return Ji!==null?null:rn(Ln,Pn,""+Kn,gi);if(typeof Kn=="object"&&Kn!==null){switch(Kn.$$typeof){case Qe:return Kn.key===Ji?wn(Ln,Pn,Kn,gi):null;case We:return Kn.key===Ji?Xn(Ln,Pn,Kn,gi):null;case nr:return Ji=Kn._init,Kn=Ji(Kn._payload),Zn(Ln,Pn,Kn,gi)}if(jr(Kn)||or(Kn))return Ji!==null?null:fi(Ln,Pn,Kn,gi,null);if(typeof Kn.then=="function")return Zn(Ln,Pn,Vf(Kn),gi);if(Kn.$$typeof===Je)return Zn(Ln,Pn,Vl(Ln,Kn),gi);Hf(Ln,Kn)}return null}function ni(Ln,Pn,Kn,gi,Ji){if(typeof gi=="string"&&gi!==""||typeof gi=="number"||typeof gi=="bigint")return Ln=Ln.get(Kn)||null,rn(Pn,Ln,""+gi,Ji);if(typeof gi=="object"&&gi!==null){switch(gi.$$typeof){case Qe:return Ln=Ln.get(gi.key===null?Kn:gi.key)||null,wn(Pn,Ln,gi,Ji);case We:return Ln=Ln.get(gi.key===null?Kn:gi.key)||null,Xn(Pn,Ln,gi,Ji);case nr:var Ds=gi._init;return gi=Ds(gi._payload),ni(Ln,Pn,Kn,gi,Ji)}if(jr(gi)||or(gi))return Ln=Ln.get(Kn)||null,fi(Pn,Ln,gi,Ji,null);if(typeof gi.then=="function")return ni(Ln,Pn,Kn,Vf(gi),Ji);if(gi.$$typeof===Je)return ni(Ln,Pn,Kn,Vl(Pn,gi),Ji);Hf(Pn,gi)}return null}function ms(Ln,Pn,Kn,gi){for(var Ji=null,Ds=null,rs=Pn,hs=Pn=0,il=null;rs!==null&&hs<Kn.length;hs++){rs.index>hs?(il=rs,rs=null):il=rs.sibling;var ta=Zn(Ln,rs,Kn[hs],gi);if(ta===null){rs===null&&(rs=il);break}ze&&rs&&ta.alternate===null&&Ge(Ln,rs),Pn=Sr(ta,Pn,hs),Ds===null?Ji=ta:Ds.sibling=ta,Ds=ta,rs=il}if(hs===Kn.length)return er(Ln,rs),zs&&bu(Ln,hs),Ji;if(rs===null){for(;hs<Kn.length;hs++)rs=bi(Ln,Kn[hs],gi),rs!==null&&(Pn=Sr(rs,Pn,hs),Ds===null?Ji=rs:Ds.sibling=rs,Ds=rs);return zs&&bu(Ln,hs),Ji}for(rs=sr(rs);hs<Kn.length;hs++)il=ni(rs,Ln,hs,Kn[hs],gi),il!==null&&(ze&&il.alternate!==null&&rs.delete(il.key===null?hs:il.key),Pn=Sr(il,Pn,hs),Ds===null?Ji=il:Ds.sibling=il,Ds=il);return ze&&rs.forEach(function(Sf){return Ge(Ln,Sf)}),zs&&bu(Ln,hs),Ji}function us(Ln,Pn,Kn,gi){if(Kn==null)throw Error(Be(151));for(var Ji=null,Ds=null,rs=Pn,hs=Pn=0,il=null,ta=Kn.next();rs!==null&&!ta.done;hs++,ta=Kn.next()){rs.index>hs?(il=rs,rs=null):il=rs.sibling;var Sf=Zn(Ln,rs,ta.value,gi);if(Sf===null){rs===null&&(rs=il);break}ze&&rs&&Sf.alternate===null&&Ge(Ln,rs),Pn=Sr(Sf,Pn,hs),Ds===null?Ji=Sf:Ds.sibling=Sf,Ds=Sf,rs=il}if(ta.done)return er(Ln,rs),zs&&bu(Ln,hs),Ji;if(rs===null){for(;!ta.done;hs++,ta=Kn.next())ta=bi(Ln,ta.value,gi),ta!==null&&(Pn=Sr(ta,Pn,hs),Ds===null?Ji=ta:Ds.sibling=ta,Ds=ta);return zs&&bu(Ln,hs),Ji}for(rs=sr(rs);!ta.done;hs++,ta=Kn.next())ta=ni(rs,Ln,hs,ta.value,gi),ta!==null&&(ze&&ta.alternate!==null&&rs.delete(ta.key===null?hs:ta.key),Pn=Sr(ta,Pn,hs),Ds===null?Ji=ta:Ds.sibling=ta,Ds=ta);return ze&&rs.forEach(function(ag){return Ge(Ln,ag)}),zs&&bu(Ln,hs),Ji}function va(Ln,Pn,Kn,gi){if(typeof Kn=="object"&&Kn!==null&&Kn.type===qe&&Kn.key===null&&(Kn=Kn.props.children),typeof Kn=="object"&&Kn!==null){switch(Kn.$$typeof){case Qe:e:{for(var Ji=Kn.key;Pn!==null;){if(Pn.key===Ji){if(Ji=Kn.type,Ji===qe){if(Pn.tag===7){er(Ln,Pn.sibling),gi=gr(Pn,Kn.props.children),gi.return=Ln,Ln=gi;break e}}else if(Pn.elementType===Ji||typeof Ji=="object"&&Ji!==null&&Ji.$$typeof===nr&&Mh(Ji)===Pn.type){er(Ln,Pn.sibling),gi=gr(Pn,Kn.props),Md(gi,Kn),gi.return=Ln,Ln=gi;break e}er(Ln,Pn);break}else Ge(Ln,Pn);Pn=Pn.sibling}Kn.type===qe?(gi=Sl(Kn.props.children,Ln.mode,gi,Kn.key),gi.return=Ln,Ln=gi):(gi=vu(Kn.type,Kn.key,Kn.props,null,Ln.mode,gi),Md(gi,Kn),gi.return=Ln,Ln=gi)}return Hr(Ln);case We:e:{for(Ji=Kn.key;Pn!==null;){if(Pn.key===Ji)if(Pn.tag===4&&Pn.stateNode.containerInfo===Kn.containerInfo&&Pn.stateNode.implementation===Kn.implementation){er(Ln,Pn.sibling),gi=gr(Pn,Kn.children||[]),gi.return=Ln,Ln=gi;break e}else{er(Ln,Pn);break}else Ge(Ln,Pn);Pn=Pn.sibling}gi=Rd(Kn,Ln.mode,gi),gi.return=Ln,Ln=gi}return Hr(Ln);case nr:return Ji=Kn._init,Kn=Ji(Kn._payload),va(Ln,Pn,Kn,gi)}if(jr(Kn))return ms(Ln,Pn,Kn,gi);if(or(Kn)){if(Ji=or(Kn),typeof Ji!="function")throw Error(Be(150));return Kn=Ji.call(Kn),us(Ln,Pn,Kn,gi)}if(typeof Kn.then=="function")return va(Ln,Pn,Vf(Kn),gi);if(Kn.$$typeof===Je)return va(Ln,Pn,Vl(Ln,Kn),gi);Hf(Ln,Kn)}return typeof Kn=="string"&&Kn!==""||typeof Kn=="number"||typeof Kn=="bigint"?(Kn=""+Kn,Pn!==null&&Pn.tag===6?(er(Ln,Pn.sibling),gi=gr(Pn,Kn),gi.return=Ln,Ln=gi):(er(Ln,Pn),gi=qd(Kn,Ln.mode,gi),gi.return=Ln,Ln=gi),Hr(Ln)):er(Ln,Pn)}return function(Ln,Pn,Kn,gi){try{$f=0;var Ji=va(Ln,Pn,Kn,gi);return Iu=null,Ji}catch(rs){if(rs===Yr||rs===tn)throw rs;var Ds=Bo(29,rs,null,Ln.mode);return Ds.lanes=gi,Ds.return=Ln,Ds}finally{}}}var uf=Lh(!0),Qf=Lh(!1),Kl=Mr(null),Oc=null;function hd(ze){var Ge=ze.alternate;Ir(Za,Za.current&1),Ir(Kl,ze),Oc===null&&(Ge===null||bs.current!==null||Ge.memoizedState!==null)&&(Oc=ze)}function _A(ze){if(ze.tag===22){if(Ir(Za,Za.current),Ir(Kl,ze),Oc===null){var Ge=ze.alternate;Ge!==null&&Ge.memoizedState!==null&&(Oc=ze)}}else Bu()}function Bu(){Ir(Za,Za.current),Ir(Kl,Kl.current)}function Tl(ze){_r(Kl),Oc===ze&&(Oc=null),_r(Za)}var Za=Mr(0);function Ld(ze){for(var Ge=ze;Ge!==null;){if(Ge.tag===13){var er=Ge.memoizedState;if(er!==null&&(er=er.dehydrated,er===null||er.data==="$?"||wp(er)))return Ge}else if(Ge.tag===19&&Ge.memoizedProps.revealOrder!==void 0){if((Ge.flags&128)!==0)return Ge}else if(Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===ze)break;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===ze)return null;Ge=Ge.return}Ge.sibling.return=Ge.return,Ge=Ge.sibling}return null}function Uh(ze,Ge,er,sr){Ge=ze.memoizedState,er=er(sr,Ge),er=er==null?Ge:$e({},Ge,er),ze.memoizedState=er,ze.lanes===0&&(ze.updateQueue.baseState=er)}var $h={enqueueSetState:function(ze,Ge,er){ze=ze._reactInternals;var sr=Qi(),gr=ci(sr);gr.payload=Ge,er!=null&&(gr.callback=er),Ge=mi(ze,gr,sr),Ge!==null&&(Mi(Ge,ze,sr),di(Ge,ze,sr))},enqueueReplaceState:function(ze,Ge,er){ze=ze._reactInternals;var sr=Qi(),gr=ci(sr);gr.tag=1,gr.payload=Ge,er!=null&&(gr.callback=er),Ge=mi(ze,gr,sr),Ge!==null&&(Mi(Ge,ze,sr),di(Ge,ze,sr))},enqueueForceUpdate:function(ze,Ge){ze=ze._reactInternals;var er=Qi(),sr=ci(er);sr.tag=2,Ge!=null&&(sr.callback=Ge),Ge=mi(ze,sr,er),Ge!==null&&(Mi(Ge,ze,er),di(Ge,ze,er))}};function EA(ze,Ge,er,sr,gr,Sr,Hr){return ze=ze.stateNode,typeof ze.shouldComponentUpdate=="function"?ze.shouldComponentUpdate(sr,Sr,Hr):Ge.prototype&&Ge.prototype.isPureReactComponent?!Mo(er,sr)||!Mo(gr,Sr):!0}function SA(ze,Ge,er,sr){ze=Ge.state,typeof Ge.componentWillReceiveProps=="function"&&Ge.componentWillReceiveProps(er,sr),typeof Ge.UNSAFE_componentWillReceiveProps=="function"&&Ge.UNSAFE_componentWillReceiveProps(er,sr),Ge.state!==ze&&$h.enqueueReplaceState(Ge,Ge.state,null)}function Ad(ze,Ge){var er=Ge;if("ref"in Ge){er={};for(var sr in Ge)sr!=="ref"&&(er[sr]=Ge[sr])}if(ze=ze.defaultProps){er===Ge&&(er=$e({},er));for(var gr in ze)er[gr]===void 0&&(er[gr]=ze[gr])}return er}var df=typeof reportError=="function"?reportError:function(ze){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ge=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ze=="object"&&ze!==null&&typeof ze.message=="string"?String(ze.message):String(ze),error:ze});if(!window.dispatchEvent(Ge))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ze);return}console.error(ze)};function Vh(ze){df(ze)}function Hh(ze){console.error(ze)}function gh(ze){df(ze)}function zf(ze,Ge){try{var er=ze.onUncaughtError;er(Ge.value,{componentStack:Ge.stack})}catch(sr){setTimeout(function(){throw sr})}}function Qh(ze,Ge,er){try{var sr=ze.onCaughtError;sr(er.value,{componentStack:er.stack,errorBoundary:Ge.tag===1?Ge.stateNode:null})}catch(gr){setTimeout(function(){throw gr})}}function zh(ze,Ge,er){return er=ci(er),er.tag=3,er.payload={element:null},er.callback=function(){zf(ze,Ge)},er}function Wf(ze){return ze=ci(ze),ze.tag=3,ze}function Kf(ze,Ge,er,sr){var gr=er.type.getDerivedStateFromError;if(typeof gr=="function"){var Sr=sr.value;ze.payload=function(){return gr(Sr)},ze.callback=function(){Qh(Ge,er,sr)}}var Hr=er.stateNode;Hr!==null&&typeof Hr.componentDidCatch=="function"&&(ze.callback=function(){Qh(Ge,er,sr),typeof gr!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var rn=sr.stack;this.componentDidCatch(sr.value,{componentStack:rn!==null?rn:""})})}function RA(ze,Ge,er,sr,gr){if(er.flags|=32768,sr!==null&&typeof sr=="object"&&typeof sr.then=="function"){if(Ge=er.alternate,Ge!==null&&nd(Ge,er,gr,!0),er=Kl.current,er!==null){switch(er.tag){case 13:return Oc===null?za():er.alternate===null&&Qa===0&&(Qa=3),er.flags&=-257,er.flags|=65536,er.lanes=gr,sr===sn?er.flags|=16384:(Ge=er.updateQueue,Ge===null?er.updateQueue=new Set([sr]):Ge.add(sr),op(ze,sr,gr)),!1;case 22:return er.flags|=65536,sr===sn?er.flags|=16384:(Ge=er.updateQueue,Ge===null?(Ge={transitions:null,markerInstances:null,retryQueue:new Set([sr])},er.updateQueue=Ge):(er=Ge.retryQueue,er===null?Ge.retryQueue=new Set([sr]):er.add(sr)),op(ze,sr,gr)),!1}throw Error(Be(435,er.tag))}return op(ze,sr,gr),za(),!1}if(zs)return Ge=Kl.current,Ge!==null?((Ge.flags&65536)===0&&(Ge.flags|=256),Ge.flags|=65536,Ge.lanes=gr,sr!==Rf&&(ze=Error(Be(422),{cause:sr}),rd(Es(ze,er)))):(sr!==Rf&&(Ge=Error(Be(423),{cause:sr}),rd(Es(Ge,er))),ze=ze.current.alternate,ze.flags|=65536,gr&=-gr,ze.lanes|=gr,sr=Es(sr,er),gr=zh(ze.stateNode,sr,gr),Ki(ze,gr),Qa!==4&&(Qa=2)),!1;var Sr=Error(Be(520),{cause:sr});if(Sr=Es(Sr,er),th===null?th=[Sr]:th.push(Sr),Qa!==4&&(Qa=2),Ge===null)return!0;sr=Es(sr,er),er=Ge;do{switch(er.tag){case 3:return er.flags|=65536,ze=gr&-gr,er.lanes|=ze,ze=zh(er.stateNode,sr,ze),Ki(er,ze),!1;case 1:if(Ge=er.type,Sr=er.stateNode,(er.flags&128)===0&&(typeof Ge.getDerivedStateFromError=="function"||Sr!==null&&typeof Sr.componentDidCatch=="function"&&(Ar===null||!Ar.has(Sr))))return er.flags|=65536,gr&=-gr,er.lanes|=gr,gr=Wf(gr),Kf(gr,ze,er,sr),Ki(er,gr),!1}er=er.return}while(er!==null);return!1}var Wh=Error(Be(461)),Do=!1;function Fo(ze,Ge,er,sr){Ge.child=ze===null?Qf(Ge,null,er,sr):uf(Ge,ze.child,er,sr)}function Kh(ze,Ge,er,sr,gr){er=er.render;var Sr=Ge.ref;if("ref"in sr){var Hr={};for(var rn in sr)rn!=="ref"&&(Hr[rn]=sr[rn])}else Hr=sr;return uc(Ge),sr=Hl(ze,Ge,er,Hr,Sr,gr),rn=ma(),ze!==null&&!Do?(Pd(ze,Ge,gr),ku(ze,Ge,gr)):(zs&&rn&&Cd(Ge),Ge.flags|=1,Fo(ze,Ge,sr,gr),Ge.child)}function CA(ze,Ge,er,sr,gr){if(ze===null){var Sr=er.type;return typeof Sr=="function"&&!ed(Sr)&&Sr.defaultProps===void 0&&er.compare===null?(Ge.tag=15,Ge.type=Sr,TA(ze,Ge,Sr,sr,gr)):(ze=vu(er.type,null,sr,Ge,Ge.mode,gr),ze.ref=Ge.ref,ze.return=Ge,Ge.child=ze)}if(Sr=ze.child,!Xh(ze,gr)){var Hr=Sr.memoizedProps;if(er=er.compare,er=er!==null?er:Mo,er(Hr,sr)&&ze.ref===Ge.ref)return ku(ze,Ge,gr)}return Ge.flags|=1,ze=Uo(Sr,sr),ze.ref=Ge.ref,ze.return=Ge,Ge.child=ze}function TA(ze,Ge,er,sr,gr){if(ze!==null){var Sr=ze.memoizedProps;if(Mo(Sr,sr)&&ze.ref===Ge.ref)if(Do=!1,Ge.pendingProps=sr=Sr,Xh(ze,gr))(ze.flags&131072)!==0&&(Do=!0);else return Ge.lanes=ze.lanes,ku(ze,Ge,gr)}return Nu(ze,Ge,er,sr,gr)}function Ud(ze,Ge,er){var sr=Ge.pendingProps,gr=sr.children,Sr=ze!==null?ze.memoizedState:null;if(sr.mode==="hidden"){if((Ge.flags&128)!==0){if(sr=Sr!==null?Sr.baseLanes|er:er,ze!==null){for(gr=Ge.child=ze.child,Sr=0;gr!==null;)Sr=Sr|gr.lanes|gr.childLanes,gr=gr.sibling;Ge.childLanes=Sr&~sr}else Ge.childLanes=0,Ge.child=null;return Gh(ze,Ge,sr,er)}if((er&536870912)!==0)Ge.memoizedState={baseLanes:0,cachePool:null},ze!==null&&Lr(Ge,Sr!==null?Sr.cachePool:null),Sr!==null?Zs(Ge,Sr):Gs(),_A(Ge);else return Ge.lanes=Ge.childLanes=536870912,Gh(ze,Ge,Sr!==null?Sr.baseLanes|er:er,er)}else Sr!==null?(Lr(Ge,Sr.cachePool),Zs(Ge,Sr),Bu(),Ge.memoizedState=null):(ze!==null&&Lr(Ge,null),Gs(),Bu());return Fo(ze,Ge,gr,er),Ge.child}function Gh(ze,Ge,er,sr){var gr=Br();return gr=gr===null?null:{parent:Ya._currentValue,pool:gr},Ge.memoizedState={baseLanes:er,cachePool:gr},ze!==null&&Lr(Ge,null),Gs(),_A(Ge),ze!==null&&nd(ze,Ge,sr,!0),null}function Ba(ze,Ge){var er=Ge.ref;if(er===null)ze!==null&&ze.ref!==null&&(Ge.flags|=4194816);else{if(typeof er!="function"&&typeof er!="object")throw Error(Be(284));(ze===null||ze.ref!==er)&&(Ge.flags|=4194816)}}function Nu(ze,Ge,er,sr,gr){return uc(Ge),er=Hl(ze,Ge,er,sr,void 0,gr),sr=ma(),ze!==null&&!Do?(Pd(ze,Ge,gr),ku(ze,Ge,gr)):(zs&&sr&&Cd(Ge),Ge.flags|=1,Fo(ze,Ge,er,gr),Ge.child)}function $d(ze,Ge,er,sr,gr,Sr){return uc(Ge),Ge.updateQueue=null,er=Eu(Ge,sr,er,gr),dc(ze),sr=ma(),ze!==null&&!Do?(Pd(ze,Ge,Sr),ku(ze,Ge,Sr)):(zs&&sr&&Cd(Ge),Ge.flags|=1,Fo(ze,Ge,er,Sr),Ge.child)}function Du(ze,Ge,er,sr,gr){if(uc(Ge),Ge.stateNode===null){var Sr=po,Hr=er.contextType;typeof Hr=="object"&&Hr!==null&&(Sr=qa(Hr)),Sr=new er(sr,Sr),Ge.memoizedState=Sr.state!==null&&Sr.state!==void 0?Sr.state:null,Sr.updater=$h,Ge.stateNode=Sr,Sr._reactInternals=Ge,Sr=Ge.stateNode,Sr.props=sr,Sr.state=Ge.memoizedState,Sr.refs={},Cn(Ge),Hr=er.contextType,Sr.context=typeof Hr=="object"&&Hr!==null?qa(Hr):po,Sr.state=Ge.memoizedState,Hr=er.getDerivedStateFromProps,typeof Hr=="function"&&(Uh(Ge,er,Hr,sr),Sr.state=Ge.memoizedState),typeof er.getDerivedStateFromProps=="function"||typeof Sr.getSnapshotBeforeUpdate=="function"||typeof Sr.UNSAFE_componentWillMount!="function"&&typeof Sr.componentWillMount!="function"||(Hr=Sr.state,typeof Sr.componentWillMount=="function"&&Sr.componentWillMount(),typeof Sr.UNSAFE_componentWillMount=="function"&&Sr.UNSAFE_componentWillMount(),Hr!==Sr.state&&$h.enqueueReplaceState(Sr,Sr.state,null),Hi(Ge,sr,Sr,gr),es(),Sr.state=Ge.memoizedState),typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308),sr=!0}else if(ze===null){Sr=Ge.stateNode;var rn=Ge.memoizedProps,wn=Ad(er,rn);Sr.props=wn;var Xn=Sr.context,fi=er.contextType;Hr=po,typeof fi=="object"&&fi!==null&&(Hr=qa(fi));var bi=er.getDerivedStateFromProps;fi=typeof bi=="function"||typeof Sr.getSnapshotBeforeUpdate=="function",rn=Ge.pendingProps!==rn,fi||typeof Sr.UNSAFE_componentWillReceiveProps!="function"&&typeof Sr.componentWillReceiveProps!="function"||(rn||Xn!==Hr)&&SA(Ge,Sr,sr,Hr),ii=!1;var Zn=Ge.memoizedState;Sr.state=Zn,Hi(Ge,sr,Sr,gr),es(),Xn=Ge.memoizedState,rn||Zn!==Xn||ii?(typeof bi=="function"&&(Uh(Ge,er,bi,sr),Xn=Ge.memoizedState),(wn=ii||EA(Ge,er,wn,sr,Zn,Xn,Hr))?(fi||typeof Sr.UNSAFE_componentWillMount!="function"&&typeof Sr.componentWillMount!="function"||(typeof Sr.componentWillMount=="function"&&Sr.componentWillMount(),typeof Sr.UNSAFE_componentWillMount=="function"&&Sr.UNSAFE_componentWillMount()),typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308)):(typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308),Ge.memoizedProps=sr,Ge.memoizedState=Xn),Sr.props=sr,Sr.state=Xn,Sr.context=Hr,sr=wn):(typeof Sr.componentDidMount=="function"&&(Ge.flags|=4194308),sr=!1)}else{Sr=Ge.stateNode,Bn(ze,Ge),Hr=Ge.memoizedProps,fi=Ad(er,Hr),Sr.props=fi,bi=Ge.pendingProps,Zn=Sr.context,Xn=er.contextType,wn=po,typeof Xn=="object"&&Xn!==null&&(wn=qa(Xn)),rn=er.getDerivedStateFromProps,(Xn=typeof rn=="function"||typeof Sr.getSnapshotBeforeUpdate=="function")||typeof Sr.UNSAFE_componentWillReceiveProps!="function"&&typeof Sr.componentWillReceiveProps!="function"||(Hr!==bi||Zn!==wn)&&SA(Ge,Sr,sr,wn),ii=!1,Zn=Ge.memoizedState,Sr.state=Zn,Hi(Ge,sr,Sr,gr),es();var ni=Ge.memoizedState;Hr!==bi||Zn!==ni||ii||ze!==null&&ze.dependencies!==null&&Zd(ze.dependencies)?(typeof rn=="function"&&(Uh(Ge,er,rn,sr),ni=Ge.memoizedState),(fi=ii||EA(Ge,er,fi,sr,Zn,ni,wn)||ze!==null&&ze.dependencies!==null&&Zd(ze.dependencies))?(Xn||typeof Sr.UNSAFE_componentWillUpdate!="function"&&typeof Sr.componentWillUpdate!="function"||(typeof Sr.componentWillUpdate=="function"&&Sr.componentWillUpdate(sr,ni,wn),typeof Sr.UNSAFE_componentWillUpdate=="function"&&Sr.UNSAFE_componentWillUpdate(sr,ni,wn)),typeof Sr.componentDidUpdate=="function"&&(Ge.flags|=4),typeof Sr.getSnapshotBeforeUpdate=="function"&&(Ge.flags|=1024)):(typeof Sr.componentDidUpdate!="function"||Hr===ze.memoizedProps&&Zn===ze.memoizedState||(Ge.flags|=4),typeof Sr.getSnapshotBeforeUpdate!="function"||Hr===ze.memoizedProps&&Zn===ze.memoizedState||(Ge.flags|=1024),Ge.memoizedProps=sr,Ge.memoizedState=ni),Sr.props=sr,Sr.state=ni,Sr.context=wn,sr=fi):(typeof Sr.componentDidUpdate!="function"||Hr===ze.memoizedProps&&Zn===ze.memoizedState||(Ge.flags|=4),typeof Sr.getSnapshotBeforeUpdate!="function"||Hr===ze.memoizedProps&&Zn===ze.memoizedState||(Ge.flags|=1024),sr=!1)}return Sr=sr,Ba(ze,Ge),sr=(Ge.flags&128)!==0,Sr||sr?(Sr=Ge.stateNode,er=sr&&typeof er.getDerivedStateFromError!="function"?null:Sr.render(),Ge.flags|=1,ze!==null&&sr?(Ge.child=uf(Ge,ze.child,null,gr),Ge.child=uf(Ge,null,er,gr)):Fo(ze,Ge,er,gr),Ge.memoizedState=Sr.state,ze=Ge.child):ze=ku(ze,Ge,gr),ze}function Fu(ze,Ge,er,sr){return No(),Ge.flags|=256,Fo(ze,Ge,er,sr),Ge.child}var Vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mc(ze){return{baseLanes:ze,cachePool:Wr()}}function xh(ze,Ge,er){return ze=ze!==null?ze.childLanes&~er:0,Ge&&(ze|=Ac),ze}function qh(ze,Ge,er){var sr=Ge.pendingProps,gr=!1,Sr=(Ge.flags&128)!==0,Hr;if((Hr=Sr)||(Hr=ze!==null&&ze.memoizedState===null?!1:(Za.current&2)!==0),Hr&&(gr=!0,Ge.flags&=-129),Hr=(Ge.flags&32)!==0,Ge.flags&=-33,ze===null){if(zs){if(gr?hd(Ge):Bu(),zs){var rn=Pa,wn;if(wn=rn){e:{for(wn=rn,rn=oc;wn.nodeType!==8;){if(!rn){rn=null;break e}if(wn=Ku(wn.nextSibling),wn===null){rn=null;break e}}rn=wn}rn!==null?(Ge.memoizedState={dehydrated:rn,treeContext:yu!==null?{id:Cl,overflow:Pc}:null,retryLane:536870912,hydrationErrors:null},wn=Bo(18,null,null,0),wn.stateNode=rn,wn.return=Ge,Ge.child=wn,Ga=Ge,Pa=null,wn=!0):wn=!1}wn||wu(Ge)}if(rn=Ge.memoizedState,rn!==null&&(rn=rn.dehydrated,rn!==null))return wp(rn)?Ge.lanes=32:Ge.lanes=536870912,null;Tl(Ge)}return rn=sr.children,sr=sr.fallback,gr?(Bu(),gr=Ge.mode,rn=ff({mode:"hidden",children:rn},gr),sr=Sl(sr,gr,er,null),rn.return=Ge,sr.return=Ge,rn.sibling=sr,Ge.child=rn,gr=Ge.child,gr.memoizedState=Mc(er),gr.childLanes=xh(ze,Hr,er),Ge.memoizedState=Vd,sr):(hd(Ge),yh(Ge,rn))}if(wn=ze.memoizedState,wn!==null&&(rn=wn.dehydrated,rn!==null)){if(Sr)Ge.flags&256?(hd(Ge),Ge.flags&=-257,Ge=Hd(ze,Ge,er)):Ge.memoizedState!==null?(Bu(),Ge.child=ze.child,Ge.flags|=128,Ge=null):(Bu(),gr=sr.fallback,rn=Ge.mode,sr=ff({mode:"visible",children:sr.children},rn),gr=Sl(gr,rn,er,null),gr.flags|=2,sr.return=Ge,gr.return=Ge,sr.sibling=gr,Ge.child=sr,uf(Ge,ze.child,null,er),sr=Ge.child,sr.memoizedState=Mc(er),sr.childLanes=xh(ze,Hr,er),Ge.memoizedState=Vd,Ge=gr);else if(hd(Ge),wp(rn)){if(Hr=rn.nextSibling&&rn.nextSibling.dataset,Hr)var Xn=Hr.dgst;Hr=Xn,sr=Error(Be(419)),sr.stack="",sr.digest=Hr,rd({value:sr,source:null,stack:null}),Ge=Hd(ze,Ge,er)}else if(Do||nd(ze,Ge,er,!1),Hr=(er&ze.childLanes)!==0,Do||Hr){if(Hr=ga,Hr!==null&&(sr=er&-er,sr=(sr&42)!==0?1:Zi(sr),sr=(sr&(Hr.suspendedLanes|er))!==0?0:sr,sr!==0&&sr!==wn.retryLane))throw wn.retryLane=sr,Cc(ze,sr),Mi(Hr,ze,sr),Wh;rn.data==="$?"||za(),Ge=Hd(ze,Ge,er)}else rn.data==="$?"?(Ge.flags|=192,Ge.child=ze.child,Ge=null):(ze=wn.treeContext,Pa=Ku(rn.nextSibling),Ga=Ge,zs=!0,ru=null,oc=!1,ze!==null&&(Rl[ll++]=Cl,Rl[ll++]=Pc,Rl[ll++]=yu,Cl=ze.id,Pc=ze.overflow,yu=Ge),Ge=yh(Ge,sr.children),Ge.flags|=4096);return Ge}return gr?(Bu(),gr=sr.fallback,rn=Ge.mode,wn=ze.child,Xn=wn.sibling,sr=Uo(wn,{mode:"hidden",children:sr.children}),sr.subtreeFlags=wn.subtreeFlags&65011712,Xn!==null?gr=Uo(Xn,gr):(gr=Sl(gr,rn,er,null),gr.flags|=2),gr.return=Ge,sr.return=Ge,sr.sibling=gr,Ge.child=sr,sr=gr,gr=Ge.child,rn=ze.child.memoizedState,rn===null?rn=Mc(er):(wn=rn.cachePool,wn!==null?(Xn=Ya._currentValue,wn=wn.parent!==Xn?{parent:Xn,pool:Xn}:wn):wn=Wr(),rn={baseLanes:rn.baseLanes|er,cachePool:wn}),gr.memoizedState=rn,gr.childLanes=xh(ze,Hr,er),Ge.memoizedState=Vd,sr):(hd(Ge),er=ze.child,ze=er.sibling,er=Uo(er,{mode:"visible",children:sr.children}),er.return=Ge,er.sibling=null,ze!==null&&(Hr=Ge.deletions,Hr===null?(Ge.deletions=[ze],Ge.flags|=16):Hr.push(ze)),Ge.child=er,Ge.memoizedState=null,er)}function yh(ze,Ge){return Ge=ff({mode:"visible",children:Ge},ze.mode),Ge.return=ze,ze.child=Ge}function ff(ze,Ge){return ze=Bo(22,ze,null,Ge),ze.lanes=0,ze.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},ze}function Hd(ze,Ge,er){return uf(Ge,ze.child,null,er),ze=yh(Ge,Ge.pendingProps.children),ze.flags|=2,Ge.memoizedState=null,ze}function Yh(ze,Ge,er){ze.lanes|=Ge;var sr=ze.alternate;sr!==null&&(sr.lanes|=Ge),Xd(ze.return,Ge,er)}function bh(ze,Ge,er,sr,gr){var Sr=ze.memoizedState;Sr===null?ze.memoizedState={isBackwards:Ge,rendering:null,renderingStartTime:0,last:sr,tail:er,tailMode:gr}:(Sr.isBackwards=Ge,Sr.rendering=null,Sr.renderingStartTime=0,Sr.last=sr,Sr.tail=er,Sr.tailMode=gr)}function hf(ze,Ge,er){var sr=Ge.pendingProps,gr=sr.revealOrder,Sr=sr.tail;if(Fo(ze,Ge,sr.children,er),sr=Za.current,(sr&2)!==0)sr=sr&1|2,Ge.flags|=128;else{if(ze!==null&&(ze.flags&128)!==0)e:for(ze=Ge.child;ze!==null;){if(ze.tag===13)ze.memoizedState!==null&&Yh(ze,er,Ge);else if(ze.tag===19)Yh(ze,er,Ge);else if(ze.child!==null){ze.child.return=ze,ze=ze.child;continue}if(ze===Ge)break e;for(;ze.sibling===null;){if(ze.return===null||ze.return===Ge)break e;ze=ze.return}ze.sibling.return=ze.return,ze=ze.sibling}sr&=1}switch(Ir(Za,sr),gr){case"forwards":for(er=Ge.child,gr=null;er!==null;)ze=er.alternate,ze!==null&&Ld(ze)===null&&(gr=er),er=er.sibling;er=gr,er===null?(gr=Ge.child,Ge.child=null):(gr=er.sibling,er.sibling=null),bh(Ge,!1,gr,er,Sr);break;case"backwards":for(er=null,gr=Ge.child,Ge.child=null;gr!==null;){if(ze=gr.alternate,ze!==null&&Ld(ze)===null){Ge.child=gr;break}ze=gr.sibling,gr.sibling=er,er=gr,gr=ze}bh(Ge,!0,er,null,Sr);break;case"together":bh(Ge,!1,null,null,void 0);break;default:Ge.memoizedState=null}return Ge.child}function ku(ze,Ge,er){if(ze!==null&&(Ge.dependencies=ze.dependencies),xd|=Ge.lanes,(er&Ge.childLanes)===0)if(ze!==null){if(nd(ze,Ge,er,!1),(er&Ge.childLanes)===0)return null}else return null;if(ze!==null&&Ge.child!==ze.child)throw Error(Be(153));if(Ge.child!==null){for(ze=Ge.child,er=Uo(ze,ze.pendingProps),Ge.child=er,er.return=Ge;ze.sibling!==null;)ze=ze.sibling,er=er.sibling=Uo(ze,ze.pendingProps),er.return=Ge;er.sibling=null}return Ge.child}function Xh(ze,Ge){return(ze.lanes&Ge)!==0?!0:(ze=ze.dependencies,!!(ze!==null&&Zd(ze)))}function tp(ze,Ge,er){switch(Ge.tag){case 3:Qr(Ge,Ge.stateNode.containerInfo),cc(Ge,Ya,ze.memoizedState.cache),No();break;case 27:case 5:Gr(Ge);break;case 4:Qr(Ge,Ge.stateNode.containerInfo);break;case 10:cc(Ge,Ge.type,Ge.memoizedProps.value);break;case 13:var sr=Ge.memoizedState;if(sr!==null)return sr.dehydrated!==null?(hd(Ge),Ge.flags|=128,null):(er&Ge.child.childLanes)!==0?qh(ze,Ge,er):(hd(Ge),ze=ku(ze,Ge,er),ze!==null?ze.sibling:null);hd(Ge);break;case 19:var gr=(ze.flags&128)!==0;if(sr=(er&Ge.childLanes)!==0,sr||(nd(ze,Ge,er,!1),sr=(er&Ge.childLanes)!==0),gr){if(sr)return hf(ze,Ge,er);Ge.flags|=128}if(gr=Ge.memoizedState,gr!==null&&(gr.rendering=null,gr.tail=null,gr.lastEffect=null),Ir(Za,Za.current),sr)break;return null;case 22:case 23:return Ge.lanes=0,Ud(ze,Ge,er);case 24:cc(Ge,Ya,ze.memoizedState.cache)}return ku(ze,Ge,er)}function jA(ze,Ge,er){if(ze!==null)if(ze.memoizedProps!==Ge.pendingProps)Do=!0;else{if(!Xh(ze,er)&&(Ge.flags&128)===0)return Do=!1,tp(ze,Ge,er);Do=(ze.flags&131072)!==0}else Do=!1,zs&&(Ge.flags&1048576)!==0&&nh(Ge,Yd,Ge.index);switch(Ge.lanes=0,Ge.tag){case 16:e:{ze=Ge.pendingProps;var sr=Ge.elementType,gr=sr._init;if(sr=gr(sr._payload),Ge.type=sr,typeof sr=="function")ed(sr)?(ze=Ad(sr,ze),Ge.tag=1,Ge=Du(null,Ge,sr,ze,er)):(Ge.tag=0,Ge=Nu(null,Ge,sr,ze,er));else{if(sr!=null){if(gr=sr.$$typeof,gr===tr){Ge.tag=11,Ge=Kh(null,Ge,sr,ze,er);break e}else if(gr===ir){Ge.tag=14,Ge=CA(null,Ge,sr,ze,er);break e}}throw Ge=Cr(sr)||sr,Error(Be(306,Ge,""))}}return Ge;case 0:return Nu(ze,Ge,Ge.type,Ge.pendingProps,er);case 1:return sr=Ge.type,gr=Ad(sr,Ge.pendingProps),Du(ze,Ge,sr,gr,er);case 3:e:{if(Qr(Ge,Ge.stateNode.containerInfo),ze===null)throw Error(Be(387));sr=Ge.pendingProps;var Sr=Ge.memoizedState;gr=Sr.element,Bn(ze,Ge),Hi(Ge,sr,null,er);var Hr=Ge.memoizedState;if(sr=Hr.cache,cc(Ge,Ya,sr),sr!==Sr.cache&&Jd(Ge,[Ya],er,!0),es(),sr=Hr.element,Sr.isDehydrated)if(Sr={element:sr,isDehydrated:!1,cache:Hr.cache},Ge.updateQueue.baseState=Sr,Ge.memoizedState=Sr,Ge.flags&256){Ge=Fu(ze,Ge,sr,er);break e}else if(sr!==gr){gr=Es(Error(Be(424)),Ge),rd(gr),Ge=Fu(ze,Ge,sr,er);break e}else{switch(ze=Ge.stateNode.containerInfo,ze.nodeType){case 9:ze=ze.body;break;default:ze=ze.nodeName==="HTML"?ze.ownerDocument.body:ze}for(Pa=Ku(ze.firstChild),Ga=Ge,zs=!0,ru=null,oc=!0,er=Qf(Ge,null,sr,er),Ge.child=er;er;)er.flags=er.flags&-3|4096,er=er.sibling}else{if(No(),sr===gr){Ge=ku(ze,Ge,er);break e}Fo(ze,Ge,sr,er)}Ge=Ge.child}return Ge;case 26:return Ba(ze,Ge),ze===null?(er=tm(Ge.type,null,Ge.pendingProps,null))?Ge.memoizedState=er:zs||(er=Ge.type,ze=Ge.pendingProps,sr=VA(br.current).createElement(er),sr[Qs]=Ge,sr[Fs]=ze,dl(sr,er,ze),Dn(sr),Ge.stateNode=sr):Ge.memoizedState=tm(Ge.type,ze.memoizedProps,Ge.pendingProps,ze.memoizedState),null;case 27:return Gr(Ge),ze===null&&zs&&(sr=Ge.stateNode=Jp(Ge.type,Ge.pendingProps,br.current),Ga=Ge,oc=!0,gr=Pa,yf(Ge.type)?(_p=gr,Pa=Ku(sr.firstChild)):Pa=gr),Fo(ze,Ge,Ge.pendingProps.children,er),Ba(ze,Ge),ze===null&&(Ge.flags|=4194304),Ge.child;case 5:return ze===null&&zs&&((gr=sr=Pa)&&(sr=Fm(sr,Ge.type,Ge.pendingProps,oc),sr!==null?(Ge.stateNode=sr,Ga=Ge,Pa=Ku(sr.firstChild),oc=!1,gr=!0):gr=!1),gr||wu(Ge)),Gr(Ge),gr=Ge.type,Sr=Ge.pendingProps,Hr=ze!==null?ze.memoizedProps:null,sr=Sr.children,vp(gr,Sr)?sr=null:Hr!==null&&vp(gr,Hr)&&(Ge.flags|=32),Ge.memoizedState!==null&&(gr=Hl(ze,Ge,nu,null,null,er),AA._currentValue=gr),Ba(ze,Ge),Fo(ze,Ge,sr,er),Ge.child;case 6:return ze===null&&zs&&((ze=er=Pa)&&(er=km(er,Ge.pendingProps,oc),er!==null?(Ge.stateNode=er,Ga=Ge,Pa=null,ze=!0):ze=!1),ze||wu(Ge)),null;case 13:return qh(ze,Ge,er);case 4:return Qr(Ge,Ge.stateNode.containerInfo),sr=Ge.pendingProps,ze===null?Ge.child=uf(Ge,null,sr,er):Fo(ze,Ge,sr,er),Ge.child;case 11:return Kh(ze,Ge,Ge.type,Ge.pendingProps,er);case 7:return Fo(ze,Ge,Ge.pendingProps,er),Ge.child;case 8:return Fo(ze,Ge,Ge.pendingProps.children,er),Ge.child;case 12:return Fo(ze,Ge,Ge.pendingProps.children,er),Ge.child;case 10:return sr=Ge.pendingProps,cc(Ge,Ge.type,sr.value),Fo(ze,Ge,sr.children,er),Ge.child;case 9:return gr=Ge.type._context,sr=Ge.pendingProps.children,uc(Ge),gr=qa(gr),sr=sr(gr),Ge.flags|=1,Fo(ze,Ge,sr,er),Ge.child;case 14:return CA(ze,Ge,Ge.type,Ge.pendingProps,er);case 15:return TA(ze,Ge,Ge.type,Ge.pendingProps,er);case 19:return hf(ze,Ge,er);case 31:return sr=Ge.pendingProps,er=Ge.mode,sr={mode:sr.mode,children:sr.children},ze===null?(er=ff(sr,er),er.ref=Ge.ref,Ge.child=er,er.return=Ge,Ge=er):(er=Uo(ze.child,sr),er.ref=Ge.ref,Ge.child=er,er.return=Ge,Ge=er),Ge;case 22:return Ud(ze,Ge,er);case 24:return uc(Ge),sr=qa(Ya),ze===null?(gr=Br(),gr===null&&(gr=ga,Sr=Cf(),gr.pooledCache=Sr,Sr.refCount++,Sr!==null&&(gr.pooledCacheLanes|=er),gr=Sr),Ge.memoizedState={parent:sr,cache:gr},Cn(Ge),cc(Ge,Ya,gr)):((ze.lanes&er)!==0&&(Bn(ze,Ge),Hi(Ge,null,null,er),es()),gr=ze.memoizedState,Sr=Ge.memoizedState,gr.parent!==sr?(gr={parent:sr,cache:sr},Ge.memoizedState=gr,Ge.lanes===0&&(Ge.memoizedState=Ge.updateQueue.baseState=gr),cc(Ge,Ya,sr)):(sr=Sr.cache,cc(Ge,Ya,sr),sr!==gr.cache&&Jd(Ge,[Ya],er,!0))),Fo(ze,Ge,Ge.pendingProps.children,er),Ge.child;case 29:throw Ge.pendingProps}throw Error(Be(156,Ge.tag))}function Ou(ze){ze.flags|=4}function wh(ze,Ge){if(Ge.type!=="stylesheet"||(Ge.state.loading&4)!==0)ze.flags&=-16777217;else if(ze.flags|=16777216,!am(Ge)){if(Ge=Kl.current,Ge!==null&&((Hs&4194048)===Hs?Oc!==null:(Hs&62914560)!==Hs&&(Hs&536870912)===0||Ge!==Oc))throw Qn=sn,Jr;ze.flags|=8192}}function _h(ze,Ge){Ge!==null&&(ze.flags|=4),ze.flags&16384&&(Ge=ze.tag!==22?xi():536870912,ze.lanes|=Ge,xf|=Ge)}function Gf(ze,Ge){if(!zs)switch(ze.tailMode){case"hidden":Ge=ze.tail;for(var er=null;Ge!==null;)Ge.alternate!==null&&(er=Ge),Ge=Ge.sibling;er===null?ze.tail=null:er.sibling=null;break;case"collapsed":er=ze.tail;for(var sr=null;er!==null;)er.alternate!==null&&(sr=er),er=er.sibling;sr===null?Ge||ze.tail===null?ze.tail=null:ze.tail.sibling=null:sr.sibling=null}}function Ua(ze){var Ge=ze.alternate!==null&&ze.alternate.child===ze.child,er=0,sr=0;if(Ge)for(var gr=ze.child;gr!==null;)er|=gr.lanes|gr.childLanes,sr|=gr.subtreeFlags&65011712,sr|=gr.flags&65011712,gr.return=ze,gr=gr.sibling;else for(gr=ze.child;gr!==null;)er|=gr.lanes|gr.childLanes,sr|=gr.subtreeFlags,sr|=gr.flags,gr.return=ze,gr=gr.sibling;return ze.subtreeFlags|=sr,ze.childLanes=er,Ge}function rp(ze,Ge,er){var sr=Ge.pendingProps;switch(tu(Ge),Ge.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ua(Ge),null;case 1:return Ua(Ge),null;case 3:return er=Ge.stateNode,sr=null,ze!==null&&(sr=ze.memoizedState.cache),Ge.memoizedState.cache!==sr&&(Ge.flags|=2048),cl(Ya),zr(),er.pendingContext&&(er.context=er.pendingContext,er.pendingContext=null),(ze===null||ze.child===null)&&($o(Ge)?Ou(Ge):ze===null||ze.memoizedState.isDehydrated&&(Ge.flags&256)===0||(Ge.flags|=1024,sh())),Ua(Ge),null;case 26:return er=Ge.memoizedState,ze===null?(Ou(Ge),er!==null?(Ua(Ge),wh(Ge,er)):(Ua(Ge),Ge.flags&=-16777217)):er?er!==ze.memoizedState?(Ou(Ge),Ua(Ge),wh(Ge,er)):(Ua(Ge),Ge.flags&=-16777217):(ze.memoizedProps!==sr&&Ou(Ge),Ua(Ge),Ge.flags&=-16777217),null;case 27:fn(Ge),er=br.current;var gr=Ge.type;if(ze!==null&&Ge.stateNode!=null)ze.memoizedProps!==sr&&Ou(Ge);else{if(!sr){if(Ge.stateNode===null)throw Error(Be(166));return Ua(Ge),null}ze=Dr.current,$o(Ge)?ih(Ge):(ze=Jp(gr,sr,er),Ge.stateNode=ze,Ou(Ge))}return Ua(Ge),null;case 5:if(fn(Ge),er=Ge.type,ze!==null&&Ge.stateNode!=null)ze.memoizedProps!==sr&&Ou(Ge);else{if(!sr){if(Ge.stateNode===null)throw Error(Be(166));return Ua(Ge),null}if(ze=Dr.current,$o(Ge))ih(Ge);else{switch(gr=VA(br.current),ze){case 1:ze=gr.createElementNS("http://www.w3.org/2000/svg",er);break;case 2:ze=gr.createElementNS("http://www.w3.org/1998/Math/MathML",er);break;default:switch(er){case"svg":ze=gr.createElementNS("http://www.w3.org/2000/svg",er);break;case"math":ze=gr.createElementNS("http://www.w3.org/1998/Math/MathML",er);break;case"script":ze=gr.createElement("div"),ze.innerHTML="<script><\/script>",ze=ze.removeChild(ze.firstChild);break;case"select":ze=typeof sr.is=="string"?gr.createElement("select",{is:sr.is}):gr.createElement("select"),sr.multiple?ze.multiple=!0:sr.size&&(ze.size=sr.size);break;default:ze=typeof sr.is=="string"?gr.createElement(er,{is:sr.is}):gr.createElement(er)}}ze[Qs]=Ge,ze[Fs]=sr;e:for(gr=Ge.child;gr!==null;){if(gr.tag===5||gr.tag===6)ze.appendChild(gr.stateNode);else if(gr.tag!==4&&gr.tag!==27&&gr.child!==null){gr.child.return=gr,gr=gr.child;continue}if(gr===Ge)break e;for(;gr.sibling===null;){if(gr.return===null||gr.return===Ge)break e;gr=gr.return}gr.sibling.return=gr.return,gr=gr.sibling}Ge.stateNode=ze;e:switch(dl(ze,er,sr),er){case"button":case"input":case"select":case"textarea":ze=!!sr.autoFocus;break e;case"img":ze=!0;break e;default:ze=!1}ze&&Ou(Ge)}}return Ua(Ge),Ge.flags&=-16777217,null;case 6:if(ze&&Ge.stateNode!=null)ze.memoizedProps!==sr&&Ou(Ge);else{if(typeof sr!="string"&&Ge.stateNode===null)throw Error(Be(166));if(ze=br.current,$o(Ge)){if(ze=Ge.stateNode,er=Ge.memoizedProps,sr=null,gr=Ga,gr!==null)switch(gr.tag){case 27:case 5:sr=gr.memoizedProps}ze[Qs]=Ge,ze=!!(ze.nodeValue===er||sr!==null&&sr.suppressHydrationWarning===!0||zp(ze.nodeValue,er)),ze||wu(Ge)}else ze=VA(ze).createTextNode(sr),ze[Qs]=Ge,Ge.stateNode=ze}return Ua(Ge),null;case 13:if(sr=Ge.memoizedState,ze===null||ze.memoizedState!==null&&ze.memoizedState.dehydrated!==null){if(gr=$o(Ge),sr!==null&&sr.dehydrated!==null){if(ze===null){if(!gr)throw Error(Be(318));if(gr=Ge.memoizedState,gr=gr!==null?gr.dehydrated:null,!gr)throw Error(Be(317));gr[Qs]=Ge}else No(),(Ge.flags&128)===0&&(Ge.memoizedState=null),Ge.flags|=4;Ua(Ge),gr=!1}else gr=sh(),ze!==null&&ze.memoizedState!==null&&(ze.memoizedState.hydrationErrors=gr),gr=!0;if(!gr)return Ge.flags&256?(Tl(Ge),Ge):(Tl(Ge),null)}if(Tl(Ge),(Ge.flags&128)!==0)return Ge.lanes=er,Ge;if(er=sr!==null,ze=ze!==null&&ze.memoizedState!==null,er){sr=Ge.child,gr=null,sr.alternate!==null&&sr.alternate.memoizedState!==null&&sr.alternate.memoizedState.cachePool!==null&&(gr=sr.alternate.memoizedState.cachePool.pool);var Sr=null;sr.memoizedState!==null&&sr.memoizedState.cachePool!==null&&(Sr=sr.memoizedState.cachePool.pool),Sr!==gr&&(sr.flags|=2048)}return er!==ze&&er&&(Ge.child.flags|=8192),_h(Ge,Ge.updateQueue),Ua(Ge),null;case 4:return zr(),ze===null&&Ap(Ge.stateNode.containerInfo),Ua(Ge),null;case 10:return cl(Ge.type),Ua(Ge),null;case 19:if(_r(Za),gr=Ge.memoizedState,gr===null)return Ua(Ge),null;if(sr=(Ge.flags&128)!==0,Sr=gr.rendering,Sr===null)if(sr)Gf(gr,!1);else{if(Qa!==0||ze!==null&&(ze.flags&128)!==0)for(ze=Ge.child;ze!==null;){if(Sr=Ld(ze),Sr!==null){for(Ge.flags|=128,Gf(gr,!1),ze=Sr.updateQueue,Ge.updateQueue=ze,_h(Ge,ze),Ge.subtreeFlags=0,ze=er,er=Ge.child;er!==null;)Sd(er,ze),er=er.sibling;return Ir(Za,Za.current&1|2),Ge.child}ze=ze.sibling}gr.tail!==null&&Rn()>ur&&(Ge.flags|=128,sr=!0,Gf(gr,!1),Ge.lanes=4194304)}else{if(!sr)if(ze=Ld(Sr),ze!==null){if(Ge.flags|=128,sr=!0,ze=ze.updateQueue,Ge.updateQueue=ze,_h(Ge,ze),Gf(gr,!0),gr.tail===null&&gr.tailMode==="hidden"&&!Sr.alternate&&!zs)return Ua(Ge),null}else 2*Rn()-gr.renderingStartTime>ur&&er!==536870912&&(Ge.flags|=128,sr=!0,Gf(gr,!1),Ge.lanes=4194304);gr.isBackwards?(Sr.sibling=Ge.child,Ge.child=Sr):(ze=gr.last,ze!==null?ze.sibling=Sr:Ge.child=Sr,gr.last=Sr)}return gr.tail!==null?(Ge=gr.tail,gr.rendering=Ge,gr.tail=Ge.sibling,gr.renderingStartTime=Rn(),Ge.sibling=null,ze=Za.current,Ir(Za,sr?ze&1|2:ze&1),Ge):(Ua(Ge),null);case 22:case 23:return Tl(Ge),fs(),sr=Ge.memoizedState!==null,ze!==null?ze.memoizedState!==null!==sr&&(Ge.flags|=8192):sr&&(Ge.flags|=8192),sr?(er&536870912)!==0&&(Ge.flags&128)===0&&(Ua(Ge),Ge.subtreeFlags&6&&(Ge.flags|=8192)):Ua(Ge),er=Ge.updateQueue,er!==null&&_h(Ge,er.retryQueue),er=null,ze!==null&&ze.memoizedState!==null&&ze.memoizedState.cachePool!==null&&(er=ze.memoizedState.cachePool.pool),sr=null,Ge.memoizedState!==null&&Ge.memoizedState.cachePool!==null&&(sr=Ge.memoizedState.cachePool.pool),sr!==er&&(Ge.flags|=2048),ze!==null&&_r(xr),null;case 24:return er=null,ze!==null&&(er=ze.memoizedState.cache),Ge.memoizedState.cache!==er&&(Ge.flags|=2048),cl(Ya),Ua(Ge),null;case 25:return null;case 30:return null}throw Error(Be(156,Ge.tag))}function np(ze,Ge){switch(tu(Ge),Ge.tag){case 1:return ze=Ge.flags,ze&65536?(Ge.flags=ze&-65537|128,Ge):null;case 3:return cl(Ya),zr(),ze=Ge.flags,(ze&65536)!==0&&(ze&128)===0?(Ge.flags=ze&-65537|128,Ge):null;case 26:case 27:case 5:return fn(Ge),null;case 13:if(Tl(Ge),ze=Ge.memoizedState,ze!==null&&ze.dehydrated!==null){if(Ge.alternate===null)throw Error(Be(340));No()}return ze=Ge.flags,ze&65536?(Ge.flags=ze&-65537|128,Ge):null;case 19:return _r(Za),null;case 4:return zr(),null;case 10:return cl(Ge.type),null;case 22:case 23:return Tl(Ge),fs(),ze!==null&&_r(xr),ze=Ge.flags,ze&65536?(Ge.flags=ze&-65537|128,Ge):null;case 24:return cl(Ya),null;case 25:return null;default:return null}}function Eh(ze,Ge){switch(tu(Ge),Ge.tag){case 3:cl(Ya),zr();break;case 26:case 27:case 5:fn(Ge);break;case 4:zr();break;case 13:Tl(Ge);break;case 19:_r(Za);break;case 10:cl(Ge.type);break;case 22:case 23:Tl(Ge),fs(),ze!==null&&_r(xr);break;case 24:cl(Ya)}}function Qd(ze,Ge){try{var er=Ge.updateQueue,sr=er!==null?er.lastEffect:null;if(sr!==null){var gr=sr.next;er=gr;do{if((er.tag&ze)===ze){sr=void 0;var Sr=er.create,Hr=er.inst;sr=Sr(),Hr.destroy=sr}er=er.next}while(er!==gr)}}catch(rn){Ca(Ge,Ge.return,rn)}}function Mu(ze,Ge,er){try{var sr=Ge.updateQueue,gr=sr!==null?sr.lastEffect:null;if(gr!==null){var Sr=gr.next;sr=Sr;do{if((sr.tag&ze)===ze){var Hr=sr.inst,rn=Hr.destroy;if(rn!==void 0){Hr.destroy=void 0,gr=Ge;var wn=er,Xn=rn;try{Xn()}catch(fi){Ca(gr,wn,fi)}}}sr=sr.next}while(sr!==Sr)}}catch(fi){Ca(Ge,Ge.return,fi)}}function PA(ze){var Ge=ze.updateQueue;if(Ge!==null){var er=ze.stateNode;try{Ks(Ge,er)}catch(sr){Ca(ze,ze.return,sr)}}}function IA(ze,Ge,er){er.props=Ad(ze.type,ze.memoizedProps),er.state=ze.memoizedState;try{er.componentWillUnmount()}catch(sr){Ca(ze,Ge,sr)}}function Af(ze,Ge){try{var er=ze.ref;if(er!==null){switch(ze.tag){case 26:case 27:case 5:var sr=ze.stateNode;break;case 30:sr=ze.stateNode;break;default:sr=ze.stateNode}typeof er=="function"?ze.refCleanup=er(sr):er.current=sr}}catch(gr){Ca(ze,Ge,gr)}}function au(ze,Ge){var er=ze.ref,sr=ze.refCleanup;if(er!==null)if(typeof sr=="function")try{sr()}catch(gr){Ca(ze,Ge,gr)}finally{ze.refCleanup=null,ze=ze.alternate,ze!=null&&(ze.refCleanup=null)}else if(typeof er=="function")try{er(null)}catch(gr){Ca(ze,Ge,gr)}else er.current=null}function BA(ze){var Ge=ze.type,er=ze.memoizedProps,sr=ze.stateNode;try{e:switch(Ge){case"button":case"input":case"select":case"textarea":er.autoFocus&&sr.focus();break e;case"img":er.src?sr.src=er.src:er.srcSet&&(sr.srcset=er.srcSet)}}catch(gr){Ca(ze,ze.return,gr)}}function Jh(ze,Ge,er){try{var sr=ze.stateNode;Pm(sr,ze.type,er,Ge),sr[Fs]=Ge}catch(gr){Ca(ze,ze.return,gr)}}function NA(ze){return ze.tag===5||ze.tag===3||ze.tag===26||ze.tag===27&&yf(ze.type)||ze.tag===4}function Zh(ze){e:for(;;){for(;ze.sibling===null;){if(ze.return===null||NA(ze.return))return null;ze=ze.return}for(ze.sibling.return=ze.return,ze=ze.sibling;ze.tag!==5&&ze.tag!==6&&ze.tag!==18;){if(ze.tag===27&&yf(ze.type)||ze.flags&2||ze.child===null||ze.tag===4)continue e;ze.child.return=ze,ze=ze.child}if(!(ze.flags&2))return ze.stateNode}}function qf(ze,Ge,er){var sr=ze.tag;if(sr===5||sr===6)ze=ze.stateNode,Ge?(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).insertBefore(ze,Ge):(Ge=er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er,Ge.appendChild(ze),er=er._reactRootContainer,er!=null||Ge.onclick!==null||(Ge.onclick=$A));else if(sr!==4&&(sr===27&&yf(ze.type)&&(er=ze.stateNode,Ge=null),ze=ze.child,ze!==null))for(qf(ze,Ge,er),ze=ze.sibling;ze!==null;)qf(ze,Ge,er),ze=ze.sibling}function Sh(ze,Ge,er){var sr=ze.tag;if(sr===5||sr===6)ze=ze.stateNode,Ge?er.insertBefore(ze,Ge):er.appendChild(ze);else if(sr!==4&&(sr===27&&yf(ze.type)&&(er=ze.stateNode),ze=ze.child,ze!==null))for(Sh(ze,Ge,er),ze=ze.sibling;ze!==null;)Sh(ze,Ge,er),ze=ze.sibling}function Rh(ze){var Ge=ze.stateNode,er=ze.memoizedProps;try{for(var sr=ze.type,gr=Ge.attributes;gr.length;)Ge.removeAttributeNode(gr[0]);dl(Ge,sr,er),Ge[Qs]=ze,Ge[Fs]=er}catch(Sr){Ca(ze,ze.return,Sr)}}var Lu=!1,Di=!1,pd=!1,Yf=typeof WeakSet=="function"?WeakSet:Set,sa=null;function ip(ze,Ge){if(ze=ze.containerInfo,gp=GA,ze=Io(ze),Ka(ze)){if("selectionStart"in ze)var er={start:ze.selectionStart,end:ze.selectionEnd};else e:{er=(er=ze.ownerDocument)&&er.defaultView||window;var sr=er.getSelection&&er.getSelection();if(sr&&sr.rangeCount!==0){er=sr.anchorNode;var gr=sr.anchorOffset,Sr=sr.focusNode;sr=sr.focusOffset;try{er.nodeType,Sr.nodeType}catch{er=null;break e}var Hr=0,rn=-1,wn=-1,Xn=0,fi=0,bi=ze,Zn=null;t:for(;;){for(var ni;bi!==er||gr!==0&&bi.nodeType!==3||(rn=Hr+gr),bi!==Sr||sr!==0&&bi.nodeType!==3||(wn=Hr+sr),bi.nodeType===3&&(Hr+=bi.nodeValue.length),(ni=bi.firstChild)!==null;)Zn=bi,bi=ni;for(;;){if(bi===ze)break t;if(Zn===er&&++Xn===gr&&(rn=Hr),Zn===Sr&&++fi===sr&&(wn=Hr),(ni=bi.nextSibling)!==null)break;bi=Zn,Zn=bi.parentNode}bi=ni}er=rn===-1||wn===-1?null:{start:rn,end:wn}}else er=null}er=er||{start:0,end:0}}else er=null;for(xp={focusedElem:ze,selectionRange:er},GA=!1,sa=Ge;sa!==null;)if(Ge=sa,ze=Ge.child,(Ge.subtreeFlags&1024)!==0&&ze!==null)ze.return=Ge,sa=ze;else for(;sa!==null;){switch(Ge=sa,Sr=Ge.alternate,ze=Ge.flags,Ge.tag){case 0:break;case 11:case 15:break;case 1:if((ze&1024)!==0&&Sr!==null){ze=void 0,er=Ge,gr=Sr.memoizedProps,Sr=Sr.memoizedState,sr=er.stateNode;try{var ms=Ad(er.type,gr,er.elementType===er.type);ze=sr.getSnapshotBeforeUpdate(ms,Sr),sr.__reactInternalSnapshotBeforeUpdate=ze}catch(us){Ca(er,er.return,us)}}break;case 3:if((ze&1024)!==0){if(ze=Ge.stateNode.containerInfo,er=ze.nodeType,er===9)bp(ze);else if(er===1)switch(ze.nodeName){case"HEAD":case"HTML":case"BODY":bp(ze);break;default:ze.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((ze&1024)!==0)throw Error(Be(163))}if(ze=Ge.sibling,ze!==null){ze.return=Ge.return,sa=ze;break}sa=Ge.return}}function Ys(ze,Ge,er){var sr=er.flags;switch(er.tag){case 0:case 11:case 15:Uu(ze,er),sr&4&&Qd(5,er);break;case 1:if(Uu(ze,er),sr&4)if(ze=er.stateNode,Ge===null)try{ze.componentDidMount()}catch(Hr){Ca(er,er.return,Hr)}else{var gr=Ad(er.type,Ge.memoizedProps);Ge=Ge.memoizedState;try{ze.componentDidUpdate(gr,Ge,ze.__reactInternalSnapshotBeforeUpdate)}catch(Hr){Ca(er,er.return,Hr)}}sr&64&&PA(er),sr&512&&Af(er,er.return);break;case 3:if(Uu(ze,er),sr&64&&(ze=er.updateQueue,ze!==null)){if(Ge=null,er.child!==null)switch(er.child.tag){case 27:case 5:Ge=er.child.stateNode;break;case 1:Ge=er.child.stateNode}try{Ks(ze,Ge)}catch(Hr){Ca(er,er.return,Hr)}}break;case 27:Ge===null&&sr&4&&Rh(er);case 26:case 5:Uu(ze,er),Ge===null&&sr&4&&BA(er),sr&512&&Af(er,er.return);break;case 12:Uu(ze,er);break;case 13:Uu(ze,er),sr&4&&Xf(ze,er),sr&64&&(ze=er.memoizedState,ze!==null&&(ze=ze.dehydrated,ze!==null&&(er=vm.bind(null,er),Om(ze,er))));break;case 22:if(sr=er.memoizedState!==null||Lu,!sr){Ge=Ge!==null&&Ge.memoizedState!==null||Di,gr=Lu;var Sr=Di;Lu=sr,(Di=Ge)&&!Sr?Vu(ze,er,(er.subtreeFlags&8772)!==0):Uu(ze,er),Lu=gr,Di=Sr}break;case 30:break;default:Uu(ze,er)}}function Ra(ze){var Ge=ze.alternate;Ge!==null&&(ze.alternate=null,Ra(Ge)),ze.child=null,ze.deletions=null,ze.sibling=null,ze.tag===5&&(Ge=ze.stateNode,Ge!==null&&cn(Ge)),ze.stateNode=null,ze.return=null,ze.dependencies=null,ze.memoizedProps=null,ze.memoizedState=null,ze.pendingProps=null,ze.stateNode=null,ze.updateQueue=null}var fa=null,jl=!1;function hc(ze,Ge,er){for(er=er.child;er!==null;)DA(ze,Ge,er),er=er.sibling}function DA(ze,Ge,er){if(Ti&&typeof Ti.onCommitFiberUnmount=="function")try{Ti.onCommitFiberUnmount(Si,er)}catch{}switch(er.tag){case 26:Di||au(er,Ge),hc(ze,Ge,er),er.memoizedState?er.memoizedState.count--:er.stateNode&&(er=er.stateNode,er.parentNode.removeChild(er));break;case 27:Di||au(er,Ge);var sr=fa,gr=jl;yf(er.type)&&(fa=er.stateNode,jl=!1),hc(ze,Ge,er),uA(er.stateNode),fa=sr,jl=gr;break;case 5:Di||au(er,Ge);case 6:if(sr=fa,gr=jl,fa=null,hc(ze,Ge,er),fa=sr,jl=gr,fa!==null)if(jl)try{(fa.nodeType===9?fa.body:fa.nodeName==="HTML"?fa.ownerDocument.body:fa).removeChild(er.stateNode)}catch(Sr){Ca(er,Ge,Sr)}else try{fa.removeChild(er.stateNode)}catch(Sr){Ca(er,Ge,Sr)}break;case 18:fa!==null&&(jl?(ze=fa,Yp(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze,er.stateNode),xA(ze)):Yp(fa,er.stateNode));break;case 4:sr=fa,gr=jl,fa=er.stateNode.containerInfo,jl=!0,hc(ze,Ge,er),fa=sr,jl=gr;break;case 0:case 11:case 14:case 15:Di||Mu(2,er,Ge),Di||Mu(4,er,Ge),hc(ze,Ge,er);break;case 1:Di||(au(er,Ge),sr=er.stateNode,typeof sr.componentWillUnmount=="function"&&IA(er,Ge,sr)),hc(ze,Ge,er);break;case 21:hc(ze,Ge,er);break;case 22:Di=(sr=Di)||er.memoizedState!==null,hc(ze,Ge,er),Di=sr;break;default:hc(ze,Ge,er)}}function Xf(ze,Ge){if(Ge.memoizedState===null&&(ze=Ge.alternate,ze!==null&&(ze=ze.memoizedState,ze!==null&&(ze=ze.dehydrated,ze!==null))))try{xA(ze)}catch(er){Ca(Ge,Ge.return,er)}}function sp(ze){switch(ze.tag){case 13:case 19:var Ge=ze.stateNode;return Ge===null&&(Ge=ze.stateNode=new Yf),Ge;case 22:return ze=ze.stateNode,Ge=ze._retryCache,Ge===null&&(Ge=ze._retryCache=new Yf),Ge;default:throw Error(Be(435,ze.tag))}}function eA(ze,Ge){var er=sp(ze);Ge.forEach(function(sr){var gr=ym.bind(null,ze,sr);er.has(sr)||(er.add(sr),sr.then(gr,gr))})}function Pl(ze,Ge){var er=Ge.deletions;if(er!==null)for(var sr=0;sr<er.length;sr++){var gr=er[sr],Sr=ze,Hr=Ge,rn=Hr;e:for(;rn!==null;){switch(rn.tag){case 27:if(yf(rn.type)){fa=rn.stateNode,jl=!1;break e}break;case 5:fa=rn.stateNode,jl=!1;break e;case 3:case 4:fa=rn.stateNode.containerInfo,jl=!0;break e}rn=rn.return}if(fa===null)throw Error(Be(160));DA(Sr,Hr,gr),fa=null,jl=!1,Sr=gr.alternate,Sr!==null&&(Sr.return=null),gr.return=null}if(Ge.subtreeFlags&13878)for(Ge=Ge.child;Ge!==null;)tA(Ge,ze),Ge=Ge.sibling}var Lc=null;function tA(ze,Ge){var er=ze.alternate,sr=ze.flags;switch(ze.tag){case 0:case 11:case 14:case 15:Pl(Ge,ze),Gl(ze),sr&4&&(Mu(3,ze,ze.return),Qd(3,ze),Mu(5,ze,ze.return));break;case 1:Pl(Ge,ze),Gl(ze),sr&512&&(Di||er===null||au(er,er.return)),sr&64&&Lu&&(ze=ze.updateQueue,ze!==null&&(sr=ze.callbacks,sr!==null&&(er=ze.shared.hiddenCallbacks,ze.shared.hiddenCallbacks=er===null?sr:er.concat(sr))));break;case 26:var gr=Lc;if(Pl(Ge,ze),Gl(ze),sr&512&&(Di||er===null||au(er,er.return)),sr&4){var Sr=er!==null?er.memoizedState:null;if(sr=ze.memoizedState,er===null)if(sr===null)if(ze.stateNode===null){e:{sr=ze.type,er=ze.memoizedProps,gr=gr.ownerDocument||gr;t:switch(sr){case"title":Sr=gr.getElementsByTagName("title")[0],(!Sr||Sr[on]||Sr[Qs]||Sr.namespaceURI==="http://www.w3.org/2000/svg"||Sr.hasAttribute("itemprop"))&&(Sr=gr.createElement(sr),gr.head.insertBefore(Sr,gr.querySelector("head > title"))),dl(Sr,sr,er),Sr[Qs]=ze,Dn(Sr),sr=Sr;break e;case"link":var Hr=im("link","href",gr).get(sr+(er.href||""));if(Hr){for(var rn=0;rn<Hr.length;rn++)if(Sr=Hr[rn],Sr.getAttribute("href")===(er.href==null||er.href===""?null:er.href)&&Sr.getAttribute("rel")===(er.rel==null?null:er.rel)&&Sr.getAttribute("title")===(er.title==null?null:er.title)&&Sr.getAttribute("crossorigin")===(er.crossOrigin==null?null:er.crossOrigin)){Hr.splice(rn,1);break t}}Sr=gr.createElement(sr),dl(Sr,sr,er),gr.head.appendChild(Sr);break;case"meta":if(Hr=im("meta","content",gr).get(sr+(er.content||""))){for(rn=0;rn<Hr.length;rn++)if(Sr=Hr[rn],Sr.getAttribute("content")===(er.content==null?null:""+er.content)&&Sr.getAttribute("name")===(er.name==null?null:er.name)&&Sr.getAttribute("property")===(er.property==null?null:er.property)&&Sr.getAttribute("http-equiv")===(er.httpEquiv==null?null:er.httpEquiv)&&Sr.getAttribute("charset")===(er.charSet==null?null:er.charSet)){Hr.splice(rn,1);break t}}Sr=gr.createElement(sr),dl(Sr,sr,er),gr.head.appendChild(Sr);break;default:throw Error(Be(468,sr))}Sr[Qs]=ze,Dn(Sr),sr=Sr}ze.stateNode=sr}else sm(gr,ze.type,ze.stateNode);else ze.stateNode=nm(gr,sr,ze.memoizedProps);else Sr!==sr?(Sr===null?er.stateNode!==null&&(er=er.stateNode,er.parentNode.removeChild(er)):Sr.count--,sr===null?sm(gr,ze.type,ze.stateNode):nm(gr,sr,ze.memoizedProps)):sr===null&&ze.stateNode!==null&&Jh(ze,ze.memoizedProps,er.memoizedProps)}break;case 27:Pl(Ge,ze),Gl(ze),sr&512&&(Di||er===null||au(er,er.return)),er!==null&&sr&4&&Jh(ze,ze.memoizedProps,er.memoizedProps);break;case 5:if(Pl(Ge,ze),Gl(ze),sr&512&&(Di||er===null||au(er,er.return)),ze.flags&32){gr=ze.stateNode;try{Qo(gr,"")}catch(ni){Ca(ze,ze.return,ni)}}sr&4&&ze.stateNode!=null&&(gr=ze.memoizedProps,Jh(ze,gr,er!==null?er.memoizedProps:gr)),sr&1024&&(pd=!0);break;case 6:if(Pl(Ge,ze),Gl(ze),sr&4){if(ze.stateNode===null)throw Error(Be(162));sr=ze.memoizedProps,er=ze.stateNode;try{er.nodeValue=sr}catch(ni){Ca(ze,ze.return,ni)}}break;case 3:if(zA=null,gr=Lc,Lc=HA(Ge.containerInfo),Pl(Ge,ze),Lc=gr,Gl(ze),sr&4&&er!==null&&er.memoizedState.isDehydrated)try{xA(Ge.containerInfo)}catch(ni){Ca(ze,ze.return,ni)}pd&&(pd=!1,rA(ze));break;case 4:sr=Lc,Lc=HA(ze.stateNode.containerInfo),Pl(Ge,ze),Gl(ze),Lc=sr;break;case 12:Pl(Ge,ze),Gl(ze);break;case 13:Pl(Ge,ze),Gl(ze),ze.child.flags&8192&&ze.memoizedState!==null!=(er!==null&&er.memoizedState!==null)&&(hr=Rn()),sr&4&&(sr=ze.updateQueue,sr!==null&&(ze.updateQueue=null,eA(ze,sr)));break;case 22:gr=ze.memoizedState!==null;var wn=er!==null&&er.memoizedState!==null,Xn=Lu,fi=Di;if(Lu=Xn||gr,Di=fi||wn,Pl(Ge,ze),Di=fi,Lu=Xn,Gl(ze),sr&8192)e:for(Ge=ze.stateNode,Ge._visibility=gr?Ge._visibility&-2:Ge._visibility|1,gr&&(er===null||wn||Lu||Di||$u(ze)),er=null,Ge=ze;;){if(Ge.tag===5||Ge.tag===26){if(er===null){wn=er=Ge;try{if(Sr=wn.stateNode,gr)Hr=Sr.style,typeof Hr.setProperty=="function"?Hr.setProperty("display","none","important"):Hr.display="none";else{rn=wn.stateNode;var bi=wn.memoizedProps.style,Zn=bi!=null&&bi.hasOwnProperty("display")?bi.display:null;rn.style.display=Zn==null||typeof Zn=="boolean"?"":(""+Zn).trim()}}catch(ni){Ca(wn,wn.return,ni)}}}else if(Ge.tag===6){if(er===null){wn=Ge;try{wn.stateNode.nodeValue=gr?"":wn.memoizedProps}catch(ni){Ca(wn,wn.return,ni)}}}else if((Ge.tag!==22&&Ge.tag!==23||Ge.memoizedState===null||Ge===ze)&&Ge.child!==null){Ge.child.return=Ge,Ge=Ge.child;continue}if(Ge===ze)break e;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===ze)break e;er===Ge&&(er=null),Ge=Ge.return}er===Ge&&(er=null),Ge.sibling.return=Ge.return,Ge=Ge.sibling}sr&4&&(sr=ze.updateQueue,sr!==null&&(er=sr.retryQueue,er!==null&&(sr.retryQueue=null,eA(ze,er))));break;case 19:Pl(Ge,ze),Gl(ze),sr&4&&(sr=ze.updateQueue,sr!==null&&(ze.updateQueue=null,eA(ze,sr)));break;case 30:break;case 21:break;default:Pl(Ge,ze),Gl(ze)}}function Gl(ze){var Ge=ze.flags;if(Ge&2){try{for(var er,sr=ze.return;sr!==null;){if(NA(sr)){er=sr;break}sr=sr.return}if(er==null)throw Error(Be(160));switch(er.tag){case 27:var gr=er.stateNode,Sr=Zh(ze);Sh(ze,Sr,gr);break;case 5:var Hr=er.stateNode;er.flags&32&&(Qo(Hr,""),er.flags&=-33);var rn=Zh(ze);Sh(ze,rn,Hr);break;case 3:case 4:var wn=er.stateNode.containerInfo,Xn=Zh(ze);qf(ze,Xn,wn);break;default:throw Error(Be(161))}}catch(fi){Ca(ze,ze.return,fi)}ze.flags&=-3}Ge&4096&&(ze.flags&=-4097)}function rA(ze){if(ze.subtreeFlags&1024)for(ze=ze.child;ze!==null;){var Ge=ze;rA(Ge),Ge.tag===5&&Ge.flags&1024&&Ge.stateNode.reset(),ze=ze.sibling}}function Uu(ze,Ge){if(Ge.subtreeFlags&8772)for(Ge=Ge.child;Ge!==null;)Ys(ze,Ge.alternate,Ge),Ge=Ge.sibling}function $u(ze){for(ze=ze.child;ze!==null;){var Ge=ze;switch(Ge.tag){case 0:case 11:case 14:case 15:Mu(4,Ge,Ge.return),$u(Ge);break;case 1:au(Ge,Ge.return);var er=Ge.stateNode;typeof er.componentWillUnmount=="function"&&IA(Ge,Ge.return,er),$u(Ge);break;case 27:uA(Ge.stateNode);case 26:case 5:au(Ge,Ge.return),$u(Ge);break;case 22:Ge.memoizedState===null&&$u(Ge);break;case 30:$u(Ge);break;default:$u(Ge)}ze=ze.sibling}}function Vu(ze,Ge,er){for(er=er&&(Ge.subtreeFlags&8772)!==0,Ge=Ge.child;Ge!==null;){var sr=Ge.alternate,gr=ze,Sr=Ge,Hr=Sr.flags;switch(Sr.tag){case 0:case 11:case 15:Vu(gr,Sr,er),Qd(4,Sr);break;case 1:if(Vu(gr,Sr,er),sr=Sr,gr=sr.stateNode,typeof gr.componentDidMount=="function")try{gr.componentDidMount()}catch(Xn){Ca(sr,sr.return,Xn)}if(sr=Sr,gr=sr.updateQueue,gr!==null){var rn=sr.stateNode;try{var wn=gr.shared.hiddenCallbacks;if(wn!==null)for(gr.shared.hiddenCallbacks=null,gr=0;gr<wn.length;gr++)Vs(wn[gr],rn)}catch(Xn){Ca(sr,sr.return,Xn)}}er&&Hr&64&&PA(Sr),Af(Sr,Sr.return);break;case 27:Rh(Sr);case 26:case 5:Vu(gr,Sr,er),er&&sr===null&&Hr&4&&BA(Sr),Af(Sr,Sr.return);break;case 12:Vu(gr,Sr,er);break;case 13:Vu(gr,Sr,er),er&&Hr&4&&Xf(gr,Sr);break;case 22:Sr.memoizedState===null&&Vu(gr,Sr,er),Af(Sr,Sr.return);break;case 30:break;default:Vu(gr,Sr,er)}Ge=Ge.sibling}}function nA(ze,Ge){var er=null;ze!==null&&ze.memoizedState!==null&&ze.memoizedState.cachePool!==null&&(er=ze.memoizedState.cachePool.pool),ze=null,Ge.memoizedState!==null&&Ge.memoizedState.cachePool!==null&&(ze=Ge.memoizedState.cachePool.pool),ze!==er&&(ze!=null&&ze.refCount++,er!=null&&Td(er))}function Ch(ze,Ge){ze=null,Ge.alternate!==null&&(ze=Ge.alternate.memoizedState.cache),Ge=Ge.memoizedState.cache,Ge!==ze&&(Ge.refCount++,ze!=null&&Td(ze))}function ou(ze,Ge,er,sr){if(Ge.subtreeFlags&10256)for(Ge=Ge.child;Ge!==null;)FA(ze,Ge,er,sr),Ge=Ge.sibling}function FA(ze,Ge,er,sr){var gr=Ge.flags;switch(Ge.tag){case 0:case 11:case 15:ou(ze,Ge,er,sr),gr&2048&&Qd(9,Ge);break;case 1:ou(ze,Ge,er,sr);break;case 3:ou(ze,Ge,er,sr),gr&2048&&(ze=null,Ge.alternate!==null&&(ze=Ge.alternate.memoizedState.cache),Ge=Ge.memoizedState.cache,Ge!==ze&&(Ge.refCount++,ze!=null&&Td(ze)));break;case 12:if(gr&2048){ou(ze,Ge,er,sr),ze=Ge.stateNode;try{var Sr=Ge.memoizedProps,Hr=Sr.id,rn=Sr.onPostCommit;typeof rn=="function"&&rn(Hr,Ge.alternate===null?"mount":"update",ze.passiveEffectDuration,-0)}catch(wn){Ca(Ge,Ge.return,wn)}}else ou(ze,Ge,er,sr);break;case 13:ou(ze,Ge,er,sr);break;case 23:break;case 22:Sr=Ge.stateNode,Hr=Ge.alternate,Ge.memoizedState!==null?Sr._visibility&2?ou(ze,Ge,er,sr):md(ze,Ge):Sr._visibility&2?ou(ze,Ge,er,sr):(Sr._visibility|=2,pf(ze,Ge,er,sr,(Ge.subtreeFlags&10256)!==0)),gr&2048&&nA(Hr,Ge);break;case 24:ou(ze,Ge,er,sr),gr&2048&&Ch(Ge.alternate,Ge);break;default:ou(ze,Ge,er,sr)}}function pf(ze,Ge,er,sr,gr){for(gr=gr&&(Ge.subtreeFlags&10256)!==0,Ge=Ge.child;Ge!==null;){var Sr=ze,Hr=Ge,rn=er,wn=sr,Xn=Hr.flags;switch(Hr.tag){case 0:case 11:case 15:pf(Sr,Hr,rn,wn,gr),Qd(8,Hr);break;case 23:break;case 22:var fi=Hr.stateNode;Hr.memoizedState!==null?fi._visibility&2?pf(Sr,Hr,rn,wn,gr):md(Sr,Hr):(fi._visibility|=2,pf(Sr,Hr,rn,wn,gr)),gr&&Xn&2048&&nA(Hr.alternate,Hr);break;case 24:pf(Sr,Hr,rn,wn,gr),gr&&Xn&2048&&Ch(Hr.alternate,Hr);break;default:pf(Sr,Hr,rn,wn,gr)}Ge=Ge.sibling}}function md(ze,Ge){if(Ge.subtreeFlags&10256)for(Ge=Ge.child;Ge!==null;){var er=ze,sr=Ge,gr=sr.flags;switch(sr.tag){case 22:md(er,sr),gr&2048&&nA(sr.alternate,sr);break;case 24:md(er,sr),gr&2048&&Ch(sr.alternate,sr);break;default:md(er,sr)}Ge=Ge.sibling}}var rl=8192;function zd(ze){if(ze.subtreeFlags&rl)for(ze=ze.child;ze!==null;)Jf(ze),ze=ze.sibling}function Jf(ze){switch(ze.tag){case 26:zd(ze),ze.flags&rl&&ze.memoizedState!==null&&Ym(Lc,ze.memoizedState,ze.memoizedProps);break;case 5:zd(ze);break;case 3:case 4:var Ge=Lc;Lc=HA(ze.stateNode.containerInfo),zd(ze),Lc=Ge;break;case 22:ze.memoizedState===null&&(Ge=ze.alternate,Ge!==null&&Ge.memoizedState!==null?(Ge=rl,rl=16777216,zd(ze),rl=Ge):zd(ze));break;default:zd(ze)}}function kA(ze){var Ge=ze.alternate;if(Ge!==null&&(ze=Ge.child,ze!==null)){Ge.child=null;do Ge=ze.sibling,ze.sibling=null,ze=Ge;while(ze!==null)}}function Zf(ze){var Ge=ze.deletions;if((ze.flags&16)!==0){if(Ge!==null)for(var er=0;er<Ge.length;er++){var sr=Ge[er];sa=sr,eh(sr,ze)}kA(ze)}if(ze.subtreeFlags&10256)for(ze=ze.child;ze!==null;)Th(ze),ze=ze.sibling}function Th(ze){switch(ze.tag){case 0:case 11:case 15:Zf(ze),ze.flags&2048&&Mu(9,ze,ze.return);break;case 3:Zf(ze);break;case 12:Zf(ze);break;case 22:var Ge=ze.stateNode;ze.memoizedState!==null&&Ge._visibility&2&&(ze.return===null||ze.return.tag!==13)?(Ge._visibility&=-3,Hu(ze)):Zf(ze);break;default:Zf(ze)}}function Hu(ze){var Ge=ze.deletions;if((ze.flags&16)!==0){if(Ge!==null)for(var er=0;er<Ge.length;er++){var sr=Ge[er];sa=sr,eh(sr,ze)}kA(ze)}for(ze=ze.child;ze!==null;){switch(Ge=ze,Ge.tag){case 0:case 11:case 15:Mu(8,Ge,Ge.return),Hu(Ge);break;case 22:er=Ge.stateNode,er._visibility&2&&(er._visibility&=-3,Hu(Ge));break;default:Hu(Ge)}ze=ze.sibling}}function eh(ze,Ge){for(;sa!==null;){var er=sa;switch(er.tag){case 0:case 11:case 15:Mu(8,er,Ge);break;case 23:case 22:if(er.memoizedState!==null&&er.memoizedState.cachePool!==null){var sr=er.memoizedState.cachePool.pool;sr!=null&&sr.refCount++}break;case 24:Td(er.memoizedState.cache)}if(sr=er.child,sr!==null)sr.return=er,sa=sr;else e:for(er=ze;sa!==null;){sr=sa;var gr=sr.sibling,Sr=sr.return;if(Ra(sr),sr===er){sa=null;break e}if(gr!==null){gr.return=Sr,sa=gr;break e}sa=Sr}}}var ap={getCacheForType:function(ze){var Ge=qa(Ya),er=Ge.data.get(ze);return er===void 0&&(er=ze(),Ge.data.set(ze,er)),er}},mf=typeof WeakMap=="function"?WeakMap:Map,aa=0,ga=null,Is=null,Hs=0,ea=0,ql=null,gd=!1,gf=!1,iA=!1,Qu=0,Qa=0,xd=0,Wd=0,sA=0,Ac=0,xf=0,th=null,Il=null,aA=!1,hr=0,ur=1/0,pr=null,Ar=null,Nr=0,Vr=null,Xr=null,un=0,dn=0,Tn=null,Nn=null,$n=0,li=null;function Qi(){if((aa&2)!==0&&Hs!==0)return Hs&-Hs;if(vr.T!==null){var ze=_u;return ze!==0?ze:up()}return oa()}function Oi(){Ac===0&&(Ac=(Hs&536870912)===0||zs?Ni():536870912);var ze=Kl.current;return ze!==null&&(ze.flags|=32),Ac}function Mi(ze,Ge,er){(ze===ga&&(ea===2||ea===9)||ze.cancelPendingCommit!==null)&&(Wi(ze,0),js(ze,Hs,Ac,!1)),ki(ze,er),((aa&2)===0||ze!==ga)&&(ze===ga&&((aa&2)===0&&(Wd|=er),Qa===4&&js(ze,Hs,Ac,!1)),wd(ze))}function vs(ze,Ge,er){if((aa&6)!==0)throw Error(Be(327));var sr=!er&&(Ge&124)===0&&(Ge&ze.expiredLanes)===0||jn(ze,Ge),gr=sr?ua(ze,Ge):nl(ze,Ge,!0),Sr=sr;do{if(gr===0){gf&&!sr&&js(ze,Ge,0,!1);break}else{if(er=ze.current.alternate,Sr&&!qi(er)){gr=nl(ze,Ge,!1),Sr=!1;continue}if(gr===2){if(Sr=Ge,ze.errorRecoveryDisabledLanes&Sr)var Hr=0;else Hr=ze.pendingLanes&-536870913,Hr=Hr!==0?Hr:Hr&536870912?536870912:0;if(Hr!==0){Ge=Hr;e:{var rn=ze;gr=th;var wn=rn.current.memoizedState.isDehydrated;if(wn&&(Wi(rn,Hr).flags|=256),Hr=nl(rn,Hr,!1),Hr!==2){if(iA&&!wn){rn.errorRecoveryDisabledLanes|=Sr,Wd|=Sr,gr=4;break e}Sr=Il,Il=gr,Sr!==null&&(Il===null?Il=Sr:Il.push.apply(Il,Sr))}gr=Hr}if(Sr=!1,gr!==2)continue}}if(gr===1){Wi(ze,0),js(ze,Ge,0,!0);break}e:{switch(sr=ze,Sr=gr,Sr){case 0:case 1:throw Error(Be(345));case 4:if((Ge&4194048)!==Ge)break;case 6:js(sr,Ge,Ac,!gd);break e;case 2:Il=null;break;case 3:case 5:break;default:throw Error(Be(329))}if((Ge&62914560)===Ge&&(gr=hr+300-Rn(),10<gr)){if(js(sr,Ge,Ac,!gd),yi(sr,0,!0)!==0)break e;sr.timeoutHandle=Gp(Xi.bind(null,sr,er,Il,pr,aA,Ge,Ac,Wd,xf,gd,Sr,2,-0,0),gr);break e}Xi(sr,er,Il,pr,aA,Ge,Ac,Wd,xf,gd,Sr,0,-0,0)}}break}while(!0);wd(ze)}function Xi(ze,Ge,er,sr,gr,Sr,Hr,rn,wn,Xn,fi,bi,Zn,ni){if(ze.timeoutHandle=-1,bi=Ge.subtreeFlags,(bi&8192||(bi&16785408)===16785408)&&(hA={stylesheets:null,count:0,unsuspend:qm},Jf(Ge),bi=Xm(),bi!==null)){ze.cancelPendingCommit=bi(Wu.bind(null,ze,Ge,Sr,er,sr,gr,Hr,rn,wn,fi,1,Zn,ni)),js(ze,Sr,Hr,!Xn);return}Wu(ze,Ge,Sr,er,sr,gr,Hr,rn,wn)}function qi(ze){for(var Ge=ze;;){var er=Ge.tag;if((er===0||er===11||er===15)&&Ge.flags&16384&&(er=Ge.updateQueue,er!==null&&(er=er.stores,er!==null)))for(var sr=0;sr<er.length;sr++){var gr=er[sr],Sr=gr.getSnapshot;gr=gr.value;try{if(!da(Sr(),gr))return!1}catch{return!1}}if(er=Ge.child,Ge.subtreeFlags&16384&&er!==null)er.return=Ge,Ge=er;else{if(Ge===ze)break;for(;Ge.sibling===null;){if(Ge.return===null||Ge.return===ze)return!0;Ge=Ge.return}Ge.sibling.return=Ge.return,Ge=Ge.sibling}}return!0}function js(ze,Ge,er,sr){Ge&=~sA,Ge&=~Wd,ze.suspendedLanes|=Ge,ze.pingedLanes&=~Ge,sr&&(ze.warmLanes|=Ge),sr=ze.expirationTimes;for(var gr=Ge;0<gr;){var Sr=31-wi(gr),Hr=1<<Sr;sr[Sr]=-1,gr&=~Hr}er!==0&&hi(ze,er,Ge)}function xs(){return(aa&6)===0?(oA(0),!1):!0}function cs(){if(Is!==null){if(ea===0)var ze=Is.return;else ze=Is,Bc=mo=null,tf(ze),Iu=null,$f=0,ze=Is;for(;ze!==null;)Eh(ze.alternate,ze),ze=ze.return;Is=null}}function Wi(ze,Ge){var er=ze.timeoutHandle;er!==-1&&(ze.timeoutHandle=-1,Bm(er)),er=ze.cancelPendingCommit,er!==null&&(ze.cancelPendingCommit=null,er()),cs(),ga=ze,Is=er=Uo(ze.current,null),Hs=Ge,ea=0,ql=null,gd=!1,gf=jn(ze,Ge),iA=!1,xf=Ac=sA=Wd=xd=Qa=0,Il=th=null,aA=!1,(Ge&8)!==0&&(Ge|=Ge&32);var sr=ze.entangledLanes;if(sr!==0)for(ze=ze.entanglements,sr&=Ge;0<sr;){var gr=31-wi(sr),Sr=1<<gr;Ge|=ze[gr],sr&=~Sr}return Qu=Ge,_l(),er}function Ls(ze,Ge){ns=null,vr.H=ph,Ge===Yr||Ge===tn?(Ge=kn(),ea=3):Ge===Jr?(Ge=kn(),ea=4):ea=Ge===Wh?8:Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"?6:1,ql=Ge,Is===null&&(Qa=1,zf(ze,Es(Ge,ze.current)))}function Us(){var ze=vr.H;return vr.H=ph,ze===null?ph:ze}function ps(){var ze=vr.A;return vr.A=ap,ze}function za(){Qa=4,gd||(Hs&4194048)!==Hs&&Kl.current!==null||(gf=!0),(xd&134217727)===0&&(Wd&134217727)===0||ga===null||js(ga,Hs,Ac,!1)}function nl(ze,Ge,er){var sr=aa;aa|=2;var gr=Us(),Sr=ps();(ga!==ze||Hs!==Ge)&&(pr=null,Wi(ze,Ge)),Ge=!1;var Hr=Qa;e:do try{if(ea!==0&&Is!==null){var rn=Is,wn=ql;switch(ea){case 8:cs(),Hr=6;break e;case 3:case 2:case 9:case 6:Kl.current===null&&(Ge=!0);var Xn=ea;if(ea=0,ql=null,bo(ze,rn,wn,Xn),er&&gf){Hr=0;break e}break;default:Xn=ea,ea=0,ql=null,bo(ze,rn,wn,Xn)}}Yl(),Hr=Qa;break}catch(fi){Ls(ze,fi)}while(!0);return Ge&&ze.shellSuspendCounter++,Bc=mo=null,aa=sr,vr.H=gr,vr.A=Sr,Is===null&&(ga=null,Hs=0,_l()),Hr}function Yl(){for(;Is!==null;)zu(Is)}function ua(ze,Ge){var er=aa;aa|=2;var sr=Us(),gr=ps();ga!==ze||Hs!==Ge?(pr=null,ur=Rn()+500,Wi(ze,Ge)):gf=jn(ze,Ge);e:do try{if(ea!==0&&Is!==null){Ge=Is;var Sr=ql;t:switch(ea){case 1:ea=0,ql=null,bo(ze,Ge,Sr,1);break;case 2:case 9:if(An(Sr)){ea=0,ql=null,ul(Ge);break}Ge=function(){ea!==2&&ea!==9||ga!==ze||(ea=7),wd(ze)},Sr.then(Ge,Ge);break e;case 3:ea=7;break e;case 4:ea=5;break e;case 7:An(Sr)?(ea=0,ql=null,ul(Ge)):(ea=0,ql=null,bo(ze,Ge,Sr,7));break;case 5:var Hr=null;switch(Is.tag){case 26:Hr=Is.memoizedState;case 5:case 27:var rn=Is;if(!Hr||am(Hr)){ea=0,ql=null;var wn=rn.sibling;if(wn!==null)Is=wn;else{var Xn=rn.return;Xn!==null?(Is=Xn,lu(Xn)):Is=null}break t}}ea=0,ql=null,bo(ze,Ge,Sr,5);break;case 6:ea=0,ql=null,bo(ze,Ge,Sr,6);break;case 8:cs(),Qa=6;break e;default:throw Error(Be(462))}}Ho();break}catch(fi){Ls(ze,fi)}while(!0);return Bc=mo=null,vr.H=sr,vr.A=gr,aa=er,Is!==null?0:(ga=null,Hs=0,_l(),Qa)}function Ho(){for(;Is!==null&&!yn();)zu(Is)}function zu(ze){var Ge=jA(ze.alternate,ze,Qu);ze.memoizedProps=ze.pendingProps,Ge===null?lu(ze):Is=Ge}function ul(ze){var Ge=ze,er=Ge.alternate;switch(Ge.tag){case 15:case 0:Ge=$d(er,Ge,Ge.pendingProps,Ge.type,void 0,Hs);break;case 11:Ge=$d(er,Ge,Ge.pendingProps,Ge.type.render,Ge.ref,Hs);break;case 5:tf(Ge);default:Eh(er,Ge),Ge=Is=Sd(Ge,Qu),Ge=jA(er,Ge,Qu)}ze.memoizedProps=ze.pendingProps,Ge===null?lu(ze):Is=Ge}function bo(ze,Ge,er,sr){Bc=mo=null,tf(Ge),Iu=null,$f=0;var gr=Ge.return;try{if(RA(ze,gr,Ge,er,Hs)){Qa=1,zf(ze,Es(er,ze.current)),Is=null;return}}catch(Sr){if(gr!==null)throw Is=gr,Sr;Qa=1,zf(ze,Es(er,ze.current)),Is=null;return}Ge.flags&32768?(zs||sr===1?ze=!0:gf||(Hs&536870912)!==0?ze=!1:(gd=ze=!0,(sr===2||sr===9||sr===3||sr===6)&&(sr=Kl.current,sr!==null&&sr.tag===13&&(sr.flags|=16384))),Uc(Ge,ze)):lu(Ge)}function lu(ze){var Ge=ze;do{if((Ge.flags&32768)!==0){Uc(Ge,gd);return}ze=Ge.return;var er=rp(Ge.alternate,Ge,Qu);if(er!==null){Is=er;return}if(Ge=Ge.sibling,Ge!==null){Is=Ge;return}Is=Ge=ze}while(Ge!==null);Qa===0&&(Qa=5)}function Uc(ze,Ge){do{var er=np(ze.alternate,ze);if(er!==null){er.flags&=32767,Is=er;return}if(er=ze.return,er!==null&&(er.flags|=32768,er.subtreeFlags=0,er.deletions=null),!Ge&&(ze=ze.sibling,ze!==null)){Is=ze;return}Is=ze=er}while(ze!==null);Qa=6,Is=null}function Wu(ze,Ge,er,sr,gr,Sr,Hr,rn,wn){ze.cancelPendingCommit=null;do pc();while(Nr!==0);if((aa&6)!==0)throw Error(Be(327));if(Ge!==null){if(Ge===ze.current)throw Error(Be(177));if(Sr=Ge.lanes|Ge.childLanes,Sr|=pa,Ai(ze,er,Sr,Hr,rn,wn),ze===ga&&(Is=ga=null,Hs=0),Xr=Ge,Vr=ze,un=er,dn=Sr,Tn=gr,Nn=sr,(Ge.subtreeFlags&10256)!==0||(Ge.flags&10256)!==0?(ze.callbackNode=null,ze.callbackPriority=0,bm(ei,function(){return Kd(),null})):(ze.callbackNode=null,ze.callbackPriority=0),sr=(Ge.flags&13878)!==0,(Ge.subtreeFlags&13878)!==0||sr){sr=vr.T,vr.T=null,gr=Tr.p,Tr.p=2,Hr=aa,aa|=4;try{ip(ze,Ge,er)}finally{aa=Hr,Tr.p=gr,vr.T=sr}}Nr=1,vd(),yd(),cu()}}function vd(){if(Nr===1){Nr=0;var ze=Vr,Ge=Xr,er=(Ge.flags&13878)!==0;if((Ge.subtreeFlags&13878)!==0||er){er=vr.T,vr.T=null;var sr=Tr.p;Tr.p=2;var gr=aa;aa|=4;try{tA(Ge,ze);var Sr=xp,Hr=Io(ze.containerInfo),rn=Sr.focusedElem,wn=Sr.selectionRange;if(Hr!==rn&&rn&&rn.ownerDocument&&Ec(rn.ownerDocument.documentElement,rn)){if(wn!==null&&Ka(rn)){var Xn=wn.start,fi=wn.end;if(fi===void 0&&(fi=Xn),"selectionStart"in rn)rn.selectionStart=Xn,rn.selectionEnd=Math.min(fi,rn.value.length);else{var bi=rn.ownerDocument||document,Zn=bi&&bi.defaultView||window;if(Zn.getSelection){var ni=Zn.getSelection(),ms=rn.textContent.length,us=Math.min(wn.start,ms),va=wn.end===void 0?us:Math.min(wn.end,ms);!ni.extend&&us>va&&(Hr=va,va=us,us=Hr);var Ln=Po(rn,us),Pn=Po(rn,va);if(Ln&&Pn&&(ni.rangeCount!==1||ni.anchorNode!==Ln.node||ni.anchorOffset!==Ln.offset||ni.focusNode!==Pn.node||ni.focusOffset!==Pn.offset)){var Kn=bi.createRange();Kn.setStart(Ln.node,Ln.offset),ni.removeAllRanges(),us>va?(ni.addRange(Kn),ni.extend(Pn.node,Pn.offset)):(Kn.setEnd(Pn.node,Pn.offset),ni.addRange(Kn))}}}}for(bi=[],ni=rn;ni=ni.parentNode;)ni.nodeType===1&&bi.push({element:ni,left:ni.scrollLeft,top:ni.scrollTop});for(typeof rn.focus=="function"&&rn.focus(),rn=0;rn<bi.length;rn++){var gi=bi[rn];gi.element.scrollLeft=gi.left,gi.element.scrollTop=gi.top}}GA=!!gp,xp=gp=null}finally{aa=gr,Tr.p=sr,vr.T=er}}ze.current=Ge,Nr=2}}function yd(){if(Nr===2){Nr=0;var ze=Vr,Ge=Xr,er=(Ge.flags&8772)!==0;if((Ge.subtreeFlags&8772)!==0||er){er=vr.T,vr.T=null;var sr=Tr.p;Tr.p=2;var gr=aa;aa|=4;try{Ys(ze,Ge.alternate,Ge)}finally{aa=gr,Tr.p=sr,vr.T=er}}Nr=3}}function cu(){if(Nr===4||Nr===3){Nr=0,Zr();var ze=Vr,Ge=Xr,er=un,sr=Nn;(Ge.subtreeFlags&10256)!==0||(Ge.flags&10256)!==0?Nr=5:(Nr=0,Xr=Vr=null,bd(ze,ze.pendingLanes));var gr=ze.pendingLanes;if(gr===0&&(Ar=null),ds(er),Ge=Ge.stateNode,Ti&&typeof Ti.onCommitFiberRoot=="function")try{Ti.onCommitFiberRoot(Si,Ge,void 0,(Ge.current.flags&128)===128)}catch{}if(sr!==null){Ge=vr.T,gr=Tr.p,Tr.p=2,vr.T=null;try{for(var Sr=ze.onRecoverableError,Hr=0;Hr<sr.length;Hr++){var rn=sr[Hr];Sr(rn.value,{componentStack:rn.stack})}}finally{vr.T=Ge,Tr.p=gr}}(un&3)!==0&&pc(),wd(ze),gr=ze.pendingLanes,(er&4194090)!==0&&(gr&42)!==0?ze===li?$n++:($n=0,li=ze):$n=0,oA(0)}}function bd(ze,Ge){(ze.pooledCacheLanes&=Ge)===0&&(Ge=ze.pooledCache,Ge!=null&&(ze.pooledCache=null,Td(Ge)))}function pc(ze){return vd(),yd(),cu(),Kd()}function Kd(){if(Nr!==5)return!1;var ze=Vr,Ge=dn;dn=0;var er=ds(un),sr=vr.T,gr=Tr.p;try{Tr.p=32>er?32:er,vr.T=null,er=Tn,Tn=null;var Sr=Vr,Hr=un;if(Nr=0,Xr=Vr=null,un=0,(aa&6)!==0)throw Error(Be(331));var rn=aa;if(aa|=4,Th(Sr.current),FA(Sr,Sr.current,Hr,er),aa=rn,oA(0,!1),Ti&&typeof Ti.onPostCommitFiberRoot=="function")try{Ti.onPostCommitFiberRoot(Si,Sr)}catch{}return!0}finally{Tr.p=gr,vr.T=sr,bd(ze,Ge)}}function vf(ze,Ge,er){Ge=Es(er,Ge),Ge=zh(ze.stateNode,Ge,2),ze=mi(ze,Ge,2),ze!==null&&(ki(ze,2),wd(ze))}function Ca(ze,Ge,er){if(ze.tag===3)vf(ze,ze,er);else for(;Ge!==null;){if(Ge.tag===3){vf(Ge,ze,er);break}else if(Ge.tag===1){var sr=Ge.stateNode;if(typeof Ge.type.getDerivedStateFromError=="function"||typeof sr.componentDidCatch=="function"&&(Ar===null||!Ar.has(sr))){ze=Es(er,ze),er=Wf(2),sr=mi(Ge,er,2),sr!==null&&(Kf(er,sr,Ge,ze),ki(sr,2),wd(sr));break}}Ge=Ge.return}}function op(ze,Ge,er){var sr=ze.pingCache;if(sr===null){sr=ze.pingCache=new mf;var gr=new Set;sr.set(Ge,gr)}else gr=sr.get(Ge),gr===void 0&&(gr=new Set,sr.set(Ge,gr));gr.has(er)||(iA=!0,gr.add(er),ze=xm.bind(null,ze,Ge,er),Ge.then(ze,ze))}function xm(ze,Ge,er){var sr=ze.pingCache;sr!==null&&sr.delete(Ge),ze.pingedLanes|=ze.suspendedLanes&er,ze.warmLanes&=~er,ga===ze&&(Hs&er)===er&&(Qa===4||Qa===3&&(Hs&62914560)===Hs&&300>Rn()-hr?(aa&2)===0&&Wi(ze,0):sA|=er,xf===Hs&&(xf=0)),wd(ze)}function Dp(ze,Ge){Ge===0&&(Ge=xi()),ze=Cc(ze,Ge),ze!==null&&(ki(ze,Ge),wd(ze))}function vm(ze){var Ge=ze.memoizedState,er=0;Ge!==null&&(er=Ge.retryLane),Dp(ze,er)}function ym(ze,Ge){var er=0;switch(ze.tag){case 13:var sr=ze.stateNode,gr=ze.memoizedState;gr!==null&&(er=gr.retryLane);break;case 19:sr=ze.stateNode;break;case 22:sr=ze.stateNode._retryCache;break;default:throw Error(Be(314))}sr!==null&&sr.delete(Ge),Dp(ze,er)}function bm(ze,Ge){return bn(ze,Ge)}var OA=null,jh=null,lp=!1,MA=!1,cp=!1,rh=0;function wd(ze){ze!==jh&&ze.next===null&&(jh===null?OA=jh=ze:jh=jh.next=ze),MA=!0,lp||(lp=!0,_m())}function oA(ze,Ge){if(!cp&&MA){cp=!0;do for(var er=!1,sr=OA;sr!==null;){if(ze!==0){var gr=sr.pendingLanes;if(gr===0)var Sr=0;else{var Hr=sr.suspendedLanes,rn=sr.pingedLanes;Sr=(1<<31-wi(42|ze)+1)-1,Sr&=gr&~(Hr&~rn),Sr=Sr&201326741?Sr&201326741|1:Sr?Sr|2:0}Sr!==0&&(er=!0,Mp(sr,Sr))}else Sr=Hs,Sr=yi(sr,sr===ga?Sr:0,sr.cancelPendingCommit!==null||sr.timeoutHandle!==-1),(Sr&3)===0||jn(sr,Sr)||(er=!0,Mp(sr,Sr));sr=sr.next}while(er);cp=!1}}function wm(){Fp()}function Fp(){MA=lp=!1;var ze=0;rh!==0&&(Im()&&(ze=rh),rh=0);for(var Ge=Rn(),er=null,sr=OA;sr!==null;){var gr=sr.next,Sr=kp(sr,Ge);Sr===0?(sr.next=null,er===null?OA=gr:er.next=gr,gr===null&&(jh=er)):(er=sr,(ze!==0||(Sr&3)!==0)&&(MA=!0)),sr=gr}oA(ze)}function kp(ze,Ge){for(var er=ze.suspendedLanes,sr=ze.pingedLanes,gr=ze.expirationTimes,Sr=ze.pendingLanes&-62914561;0<Sr;){var Hr=31-wi(Sr),rn=1<<Hr,wn=gr[Hr];wn===-1?((rn&er)===0||(rn&sr)!==0)&&(gr[Hr]=vn(rn,Ge)):wn<=Ge&&(ze.expiredLanes|=rn),Sr&=~rn}if(Ge=ga,er=Hs,er=yi(ze,ze===Ge?er:0,ze.cancelPendingCommit!==null||ze.timeoutHandle!==-1),sr=ze.callbackNode,er===0||ze===Ge&&(ea===2||ea===9)||ze.cancelPendingCommit!==null)return sr!==null&&sr!==null&&hn(sr),ze.callbackNode=null,ze.callbackPriority=0;if((er&3)===0||jn(ze,er)){if(Ge=er&-er,Ge===ze.callbackPriority)return Ge;switch(sr!==null&&hn(sr),ds(er)){case 2:case 8:er=ti;break;case 32:er=ei;break;case 268435456:er=Ei;break;default:er=ei}return sr=Op.bind(null,ze),er=bn(er,sr),ze.callbackPriority=Ge,ze.callbackNode=er,Ge}return sr!==null&&sr!==null&&hn(sr),ze.callbackPriority=2,ze.callbackNode=null,2}function Op(ze,Ge){if(Nr!==0&&Nr!==5)return ze.callbackNode=null,ze.callbackPriority=0,null;var er=ze.callbackNode;if(pc()&&ze.callbackNode!==er)return null;var sr=Hs;return sr=yi(ze,ze===ga?sr:0,ze.cancelPendingCommit!==null||ze.timeoutHandle!==-1),sr===0?null:(vs(ze,sr,Ge),kp(ze,Rn()),ze.callbackNode!=null&&ze.callbackNode===er?Op.bind(null,ze):null)}function Mp(ze,Ge){if(pc())return null;vs(ze,Ge,!0)}function _m(){Nm(function(){(aa&6)!==0?bn(Yn,wm):Fp()})}function up(){return rh===0&&(rh=Ni()),rh}function Lp(ze){return ze==null||typeof ze=="symbol"||typeof ze=="boolean"?null:typeof ze=="function"?ze:al(""+ze)}function Up(ze,Ge){var er=Ge.ownerDocument.createElement("input");return er.name=Ge.name,er.value=Ge.value,ze.id&&er.setAttribute("form",ze.id),Ge.parentNode.insertBefore(er,Ge),ze=new FormData(ze),er.parentNode.removeChild(er),ze}function Em(ze,Ge,er,sr,gr){if(Ge==="submit"&&er&&er.stateNode===gr){var Sr=Lp((gr[Fs]||null).action),Hr=sr.submitter;Hr&&(Ge=(Ge=Hr[Fs]||null)?Lp(Ge.formAction):Hr.getAttribute("formAction"),Ge!==null&&(Sr=Ge,Hr=null));var rn=new Fl("action","action",null,sr,gr);ze.push({event:rn,listeners:[{instance:null,listener:function(){if(sr.defaultPrevented){if(rh!==0){var wn=Hr?Up(gr,Hr):new FormData(gr);fc(er,{pending:!0,data:wn,method:gr.method,action:Sr},null,wn)}}else typeof Sr=="function"&&(rn.preventDefault(),wn=Hr?Up(gr,Hr):new FormData(gr),fc(er,{pending:!0,data:wn,method:gr.method,action:Sr},Sr,wn))},currentTarget:gr}]})}}for(var dp=0;dp<Jc.length;dp++){var fp=Jc[dp],Sm=fp.toLowerCase(),Rm=fp[0].toUpperCase()+fp.slice(1);Ea(Sm,"on"+Rm)}Ea(pu,"onAnimationEnd"),Ea(Yc,"onAnimationIteration"),Ea(Xc,"onAnimationStart"),Ea("dblclick","onDoubleClick"),Ea("focusin","onFocus"),Ea("focusout","onBlur"),Ea(Ul,"onTransitionRun"),Ea(mu,"onTransitionStart"),Ea(gu,"onTransitionCancel"),Ea(Rc,"onTransitionEnd"),Ii("onMouseEnter",["mouseout","mouseover"]),Ii("onMouseLeave",["mouseout","mouseover"]),Ii("onPointerEnter",["pointerout","pointerover"]),Ii("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lA="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cm=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(lA));function $p(ze,Ge){Ge=(Ge&4)!==0;for(var er=0;er<ze.length;er++){var sr=ze[er],gr=sr.event;sr=sr.listeners;e:{var Sr=void 0;if(Ge)for(var Hr=sr.length-1;0<=Hr;Hr--){var rn=sr[Hr],wn=rn.instance,Xn=rn.currentTarget;if(rn=rn.listener,wn!==Sr&&gr.isPropagationStopped())break e;Sr=rn,gr.currentTarget=Xn;try{Sr(gr)}catch(fi){df(fi)}gr.currentTarget=null,Sr=wn}else for(Hr=0;Hr<sr.length;Hr++){if(rn=sr[Hr],wn=rn.instance,Xn=rn.currentTarget,rn=rn.listener,wn!==Sr&&gr.isPropagationStopped())break e;Sr=rn,gr.currentTarget=Xn;try{Sr(gr)}catch(fi){df(fi)}gr.currentTarget=null,Sr=wn}}}}function $s(ze,Ge){var er=Ge[Yi];er===void 0&&(er=Ge[Yi]=new Set);var sr=ze+"__bubble";er.has(sr)||(Vp(Ge,ze,2,!1),er.add(sr))}function hp(ze,Ge,er){var sr=0;Ge&&(sr|=4),Vp(er,ze,sr,Ge)}var LA="_reactListening"+Math.random().toString(36).slice(2);function Ap(ze){if(!ze[LA]){ze[LA]=!0,zn.forEach(function(er){er!=="selectionchange"&&(Cm.has(er)||hp(er,!1,ze),hp(er,!0,ze))});var Ge=ze.nodeType===9?ze:ze.ownerDocument;Ge===null||Ge[LA]||(Ge[LA]=!0,hp("selectionchange",!1,Ge))}}function Vp(ze,Ge,er,sr){switch(fm(Ge)){case 2:var gr=eg;break;case 8:gr=tg;break;default:gr=Tp}er=gr.bind(null,Ge,er,ze),gr=void 0,!ko||Ge!=="touchstart"&&Ge!=="touchmove"&&Ge!=="wheel"||(gr=!0),sr?gr!==void 0?ze.addEventListener(Ge,er,{capture:!0,passive:gr}):ze.addEventListener(Ge,er,!0):gr!==void 0?ze.addEventListener(Ge,er,{passive:gr}):ze.addEventListener(Ge,er,!1)}function pp(ze,Ge,er,sr,gr){var Sr=sr;if((Ge&1)===0&&(Ge&2)===0&&sr!==null)e:for(;;){if(sr===null)return;var Hr=sr.tag;if(Hr===3||Hr===4){var rn=sr.stateNode.containerInfo;if(rn===gr)break;if(Hr===4)for(Hr=sr.return;Hr!==null;){var wn=Hr.tag;if((wn===3||wn===4)&&Hr.stateNode.containerInfo===gr)return;Hr=Hr.return}for(;rn!==null;){if(Hr=mn(rn),Hr===null)return;if(wn=Hr.tag,wn===5||wn===6||wn===26||wn===27){sr=Sr=Hr;continue e}rn=rn.parentNode}}sr=sr.return}qu(function(){var Xn=Sr,fi=na(er),bi=[];e:{var Zn=sc.get(ze);if(Zn!==void 0){var ni=Fl,ms=ze;switch(ze){case"keypress":if(Ko(er)===0)break e;case"keydown":case"keyup":ni=Ol;break;case"focusin":ms="focus",ni=ol;break;case"focusout":ms="blur",ni=ol;break;case"beforeblur":case"afterblur":ni=ol;break;case"click":if(er.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ni=$a;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ni=tc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ni=Wc;break;case pu:case Yc:case Xc:ni=Qc;break;case Rc:ni=Kr;break;case"scroll":case"scrollend":ni=fu;break;case"wheel":ni=_n;break;case"copy":case"cut":case"paste":ni=kl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ni=_c;break;case"toggle":case"beforetoggle":ni=si}var us=(Ge&4)!==0,va=!us&&(ze==="scroll"||ze==="scrollend"),Ln=us?Zn!==null?Zn+"Capture":null:Zn;us=[];for(var Pn=Xn,Kn;Pn!==null;){var gi=Pn;if(Kn=gi.stateNode,gi=gi.tag,gi!==5&&gi!==26&&gi!==27||Kn===null||Ln===null||(gi=So(Pn,Ln),gi!=null&&us.push(cA(Pn,gi,Kn))),va)break;Pn=Pn.return}0<us.length&&(Zn=new ni(Zn,ms,null,er,fi),bi.push({event:Zn,listeners:us}))}}if((Ge&7)===0){e:{if(Zn=ze==="mouseover"||ze==="pointerover",ni=ze==="mouseout"||ze==="pointerout",Zn&&er!==fo&&(ms=er.relatedTarget||er.fromElement)&&(mn(ms)||ms[Xs]))break e;if((ni||Zn)&&(Zn=fi.window===fi?fi:(Zn=fi.ownerDocument)?Zn.defaultView||Zn.parentWindow:window,ni?(ms=er.relatedTarget||er.toElement,ni=Xn,ms=ms?mn(ms):null,ms!==null&&(va=Fe(ms),us=ms.tag,ms!==va||us!==5&&us!==27&&us!==6)&&(ms=null)):(ni=null,ms=Xn),ni!==ms)){if(us=$a,gi="onMouseLeave",Ln="onMouseEnter",Pn="mouse",(ze==="pointerout"||ze==="pointerover")&&(us=_c,gi="onPointerLeave",Ln="onPointerEnter",Pn="pointer"),va=ni==null?Zn:Un(ni),Kn=ms==null?Zn:Un(ms),Zn=new us(gi,Pn+"leave",ni,er,fi),Zn.target=va,Zn.relatedTarget=Kn,gi=null,mn(fi)===Xn&&(us=new us(Ln,Pn+"enter",ms,er,fi),us.target=Kn,us.relatedTarget=va,gi=us),va=gi,ni&&ms)t:{for(us=ni,Ln=ms,Pn=0,Kn=us;Kn;Kn=Ph(Kn))Pn++;for(Kn=0,gi=Ln;gi;gi=Ph(gi))Kn++;for(;0<Pn-Kn;)us=Ph(us),Pn--;for(;0<Kn-Pn;)Ln=Ph(Ln),Kn--;for(;Pn--;){if(us===Ln||Ln!==null&&us===Ln.alternate)break t;us=Ph(us),Ln=Ph(Ln)}us=null}else us=null;ni!==null&&Hp(bi,Zn,ni,us,!1),ms!==null&&va!==null&&Hp(bi,va,ms,us,!0)}}e:{if(Zn=Xn?Un(Xn):window,ni=Zn.nodeName&&Zn.nodeName.toLowerCase(),ni==="select"||ni==="input"&&Zn.type==="file")var Ji=Kc;else if(Cs(Zn))if(Go)Ji=_d;else{Ji=Ju;var Ds=Oo}else ni=Zn.nodeName,!ni||ni.toLowerCase()!=="input"||Zn.type!=="checkbox"&&Zn.type!=="radio"?Xn&&du(Xn.elementType)&&(Ji=Kc):Ji=Zu;if(Ji&&(Ji=Ji(ze,Xn))){wl(bi,Ji,er,fi);break e}Ds&&Ds(ze,Zn,Xn),ze==="focusout"&&Xn&&Zn.type==="number"&&Xn.memoizedProps.value!=null&&Jl(Zn,"number",Zn.value)}switch(Ds=Xn?Un(Xn):window,ze){case"focusin":(Cs(Ds)||Ds.contentEditable==="true")&&(qo=Ds,Lo=Xn,Ao=null);break;case"focusout":Ao=Lo=qo=null;break;case"mousedown":Ll=!0;break;case"contextmenu":case"mouseup":case"dragend":Ll=!1,ja(bi,er,fi);break;case"selectionchange":if(Sc)break;case"keydown":case"keyup":ja(bi,er,fi)}var rs;if(Vi)e:{switch(ze){case"compositionstart":var hs="onCompositionStart";break e;case"compositionend":hs="onCompositionEnd";break e;case"compositionupdate":hs="onCompositionUpdate";break e}hs=void 0}else os?Hn(ze,er)&&(hs="onCompositionEnd"):ze==="keydown"&&er.keyCode===229&&(hs="onCompositionStart");hs&&($r&&er.locale!=="ko"&&(os||hs!=="onCompositionStart"?hs==="onCompositionEnd"&&os&&(rs=Hc()):(ya=fi,gl="value"in ya?ya.value:ya.textContent,os=!0)),Ds=UA(Xn,hs),0<Ds.length&&(hs=new yc(hs,ze,null,er,fi),bi.push({event:hs,listeners:Ds}),rs?hs.data=rs:(rs=oi(er),rs!==null&&(hs.data=rs)))),(rs=Fr?_s(ze,er):As(ze,er))&&(hs=UA(Xn,"onBeforeInput"),0<hs.length&&(Ds=new yc("onBeforeInput","beforeinput",null,er,fi),bi.push({event:Ds,listeners:hs}),Ds.data=rs)),Em(bi,ze,Xn,er,fi)}$p(bi,Ge)})}function cA(ze,Ge,er){return{instance:ze,listener:Ge,currentTarget:er}}function UA(ze,Ge){for(var er=Ge+"Capture",sr=[];ze!==null;){var gr=ze,Sr=gr.stateNode;if(gr=gr.tag,gr!==5&&gr!==26&&gr!==27||Sr===null||(gr=So(ze,er),gr!=null&&sr.unshift(cA(ze,gr,Sr)),gr=So(ze,Ge),gr!=null&&sr.push(cA(ze,gr,Sr))),ze.tag===3)return sr;ze=ze.return}return[]}function Ph(ze){if(ze===null)return null;do ze=ze.return;while(ze&&ze.tag!==5&&ze.tag!==27);return ze||null}function Hp(ze,Ge,er,sr,gr){for(var Sr=Ge._reactName,Hr=[];er!==null&&er!==sr;){var rn=er,wn=rn.alternate,Xn=rn.stateNode;if(rn=rn.tag,wn!==null&&wn===sr)break;rn!==5&&rn!==26&&rn!==27||Xn===null||(wn=Xn,gr?(Xn=So(er,Sr),Xn!=null&&Hr.unshift(cA(er,Xn,wn))):gr||(Xn=So(er,Sr),Xn!=null&&Hr.push(cA(er,Xn,wn)))),er=er.return}Hr.length!==0&&ze.push({event:Ge,listeners:Hr})}var Tm=/\r\n?/g,jm=/\u0000|\uFFFD/g;function Qp(ze){return(typeof ze=="string"?ze:""+ze).replace(Tm,`
`).replace(jm,"")}function zp(ze,Ge){return Ge=Qp(Ge),Qp(ze)===Ge}function $A(){}function xa(ze,Ge,er,sr,gr,Sr){switch(er){case"children":typeof sr=="string"?Ge==="body"||Ge==="textarea"&&sr===""||Qo(ze,sr):(typeof sr=="number"||typeof sr=="bigint")&&Ge!=="body"&&Qo(ze,""+sr);break;case"className":ws(ze,"class",sr);break;case"tabIndex":ws(ze,"tabindex",sr);break;case"dir":case"role":case"viewBox":case"width":case"height":ws(ze,er,sr);break;case"style":Vc(ze,sr,Sr);break;case"data":if(Ge!=="object"){ws(ze,"data",sr);break}case"src":case"href":if(sr===""&&(Ge!=="a"||er!=="href")){ze.removeAttribute(er);break}if(sr==null||typeof sr=="function"||typeof sr=="symbol"||typeof sr=="boolean"){ze.removeAttribute(er);break}sr=al(""+sr),ze.setAttribute(er,sr);break;case"action":case"formAction":if(typeof sr=="function"){ze.setAttribute(er,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof Sr=="function"&&(er==="formAction"?(Ge!=="input"&&xa(ze,Ge,"name",gr.name,gr,null),xa(ze,Ge,"formEncType",gr.formEncType,gr,null),xa(ze,Ge,"formMethod",gr.formMethod,gr,null),xa(ze,Ge,"formTarget",gr.formTarget,gr,null)):(xa(ze,Ge,"encType",gr.encType,gr,null),xa(ze,Ge,"method",gr.method,gr,null),xa(ze,Ge,"target",gr.target,gr,null)));if(sr==null||typeof sr=="symbol"||typeof sr=="boolean"){ze.removeAttribute(er);break}sr=al(""+sr),ze.setAttribute(er,sr);break;case"onClick":sr!=null&&(ze.onclick=$A);break;case"onScroll":sr!=null&&$s("scroll",ze);break;case"onScrollEnd":sr!=null&&$s("scrollend",ze);break;case"dangerouslySetInnerHTML":if(sr!=null){if(typeof sr!="object"||!("__html"in sr))throw Error(Be(61));if(er=sr.__html,er!=null){if(gr.children!=null)throw Error(Be(60));ze.innerHTML=er}}break;case"multiple":ze.multiple=sr&&typeof sr!="function"&&typeof sr!="symbol";break;case"muted":ze.muted=sr&&typeof sr!="function"&&typeof sr!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(sr==null||typeof sr=="function"||typeof sr=="boolean"||typeof sr=="symbol"){ze.removeAttribute("xlink:href");break}er=al(""+sr),ze.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",er);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":sr!=null&&typeof sr!="function"&&typeof sr!="symbol"?ze.setAttribute(er,""+sr):ze.removeAttribute(er);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":sr&&typeof sr!="function"&&typeof sr!="symbol"?ze.setAttribute(er,""):ze.removeAttribute(er);break;case"capture":case"download":sr===!0?ze.setAttribute(er,""):sr!==!1&&sr!=null&&typeof sr!="function"&&typeof sr!="symbol"?ze.setAttribute(er,sr):ze.removeAttribute(er);break;case"cols":case"rows":case"size":case"span":sr!=null&&typeof sr!="function"&&typeof sr!="symbol"&&!isNaN(sr)&&1<=sr?ze.setAttribute(er,sr):ze.removeAttribute(er);break;case"rowSpan":case"start":sr==null||typeof sr=="function"||typeof sr=="symbol"||isNaN(sr)?ze.removeAttribute(er):ze.setAttribute(er,sr);break;case"popover":$s("beforetoggle",ze),$s("toggle",ze),gs(ze,"popover",sr);break;case"xlinkActuate":ys(ze,"http://www.w3.org/1999/xlink","xlink:actuate",sr);break;case"xlinkArcrole":ys(ze,"http://www.w3.org/1999/xlink","xlink:arcrole",sr);break;case"xlinkRole":ys(ze,"http://www.w3.org/1999/xlink","xlink:role",sr);break;case"xlinkShow":ys(ze,"http://www.w3.org/1999/xlink","xlink:show",sr);break;case"xlinkTitle":ys(ze,"http://www.w3.org/1999/xlink","xlink:title",sr);break;case"xlinkType":ys(ze,"http://www.w3.org/1999/xlink","xlink:type",sr);break;case"xmlBase":ys(ze,"http://www.w3.org/XML/1998/namespace","xml:base",sr);break;case"xmlLang":ys(ze,"http://www.w3.org/XML/1998/namespace","xml:lang",sr);break;case"xmlSpace":ys(ze,"http://www.w3.org/XML/1998/namespace","xml:space",sr);break;case"is":gs(ze,"is",sr);break;case"innerText":case"textContent":break;default:(!(2<er.length)||er[0]!=="o"&&er[0]!=="O"||er[1]!=="n"&&er[1]!=="N")&&(er=Nl.get(er)||er,gs(ze,er,sr))}}function mp(ze,Ge,er,sr,gr,Sr){switch(er){case"style":Vc(ze,sr,Sr);break;case"dangerouslySetInnerHTML":if(sr!=null){if(typeof sr!="object"||!("__html"in sr))throw Error(Be(61));if(er=sr.__html,er!=null){if(gr.children!=null)throw Error(Be(60));ze.innerHTML=er}}break;case"children":typeof sr=="string"?Qo(ze,sr):(typeof sr=="number"||typeof sr=="bigint")&&Qo(ze,""+sr);break;case"onScroll":sr!=null&&$s("scroll",ze);break;case"onScrollEnd":sr!=null&&$s("scrollend",ze);break;case"onClick":sr!=null&&(ze.onclick=$A);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qn.hasOwnProperty(er))e:{if(er[0]==="o"&&er[1]==="n"&&(gr=er.endsWith("Capture"),Ge=er.slice(2,gr?er.length-7:void 0),Sr=ze[Fs]||null,Sr=Sr!=null?Sr[er]:null,typeof Sr=="function"&&ze.removeEventListener(Ge,Sr,gr),typeof sr=="function")){typeof Sr!="function"&&Sr!==null&&(er in ze?ze[er]=null:ze.hasAttribute(er)&&ze.removeAttribute(er)),ze.addEventListener(Ge,sr,gr);break e}er in ze?ze[er]=sr:sr===!0?ze.setAttribute(er,""):gs(ze,er,sr)}}}function dl(ze,Ge,er){switch(Ge){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$s("error",ze),$s("load",ze);var sr=!1,gr=!1,Sr;for(Sr in er)if(er.hasOwnProperty(Sr)){var Hr=er[Sr];if(Hr!=null)switch(Sr){case"src":sr=!0;break;case"srcSet":gr=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,Ge));default:xa(ze,Ge,Sr,Hr,er,null)}}gr&&xa(ze,Ge,"srcSet",er.srcSet,er,null),sr&&xa(ze,Ge,"src",er.src,er,null);return;case"input":$s("invalid",ze);var rn=Sr=Hr=gr=null,wn=null,Xn=null;for(sr in er)if(er.hasOwnProperty(sr)){var fi=er[sr];if(fi!=null)switch(sr){case"name":gr=fi;break;case"type":Hr=fi;break;case"checked":wn=fi;break;case"defaultChecked":Xn=fi;break;case"value":Sr=fi;break;case"defaultValue":rn=fi;break;case"children":case"dangerouslySetInnerHTML":if(fi!=null)throw Error(Be(137,Ge));break;default:xa(ze,Ge,sr,fi,er,null)}}Xl(ze,Sr,rn,wn,Xn,Hr,gr,!1),sl(ze);return;case"select":$s("invalid",ze),sr=Hr=Sr=null;for(gr in er)if(er.hasOwnProperty(gr)&&(rn=er[gr],rn!=null))switch(gr){case"value":Sr=rn;break;case"defaultValue":Hr=rn;break;case"multiple":sr=rn;default:xa(ze,Ge,gr,rn,er,null)}Ge=Sr,er=Hr,ze.multiple=!!sr,Ge!=null?hl(ze,!!sr,Ge,!1):er!=null&&hl(ze,!!sr,er,!0);return;case"textarea":$s("invalid",ze),Sr=gr=sr=null;for(Hr in er)if(er.hasOwnProperty(Hr)&&(rn=er[Hr],rn!=null))switch(Hr){case"value":sr=rn;break;case"defaultValue":gr=rn;break;case"children":Sr=rn;break;case"dangerouslySetInnerHTML":if(rn!=null)throw Error(Be(91));break;default:xa(ze,Ge,Hr,rn,er,null)}Zl(ze,sr,gr,Sr),sl(ze);return;case"option":for(wn in er)if(er.hasOwnProperty(wn)&&(sr=er[wn],sr!=null))switch(wn){case"selected":ze.selected=sr&&typeof sr!="function"&&typeof sr!="symbol";break;default:xa(ze,Ge,wn,sr,er,null)}return;case"dialog":$s("beforetoggle",ze),$s("toggle",ze),$s("cancel",ze),$s("close",ze);break;case"iframe":case"object":$s("load",ze);break;case"video":case"audio":for(sr=0;sr<lA.length;sr++)$s(lA[sr],ze);break;case"image":$s("error",ze),$s("load",ze);break;case"details":$s("toggle",ze);break;case"embed":case"source":case"link":$s("error",ze),$s("load",ze);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Xn in er)if(er.hasOwnProperty(Xn)&&(sr=er[Xn],sr!=null))switch(Xn){case"children":case"dangerouslySetInnerHTML":throw Error(Be(137,Ge));default:xa(ze,Ge,Xn,sr,er,null)}return;default:if(du(Ge)){for(fi in er)er.hasOwnProperty(fi)&&(sr=er[fi],sr!==void 0&&mp(ze,Ge,fi,sr,er,void 0));return}}for(rn in er)er.hasOwnProperty(rn)&&(sr=er[rn],sr!=null&&xa(ze,Ge,rn,sr,er,null))}function Pm(ze,Ge,er,sr){switch(Ge){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var gr=null,Sr=null,Hr=null,rn=null,wn=null,Xn=null,fi=null;for(ni in er){var bi=er[ni];if(er.hasOwnProperty(ni)&&bi!=null)switch(ni){case"checked":break;case"value":break;case"defaultValue":wn=bi;default:sr.hasOwnProperty(ni)||xa(ze,Ge,ni,null,sr,bi)}}for(var Zn in sr){var ni=sr[Zn];if(bi=er[Zn],sr.hasOwnProperty(Zn)&&(ni!=null||bi!=null))switch(Zn){case"type":Sr=ni;break;case"name":gr=ni;break;case"checked":Xn=ni;break;case"defaultChecked":fi=ni;break;case"value":Hr=ni;break;case"defaultValue":rn=ni;break;case"children":case"dangerouslySetInnerHTML":if(ni!=null)throw Error(Be(137,Ge));break;default:ni!==bi&&xa(ze,Ge,Zn,ni,sr,bi)}}vo(ze,Hr,rn,wn,Xn,fi,Sr,gr);return;case"select":ni=Hr=rn=Zn=null;for(Sr in er)if(wn=er[Sr],er.hasOwnProperty(Sr)&&wn!=null)switch(Sr){case"value":break;case"multiple":ni=wn;default:sr.hasOwnProperty(Sr)||xa(ze,Ge,Sr,null,sr,wn)}for(gr in sr)if(Sr=sr[gr],wn=er[gr],sr.hasOwnProperty(gr)&&(Sr!=null||wn!=null))switch(gr){case"value":Zn=Sr;break;case"defaultValue":rn=Sr;break;case"multiple":Hr=Sr;default:Sr!==wn&&xa(ze,Ge,gr,Sr,sr,wn)}Ge=rn,er=Hr,sr=ni,Zn!=null?hl(ze,!!er,Zn,!1):!!sr!=!!er&&(Ge!=null?hl(ze,!!er,Ge,!0):hl(ze,!!er,er?[]:"",!1));return;case"textarea":ni=Zn=null;for(rn in er)if(gr=er[rn],er.hasOwnProperty(rn)&&gr!=null&&!sr.hasOwnProperty(rn))switch(rn){case"value":break;case"children":break;default:xa(ze,Ge,rn,null,sr,gr)}for(Hr in sr)if(gr=sr[Hr],Sr=er[Hr],sr.hasOwnProperty(Hr)&&(gr!=null||Sr!=null))switch(Hr){case"value":Zn=gr;break;case"defaultValue":ni=gr;break;case"children":break;case"dangerouslySetInnerHTML":if(gr!=null)throw Error(Be(91));break;default:gr!==Sr&&xa(ze,Ge,Hr,gr,sr,Sr)}Ws(ze,Zn,ni);return;case"option":for(var ms in er)if(Zn=er[ms],er.hasOwnProperty(ms)&&Zn!=null&&!sr.hasOwnProperty(ms))switch(ms){case"selected":ze.selected=!1;break;default:xa(ze,Ge,ms,null,sr,Zn)}for(wn in sr)if(Zn=sr[wn],ni=er[wn],sr.hasOwnProperty(wn)&&Zn!==ni&&(Zn!=null||ni!=null))switch(wn){case"selected":ze.selected=Zn&&typeof Zn!="function"&&typeof Zn!="symbol";break;default:xa(ze,Ge,wn,Zn,sr,ni)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var us in er)Zn=er[us],er.hasOwnProperty(us)&&Zn!=null&&!sr.hasOwnProperty(us)&&xa(ze,Ge,us,null,sr,Zn);for(Xn in sr)if(Zn=sr[Xn],ni=er[Xn],sr.hasOwnProperty(Xn)&&Zn!==ni&&(Zn!=null||ni!=null))switch(Xn){case"children":case"dangerouslySetInnerHTML":if(Zn!=null)throw Error(Be(137,Ge));break;default:xa(ze,Ge,Xn,Zn,sr,ni)}return;default:if(du(Ge)){for(var va in er)Zn=er[va],er.hasOwnProperty(va)&&Zn!==void 0&&!sr.hasOwnProperty(va)&&mp(ze,Ge,va,void 0,sr,Zn);for(fi in sr)Zn=sr[fi],ni=er[fi],!sr.hasOwnProperty(fi)||Zn===ni||Zn===void 0&&ni===void 0||mp(ze,Ge,fi,Zn,sr,ni);return}}for(var Ln in er)Zn=er[Ln],er.hasOwnProperty(Ln)&&Zn!=null&&!sr.hasOwnProperty(Ln)&&xa(ze,Ge,Ln,null,sr,Zn);for(bi in sr)Zn=sr[bi],ni=er[bi],!sr.hasOwnProperty(bi)||Zn===ni||Zn==null&&ni==null||xa(ze,Ge,bi,Zn,sr,ni)}var gp=null,xp=null;function VA(ze){return ze.nodeType===9?ze:ze.ownerDocument}function Wp(ze){switch(ze){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kp(ze,Ge){if(ze===0)switch(Ge){case"svg":return 1;case"math":return 2;default:return 0}return ze===1&&Ge==="foreignObject"?0:ze}function vp(ze,Ge){return ze==="textarea"||ze==="noscript"||typeof Ge.children=="string"||typeof Ge.children=="number"||typeof Ge.children=="bigint"||typeof Ge.dangerouslySetInnerHTML=="object"&&Ge.dangerouslySetInnerHTML!==null&&Ge.dangerouslySetInnerHTML.__html!=null}var yp=null;function Im(){var ze=window.event;return ze&&ze.type==="popstate"?ze===yp?!1:(yp=ze,!0):(yp=null,!1)}var Gp=typeof setTimeout=="function"?setTimeout:void 0,Bm=typeof clearTimeout=="function"?clearTimeout:void 0,qp=typeof Promise=="function"?Promise:void 0,Nm=typeof queueMicrotask=="function"?queueMicrotask:typeof qp<"u"?function(ze){return qp.resolve(null).then(ze).catch(Dm)}:Gp;function Dm(ze){setTimeout(function(){throw ze})}function yf(ze){return ze==="head"}function Yp(ze,Ge){var er=Ge,sr=0,gr=0;do{var Sr=er.nextSibling;if(ze.removeChild(er),Sr&&Sr.nodeType===8)if(er=Sr.data,er==="/$"){if(0<sr&&8>sr){er=sr;var Hr=ze.ownerDocument;if(er&1&&uA(Hr.documentElement),er&2&&uA(Hr.body),er&4)for(er=Hr.head,uA(er),Hr=er.firstChild;Hr;){var rn=Hr.nextSibling,wn=Hr.nodeName;Hr[on]||wn==="SCRIPT"||wn==="STYLE"||wn==="LINK"&&Hr.rel.toLowerCase()==="stylesheet"||er.removeChild(Hr),Hr=rn}}if(gr===0){ze.removeChild(Sr),xA(Ge);return}gr--}else er==="$"||er==="$?"||er==="$!"?gr++:sr=er.charCodeAt(0)-48;else sr=0;er=Sr}while(er);xA(Ge)}function bp(ze){var Ge=ze.firstChild;for(Ge&&Ge.nodeType===10&&(Ge=Ge.nextSibling);Ge;){var er=Ge;switch(Ge=Ge.nextSibling,er.nodeName){case"HTML":case"HEAD":case"BODY":bp(er),cn(er);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(er.rel.toLowerCase()==="stylesheet")continue}ze.removeChild(er)}}function Fm(ze,Ge,er,sr){for(;ze.nodeType===1;){var gr=er;if(ze.nodeName.toLowerCase()!==Ge.toLowerCase()){if(!sr&&(ze.nodeName!=="INPUT"||ze.type!=="hidden"))break}else if(sr){if(!ze[on])switch(Ge){case"meta":if(!ze.hasAttribute("itemprop"))break;return ze;case"link":if(Sr=ze.getAttribute("rel"),Sr==="stylesheet"&&ze.hasAttribute("data-precedence"))break;if(Sr!==gr.rel||ze.getAttribute("href")!==(gr.href==null||gr.href===""?null:gr.href)||ze.getAttribute("crossorigin")!==(gr.crossOrigin==null?null:gr.crossOrigin)||ze.getAttribute("title")!==(gr.title==null?null:gr.title))break;return ze;case"style":if(ze.hasAttribute("data-precedence"))break;return ze;case"script":if(Sr=ze.getAttribute("src"),(Sr!==(gr.src==null?null:gr.src)||ze.getAttribute("type")!==(gr.type==null?null:gr.type)||ze.getAttribute("crossorigin")!==(gr.crossOrigin==null?null:gr.crossOrigin))&&Sr&&ze.hasAttribute("async")&&!ze.hasAttribute("itemprop"))break;return ze;default:return ze}}else if(Ge==="input"&&ze.type==="hidden"){var Sr=gr.name==null?null:""+gr.name;if(gr.type==="hidden"&&ze.getAttribute("name")===Sr)return ze}else return ze;if(ze=Ku(ze.nextSibling),ze===null)break}return null}function km(ze,Ge,er){if(Ge==="")return null;for(;ze.nodeType!==3;)if((ze.nodeType!==1||ze.nodeName!=="INPUT"||ze.type!=="hidden")&&!er||(ze=Ku(ze.nextSibling),ze===null))return null;return ze}function wp(ze){return ze.data==="$!"||ze.data==="$?"&&ze.ownerDocument.readyState==="complete"}function Om(ze,Ge){var er=ze.ownerDocument;if(ze.data!=="$?"||er.readyState==="complete")Ge();else{var sr=function(){Ge(),er.removeEventListener("DOMContentLoaded",sr)};er.addEventListener("DOMContentLoaded",sr),ze._reactRetry=sr}}function Ku(ze){for(;ze!=null;ze=ze.nextSibling){var Ge=ze.nodeType;if(Ge===1||Ge===3)break;if(Ge===8){if(Ge=ze.data,Ge==="$"||Ge==="$!"||Ge==="$?"||Ge==="F!"||Ge==="F")break;if(Ge==="/$")return null}}return ze}var _p=null;function Xp(ze){ze=ze.previousSibling;for(var Ge=0;ze;){if(ze.nodeType===8){var er=ze.data;if(er==="$"||er==="$!"||er==="$?"){if(Ge===0)return ze;Ge--}else er==="/$"&&Ge++}ze=ze.previousSibling}return null}function Jp(ze,Ge,er){switch(Ge=VA(er),ze){case"html":if(ze=Ge.documentElement,!ze)throw Error(Be(452));return ze;case"head":if(ze=Ge.head,!ze)throw Error(Be(453));return ze;case"body":if(ze=Ge.body,!ze)throw Error(Be(454));return ze;default:throw Error(Be(451))}}function uA(ze){for(var Ge=ze.attributes;Ge.length;)ze.removeAttributeNode(Ge[0]);cn(ze)}var uu=new Map,Zp=new Set;function HA(ze){return typeof ze.getRootNode=="function"?ze.getRootNode():ze.nodeType===9?ze:ze.ownerDocument}var Gd=Tr.d;Tr.d={f:Mm,r:Lm,D:Um,C:$m,L:Vm,m:Hm,X:zm,S:Qm,M:Wm};function Mm(){var ze=Gd.f(),Ge=xs();return ze||Ge}function Lm(ze){var Ge=gn(ze);Ge!==null&&Ge.tag===5&&Ge.type==="form"?kd(Ge):Gd.r(ze)}var Ih=typeof document>"u"?null:document;function em(ze,Ge,er){var sr=Ih;if(sr&&typeof Ge=="string"&&Ge){var gr=ks(Ge);gr='link[rel="'+ze+'"][href="'+gr+'"]',typeof er=="string"&&(gr+='[crossorigin="'+er+'"]'),Zp.has(gr)||(Zp.add(gr),ze={rel:ze,crossOrigin:er,href:Ge},sr.querySelector(gr)===null&&(Ge=sr.createElement("link"),dl(Ge,"link",ze),Dn(Ge),sr.head.appendChild(Ge)))}}function Um(ze){Gd.D(ze),em("dns-prefetch",ze,null)}function $m(ze,Ge){Gd.C(ze,Ge),em("preconnect",ze,Ge)}function Vm(ze,Ge,er){Gd.L(ze,Ge,er);var sr=Ih;if(sr&&ze&&Ge){var gr='link[rel="preload"][as="'+ks(Ge)+'"]';Ge==="image"&&er&&er.imageSrcSet?(gr+='[imagesrcset="'+ks(er.imageSrcSet)+'"]',typeof er.imageSizes=="string"&&(gr+='[imagesizes="'+ks(er.imageSizes)+'"]')):gr+='[href="'+ks(ze)+'"]';var Sr=gr;switch(Ge){case"style":Sr=Bh(ze);break;case"script":Sr=Nh(ze)}uu.has(Sr)||(ze=$e({rel:"preload",href:Ge==="image"&&er&&er.imageSrcSet?void 0:ze,as:Ge},er),uu.set(Sr,ze),sr.querySelector(gr)!==null||Ge==="style"&&sr.querySelector(dA(Sr))||Ge==="script"&&sr.querySelector(fA(Sr))||(Ge=sr.createElement("link"),dl(Ge,"link",ze),Dn(Ge),sr.head.appendChild(Ge)))}}function Hm(ze,Ge){Gd.m(ze,Ge);var er=Ih;if(er&&ze){var sr=Ge&&typeof Ge.as=="string"?Ge.as:"script",gr='link[rel="modulepreload"][as="'+ks(sr)+'"][href="'+ks(ze)+'"]',Sr=gr;switch(sr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":Sr=Nh(ze)}if(!uu.has(Sr)&&(ze=$e({rel:"modulepreload",href:ze},Ge),uu.set(Sr,ze),er.querySelector(gr)===null)){switch(sr){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(er.querySelector(fA(Sr)))return}sr=er.createElement("link"),dl(sr,"link",ze),Dn(sr),er.head.appendChild(sr)}}}function Qm(ze,Ge,er){Gd.S(ze,Ge,er);var sr=Ih;if(sr&&ze){var gr=Jn(sr).hoistableStyles,Sr=Bh(ze);Ge=Ge||"default";var Hr=gr.get(Sr);if(!Hr){var rn={loading:0,preload:null};if(Hr=sr.querySelector(dA(Sr)))rn.loading=5;else{ze=$e({rel:"stylesheet",href:ze,"data-precedence":Ge},er),(er=uu.get(Sr))&&Ep(ze,er);var wn=Hr=sr.createElement("link");Dn(wn),dl(wn,"link",ze),wn._p=new Promise(function(Xn,fi){wn.onload=Xn,wn.onerror=fi}),wn.addEventListener("load",function(){rn.loading|=1}),wn.addEventListener("error",function(){rn.loading|=2}),rn.loading|=4,QA(Hr,Ge,sr)}Hr={type:"stylesheet",instance:Hr,count:1,state:rn},gr.set(Sr,Hr)}}}function zm(ze,Ge){Gd.X(ze,Ge);var er=Ih;if(er&&ze){var sr=Jn(er).hoistableScripts,gr=Nh(ze),Sr=sr.get(gr);Sr||(Sr=er.querySelector(fA(gr)),Sr||(ze=$e({src:ze,async:!0},Ge),(Ge=uu.get(gr))&&Sp(ze,Ge),Sr=er.createElement("script"),Dn(Sr),dl(Sr,"link",ze),er.head.appendChild(Sr)),Sr={type:"script",instance:Sr,count:1,state:null},sr.set(gr,Sr))}}function Wm(ze,Ge){Gd.M(ze,Ge);var er=Ih;if(er&&ze){var sr=Jn(er).hoistableScripts,gr=Nh(ze),Sr=sr.get(gr);Sr||(Sr=er.querySelector(fA(gr)),Sr||(ze=$e({src:ze,async:!0,type:"module"},Ge),(Ge=uu.get(gr))&&Sp(ze,Ge),Sr=er.createElement("script"),Dn(Sr),dl(Sr,"link",ze),er.head.appendChild(Sr)),Sr={type:"script",instance:Sr,count:1,state:null},sr.set(gr,Sr))}}function tm(ze,Ge,er,sr){var gr=(gr=br.current)?HA(gr):null;if(!gr)throw Error(Be(446));switch(ze){case"meta":case"title":return null;case"style":return typeof er.precedence=="string"&&typeof er.href=="string"?(Ge=Bh(er.href),er=Jn(gr).hoistableStyles,sr=er.get(Ge),sr||(sr={type:"style",instance:null,count:0,state:null},er.set(Ge,sr)),sr):{type:"void",instance:null,count:0,state:null};case"link":if(er.rel==="stylesheet"&&typeof er.href=="string"&&typeof er.precedence=="string"){ze=Bh(er.href);var Sr=Jn(gr).hoistableStyles,Hr=Sr.get(ze);if(Hr||(gr=gr.ownerDocument||gr,Hr={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},Sr.set(ze,Hr),(Sr=gr.querySelector(dA(ze)))&&!Sr._p&&(Hr.instance=Sr,Hr.state.loading=5),uu.has(ze)||(er={rel:"preload",as:"style",href:er.href,crossOrigin:er.crossOrigin,integrity:er.integrity,media:er.media,hrefLang:er.hrefLang,referrerPolicy:er.referrerPolicy},uu.set(ze,er),Sr||Km(gr,ze,er,Hr.state))),Ge&&sr===null)throw Error(Be(528,""));return Hr}if(Ge&&sr!==null)throw Error(Be(529,""));return null;case"script":return Ge=er.async,er=er.src,typeof er=="string"&&Ge&&typeof Ge!="function"&&typeof Ge!="symbol"?(Ge=Nh(er),er=Jn(gr).hoistableScripts,sr=er.get(Ge),sr||(sr={type:"script",instance:null,count:0,state:null},er.set(Ge,sr)),sr):{type:"void",instance:null,count:0,state:null};default:throw Error(Be(444,ze))}}function Bh(ze){return'href="'+ks(ze)+'"'}function dA(ze){return'link[rel="stylesheet"]['+ze+"]"}function rm(ze){return $e({},ze,{"data-precedence":ze.precedence,precedence:null})}function Km(ze,Ge,er,sr){ze.querySelector('link[rel="preload"][as="style"]['+Ge+"]")?sr.loading=1:(Ge=ze.createElement("link"),sr.preload=Ge,Ge.addEventListener("load",function(){return sr.loading|=1}),Ge.addEventListener("error",function(){return sr.loading|=2}),dl(Ge,"link",er),Dn(Ge),ze.head.appendChild(Ge))}function Nh(ze){return'[src="'+ks(ze)+'"]'}function fA(ze){return"script[async]"+ze}function nm(ze,Ge,er){if(Ge.count++,Ge.instance===null)switch(Ge.type){case"style":var sr=ze.querySelector('style[data-href~="'+ks(er.href)+'"]');if(sr)return Ge.instance=sr,Dn(sr),sr;var gr=$e({},er,{"data-href":er.href,"data-precedence":er.precedence,href:null,precedence:null});return sr=(ze.ownerDocument||ze).createElement("style"),Dn(sr),dl(sr,"style",gr),QA(sr,er.precedence,ze),Ge.instance=sr;case"stylesheet":gr=Bh(er.href);var Sr=ze.querySelector(dA(gr));if(Sr)return Ge.state.loading|=4,Ge.instance=Sr,Dn(Sr),Sr;sr=rm(er),(gr=uu.get(gr))&&Ep(sr,gr),Sr=(ze.ownerDocument||ze).createElement("link"),Dn(Sr);var Hr=Sr;return Hr._p=new Promise(function(rn,wn){Hr.onload=rn,Hr.onerror=wn}),dl(Sr,"link",sr),Ge.state.loading|=4,QA(Sr,er.precedence,ze),Ge.instance=Sr;case"script":return Sr=Nh(er.src),(gr=ze.querySelector(fA(Sr)))?(Ge.instance=gr,Dn(gr),gr):(sr=er,(gr=uu.get(Sr))&&(sr=$e({},er),Sp(sr,gr)),ze=ze.ownerDocument||ze,gr=ze.createElement("script"),Dn(gr),dl(gr,"link",sr),ze.head.appendChild(gr),Ge.instance=gr);case"void":return null;default:throw Error(Be(443,Ge.type))}else Ge.type==="stylesheet"&&(Ge.state.loading&4)===0&&(sr=Ge.instance,Ge.state.loading|=4,QA(sr,er.precedence,ze));return Ge.instance}function QA(ze,Ge,er){for(var sr=er.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),gr=sr.length?sr[sr.length-1]:null,Sr=gr,Hr=0;Hr<sr.length;Hr++){var rn=sr[Hr];if(rn.dataset.precedence===Ge)Sr=rn;else if(Sr!==gr)break}Sr?Sr.parentNode.insertBefore(ze,Sr.nextSibling):(Ge=er.nodeType===9?er.head:er,Ge.insertBefore(ze,Ge.firstChild))}function Ep(ze,Ge){ze.crossOrigin==null&&(ze.crossOrigin=Ge.crossOrigin),ze.referrerPolicy==null&&(ze.referrerPolicy=Ge.referrerPolicy),ze.title==null&&(ze.title=Ge.title)}function Sp(ze,Ge){ze.crossOrigin==null&&(ze.crossOrigin=Ge.crossOrigin),ze.referrerPolicy==null&&(ze.referrerPolicy=Ge.referrerPolicy),ze.integrity==null&&(ze.integrity=Ge.integrity)}var zA=null;function im(ze,Ge,er){if(zA===null){var sr=new Map,gr=zA=new Map;gr.set(er,sr)}else gr=zA,sr=gr.get(er),sr||(sr=new Map,gr.set(er,sr));if(sr.has(ze))return sr;for(sr.set(ze,null),er=er.getElementsByTagName(ze),gr=0;gr<er.length;gr++){var Sr=er[gr];if(!(Sr[on]||Sr[Qs]||ze==="link"&&Sr.getAttribute("rel")==="stylesheet")&&Sr.namespaceURI!=="http://www.w3.org/2000/svg"){var Hr=Sr.getAttribute(Ge)||"";Hr=ze+Hr;var rn=sr.get(Hr);rn?rn.push(Sr):sr.set(Hr,[Sr])}}return sr}function sm(ze,Ge,er){ze=ze.ownerDocument||ze,ze.head.insertBefore(er,Ge==="title"?ze.querySelector("head > title"):null)}function Gm(ze,Ge,er){if(er===1||Ge.itemProp!=null)return!1;switch(ze){case"meta":case"title":return!0;case"style":if(typeof Ge.precedence!="string"||typeof Ge.href!="string"||Ge.href==="")break;return!0;case"link":if(typeof Ge.rel!="string"||typeof Ge.href!="string"||Ge.href===""||Ge.onLoad||Ge.onError)break;switch(Ge.rel){case"stylesheet":return ze=Ge.disabled,typeof Ge.precedence=="string"&&ze==null;default:return!0}case"script":if(Ge.async&&typeof Ge.async!="function"&&typeof Ge.async!="symbol"&&!Ge.onLoad&&!Ge.onError&&Ge.src&&typeof Ge.src=="string")return!0}return!1}function am(ze){return!(ze.type==="stylesheet"&&(ze.state.loading&3)===0)}var hA=null;function qm(){}function Ym(ze,Ge,er){if(hA===null)throw Error(Be(475));var sr=hA;if(Ge.type==="stylesheet"&&(typeof er.media!="string"||matchMedia(er.media).matches!==!1)&&(Ge.state.loading&4)===0){if(Ge.instance===null){var gr=Bh(er.href),Sr=ze.querySelector(dA(gr));if(Sr){ze=Sr._p,ze!==null&&typeof ze=="object"&&typeof ze.then=="function"&&(sr.count++,sr=WA.bind(sr),ze.then(sr,sr)),Ge.state.loading|=4,Ge.instance=Sr,Dn(Sr);return}Sr=ze.ownerDocument||ze,er=rm(er),(gr=uu.get(gr))&&Ep(er,gr),Sr=Sr.createElement("link"),Dn(Sr);var Hr=Sr;Hr._p=new Promise(function(rn,wn){Hr.onload=rn,Hr.onerror=wn}),dl(Sr,"link",er),Ge.instance=Sr}sr.stylesheets===null&&(sr.stylesheets=new Map),sr.stylesheets.set(Ge,ze),(ze=Ge.state.preload)&&(Ge.state.loading&3)===0&&(sr.count++,Ge=WA.bind(sr),ze.addEventListener("load",Ge),ze.addEventListener("error",Ge))}}function Xm(){if(hA===null)throw Error(Be(475));var ze=hA;return ze.stylesheets&&ze.count===0&&Rp(ze,ze.stylesheets),0<ze.count?function(Ge){var er=setTimeout(function(){if(ze.stylesheets&&Rp(ze,ze.stylesheets),ze.unsuspend){var sr=ze.unsuspend;ze.unsuspend=null,sr()}},6e4);return ze.unsuspend=Ge,function(){ze.unsuspend=null,clearTimeout(er)}}:null}function WA(){if(this.count--,this.count===0){if(this.stylesheets)Rp(this,this.stylesheets);else if(this.unsuspend){var ze=this.unsuspend;this.unsuspend=null,ze()}}}var KA=null;function Rp(ze,Ge){ze.stylesheets=null,ze.unsuspend!==null&&(ze.count++,KA=new Map,Ge.forEach(Jm,ze),KA=null,WA.call(ze))}function Jm(ze,Ge){if(!(Ge.state.loading&4)){var er=KA.get(ze);if(er)var sr=er.get(null);else{er=new Map,KA.set(ze,er);for(var gr=ze.querySelectorAll("link[data-precedence],style[data-precedence]"),Sr=0;Sr<gr.length;Sr++){var Hr=gr[Sr];(Hr.nodeName==="LINK"||Hr.getAttribute("media")!=="not all")&&(er.set(Hr.dataset.precedence,Hr),sr=Hr)}sr&&er.set(null,sr)}gr=Ge.instance,Hr=gr.getAttribute("data-precedence"),Sr=er.get(Hr)||sr,Sr===sr&&er.set(null,gr),er.set(Hr,gr),this.count++,sr=WA.bind(this),gr.addEventListener("load",sr),gr.addEventListener("error",sr),Sr?Sr.parentNode.insertBefore(gr,Sr.nextSibling):(ze=ze.nodeType===9?ze.head:ze,ze.insertBefore(gr,ze.firstChild)),Ge.state.loading|=4}}var AA={$$typeof:Je,Provider:null,Consumer:null,_currentValue:wr,_currentValue2:wr,_threadCount:0};function Zm(ze,Ge,er,sr,gr,Sr,Hr,rn){this.tag=1,this.containerInfo=ze,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=sr,this.onUncaughtError=gr,this.onCaughtError=Sr,this.onRecoverableError=Hr,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=rn,this.incompleteTransitions=new Map}function om(ze,Ge,er,sr,gr,Sr,Hr,rn,wn,Xn,fi,bi){return ze=new Zm(ze,Ge,er,Hr,rn,wn,Xn,bi),Ge=1,Sr===!0&&(Ge|=24),Sr=Bo(3,null,null,Ge),ze.current=Sr,Sr.stateNode=ze,Ge=Cf(),Ge.refCount++,ze.pooledCache=Ge,Ge.refCount++,Sr.memoizedState={element:sr,isDehydrated:er,cache:Ge},Cn(Sr),ze}function lm(ze){return ze?(ze=po,ze):po}function cm(ze,Ge,er,sr,gr,Sr){gr=lm(gr),sr.context===null?sr.context=gr:sr.pendingContext=gr,sr=ci(Ge),sr.payload={element:er},Sr=Sr===void 0?null:Sr,Sr!==null&&(sr.callback=Sr),er=mi(ze,sr,Ge),er!==null&&(Mi(er,ze,Ge),di(er,ze,Ge))}function um(ze,Ge){if(ze=ze.memoizedState,ze!==null&&ze.dehydrated!==null){var er=ze.retryLane;ze.retryLane=er!==0&&er<Ge?er:Ge}}function Cp(ze,Ge){um(ze,Ge),(ze=ze.alternate)&&um(ze,Ge)}function dm(ze){if(ze.tag===13){var Ge=Cc(ze,67108864);Ge!==null&&Mi(Ge,ze,67108864),Cp(ze,67108864)}}var GA=!0;function eg(ze,Ge,er,sr){var gr=vr.T;vr.T=null;var Sr=Tr.p;try{Tr.p=2,Tp(ze,Ge,er,sr)}finally{Tr.p=Sr,vr.T=gr}}function tg(ze,Ge,er,sr){var gr=vr.T;vr.T=null;var Sr=Tr.p;try{Tr.p=8,Tp(ze,Ge,er,sr)}finally{Tr.p=Sr,vr.T=gr}}function Tp(ze,Ge,er,sr){if(GA){var gr=jp(sr);if(gr===null)pp(ze,Ge,sr,qA,er),hm(ze,sr);else if(ng(gr,ze,Ge,er,sr))sr.stopPropagation();else if(hm(ze,sr),Ge&4&&-1<rg.indexOf(ze)){for(;gr!==null;){var Sr=gn(gr);if(Sr!==null)switch(Sr.tag){case 3:if(Sr=Sr.stateNode,Sr.current.memoizedState.isDehydrated){var Hr=Vn(Sr.pendingLanes);if(Hr!==0){var rn=Sr;for(rn.pendingLanes|=2,rn.entangledLanes|=2;Hr;){var wn=1<<31-wi(Hr);rn.entanglements[1]|=wn,Hr&=~wn}wd(Sr),(aa&6)===0&&(ur=Rn()+500,oA(0))}}break;case 13:rn=Cc(Sr,2),rn!==null&&Mi(rn,Sr,2),xs(),Cp(Sr,2)}if(Sr=jp(sr),Sr===null&&pp(ze,Ge,sr,qA,er),Sr===gr)break;gr=Sr}gr!==null&&sr.stopPropagation()}else pp(ze,Ge,sr,null,er)}}function jp(ze){return ze=na(ze),Pp(ze)}var qA=null;function Pp(ze){if(qA=null,ze=mn(ze),ze!==null){var Ge=Fe(ze);if(Ge===null)ze=null;else{var er=Ge.tag;if(er===13){if(ze=ke(Ge),ze!==null)return ze;ze=null}else if(er===3){if(Ge.stateNode.current.memoizedState.isDehydrated)return Ge.tag===3?Ge.stateNode.containerInfo:null;ze=null}else Ge!==ze&&(ze=null)}}return qA=ze,null}function fm(ze){switch(ze){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ri()){case Yn:return 2;case ti:return 8;case ei:case Gn:return 32;case Ei:return 268435456;default:return 32}default:return 32}}var Ip=!1,bf=null,wf=null,_f=null,pA=new Map,mA=new Map,Ef=[],rg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function hm(ze,Ge){switch(ze){case"focusin":case"focusout":bf=null;break;case"dragenter":case"dragleave":wf=null;break;case"mouseover":case"mouseout":_f=null;break;case"pointerover":case"pointerout":pA.delete(Ge.pointerId);break;case"gotpointercapture":case"lostpointercapture":mA.delete(Ge.pointerId)}}function gA(ze,Ge,er,sr,gr,Sr){return ze===null||ze.nativeEvent!==Sr?(ze={blockedOn:Ge,domEventName:er,eventSystemFlags:sr,nativeEvent:Sr,targetContainers:[gr]},Ge!==null&&(Ge=gn(Ge),Ge!==null&&dm(Ge)),ze):(ze.eventSystemFlags|=sr,Ge=ze.targetContainers,gr!==null&&Ge.indexOf(gr)===-1&&Ge.push(gr),ze)}function ng(ze,Ge,er,sr,gr){switch(Ge){case"focusin":return bf=gA(bf,ze,Ge,er,sr,gr),!0;case"dragenter":return wf=gA(wf,ze,Ge,er,sr,gr),!0;case"mouseover":return _f=gA(_f,ze,Ge,er,sr,gr),!0;case"pointerover":var Sr=gr.pointerId;return pA.set(Sr,gA(pA.get(Sr)||null,ze,Ge,er,sr,gr)),!0;case"gotpointercapture":return Sr=gr.pointerId,mA.set(Sr,gA(mA.get(Sr)||null,ze,Ge,er,sr,gr)),!0}return!1}function Am(ze){var Ge=mn(ze.target);if(Ge!==null){var er=Fe(Ge);if(er!==null){if(Ge=er.tag,Ge===13){if(Ge=ke(er),Ge!==null){ze.blockedOn=Ge,Wa(ze.priority,function(){if(er.tag===13){var sr=Qi();sr=Zi(sr);var gr=Cc(er,sr);gr!==null&&Mi(gr,er,sr),Cp(er,sr)}});return}}else if(Ge===3&&er.stateNode.current.memoizedState.isDehydrated){ze.blockedOn=er.tag===3?er.stateNode.containerInfo:null;return}}}ze.blockedOn=null}function YA(ze){if(ze.blockedOn!==null)return!1;for(var Ge=ze.targetContainers;0<Ge.length;){var er=jp(ze.nativeEvent);if(er===null){er=ze.nativeEvent;var sr=new er.constructor(er.type,er);fo=sr,er.target.dispatchEvent(sr),fo=null}else return Ge=gn(er),Ge!==null&&dm(Ge),ze.blockedOn=er,!1;Ge.shift()}return!0}function pm(ze,Ge,er){YA(ze)&&er.delete(Ge)}function ig(){Ip=!1,bf!==null&&YA(bf)&&(bf=null),wf!==null&&YA(wf)&&(wf=null),_f!==null&&YA(_f)&&(_f=null),pA.forEach(pm),mA.forEach(pm)}function XA(ze,Ge){ze.blockedOn===Ge&&(ze.blockedOn=null,Ip||(Ip=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,ig)))}var JA=null;function mm(ze){JA!==ze&&(JA=ze,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){JA===ze&&(JA=null);for(var Ge=0;Ge<ze.length;Ge+=3){var er=ze[Ge],sr=ze[Ge+1],gr=ze[Ge+2];if(typeof sr!="function"){if(Pp(sr||er)===null)continue;break}var Sr=gn(er);Sr!==null&&(ze.splice(Ge,3),Ge-=3,fc(Sr,{pending:!0,data:gr,method:er.method,action:sr},sr,gr))}}))}function xA(ze){function Ge(wn){return XA(wn,ze)}bf!==null&&XA(bf,ze),wf!==null&&XA(wf,ze),_f!==null&&XA(_f,ze),pA.forEach(Ge),mA.forEach(Ge);for(var er=0;er<Ef.length;er++){var sr=Ef[er];sr.blockedOn===ze&&(sr.blockedOn=null)}for(;0<Ef.length&&(er=Ef[0],er.blockedOn===null);)Am(er),er.blockedOn===null&&Ef.shift();if(er=(ze.ownerDocument||ze).$$reactFormReplay,er!=null)for(sr=0;sr<er.length;sr+=3){var gr=er[sr],Sr=er[sr+1],Hr=gr[Fs]||null;if(typeof Sr=="function")Hr||mm(er);else if(Hr){var rn=null;if(Sr&&Sr.hasAttribute("formAction")){if(gr=Sr,Hr=Sr[Fs]||null)rn=Hr.formAction;else if(Pp(gr)!==null)continue}else rn=Hr.action;typeof rn=="function"?er[sr+1]=rn:(er.splice(sr,3),sr-=3),mm(er)}}}function Bp(ze){this._internalRoot=ze}ZA.prototype.render=Bp.prototype.render=function(ze){var Ge=this._internalRoot;if(Ge===null)throw Error(Be(409));var er=Ge.current,sr=Qi();cm(er,sr,ze,Ge,null,null)},ZA.prototype.unmount=Bp.prototype.unmount=function(){var ze=this._internalRoot;if(ze!==null){this._internalRoot=null;var Ge=ze.containerInfo;cm(ze.current,2,null,ze,null,null),xs(),Ge[Xs]=null}};function ZA(ze){this._internalRoot=ze}ZA.prototype.unstable_scheduleHydration=function(ze){if(ze){var Ge=oa();ze={blockedOn:null,target:ze,priority:Ge};for(var er=0;er<Ef.length&&Ge!==0&&Ge<Ef[er].priority;er++);Ef.splice(er,0,ze),er===0&&Am(ze)}};var gm=Ce.version;if(gm!=="19.1.1")throw Error(Be(527,gm,"19.1.1"));Tr.findDOMNode=function(ze){var Ge=ze._reactInternals;if(Ge===void 0)throw typeof ze.render=="function"?Error(Be(188)):(ze=Object.keys(ze).join(","),Error(Be(268,ze)));return ze=Me(Ge),ze=ze!==null?Ue(ze):null,ze=ze===null?null:ze.stateNode,ze};var sg={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:vr,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ep=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ep.isDisabled&&ep.supportsFiber)try{Si=ep.inject(sg),Ti=ep}catch{}}return reactDomClient_production.createRoot=function(ze,Ge){if(!De(ze))throw Error(Be(299));var er=!1,sr="",gr=Vh,Sr=Hh,Hr=gh,rn=null;return Ge!=null&&(Ge.unstable_strictMode===!0&&(er=!0),Ge.identifierPrefix!==void 0&&(sr=Ge.identifierPrefix),Ge.onUncaughtError!==void 0&&(gr=Ge.onUncaughtError),Ge.onCaughtError!==void 0&&(Sr=Ge.onCaughtError),Ge.onRecoverableError!==void 0&&(Hr=Ge.onRecoverableError),Ge.unstable_transitionCallbacks!==void 0&&(rn=Ge.unstable_transitionCallbacks)),Ge=om(ze,1,!1,null,null,er,sr,gr,Sr,Hr,rn,null),ze[Xs]=Ge.current,Ap(ze),new Bp(Ge)},reactDomClient_production.hydrateRoot=function(ze,Ge,er){if(!De(ze))throw Error(Be(299));var sr=!1,gr="",Sr=Vh,Hr=Hh,rn=gh,wn=null,Xn=null;return er!=null&&(er.unstable_strictMode===!0&&(sr=!0),er.identifierPrefix!==void 0&&(gr=er.identifierPrefix),er.onUncaughtError!==void 0&&(Sr=er.onUncaughtError),er.onCaughtError!==void 0&&(Hr=er.onCaughtError),er.onRecoverableError!==void 0&&(rn=er.onRecoverableError),er.unstable_transitionCallbacks!==void 0&&(wn=er.unstable_transitionCallbacks),er.formState!==void 0&&(Xn=er.formState)),Ge=om(ze,1,!0,Ge,er??null,sr,gr,Sr,Hr,rn,wn,Xn),Ge.context=lm(null),er=Ge.current,sr=Qi(),sr=Zi(sr),gr=ci(sr),gr.callback=null,mi(er,gr,sr),er=sr,Ge.current.lanes=er,ki(Ge,er),wd(Ge),ze[Xs]=Ge.current,Ap(ze),new ZA(Ge)},reactDomClient_production.version="19.1.1",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Re(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Re)}catch(Ce){console.error(Ce)}}return Re(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const ReactDOM$1=getDefaultExportFromCjs(clientExports);/**
 * react-router v7.8.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(Re={}){function Ce(Be,De){let{pathname:Fe,search:ke,hash:Oe}=Be.location;return createLocation("",{pathname:Fe,search:ke,hash:Oe},De.state&&De.state.usr||null,De.state&&De.state.key||"default")}function je(Be,De){return typeof De=="string"?De:createPath(De)}return getUrlBasedHistory(Ce,je,null,Re)}function invariant$2(Re,Ce){if(Re===!1||Re===null||typeof Re>"u")throw new Error(Ce)}function warning(Re,Ce){if(!Re){typeof console<"u"&&console.warn(Ce);try{throw new Error(Ce)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Re,Ce){return{usr:Re.state,key:Re.key,idx:Ce}}function createLocation(Re,Ce,je=null,Be){return{pathname:typeof Re=="string"?Re:Re.pathname,search:"",hash:"",...typeof Ce=="string"?parsePath(Ce):Ce,state:je,key:Ce&&Ce.key||Be||createKey()}}function createPath({pathname:Re="/",search:Ce="",hash:je=""}){return Ce&&Ce!=="?"&&(Re+=Ce.charAt(0)==="?"?Ce:"?"+Ce),je&&je!=="#"&&(Re+=je.charAt(0)==="#"?je:"#"+je),Re}function parsePath(Re){let Ce={};if(Re){let je=Re.indexOf("#");je>=0&&(Ce.hash=Re.substring(je),Re=Re.substring(0,je));let Be=Re.indexOf("?");Be>=0&&(Ce.search=Re.substring(Be),Re=Re.substring(0,Be)),Re&&(Ce.pathname=Re)}return Ce}function getUrlBasedHistory(Re,Ce,je,Be={}){let{window:De=document.defaultView,v5Compat:Fe=!1}=Be,ke=De.history,Oe="POP",Me=null,Ue=$e();Ue==null&&(Ue=0,ke.replaceState({...ke.state,idx:Ue},""));function $e(){return(ke.state||{idx:null}).idx}function He(){Oe="POP";let Xe=$e(),Ye=Xe==null?null:Xe-Ue;Ue=Xe,Me&&Me({action:Oe,location:Ke.location,delta:Ye})}function Qe(Xe,Ye){Oe="PUSH";let Ze=createLocation(Ke.location,Xe,Ye);Ue=$e()+1;let Je=getHistoryState(Ze,Ue),tr=Ke.createHref(Ze);try{ke.pushState(Je,"",tr)}catch(rr){if(rr instanceof DOMException&&rr.name==="DataCloneError")throw rr;De.location.assign(tr)}Fe&&Me&&Me({action:Oe,location:Ke.location,delta:1})}function We(Xe,Ye){Oe="REPLACE";let Ze=createLocation(Ke.location,Xe,Ye);Ue=$e();let Je=getHistoryState(Ze,Ue),tr=Ke.createHref(Ze);ke.replaceState(Je,"",tr),Fe&&Me&&Me({action:Oe,location:Ke.location,delta:0})}function qe(Xe){return createBrowserURLImpl(Xe)}let Ke={get action(){return Oe},get location(){return Re(De,ke)},listen(Xe){if(Me)throw new Error("A history only accepts one active listener");return De.addEventListener(PopStateEventType,He),Me=Xe,()=>{De.removeEventListener(PopStateEventType,He),Me=null}},createHref(Xe){return Ce(De,Xe)},createURL:qe,encodeLocation(Xe){let Ye=qe(Xe);return{pathname:Ye.pathname,search:Ye.search,hash:Ye.hash}},push:Qe,replace:We,go(Xe){return ke.go(Xe)}};return Ke}function createBrowserURLImpl(Re,Ce=!1){let je="http://localhost";typeof window<"u"&&(je=window.location.origin!=="null"?window.location.origin:window.location.href),invariant$2(je,"No window.location.(origin|href) available to create URL");let Be=typeof Re=="string"?Re:createPath(Re);return Be=Be.replace(/ $/,"%20"),!Ce&&Be.startsWith("//")&&(Be=je+Be),new URL(Be,je)}function matchRoutes(Re,Ce,je="/"){return matchRoutesImpl(Re,Ce,je,!1)}function matchRoutesImpl(Re,Ce,je,Be){let De=typeof Ce=="string"?parsePath(Ce):Ce,Fe=stripBasename(De.pathname||"/",je);if(Fe==null)return null;let ke=flattenRoutes(Re);rankRouteBranches(ke);let Oe=null;for(let Me=0;Oe==null&&Me<ke.length;++Me){let Ue=decodePath(Fe);Oe=matchRouteBranch(ke[Me],Ue,Be)}return Oe}function flattenRoutes(Re,Ce=[],je=[],Be=""){let De=(Fe,ke,Oe)=>{let Me={relativePath:Oe===void 0?Fe.path||"":Oe,caseSensitive:Fe.caseSensitive===!0,childrenIndex:ke,route:Fe};Me.relativePath.startsWith("/")&&(invariant$2(Me.relativePath.startsWith(Be),`Absolute route path "${Me.relativePath}" nested under path "${Be}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Me.relativePath=Me.relativePath.slice(Be.length));let Ue=joinPaths([Be,Me.relativePath]),$e=je.concat(Me);Fe.children&&Fe.children.length>0&&(invariant$2(Fe.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${Ue}".`),flattenRoutes(Fe.children,Ce,$e,Ue)),!(Fe.path==null&&!Fe.index)&&Ce.push({path:Ue,score:computeScore(Ue,Fe.index),routesMeta:$e})};return Re.forEach((Fe,ke)=>{if(Fe.path===""||!Fe.path?.includes("?"))De(Fe,ke);else for(let Oe of explodeOptionalSegments(Fe.path))De(Fe,ke,Oe)}),Ce}function explodeOptionalSegments(Re){let Ce=Re.split("/");if(Ce.length===0)return[];let[je,...Be]=Ce,De=je.endsWith("?"),Fe=je.replace(/\?$/,"");if(Be.length===0)return De?[Fe,""]:[Fe];let ke=explodeOptionalSegments(Be.join("/")),Oe=[];return Oe.push(...ke.map(Me=>Me===""?Fe:[Fe,Me].join("/"))),De&&Oe.push(...ke),Oe.map(Me=>Re.startsWith("/")&&Me===""?"/":Me)}function rankRouteBranches(Re){Re.sort((Ce,je)=>Ce.score!==je.score?je.score-Ce.score:compareIndexes(Ce.routesMeta.map(Be=>Be.childrenIndex),je.routesMeta.map(Be=>Be.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Re=>Re==="*";function computeScore(Re,Ce){let je=Re.split("/"),Be=je.length;return je.some(isSplat)&&(Be+=splatPenalty),Ce&&(Be+=indexRouteValue),je.filter(De=>!isSplat(De)).reduce((De,Fe)=>De+(paramRe.test(Fe)?dynamicSegmentValue:Fe===""?emptySegmentValue:staticSegmentValue),Be)}function compareIndexes(Re,Ce){return Re.length===Ce.length&&Re.slice(0,-1).every((Be,De)=>Be===Ce[De])?Re[Re.length-1]-Ce[Ce.length-1]:0}function matchRouteBranch(Re,Ce,je=!1){let{routesMeta:Be}=Re,De={},Fe="/",ke=[];for(let Oe=0;Oe<Be.length;++Oe){let Me=Be[Oe],Ue=Oe===Be.length-1,$e=Fe==="/"?Ce:Ce.slice(Fe.length)||"/",He=matchPath({path:Me.relativePath,caseSensitive:Me.caseSensitive,end:Ue},$e),Qe=Me.route;if(!He&&Ue&&je&&!Be[Be.length-1].route.index&&(He=matchPath({path:Me.relativePath,caseSensitive:Me.caseSensitive,end:!1},$e)),!He)return null;Object.assign(De,He.params),ke.push({params:De,pathname:joinPaths([Fe,He.pathname]),pathnameBase:normalizePathname(joinPaths([Fe,He.pathnameBase])),route:Qe}),He.pathnameBase!=="/"&&(Fe=joinPaths([Fe,He.pathnameBase]))}return ke}function matchPath(Re,Ce){typeof Re=="string"&&(Re={path:Re,caseSensitive:!1,end:!0});let[je,Be]=compilePath(Re.path,Re.caseSensitive,Re.end),De=Ce.match(je);if(!De)return null;let Fe=De[0],ke=Fe.replace(/(.)\/+$/,"$1"),Oe=De.slice(1);return{params:Be.reduce((Ue,{paramName:$e,isOptional:He},Qe)=>{if($e==="*"){let qe=Oe[Qe]||"";ke=Fe.slice(0,Fe.length-qe.length).replace(/(.)\/+$/,"$1")}const We=Oe[Qe];return He&&!We?Ue[$e]=void 0:Ue[$e]=(We||"").replace(/%2F/g,"/"),Ue},{}),pathname:Fe,pathnameBase:ke,pattern:Re}}function compilePath(Re,Ce=!1,je=!0){warning(Re==="*"||!Re.endsWith("*")||Re.endsWith("/*"),`Route path "${Re}" will be treated as if it were "${Re.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Re.replace(/\*$/,"/*")}".`);let Be=[],De="^"+Re.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(ke,Oe,Me)=>(Be.push({paramName:Oe,isOptional:Me!=null}),Me?"/?([^\\/]+)?":"/([^\\/]+)"));return Re.endsWith("*")?(Be.push({paramName:"*"}),De+=Re==="*"||Re==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):je?De+="\\/*$":Re!==""&&Re!=="/"&&(De+="(?:(?=\\/|$))"),[new RegExp(De,Ce?void 0:"i"),Be]}function decodePath(Re){try{return Re.split("/").map(Ce=>decodeURIComponent(Ce).replace(/\//g,"%2F")).join("/")}catch(Ce){return warning(!1,`The URL path "${Re}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Ce}).`),Re}}function stripBasename(Re,Ce){if(Ce==="/")return Re;if(!Re.toLowerCase().startsWith(Ce.toLowerCase()))return null;let je=Ce.endsWith("/")?Ce.length-1:Ce.length,Be=Re.charAt(je);return Be&&Be!=="/"?null:Re.slice(je)||"/"}function resolvePath(Re,Ce="/"){let{pathname:je,search:Be="",hash:De=""}=typeof Re=="string"?parsePath(Re):Re;return{pathname:je?je.startsWith("/")?je:resolvePathname(je,Ce):Ce,search:normalizeSearch(Be),hash:normalizeHash(De)}}function resolvePathname(Re,Ce){let je=Ce.replace(/\/+$/,"").split("/");return Re.split("/").forEach(De=>{De===".."?je.length>1&&je.pop():De!=="."&&je.push(De)}),je.length>1?je.join("/"):"/"}function getInvalidPathError(Re,Ce,je,Be){return`Cannot include a '${Re}' character in a manually specified \`to.${Ce}\` field [${JSON.stringify(Be)}].  Please separate it out to the \`to.${je}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Re){return Re.filter((Ce,je)=>je===0||Ce.route.path&&Ce.route.path.length>0)}function getResolveToMatches(Re){let Ce=getPathContributingMatches(Re);return Ce.map((je,Be)=>Be===Ce.length-1?je.pathname:je.pathnameBase)}function resolveTo(Re,Ce,je,Be=!1){let De;typeof Re=="string"?De=parsePath(Re):(De={...Re},invariant$2(!De.pathname||!De.pathname.includes("?"),getInvalidPathError("?","pathname","search",De)),invariant$2(!De.pathname||!De.pathname.includes("#"),getInvalidPathError("#","pathname","hash",De)),invariant$2(!De.search||!De.search.includes("#"),getInvalidPathError("#","search","hash",De)));let Fe=Re===""||De.pathname==="",ke=Fe?"/":De.pathname,Oe;if(ke==null)Oe=je;else{let He=Ce.length-1;if(!Be&&ke.startsWith("..")){let Qe=ke.split("/");for(;Qe[0]==="..";)Qe.shift(),He-=1;De.pathname=Qe.join("/")}Oe=He>=0?Ce[He]:"/"}let Me=resolvePath(De,Oe),Ue=ke&&ke!=="/"&&ke.endsWith("/"),$e=(Fe||ke===".")&&je.endsWith("/");return!Me.pathname.endsWith("/")&&(Ue||$e)&&(Me.pathname+="/"),Me}var joinPaths=Re=>Re.join("/").replace(/\/\/+/g,"/"),normalizePathname=Re=>Re.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Re=>!Re||Re==="?"?"":Re.startsWith("?")?Re:"?"+Re,normalizeHash=Re=>!Re||Re==="#"?"":Re.startsWith("#")?Re:"#"+Re;function isRouteErrorResponse(Re){return Re!=null&&typeof Re.status=="number"&&typeof Re.statusText=="string"&&typeof Re.internal=="boolean"&&"data"in Re}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";reactExports.createContext(!1);var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Re,{relative:Ce}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:je,navigator:Be}=reactExports.useContext(NavigationContext),{hash:De,pathname:Fe,search:ke}=useResolvedPath(Re,{relative:Ce}),Oe=Fe;return je!=="/"&&(Oe=Fe==="/"?je:joinPaths([je,Fe])),Be.createHref({pathname:Oe,search:ke,hash:De})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(Re){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Re)}function useNavigate(){let{isDataRoute:Re}=reactExports.useContext(RouteContext);return Re?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Re=reactExports.useContext(DataRouterContext),{basename:Ce,navigator:je}=reactExports.useContext(NavigationContext),{matches:Be}=reactExports.useContext(RouteContext),{pathname:De}=useLocation(),Fe=JSON.stringify(getResolveToMatches(Be)),ke=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{ke.current=!0}),reactExports.useCallback((Me,Ue={})=>{if(warning(ke.current,navigateEffectWarning),!ke.current)return;if(typeof Me=="number"){je.go(Me);return}let $e=resolveTo(Me,JSON.parse(Fe),De,Ue.relative==="path");Re==null&&Ce!=="/"&&($e.pathname=$e.pathname==="/"?Ce:joinPaths([Ce,$e.pathname])),(Ue.replace?je.replace:je.push)($e,Ue.state,Ue)},[Ce,je,Fe,De,Re])}reactExports.createContext(null);function useResolvedPath(Re,{relative:Ce}={}){let{matches:je}=reactExports.useContext(RouteContext),{pathname:Be}=useLocation(),De=JSON.stringify(getResolveToMatches(je));return reactExports.useMemo(()=>resolveTo(Re,JSON.parse(De),Be,Ce==="path"),[Re,De,Be,Ce])}function useRoutes(Re,Ce){return useRoutesImpl(Re,Ce)}function useRoutesImpl(Re,Ce,je,Be){invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:De}=reactExports.useContext(NavigationContext),{matches:Fe}=reactExports.useContext(RouteContext),ke=Fe[Fe.length-1],Oe=ke?ke.params:{},Me=ke?ke.pathname:"/",Ue=ke?ke.pathnameBase:"/",$e=ke&&ke.route;{let Ye=$e&&$e.path||"";warningOnce(Me,!$e||Ye.endsWith("*")||Ye.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${Me}" (under <Route path="${Ye}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Ye}"> to <Route path="${Ye==="/"?"*":`${Ye}/*`}">.`)}let He=useLocation(),Qe;if(Ce){let Ye=typeof Ce=="string"?parsePath(Ce):Ce;invariant$2(Ue==="/"||Ye.pathname?.startsWith(Ue),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Ue}" but pathname "${Ye.pathname}" was given in the \`location\` prop.`),Qe=Ye}else Qe=He;let We=Qe.pathname||"/",qe=We;if(Ue!=="/"){let Ye=Ue.replace(/^\//,"").split("/");qe="/"+We.replace(/^\//,"").split("/").slice(Ye.length).join("/")}let Ke=matchRoutes(Re,{pathname:qe});warning($e||Ke!=null,`No routes matched location "${Qe.pathname}${Qe.search}${Qe.hash}" `),warning(Ke==null||Ke[Ke.length-1].route.element!==void 0||Ke[Ke.length-1].route.Component!==void 0||Ke[Ke.length-1].route.lazy!==void 0,`Matched leaf route at location "${Qe.pathname}${Qe.search}${Qe.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Xe=_renderMatches(Ke&&Ke.map(Ye=>Object.assign({},Ye,{params:Object.assign({},Oe,Ye.params),pathname:joinPaths([Ue,De.encodeLocation?De.encodeLocation(Ye.pathname).pathname:Ye.pathname]),pathnameBase:Ye.pathnameBase==="/"?Ue:joinPaths([Ue,De.encodeLocation?De.encodeLocation(Ye.pathnameBase).pathname:Ye.pathnameBase])})),Fe,je,Be);return Ce&&Xe?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Qe},navigationType:"POP"}},Xe):Xe}function DefaultErrorComponent(){let Re=useRouteError(),Ce=isRouteErrorResponse(Re)?`${Re.status} ${Re.statusText}`:Re instanceof Error?Re.message:JSON.stringify(Re),je=Re instanceof Error?Re.stack:null,Be="rgba(200,200,200, 0.5)",De={padding:"0.5rem",backgroundColor:Be},Fe={padding:"2px 4px",backgroundColor:Be},ke=null;return console.error("Error handled by React Router default ErrorBoundary:",Re),ke=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null," Hey developer "),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:Fe},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:Fe},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},Ce),je?reactExports.createElement("pre",{style:De},je):null,ke)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Re){super(Re),this.state={location:Re.location,revalidation:Re.revalidation,error:Re.error}}static getDerivedStateFromError(Re){return{error:Re}}static getDerivedStateFromProps(Re,Ce){return Ce.location!==Re.location||Ce.revalidation!=="idle"&&Re.revalidation==="idle"?{error:Re.error,location:Re.location,revalidation:Re.revalidation}:{error:Re.error!==void 0?Re.error:Ce.error,location:Ce.location,revalidation:Re.revalidation||Ce.revalidation}}componentDidCatch(Re,Ce){console.error("React Router caught the following error during render",Re,Ce)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Re,match:Ce,children:je}){let Be=reactExports.useContext(DataRouterContext);return Be&&Be.static&&Be.staticContext&&(Ce.route.errorElement||Ce.route.ErrorBoundary)&&(Be.staticContext._deepestRenderedBoundaryId=Ce.route.id),reactExports.createElement(RouteContext.Provider,{value:Re},je)}function _renderMatches(Re,Ce=[],je=null,Be=null){if(Re==null){if(!je)return null;if(je.errors)Re=je.matches;else if(Ce.length===0&&!je.initialized&&je.matches.length>0)Re=je.matches;else return null}let De=Re,Fe=je?.errors;if(Fe!=null){let Me=De.findIndex(Ue=>Ue.route.id&&Fe?.[Ue.route.id]!==void 0);invariant$2(Me>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(Fe).join(",")}`),De=De.slice(0,Math.min(De.length,Me+1))}let ke=!1,Oe=-1;if(je)for(let Me=0;Me<De.length;Me++){let Ue=De[Me];if((Ue.route.HydrateFallback||Ue.route.hydrateFallbackElement)&&(Oe=Me),Ue.route.id){let{loaderData:$e,errors:He}=je,Qe=Ue.route.loader&&!$e.hasOwnProperty(Ue.route.id)&&(!He||He[Ue.route.id]===void 0);if(Ue.route.lazy||Qe){ke=!0,Oe>=0?De=De.slice(0,Oe+1):De=[De[0]];break}}}return De.reduceRight((Me,Ue,$e)=>{let He,Qe=!1,We=null,qe=null;je&&(He=Fe&&Ue.route.id?Fe[Ue.route.id]:void 0,We=Ue.route.errorElement||defaultErrorElement,ke&&(Oe<0&&$e===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),Qe=!0,qe=null):Oe===$e&&(Qe=!0,qe=Ue.route.hydrateFallbackElement||null)));let Ke=Ce.concat(De.slice(0,$e+1)),Xe=()=>{let Ye;return He?Ye=We:Qe?Ye=qe:Ue.route.Component?Ye=reactExports.createElement(Ue.route.Component,null):Ue.route.element?Ye=Ue.route.element:Ye=Me,reactExports.createElement(RenderedRoute,{match:Ue,routeContext:{outlet:Me,matches:Ke,isDataRoute:je!=null},children:Ye})};return je&&(Ue.route.ErrorBoundary||Ue.route.errorElement||$e===0)?reactExports.createElement(RenderErrorBoundary,{location:je.location,revalidation:je.revalidation,component:We,error:He,children:Xe(),routeContext:{outlet:null,matches:Ke,isDataRoute:!0}}):Xe()},null)}function getDataRouterConsoleError(Re){return`${Re} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Re){let Ce=reactExports.useContext(DataRouterContext);return invariant$2(Ce,getDataRouterConsoleError(Re)),Ce}function useDataRouterState(Re){let Ce=reactExports.useContext(DataRouterStateContext);return invariant$2(Ce,getDataRouterConsoleError(Re)),Ce}function useRouteContext(Re){let Ce=reactExports.useContext(RouteContext);return invariant$2(Ce,getDataRouterConsoleError(Re)),Ce}function useCurrentRouteId(Re){let Ce=useRouteContext(Re),je=Ce.matches[Ce.matches.length-1];return invariant$2(je.route.id,`${Re} can only be used on routes that contain a unique "id"`),je.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){let Re=reactExports.useContext(RouteErrorContext),Ce=useDataRouterState("useRouteError"),je=useCurrentRouteId("useRouteError");return Re!==void 0?Re:Ce.errors?.[je]}function useNavigateStable(){let{router:Re}=useDataRouterContext("useNavigate"),Ce=useCurrentRouteId("useNavigate"),je=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{je.current=!0}),reactExports.useCallback(async(De,Fe={})=>{warning(je.current,navigateEffectWarning),je.current&&(typeof De=="number"?Re.navigate(De):await Re.navigate(De,{fromRouteId:Ce,...Fe}))},[Re,Ce])}var alreadyWarned={};function warningOnce(Re,Ce,je){!Ce&&!alreadyWarned[Re]&&(alreadyWarned[Re]=!0,warning(!1,je))}reactExports.memo(DataRoutes);function DataRoutes({routes:Re,future:Ce,state:je}){return useRoutesImpl(Re,void 0,je,Ce)}function Navigate({to:Re,replace:Ce,state:je,relative:Be}){invariant$2(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:De}=reactExports.useContext(NavigationContext);warning(!De,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:Fe}=reactExports.useContext(RouteContext),{pathname:ke}=useLocation(),Oe=useNavigate(),Me=resolveTo(Re,getResolveToMatches(Fe),ke,Be==="path"),Ue=JSON.stringify(Me);return reactExports.useEffect(()=>{Oe(JSON.parse(Ue),{replace:Ce,state:je,relative:Be})},[Oe,Ue,Be,Ce,je]),null}function Route(Re){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Re="/",children:Ce=null,location:je,navigationType:Be="POP",navigator:De,static:Fe=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let ke=Re.replace(/^\/*/,"/"),Oe=reactExports.useMemo(()=>({basename:ke,navigator:De,static:Fe,future:{}}),[ke,De,Fe]);typeof je=="string"&&(je=parsePath(je));let{pathname:Me="/",search:Ue="",hash:$e="",state:He=null,key:Qe="default"}=je,We=reactExports.useMemo(()=>{let qe=stripBasename(Me,ke);return qe==null?null:{location:{pathname:qe,search:Ue,hash:$e,state:He,key:Qe},navigationType:Be}},[ke,Me,Ue,$e,He,Qe,Be]);return warning(We!=null,`<Router basename="${ke}"> is not able to match the URL "${Me}${Ue}${$e}" because it does not start with the basename, so the <Router> won't render anything.`),We==null?null:reactExports.createElement(NavigationContext.Provider,{value:Oe},reactExports.createElement(LocationContext.Provider,{children:Ce,value:We}))}function Routes({children:Re,location:Ce}){return useRoutes(createRoutesFromChildren(Re),Ce)}function createRoutesFromChildren(Re,Ce=[]){let je=[];return reactExports.Children.forEach(Re,(Be,De)=>{if(!reactExports.isValidElement(Be))return;let Fe=[...Ce,De];if(Be.type===reactExports.Fragment){je.push.apply(je,createRoutesFromChildren(Be.props.children,Fe));return}invariant$2(Be.type===Route,`[${typeof Be.type=="string"?Be.type:Be.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!Be.props.index||!Be.props.children,"An index route cannot have child routes.");let ke={id:Be.props.id||Fe.join("-"),caseSensitive:Be.props.caseSensitive,element:Be.props.element,Component:Be.props.Component,index:Be.props.index,path:Be.props.path,loader:Be.props.loader,action:Be.props.action,hydrateFallbackElement:Be.props.hydrateFallbackElement,HydrateFallback:Be.props.HydrateFallback,errorElement:Be.props.errorElement,ErrorBoundary:Be.props.ErrorBoundary,hasErrorBoundary:Be.props.hasErrorBoundary===!0||Be.props.ErrorBoundary!=null||Be.props.errorElement!=null,shouldRevalidate:Be.props.shouldRevalidate,handle:Be.props.handle,lazy:Be.props.lazy};Be.props.children&&(ke.children=createRoutesFromChildren(Be.props.children,Fe)),je.push(ke)}),je}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Re){return Re!=null&&typeof Re.tagName=="string"}function isButtonElement(Re){return isHtmlElement(Re)&&Re.tagName.toLowerCase()==="button"}function isFormElement(Re){return isHtmlElement(Re)&&Re.tagName.toLowerCase()==="form"}function isInputElement(Re){return isHtmlElement(Re)&&Re.tagName.toLowerCase()==="input"}function isModifiedEvent(Re){return!!(Re.metaKey||Re.altKey||Re.ctrlKey||Re.shiftKey)}function shouldProcessLinkClick(Re,Ce){return Re.button===0&&(!Ce||Ce==="_self")&&!isModifiedEvent(Re)}function createSearchParams(Re=""){return new URLSearchParams(typeof Re=="string"||Array.isArray(Re)||Re instanceof URLSearchParams?Re:Object.keys(Re).reduce((Ce,je)=>{let Be=Re[je];return Ce.concat(Array.isArray(Be)?Be.map(De=>[je,De]):[[je,Be]])},[]))}function getSearchParamsForLocation(Re,Ce){let je=createSearchParams(Re);return Ce&&Ce.forEach((Be,De)=>{je.has(De)||Ce.getAll(De).forEach(Fe=>{je.append(De,Fe)})}),je}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Re){return Re!=null&&!supportedFormEncTypes.has(Re)?(warning(!1,`"${Re}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Re}function getFormSubmissionInfo(Re,Ce){let je,Be,De,Fe,ke;if(isFormElement(Re)){let Oe=Re.getAttribute("action");Be=Oe?stripBasename(Oe,Ce):null,je=Re.getAttribute("method")||defaultMethod,De=getFormEncType(Re.getAttribute("enctype"))||defaultEncType,Fe=new FormData(Re)}else if(isButtonElement(Re)||isInputElement(Re)&&(Re.type==="submit"||Re.type==="image")){let Oe=Re.form;if(Oe==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Me=Re.getAttribute("formaction")||Oe.getAttribute("action");if(Be=Me?stripBasename(Me,Ce):null,je=Re.getAttribute("formmethod")||Oe.getAttribute("method")||defaultMethod,De=getFormEncType(Re.getAttribute("formenctype"))||getFormEncType(Oe.getAttribute("enctype"))||defaultEncType,Fe=new FormData(Oe,Re),!isFormDataSubmitterSupported()){let{name:Ue,type:$e,value:He}=Re;if($e==="image"){let Qe=Ue?`${Ue}.`:"";Fe.append(`${Qe}x`,"0"),Fe.append(`${Qe}y`,"0")}else Ue&&Fe.append(Ue,He)}}else{if(isHtmlElement(Re))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');je=defaultMethod,Be=null,De=defaultEncType,ke=Re}return Fe&&De==="text/plain"&&(ke=Fe,Fe=void 0),{action:Be,method:je.toLowerCase(),encType:De,formData:Fe,body:ke}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function invariant2(Re,Ce){if(Re===!1||Re===null||typeof Re>"u")throw new Error(Ce)}function singleFetchUrl(Re,Ce,je){let Be=typeof Re=="string"?new URL(Re,typeof window>"u"?"server://singlefetch/":window.location.origin):Re;return Be.pathname==="/"?Be.pathname=`_root.${je}`:Ce&&stripBasename(Be.pathname,Ce)==="/"?Be.pathname=`${Ce.replace(/\/$/,"")}/_root.${je}`:Be.pathname=`${Be.pathname.replace(/\/$/,"")}.${je}`,Be}async function loadRouteModule(Re,Ce){if(Re.id in Ce)return Ce[Re.id];try{let je=await import(Re.module);return Ce[Re.id]=je,je}catch(je){return console.error(`Error loading route module \`${Re.module}\`, reloading page...`),console.error(je),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Re){return Re==null?!1:Re.href==null?Re.rel==="preload"&&typeof Re.imageSrcSet=="string"&&typeof Re.imageSizes=="string":typeof Re.rel=="string"&&typeof Re.href=="string"}async function getKeyedPrefetchLinks(Re,Ce,je){let Be=await Promise.all(Re.map(async De=>{let Fe=Ce.routes[De.route.id];if(Fe){let ke=await loadRouteModule(Fe,je);return ke.links?ke.links():[]}return[]}));return dedupeLinkDescriptors(Be.flat(1).filter(isHtmlLinkDescriptor).filter(De=>De.rel==="stylesheet"||De.rel==="preload").map(De=>De.rel==="stylesheet"?{...De,rel:"prefetch",as:"style"}:{...De,rel:"prefetch"}))}function getNewMatchesForLinks(Re,Ce,je,Be,De,Fe){let ke=(Me,Ue)=>je[Ue]?Me.route.id!==je[Ue].route.id:!0,Oe=(Me,Ue)=>je[Ue].pathname!==Me.pathname||je[Ue].route.path?.endsWith("*")&&je[Ue].params["*"]!==Me.params["*"];return Fe==="assets"?Ce.filter((Me,Ue)=>ke(Me,Ue)||Oe(Me,Ue)):Fe==="data"?Ce.filter((Me,Ue)=>{let $e=Be.routes[Me.route.id];if(!$e||!$e.hasLoader)return!1;if(ke(Me,Ue)||Oe(Me,Ue))return!0;if(Me.route.shouldRevalidate){let He=Me.route.shouldRevalidate({currentUrl:new URL(De.pathname+De.search+De.hash,window.origin),currentParams:je[0]?.params||{},nextUrl:new URL(Re,window.origin),nextParams:Me.params,defaultShouldRevalidate:!0});if(typeof He=="boolean")return He}return!0}):[]}function getModuleLinkHrefs(Re,Ce,{includeHydrateFallback:je}={}){return dedupeHrefs(Re.map(Be=>{let De=Ce.routes[Be.route.id];if(!De)return[];let Fe=[De.module];return De.clientActionModule&&(Fe=Fe.concat(De.clientActionModule)),De.clientLoaderModule&&(Fe=Fe.concat(De.clientLoaderModule)),je&&De.hydrateFallbackModule&&(Fe=Fe.concat(De.hydrateFallbackModule)),De.imports&&(Fe=Fe.concat(De.imports)),Fe}).flat(1))}function dedupeHrefs(Re){return[...new Set(Re)]}function sortKeys(Re){let Ce={},je=Object.keys(Re).sort();for(let Be of je)Ce[Be]=Re[Be];return Ce}function dedupeLinkDescriptors(Re,Ce){let je=new Set;return new Set(Ce),Re.reduce((Be,De)=>{let Fe=JSON.stringify(sortKeys(De));return je.has(Fe)||(je.add(Fe),Be.push({key:Fe,link:De})),Be},[])}function useDataRouterContext2(){let Re=reactExports.useContext(DataRouterContext);return invariant2(Re,"You must render this element inside a <DataRouterContext.Provider> element"),Re}function useDataRouterStateContext(){let Re=reactExports.useContext(DataRouterStateContext);return invariant2(Re,"You must render this element inside a <DataRouterStateContext.Provider> element"),Re}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Re=reactExports.useContext(FrameworkContext);return invariant2(Re,"You must render this element inside a <HydratedRouter> element"),Re}function usePrefetchBehavior(Re,Ce){let je=reactExports.useContext(FrameworkContext),[Be,De]=reactExports.useState(!1),[Fe,ke]=reactExports.useState(!1),{onFocus:Oe,onBlur:Me,onMouseEnter:Ue,onMouseLeave:$e,onTouchStart:He}=Ce,Qe=reactExports.useRef(null);reactExports.useEffect(()=>{if(Re==="render"&&ke(!0),Re==="viewport"){let Ke=Ye=>{Ye.forEach(Ze=>{ke(Ze.isIntersecting)})},Xe=new IntersectionObserver(Ke,{threshold:.5});return Qe.current&&Xe.observe(Qe.current),()=>{Xe.disconnect()}}},[Re]),reactExports.useEffect(()=>{if(Be){let Ke=setTimeout(()=>{ke(!0)},100);return()=>{clearTimeout(Ke)}}},[Be]);let We=()=>{De(!0)},qe=()=>{De(!1),ke(!1)};return je?Re!=="intent"?[Fe,Qe,{}]:[Fe,Qe,{onFocus:composeEventHandlers(Oe,We),onBlur:composeEventHandlers(Me,qe),onMouseEnter:composeEventHandlers(Ue,We),onMouseLeave:composeEventHandlers($e,qe),onTouchStart:composeEventHandlers(He,We)}]:[!1,Qe,{}]}function composeEventHandlers(Re,Ce){return je=>{Re&&Re(je),je.defaultPrevented||Ce(je)}}function PrefetchPageLinks({page:Re,...Ce}){let{router:je}=useDataRouterContext2(),Be=reactExports.useMemo(()=>matchRoutes(je.routes,Re,je.basename),[je.routes,Re,je.basename]);return Be?reactExports.createElement(PrefetchPageLinksImpl,{page:Re,matches:Be,...Ce}):null}function useKeyedPrefetchLinks(Re){let{manifest:Ce,routeModules:je}=useFrameworkContext(),[Be,De]=reactExports.useState([]);return reactExports.useEffect(()=>{let Fe=!1;return getKeyedPrefetchLinks(Re,Ce,je).then(ke=>{Fe||De(ke)}),()=>{Fe=!0}},[Re,Ce,je]),Be}function PrefetchPageLinksImpl({page:Re,matches:Ce,...je}){let Be=useLocation(),{manifest:De,routeModules:Fe}=useFrameworkContext(),{basename:ke}=useDataRouterContext2(),{loaderData:Oe,matches:Me}=useDataRouterStateContext(),Ue=reactExports.useMemo(()=>getNewMatchesForLinks(Re,Ce,Me,De,Be,"data"),[Re,Ce,Me,De,Be]),$e=reactExports.useMemo(()=>getNewMatchesForLinks(Re,Ce,Me,De,Be,"assets"),[Re,Ce,Me,De,Be]),He=reactExports.useMemo(()=>{if(Re===Be.pathname+Be.search+Be.hash)return[];let qe=new Set,Ke=!1;if(Ce.forEach(Ye=>{let Ze=De.routes[Ye.route.id];!Ze||!Ze.hasLoader||(!Ue.some(Je=>Je.route.id===Ye.route.id)&&Ye.route.id in Oe&&Fe[Ye.route.id]?.shouldRevalidate||Ze.hasClientLoader?Ke=!0:qe.add(Ye.route.id))}),qe.size===0)return[];let Xe=singleFetchUrl(Re,ke,"data");return Ke&&qe.size>0&&Xe.searchParams.set("_routes",Ce.filter(Ye=>qe.has(Ye.route.id)).map(Ye=>Ye.route.id).join(",")),[Xe.pathname+Xe.search]},[ke,Oe,Be,De,Ue,Ce,Re,Fe]),Qe=reactExports.useMemo(()=>getModuleLinkHrefs($e,De),[$e,De]),We=useKeyedPrefetchLinks($e);return reactExports.createElement(reactExports.Fragment,null,He.map(qe=>reactExports.createElement("link",{key:qe,rel:"prefetch",as:"fetch",href:qe,...je})),Qe.map(qe=>reactExports.createElement("link",{key:qe,rel:"modulepreload",href:qe,...je})),We.map(({key:qe,link:Ke})=>reactExports.createElement("link",{key:qe,nonce:je.nonce,...Ke})))}function mergeRefs(...Re){return Ce=>{Re.forEach(je=>{typeof je=="function"?je(Ce):je!=null&&(je.current=Ce)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.8.0")}catch{}function BrowserRouter({basename:Re,children:Ce,window:je}){let Be=reactExports.useRef();Be.current==null&&(Be.current=createBrowserHistory({window:je,v5Compat:!0}));let De=Be.current,[Fe,ke]=reactExports.useState({action:De.action,location:De.location}),Oe=reactExports.useCallback(Me=>{reactExports.startTransition(()=>ke(Me))},[ke]);return reactExports.useLayoutEffect(()=>De.listen(Oe),[De,Oe]),reactExports.createElement(Router,{basename:Re,children:Ce,location:Fe.location,navigationType:Fe.action,navigator:De})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link=reactExports.forwardRef(function({onClick:Ce,discover:je="render",prefetch:Be="none",relative:De,reloadDocument:Fe,replace:ke,state:Oe,target:Me,to:Ue,preventScrollReset:$e,viewTransition:He,...Qe},We){let{basename:qe}=reactExports.useContext(NavigationContext),Ke=typeof Ue=="string"&&ABSOLUTE_URL_REGEX2.test(Ue),Xe,Ye=!1;if(typeof Ue=="string"&&Ke&&(Xe=Ue,isBrowser$2))try{let cr=new URL(window.location.href),mr=Ue.startsWith("//")?new URL(cr.protocol+Ue):new URL(Ue),fr=stripBasename(mr.pathname,qe);mr.origin===cr.origin&&fr!=null?Ue=fr+mr.search+mr.hash:Ye=!0}catch{warning(!1,`<Link to="${Ue}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Ze=useHref(Ue,{relative:De}),[Je,tr,rr]=usePrefetchBehavior(Be,Qe),ar=useLinkClickHandler(Ue,{replace:ke,state:Oe,target:Me,preventScrollReset:$e,relative:De,viewTransition:He});function ir(cr){Ce&&Ce(cr),cr.defaultPrevented||ar(cr)}let nr=reactExports.createElement("a",{...Qe,...rr,href:Xe||Ze,onClick:Ye||Fe?Ce:ir,ref:mergeRefs(We,tr),target:Me,"data-discover":!Ke&&je==="render"?"true":void 0});return Je&&!Ke?reactExports.createElement(reactExports.Fragment,null,nr,reactExports.createElement(PrefetchPageLinks,{page:Ze})):nr});Link.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":Ce="page",caseSensitive:je=!1,className:Be="",end:De=!1,style:Fe,to:ke,viewTransition:Oe,children:Me,...Ue},$e){let He=useResolvedPath(ke,{relative:Ue.relative}),Qe=useLocation(),We=reactExports.useContext(DataRouterStateContext),{navigator:qe,basename:Ke}=reactExports.useContext(NavigationContext),Xe=We!=null&&useViewTransitionState(He)&&Oe===!0,Ye=qe.encodeLocation?qe.encodeLocation(He).pathname:He.pathname,Ze=Qe.pathname,Je=We&&We.navigation&&We.navigation.location?We.navigation.location.pathname:null;je||(Ze=Ze.toLowerCase(),Je=Je?Je.toLowerCase():null,Ye=Ye.toLowerCase()),Je&&Ke&&(Je=stripBasename(Je,Ke)||Je);const tr=Ye!=="/"&&Ye.endsWith("/")?Ye.length-1:Ye.length;let rr=Ze===Ye||!De&&Ze.startsWith(Ye)&&Ze.charAt(tr)==="/",ar=Je!=null&&(Je===Ye||!De&&Je.startsWith(Ye)&&Je.charAt(Ye.length)==="/"),ir={isActive:rr,isPending:ar,isTransitioning:Xe},nr=rr?Ce:void 0,cr;typeof Be=="function"?cr=Be(ir):cr=[Be,rr?"active":null,ar?"pending":null,Xe?"transitioning":null].filter(Boolean).join(" ");let mr=typeof Fe=="function"?Fe(ir):Fe;return reactExports.createElement(Link,{...Ue,"aria-current":nr,className:cr,ref:$e,style:mr,to:ke,viewTransition:Oe},typeof Me=="function"?Me(ir):Me)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Re="render",fetcherKey:Ce,navigate:je,reloadDocument:Be,replace:De,state:Fe,method:ke=defaultMethod,action:Oe,onSubmit:Me,relative:Ue,preventScrollReset:$e,viewTransition:He,...Qe},We)=>{let qe=useSubmit(),Ke=useFormAction(Oe,{relative:Ue}),Xe=ke.toLowerCase()==="get"?"get":"post",Ye=typeof Oe=="string"&&ABSOLUTE_URL_REGEX2.test(Oe),Ze=Je=>{if(Me&&Me(Je),Je.defaultPrevented)return;Je.preventDefault();let tr=Je.nativeEvent.submitter,rr=tr?.getAttribute("formmethod")||ke;qe(tr||Je.currentTarget,{fetcherKey:Ce,method:rr,navigate:je,replace:De,state:Fe,relative:Ue,preventScrollReset:$e,viewTransition:He})};return reactExports.createElement("form",{ref:We,method:Xe,action:Ke,onSubmit:Be?Me:Ze,...Qe,"data-discover":!Ye&&Re==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Re){return`${Re} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Re){let Ce=reactExports.useContext(DataRouterContext);return invariant$2(Ce,getDataRouterConsoleError2(Re)),Ce}function useLinkClickHandler(Re,{target:Ce,replace:je,state:Be,preventScrollReset:De,relative:Fe,viewTransition:ke}={}){let Oe=useNavigate(),Me=useLocation(),Ue=useResolvedPath(Re,{relative:Fe});return reactExports.useCallback($e=>{if(shouldProcessLinkClick($e,Ce)){$e.preventDefault();let He=je!==void 0?je:createPath(Me)===createPath(Ue);Oe(Re,{replace:He,state:Be,preventScrollReset:De,relative:Fe,viewTransition:ke})}},[Me,Oe,Ue,je,Be,Ce,Re,De,Fe,ke])}function useSearchParams(Re){warning(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let Ce=reactExports.useRef(createSearchParams(Re)),je=reactExports.useRef(!1),Be=useLocation(),De=reactExports.useMemo(()=>getSearchParamsForLocation(Be.search,je.current?null:Ce.current),[Be.search]),Fe=useNavigate(),ke=reactExports.useCallback((Oe,Me)=>{const Ue=createSearchParams(typeof Oe=="function"?Oe(new URLSearchParams(De)):Oe);je.current=!0,Fe("?"+Ue,Me)},[Fe,De]);return[De,ke]}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Re}=useDataRouterContext3("useSubmit"),{basename:Ce}=reactExports.useContext(NavigationContext),je=useRouteId();return reactExports.useCallback(async(Be,De={})=>{let{action:Fe,method:ke,encType:Oe,formData:Me,body:Ue}=getFormSubmissionInfo(Be,Ce);if(De.navigate===!1){let $e=De.fetcherKey||getUniqueFetcherId();await Re.fetch($e,je,De.action||Fe,{preventScrollReset:De.preventScrollReset,formData:Me,body:Ue,formMethod:De.method||ke,formEncType:De.encType||Oe,flushSync:De.flushSync})}else await Re.navigate(De.action||Fe,{preventScrollReset:De.preventScrollReset,formData:Me,body:Ue,formMethod:De.method||ke,formEncType:De.encType||Oe,replace:De.replace,state:De.state,fromRouteId:je,flushSync:De.flushSync,viewTransition:De.viewTransition})},[Re,Ce,je])}function useFormAction(Re,{relative:Ce}={}){let{basename:je}=reactExports.useContext(NavigationContext),Be=reactExports.useContext(RouteContext);invariant$2(Be,"useFormAction must be used inside a RouteContext");let[De]=Be.matches.slice(-1),Fe={...useResolvedPath(Re||".",{relative:Ce})},ke=useLocation();if(Re==null){Fe.search=ke.search;let Oe=new URLSearchParams(Fe.search),Me=Oe.getAll("index");if(Me.some($e=>$e==="")){Oe.delete("index"),Me.filter(He=>He).forEach(He=>Oe.append("index",He));let $e=Oe.toString();Fe.search=$e?`?${$e}`:""}}return(!Re||Re===".")&&De.route.index&&(Fe.search=Fe.search?Fe.search.replace(/^\?/,"?index&"):"?index"),je!=="/"&&(Fe.pathname=Fe.pathname==="/"?je:joinPaths([je,Fe.pathname])),createPath(Fe)}function useViewTransitionState(Re,{relative:Ce}={}){let je=reactExports.useContext(ViewTransitionContext);invariant$2(je!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Be}=useDataRouterContext3("useViewTransitionState"),De=useResolvedPath(Re,{relative:Ce});if(!je.isTransitioning)return!1;let Fe=stripBasename(je.currentLocation.pathname,Be)||je.currentLocation.pathname,ke=stripBasename(je.nextLocation.pathname,Be)||je.nextLocation.pathname;return matchPath(De.pathname,ke)!=null||matchPath(De.pathname,Fe)!=null}var reactDomExports=requireReactDom();const ReactDOM=getDefaultExportFromCjs(reactDomExports);var aos$1={exports:{}},aos=aos$1.exports,hasRequiredAos;function requireAos(){return hasRequiredAos||(hasRequiredAos=1,(function(Re,Ce){(function(je,Be){Re.exports=Be()})(aos,function(){return(function(je){function Be(Fe){if(De[Fe])return De[Fe].exports;var ke=De[Fe]={exports:{},id:Fe,loaded:!1};return je[Fe].call(ke.exports,ke,ke.exports,Be),ke.loaded=!0,ke.exports}var De={};return Be.m=je,Be.c=De,Be.p="dist/",Be(0)})([function(je,Be,De){function Fe(Cr){return Cr&&Cr.__esModule?Cr:{default:Cr}}var ke=Object.assign||function(Cr){for(var jr=1;jr<arguments.length;jr++){var vr=arguments[jr];for(var Tr in vr)Object.prototype.hasOwnProperty.call(vr,Tr)&&(Cr[Tr]=vr[Tr])}return Cr},Oe=De(1),Me=(Fe(Oe),De(6)),Ue=Fe(Me),$e=De(7),He=Fe($e),Qe=De(8),We=Fe(Qe),qe=De(9),Ke=Fe(qe),Xe=De(10),Ye=Fe(Xe),Ze=De(11),Je=Fe(Ze),tr=De(14),rr=Fe(tr),ar=[],ir=!1,nr={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},cr=function(){var Cr=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(Cr&&(ir=!0),ir)return ar=(0,Je.default)(ar,nr),(0,Ye.default)(ar,nr.once),ar},mr=function(){ar=(0,rr.default)(),cr()},fr=function(){ar.forEach(function(Cr,jr){Cr.node.removeAttribute("data-aos"),Cr.node.removeAttribute("data-aos-easing"),Cr.node.removeAttribute("data-aos-duration"),Cr.node.removeAttribute("data-aos-delay")})},or=function(Cr){return Cr===!0||Cr==="mobile"&&Ke.default.mobile()||Cr==="phone"&&Ke.default.phone()||Cr==="tablet"&&Ke.default.tablet()||typeof Cr=="function"&&Cr()===!0},yr=function(Cr){nr=ke(nr,Cr),ar=(0,rr.default)();var jr=document.all&&!window.atob;return or(nr.disable)||jr?fr():(nr.disableMutationObserver||We.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),nr.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",nr.easing),document.querySelector("body").setAttribute("data-aos-duration",nr.duration),document.querySelector("body").setAttribute("data-aos-delay",nr.delay),nr.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?cr(!0):nr.startEvent==="load"?window.addEventListener(nr.startEvent,function(){cr(!0)}):document.addEventListener(nr.startEvent,function(){cr(!0)}),window.addEventListener("resize",(0,He.default)(cr,nr.debounceDelay,!0)),window.addEventListener("orientationchange",(0,He.default)(cr,nr.debounceDelay,!0)),window.addEventListener("scroll",(0,Ue.default)(function(){(0,Ye.default)(ar,nr.once)},nr.throttleDelay)),nr.disableMutationObserver||We.default.ready("[data-aos]",mr),ar)};je.exports={init:yr,refresh:cr,refreshHard:mr}},function(je,Be){},,,,,function(je,Be){(function(De){function Fe(or,yr,Cr){function jr(hn){var yn=Dr,Zr=Or;return Dr=Or=void 0,Gr=hn,Ur=or.apply(Zr,yn)}function vr(hn){return Gr=hn,Qr=setTimeout(Er,yr),fn?jr(hn):Ur}function Tr(hn){var yn=hn-zr,Zr=hn-Gr,Rn=yr-yn;return nn?mr(Rn,br-Zr):Rn}function wr(hn){var yn=hn-zr,Zr=hn-Gr;return zr===void 0||yn>=yr||yn<0||nn&&Zr>=br}function Er(){var hn=fr();return wr(hn)?Pr(hn):void(Qr=setTimeout(Er,Tr(hn)))}function Pr(hn){return Qr=void 0,bn&&Dr?jr(hn):(Dr=Or=void 0,Ur)}function Mr(){Qr!==void 0&&clearTimeout(Qr),Gr=0,Dr=zr=Or=Qr=void 0}function _r(){return Qr===void 0?Ur:Pr(fr())}function Ir(){var hn=fr(),yn=wr(hn);if(Dr=arguments,Or=this,zr=hn,yn){if(Qr===void 0)return vr(zr);if(nn)return Qr=setTimeout(Er,yr),jr(zr)}return Qr===void 0&&(Qr=setTimeout(Er,yr)),Ur}var Dr,Or,br,Ur,Qr,zr,Gr=0,fn=!1,nn=!1,bn=!0;if(typeof or!="function")throw new TypeError(Qe);return yr=$e(yr)||0,Oe(Cr)&&(fn=!!Cr.leading,nn="maxWait"in Cr,br=nn?cr($e(Cr.maxWait)||0,yr):br,bn="trailing"in Cr?!!Cr.trailing:bn),Ir.cancel=Mr,Ir.flush=_r,Ir}function ke(or,yr,Cr){var jr=!0,vr=!0;if(typeof or!="function")throw new TypeError(Qe);return Oe(Cr)&&(jr="leading"in Cr?!!Cr.leading:jr,vr="trailing"in Cr?!!Cr.trailing:vr),Fe(or,yr,{leading:jr,maxWait:yr,trailing:vr})}function Oe(or){var yr=typeof or>"u"?"undefined":He(or);return!!or&&(yr=="object"||yr=="function")}function Me(or){return!!or&&(typeof or>"u"?"undefined":He(or))=="object"}function Ue(or){return(typeof or>"u"?"undefined":He(or))=="symbol"||Me(or)&&nr.call(or)==qe}function $e(or){if(typeof or=="number")return or;if(Ue(or))return We;if(Oe(or)){var yr=typeof or.valueOf=="function"?or.valueOf():or;or=Oe(yr)?yr+"":yr}if(typeof or!="string")return or===0?or:+or;or=or.replace(Ke,"");var Cr=Ye.test(or);return Cr||Ze.test(or)?Je(or.slice(2),Cr?2:8):Xe.test(or)?We:+or}var He=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(or){return typeof or}:function(or){return or&&typeof Symbol=="function"&&or.constructor===Symbol&&or!==Symbol.prototype?"symbol":typeof or},Qe="Expected a function",We=NaN,qe="[object Symbol]",Ke=/^\s+|\s+$/g,Xe=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Ze=/^0o[0-7]+$/i,Je=parseInt,tr=(typeof De>"u"?"undefined":He(De))=="object"&&De&&De.Object===Object&&De,rr=(typeof self>"u"?"undefined":He(self))=="object"&&self&&self.Object===Object&&self,ar=tr||rr||Function("return this")(),ir=Object.prototype,nr=ir.toString,cr=Math.max,mr=Math.min,fr=function(){return ar.Date.now()};je.exports=ke}).call(Be,(function(){return this})())},function(je,Be){(function(De){function Fe(fr,or,yr){function Cr(bn){var hn=Ir,yn=Dr;return Ir=Dr=void 0,zr=bn,br=fr.apply(yn,hn)}function jr(bn){return zr=bn,Ur=setTimeout(wr,or),Gr?Cr(bn):br}function vr(bn){var hn=bn-Qr,yn=bn-zr,Zr=or-hn;return fn?cr(Zr,Or-yn):Zr}function Tr(bn){var hn=bn-Qr,yn=bn-zr;return Qr===void 0||hn>=or||hn<0||fn&&yn>=Or}function wr(){var bn=mr();return Tr(bn)?Er(bn):void(Ur=setTimeout(wr,vr(bn)))}function Er(bn){return Ur=void 0,nn&&Ir?Cr(bn):(Ir=Dr=void 0,br)}function Pr(){Ur!==void 0&&clearTimeout(Ur),zr=0,Ir=Qr=Dr=Ur=void 0}function Mr(){return Ur===void 0?br:Er(mr())}function _r(){var bn=mr(),hn=Tr(bn);if(Ir=arguments,Dr=this,Qr=bn,hn){if(Ur===void 0)return jr(Qr);if(fn)return Ur=setTimeout(wr,or),Cr(Qr)}return Ur===void 0&&(Ur=setTimeout(wr,or)),br}var Ir,Dr,Or,br,Ur,Qr,zr=0,Gr=!1,fn=!1,nn=!0;if(typeof fr!="function")throw new TypeError(He);return or=Ue(or)||0,ke(yr)&&(Gr=!!yr.leading,fn="maxWait"in yr,Or=fn?nr(Ue(yr.maxWait)||0,or):Or,nn="trailing"in yr?!!yr.trailing:nn),_r.cancel=Pr,_r.flush=Mr,_r}function ke(fr){var or=typeof fr>"u"?"undefined":$e(fr);return!!fr&&(or=="object"||or=="function")}function Oe(fr){return!!fr&&(typeof fr>"u"?"undefined":$e(fr))=="object"}function Me(fr){return(typeof fr>"u"?"undefined":$e(fr))=="symbol"||Oe(fr)&&ir.call(fr)==We}function Ue(fr){if(typeof fr=="number")return fr;if(Me(fr))return Qe;if(ke(fr)){var or=typeof fr.valueOf=="function"?fr.valueOf():fr;fr=ke(or)?or+"":or}if(typeof fr!="string")return fr===0?fr:+fr;fr=fr.replace(qe,"");var yr=Xe.test(fr);return yr||Ye.test(fr)?Ze(fr.slice(2),yr?2:8):Ke.test(fr)?Qe:+fr}var $e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fr){return typeof fr}:function(fr){return fr&&typeof Symbol=="function"&&fr.constructor===Symbol&&fr!==Symbol.prototype?"symbol":typeof fr},He="Expected a function",Qe=NaN,We="[object Symbol]",qe=/^\s+|\s+$/g,Ke=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ye=/^0o[0-7]+$/i,Ze=parseInt,Je=(typeof De>"u"?"undefined":$e(De))=="object"&&De&&De.Object===Object&&De,tr=(typeof self>"u"?"undefined":$e(self))=="object"&&self&&self.Object===Object&&self,rr=Je||tr||Function("return this")(),ar=Object.prototype,ir=ar.toString,nr=Math.max,cr=Math.min,mr=function(){return rr.Date.now()};je.exports=Fe}).call(Be,(function(){return this})())},function(je,Be){function De($e){var He=void 0,Qe=void 0;for(He=0;He<$e.length;He+=1)if(Qe=$e[He],Qe.dataset&&Qe.dataset.aos||Qe.children&&De(Qe.children))return!0;return!1}function Fe(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function ke(){return!!Fe()}function Oe($e,He){var Qe=window.document,We=Fe(),qe=new We(Me);Ue=He,qe.observe(Qe.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function Me($e){$e&&$e.forEach(function(He){var Qe=Array.prototype.slice.call(He.addedNodes),We=Array.prototype.slice.call(He.removedNodes),qe=Qe.concat(We);if(De(qe))return Ue()})}Object.defineProperty(Be,"__esModule",{value:!0});var Ue=function(){};Be.default={isSupported:ke,ready:Oe}},function(je,Be){function De(Qe,We){if(!(Qe instanceof We))throw new TypeError("Cannot call a class as a function")}function Fe(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(Be,"__esModule",{value:!0});var ke=(function(){function Qe(We,qe){for(var Ke=0;Ke<qe.length;Ke++){var Xe=qe[Ke];Xe.enumerable=Xe.enumerable||!1,Xe.configurable=!0,"value"in Xe&&(Xe.writable=!0),Object.defineProperty(We,Xe.key,Xe)}}return function(We,qe,Ke){return qe&&Qe(We.prototype,qe),Ke&&Qe(We,Ke),We}})(),Oe=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,Me=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,Ue=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,$e=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,He=(function(){function Qe(){De(this,Qe)}return ke(Qe,[{key:"phone",value:function(){var We=Fe();return!(!Oe.test(We)&&!Me.test(We.substr(0,4)))}},{key:"mobile",value:function(){var We=Fe();return!(!Ue.test(We)&&!$e.test(We.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),Qe})();Be.default=new He},function(je,Be){Object.defineProperty(Be,"__esModule",{value:!0});var De=function(ke,Oe,Me){var Ue=ke.node.getAttribute("data-aos-once");Oe>ke.position?ke.node.classList.add("aos-animate"):typeof Ue<"u"&&(Ue==="false"||!Me&&Ue!=="true")&&ke.node.classList.remove("aos-animate")},Fe=function(ke,Oe){var Me=window.pageYOffset,Ue=window.innerHeight;ke.forEach(function($e,He){De($e,Ue+Me,Oe)})};Be.default=Fe},function(je,Be,De){function Fe(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}Object.defineProperty(Be,"__esModule",{value:!0});var ke=De(12),Oe=Fe(ke),Me=function(Ue,$e){return Ue.forEach(function(He,Qe){He.node.classList.add("aos-init"),He.position=(0,Oe.default)(He.node,$e.offset)}),Ue};Be.default=Me},function(je,Be,De){function Fe(Ue){return Ue&&Ue.__esModule?Ue:{default:Ue}}Object.defineProperty(Be,"__esModule",{value:!0});var ke=De(13),Oe=Fe(ke),Me=function(Ue,$e){var He=0,Qe=0,We=window.innerHeight,qe={offset:Ue.getAttribute("data-aos-offset"),anchor:Ue.getAttribute("data-aos-anchor"),anchorPlacement:Ue.getAttribute("data-aos-anchor-placement")};switch(qe.offset&&!isNaN(qe.offset)&&(Qe=parseInt(qe.offset)),qe.anchor&&document.querySelectorAll(qe.anchor)&&(Ue=document.querySelectorAll(qe.anchor)[0]),He=(0,Oe.default)(Ue).top,qe.anchorPlacement){case"top-bottom":break;case"center-bottom":He+=Ue.offsetHeight/2;break;case"bottom-bottom":He+=Ue.offsetHeight;break;case"top-center":He+=We/2;break;case"bottom-center":He+=We/2+Ue.offsetHeight;break;case"center-center":He+=We/2+Ue.offsetHeight/2;break;case"top-top":He+=We;break;case"bottom-top":He+=Ue.offsetHeight+We;break;case"center-top":He+=Ue.offsetHeight/2+We}return qe.anchorPlacement||qe.offset||isNaN($e)||(Qe=$e),He+Qe};Be.default=Me},function(je,Be){Object.defineProperty(Be,"__esModule",{value:!0});var De=function(Fe){for(var ke=0,Oe=0;Fe&&!isNaN(Fe.offsetLeft)&&!isNaN(Fe.offsetTop);)ke+=Fe.offsetLeft-(Fe.tagName!="BODY"?Fe.scrollLeft:0),Oe+=Fe.offsetTop-(Fe.tagName!="BODY"?Fe.scrollTop:0),Fe=Fe.offsetParent;return{top:Oe,left:ke}};Be.default=De},function(je,Be){Object.defineProperty(Be,"__esModule",{value:!0});var De=function(Fe){return Fe=Fe||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(Fe,function(ke){return{node:ke}})};Be.default=De}])})})(aos$1)),aos$1.exports}var aosExports=requireAos();const AOS=getDefaultExportFromCjs(aosExports);var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,(function(module,exports){typeof document<"u"&&typeof navigator<"u"&&(function(Re,Ce){module.exports=Ce()})(lottie$1,(function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(Ce){_useWebWorker=!!Ce},getWebWorker=function(){return _useWebWorker},setLocationHref=function(Ce){locationHref=Ce},getLocationHref=function(){return locationHref};function createTag(Re){return document.createElement(Re)}function extendPrototype(Re,Ce){var je,Be=Re.length,De;for(je=0;je<Be;je+=1){De=Re[je].prototype;for(var Fe in De)Object.prototype.hasOwnProperty.call(De,Fe)&&(Ce.prototype[Fe]=De[Fe])}}function getDescriptor(Re,Ce){return Object.getOwnPropertyDescriptor(Re,Ce)}function createProxyFunction(Re){function Ce(){}return Ce.prototype=Re,Ce}var audioControllerFactory=(function(){function Re(Ce){this.audios=[],this.audioFactory=Ce,this._volume=1,this._isMuted=!1}return Re.prototype={addAudio:function(je){this.audios.push(je)},pause:function(){var je,Be=this.audios.length;for(je=0;je<Be;je+=1)this.audios[je].pause()},resume:function(){var je,Be=this.audios.length;for(je=0;je<Be;je+=1)this.audios[je].resume()},setRate:function(je){var Be,De=this.audios.length;for(Be=0;Be<De;Be+=1)this.audios[Be].setRate(je)},createAudio:function(je){return this.audioFactory?this.audioFactory(je):window.Howl?new window.Howl({src:[je]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(je){this.audioFactory=je},setVolume:function(je){this._volume=je,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var je,Be=this.audios.length;for(je=0;je<Be;je+=1)this.audios[je].volume(this._volume*(this._isMuted?0:1))}},function(){return new Re}})(),createTypedArray=(function(){function Re(je,Be){var De=0,Fe=[],ke;switch(je){case"int16":case"uint8c":ke=1;break;default:ke=1.1;break}for(De=0;De<Be;De+=1)Fe.push(ke);return Fe}function Ce(je,Be){return je==="float32"?new Float32Array(Be):je==="int16"?new Int16Array(Be):je==="uint8c"?new Uint8ClampedArray(Be):Re(je,Be)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?Ce:Re})();function createSizedArray(Re){return Array.apply(null,{length:Re})}function _typeof$6(Re){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof$6(Re)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Re=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],Ce,je=Re.length;for(Ce=0;Ce<je;Ce+=1)BMMath[Re[Ce]]=Math[Re[Ce]]})(),BMMath.random=Math.random,BMMath.abs=function(Re){var Ce=_typeof$6(Re);if(Ce==="object"&&Re.length){var je=createSizedArray(Re.length),Be,De=Re.length;for(Be=0;Be<De;Be+=1)je[Be]=Math.abs(Re[Be]);return je}return Math.abs(Re)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(Re){Re.style.position="absolute",Re.style.top=0,Re.style.left=0,Re.style.display="block",Re.style.transformOrigin="0 0",Re.style.webkitTransformOrigin="0 0",Re.style.backfaceVisibility="visible",Re.style.webkitBackfaceVisibility="visible",Re.style.transformStyle="preserve-3d",Re.style.webkitTransformStyle="preserve-3d",Re.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Re,Ce,je,Be){this.type=Re,this.currentTime=Ce,this.totalTime=je,this.direction=Be<0?-1:1}function BMCompleteEvent(Re,Ce){this.type=Re,this.direction=Ce<0?-1:1}function BMCompleteLoopEvent(Re,Ce,je,Be){this.type=Re,this.currentLoop=je,this.totalLoops=Ce,this.direction=Be<0?-1:1}function BMSegmentStartEvent(Re,Ce,je){this.type=Re,this.firstFrame=Ce,this.totalFrames=je}function BMDestroyEvent(Re,Ce){this.type=Re,this.target=Ce}function BMRenderFrameErrorEvent(Re,Ce){this.type="renderFrameError",this.nativeError=Re,this.currentTime=Ce}function BMConfigErrorEvent(Re){this.type="configError",this.nativeError=Re}var createElementID=(function(){var Re=0;return function(){return Re+=1,idPrefix$1+"__lottie_element_"+Re}})();function HSVtoRGB(Re,Ce,je){var Be,De,Fe,ke,Oe,Me,Ue,$e;switch(ke=Math.floor(Re*6),Oe=Re*6-ke,Me=je*(1-Ce),Ue=je*(1-Oe*Ce),$e=je*(1-(1-Oe)*Ce),ke%6){case 0:Be=je,De=$e,Fe=Me;break;case 1:Be=Ue,De=je,Fe=Me;break;case 2:Be=Me,De=je,Fe=$e;break;case 3:Be=Me,De=Ue,Fe=je;break;case 4:Be=$e,De=Me,Fe=je;break;case 5:Be=je,De=Me,Fe=Ue;break}return[Be,De,Fe]}function RGBtoHSV(Re,Ce,je){var Be=Math.max(Re,Ce,je),De=Math.min(Re,Ce,je),Fe=Be-De,ke,Oe=Be===0?0:Fe/Be,Me=Be/255;switch(Be){case De:ke=0;break;case Re:ke=Ce-je+Fe*(Ce<je?6:0),ke/=6*Fe;break;case Ce:ke=je-Re+Fe*2,ke/=6*Fe;break;case je:ke=Re-Ce+Fe*4,ke/=6*Fe;break}return[ke,Oe,Me]}function addSaturationToRGB(Re,Ce){var je=RGBtoHSV(Re[0]*255,Re[1]*255,Re[2]*255);return je[1]+=Ce,je[1]>1?je[1]=1:je[1]<=0&&(je[1]=0),HSVtoRGB(je[0],je[1],je[2])}function addBrightnessToRGB(Re,Ce){var je=RGBtoHSV(Re[0]*255,Re[1]*255,Re[2]*255);return je[2]+=Ce,je[2]>1?je[2]=1:je[2]<0&&(je[2]=0),HSVtoRGB(je[0],je[1],je[2])}function addHueToRGB(Re,Ce){var je=RGBtoHSV(Re[0]*255,Re[1]*255,Re[2]*255);return je[0]+=Ce/360,je[0]>1?je[0]-=1:je[0]<0&&(je[0]+=1),HSVtoRGB(je[0],je[1],je[2])}var rgbToHex=(function(){var Re=[],Ce,je;for(Ce=0;Ce<256;Ce+=1)je=Ce.toString(16),Re[Ce]=je.length===1?"0"+je:je;return function(Be,De,Fe){return Be<0&&(Be=0),De<0&&(De=0),Fe<0&&(Fe=0),"#"+Re[Be]+Re[De]+Re[Fe]}})(),setSubframeEnabled=function(Ce){subframeEnabled=!!Ce},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(Ce){expressionsPlugin=Ce},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(Ce){expressionsInterfaces=Ce},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(Ce){defaultCurveSegments=Ce},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(Ce){idPrefix$1=Ce};function createNS(Re){return document.createElementNS(svgNS,Re)}function _typeof$5(Re){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof$5(Re)}var dataManager=(function(){var Re=1,Ce=[],je,Be,De={onmessage:function(){},postMessage:function(We){je({data:We})}},Fe={postMessage:function(We){De.onmessage({data:We})}};function ke(Qe){if(window.Worker&&window.Blob&&getWebWorker()){var We=new Blob(["var _workerSelf = self; self.onmessage = ",Qe.toString()],{type:"text/javascript"}),qe=URL.createObjectURL(We);return new Worker(qe)}return je=Qe,De}function Oe(){Be||(Be=ke(function(We){function qe(){function Xe(jr,vr){var Tr,wr,Er=jr.length,Pr,Mr,_r,Ir;for(wr=0;wr<Er;wr+=1)if(Tr=jr[wr],"ks"in Tr&&!Tr.completed){if(Tr.completed=!0,Tr.hasMask){var Dr=Tr.masksProperties;for(Mr=Dr.length,Pr=0;Pr<Mr;Pr+=1)if(Dr[Pr].pt.k.i)rr(Dr[Pr].pt.k);else for(Ir=Dr[Pr].pt.k.length,_r=0;_r<Ir;_r+=1)Dr[Pr].pt.k[_r].s&&rr(Dr[Pr].pt.k[_r].s[0]),Dr[Pr].pt.k[_r].e&&rr(Dr[Pr].pt.k[_r].e[0])}Tr.ty===0?(Tr.layers=Je(Tr.refId,vr),Xe(Tr.layers,vr)):Tr.ty===4?tr(Tr.shapes):Tr.ty===5&&yr(Tr)}}function Ye(jr,vr){if(jr){var Tr=0,wr=jr.length;for(Tr=0;Tr<wr;Tr+=1)jr[Tr].t===1&&(jr[Tr].data.layers=Je(jr[Tr].data.refId,vr),Xe(jr[Tr].data.layers,vr))}}function Ze(jr,vr){for(var Tr=0,wr=vr.length;Tr<wr;){if(vr[Tr].id===jr)return vr[Tr];Tr+=1}return null}function Je(jr,vr){var Tr=Ze(jr,vr);return Tr?Tr.layers.__used?JSON.parse(JSON.stringify(Tr.layers)):(Tr.layers.__used=!0,Tr.layers):null}function tr(jr){var vr,Tr=jr.length,wr,Er;for(vr=Tr-1;vr>=0;vr-=1)if(jr[vr].ty==="sh")if(jr[vr].ks.k.i)rr(jr[vr].ks.k);else for(Er=jr[vr].ks.k.length,wr=0;wr<Er;wr+=1)jr[vr].ks.k[wr].s&&rr(jr[vr].ks.k[wr].s[0]),jr[vr].ks.k[wr].e&&rr(jr[vr].ks.k[wr].e[0]);else jr[vr].ty==="gr"&&tr(jr[vr].it)}function rr(jr){var vr,Tr=jr.i.length;for(vr=0;vr<Tr;vr+=1)jr.i[vr][0]+=jr.v[vr][0],jr.i[vr][1]+=jr.v[vr][1],jr.o[vr][0]+=jr.v[vr][0],jr.o[vr][1]+=jr.v[vr][1]}function ar(jr,vr){var Tr=vr?vr.split("."):[100,100,100];return jr[0]>Tr[0]?!0:Tr[0]>jr[0]?!1:jr[1]>Tr[1]?!0:Tr[1]>jr[1]?!1:jr[2]>Tr[2]?!0:Tr[2]>jr[2]?!1:null}var ir=(function(){var jr=[4,4,14];function vr(wr){var Er=wr.t.d;wr.t.d={k:[{s:Er,t:0}]}}function Tr(wr){var Er,Pr=wr.length;for(Er=0;Er<Pr;Er+=1)wr[Er].ty===5&&vr(wr[Er])}return function(wr){if(ar(jr,wr.v)&&(Tr(wr.layers),wr.assets)){var Er,Pr=wr.assets.length;for(Er=0;Er<Pr;Er+=1)wr.assets[Er].layers&&Tr(wr.assets[Er].layers)}}})(),nr=(function(){var jr=[4,7,99];return function(vr){if(vr.chars&&!ar(jr,vr.v)){var Tr,wr=vr.chars.length;for(Tr=0;Tr<wr;Tr+=1){var Er=vr.chars[Tr];Er.data&&Er.data.shapes&&(tr(Er.data.shapes),Er.data.ip=0,Er.data.op=99999,Er.data.st=0,Er.data.sr=1,Er.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},vr.chars[Tr].t||(Er.data.shapes.push({ty:"no"}),Er.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}})(),cr=(function(){var jr=[5,7,15];function vr(wr){var Er=wr.t.p;typeof Er.a=="number"&&(Er.a={a:0,k:Er.a}),typeof Er.p=="number"&&(Er.p={a:0,k:Er.p}),typeof Er.r=="number"&&(Er.r={a:0,k:Er.r})}function Tr(wr){var Er,Pr=wr.length;for(Er=0;Er<Pr;Er+=1)wr[Er].ty===5&&vr(wr[Er])}return function(wr){if(ar(jr,wr.v)&&(Tr(wr.layers),wr.assets)){var Er,Pr=wr.assets.length;for(Er=0;Er<Pr;Er+=1)wr.assets[Er].layers&&Tr(wr.assets[Er].layers)}}})(),mr=(function(){var jr=[4,1,9];function vr(wr){var Er,Pr=wr.length,Mr,_r;for(Er=0;Er<Pr;Er+=1)if(wr[Er].ty==="gr")vr(wr[Er].it);else if(wr[Er].ty==="fl"||wr[Er].ty==="st")if(wr[Er].c.k&&wr[Er].c.k[0].i)for(_r=wr[Er].c.k.length,Mr=0;Mr<_r;Mr+=1)wr[Er].c.k[Mr].s&&(wr[Er].c.k[Mr].s[0]/=255,wr[Er].c.k[Mr].s[1]/=255,wr[Er].c.k[Mr].s[2]/=255,wr[Er].c.k[Mr].s[3]/=255),wr[Er].c.k[Mr].e&&(wr[Er].c.k[Mr].e[0]/=255,wr[Er].c.k[Mr].e[1]/=255,wr[Er].c.k[Mr].e[2]/=255,wr[Er].c.k[Mr].e[3]/=255);else wr[Er].c.k[0]/=255,wr[Er].c.k[1]/=255,wr[Er].c.k[2]/=255,wr[Er].c.k[3]/=255}function Tr(wr){var Er,Pr=wr.length;for(Er=0;Er<Pr;Er+=1)wr[Er].ty===4&&vr(wr[Er].shapes)}return function(wr){if(ar(jr,wr.v)&&(Tr(wr.layers),wr.assets)){var Er,Pr=wr.assets.length;for(Er=0;Er<Pr;Er+=1)wr.assets[Er].layers&&Tr(wr.assets[Er].layers)}}})(),fr=(function(){var jr=[4,4,18];function vr(wr){var Er,Pr=wr.length,Mr,_r;for(Er=Pr-1;Er>=0;Er-=1)if(wr[Er].ty==="sh")if(wr[Er].ks.k.i)wr[Er].ks.k.c=wr[Er].closed;else for(_r=wr[Er].ks.k.length,Mr=0;Mr<_r;Mr+=1)wr[Er].ks.k[Mr].s&&(wr[Er].ks.k[Mr].s[0].c=wr[Er].closed),wr[Er].ks.k[Mr].e&&(wr[Er].ks.k[Mr].e[0].c=wr[Er].closed);else wr[Er].ty==="gr"&&vr(wr[Er].it)}function Tr(wr){var Er,Pr,Mr=wr.length,_r,Ir,Dr,Or;for(Pr=0;Pr<Mr;Pr+=1){if(Er=wr[Pr],Er.hasMask){var br=Er.masksProperties;for(Ir=br.length,_r=0;_r<Ir;_r+=1)if(br[_r].pt.k.i)br[_r].pt.k.c=br[_r].cl;else for(Or=br[_r].pt.k.length,Dr=0;Dr<Or;Dr+=1)br[_r].pt.k[Dr].s&&(br[_r].pt.k[Dr].s[0].c=br[_r].cl),br[_r].pt.k[Dr].e&&(br[_r].pt.k[Dr].e[0].c=br[_r].cl)}Er.ty===4&&vr(Er.shapes)}}return function(wr){if(ar(jr,wr.v)&&(Tr(wr.layers),wr.assets)){var Er,Pr=wr.assets.length;for(Er=0;Er<Pr;Er+=1)wr.assets[Er].layers&&Tr(wr.assets[Er].layers)}}})();function or(jr){jr.__complete||(mr(jr),ir(jr),nr(jr),cr(jr),fr(jr),Xe(jr.layers,jr.assets),Ye(jr.chars,jr.assets),jr.__complete=!0)}function yr(jr){jr.t.a.length===0&&"m"in jr.t.p}var Cr={};return Cr.completeData=or,Cr.checkColors=mr,Cr.checkChars=nr,Cr.checkPathProperties=cr,Cr.checkShapes=fr,Cr.completeLayers=Xe,Cr}if(Fe.dataManager||(Fe.dataManager=qe()),Fe.assetLoader||(Fe.assetLoader=(function(){function Xe(Ze){var Je=Ze.getResponseHeader("content-type");return Je&&Ze.responseType==="json"&&Je.indexOf("json")!==-1||Ze.response&&_typeof$5(Ze.response)==="object"?Ze.response:Ze.response&&typeof Ze.response=="string"?JSON.parse(Ze.response):Ze.responseText?JSON.parse(Ze.responseText):null}function Ye(Ze,Je,tr,rr){var ar,ir=new XMLHttpRequest;try{ir.responseType="json"}catch{}ir.onreadystatechange=function(){if(ir.readyState===4)if(ir.status===200)ar=Xe(ir),tr(ar);else try{ar=Xe(ir),tr(ar)}catch(nr){rr&&rr(nr)}};try{ir.open(["G","E","T"].join(""),Ze,!0)}catch{ir.open(["G","E","T"].join(""),Je+"/"+Ze,!0)}ir.send()}return{load:Ye}})()),We.data.type==="loadAnimation")Fe.assetLoader.load(We.data.path,We.data.fullPath,function(Xe){Fe.dataManager.completeData(Xe),Fe.postMessage({id:We.data.id,payload:Xe,status:"success"})},function(){Fe.postMessage({id:We.data.id,status:"error"})});else if(We.data.type==="complete"){var Ke=We.data.animation;Fe.dataManager.completeData(Ke),Fe.postMessage({id:We.data.id,payload:Ke,status:"success"})}else We.data.type==="loadData"&&Fe.assetLoader.load(We.data.path,We.data.fullPath,function(Xe){Fe.postMessage({id:We.data.id,payload:Xe,status:"success"})},function(){Fe.postMessage({id:We.data.id,status:"error"})})}),Be.onmessage=function(Qe){var We=Qe.data,qe=We.id,Ke=Ce[qe];Ce[qe]=null,We.status==="success"?Ke.onComplete(We.payload):Ke.onError&&Ke.onError()})}function Me(Qe,We){Re+=1;var qe="processId_"+Re;return Ce[qe]={onComplete:Qe,onError:We},qe}function Ue(Qe,We,qe){Oe();var Ke=Me(We,qe);Be.postMessage({type:"loadAnimation",path:Qe,fullPath:window.location.origin+window.location.pathname,id:Ke})}function $e(Qe,We,qe){Oe();var Ke=Me(We,qe);Be.postMessage({type:"loadData",path:Qe,fullPath:window.location.origin+window.location.pathname,id:Ke})}function He(Qe,We,qe){Oe();var Ke=Me(We,qe);Be.postMessage({type:"complete",animation:Qe,id:Ke})}return{loadAnimation:Ue,loadData:$e,completeAnimation:He}})(),ImagePreloader=(function(){var Re=(function(){var Ye=createTag("canvas");Ye.width=1,Ye.height=1;var Ze=Ye.getContext("2d");return Ze.fillStyle="rgba(0,0,0,0)",Ze.fillRect(0,0,1,1),Ye})();function Ce(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function je(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Be(Ye,Ze,Je){var tr="";if(Ye.e)tr=Ye.p;else if(Ze){var rr=Ye.p;rr.indexOf("images/")!==-1&&(rr=rr.split("/")[1]),tr=Ze+rr}else tr=Je,tr+=Ye.u?Ye.u:"",tr+=Ye.p;return tr}function De(Ye){var Ze=0,Je=setInterval((function(){var tr=Ye.getBBox();(tr.width||Ze>500)&&(this._imageLoaded(),clearInterval(Je)),Ze+=1}).bind(this),50)}function Fe(Ye){var Ze=Be(Ye,this.assetsPath,this.path),Je=createNS("image");isSafari?this.testImageLoaded(Je):Je.addEventListener("load",this._imageLoaded,!1),Je.addEventListener("error",(function(){tr.img=Re,this._imageLoaded()}).bind(this),!1),Je.setAttributeNS("http://www.w3.org/1999/xlink","href",Ze),this._elementHelper.append?this._elementHelper.append(Je):this._elementHelper.appendChild(Je);var tr={img:Je,assetData:Ye};return tr}function ke(Ye){var Ze=Be(Ye,this.assetsPath,this.path),Je=createTag("img");Je.crossOrigin="anonymous",Je.addEventListener("load",this._imageLoaded,!1),Je.addEventListener("error",(function(){tr.img=Re,this._imageLoaded()}).bind(this),!1),Je.src=Ze;var tr={img:Je,assetData:Ye};return tr}function Oe(Ye){var Ze={assetData:Ye},Je=Be(Ye,this.assetsPath,this.path);return dataManager.loadData(Je,(function(tr){Ze.img=tr,this._footageLoaded()}).bind(this),(function(){Ze.img={},this._footageLoaded()}).bind(this)),Ze}function Me(Ye,Ze){this.imagesLoadedCb=Ze;var Je,tr=Ye.length;for(Je=0;Je<tr;Je+=1)Ye[Je].layers||(!Ye[Je].t||Ye[Je].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Ye[Je]))):Ye[Je].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Ye[Je]))))}function Ue(Ye){this.path=Ye||""}function $e(Ye){this.assetsPath=Ye||""}function He(Ye){for(var Ze=0,Je=this.images.length;Ze<Je;){if(this.images[Ze].assetData===Ye)return this.images[Ze].img;Ze+=1}return null}function Qe(){this.imagesLoadedCb=null,this.images.length=0}function We(){return this.totalImages===this.loadedAssets}function qe(){return this.totalFootages===this.loadedFootagesCount}function Ke(Ye,Ze){Ye==="svg"?(this._elementHelper=Ze,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function Xe(){this._imageLoaded=Ce.bind(this),this._footageLoaded=je.bind(this),this.testImageLoaded=De.bind(this),this.createFootageData=Oe.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return Xe.prototype={loadAssets:Me,setAssetsPath:$e,setPath:Ue,loadedImages:We,loadedFootages:qe,destroy:Qe,getAsset:He,createImgData:ke,createImageData:Fe,imageLoaded:Ce,footageLoaded:je,setCacheType:Ke},Xe})();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(Ce,je){if(this._cbs[Ce])for(var Be=this._cbs[Ce],De=0;De<Be.length;De+=1)Be[De](je)},addEventListener:function(Ce,je){return this._cbs[Ce]||(this._cbs[Ce]=[]),this._cbs[Ce].push(je),(function(){this.removeEventListener(Ce,je)}).bind(this)},removeEventListener:function(Ce,je){if(!je)this._cbs[Ce]=null;else if(this._cbs[Ce]){for(var Be=0,De=this._cbs[Ce].length;Be<De;)this._cbs[Ce][Be]===je&&(this._cbs[Ce].splice(Be,1),Be-=1,De-=1),Be+=1;this._cbs[Ce].length||(this._cbs[Ce]=null)}}};var markerParser=(function(){function Re(Ce){for(var je=Ce.split(`\r
`),Be={},De,Fe=0,ke=0;ke<je.length;ke+=1)De=je[ke].split(":"),De.length===2&&(Be[De[0]]=De[1].trim(),Fe+=1);if(Fe===0)throw new Error;return Be}return function(Ce){for(var je=[],Be=0;Be<Ce.length;Be+=1){var De=Ce[Be],Fe={time:De.tm,duration:De.dr};try{Fe.payload=JSON.parse(Ce[Be].cm)}catch{try{Fe.payload=Re(Ce[Be].cm)}catch{Fe.payload={name:Ce[Be].cm}}}je.push(Fe)}return je}})(),ProjectInterface=(function(){function Re(Ce){this.compositions.push(Ce)}return function(){function Ce(je){for(var Be=0,De=this.compositions.length;Be<De;){if(this.compositions[Be].data&&this.compositions[Be].data.nm===je)return this.compositions[Be].prepareFrame&&this.compositions[Be].data.xt&&this.compositions[Be].prepareFrame(this.currentFrame),this.compositions[Be].compInterface;Be+=1}return null}return Ce.compositions=[],Ce.currentFrame=0,Ce.registerComposition=Re,Ce}})(),renderers={},registerRenderer=function(Ce,je){renderers[Ce]=je};function getRenderer(Re){return renderers[Re]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Re in renderers)if(renderers[Re])return Re;return""}function _typeof$4(Re){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof$4(Re)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Re){(Re.wrapper||Re.container)&&(this.wrapper=Re.wrapper||Re.container);var Ce="svg";Re.animType?Ce=Re.animType:Re.renderer&&(Ce=Re.renderer);var je=getRenderer(Ce);this.renderer=new je(this,Re.rendererSettings),this.imagePreloader.setCacheType(Ce,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=Ce,Re.loop===""||Re.loop===null||Re.loop===void 0||Re.loop===!0?this.loop=!0:Re.loop===!1?this.loop=!1:this.loop=parseInt(Re.loop,10),this.autoplay="autoplay"in Re?Re.autoplay:!0,this.name=Re.name?Re.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Re,"autoloadSegments")?Re.autoloadSegments:!0,this.assetsPath=Re.assetsPath,this.initialSegment=Re.initialSegment,Re.audioFactory&&this.audioController.setAudioFactory(Re.audioFactory),Re.animationData?this.setupAnimation(Re.animationData):Re.path&&(Re.path.lastIndexOf("\\")!==-1?this.path=Re.path.substr(0,Re.path.lastIndexOf("\\")+1):this.path=Re.path.substr(0,Re.path.lastIndexOf("/")+1),this.fileName=Re.path.substr(Re.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Re.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Re){dataManager.completeAnimation(Re,this.configAnimation)},AnimationItem.prototype.setData=function(Re,Ce){Ce&&_typeof$4(Ce)!=="object"&&(Ce=JSON.parse(Ce));var je={wrapper:Re,animationData:Ce},Be=Re.attributes;je.path=Be.getNamedItem("data-animation-path")?Be.getNamedItem("data-animation-path").value:Be.getNamedItem("data-bm-path")?Be.getNamedItem("data-bm-path").value:Be.getNamedItem("bm-path")?Be.getNamedItem("bm-path").value:"",je.animType=Be.getNamedItem("data-anim-type")?Be.getNamedItem("data-anim-type").value:Be.getNamedItem("data-bm-type")?Be.getNamedItem("data-bm-type").value:Be.getNamedItem("bm-type")?Be.getNamedItem("bm-type").value:Be.getNamedItem("data-bm-renderer")?Be.getNamedItem("data-bm-renderer").value:Be.getNamedItem("bm-renderer")?Be.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var De=Be.getNamedItem("data-anim-loop")?Be.getNamedItem("data-anim-loop").value:Be.getNamedItem("data-bm-loop")?Be.getNamedItem("data-bm-loop").value:Be.getNamedItem("bm-loop")?Be.getNamedItem("bm-loop").value:"";De==="false"?je.loop=!1:De==="true"?je.loop=!0:De!==""&&(je.loop=parseInt(De,10));var Fe=Be.getNamedItem("data-anim-autoplay")?Be.getNamedItem("data-anim-autoplay").value:Be.getNamedItem("data-bm-autoplay")?Be.getNamedItem("data-bm-autoplay").value:Be.getNamedItem("bm-autoplay")?Be.getNamedItem("bm-autoplay").value:!0;je.autoplay=Fe!=="false",je.name=Be.getNamedItem("data-name")?Be.getNamedItem("data-name").value:Be.getNamedItem("data-bm-name")?Be.getNamedItem("data-bm-name").value:Be.getNamedItem("bm-name")?Be.getNamedItem("bm-name").value:"";var ke=Be.getNamedItem("data-anim-prerender")?Be.getNamedItem("data-anim-prerender").value:Be.getNamedItem("data-bm-prerender")?Be.getNamedItem("data-bm-prerender").value:Be.getNamedItem("bm-prerender")?Be.getNamedItem("bm-prerender").value:"";ke==="false"&&(je.prerender=!1),je.path?this.setParams(je):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Re){Re.op>this.animationData.op&&(this.animationData.op=Re.op,this.totalFrames=Math.floor(Re.op-this.animationData.ip));var Ce=this.animationData.layers,je,Be=Ce.length,De=Re.layers,Fe,ke=De.length;for(Fe=0;Fe<ke;Fe+=1)for(je=0;je<Be;){if(Ce[je].id===De[Fe].id){Ce[je]=De[Fe];break}je+=1}if((Re.chars||Re.fonts)&&(this.renderer.globalData.fontManager.addChars(Re.chars),this.renderer.globalData.fontManager.addFonts(Re.fonts,this.renderer.globalData.defs)),Re.assets)for(Be=Re.assets.length,je=0;je<Be;je+=1)this.animationData.assets.push(Re.assets[je]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Re){this.animationData=Re;var Ce=getExpressionsPlugin();Ce&&Ce.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Re=this.animationData.segments;if(!Re||Re.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var Ce=Re.shift();this.timeCompleted=Ce.time*this.frameRate;var je=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(je,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var Re=this.animationData.segments;Re||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Re){if(this.renderer)try{this.animationData=Re,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Re),Re.assets||(Re.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Re.assets),this.markers=markerParser(Re.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(Ce){this.triggerConfigError(Ce)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Re=getExpressionsPlugin();Re&&Re.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Re,Ce){var je=typeof Re=="number"?Re:void 0,Be=typeof Ce=="number"?Ce:void 0;this.renderer.updateContainerSize(je,Be)},AnimationItem.prototype.setSubframe=function(Re){this.isSubframeEnabled=!!Re},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Re){this.triggerRenderFrameError(Re)}},AnimationItem.prototype.play=function(Re){Re&&this.name!==Re||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Re){Re&&this.name!==Re||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Re){Re&&this.name!==Re||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Re){Re&&this.name!==Re||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Re){for(var Ce,je=0;je<this.markers.length;je+=1)if(Ce=this.markers[je],Ce.payload&&Ce.payload.name===Re)return Ce;return null},AnimationItem.prototype.goToAndStop=function(Re,Ce,je){if(!(je&&this.name!==je)){var Be=Number(Re);if(isNaN(Be)){var De=this.getMarkerData(Re);De&&this.goToAndStop(De.time,!0)}else Ce?this.setCurrentRawFrameValue(Re):this.setCurrentRawFrameValue(Re*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Re,Ce,je){if(!(je&&this.name!==je)){var Be=Number(Re);if(isNaN(Be)){var De=this.getMarkerData(Re);De&&(De.duration?this.playSegments([De.time,De.time+De.duration],!0):this.goToAndStop(De.time,!0))}else this.goToAndStop(Be,Ce,je);this.play()}},AnimationItem.prototype.advanceTime=function(Re){if(!(this.isPaused===!0||this.isLoaded===!1)){var Ce=this.currentRawFrame+Re*this.frameModifier,je=!1;Ce>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(Ce>this.totalFrames?Ce%this.totalFrames:0)||(je=!0,Ce=this.totalFrames-1):Ce>=this.totalFrames?(this.playCount+=1,this.checkSegments(Ce%this.totalFrames)||(this.setCurrentRawFrameValue(Ce%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(Ce):Ce<0?this.checkSegments(Ce%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+Ce%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(je=!0,Ce=0)):this.setCurrentRawFrameValue(Ce),je&&(this.setCurrentRawFrameValue(Ce),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Re,Ce){this.playCount=0,Re[1]<Re[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Re[0]-Re[1],this.timeCompleted=this.totalFrames,this.firstFrame=Re[1],this.setCurrentRawFrameValue(this.totalFrames-.001-Ce)):Re[1]>Re[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Re[1]-Re[0],this.timeCompleted=this.totalFrames,this.firstFrame=Re[0],this.setCurrentRawFrameValue(.001+Ce)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Re,Ce){var je=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Re?je=Re:this.currentRawFrame+this.firstFrame>Ce&&(je=Ce-Re)),this.firstFrame=Re,this.totalFrames=Ce-Re,this.timeCompleted=this.totalFrames,je!==-1&&this.goToAndStop(je,!0)},AnimationItem.prototype.playSegments=function(Re,Ce){if(Ce&&(this.segments.length=0),_typeof$4(Re[0])==="object"){var je,Be=Re.length;for(je=0;je<Be;je+=1)this.segments.push(Re[je])}else this.segments.push(Re);this.segments.length&&Ce&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Re){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Re&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Re){return this.segments.length?(this.adjustSegment(this.segments.shift(),Re),!0):!1},AnimationItem.prototype.destroy=function(Re){Re&&this.name!==Re||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Re){this.currentRawFrame=Re,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Re){this.playSpeed=Re,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Re){this.playDirection=Re<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Re){this.loop=Re},AnimationItem.prototype.setVolume=function(Re,Ce){Ce&&this.name!==Ce||this.audioController.setVolume(Re)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Re){Re&&this.name!==Re||this.audioController.mute()},AnimationItem.prototype.unmute=function(Re){Re&&this.name!==Re||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Re){var Ce="";if(Re.e)Ce=Re.p;else if(this.assetsPath){var je=Re.p;je.indexOf("images/")!==-1&&(je=je.split("/")[1]),Ce=this.assetsPath+je}else Ce=this.path,Ce+=Re.u?Re.u:"",Ce+=Re.p;return Ce},AnimationItem.prototype.getAssetData=function(Re){for(var Ce=0,je=this.assets.length;Ce<je;){if(Re===this.assets[Ce].id)return this.assets[Ce];Ce+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Re){return Re?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Re,Ce,je){try{var Be=this.renderer.getElementByPath(Re);Be.updateDocumentData(Ce,je)}catch{}},AnimationItem.prototype.trigger=function(Re){if(this._cbs&&this._cbs[Re])switch(Re){case"enterFrame":this.triggerEvent(Re,new BMEnterFrameEvent(Re,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Re,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Re,new BMCompleteLoopEvent(Re,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Re,new BMCompleteEvent(Re,this.frameMult));break;case"segmentStart":this.triggerEvent(Re,new BMSegmentStartEvent(Re,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Re,new BMDestroyEvent(Re,this));break;default:this.triggerEvent(Re)}Re==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Re,this.currentFrame,this.totalFrames,this.frameMult)),Re==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Re,this.loop,this.playCount,this.frameMult)),Re==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Re,this.frameMult)),Re==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Re,this.firstFrame,this.totalFrames)),Re==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Re,this))},AnimationItem.prototype.triggerRenderFrameError=function(Re){var Ce=new BMRenderFrameErrorEvent(Re,this.currentFrame);this.triggerEvent("error",Ce),this.onError&&this.onError.call(this,Ce)},AnimationItem.prototype.triggerConfigError=function(Re){var Ce=new BMConfigErrorEvent(Re,this.currentFrame);this.triggerEvent("error",Ce),this.onError&&this.onError.call(this,Ce)};var animationManager=(function(){var Re={},Ce=[],je=0,Be=0,De=0,Fe=!0,ke=!1;function Oe(vr){for(var Tr=0,wr=vr.target;Tr<Be;)Ce[Tr].animation===wr&&(Ce.splice(Tr,1),Tr-=1,Be-=1,wr.isPaused||He()),Tr+=1}function Me(vr,Tr){if(!vr)return null;for(var wr=0;wr<Be;){if(Ce[wr].elem===vr&&Ce[wr].elem!==null)return Ce[wr].animation;wr+=1}var Er=new AnimationItem;return Qe(Er,vr),Er.setData(vr,Tr),Er}function Ue(){var vr,Tr=Ce.length,wr=[];for(vr=0;vr<Tr;vr+=1)wr.push(Ce[vr].animation);return wr}function $e(){De+=1,mr()}function He(){De-=1}function Qe(vr,Tr){vr.addEventListener("destroy",Oe),vr.addEventListener("_active",$e),vr.addEventListener("_idle",He),Ce.push({elem:Tr,animation:vr}),Be+=1}function We(vr){var Tr=new AnimationItem;return Qe(Tr,null),Tr.setParams(vr),Tr}function qe(vr,Tr){var wr;for(wr=0;wr<Be;wr+=1)Ce[wr].animation.setSpeed(vr,Tr)}function Ke(vr,Tr){var wr;for(wr=0;wr<Be;wr+=1)Ce[wr].animation.setDirection(vr,Tr)}function Xe(vr){var Tr;for(Tr=0;Tr<Be;Tr+=1)Ce[Tr].animation.play(vr)}function Ye(vr){var Tr=vr-je,wr;for(wr=0;wr<Be;wr+=1)Ce[wr].animation.advanceTime(Tr);je=vr,De&&!ke?window.requestAnimationFrame(Ye):Fe=!0}function Ze(vr){je=vr,window.requestAnimationFrame(Ye)}function Je(vr){var Tr;for(Tr=0;Tr<Be;Tr+=1)Ce[Tr].animation.pause(vr)}function tr(vr,Tr,wr){var Er;for(Er=0;Er<Be;Er+=1)Ce[Er].animation.goToAndStop(vr,Tr,wr)}function rr(vr){var Tr;for(Tr=0;Tr<Be;Tr+=1)Ce[Tr].animation.stop(vr)}function ar(vr){var Tr;for(Tr=0;Tr<Be;Tr+=1)Ce[Tr].animation.togglePause(vr)}function ir(vr){var Tr;for(Tr=Be-1;Tr>=0;Tr-=1)Ce[Tr].animation.destroy(vr)}function nr(vr,Tr,wr){var Er=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Pr,Mr=Er.length;for(Pr=0;Pr<Mr;Pr+=1)wr&&Er[Pr].setAttribute("data-bm-type",wr),Me(Er[Pr],vr);if(Tr&&Mr===0){wr||(wr="svg");var _r=document.getElementsByTagName("body")[0];_r.innerText="";var Ir=createTag("div");Ir.style.width="100%",Ir.style.height="100%",Ir.setAttribute("data-bm-type",wr),_r.appendChild(Ir),Me(Ir,vr)}}function cr(){var vr;for(vr=0;vr<Be;vr+=1)Ce[vr].animation.resize()}function mr(){!ke&&De&&Fe&&(window.requestAnimationFrame(Ze),Fe=!1)}function fr(){ke=!0}function or(){ke=!1,mr()}function yr(vr,Tr){var wr;for(wr=0;wr<Be;wr+=1)Ce[wr].animation.setVolume(vr,Tr)}function Cr(vr){var Tr;for(Tr=0;Tr<Be;Tr+=1)Ce[Tr].animation.mute(vr)}function jr(vr){var Tr;for(Tr=0;Tr<Be;Tr+=1)Ce[Tr].animation.unmute(vr)}return Re.registerAnimation=Me,Re.loadAnimation=We,Re.setSpeed=qe,Re.setDirection=Ke,Re.play=Xe,Re.pause=Je,Re.stop=rr,Re.togglePause=ar,Re.searchAnimations=nr,Re.resize=cr,Re.goToAndStop=tr,Re.destroy=ir,Re.freeze=fr,Re.unfreeze=or,Re.setVolume=yr,Re.mute=Cr,Re.unmute=jr,Re.getRegisteredAnimations=Ue,Re})(),BezierFactory=(function(){var Re={};Re.getBezierEasing=je;var Ce={};function je(Ze,Je,tr,rr,ar){var ir=ar||("bez_"+Ze+"_"+Je+"_"+tr+"_"+rr).replace(/\./g,"p");if(Ce[ir])return Ce[ir];var nr=new Ye([Ze,Je,tr,rr]);return Ce[ir]=nr,nr}var Be=4,De=.001,Fe=1e-7,ke=10,Oe=11,Me=1/(Oe-1),Ue=typeof Float32Array=="function";function $e(Ze,Je){return 1-3*Je+3*Ze}function He(Ze,Je){return 3*Je-6*Ze}function Qe(Ze){return 3*Ze}function We(Ze,Je,tr){return(($e(Je,tr)*Ze+He(Je,tr))*Ze+Qe(Je))*Ze}function qe(Ze,Je,tr){return 3*$e(Je,tr)*Ze*Ze+2*He(Je,tr)*Ze+Qe(Je)}function Ke(Ze,Je,tr,rr,ar){var ir,nr,cr=0;do nr=Je+(tr-Je)/2,ir=We(nr,rr,ar)-Ze,ir>0?tr=nr:Je=nr;while(Math.abs(ir)>Fe&&++cr<ke);return nr}function Xe(Ze,Je,tr,rr){for(var ar=0;ar<Be;++ar){var ir=qe(Je,tr,rr);if(ir===0)return Je;var nr=We(Je,tr,rr)-Ze;Je-=nr/ir}return Je}function Ye(Ze){this._p=Ze,this._mSampleValues=Ue?new Float32Array(Oe):new Array(Oe),this._precomputed=!1,this.get=this.get.bind(this)}return Ye.prototype={get:function(Je){var tr=this._p[0],rr=this._p[1],ar=this._p[2],ir=this._p[3];return this._precomputed||this._precompute(),tr===rr&&ar===ir?Je:Je===0?0:Je===1?1:We(this._getTForX(Je),rr,ir)},_precompute:function(){var Je=this._p[0],tr=this._p[1],rr=this._p[2],ar=this._p[3];this._precomputed=!0,(Je!==tr||rr!==ar)&&this._calcSampleValues()},_calcSampleValues:function(){for(var Je=this._p[0],tr=this._p[2],rr=0;rr<Oe;++rr)this._mSampleValues[rr]=We(rr*Me,Je,tr)},_getTForX:function(Je){for(var tr=this._p[0],rr=this._p[2],ar=this._mSampleValues,ir=0,nr=1,cr=Oe-1;nr!==cr&&ar[nr]<=Je;++nr)ir+=Me;--nr;var mr=(Je-ar[nr])/(ar[nr+1]-ar[nr]),fr=ir+mr*Me,or=qe(fr,tr,rr);return or>=De?Xe(Je,fr,tr,rr):or===0?fr:Ke(Je,ir,ir+Me,tr,rr)}},Re})(),pooling=(function(){function Re(Ce){return Ce.concat(createSizedArray(Ce.length))}return{double:Re}})(),poolFactory=(function(){return function(Re,Ce,je){var Be=0,De=Re,Fe=createSizedArray(De),ke={newElement:Oe,release:Me};function Oe(){var Ue;return Be?(Be-=1,Ue=Fe[Be]):Ue=Ce(),Ue}function Me(Ue){Be===De&&(Fe=pooling.double(Fe),De*=2),je&&je(Ue),Fe[Be]=Ue,Be+=1}return ke}})(),bezierLengthPool=(function(){function Re(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Re)})(),segmentsLengthPool=(function(){function Re(){return{lengths:[],totalLength:0}}function Ce(je){var Be,De=je.lengths.length;for(Be=0;Be<De;Be+=1)bezierLengthPool.release(je.lengths[Be]);je.lengths.length=0}return poolFactory(8,Re,Ce)})();function bezFunction(){var Re=Math;function Ce(Qe,We,qe,Ke,Xe,Ye){var Ze=Qe*Ke+We*Xe+qe*Ye-Xe*Ke-Ye*Qe-qe*We;return Ze>-.001&&Ze<.001}function je(Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr){if(qe===0&&Ye===0&&tr===0)return Ce(Qe,We,Ke,Xe,Ze,Je);var rr=Re.sqrt(Re.pow(Ke-Qe,2)+Re.pow(Xe-We,2)+Re.pow(Ye-qe,2)),ar=Re.sqrt(Re.pow(Ze-Qe,2)+Re.pow(Je-We,2)+Re.pow(tr-qe,2)),ir=Re.sqrt(Re.pow(Ze-Ke,2)+Re.pow(Je-Xe,2)+Re.pow(tr-Ye,2)),nr;return rr>ar?rr>ir?nr=rr-ar-ir:nr=ir-ar-rr:ir>ar?nr=ir-ar-rr:nr=ar-rr-ir,nr>-1e-4&&nr<1e-4}var Be=(function(){return function(Qe,We,qe,Ke){var Xe=getDefaultCurveSegments(),Ye,Ze,Je,tr,rr,ar=0,ir,nr=[],cr=[],mr=bezierLengthPool.newElement();for(Je=qe.length,Ye=0;Ye<Xe;Ye+=1){for(rr=Ye/(Xe-1),ir=0,Ze=0;Ze<Je;Ze+=1)tr=bmPow(1-rr,3)*Qe[Ze]+3*bmPow(1-rr,2)*rr*qe[Ze]+3*(1-rr)*bmPow(rr,2)*Ke[Ze]+bmPow(rr,3)*We[Ze],nr[Ze]=tr,cr[Ze]!==null&&(ir+=bmPow(nr[Ze]-cr[Ze],2)),cr[Ze]=nr[Ze];ir&&(ir=bmSqrt(ir),ar+=ir),mr.percents[Ye]=rr,mr.lengths[Ye]=ar}return mr.addedLength=ar,mr}})();function De(Qe){var We=segmentsLengthPool.newElement(),qe=Qe.c,Ke=Qe.v,Xe=Qe.o,Ye=Qe.i,Ze,Je=Qe._length,tr=We.lengths,rr=0;for(Ze=0;Ze<Je-1;Ze+=1)tr[Ze]=Be(Ke[Ze],Ke[Ze+1],Xe[Ze],Ye[Ze+1]),rr+=tr[Ze].addedLength;return qe&&Je&&(tr[Ze]=Be(Ke[Ze],Ke[0],Xe[Ze],Ye[0]),rr+=tr[Ze].addedLength),We.totalLength=rr,We}function Fe(Qe){this.segmentLength=0,this.points=new Array(Qe)}function ke(Qe,We){this.partialLength=Qe,this.point=We}var Oe=(function(){var Qe={};return function(We,qe,Ke,Xe){var Ye=(We[0]+"_"+We[1]+"_"+qe[0]+"_"+qe[1]+"_"+Ke[0]+"_"+Ke[1]+"_"+Xe[0]+"_"+Xe[1]).replace(/\./g,"p");if(!Qe[Ye]){var Ze=getDefaultCurveSegments(),Je,tr,rr,ar,ir,nr=0,cr,mr,fr=null;We.length===2&&(We[0]!==qe[0]||We[1]!==qe[1])&&Ce(We[0],We[1],qe[0],qe[1],We[0]+Ke[0],We[1]+Ke[1])&&Ce(We[0],We[1],qe[0],qe[1],qe[0]+Xe[0],qe[1]+Xe[1])&&(Ze=2);var or=new Fe(Ze);for(rr=Ke.length,Je=0;Je<Ze;Je+=1){for(mr=createSizedArray(rr),ir=Je/(Ze-1),cr=0,tr=0;tr<rr;tr+=1)ar=bmPow(1-ir,3)*We[tr]+3*bmPow(1-ir,2)*ir*(We[tr]+Ke[tr])+3*(1-ir)*bmPow(ir,2)*(qe[tr]+Xe[tr])+bmPow(ir,3)*qe[tr],mr[tr]=ar,fr!==null&&(cr+=bmPow(mr[tr]-fr[tr],2));cr=bmSqrt(cr),nr+=cr,or.points[Je]=new ke(cr,mr),fr=mr}or.segmentLength=nr,Qe[Ye]=or}return Qe[Ye]}})();function Me(Qe,We){var qe=We.percents,Ke=We.lengths,Xe=qe.length,Ye=bmFloor((Xe-1)*Qe),Ze=Qe*We.addedLength,Je=0;if(Ye===Xe-1||Ye===0||Ze===Ke[Ye])return qe[Ye];for(var tr=Ke[Ye]>Ze?-1:1,rr=!0;rr;)if(Ke[Ye]<=Ze&&Ke[Ye+1]>Ze?(Je=(Ze-Ke[Ye])/(Ke[Ye+1]-Ke[Ye]),rr=!1):Ye+=tr,Ye<0||Ye>=Xe-1){if(Ye===Xe-1)return qe[Ye];rr=!1}return qe[Ye]+(qe[Ye+1]-qe[Ye])*Je}function Ue(Qe,We,qe,Ke,Xe,Ye){var Ze=Me(Xe,Ye),Je=1-Ze,tr=Re.round((Je*Je*Je*Qe[0]+(Ze*Je*Je+Je*Ze*Je+Je*Je*Ze)*qe[0]+(Ze*Ze*Je+Je*Ze*Ze+Ze*Je*Ze)*Ke[0]+Ze*Ze*Ze*We[0])*1e3)/1e3,rr=Re.round((Je*Je*Je*Qe[1]+(Ze*Je*Je+Je*Ze*Je+Je*Je*Ze)*qe[1]+(Ze*Ze*Je+Je*Ze*Ze+Ze*Je*Ze)*Ke[1]+Ze*Ze*Ze*We[1])*1e3)/1e3;return[tr,rr]}var $e=createTypedArray("float32",8);function He(Qe,We,qe,Ke,Xe,Ye,Ze){Xe<0?Xe=0:Xe>1&&(Xe=1);var Je=Me(Xe,Ze);Ye=Ye>1?1:Ye;var tr=Me(Ye,Ze),rr,ar=Qe.length,ir=1-Je,nr=1-tr,cr=ir*ir*ir,mr=Je*ir*ir*3,fr=Je*Je*ir*3,or=Je*Je*Je,yr=ir*ir*nr,Cr=Je*ir*nr+ir*Je*nr+ir*ir*tr,jr=Je*Je*nr+ir*Je*tr+Je*ir*tr,vr=Je*Je*tr,Tr=ir*nr*nr,wr=Je*nr*nr+ir*tr*nr+ir*nr*tr,Er=Je*tr*nr+ir*tr*tr+Je*nr*tr,Pr=Je*tr*tr,Mr=nr*nr*nr,_r=tr*nr*nr+nr*tr*nr+nr*nr*tr,Ir=tr*tr*nr+nr*tr*tr+tr*nr*tr,Dr=tr*tr*tr;for(rr=0;rr<ar;rr+=1)$e[rr*4]=Re.round((cr*Qe[rr]+mr*qe[rr]+fr*Ke[rr]+or*We[rr])*1e3)/1e3,$e[rr*4+1]=Re.round((yr*Qe[rr]+Cr*qe[rr]+jr*Ke[rr]+vr*We[rr])*1e3)/1e3,$e[rr*4+2]=Re.round((Tr*Qe[rr]+wr*qe[rr]+Er*Ke[rr]+Pr*We[rr])*1e3)/1e3,$e[rr*4+3]=Re.round((Mr*Qe[rr]+_r*qe[rr]+Ir*Ke[rr]+Dr*We[rr])*1e3)/1e3;return $e}return{getSegmentsLength:De,getNewSegment:He,getPointInSegment:Ue,buildBezierData:Oe,pointOnLine2D:Ce,pointOnLine3D:je}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Re,Ce){var je=this.offsetTime,Be;this.propType==="multidimensional"&&(Be=createTypedArray("float32",this.pv.length));for(var De=Ce.lastIndex,Fe=De,ke=this.keyframes.length-1,Oe=!0,Me,Ue,$e;Oe;){if(Me=this.keyframes[Fe],Ue=this.keyframes[Fe+1],Fe===ke-1&&Re>=Ue.t-je){Me.h&&(Me=Ue),De=0;break}if(Ue.t-je>Re){De=Fe;break}Fe<ke-1?Fe+=1:(De=0,Oe=!1)}$e=this.keyframesMetadata[Fe]||{};var He,Qe,We,qe,Ke,Xe,Ye=Ue.t-je,Ze=Me.t-je,Je;if(Me.to){$e.bezierData||($e.bezierData=bez.buildBezierData(Me.s,Ue.s||Me.e,Me.to,Me.ti));var tr=$e.bezierData;if(Re>=Ye||Re<Ze){var rr=Re>=Ye?tr.points.length-1:0;for(Qe=tr.points[rr].point.length,He=0;He<Qe;He+=1)Be[He]=tr.points[rr].point[He]}else{$e.__fnct?Xe=$e.__fnct:(Xe=BezierFactory.getBezierEasing(Me.o.x,Me.o.y,Me.i.x,Me.i.y,Me.n).get,$e.__fnct=Xe),We=Xe((Re-Ze)/(Ye-Ze));var ar=tr.segmentLength*We,ir,nr=Ce.lastFrame<Re&&Ce._lastKeyframeIndex===Fe?Ce._lastAddedLength:0;for(Ke=Ce.lastFrame<Re&&Ce._lastKeyframeIndex===Fe?Ce._lastPoint:0,Oe=!0,qe=tr.points.length;Oe;){if(nr+=tr.points[Ke].partialLength,ar===0||We===0||Ke===tr.points.length-1){for(Qe=tr.points[Ke].point.length,He=0;He<Qe;He+=1)Be[He]=tr.points[Ke].point[He];break}else if(ar>=nr&&ar<nr+tr.points[Ke+1].partialLength){for(ir=(ar-nr)/tr.points[Ke+1].partialLength,Qe=tr.points[Ke].point.length,He=0;He<Qe;He+=1)Be[He]=tr.points[Ke].point[He]+(tr.points[Ke+1].point[He]-tr.points[Ke].point[He])*ir;break}Ke<qe-1?Ke+=1:Oe=!1}Ce._lastPoint=Ke,Ce._lastAddedLength=nr-tr.points[Ke].partialLength,Ce._lastKeyframeIndex=Fe}}else{var cr,mr,fr,or,yr;if(ke=Me.s.length,Je=Ue.s||Me.e,this.sh&&Me.h!==1)if(Re>=Ye)Be[0]=Je[0],Be[1]=Je[1],Be[2]=Je[2];else if(Re<=Ze)Be[0]=Me.s[0],Be[1]=Me.s[1],Be[2]=Me.s[2];else{var Cr=createQuaternion(Me.s),jr=createQuaternion(Je),vr=(Re-Ze)/(Ye-Ze);quaternionToEuler(Be,slerp(Cr,jr,vr))}else for(Fe=0;Fe<ke;Fe+=1)Me.h!==1&&(Re>=Ye?We=1:Re<Ze?We=0:(Me.o.x.constructor===Array?($e.__fnct||($e.__fnct=[]),$e.__fnct[Fe]?Xe=$e.__fnct[Fe]:(cr=Me.o.x[Fe]===void 0?Me.o.x[0]:Me.o.x[Fe],mr=Me.o.y[Fe]===void 0?Me.o.y[0]:Me.o.y[Fe],fr=Me.i.x[Fe]===void 0?Me.i.x[0]:Me.i.x[Fe],or=Me.i.y[Fe]===void 0?Me.i.y[0]:Me.i.y[Fe],Xe=BezierFactory.getBezierEasing(cr,mr,fr,or).get,$e.__fnct[Fe]=Xe)):$e.__fnct?Xe=$e.__fnct:(cr=Me.o.x,mr=Me.o.y,fr=Me.i.x,or=Me.i.y,Xe=BezierFactory.getBezierEasing(cr,mr,fr,or).get,Me.keyframeMetadata=Xe),We=Xe((Re-Ze)/(Ye-Ze)))),Je=Ue.s||Me.e,yr=Me.h===1?Me.s[Fe]:Me.s[Fe]+(Je[Fe]-Me.s[Fe])*We,this.propType==="multidimensional"?Be[Fe]=yr:Be=yr}return Ce.lastIndex=De,Be}function slerp(Re,Ce,je){var Be=[],De=Re[0],Fe=Re[1],ke=Re[2],Oe=Re[3],Me=Ce[0],Ue=Ce[1],$e=Ce[2],He=Ce[3],Qe,We,qe,Ke,Xe;return We=De*Me+Fe*Ue+ke*$e+Oe*He,We<0&&(We=-We,Me=-Me,Ue=-Ue,$e=-$e,He=-He),1-We>1e-6?(Qe=Math.acos(We),qe=Math.sin(Qe),Ke=Math.sin((1-je)*Qe)/qe,Xe=Math.sin(je*Qe)/qe):(Ke=1-je,Xe=je),Be[0]=Ke*De+Xe*Me,Be[1]=Ke*Fe+Xe*Ue,Be[2]=Ke*ke+Xe*$e,Be[3]=Ke*Oe+Xe*He,Be}function quaternionToEuler(Re,Ce){var je=Ce[0],Be=Ce[1],De=Ce[2],Fe=Ce[3],ke=Math.atan2(2*Be*Fe-2*je*De,1-2*Be*Be-2*De*De),Oe=Math.asin(2*je*Be+2*De*Fe),Me=Math.atan2(2*je*Fe-2*Be*De,1-2*je*je-2*De*De);Re[0]=ke/degToRads,Re[1]=Oe/degToRads,Re[2]=Me/degToRads}function createQuaternion(Re){var Ce=Re[0]*degToRads,je=Re[1]*degToRads,Be=Re[2]*degToRads,De=Math.cos(Ce/2),Fe=Math.cos(je/2),ke=Math.cos(Be/2),Oe=Math.sin(Ce/2),Me=Math.sin(je/2),Ue=Math.sin(Be/2),$e=De*Fe*ke-Oe*Me*Ue,He=Oe*Me*ke+De*Fe*Ue,Qe=Oe*Fe*ke+De*Me*Ue,We=De*Me*ke-Oe*Fe*Ue;return[He,Qe,We,$e]}function getValueAtCurrentTime(){var Re=this.comp.renderedFrame-this.offsetTime,Ce=this.keyframes[0].t-this.offsetTime,je=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Re===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=je&&Re>=je||this._caching.lastFrame<Ce&&Re<Ce))){this._caching.lastFrame>=Re&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Be=this.interpolateValue(Re,this._caching);this.pv=Be}return this._caching.lastFrame=Re,this.pv}function setVValue(Re){var Ce;if(this.propType==="unidimensional")Ce=Re*this.mult,mathAbs(this.v-Ce)>1e-5&&(this.v=Ce,this._mdf=!0);else for(var je=0,Be=this.v.length;je<Be;)Ce=Re[je]*this.mult,mathAbs(this.v[je]-Ce)>1e-5&&(this.v[je]=Ce,this._mdf=!0),je+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Re,Ce=this.effectsSequence.length,je=this.kf?this.pv:this.data.k;for(Re=0;Re<Ce;Re+=1)je=this.effectsSequence[Re](je);this.setVValue(je),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Re){this.effectsSequence.push(Re),this.container.addDynamicProperty(this)}function ValueProperty(Re,Ce,je,Be){this.propType="unidimensional",this.mult=je||1,this.data=Ce,this.v=je?Ce.k*je:Ce.k,this.pv=Ce.k,this._mdf=!1,this.elem=Re,this.container=Be,this.comp=Re.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Re,Ce,je,Be){this.propType="multidimensional",this.mult=je||1,this.data=Ce,this._mdf=!1,this.elem=Re,this.container=Be,this.comp=Re.comp,this.k=!1,this.kf=!1,this.frameId=-1;var De,Fe=Ce.k.length;for(this.v=createTypedArray("float32",Fe),this.pv=createTypedArray("float32",Fe),this.vel=createTypedArray("float32",Fe),De=0;De<Fe;De+=1)this.v[De]=Ce.k[De]*this.mult,this.pv[De]=Ce.k[De];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Re,Ce,je,Be){this.propType="unidimensional",this.keyframes=Ce.k,this.keyframesMetadata=[],this.offsetTime=Re.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=Ce,this.mult=je||1,this.elem=Re,this.container=Be,this.comp=Re.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Re,Ce,je,Be){this.propType="multidimensional";var De,Fe=Ce.k.length,ke,Oe,Me,Ue;for(De=0;De<Fe-1;De+=1)Ce.k[De].to&&Ce.k[De].s&&Ce.k[De+1]&&Ce.k[De+1].s&&(ke=Ce.k[De].s,Oe=Ce.k[De+1].s,Me=Ce.k[De].to,Ue=Ce.k[De].ti,(ke.length===2&&!(ke[0]===Oe[0]&&ke[1]===Oe[1])&&bez.pointOnLine2D(ke[0],ke[1],Oe[0],Oe[1],ke[0]+Me[0],ke[1]+Me[1])&&bez.pointOnLine2D(ke[0],ke[1],Oe[0],Oe[1],Oe[0]+Ue[0],Oe[1]+Ue[1])||ke.length===3&&!(ke[0]===Oe[0]&&ke[1]===Oe[1]&&ke[2]===Oe[2])&&bez.pointOnLine3D(ke[0],ke[1],ke[2],Oe[0],Oe[1],Oe[2],ke[0]+Me[0],ke[1]+Me[1],ke[2]+Me[2])&&bez.pointOnLine3D(ke[0],ke[1],ke[2],Oe[0],Oe[1],Oe[2],Oe[0]+Ue[0],Oe[1]+Ue[1],Oe[2]+Ue[2]))&&(Ce.k[De].to=null,Ce.k[De].ti=null),ke[0]===Oe[0]&&ke[1]===Oe[1]&&Me[0]===0&&Me[1]===0&&Ue[0]===0&&Ue[1]===0&&(ke.length===2||ke[2]===Oe[2]&&Me[2]===0&&Ue[2]===0)&&(Ce.k[De].to=null,Ce.k[De].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=Ce,this.keyframes=Ce.k,this.keyframesMetadata=[],this.offsetTime=Re.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=je||1,this.elem=Re,this.container=Be,this.comp=Re.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var $e=Ce.k[0].s.length;for(this.v=createTypedArray("float32",$e),this.pv=createTypedArray("float32",$e),De=0;De<$e;De+=1)this.v[De]=initFrame,this.pv[De]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",$e)},this.addEffect=addEffect}var PropertyFactory=(function(){function Re(je,Be,De,Fe,ke){Be.sid&&(Be=je.globalData.slotManager.getProp(Be));var Oe;if(!Be.k.length)Oe=new ValueProperty(je,Be,Fe,ke);else if(typeof Be.k[0]=="number")Oe=new MultiDimensionalProperty(je,Be,Fe,ke);else switch(De){case 0:Oe=new KeyframedValueProperty(je,Be,Fe,ke);break;case 1:Oe=new KeyframedMultidimensionalProperty(je,Be,Fe,ke);break}return Oe.effectsSequence.length&&ke.addDynamicProperty(Oe),Oe}var Ce={getProp:Re};return Ce})();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(Ce){this.dynamicProperties.indexOf(Ce)===-1&&(this.dynamicProperties.push(Ce),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var Ce,je=this.dynamicProperties.length;for(Ce=0;Ce<je;Ce+=1)this.dynamicProperties[Ce].getValue(),this.dynamicProperties[Ce]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(Ce){this.container=Ce,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=(function(){function Re(){return createTypedArray("float32",2)}return poolFactory(8,Re)})();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Re,Ce){this.c=Re,this.setLength(Ce);for(var je=0;je<Ce;)this.v[je]=pointPool.newElement(),this.o[je]=pointPool.newElement(),this.i[je]=pointPool.newElement(),je+=1},ShapePath.prototype.setLength=function(Re){for(;this._maxLength<Re;)this.doubleArrayLength();this._length=Re},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Re,Ce,je,Be,De){var Fe;switch(this._length=Math.max(this._length,Be+1),this._length>=this._maxLength&&this.doubleArrayLength(),je){case"v":Fe=this.v;break;case"i":Fe=this.i;break;case"o":Fe=this.o;break;default:Fe=[];break}(!Fe[Be]||Fe[Be]&&!De)&&(Fe[Be]=pointPool.newElement()),Fe[Be][0]=Re,Fe[Be][1]=Ce},ShapePath.prototype.setTripleAt=function(Re,Ce,je,Be,De,Fe,ke,Oe){this.setXYAt(Re,Ce,"v",ke,Oe),this.setXYAt(je,Be,"o",ke,Oe),this.setXYAt(De,Fe,"i",ke,Oe)},ShapePath.prototype.reverse=function(){var Re=new ShapePath;Re.setPathData(this.c,this._length);var Ce=this.v,je=this.o,Be=this.i,De=0;this.c&&(Re.setTripleAt(Ce[0][0],Ce[0][1],Be[0][0],Be[0][1],je[0][0],je[0][1],0,!1),De=1);var Fe=this._length-1,ke=this._length,Oe;for(Oe=De;Oe<ke;Oe+=1)Re.setTripleAt(Ce[Fe][0],Ce[Fe][1],Be[Fe][0],Be[Fe][1],je[Fe][0],je[Fe][1],Oe,!1),Fe-=1;return Re},ShapePath.prototype.length=function(){return this._length};var shapePool=(function(){function Re(){return new ShapePath}function Ce(De){var Fe=De._length,ke;for(ke=0;ke<Fe;ke+=1)pointPool.release(De.v[ke]),pointPool.release(De.i[ke]),pointPool.release(De.o[ke]),De.v[ke]=null,De.i[ke]=null,De.o[ke]=null;De._length=0,De.c=!1}function je(De){var Fe=Be.newElement(),ke,Oe=De._length===void 0?De.v.length:De._length;for(Fe.setLength(Oe),Fe.c=De.c,ke=0;ke<Oe;ke+=1)Fe.setTripleAt(De.v[ke][0],De.v[ke][1],De.o[ke][0],De.o[ke][1],De.i[ke][0],De.i[ke][1],ke);return Fe}var Be=poolFactory(4,Re,Ce);return Be.clone=je,Be})();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Re){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Re,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Re;for(Re=0;Re<this._length;Re+=1)shapePool.release(this.shapes[Re]);this._length=0};var shapeCollectionPool=(function(){var Re={newShapeCollection:De,release:Fe},Ce=0,je=4,Be=createSizedArray(je);function De(){var ke;return Ce?(Ce-=1,ke=Be[Ce]):ke=new ShapeCollection,ke}function Fe(ke){var Oe,Me=ke._length;for(Oe=0;Oe<Me;Oe+=1)shapePool.release(ke.shapes[Oe]);ke._length=0,Ce===je&&(Be=pooling.double(Be),je*=2),Be[Ce]=ke,Ce+=1}return Re})(),ShapePropertyFactory=(function(){var Re=-999999;function Ce(Ye,Ze,Je){var tr=Je.lastIndex,rr,ar,ir,nr,cr,mr,fr,or,yr,Cr=this.keyframes;if(Ye<Cr[0].t-this.offsetTime)rr=Cr[0].s[0],ir=!0,tr=0;else if(Ye>=Cr[Cr.length-1].t-this.offsetTime)rr=Cr[Cr.length-1].s?Cr[Cr.length-1].s[0]:Cr[Cr.length-2].e[0],ir=!0;else{for(var jr=tr,vr=Cr.length-1,Tr=!0,wr,Er,Pr;Tr&&(wr=Cr[jr],Er=Cr[jr+1],!(Er.t-this.offsetTime>Ye));)jr<vr-1?jr+=1:Tr=!1;if(Pr=this.keyframesMetadata[jr]||{},ir=wr.h===1,tr=jr,!ir){if(Ye>=Er.t-this.offsetTime)or=1;else if(Ye<wr.t-this.offsetTime)or=0;else{var Mr;Pr.__fnct?Mr=Pr.__fnct:(Mr=BezierFactory.getBezierEasing(wr.o.x,wr.o.y,wr.i.x,wr.i.y).get,Pr.__fnct=Mr),or=Mr((Ye-(wr.t-this.offsetTime))/(Er.t-this.offsetTime-(wr.t-this.offsetTime)))}ar=Er.s?Er.s[0]:wr.e[0]}rr=wr.s[0]}for(mr=Ze._length,fr=rr.i[0].length,Je.lastIndex=tr,nr=0;nr<mr;nr+=1)for(cr=0;cr<fr;cr+=1)yr=ir?rr.i[nr][cr]:rr.i[nr][cr]+(ar.i[nr][cr]-rr.i[nr][cr])*or,Ze.i[nr][cr]=yr,yr=ir?rr.o[nr][cr]:rr.o[nr][cr]+(ar.o[nr][cr]-rr.o[nr][cr])*or,Ze.o[nr][cr]=yr,yr=ir?rr.v[nr][cr]:rr.v[nr][cr]+(ar.v[nr][cr]-rr.v[nr][cr])*or,Ze.v[nr][cr]=yr}function je(){var Ye=this.comp.renderedFrame-this.offsetTime,Ze=this.keyframes[0].t-this.offsetTime,Je=this.keyframes[this.keyframes.length-1].t-this.offsetTime,tr=this._caching.lastFrame;return tr!==Re&&(tr<Ze&&Ye<Ze||tr>Je&&Ye>Je)||(this._caching.lastIndex=tr<Ye?this._caching.lastIndex:0,this.interpolateShape(Ye,this.pv,this._caching)),this._caching.lastFrame=Ye,this.pv}function Be(){this.paths=this.localShapeCollection}function De(Ye,Ze){if(Ye._length!==Ze._length||Ye.c!==Ze.c)return!1;var Je,tr=Ye._length;for(Je=0;Je<tr;Je+=1)if(Ye.v[Je][0]!==Ze.v[Je][0]||Ye.v[Je][1]!==Ze.v[Je][1]||Ye.o[Je][0]!==Ze.o[Je][0]||Ye.o[Je][1]!==Ze.o[Je][1]||Ye.i[Je][0]!==Ze.i[Je][0]||Ye.i[Je][1]!==Ze.i[Je][1])return!1;return!0}function Fe(Ye){De(this.v,Ye)||(this.v=shapePool.clone(Ye),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function ke(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Ye;this.kf?Ye=this.pv:this.data.ks?Ye=this.data.ks.k:Ye=this.data.pt.k;var Ze,Je=this.effectsSequence.length;for(Ze=0;Ze<Je;Ze+=1)Ye=this.effectsSequence[Ze](Ye);this.setVValue(Ye),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Oe(Ye,Ze,Je){this.propType="shape",this.comp=Ye.comp,this.container=Ye,this.elem=Ye,this.data=Ze,this.k=!1,this.kf=!1,this._mdf=!1;var tr=Je===3?Ze.pt.k:Ze.ks.k;this.v=shapePool.clone(tr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Be,this.effectsSequence=[]}function Me(Ye){this.effectsSequence.push(Ye),this.container.addDynamicProperty(this)}Oe.prototype.interpolateShape=Ce,Oe.prototype.getValue=ke,Oe.prototype.setVValue=Fe,Oe.prototype.addEffect=Me;function Ue(Ye,Ze,Je){this.propType="shape",this.comp=Ye.comp,this.elem=Ye,this.container=Ye,this.offsetTime=Ye.data.st,this.keyframes=Je===3?Ze.pt.k:Ze.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var tr=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,tr),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Re,this.reset=Be,this._caching={lastFrame:Re,lastIndex:0},this.effectsSequence=[je.bind(this)]}Ue.prototype.getValue=ke,Ue.prototype.interpolateShape=Ce,Ue.prototype.setVValue=Fe,Ue.prototype.addEffect=Me;var $e=(function(){var Ye=roundCorner;function Ze(Je,tr){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=tr.d,this.elem=Je,this.comp=Je.comp,this.frameId=-1,this.initDynamicPropertyContainer(Je),this.p=PropertyFactory.getProp(Je,tr.p,1,0,this),this.s=PropertyFactory.getProp(Je,tr.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return Ze.prototype={reset:Be,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var tr=this.p.v[0],rr=this.p.v[1],ar=this.s.v[0]/2,ir=this.s.v[1]/2,nr=this.d!==3,cr=this.v;cr.v[0][0]=tr,cr.v[0][1]=rr-ir,cr.v[1][0]=nr?tr+ar:tr-ar,cr.v[1][1]=rr,cr.v[2][0]=tr,cr.v[2][1]=rr+ir,cr.v[3][0]=nr?tr-ar:tr+ar,cr.v[3][1]=rr,cr.i[0][0]=nr?tr-ar*Ye:tr+ar*Ye,cr.i[0][1]=rr-ir,cr.i[1][0]=nr?tr+ar:tr-ar,cr.i[1][1]=rr-ir*Ye,cr.i[2][0]=nr?tr+ar*Ye:tr-ar*Ye,cr.i[2][1]=rr+ir,cr.i[3][0]=nr?tr-ar:tr+ar,cr.i[3][1]=rr+ir*Ye,cr.o[0][0]=nr?tr+ar*Ye:tr-ar*Ye,cr.o[0][1]=rr-ir,cr.o[1][0]=nr?tr+ar:tr-ar,cr.o[1][1]=rr+ir*Ye,cr.o[2][0]=nr?tr-ar*Ye:tr+ar*Ye,cr.o[2][1]=rr+ir,cr.o[3][0]=nr?tr-ar:tr+ar,cr.o[3][1]=rr-ir*Ye}},extendPrototype([DynamicPropertyContainer],Ze),Ze})(),He=(function(){function Ye(Ze,Je){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=Ze,this.comp=Ze.comp,this.data=Je,this.frameId=-1,this.d=Je.d,this.initDynamicPropertyContainer(Ze),Je.sy===1?(this.ir=PropertyFactory.getProp(Ze,Je.ir,0,0,this),this.is=PropertyFactory.getProp(Ze,Je.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(Ze,Je.pt,0,0,this),this.p=PropertyFactory.getProp(Ze,Je.p,1,0,this),this.r=PropertyFactory.getProp(Ze,Je.r,0,degToRads,this),this.or=PropertyFactory.getProp(Ze,Je.or,0,0,this),this.os=PropertyFactory.getProp(Ze,Je.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Ye.prototype={reset:Be,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var Je=Math.floor(this.pt.v)*2,tr=Math.PI*2/Je,rr=!0,ar=this.or.v,ir=this.ir.v,nr=this.os.v,cr=this.is.v,mr=2*Math.PI*ar/(Je*2),fr=2*Math.PI*ir/(Je*2),or,yr,Cr,jr,vr=-Math.PI/2;vr+=this.r.v;var Tr=this.data.d===3?-1:1;for(this.v._length=0,or=0;or<Je;or+=1){yr=rr?ar:ir,Cr=rr?nr:cr,jr=rr?mr:fr;var wr=yr*Math.cos(vr),Er=yr*Math.sin(vr),Pr=wr===0&&Er===0?0:Er/Math.sqrt(wr*wr+Er*Er),Mr=wr===0&&Er===0?0:-wr/Math.sqrt(wr*wr+Er*Er);wr+=+this.p.v[0],Er+=+this.p.v[1],this.v.setTripleAt(wr,Er,wr-Pr*jr*Cr*Tr,Er-Mr*jr*Cr*Tr,wr+Pr*jr*Cr*Tr,Er+Mr*jr*Cr*Tr,or,!0),rr=!rr,vr+=tr*Tr}},convertPolygonToPath:function(){var Je=Math.floor(this.pt.v),tr=Math.PI*2/Je,rr=this.or.v,ar=this.os.v,ir=2*Math.PI*rr/(Je*4),nr,cr=-Math.PI*.5,mr=this.data.d===3?-1:1;for(cr+=this.r.v,this.v._length=0,nr=0;nr<Je;nr+=1){var fr=rr*Math.cos(cr),or=rr*Math.sin(cr),yr=fr===0&&or===0?0:or/Math.sqrt(fr*fr+or*or),Cr=fr===0&&or===0?0:-fr/Math.sqrt(fr*fr+or*or);fr+=+this.p.v[0],or+=+this.p.v[1],this.v.setTripleAt(fr,or,fr-yr*ir*ar*mr,or-Cr*ir*ar*mr,fr+yr*ir*ar*mr,or+Cr*ir*ar*mr,nr,!0),cr+=tr*mr}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Ye),Ye})(),Qe=(function(){function Ye(Ze,Je){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=Ze,this.comp=Ze.comp,this.frameId=-1,this.d=Je.d,this.initDynamicPropertyContainer(Ze),this.p=PropertyFactory.getProp(Ze,Je.p,1,0,this),this.s=PropertyFactory.getProp(Ze,Je.s,1,0,this),this.r=PropertyFactory.getProp(Ze,Je.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Ye.prototype={convertRectToPath:function(){var Je=this.p.v[0],tr=this.p.v[1],rr=this.s.v[0]/2,ar=this.s.v[1]/2,ir=bmMin(rr,ar,this.r.v),nr=ir*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(Je+rr,tr-ar+ir,Je+rr,tr-ar+ir,Je+rr,tr-ar+nr,0,!0),this.v.setTripleAt(Je+rr,tr+ar-ir,Je+rr,tr+ar-nr,Je+rr,tr+ar-ir,1,!0),ir!==0?(this.v.setTripleAt(Je+rr-ir,tr+ar,Je+rr-ir,tr+ar,Je+rr-nr,tr+ar,2,!0),this.v.setTripleAt(Je-rr+ir,tr+ar,Je-rr+nr,tr+ar,Je-rr+ir,tr+ar,3,!0),this.v.setTripleAt(Je-rr,tr+ar-ir,Je-rr,tr+ar-ir,Je-rr,tr+ar-nr,4,!0),this.v.setTripleAt(Je-rr,tr-ar+ir,Je-rr,tr-ar+nr,Je-rr,tr-ar+ir,5,!0),this.v.setTripleAt(Je-rr+ir,tr-ar,Je-rr+ir,tr-ar,Je-rr+nr,tr-ar,6,!0),this.v.setTripleAt(Je+rr-ir,tr-ar,Je+rr-nr,tr-ar,Je+rr-ir,tr-ar,7,!0)):(this.v.setTripleAt(Je-rr,tr+ar,Je-rr+nr,tr+ar,Je-rr,tr+ar,2),this.v.setTripleAt(Je-rr,tr-ar,Je-rr,tr-ar+nr,Je-rr,tr-ar,3))):(this.v.setTripleAt(Je+rr,tr-ar+ir,Je+rr,tr-ar+nr,Je+rr,tr-ar+ir,0,!0),ir!==0?(this.v.setTripleAt(Je+rr-ir,tr-ar,Je+rr-ir,tr-ar,Je+rr-nr,tr-ar,1,!0),this.v.setTripleAt(Je-rr+ir,tr-ar,Je-rr+nr,tr-ar,Je-rr+ir,tr-ar,2,!0),this.v.setTripleAt(Je-rr,tr-ar+ir,Je-rr,tr-ar+ir,Je-rr,tr-ar+nr,3,!0),this.v.setTripleAt(Je-rr,tr+ar-ir,Je-rr,tr+ar-nr,Je-rr,tr+ar-ir,4,!0),this.v.setTripleAt(Je-rr+ir,tr+ar,Je-rr+ir,tr+ar,Je-rr+nr,tr+ar,5,!0),this.v.setTripleAt(Je+rr-ir,tr+ar,Je+rr-nr,tr+ar,Je+rr-ir,tr+ar,6,!0),this.v.setTripleAt(Je+rr,tr+ar-ir,Je+rr,tr+ar-ir,Je+rr,tr+ar-nr,7,!0)):(this.v.setTripleAt(Je-rr,tr-ar,Je-rr+nr,tr-ar,Je-rr,tr-ar,1,!0),this.v.setTripleAt(Je-rr,tr+ar,Je-rr,tr+ar-nr,Je-rr,tr+ar,2,!0),this.v.setTripleAt(Je+rr,tr+ar,Je+rr-nr,tr+ar,Je+rr,tr+ar,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Be},extendPrototype([DynamicPropertyContainer],Ye),Ye})();function We(Ye,Ze,Je){var tr;if(Je===3||Je===4){var rr=Je===3?Ze.pt:Ze.ks,ar=rr.k;ar.length?tr=new Ue(Ye,Ze,Je):tr=new Oe(Ye,Ze,Je)}else Je===5?tr=new Qe(Ye,Ze):Je===6?tr=new $e(Ye,Ze):Je===7&&(tr=new He(Ye,Ze));return tr.k&&Ye.addDynamicProperty(tr),tr}function qe(){return Oe}function Ke(){return Ue}var Xe={};return Xe.getShapeProp=We,Xe.getConstructorFunction=qe,Xe.getKeyframedConstructorFunction=Ke,Xe})();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=(function(){var Re=Math.cos,Ce=Math.sin,je=Math.tan,Be=Math.round;function De(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function Fe(wr){if(wr===0)return this;var Er=Re(wr),Pr=Ce(wr);return this._t(Er,-Pr,0,0,Pr,Er,0,0,0,0,1,0,0,0,0,1)}function ke(wr){if(wr===0)return this;var Er=Re(wr),Pr=Ce(wr);return this._t(1,0,0,0,0,Er,-Pr,0,0,Pr,Er,0,0,0,0,1)}function Oe(wr){if(wr===0)return this;var Er=Re(wr),Pr=Ce(wr);return this._t(Er,0,Pr,0,0,1,0,0,-Pr,0,Er,0,0,0,0,1)}function Me(wr){if(wr===0)return this;var Er=Re(wr),Pr=Ce(wr);return this._t(Er,-Pr,0,0,Pr,Er,0,0,0,0,1,0,0,0,0,1)}function Ue(wr,Er){return this._t(1,Er,wr,1,0,0)}function $e(wr,Er){return this.shear(je(wr),je(Er))}function He(wr,Er){var Pr=Re(Er),Mr=Ce(Er);return this._t(Pr,Mr,0,0,-Mr,Pr,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,je(wr),1,0,0,0,0,1,0,0,0,0,1)._t(Pr,-Mr,0,0,Mr,Pr,0,0,0,0,1,0,0,0,0,1)}function Qe(wr,Er,Pr){return!Pr&&Pr!==0&&(Pr=1),wr===1&&Er===1&&Pr===1?this:this._t(wr,0,0,0,0,Er,0,0,0,0,Pr,0,0,0,0,1)}function We(wr,Er,Pr,Mr,_r,Ir,Dr,Or,br,Ur,Qr,zr,Gr,fn,nn,bn){return this.props[0]=wr,this.props[1]=Er,this.props[2]=Pr,this.props[3]=Mr,this.props[4]=_r,this.props[5]=Ir,this.props[6]=Dr,this.props[7]=Or,this.props[8]=br,this.props[9]=Ur,this.props[10]=Qr,this.props[11]=zr,this.props[12]=Gr,this.props[13]=fn,this.props[14]=nn,this.props[15]=bn,this}function qe(wr,Er,Pr){return Pr=Pr||0,wr!==0||Er!==0||Pr!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,wr,Er,Pr,1):this}function Ke(wr,Er,Pr,Mr,_r,Ir,Dr,Or,br,Ur,Qr,zr,Gr,fn,nn,bn){var hn=this.props;if(wr===1&&Er===0&&Pr===0&&Mr===0&&_r===0&&Ir===1&&Dr===0&&Or===0&&br===0&&Ur===0&&Qr===1&&zr===0)return hn[12]=hn[12]*wr+hn[15]*Gr,hn[13]=hn[13]*Ir+hn[15]*fn,hn[14]=hn[14]*Qr+hn[15]*nn,hn[15]*=bn,this._identityCalculated=!1,this;var yn=hn[0],Zr=hn[1],Rn=hn[2],ri=hn[3],Yn=hn[4],ti=hn[5],ei=hn[6],Gn=hn[7],Ei=hn[8],Ci=hn[9],Fi=hn[10],Si=hn[11],Ti=hn[12],ji=hn[13],wi=hn[14],En=hn[15];return hn[0]=yn*wr+Zr*_r+Rn*br+ri*Gr,hn[1]=yn*Er+Zr*Ir+Rn*Ur+ri*fn,hn[2]=yn*Pr+Zr*Dr+Rn*Qr+ri*nn,hn[3]=yn*Mr+Zr*Or+Rn*zr+ri*bn,hn[4]=Yn*wr+ti*_r+ei*br+Gn*Gr,hn[5]=Yn*Er+ti*Ir+ei*Ur+Gn*fn,hn[6]=Yn*Pr+ti*Dr+ei*Qr+Gn*nn,hn[7]=Yn*Mr+ti*Or+ei*zr+Gn*bn,hn[8]=Ei*wr+Ci*_r+Fi*br+Si*Gr,hn[9]=Ei*Er+Ci*Ir+Fi*Ur+Si*fn,hn[10]=Ei*Pr+Ci*Dr+Fi*Qr+Si*nn,hn[11]=Ei*Mr+Ci*Or+Fi*zr+Si*bn,hn[12]=Ti*wr+ji*_r+wi*br+En*Gr,hn[13]=Ti*Er+ji*Ir+wi*Ur+En*fn,hn[14]=Ti*Pr+ji*Dr+wi*Qr+En*nn,hn[15]=Ti*Mr+ji*Or+wi*zr+En*bn,this._identityCalculated=!1,this}function Xe(wr){var Er=wr.props;return this.transform(Er[0],Er[1],Er[2],Er[3],Er[4],Er[5],Er[6],Er[7],Er[8],Er[9],Er[10],Er[11],Er[12],Er[13],Er[14],Er[15])}function Ye(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function Ze(wr){for(var Er=0;Er<16;){if(wr.props[Er]!==this.props[Er])return!1;Er+=1}return!0}function Je(wr){var Er;for(Er=0;Er<16;Er+=1)wr.props[Er]=this.props[Er];return wr}function tr(wr){var Er;for(Er=0;Er<16;Er+=1)this.props[Er]=wr[Er]}function rr(wr,Er,Pr){return{x:wr*this.props[0]+Er*this.props[4]+Pr*this.props[8]+this.props[12],y:wr*this.props[1]+Er*this.props[5]+Pr*this.props[9]+this.props[13],z:wr*this.props[2]+Er*this.props[6]+Pr*this.props[10]+this.props[14]}}function ar(wr,Er,Pr){return wr*this.props[0]+Er*this.props[4]+Pr*this.props[8]+this.props[12]}function ir(wr,Er,Pr){return wr*this.props[1]+Er*this.props[5]+Pr*this.props[9]+this.props[13]}function nr(wr,Er,Pr){return wr*this.props[2]+Er*this.props[6]+Pr*this.props[10]+this.props[14]}function cr(){var wr=this.props[0]*this.props[5]-this.props[1]*this.props[4],Er=this.props[5]/wr,Pr=-this.props[1]/wr,Mr=-this.props[4]/wr,_r=this.props[0]/wr,Ir=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/wr,Dr=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/wr,Or=new Matrix;return Or.props[0]=Er,Or.props[1]=Pr,Or.props[4]=Mr,Or.props[5]=_r,Or.props[12]=Ir,Or.props[13]=Dr,Or}function mr(wr){var Er=this.getInverseMatrix();return Er.applyToPointArray(wr[0],wr[1],wr[2]||0)}function fr(wr){var Er,Pr=wr.length,Mr=[];for(Er=0;Er<Pr;Er+=1)Mr[Er]=mr(wr[Er]);return Mr}function or(wr,Er,Pr){var Mr=createTypedArray("float32",6);if(this.isIdentity())Mr[0]=wr[0],Mr[1]=wr[1],Mr[2]=Er[0],Mr[3]=Er[1],Mr[4]=Pr[0],Mr[5]=Pr[1];else{var _r=this.props[0],Ir=this.props[1],Dr=this.props[4],Or=this.props[5],br=this.props[12],Ur=this.props[13];Mr[0]=wr[0]*_r+wr[1]*Dr+br,Mr[1]=wr[0]*Ir+wr[1]*Or+Ur,Mr[2]=Er[0]*_r+Er[1]*Dr+br,Mr[3]=Er[0]*Ir+Er[1]*Or+Ur,Mr[4]=Pr[0]*_r+Pr[1]*Dr+br,Mr[5]=Pr[0]*Ir+Pr[1]*Or+Ur}return Mr}function yr(wr,Er,Pr){var Mr;return this.isIdentity()?Mr=[wr,Er,Pr]:Mr=[wr*this.props[0]+Er*this.props[4]+Pr*this.props[8]+this.props[12],wr*this.props[1]+Er*this.props[5]+Pr*this.props[9]+this.props[13],wr*this.props[2]+Er*this.props[6]+Pr*this.props[10]+this.props[14]],Mr}function Cr(wr,Er){if(this.isIdentity())return wr+","+Er;var Pr=this.props;return Math.round((wr*Pr[0]+Er*Pr[4]+Pr[12])*100)/100+","+Math.round((wr*Pr[1]+Er*Pr[5]+Pr[13])*100)/100}function jr(){for(var wr=0,Er=this.props,Pr="matrix3d(",Mr=1e4;wr<16;)Pr+=Be(Er[wr]*Mr)/Mr,Pr+=wr===15?")":",",wr+=1;return Pr}function vr(wr){var Er=1e4;return wr<1e-6&&wr>0||wr>-1e-6&&wr<0?Be(wr*Er)/Er:wr}function Tr(){var wr=this.props,Er=vr(wr[0]),Pr=vr(wr[1]),Mr=vr(wr[4]),_r=vr(wr[5]),Ir=vr(wr[12]),Dr=vr(wr[13]);return"matrix("+Er+","+Pr+","+Mr+","+_r+","+Ir+","+Dr+")"}return function(){this.reset=De,this.rotate=Fe,this.rotateX=ke,this.rotateY=Oe,this.rotateZ=Me,this.skew=$e,this.skewFromAxis=He,this.shear=Ue,this.scale=Qe,this.setTransform=We,this.translate=qe,this.transform=Ke,this.multiply=Xe,this.applyToPoint=rr,this.applyToX=ar,this.applyToY=ir,this.applyToZ=nr,this.applyToPointArray=yr,this.applyToTriplePoints=or,this.applyToPointStringified=Cr,this.toCSS=jr,this.to2dCSS=Tr,this.clone=Je,this.cloneFromProps=tr,this.equals=Ze,this.inversePoints=fr,this.inversePoint=mr,this.getInverseMatrix=cr,this._t=this.transform,this.isIdentity=Ye,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}})();function _typeof$3(Re){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof$3(Re)}var lottie={};function setLocation(Re){setLocationHref(Re)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(Re){setSubframeEnabled(Re)}function setPrefix(Re){setIdPrefix(Re)}function loadAnimation(Re){return animationManager.loadAnimation(Re)}function setQuality(Re){if(typeof Re=="string")switch(Re){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Re)&&Re>1&&setDefaultCurveSegments(Re)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Re,Ce){Re==="expressions"&&setExpressionsPlugin(Ce)}function getFactory(Re){switch(Re){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Re){for(var Ce=queryString.split("&"),je=0;je<Ce.length;je+=1){var Be=Ce[je].split("=");if(decodeURIComponent(Be[0])==Re)return decodeURIComponent(Be[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(Re){}var ShapeModifiers=(function(){var Re={},Ce={};Re.registerModifier=je,Re.getModifier=Be;function je(De,Fe){Ce[De]||(Ce[De]=Fe)}function Be(De,Fe,ke){return new Ce[De](Fe,ke)}return Re})();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Re){if(!this.closed){Re.sh.container.addDynamicProperty(Re.sh);var Ce={shape:Re.sh,data:Re,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(Ce),this.addShapeToModifier(Ce),this._isAnimated&&Re.setAsAnimated()}},ShapeModifier.prototype.init=function(Re,Ce){this.shapes=[],this.elem=Re,this.initDynamicPropertyContainer(Re),this.initModifierProperties(Re,Ce),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Re,Ce){this.s=PropertyFactory.getProp(Re,Ce.s,0,.01,this),this.e=PropertyFactory.getProp(Re,Ce.e,0,.01,this),this.o=PropertyFactory.getProp(Re,Ce.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=Ce.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Re){Re.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Re,Ce,je,Be,De){var Fe=[];Ce<=1?Fe.push({s:Re,e:Ce}):Re>=1?Fe.push({s:Re-1,e:Ce-1}):(Fe.push({s:Re,e:1}),Fe.push({s:0,e:Ce-1}));var ke=[],Oe,Me=Fe.length,Ue;for(Oe=0;Oe<Me;Oe+=1)if(Ue=Fe[Oe],!(Ue.e*De<Be||Ue.s*De>Be+je)){var $e,He;Ue.s*De<=Be?$e=0:$e=(Ue.s*De-Be)/je,Ue.e*De>=Be+je?He=1:He=(Ue.e*De-Be)/je,ke.push([$e,He])}return ke.length||ke.push([0,0]),ke},TrimModifier.prototype.releasePathsData=function(Re){var Ce,je=Re.length;for(Ce=0;Ce<je;Ce+=1)segmentsLengthPool.release(Re[Ce]);return Re.length=0,Re},TrimModifier.prototype.processShapes=function(Re){var Ce,je;if(this._mdf||Re){var Be=this.o.v%360/360;if(Be<0&&(Be+=1),this.s.v>1?Ce=1+Be:this.s.v<0?Ce=0+Be:Ce=this.s.v+Be,this.e.v>1?je=1+Be:this.e.v<0?je=0+Be:je=this.e.v+Be,Ce>je){var De=Ce;Ce=je,je=De}Ce=Math.round(Ce*1e4)*1e-4,je=Math.round(je*1e4)*1e-4,this.sValue=Ce,this.eValue=je}else Ce=this.sValue,je=this.eValue;var Fe,ke,Oe=this.shapes.length,Me,Ue,$e,He,Qe,We=0;if(je===Ce)for(ke=0;ke<Oe;ke+=1)this.shapes[ke].localShapeCollection.releaseShapes(),this.shapes[ke].shape._mdf=!0,this.shapes[ke].shape.paths=this.shapes[ke].localShapeCollection,this._mdf&&(this.shapes[ke].pathsData.length=0);else if(je===1&&Ce===0||je===0&&Ce===1){if(this._mdf)for(ke=0;ke<Oe;ke+=1)this.shapes[ke].pathsData.length=0,this.shapes[ke].shape._mdf=!0}else{var qe=[],Ke,Xe;for(ke=0;ke<Oe;ke+=1)if(Ke=this.shapes[ke],!Ke.shape._mdf&&!this._mdf&&!Re&&this.m!==2)Ke.shape.paths=Ke.localShapeCollection;else{if(Fe=Ke.shape.paths,Ue=Fe._length,Qe=0,!Ke.shape._mdf&&Ke.pathsData.length)Qe=Ke.totalShapeLength;else{for($e=this.releasePathsData(Ke.pathsData),Me=0;Me<Ue;Me+=1)He=bez.getSegmentsLength(Fe.shapes[Me]),$e.push(He),Qe+=He.totalLength;Ke.totalShapeLength=Qe,Ke.pathsData=$e}We+=Qe,Ke.shape._mdf=!0}var Ye=Ce,Ze=je,Je=0,tr;for(ke=Oe-1;ke>=0;ke-=1)if(Ke=this.shapes[ke],Ke.shape._mdf){for(Xe=Ke.localShapeCollection,Xe.releaseShapes(),this.m===2&&Oe>1?(tr=this.calculateShapeEdges(Ce,je,Ke.totalShapeLength,Je,We),Je+=Ke.totalShapeLength):tr=[[Ye,Ze]],Ue=tr.length,Me=0;Me<Ue;Me+=1){Ye=tr[Me][0],Ze=tr[Me][1],qe.length=0,Ze<=1?qe.push({s:Ke.totalShapeLength*Ye,e:Ke.totalShapeLength*Ze}):Ye>=1?qe.push({s:Ke.totalShapeLength*(Ye-1),e:Ke.totalShapeLength*(Ze-1)}):(qe.push({s:Ke.totalShapeLength*Ye,e:Ke.totalShapeLength}),qe.push({s:0,e:Ke.totalShapeLength*(Ze-1)}));var rr=this.addShapes(Ke,qe[0]);if(qe[0].s!==qe[0].e){if(qe.length>1){var ar=Ke.shape.paths.shapes[Ke.shape.paths._length-1];if(ar.c){var ir=rr.pop();this.addPaths(rr,Xe),rr=this.addShapes(Ke,qe[1],ir)}else this.addPaths(rr,Xe),rr=this.addShapes(Ke,qe[1])}this.addPaths(rr,Xe)}}Ke.shape.paths=Xe}}},TrimModifier.prototype.addPaths=function(Re,Ce){var je,Be=Re.length;for(je=0;je<Be;je+=1)Ce.addShape(Re[je])},TrimModifier.prototype.addSegment=function(Re,Ce,je,Be,De,Fe,ke){De.setXYAt(Ce[0],Ce[1],"o",Fe),De.setXYAt(je[0],je[1],"i",Fe+1),ke&&De.setXYAt(Re[0],Re[1],"v",Fe),De.setXYAt(Be[0],Be[1],"v",Fe+1)},TrimModifier.prototype.addSegmentFromArray=function(Re,Ce,je,Be){Ce.setXYAt(Re[1],Re[5],"o",je),Ce.setXYAt(Re[2],Re[6],"i",je+1),Be&&Ce.setXYAt(Re[0],Re[4],"v",je),Ce.setXYAt(Re[3],Re[7],"v",je+1)},TrimModifier.prototype.addShapes=function(Re,Ce,je){var Be=Re.pathsData,De=Re.shape.paths.shapes,Fe,ke=Re.shape.paths._length,Oe,Me,Ue=0,$e,He,Qe,We,qe=[],Ke,Xe=!0;for(je?(He=je._length,Ke=je._length):(je=shapePool.newElement(),He=0,Ke=0),qe.push(je),Fe=0;Fe<ke;Fe+=1){for(Qe=Be[Fe].lengths,je.c=De[Fe].c,Me=De[Fe].c?Qe.length:Qe.length+1,Oe=1;Oe<Me;Oe+=1)if($e=Qe[Oe-1],Ue+$e.addedLength<Ce.s)Ue+=$e.addedLength,je.c=!1;else if(Ue>Ce.e){je.c=!1;break}else Ce.s<=Ue&&Ce.e>=Ue+$e.addedLength?(this.addSegment(De[Fe].v[Oe-1],De[Fe].o[Oe-1],De[Fe].i[Oe],De[Fe].v[Oe],je,He,Xe),Xe=!1):(We=bez.getNewSegment(De[Fe].v[Oe-1],De[Fe].v[Oe],De[Fe].o[Oe-1],De[Fe].i[Oe],(Ce.s-Ue)/$e.addedLength,(Ce.e-Ue)/$e.addedLength,Qe[Oe-1]),this.addSegmentFromArray(We,je,He,Xe),Xe=!1,je.c=!1),Ue+=$e.addedLength,He+=1;if(De[Fe].c&&Qe.length){if($e=Qe[Oe-1],Ue<=Ce.e){var Ye=Qe[Oe-1].addedLength;Ce.s<=Ue&&Ce.e>=Ue+Ye?(this.addSegment(De[Fe].v[Oe-1],De[Fe].o[Oe-1],De[Fe].i[0],De[Fe].v[0],je,He,Xe),Xe=!1):(We=bez.getNewSegment(De[Fe].v[Oe-1],De[Fe].v[0],De[Fe].o[Oe-1],De[Fe].i[0],(Ce.s-Ue)/Ye,(Ce.e-Ue)/Ye,Qe[Oe-1]),this.addSegmentFromArray(We,je,He,Xe),Xe=!1,je.c=!1)}else je.c=!1;Ue+=$e.addedLength,He+=1}if(je._length&&(je.setXYAt(je.v[Ke][0],je.v[Ke][1],"i",Ke),je.setXYAt(je.v[je._length-1][0],je.v[je._length-1][1],"o",je._length-1)),Ue>Ce.e)break;Fe<ke-1&&(je=shapePool.newElement(),Xe=!0,qe.push(je),He=0)}return qe};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Re,Ce){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Re,Ce.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Re,Ce){var je=Ce/100,Be=[0,0],De=Re._length,Fe=0;for(Fe=0;Fe<De;Fe+=1)Be[0]+=Re.v[Fe][0],Be[1]+=Re.v[Fe][1];Be[0]/=De,Be[1]/=De;var ke=shapePool.newElement();ke.c=Re.c;var Oe,Me,Ue,$e,He,Qe;for(Fe=0;Fe<De;Fe+=1)Oe=Re.v[Fe][0]+(Be[0]-Re.v[Fe][0])*je,Me=Re.v[Fe][1]+(Be[1]-Re.v[Fe][1])*je,Ue=Re.o[Fe][0]+(Be[0]-Re.o[Fe][0])*-je,$e=Re.o[Fe][1]+(Be[1]-Re.o[Fe][1])*-je,He=Re.i[Fe][0]+(Be[0]-Re.i[Fe][0])*-je,Qe=Re.i[Fe][1]+(Be[1]-Re.i[Fe][1])*-je,ke.setTripleAt(Oe,Me,Ue,$e,He,Qe,Fe);return ke},PuckerAndBloatModifier.prototype.processShapes=function(Re){var Ce,je,Be=this.shapes.length,De,Fe,ke=this.amount.v;if(ke!==0){var Oe,Me;for(je=0;je<Be;je+=1){if(Oe=this.shapes[je],Me=Oe.localShapeCollection,!(!Oe.shape._mdf&&!this._mdf&&!Re))for(Me.releaseShapes(),Oe.shape._mdf=!0,Ce=Oe.shape.paths.shapes,Fe=Oe.shape.paths._length,De=0;De<Fe;De+=1)Me.addShape(this.processPath(Ce[De],ke));Oe.shape.paths=Oe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=(function(){var Re=[0,0];function Ce(Me){var Ue=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||Ue,this.a&&Me.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Me.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Me.skewFromAxis(-this.sk.v,this.sa.v),this.r?Me.rotate(-this.r.v):Me.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Me.translate(this.px.v,this.py.v,-this.pz.v):Me.translate(this.px.v,this.py.v,0):Me.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function je(Me){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Me){var Ue;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var $e,He;if(Ue=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?($e=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/Ue,0),He=this.p.getValueAtTime(this.p.keyframes[0].t/Ue,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?($e=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/Ue,0),He=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/Ue,0)):($e=this.p.pv,He=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/Ue,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){$e=[],He=[];var Qe=this.px,We=this.py;Qe._caching.lastFrame+Qe.offsetTime<=Qe.keyframes[0].t?($e[0]=Qe.getValueAtTime((Qe.keyframes[0].t+.01)/Ue,0),$e[1]=We.getValueAtTime((We.keyframes[0].t+.01)/Ue,0),He[0]=Qe.getValueAtTime(Qe.keyframes[0].t/Ue,0),He[1]=We.getValueAtTime(We.keyframes[0].t/Ue,0)):Qe._caching.lastFrame+Qe.offsetTime>=Qe.keyframes[Qe.keyframes.length-1].t?($e[0]=Qe.getValueAtTime(Qe.keyframes[Qe.keyframes.length-1].t/Ue,0),$e[1]=We.getValueAtTime(We.keyframes[We.keyframes.length-1].t/Ue,0),He[0]=Qe.getValueAtTime((Qe.keyframes[Qe.keyframes.length-1].t-.01)/Ue,0),He[1]=We.getValueAtTime((We.keyframes[We.keyframes.length-1].t-.01)/Ue,0)):($e=[Qe.pv,We.pv],He[0]=Qe.getValueAtTime((Qe._caching.lastFrame+Qe.offsetTime-.01)/Ue,Qe.offsetTime),He[1]=We.getValueAtTime((We._caching.lastFrame+We.offsetTime-.01)/Ue,We.offsetTime))}else He=Re,$e=He;this.v.rotate(-Math.atan2($e[1]-He[1],$e[0]-He[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Be(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function De(){}function Fe(Me){this._addDynamicProperty(Me),this.elem.addDynamicProperty(Me),this._isDirty=!0}function ke(Me,Ue,$e){if(this.elem=Me,this.frameId=-1,this.propType="transform",this.data=Ue,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer($e||Me),Ue.p&&Ue.p.s?(this.px=PropertyFactory.getProp(Me,Ue.p.x,0,0,this),this.py=PropertyFactory.getProp(Me,Ue.p.y,0,0,this),Ue.p.z&&(this.pz=PropertyFactory.getProp(Me,Ue.p.z,0,0,this))):this.p=PropertyFactory.getProp(Me,Ue.p||{k:[0,0,0]},1,0,this),Ue.rx){if(this.rx=PropertyFactory.getProp(Me,Ue.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Me,Ue.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Me,Ue.rz,0,degToRads,this),Ue.or.k[0].ti){var He,Qe=Ue.or.k.length;for(He=0;He<Qe;He+=1)Ue.or.k[He].to=null,Ue.or.k[He].ti=null}this.or=PropertyFactory.getProp(Me,Ue.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Me,Ue.r||{k:0},0,degToRads,this);Ue.sk&&(this.sk=PropertyFactory.getProp(Me,Ue.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Me,Ue.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Me,Ue.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Me,Ue.s||{k:[100,100,100]},1,.01,this),Ue.o?this.o=PropertyFactory.getProp(Me,Ue.o,0,.01,Me):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}ke.prototype={applyToMatrix:Ce,getValue:je,precalculateMatrix:Be,autoOrient:De},extendPrototype([DynamicPropertyContainer],ke),ke.prototype.addDynamicProperty=Fe,ke.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Oe(Me,Ue,$e){return new ke(Me,Ue,$e)}return{getTransformProperty:Oe}})();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Re,Ce){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Re,Ce.c,0,null,this),this.o=PropertyFactory.getProp(Re,Ce.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Re,Ce.tr,this),this.so=PropertyFactory.getProp(Re,Ce.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Re,Ce.tr.eo,0,.01,this),this.data=Ce,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Re,Ce,je,Be,De,Fe){var ke=Fe?-1:1,Oe=Be.s.v[0]+(1-Be.s.v[0])*(1-De),Me=Be.s.v[1]+(1-Be.s.v[1])*(1-De);Re.translate(Be.p.v[0]*ke*De,Be.p.v[1]*ke*De,Be.p.v[2]),Ce.translate(-Be.a.v[0],-Be.a.v[1],Be.a.v[2]),Ce.rotate(-Be.r.v*ke*De),Ce.translate(Be.a.v[0],Be.a.v[1],Be.a.v[2]),je.translate(-Be.a.v[0],-Be.a.v[1],Be.a.v[2]),je.scale(Fe?1/Oe:Oe,Fe?1/Me:Me),je.translate(Be.a.v[0],Be.a.v[1],Be.a.v[2])},RepeaterModifier.prototype.init=function(Re,Ce,je,Be){for(this.elem=Re,this.arr=Ce,this.pos=je,this.elemsData=Be,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Re),this.initModifierProperties(Re,Ce[je]);je>0;)je-=1,this._elements.unshift(Ce[je]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Re){var Ce,je=Re.length;for(Ce=0;Ce<je;Ce+=1)Re[Ce]._processed=!1,Re[Ce].ty==="gr"&&this.resetElements(Re[Ce].it)},RepeaterModifier.prototype.cloneElements=function(Re){var Ce=JSON.parse(JSON.stringify(Re));return this.resetElements(Ce),Ce},RepeaterModifier.prototype.changeGroupRender=function(Re,Ce){var je,Be=Re.length;for(je=0;je<Be;je+=1)Re[je]._render=Ce,Re[je].ty==="gr"&&this.changeGroupRender(Re[je].it,Ce)},RepeaterModifier.prototype.processShapes=function(Re){var Ce,je,Be,De,Fe,ke=!1;if(this._mdf||Re){var Oe=Math.ceil(this.c.v);if(this._groups.length<Oe){for(;this._groups.length<Oe;){var Me={it:this.cloneElements(this._elements),ty:"gr"};Me.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Me),this._groups.splice(0,0,Me),this._currentCopies+=1}this.elem.reloadShapes(),ke=!0}Fe=0;var Ue;for(Be=0;Be<=this._groups.length-1;Be+=1){if(Ue=Fe<Oe,this._groups[Be]._render=Ue,this.changeGroupRender(this._groups[Be].it,Ue),!Ue){var $e=this.elemsData[Be].it,He=$e[$e.length-1];He.transform.op.v!==0?(He.transform.op._mdf=!0,He.transform.op.v=0):He.transform.op._mdf=!1}Fe+=1}this._currentCopies=Oe;var Qe=this.o.v,We=Qe%1,qe=Qe>0?Math.floor(Qe):Math.ceil(Qe),Ke=this.pMatrix.props,Xe=this.rMatrix.props,Ye=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var Ze=0;if(Qe>0){for(;Ze<qe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),Ze+=1;We&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,We,!1),Ze+=We)}else if(Qe<0){for(;Ze>qe;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),Ze-=1;We&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-We,!0),Ze-=We)}Be=this.data.m===1?0:this._currentCopies-1,De=this.data.m===1?1:-1,Fe=this._currentCopies;for(var Je,tr;Fe;){if(Ce=this.elemsData[Be].it,je=Ce[Ce.length-1].transform.mProps.v.props,tr=je.length,Ce[Ce.length-1].transform.mProps._mdf=!0,Ce[Ce.length-1].transform.op._mdf=!0,Ce[Ce.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Be/(this._currentCopies-1)),Ze!==0){for((Be!==0&&De===1||Be!==this._currentCopies-1&&De===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(Xe[0],Xe[1],Xe[2],Xe[3],Xe[4],Xe[5],Xe[6],Xe[7],Xe[8],Xe[9],Xe[10],Xe[11],Xe[12],Xe[13],Xe[14],Xe[15]),this.matrix.transform(Ye[0],Ye[1],Ye[2],Ye[3],Ye[4],Ye[5],Ye[6],Ye[7],Ye[8],Ye[9],Ye[10],Ye[11],Ye[12],Ye[13],Ye[14],Ye[15]),this.matrix.transform(Ke[0],Ke[1],Ke[2],Ke[3],Ke[4],Ke[5],Ke[6],Ke[7],Ke[8],Ke[9],Ke[10],Ke[11],Ke[12],Ke[13],Ke[14],Ke[15]),Je=0;Je<tr;Je+=1)je[Je]=this.matrix.props[Je];this.matrix.reset()}else for(this.matrix.reset(),Je=0;Je<tr;Je+=1)je[Je]=this.matrix.props[Je];Ze+=1,Fe-=1,Be+=De}}else for(Fe=this._currentCopies,Be=0,De=1;Fe;)Ce=this.elemsData[Be].it,je=Ce[Ce.length-1].transform.mProps.v.props,Ce[Ce.length-1].transform.mProps._mdf=!1,Ce[Ce.length-1].transform.op._mdf=!1,Fe-=1,Be+=De;return ke},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Re,Ce){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Re,Ce.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Re,Ce){var je=shapePool.newElement();je.c=Re.c;var Be,De=Re._length,Fe,ke,Oe,Me,Ue,$e,He=0,Qe,We,qe,Ke,Xe,Ye;for(Be=0;Be<De;Be+=1)Fe=Re.v[Be],Oe=Re.o[Be],ke=Re.i[Be],Fe[0]===Oe[0]&&Fe[1]===Oe[1]&&Fe[0]===ke[0]&&Fe[1]===ke[1]?(Be===0||Be===De-1)&&!Re.c?(je.setTripleAt(Fe[0],Fe[1],Oe[0],Oe[1],ke[0],ke[1],He),He+=1):(Be===0?Me=Re.v[De-1]:Me=Re.v[Be-1],Ue=Math.sqrt(Math.pow(Fe[0]-Me[0],2)+Math.pow(Fe[1]-Me[1],2)),$e=Ue?Math.min(Ue/2,Ce)/Ue:0,Xe=Fe[0]+(Me[0]-Fe[0])*$e,Qe=Xe,Ye=Fe[1]-(Fe[1]-Me[1])*$e,We=Ye,qe=Qe-(Qe-Fe[0])*roundCorner,Ke=We-(We-Fe[1])*roundCorner,je.setTripleAt(Qe,We,qe,Ke,Xe,Ye,He),He+=1,Be===De-1?Me=Re.v[0]:Me=Re.v[Be+1],Ue=Math.sqrt(Math.pow(Fe[0]-Me[0],2)+Math.pow(Fe[1]-Me[1],2)),$e=Ue?Math.min(Ue/2,Ce)/Ue:0,qe=Fe[0]+(Me[0]-Fe[0])*$e,Qe=qe,Ke=Fe[1]+(Me[1]-Fe[1])*$e,We=Ke,Xe=Qe-(Qe-Fe[0])*roundCorner,Ye=We-(We-Fe[1])*roundCorner,je.setTripleAt(Qe,We,qe,Ke,Xe,Ye,He),He+=1):(je.setTripleAt(Re.v[Be][0],Re.v[Be][1],Re.o[Be][0],Re.o[Be][1],Re.i[Be][0],Re.i[Be][1],He),He+=1);return je},RoundCornersModifier.prototype.processShapes=function(Re){var Ce,je,Be=this.shapes.length,De,Fe,ke=this.rd.v;if(ke!==0){var Oe,Me;for(je=0;je<Be;je+=1){if(Oe=this.shapes[je],Me=Oe.localShapeCollection,!(!Oe.shape._mdf&&!this._mdf&&!Re))for(Me.releaseShapes(),Oe.shape._mdf=!0,Ce=Oe.shape.paths.shapes,Fe=Oe.shape.paths._length,De=0;De<Fe;De+=1)Me.addShape(this.processPath(Ce[De],ke));Oe.shape.paths=Oe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Re,Ce){return Math.abs(Re-Ce)*1e5<=Math.min(Math.abs(Re),Math.abs(Ce))}function floatZero(Re){return Math.abs(Re)<=1e-5}function lerp(Re,Ce,je){return Re*(1-je)+Ce*je}function lerpPoint(Re,Ce,je){return[lerp(Re[0],Ce[0],je),lerp(Re[1],Ce[1],je)]}function quadRoots(Re,Ce,je){if(Re===0)return[];var Be=Ce*Ce-4*Re*je;if(Be<0)return[];var De=-Ce/(2*Re);if(Be===0)return[De];var Fe=Math.sqrt(Be)/(2*Re);return[De-Fe,De+Fe]}function polynomialCoefficients(Re,Ce,je,Be){return[-Re+3*Ce-3*je+Be,3*Re-6*Ce+3*je,-3*Re+3*Ce,Re]}function singlePoint(Re){return new PolynomialBezier(Re,Re,Re,Re,!1)}function PolynomialBezier(Re,Ce,je,Be,De){De&&pointEqual(Re,Ce)&&(Ce=lerpPoint(Re,Be,1/3)),De&&pointEqual(je,Be)&&(je=lerpPoint(Re,Be,2/3));var Fe=polynomialCoefficients(Re[0],Ce[0],je[0],Be[0]),ke=polynomialCoefficients(Re[1],Ce[1],je[1],Be[1]);this.a=[Fe[0],ke[0]],this.b=[Fe[1],ke[1]],this.c=[Fe[2],ke[2]],this.d=[Fe[3],ke[3]],this.points=[Re,Ce,je,Be]}PolynomialBezier.prototype.point=function(Re){return[((this.a[0]*Re+this.b[0])*Re+this.c[0])*Re+this.d[0],((this.a[1]*Re+this.b[1])*Re+this.c[1])*Re+this.d[1]]},PolynomialBezier.prototype.derivative=function(Re){return[(3*Re*this.a[0]+2*this.b[0])*Re+this.c[0],(3*Re*this.a[1]+2*this.b[1])*Re+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Re){var Ce=this.derivative(Re);return Math.atan2(Ce[1],Ce[0])},PolynomialBezier.prototype.normalAngle=function(Re){var Ce=this.derivative(Re);return Math.atan2(Ce[0],Ce[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Re=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Re))return[];var Ce=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Re,je=Ce*Ce-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Re;if(je<0)return[];var Be=Math.sqrt(je);return floatZero(Be)?Be>0&&Be<1?[Ce]:[]:[Ce-Be,Ce+Be].filter(function(De){return De>0&&De<1})},PolynomialBezier.prototype.split=function(Re){if(Re<=0)return[singlePoint(this.points[0]),this];if(Re>=1)return[this,singlePoint(this.points[this.points.length-1])];var Ce=lerpPoint(this.points[0],this.points[1],Re),je=lerpPoint(this.points[1],this.points[2],Re),Be=lerpPoint(this.points[2],this.points[3],Re),De=lerpPoint(Ce,je,Re),Fe=lerpPoint(je,Be,Re),ke=lerpPoint(De,Fe,Re);return[new PolynomialBezier(this.points[0],Ce,De,ke,!0),new PolynomialBezier(ke,Fe,Be,this.points[3],!0)]};function extrema(Re,Ce){var je=Re.points[0][Ce],Be=Re.points[Re.points.length-1][Ce];if(je>Be){var De=Be;Be=je,je=De}for(var Fe=quadRoots(3*Re.a[Ce],2*Re.b[Ce],Re.c[Ce]),ke=0;ke<Fe.length;ke+=1)if(Fe[ke]>0&&Fe[ke]<1){var Oe=Re.point(Fe[ke])[Ce];Oe<je?je=Oe:Oe>Be&&(Be=Oe)}return{min:je,max:Be}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Re=this.bounds();return{left:Re.x.min,right:Re.x.max,top:Re.y.min,bottom:Re.y.max,width:Re.x.max-Re.x.min,height:Re.y.max-Re.y.min,cx:(Re.x.max+Re.x.min)/2,cy:(Re.y.max+Re.y.min)/2}};function intersectData(Re,Ce,je){var Be=Re.boundingBox();return{cx:Be.cx,cy:Be.cy,width:Be.width,height:Be.height,bez:Re,t:(Ce+je)/2,t1:Ce,t2:je}}function splitData(Re){var Ce=Re.bez.split(.5);return[intersectData(Ce[0],Re.t1,Re.t),intersectData(Ce[1],Re.t,Re.t2)]}function boxIntersect(Re,Ce){return Math.abs(Re.cx-Ce.cx)*2<Re.width+Ce.width&&Math.abs(Re.cy-Ce.cy)*2<Re.height+Ce.height}function intersectsImpl(Re,Ce,je,Be,De,Fe){if(boxIntersect(Re,Ce)){if(je>=Fe||Re.width<=Be&&Re.height<=Be&&Ce.width<=Be&&Ce.height<=Be){De.push([Re.t,Ce.t]);return}var ke=splitData(Re),Oe=splitData(Ce);intersectsImpl(ke[0],Oe[0],je+1,Be,De,Fe),intersectsImpl(ke[0],Oe[1],je+1,Be,De,Fe),intersectsImpl(ke[1],Oe[0],je+1,Be,De,Fe),intersectsImpl(ke[1],Oe[1],je+1,Be,De,Fe)}}PolynomialBezier.prototype.intersections=function(Re,Ce,je){Ce===void 0&&(Ce=2),je===void 0&&(je=7);var Be=[];return intersectsImpl(intersectData(this,0,1),intersectData(Re,0,1),0,Ce,Be,je),Be},PolynomialBezier.shapeSegment=function(Re,Ce){var je=(Ce+1)%Re.length();return new PolynomialBezier(Re.v[Ce],Re.o[Ce],Re.i[je],Re.v[je],!0)},PolynomialBezier.shapeSegmentInverted=function(Re,Ce){var je=(Ce+1)%Re.length();return new PolynomialBezier(Re.v[je],Re.i[je],Re.o[Ce],Re.v[Ce],!0)};function crossProduct(Re,Ce){return[Re[1]*Ce[2]-Re[2]*Ce[1],Re[2]*Ce[0]-Re[0]*Ce[2],Re[0]*Ce[1]-Re[1]*Ce[0]]}function lineIntersection(Re,Ce,je,Be){var De=[Re[0],Re[1],1],Fe=[Ce[0],Ce[1],1],ke=[je[0],je[1],1],Oe=[Be[0],Be[1],1],Me=crossProduct(crossProduct(De,Fe),crossProduct(ke,Oe));return floatZero(Me[2])?null:[Me[0]/Me[2],Me[1]/Me[2]]}function polarOffset(Re,Ce,je){return[Re[0]+Math.cos(Ce)*je,Re[1]-Math.sin(Ce)*je]}function pointDistance(Re,Ce){return Math.hypot(Re[0]-Ce[0],Re[1]-Ce[1])}function pointEqual(Re,Ce){return floatEqual(Re[0],Ce[0])&&floatEqual(Re[1],Ce[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Re,Ce){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Re,Ce.s,0,null,this),this.frequency=PropertyFactory.getProp(Re,Ce.r,0,null,this),this.pointsType=PropertyFactory.getProp(Re,Ce.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Re,Ce,je,Be,De,Fe,ke){var Oe=je-Math.PI/2,Me=je+Math.PI/2,Ue=Ce[0]+Math.cos(je)*Be*De,$e=Ce[1]-Math.sin(je)*Be*De;Re.setTripleAt(Ue,$e,Ue+Math.cos(Oe)*Fe,$e-Math.sin(Oe)*Fe,Ue+Math.cos(Me)*ke,$e-Math.sin(Me)*ke,Re.length())}function getPerpendicularVector(Re,Ce){var je=[Ce[0]-Re[0],Ce[1]-Re[1]],Be=-Math.PI*.5,De=[Math.cos(Be)*je[0]-Math.sin(Be)*je[1],Math.sin(Be)*je[0]+Math.cos(Be)*je[1]];return De}function getProjectingAngle(Re,Ce){var je=Ce===0?Re.length()-1:Ce-1,Be=(Ce+1)%Re.length(),De=Re.v[je],Fe=Re.v[Be],ke=getPerpendicularVector(De,Fe);return Math.atan2(0,1)-Math.atan2(ke[1],ke[0])}function zigZagCorner(Re,Ce,je,Be,De,Fe,ke){var Oe=getProjectingAngle(Ce,je),Me=Ce.v[je%Ce._length],Ue=Ce.v[je===0?Ce._length-1:je-1],$e=Ce.v[(je+1)%Ce._length],He=Fe===2?Math.sqrt(Math.pow(Me[0]-Ue[0],2)+Math.pow(Me[1]-Ue[1],2)):0,Qe=Fe===2?Math.sqrt(Math.pow(Me[0]-$e[0],2)+Math.pow(Me[1]-$e[1],2)):0;setPoint(Re,Ce.v[je%Ce._length],Oe,ke,Be,Qe/((De+1)*2),He/((De+1)*2))}function zigZagSegment(Re,Ce,je,Be,De,Fe){for(var ke=0;ke<Be;ke+=1){var Oe=(ke+1)/(Be+1),Me=De===2?Math.sqrt(Math.pow(Ce.points[3][0]-Ce.points[0][0],2)+Math.pow(Ce.points[3][1]-Ce.points[0][1],2)):0,Ue=Ce.normalAngle(Oe),$e=Ce.point(Oe);setPoint(Re,$e,Ue,Fe,je,Me/((Be+1)*2),Me/((Be+1)*2)),Fe=-Fe}return Fe}ZigZagModifier.prototype.processPath=function(Re,Ce,je,Be){var De=Re._length,Fe=shapePool.newElement();if(Fe.c=Re.c,Re.c||(De-=1),De===0)return Fe;var ke=-1,Oe=PolynomialBezier.shapeSegment(Re,0);zigZagCorner(Fe,Re,0,Ce,je,Be,ke);for(var Me=0;Me<De;Me+=1)ke=zigZagSegment(Fe,Oe,Ce,je,Be,-ke),Me===De-1&&!Re.c?Oe=null:Oe=PolynomialBezier.shapeSegment(Re,(Me+1)%De),zigZagCorner(Fe,Re,Me+1,Ce,je,Be,ke);return Fe},ZigZagModifier.prototype.processShapes=function(Re){var Ce,je,Be=this.shapes.length,De,Fe,ke=this.amplitude.v,Oe=Math.max(0,Math.round(this.frequency.v)),Me=this.pointsType.v;if(ke!==0){var Ue,$e;for(je=0;je<Be;je+=1){if(Ue=this.shapes[je],$e=Ue.localShapeCollection,!(!Ue.shape._mdf&&!this._mdf&&!Re))for($e.releaseShapes(),Ue.shape._mdf=!0,Ce=Ue.shape.paths.shapes,Fe=Ue.shape.paths._length,De=0;De<Fe;De+=1)$e.addShape(this.processPath(Ce[De],ke,Oe,Me));Ue.shape.paths=Ue.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Re,Ce,je){var Be=Math.atan2(Ce[0]-Re[0],Ce[1]-Re[1]);return[polarOffset(Re,Be,je),polarOffset(Ce,Be,je)]}function offsetSegment(Re,Ce){var je,Be,De,Fe,ke,Oe,Me;Me=linearOffset(Re.points[0],Re.points[1],Ce),je=Me[0],Be=Me[1],Me=linearOffset(Re.points[1],Re.points[2],Ce),De=Me[0],Fe=Me[1],Me=linearOffset(Re.points[2],Re.points[3],Ce),ke=Me[0],Oe=Me[1];var Ue=lineIntersection(je,Be,De,Fe);Ue===null&&(Ue=Be);var $e=lineIntersection(ke,Oe,De,Fe);return $e===null&&($e=ke),new PolynomialBezier(je,Ue,$e,Oe)}function joinLines(Re,Ce,je,Be,De){var Fe=Ce.points[3],ke=je.points[0];if(Be===3||pointEqual(Fe,ke))return Fe;if(Be===2){var Oe=-Ce.tangentAngle(1),Me=-je.tangentAngle(0)+Math.PI,Ue=lineIntersection(Fe,polarOffset(Fe,Oe+Math.PI/2,100),ke,polarOffset(ke,Oe+Math.PI/2,100)),$e=Ue?pointDistance(Ue,Fe):pointDistance(Fe,ke)/2,He=polarOffset(Fe,Oe,2*$e*roundCorner);return Re.setXYAt(He[0],He[1],"o",Re.length()-1),He=polarOffset(ke,Me,2*$e*roundCorner),Re.setTripleAt(ke[0],ke[1],ke[0],ke[1],He[0],He[1],Re.length()),ke}var Qe=pointEqual(Fe,Ce.points[2])?Ce.points[0]:Ce.points[2],We=pointEqual(ke,je.points[1])?je.points[3]:je.points[1],qe=lineIntersection(Qe,Fe,ke,We);return qe&&pointDistance(qe,Fe)<De?(Re.setTripleAt(qe[0],qe[1],qe[0],qe[1],qe[0],qe[1],Re.length()),qe):Fe}function getIntersection(Re,Ce){var je=Re.intersections(Ce);return je.length&&floatEqual(je[0][0],1)&&je.shift(),je.length?je[0]:null}function pruneSegmentIntersection(Re,Ce){var je=Re.slice(),Be=Ce.slice(),De=getIntersection(Re[Re.length-1],Ce[0]);return De&&(je[Re.length-1]=Re[Re.length-1].split(De[0])[0],Be[0]=Ce[0].split(De[1])[1]),Re.length>1&&Ce.length>1&&(De=getIntersection(Re[0],Ce[Ce.length-1]),De)?[[Re[0].split(De[0])[0]],[Ce[Ce.length-1].split(De[1])[1]]]:[je,Be]}function pruneIntersections(Re){for(var Ce,je=1;je<Re.length;je+=1)Ce=pruneSegmentIntersection(Re[je-1],Re[je]),Re[je-1]=Ce[0],Re[je]=Ce[1];return Re.length>1&&(Ce=pruneSegmentIntersection(Re[Re.length-1],Re[0]),Re[Re.length-1]=Ce[0],Re[0]=Ce[1]),Re}function offsetSegmentSplit(Re,Ce){var je=Re.inflectionPoints(),Be,De,Fe,ke;if(je.length===0)return[offsetSegment(Re,Ce)];if(je.length===1||floatEqual(je[1],1))return Fe=Re.split(je[0]),Be=Fe[0],De=Fe[1],[offsetSegment(Be,Ce),offsetSegment(De,Ce)];Fe=Re.split(je[0]),Be=Fe[0];var Oe=(je[1]-je[0])/(1-je[0]);return Fe=Fe[1].split(Oe),ke=Fe[0],De=Fe[1],[offsetSegment(Be,Ce),offsetSegment(ke,Ce),offsetSegment(De,Ce)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Re,Ce){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Re,Ce.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Re,Ce.ml,0,null,this),this.lineJoin=Ce.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Re,Ce,je,Be){var De=shapePool.newElement();De.c=Re.c;var Fe=Re.length();Re.c||(Fe-=1);var ke,Oe,Me,Ue=[];for(ke=0;ke<Fe;ke+=1)Me=PolynomialBezier.shapeSegment(Re,ke),Ue.push(offsetSegmentSplit(Me,Ce));if(!Re.c)for(ke=Fe-1;ke>=0;ke-=1)Me=PolynomialBezier.shapeSegmentInverted(Re,ke),Ue.push(offsetSegmentSplit(Me,Ce));Ue=pruneIntersections(Ue);var $e=null,He=null;for(ke=0;ke<Ue.length;ke+=1){var Qe=Ue[ke];for(He&&($e=joinLines(De,He,Qe[0],je,Be)),He=Qe[Qe.length-1],Oe=0;Oe<Qe.length;Oe+=1)Me=Qe[Oe],$e&&pointEqual(Me.points[0],$e)?De.setXYAt(Me.points[1][0],Me.points[1][1],"o",De.length()-1):De.setTripleAt(Me.points[0][0],Me.points[0][1],Me.points[1][0],Me.points[1][1],Me.points[0][0],Me.points[0][1],De.length()),De.setTripleAt(Me.points[3][0],Me.points[3][1],Me.points[3][0],Me.points[3][1],Me.points[2][0],Me.points[2][1],De.length()),$e=Me.points[3]}return Ue.length&&joinLines(De,He,Ue[0][0],je,Be),De},OffsetPathModifier.prototype.processShapes=function(Re){var Ce,je,Be=this.shapes.length,De,Fe,ke=this.amount.v,Oe=this.miterLimit.v,Me=this.lineJoin;if(ke!==0){var Ue,$e;for(je=0;je<Be;je+=1){if(Ue=this.shapes[je],$e=Ue.localShapeCollection,!(!Ue.shape._mdf&&!this._mdf&&!Re))for($e.releaseShapes(),Ue.shape._mdf=!0,Ce=Ue.shape.paths.shapes,Fe=Ue.shape.paths._length,De=0;De<Fe;De+=1)$e.addShape(this.processPath(Ce[De],ke,Me,Oe));Ue.shape.paths=Ue.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Re){for(var Ce=Re.fStyle?Re.fStyle.split(" "):[],je="normal",Be="normal",De=Ce.length,Fe,ke=0;ke<De;ke+=1)switch(Fe=Ce[ke].toLowerCase(),Fe){case"italic":Be="italic";break;case"bold":je="700";break;case"black":je="900";break;case"medium":je="500";break;case"regular":case"normal":je="400";break;case"light":case"thin":je="200";break}return{style:Be,weight:Re.fWeight||je}}var FontManager=(function(){var Re=5e3,Ce={w:0,size:0,shapes:[],data:{shapes:[]}},je=[];je=je.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Be=127988,De=917631,Fe=917601,ke=917626,Oe=65039,Me=8205,Ue=127462,$e=127487,He=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function Qe(vr){var Tr=vr.split(","),wr,Er=Tr.length,Pr=[];for(wr=0;wr<Er;wr+=1)Tr[wr]!=="sans-serif"&&Tr[wr]!=="monospace"&&Pr.push(Tr[wr]);return Pr.join(",")}function We(vr,Tr){var wr=createTag("span");wr.setAttribute("aria-hidden",!0),wr.style.fontFamily=Tr;var Er=createTag("span");Er.innerText="giItT1WQy@!-/#",wr.style.position="absolute",wr.style.left="-10000px",wr.style.top="-10000px",wr.style.fontSize="300px",wr.style.fontVariant="normal",wr.style.fontStyle="normal",wr.style.fontWeight="normal",wr.style.letterSpacing="0",wr.appendChild(Er),document.body.appendChild(wr);var Pr=Er.offsetWidth;return Er.style.fontFamily=Qe(vr)+", "+Tr,{node:Er,w:Pr,parent:wr}}function qe(){var vr,Tr=this.fonts.length,wr,Er,Pr=Tr;for(vr=0;vr<Tr;vr+=1)this.fonts[vr].loaded?Pr-=1:this.fonts[vr].fOrigin==="n"||this.fonts[vr].origin===0?this.fonts[vr].loaded=!0:(wr=this.fonts[vr].monoCase.node,Er=this.fonts[vr].monoCase.w,wr.offsetWidth!==Er?(Pr-=1,this.fonts[vr].loaded=!0):(wr=this.fonts[vr].sansCase.node,Er=this.fonts[vr].sansCase.w,wr.offsetWidth!==Er&&(Pr-=1,this.fonts[vr].loaded=!0)),this.fonts[vr].loaded&&(this.fonts[vr].sansCase.parent.parentNode.removeChild(this.fonts[vr].sansCase.parent),this.fonts[vr].monoCase.parent.parentNode.removeChild(this.fonts[vr].monoCase.parent)));Pr!==0&&Date.now()-this.initTime<Re?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Ke(vr,Tr){var wr=document.body&&Tr?"svg":"canvas",Er,Pr=getFontProperties(vr);if(wr==="svg"){var Mr=createNS("text");Mr.style.fontSize="100px",Mr.setAttribute("font-family",vr.fFamily),Mr.setAttribute("font-style",Pr.style),Mr.setAttribute("font-weight",Pr.weight),Mr.textContent="1",vr.fClass?(Mr.style.fontFamily="inherit",Mr.setAttribute("class",vr.fClass)):Mr.style.fontFamily=vr.fFamily,Tr.appendChild(Mr),Er=Mr}else{var _r=new OffscreenCanvas(500,500).getContext("2d");_r.font=Pr.style+" "+Pr.weight+" 100px "+vr.fFamily,Er=_r}function Ir(Dr){return wr==="svg"?(Er.textContent=Dr,Er.getComputedTextLength()):Er.measureText(Dr).width}return{measureText:Ir}}function Xe(vr,Tr){if(!vr){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=vr.list;return}if(!document.body){this.isLoaded=!0,vr.list.forEach(function(Qr){Qr.helper=Ke(Qr),Qr.cache={}}),this.fonts=vr.list;return}var wr=vr.list,Er,Pr=wr.length,Mr=Pr;for(Er=0;Er<Pr;Er+=1){var _r=!0,Ir,Dr;if(wr[Er].loaded=!1,wr[Er].monoCase=We(wr[Er].fFamily,"monospace"),wr[Er].sansCase=We(wr[Er].fFamily,"sans-serif"),!wr[Er].fPath)wr[Er].loaded=!0,Mr-=1;else if(wr[Er].fOrigin==="p"||wr[Er].origin===3){if(Ir=document.querySelectorAll('style[f-forigin="p"][f-family="'+wr[Er].fFamily+'"], style[f-origin="3"][f-family="'+wr[Er].fFamily+'"]'),Ir.length>0&&(_r=!1),_r){var Or=createTag("style");Or.setAttribute("f-forigin",wr[Er].fOrigin),Or.setAttribute("f-origin",wr[Er].origin),Or.setAttribute("f-family",wr[Er].fFamily),Or.type="text/css",Or.innerText="@font-face {font-family: "+wr[Er].fFamily+"; font-style: normal; src: url('"+wr[Er].fPath+"');}",Tr.appendChild(Or)}}else if(wr[Er].fOrigin==="g"||wr[Er].origin===1){for(Ir=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),Dr=0;Dr<Ir.length;Dr+=1)Ir[Dr].href.indexOf(wr[Er].fPath)!==-1&&(_r=!1);if(_r){var br=createTag("link");br.setAttribute("f-forigin",wr[Er].fOrigin),br.setAttribute("f-origin",wr[Er].origin),br.type="text/css",br.rel="stylesheet",br.href=wr[Er].fPath,document.body.appendChild(br)}}else if(wr[Er].fOrigin==="t"||wr[Er].origin===2){for(Ir=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),Dr=0;Dr<Ir.length;Dr+=1)wr[Er].fPath===Ir[Dr].src&&(_r=!1);if(_r){var Ur=createTag("link");Ur.setAttribute("f-forigin",wr[Er].fOrigin),Ur.setAttribute("f-origin",wr[Er].origin),Ur.setAttribute("rel","stylesheet"),Ur.setAttribute("href",wr[Er].fPath),Tr.appendChild(Ur)}}wr[Er].helper=Ke(wr[Er],Tr),wr[Er].cache={},this.fonts.push(wr[Er])}Mr===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Ye(vr){if(vr){this.chars||(this.chars=[]);var Tr,wr=vr.length,Er,Pr=this.chars.length,Mr;for(Tr=0;Tr<wr;Tr+=1){for(Er=0,Mr=!1;Er<Pr;)this.chars[Er].style===vr[Tr].style&&this.chars[Er].fFamily===vr[Tr].fFamily&&this.chars[Er].ch===vr[Tr].ch&&(Mr=!0),Er+=1;Mr||(this.chars.push(vr[Tr]),Pr+=1)}}}function Ze(vr,Tr,wr){for(var Er=0,Pr=this.chars.length;Er<Pr;){if(this.chars[Er].ch===vr&&this.chars[Er].style===Tr&&this.chars[Er].fFamily===wr)return this.chars[Er];Er+=1}return(typeof vr=="string"&&vr.charCodeAt(0)!==13||!vr)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",vr,Tr,wr)),Ce}function Je(vr,Tr,wr){var Er=this.getFontByName(Tr),Pr=vr;if(!Er.cache[Pr]){var Mr=Er.helper;if(vr===" "){var _r=Mr.measureText("|"+vr+"|"),Ir=Mr.measureText("||");Er.cache[Pr]=(_r-Ir)/100}else Er.cache[Pr]=Mr.measureText(vr)/100}return Er.cache[Pr]*wr}function tr(vr){for(var Tr=0,wr=this.fonts.length;Tr<wr;){if(this.fonts[Tr].fName===vr)return this.fonts[Tr];Tr+=1}return this.fonts[0]}function rr(vr){var Tr=0,wr=vr.charCodeAt(0);if(wr>=55296&&wr<=56319){var Er=vr.charCodeAt(1);Er>=56320&&Er<=57343&&(Tr=(wr-55296)*1024+Er-56320+65536)}return Tr}function ar(vr,Tr){var wr=vr.toString(16)+Tr.toString(16);return He.indexOf(wr)!==-1}function ir(vr){return vr===Me}function nr(vr){return vr===Oe}function cr(vr){var Tr=rr(vr);return Tr>=Ue&&Tr<=$e}function mr(vr){return cr(vr.substr(0,2))&&cr(vr.substr(2,2))}function fr(vr){return je.indexOf(vr)!==-1}function or(vr,Tr){var wr=rr(vr.substr(Tr,2));if(wr!==Be)return!1;var Er=0;for(Tr+=2;Er<5;){if(wr=rr(vr.substr(Tr,2)),wr<Fe||wr>ke)return!1;Er+=1,Tr+=2}return rr(vr.substr(Tr,2))===De}function yr(){this.isLoaded=!0}var Cr=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Cr.isModifier=ar,Cr.isZeroWidthJoiner=ir,Cr.isFlagEmoji=mr,Cr.isRegionalCode=cr,Cr.isCombinedCharacter=fr,Cr.isRegionalFlag=or,Cr.isVariationSelector=nr,Cr.BLACK_FLAG_CODE_POINT=Be;var jr={addChars:Ye,addFonts:Xe,getCharData:Ze,getFontByName:tr,measureText:Je,checkLoadedFonts:qe,setIsLoaded:yr};return Cr.prototype=jr,Cr})();function SlotManager(Re){this.animationData=Re}SlotManager.prototype.getProp=function(Re){return this.animationData.slots&&this.animationData.slots[Re.sid]?Object.assign(Re,this.animationData.slots[Re.sid].p):Re};function slotFactory(Re){return new SlotManager(Re)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(Ce){this.renderableComponents.indexOf(Ce)===-1&&this.renderableComponents.push(Ce)},removeRenderableComponent:function(Ce){this.renderableComponents.indexOf(Ce)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(Ce),1)},prepareRenderableFrame:function(Ce){this.checkLayerLimits(Ce)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(Ce){this.data.ip-this.data.st<=Ce&&this.data.op-this.data.st>Ce?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var Ce,je=this.renderableComponents.length;for(Ce=0;Ce<je;Ce+=1)this.renderableComponents[Ce].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=(function(){var Re={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(Ce){return Re[Ce]||""}})();function SliderEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,0,0,je)}function AngleEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,0,0,je)}function ColorEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,1,0,je)}function PointEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,1,0,je)}function LayerIndexEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,0,0,je)}function MaskIndexEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,0,0,je)}function CheckboxEffect(Re,Ce,je){this.p=PropertyFactory.getProp(Ce,Re.v,0,0,je)}function NoValueEffect(){this.p={}}function EffectsManager(Re,Ce){var je=Re.ef||[];this.effectElements=[];var Be,De=je.length,Fe;for(Be=0;Be<De;Be+=1)Fe=new GroupEffect(je[Be],Ce),this.effectElements.push(Fe)}function GroupEffect(Re,Ce){this.init(Re,Ce)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Re,Ce){this.data=Re,this.effectElements=[],this.initDynamicPropertyContainer(Ce);var je,Be=this.data.ef.length,De,Fe=this.data.ef;for(je=0;je<Be;je+=1){switch(De=null,Fe[je].ty){case 0:De=new SliderEffect(Fe[je],Ce,this);break;case 1:De=new AngleEffect(Fe[je],Ce,this);break;case 2:De=new ColorEffect(Fe[je],Ce,this);break;case 3:De=new PointEffect(Fe[je],Ce,this);break;case 4:case 7:De=new CheckboxEffect(Fe[je],Ce,this);break;case 10:De=new LayerIndexEffect(Fe[je],Ce,this);break;case 11:De=new MaskIndexEffect(Fe[je],Ce,this);break;case 5:De=new EffectsManager(Fe[je],Ce);break;default:De=new NoValueEffect(Fe[je]);break}De&&this.effectElements.push(De)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var Ce=0,je=this.data.masksProperties.length;Ce<je;){if(this.data.masksProperties[Ce].mode!=="n"&&this.data.masksProperties[Ce].cl!==!1)return!0;Ce+=1}return!1},initExpressions:function(){var Ce=getExpressionInterfaces();if(Ce){var je=Ce("layer"),Be=Ce("effects"),De=Ce("shape"),Fe=Ce("text"),ke=Ce("comp");this.layerInterface=je(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Oe=Be.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Oe),this.data.ty===0||this.data.xt?this.compInterface=ke(this):this.data.ty===4?(this.layerInterface.shapeInterface=De(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=Fe(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var Ce=getBlendMode(this.data.bm),je=this.baseElement||this.layerElement;je.style["mix-blend-mode"]=Ce},initBaseData:function(Ce,je,Be){this.globalData=je,this.comp=Be,this.data=Ce,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(Ce,je){var Be,De=this.dynamicProperties.length;for(Be=0;Be<De;Be+=1)(je||this._isParent&&this.dynamicProperties[Be].propType==="transform")&&(this.dynamicProperties[Be].getValue(),this.dynamicProperties[Be]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(Ce){this.dynamicProperties.indexOf(Ce)===-1&&this.dynamicProperties.push(Ce)}};function FootageElement(Re,Ce,je){this.initFrame(),this.initRenderable(),this.assetData=Ce.getAssetData(Re.refId),this.footageData=Ce.imageLoader.getAsset(this.assetData),this.initBaseData(Re,Ce,je)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Re=getExpressionInterfaces();if(Re){var Ce=Re("footage");this.layerInterface=Ce(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Re,Ce,je){this.initFrame(),this.initRenderable(),this.assetData=Ce.getAssetData(Re.refId),this.initBaseData(Re,Ce,je),this._isPlaying=!1,this._canPlay=!1;var Be=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Be),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,Ce.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Re.au&&Re.au.lv?Re.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Re){if(this.prepareRenderableFrame(Re,!0),this.prepareProperties(Re,!0),this.tm._placeholder)this._currentTime=Re/this.data.sr;else{var Ce=this.tm.v;this._currentTime=Ce}this._volume=this.lv.v[0];var je=this._volume*this._volumeMultiplier;this._previousVolume!==je&&(this._previousVolume=je,this.audio.volume(je))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Re){this.audio.rate(Re)},AudioElement.prototype.volume=function(Re){this._volumeMultiplier=Re,this._previousVolume=Re*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Re){var Ce,je=this.layers.length,Be;for(this.completeLayers=!0,Ce=je-1;Ce>=0;Ce-=1)this.elements[Ce]||(Be=this.layers[Ce],Be.ip-Be.st<=Re-this.layers[Ce].st&&Be.op-Be.st>Re-this.layers[Ce].st&&this.buildItem(Ce)),this.completeLayers=this.elements[Ce]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Re){switch(Re.ty){case 2:return this.createImage(Re);case 0:return this.createComp(Re);case 1:return this.createSolid(Re);case 3:return this.createNull(Re);case 4:return this.createShape(Re);case 5:return this.createText(Re);case 6:return this.createAudio(Re);case 13:return this.createCamera(Re);case 15:return this.createFootage(Re);default:return this.createNull(Re)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Re){return new AudioElement(Re,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Re){return new FootageElement(Re,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Re,Ce=this.layers.length;for(Re=0;Re<Ce;Re+=1)this.buildItem(Re);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Re){this.completeLayers=!1;var Ce,je=Re.length,Be,De=this.layers.length;for(Ce=0;Ce<je;Ce+=1)for(Be=0;Be<De;){if(this.layers[Be].id===Re[Ce].id){this.layers[Be]=Re[Ce];break}Be+=1}},BaseRenderer.prototype.setProjectInterface=function(Re){this.globalData.projectInterface=Re},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Re,Ce,je){for(var Be=this.elements,De=this.layers,Fe=0,ke=De.length;Fe<ke;)De[Fe].ind==Ce&&(!Be[Fe]||Be[Fe]===!0?(this.buildItem(Fe),this.addPendingElement(Re)):(je.push(Be[Fe]),Be[Fe].setAsParent(),De[Fe].parent!==void 0?this.buildElementParenting(Re,De[Fe].parent,je):Re.setHierarchy(je))),Fe+=1},BaseRenderer.prototype.addPendingElement=function(Re){this.pendingElements.push(Re)},BaseRenderer.prototype.searchExtraCompositions=function(Re){var Ce,je=Re.length;for(Ce=0;Ce<je;Ce+=1)if(Re[Ce].xt){var Be=this.createComp(Re[Ce]);Be.initExpressions(),this.globalData.projectInterface.registerComposition(Be)}},BaseRenderer.prototype.getElementById=function(Re){var Ce,je=this.elements.length;for(Ce=0;Ce<je;Ce+=1)if(this.elements[Ce].data.ind===Re)return this.elements[Ce];return null},BaseRenderer.prototype.getElementByPath=function(Re){var Ce=Re.shift(),je;if(typeof Ce=="number")je=this.elements[Ce];else{var Be,De=this.elements.length;for(Be=0;Be<De;Be+=1)if(this.elements[Be].data.nm===Ce){je=this.elements[Be];break}}return Re.length===0?je:je.getElementByPath(Re)},BaseRenderer.prototype.setupGlobalData=function(Re,Ce){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Re),this.globalData.fontManager.addChars(Re.chars),this.globalData.fontManager.addFonts(Re.fonts,Ce),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Re.fr,this.globalData.nm=Re.nm,this.globalData.compSize={w:Re.w,h:Re.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var Ce=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:Ce,localMat:Ce,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var Ce,je=this.finalTransform.mat,Be=0,De=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Be<De;){if(this.hierarchy[Be].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Be+=1}if(this.finalTransform._matMdf)for(Ce=this.finalTransform.mProp.v.props,je.cloneFromProps(Ce),Be=0;Be<De;Be+=1)je.multiply(this.hierarchy[Be].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var Ce=0,je=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;Ce<je;)this.localTransforms[Ce]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[Ce]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),Ce+=1;if(this.finalTransform._localMatMdf){var Be=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Be),Ce=1;Ce<je;Ce+=1){var De=this.localTransforms[Ce].matrix;Be.multiply(De)}Be.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var Fe=this.finalTransform.localOpacity;for(Ce=0;Ce<je;Ce+=1)Fe*=this.localTransforms[Ce].opacity*.01;this.finalTransform.localOpacity=Fe}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var Ce=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(Ce.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var je=0,Be=Ce.length;for(je=0;je<Be;je+=1)this.localTransforms.push(Ce[je])}}},globalToLocal:function(Ce){var je=[];je.push(this.finalTransform);for(var Be=!0,De=this.comp;Be;)De.finalTransform?(De.data.hasMask&&je.splice(0,0,De.finalTransform),De=De.comp):Be=!1;var Fe,ke=je.length,Oe;for(Fe=0;Fe<ke;Fe+=1)Oe=je[Fe].mat.applyToPointArray(0,0,0),Ce=[Ce[0]-Oe[0],Ce[1]-Oe[1],0];return Ce},mHelper:new Matrix};function MaskElement(Re,Ce,je){this.data=Re,this.element=Ce,this.globalData=je,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Be=this.globalData.defs,De,Fe=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(Fe),this.solidPath="";var ke,Oe=this.masksProperties,Me=0,Ue=[],$e,He,Qe=createElementID(),We,qe,Ke,Xe,Ye="clipPath",Ze="clip-path";for(De=0;De<Fe;De+=1)if((Oe[De].mode!=="a"&&Oe[De].mode!=="n"||Oe[De].inv||Oe[De].o.k!==100||Oe[De].o.x)&&(Ye="mask",Ze="mask"),(Oe[De].mode==="s"||Oe[De].mode==="i")&&Me===0?(We=createNS("rect"),We.setAttribute("fill","#ffffff"),We.setAttribute("width",this.element.comp.data.w||0),We.setAttribute("height",this.element.comp.data.h||0),Ue.push(We)):We=null,ke=createNS("path"),Oe[De].mode==="n")this.viewData[De]={op:PropertyFactory.getProp(this.element,Oe[De].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Oe[De],3),elem:ke,lastPath:""},Be.appendChild(ke);else{Me+=1,ke.setAttribute("fill",Oe[De].mode==="s"?"#000000":"#ffffff"),ke.setAttribute("clip-rule","nonzero");var Je;if(Oe[De].x.k!==0?(Ye="mask",Ze="mask",Xe=PropertyFactory.getProp(this.element,Oe[De].x,0,null,this.element),Je=createElementID(),qe=createNS("filter"),qe.setAttribute("id",Je),Ke=createNS("feMorphology"),Ke.setAttribute("operator","erode"),Ke.setAttribute("in","SourceGraphic"),Ke.setAttribute("radius","0"),qe.appendChild(Ke),Be.appendChild(qe),ke.setAttribute("stroke",Oe[De].mode==="s"?"#000000":"#ffffff")):(Ke=null,Xe=null),this.storedData[De]={elem:ke,x:Xe,expan:Ke,lastPath:"",lastOperator:"",filterId:Je,lastRadius:0},Oe[De].mode==="i"){He=Ue.length;var tr=createNS("g");for($e=0;$e<He;$e+=1)tr.appendChild(Ue[$e]);var rr=createNS("mask");rr.setAttribute("mask-type","alpha"),rr.setAttribute("id",Qe+"_"+Me),rr.appendChild(ke),Be.appendChild(rr),tr.setAttribute("mask","url("+getLocationHref()+"#"+Qe+"_"+Me+")"),Ue.length=0,Ue.push(tr)}else Ue.push(ke);Oe[De].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[De]={elem:ke,lastPath:"",op:PropertyFactory.getProp(this.element,Oe[De].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Oe[De],3),invRect:We},this.viewData[De].prop.k||this.drawPath(Oe[De],this.viewData[De].prop.v,this.viewData[De])}for(this.maskElement=createNS(Ye),Fe=Ue.length,De=0;De<Fe;De+=1)this.maskElement.appendChild(Ue[De]);Me>0&&(this.maskElement.setAttribute("id",Qe),this.element.maskedElement.setAttribute(Ze,"url("+getLocationHref()+"#"+Qe+")"),Be.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Re){return this.viewData[Re].prop},MaskElement.prototype.renderFrame=function(Re){var Ce=this.element.finalTransform.mat,je,Be=this.masksProperties.length;for(je=0;je<Be;je+=1)if((this.viewData[je].prop._mdf||Re)&&this.drawPath(this.masksProperties[je],this.viewData[je].prop.v,this.viewData[je]),(this.viewData[je].op._mdf||Re)&&this.viewData[je].elem.setAttribute("fill-opacity",this.viewData[je].op.v),this.masksProperties[je].mode!=="n"&&(this.viewData[je].invRect&&(this.element.finalTransform.mProp._mdf||Re)&&this.viewData[je].invRect.setAttribute("transform",Ce.getInverseMatrix().to2dCSS()),this.storedData[je].x&&(this.storedData[je].x._mdf||Re))){var De=this.storedData[je].expan;this.storedData[je].x.v<0?(this.storedData[je].lastOperator!=="erode"&&(this.storedData[je].lastOperator="erode",this.storedData[je].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[je].filterId+")")),De.setAttribute("radius",-this.storedData[je].x.v)):(this.storedData[je].lastOperator!=="dilate"&&(this.storedData[je].lastOperator="dilate",this.storedData[je].elem.setAttribute("filter",null)),this.storedData[je].elem.setAttribute("stroke-width",this.storedData[je].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Re="M0,0 ";return Re+=" h"+this.globalData.compSize.w,Re+=" v"+this.globalData.compSize.h,Re+=" h-"+this.globalData.compSize.w,Re+=" v-"+this.globalData.compSize.h+" ",Re},MaskElement.prototype.drawPath=function(Re,Ce,je){var Be=" M"+Ce.v[0][0]+","+Ce.v[0][1],De,Fe;for(Fe=Ce._length,De=1;De<Fe;De+=1)Be+=" C"+Ce.o[De-1][0]+","+Ce.o[De-1][1]+" "+Ce.i[De][0]+","+Ce.i[De][1]+" "+Ce.v[De][0]+","+Ce.v[De][1];if(Ce.c&&Fe>1&&(Be+=" C"+Ce.o[De-1][0]+","+Ce.o[De-1][1]+" "+Ce.i[0][0]+","+Ce.i[0][1]+" "+Ce.v[0][0]+","+Ce.v[0][1]),je.lastPath!==Be){var ke="";je.elem&&(Ce.c&&(ke=Re.inv?this.solidPath+Be:Be),je.elem.setAttribute("d",ke)),je.lastPath=Be}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=(function(){var Re={};Re.createFilter=Ce,Re.createAlphaToLuminanceFilter=je;function Ce(Be,De){var Fe=createNS("filter");return Fe.setAttribute("id",Be),De!==!0&&(Fe.setAttribute("filterUnits","objectBoundingBox"),Fe.setAttribute("x","0%"),Fe.setAttribute("y","0%"),Fe.setAttribute("width","100%"),Fe.setAttribute("height","100%")),Fe}function je(){var Be=createNS("feColorMatrix");return Be.setAttribute("type","matrix"),Be.setAttribute("color-interpolation-filters","sRGB"),Be.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Be}return Re})(),featureSupport=(function(){var Re={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Re.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Re.svgLumaHidden=!1),Re})(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Re){var Ce,je="SourceGraphic",Be=Re.data.ef?Re.data.ef.length:0,De=createElementID(),Fe=filtersFactory.createFilter(De,!0),ke=0;this.filters=[];var Oe;for(Ce=0;Ce<Be;Ce+=1){Oe=null;var Me=Re.data.ef[Ce].ty;if(registeredEffects$1[Me]){var Ue=registeredEffects$1[Me].effect;Oe=new Ue(Fe,Re.effectsManager.effectElements[Ce],Re,idPrefix+ke,je),je=idPrefix+ke,registeredEffects$1[Me].countsAsEffect&&(ke+=1)}Oe&&this.filters.push(Oe)}ke&&(Re.globalData.defs.appendChild(Fe),Re.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+De+")")),this.filters.length&&Re.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Re){var Ce,je=this.filters.length;for(Ce=0;Ce<je;Ce+=1)this.filters[Ce].renderFrame(Re)},SVGEffects.prototype.getEffects=function(Re){var Ce,je=this.filters.length,Be=[];for(Ce=0;Ce<je;Ce+=1)this.filters[Ce].type===Re&&Be.push(this.filters[Ce]);return Be};function registerEffect$1(Re,Ce,je){registeredEffects$1[Re]={effect:Ce,countsAsEffect:je}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var Ce=null;if(this.data.td){this.matteMasks={};var je=createNS("g");je.setAttribute("id",this.layerId),je.appendChild(this.layerElement),Ce=je,this.globalData.defs.appendChild(je)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),Ce=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Be=createNS("clipPath"),De=createNS("path");De.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var Fe=createElementID();if(Be.setAttribute("id",Fe),Be.appendChild(De),this.globalData.defs.appendChild(Be),this.checkMasks()){var ke=createNS("g");ke.setAttribute("clip-path","url("+getLocationHref()+"#"+Fe+")"),ke.appendChild(this.layerElement),this.transformedElement=ke,Ce?Ce.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Fe+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(Ce){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[Ce]){var je=this.layerId+"_"+Ce,Be,De,Fe,ke;if(Ce===1||Ce===3){var Oe=createNS("mask");Oe.setAttribute("id",je),Oe.setAttribute("mask-type",Ce===3?"luminance":"alpha"),Fe=createNS("use"),Fe.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Oe.appendChild(Fe),this.globalData.defs.appendChild(Oe),!featureSupport.maskType&&Ce===1&&(Oe.setAttribute("mask-type","luminance"),Be=createElementID(),De=filtersFactory.createFilter(Be),this.globalData.defs.appendChild(De),De.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ke=createNS("g"),ke.appendChild(Fe),Oe.appendChild(ke),ke.setAttribute("filter","url("+getLocationHref()+"#"+Be+")"))}else if(Ce===2){var Me=createNS("mask");Me.setAttribute("id",je),Me.setAttribute("mask-type","alpha");var Ue=createNS("g");Me.appendChild(Ue),Be=createElementID(),De=filtersFactory.createFilter(Be);var $e=createNS("feComponentTransfer");$e.setAttribute("in","SourceGraphic"),De.appendChild($e);var He=createNS("feFuncA");He.setAttribute("type","table"),He.setAttribute("tableValues","1.0 0.0"),$e.appendChild(He),this.globalData.defs.appendChild(De);var Qe=createNS("rect");Qe.setAttribute("width",this.comp.data.w),Qe.setAttribute("height",this.comp.data.h),Qe.setAttribute("x","0"),Qe.setAttribute("y","0"),Qe.setAttribute("fill","#ffffff"),Qe.setAttribute("opacity","0"),Ue.setAttribute("filter","url("+getLocationHref()+"#"+Be+")"),Ue.appendChild(Qe),Fe=createNS("use"),Fe.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Ue.appendChild(Fe),featureSupport.maskType||(Me.setAttribute("mask-type","luminance"),De.appendChild(filtersFactory.createAlphaToLuminanceFilter()),ke=createNS("g"),Ue.appendChild(Qe),ke.appendChild(this.layerElement),Ue.appendChild(ke)),this.globalData.defs.appendChild(Me)}this.matteMasks[Ce]=je}return this.matteMasks[Ce]},setMatte:function(Ce){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+Ce+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(Ce){this.hierarchy=Ce},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Re={initElement:function(je,Be,De){this.initFrame(),this.initBaseData(je,Be,De),this.initTransform(je,Be,De),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var je=this.baseElement||this.layerElement;je.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var je=this.baseElement||this.layerElement;je.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(je){this._mdf=!1,this.prepareRenderableFrame(je),this.prepareProperties(je,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Re)],RenderableDOMElement)})();function IImageElement(Re,Ce,je){this.assetData=Ce.getAssetData(Re.refId),this.assetData&&this.assetData.sid&&(this.assetData=Ce.slotManager.getProp(this.assetData)),this.initElement(Re,Ce,je),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Re=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Re),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Re,Ce){this.elem=Re,this.pos=Ce}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(Ce){var je,Be=this.shapeModifiers.length;for(je=0;je<Be;je+=1)this.shapeModifiers[je].addShape(Ce)},isShapeInAnimatedModifiers:function(Ce){for(var je=0,Be=this.shapeModifiers.length;je<Be;)if(this.shapeModifiers[je].isAnimatedWithShape(Ce))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var Ce,je=this.shapes.length;for(Ce=0;Ce<je;Ce+=1)this.shapes[Ce].sh.reset();je=this.shapeModifiers.length;var Be;for(Ce=je-1;Ce>=0&&(Be=this.shapeModifiers[Ce].processShapes(this._isFirstFrame),!Be);Ce-=1);}},searchProcessedElement:function(Ce){for(var je=this.processedElements,Be=0,De=je.length;Be<De;){if(je[Be].elem===Ce)return je[Be].pos;Be+=1}return 0},addProcessedElement:function(Ce,je){for(var Be=this.processedElements,De=Be.length;De;)if(De-=1,Be[De].elem===Ce){Be[De].pos=je;return}Be.push(new ProcessedElement(Ce,je))},prepareFrame:function(Ce){this.prepareRenderableFrame(Ce),this.prepareProperties(Ce,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Re,Ce,je){this.caches=[],this.styles=[],this.transformers=Re,this.lStr="",this.sh=je,this.lvl=Ce,this._isAnimated=!!je.k;for(var Be=0,De=Re.length;Be<De;){if(Re[Be].mProps.dynamicProperties.length){this._isAnimated=!0;break}Be+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Re,Ce){this.data=Re,this.type=Re.ty,this.d="",this.lvl=Ce,this._mdf=!1,this.closed=Re.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Re,Ce,je,Be){this.elem=Re,this.frameId=-1,this.dataProps=createSizedArray(Ce.length),this.renderer=je,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",Ce.length?Ce.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Be);var De,Fe=Ce.length||0,ke;for(De=0;De<Fe;De+=1)ke=PropertyFactory.getProp(Re,Ce[De].v,0,0,this),this.k=ke.k||this.k,this.dataProps[De]={n:Ce[De].n,p:ke};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Re){if(!(this.elem.globalData.frameId===this.frameId&&!Re)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Re,this._mdf)){var Ce=0,je=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),Ce=0;Ce<je;Ce+=1)this.dataProps[Ce].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[Ce].p.v:this.dashArray[Ce]=this.dataProps[Ce].p.v:this.dashoffset[0]=this.dataProps[Ce].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Re,Ce,je){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Re,Ce.o,0,.01,this),this.w=PropertyFactory.getProp(Re,Ce.w,0,null,this),this.d=new DashProperty(Re,Ce.d||{},"svg",this),this.c=PropertyFactory.getProp(Re,Ce.c,1,255,this),this.style=je,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Re,Ce,je){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Re,Ce.o,0,.01,this),this.c=PropertyFactory.getProp(Re,Ce.c,1,255,this),this.style=je}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Re,Ce,je){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.style=je}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Re,Ce,je){this.data=Ce,this.c=createTypedArray("uint8c",Ce.p*4);var Be=Ce.k.k[0].s?Ce.k.k[0].s.length-Ce.p*4:Ce.k.k.length-Ce.p*4;this.o=createTypedArray("float32",Be),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Be,this.initDynamicPropertyContainer(je),this.prop=PropertyFactory.getProp(Re,Ce.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Re,Ce){for(var je=0,Be=this.o.length/2,De;je<Be;){if(De=Math.abs(Re[je*4]-Re[Ce*4+je*2]),De>.01)return!1;je+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Re=0,Ce=this.data.k.k.length;Re<Ce;){if(!this.comparePoints(this.data.k.k[Re].s,this.data.p))return!1;Re+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Re){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Re){var Ce,je=this.data.p*4,Be,De;for(Ce=0;Ce<je;Ce+=1)Be=Ce%4===0?100:255,De=Math.round(this.prop.v[Ce]*Be),this.c[Ce]!==De&&(this.c[Ce]=De,this._cmdf=!Re);if(this.o.length)for(je=this.prop.v.length,Ce=this.data.p*4;Ce<je;Ce+=1)Be=Ce%2===0?100:1,De=Ce%2===0?Math.round(this.prop.v[Ce]*100):this.prop.v[Ce],this.o[Ce-this.data.p*4]!==De&&(this.o[Ce-this.data.p*4]=De,this._omdf=!Re);this._mdf=!Re}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Re,Ce,je){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.initGradientData(Re,Ce,je)}SVGGradientFillStyleData.prototype.initGradientData=function(Re,Ce,je){this.o=PropertyFactory.getProp(Re,Ce.o,0,.01,this),this.s=PropertyFactory.getProp(Re,Ce.s,1,null,this),this.e=PropertyFactory.getProp(Re,Ce.e,1,null,this),this.h=PropertyFactory.getProp(Re,Ce.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Re,Ce.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Re,Ce.g,this),this.style=je,this.stops=[],this.setGradientData(je.pElem,Ce),this.setGradientOpacity(Ce,je),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Re,Ce){var je=createElementID(),Be=createNS(Ce.t===1?"linearGradient":"radialGradient");Be.setAttribute("id",je),Be.setAttribute("spreadMethod","pad"),Be.setAttribute("gradientUnits","userSpaceOnUse");var De=[],Fe,ke,Oe;for(Oe=Ce.g.p*4,ke=0;ke<Oe;ke+=4)Fe=createNS("stop"),Be.appendChild(Fe),De.push(Fe);Re.setAttribute(Ce.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+je+")"),this.gf=Be,this.cst=De},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Re,Ce){if(this.g._hasOpacity&&!this.g._collapsable){var je,Be,De,Fe=createNS("mask"),ke=createNS("path");Fe.appendChild(ke);var Oe=createElementID(),Me=createElementID();Fe.setAttribute("id",Me);var Ue=createNS(Re.t===1?"linearGradient":"radialGradient");Ue.setAttribute("id",Oe),Ue.setAttribute("spreadMethod","pad"),Ue.setAttribute("gradientUnits","userSpaceOnUse"),De=Re.g.k.k[0].s?Re.g.k.k[0].s.length:Re.g.k.k.length;var $e=this.stops;for(Be=Re.g.p*4;Be<De;Be+=2)je=createNS("stop"),je.setAttribute("stop-color","rgb(255,255,255)"),Ue.appendChild(je),$e.push(je);ke.setAttribute(Re.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Oe+")"),Re.ty==="gs"&&(ke.setAttribute("stroke-linecap",lineCapEnum[Re.lc||2]),ke.setAttribute("stroke-linejoin",lineJoinEnum[Re.lj||2]),Re.lj===1&&ke.setAttribute("stroke-miterlimit",Re.ml)),this.of=Ue,this.ms=Fe,this.ost=$e,this.maskId=Me,Ce.msElem=ke}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Re,Ce,je){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Re,Ce.w,0,null,this),this.d=new DashProperty(Re,Ce.d||{},"svg",this),this.initGradientData(Re,Ce,je),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Re,Ce,je){this.transform={mProps:Re,op:Ce,container:je},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(Ce,je,Be,De){if(je===0)return"";var Fe=Ce.o,ke=Ce.i,Oe=Ce.v,Me,Ue=" M"+De.applyToPointStringified(Oe[0][0],Oe[0][1]);for(Me=1;Me<je;Me+=1)Ue+=" C"+De.applyToPointStringified(Fe[Me-1][0],Fe[Me-1][1])+" "+De.applyToPointStringified(ke[Me][0],ke[Me][1])+" "+De.applyToPointStringified(Oe[Me][0],Oe[Me][1]);return Be&&je&&(Ue+=" C"+De.applyToPointStringified(Fe[Me-1][0],Fe[Me-1][1])+" "+De.applyToPointStringified(ke[0][0],ke[0][1])+" "+De.applyToPointStringified(Oe[0][0],Oe[0][1]),Ue+="z"),Ue},SVGElementsRenderer=(function(){var Re=new Matrix,Ce=new Matrix,je={createRenderFunction:Be};function Be(He){switch(He.ty){case"fl":return Oe;case"gf":return Ue;case"gs":return Me;case"st":return $e;case"sh":case"el":case"rc":case"sr":return ke;case"tr":return De;case"no":return Fe;default:return null}}function De(He,Qe,We){(We||Qe.transform.op._mdf)&&Qe.transform.container.setAttribute("opacity",Qe.transform.op.v),(We||Qe.transform.mProps._mdf)&&Qe.transform.container.setAttribute("transform",Qe.transform.mProps.v.to2dCSS())}function Fe(){}function ke(He,Qe,We){var qe,Ke,Xe,Ye,Ze,Je,tr=Qe.styles.length,rr=Qe.lvl,ar,ir,nr,cr;for(Je=0;Je<tr;Je+=1){if(Ye=Qe.sh._mdf||We,Qe.styles[Je].lvl<rr){for(ir=Ce.reset(),nr=rr-Qe.styles[Je].lvl,cr=Qe.transformers.length-1;!Ye&&nr>0;)Ye=Qe.transformers[cr].mProps._mdf||Ye,nr-=1,cr-=1;if(Ye)for(nr=rr-Qe.styles[Je].lvl,cr=Qe.transformers.length-1;nr>0;)ir.multiply(Qe.transformers[cr].mProps.v),nr-=1,cr-=1}else ir=Re;if(ar=Qe.sh.paths,Ke=ar._length,Ye){for(Xe="",qe=0;qe<Ke;qe+=1)Ze=ar.shapes[qe],Ze&&Ze._length&&(Xe+=buildShapeString(Ze,Ze._length,Ze.c,ir));Qe.caches[Je]=Xe}else Xe=Qe.caches[Je];Qe.styles[Je].d+=He.hd===!0?"":Xe,Qe.styles[Je]._mdf=Ye||Qe.styles[Je]._mdf}}function Oe(He,Qe,We){var qe=Qe.style;(Qe.c._mdf||We)&&qe.pElem.setAttribute("fill","rgb("+bmFloor(Qe.c.v[0])+","+bmFloor(Qe.c.v[1])+","+bmFloor(Qe.c.v[2])+")"),(Qe.o._mdf||We)&&qe.pElem.setAttribute("fill-opacity",Qe.o.v)}function Me(He,Qe,We){Ue(He,Qe,We),$e(He,Qe,We)}function Ue(He,Qe,We){var qe=Qe.gf,Ke=Qe.g._hasOpacity,Xe=Qe.s.v,Ye=Qe.e.v;if(Qe.o._mdf||We){var Ze=He.ty==="gf"?"fill-opacity":"stroke-opacity";Qe.style.pElem.setAttribute(Ze,Qe.o.v)}if(Qe.s._mdf||We){var Je=He.t===1?"x1":"cx",tr=Je==="x1"?"y1":"cy";qe.setAttribute(Je,Xe[0]),qe.setAttribute(tr,Xe[1]),Ke&&!Qe.g._collapsable&&(Qe.of.setAttribute(Je,Xe[0]),Qe.of.setAttribute(tr,Xe[1]))}var rr,ar,ir,nr;if(Qe.g._cmdf||We){rr=Qe.cst;var cr=Qe.g.c;for(ir=rr.length,ar=0;ar<ir;ar+=1)nr=rr[ar],nr.setAttribute("offset",cr[ar*4]+"%"),nr.setAttribute("stop-color","rgb("+cr[ar*4+1]+","+cr[ar*4+2]+","+cr[ar*4+3]+")")}if(Ke&&(Qe.g._omdf||We)){var mr=Qe.g.o;for(Qe.g._collapsable?rr=Qe.cst:rr=Qe.ost,ir=rr.length,ar=0;ar<ir;ar+=1)nr=rr[ar],Qe.g._collapsable||nr.setAttribute("offset",mr[ar*2]+"%"),nr.setAttribute("stop-opacity",mr[ar*2+1])}if(He.t===1)(Qe.e._mdf||We)&&(qe.setAttribute("x2",Ye[0]),qe.setAttribute("y2",Ye[1]),Ke&&!Qe.g._collapsable&&(Qe.of.setAttribute("x2",Ye[0]),Qe.of.setAttribute("y2",Ye[1])));else{var fr;if((Qe.s._mdf||Qe.e._mdf||We)&&(fr=Math.sqrt(Math.pow(Xe[0]-Ye[0],2)+Math.pow(Xe[1]-Ye[1],2)),qe.setAttribute("r",fr),Ke&&!Qe.g._collapsable&&Qe.of.setAttribute("r",fr)),Qe.s._mdf||Qe.e._mdf||Qe.h._mdf||Qe.a._mdf||We){fr||(fr=Math.sqrt(Math.pow(Xe[0]-Ye[0],2)+Math.pow(Xe[1]-Ye[1],2)));var or=Math.atan2(Ye[1]-Xe[1],Ye[0]-Xe[0]),yr=Qe.h.v;yr>=1?yr=.99:yr<=-1&&(yr=-.99);var Cr=fr*yr,jr=Math.cos(or+Qe.a.v)*Cr+Xe[0],vr=Math.sin(or+Qe.a.v)*Cr+Xe[1];qe.setAttribute("fx",jr),qe.setAttribute("fy",vr),Ke&&!Qe.g._collapsable&&(Qe.of.setAttribute("fx",jr),Qe.of.setAttribute("fy",vr))}}}function $e(He,Qe,We){var qe=Qe.style,Ke=Qe.d;Ke&&(Ke._mdf||We)&&Ke.dashStr&&(qe.pElem.setAttribute("stroke-dasharray",Ke.dashStr),qe.pElem.setAttribute("stroke-dashoffset",Ke.dashoffset[0])),Qe.c&&(Qe.c._mdf||We)&&qe.pElem.setAttribute("stroke","rgb("+bmFloor(Qe.c.v[0])+","+bmFloor(Qe.c.v[1])+","+bmFloor(Qe.c.v[2])+")"),(Qe.o._mdf||We)&&qe.pElem.setAttribute("stroke-opacity",Qe.o.v),(Qe.w._mdf||We)&&(qe.pElem.setAttribute("stroke-width",Qe.w.v),qe.msElem&&qe.msElem.setAttribute("stroke-width",Qe.w.v))}return je})();function SVGShapeElement(Re,Ce,je){this.shapes=[],this.shapesData=Re.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Re,Ce,je),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Re,Ce=this.shapes.length,je,Be,De=this.stylesList.length,Fe,ke=[],Oe=!1;for(Be=0;Be<De;Be+=1){for(Fe=this.stylesList[Be],Oe=!1,ke.length=0,Re=0;Re<Ce;Re+=1)je=this.shapes[Re],je.styles.indexOf(Fe)!==-1&&(ke.push(je),Oe=je._isAnimated||Oe);ke.length>1&&Oe&&this.setShapesAsAnimated(ke)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Re){var Ce,je=Re.length;for(Ce=0;Ce<je;Ce+=1)Re[Ce].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Re,Ce){var je,Be=new SVGStyleData(Re,Ce),De=Be.pElem;if(Re.ty==="st")je=new SVGStrokeStyleData(this,Re,Be);else if(Re.ty==="fl")je=new SVGFillStyleData(this,Re,Be);else if(Re.ty==="gf"||Re.ty==="gs"){var Fe=Re.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;je=new Fe(this,Re,Be),this.globalData.defs.appendChild(je.gf),je.maskId&&(this.globalData.defs.appendChild(je.ms),this.globalData.defs.appendChild(je.of),De.setAttribute("mask","url("+getLocationHref()+"#"+je.maskId+")"))}else Re.ty==="no"&&(je=new SVGNoStyleData(this,Re,Be));return(Re.ty==="st"||Re.ty==="gs")&&(De.setAttribute("stroke-linecap",lineCapEnum[Re.lc||2]),De.setAttribute("stroke-linejoin",lineJoinEnum[Re.lj||2]),De.setAttribute("fill-opacity","0"),Re.lj===1&&De.setAttribute("stroke-miterlimit",Re.ml)),Re.r===2&&De.setAttribute("fill-rule","evenodd"),Re.ln&&De.setAttribute("id",Re.ln),Re.cl&&De.setAttribute("class",Re.cl),Re.bm&&(De.style["mix-blend-mode"]=getBlendMode(Re.bm)),this.stylesList.push(Be),this.addToAnimatedContents(Re,je),je},SVGShapeElement.prototype.createGroupElement=function(Re){var Ce=new ShapeGroupData;return Re.ln&&Ce.gr.setAttribute("id",Re.ln),Re.cl&&Ce.gr.setAttribute("class",Re.cl),Re.bm&&(Ce.gr.style["mix-blend-mode"]=getBlendMode(Re.bm)),Ce},SVGShapeElement.prototype.createTransformElement=function(Re,Ce){var je=TransformPropertyFactory.getTransformProperty(this,Re,this),Be=new SVGTransformData(je,je.o,Ce);return this.addToAnimatedContents(Re,Be),Be},SVGShapeElement.prototype.createShapeElement=function(Re,Ce,je){var Be=4;Re.ty==="rc"?Be=5:Re.ty==="el"?Be=6:Re.ty==="sr"&&(Be=7);var De=ShapePropertyFactory.getShapeProp(this,Re,Be,this),Fe=new SVGShapeData(Ce,je,De);return this.shapes.push(Fe),this.addShapeToModifiers(Fe),this.addToAnimatedContents(Re,Fe),Fe},SVGShapeElement.prototype.addToAnimatedContents=function(Re,Ce){for(var je=0,Be=this.animatedContents.length;je<Be;){if(this.animatedContents[je].element===Ce)return;je+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Re),element:Ce,data:Re})},SVGShapeElement.prototype.setElementStyles=function(Re){var Ce=Re.styles,je,Be=this.stylesList.length;for(je=0;je<Be;je+=1)Ce.indexOf(this.stylesList[je])===-1&&!this.stylesList[je].closed&&Ce.push(this.stylesList[je])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Re,Ce=this.itemsData.length;for(Re=0;Re<Ce;Re+=1)this.prevViewData[Re]=this.itemsData[Re];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),Ce=this.dynamicProperties.length,Re=0;Re<Ce;Re+=1)this.dynamicProperties[Re].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Re,Ce,je,Be,De,Fe,ke){var Oe=[].concat(Fe),Me,Ue=Re.length-1,$e,He,Qe=[],We=[],qe,Ke,Xe;for(Me=Ue;Me>=0;Me-=1){if(Xe=this.searchProcessedElement(Re[Me]),Xe?Ce[Me]=je[Xe-1]:Re[Me]._render=ke,Re[Me].ty==="fl"||Re[Me].ty==="st"||Re[Me].ty==="gf"||Re[Me].ty==="gs"||Re[Me].ty==="no")Xe?Ce[Me].style.closed=Re[Me].hd:Ce[Me]=this.createStyleElement(Re[Me],De),Re[Me]._render&&Ce[Me].style.pElem.parentNode!==Be&&Be.appendChild(Ce[Me].style.pElem),Qe.push(Ce[Me].style);else if(Re[Me].ty==="gr"){if(!Xe)Ce[Me]=this.createGroupElement(Re[Me]);else for(He=Ce[Me].it.length,$e=0;$e<He;$e+=1)Ce[Me].prevViewData[$e]=Ce[Me].it[$e];this.searchShapes(Re[Me].it,Ce[Me].it,Ce[Me].prevViewData,Ce[Me].gr,De+1,Oe,ke),Re[Me]._render&&Ce[Me].gr.parentNode!==Be&&Be.appendChild(Ce[Me].gr)}else Re[Me].ty==="tr"?(Xe||(Ce[Me]=this.createTransformElement(Re[Me],Be)),qe=Ce[Me].transform,Oe.push(qe)):Re[Me].ty==="sh"||Re[Me].ty==="rc"||Re[Me].ty==="el"||Re[Me].ty==="sr"?(Xe||(Ce[Me]=this.createShapeElement(Re[Me],Oe,De)),this.setElementStyles(Ce[Me])):Re[Me].ty==="tm"||Re[Me].ty==="rd"||Re[Me].ty==="ms"||Re[Me].ty==="pb"||Re[Me].ty==="zz"||Re[Me].ty==="op"?(Xe?(Ke=Ce[Me],Ke.closed=!1):(Ke=ShapeModifiers.getModifier(Re[Me].ty),Ke.init(this,Re[Me]),Ce[Me]=Ke,this.shapeModifiers.push(Ke)),We.push(Ke)):Re[Me].ty==="rp"&&(Xe?(Ke=Ce[Me],Ke.closed=!0):(Ke=ShapeModifiers.getModifier(Re[Me].ty),Ce[Me]=Ke,Ke.init(this,Re,Me,Ce),this.shapeModifiers.push(Ke),ke=!1),We.push(Ke));this.addProcessedElement(Re[Me],Me+1)}for(Ue=Qe.length,Me=0;Me<Ue;Me+=1)Qe[Me].closed=!0;for(Ue=We.length,Me=0;Me<Ue;Me+=1)We[Me].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Re,Ce=this.stylesList.length;for(Re=0;Re<Ce;Re+=1)this.stylesList[Re].reset();for(this.renderShape(),Re=0;Re<Ce;Re+=1)(this.stylesList[Re]._mdf||this._isFirstFrame)&&(this.stylesList[Re].msElem&&(this.stylesList[Re].msElem.setAttribute("d",this.stylesList[Re].d),this.stylesList[Re].d="M0 0"+this.stylesList[Re].d),this.stylesList[Re].pElem.setAttribute("d",this.stylesList[Re].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Re,Ce=this.animatedContents.length,je;for(Re=0;Re<Ce;Re+=1)je=this.animatedContents[Re],(this._isFirstFrame||je.element._isAnimated)&&je.data!==!0&&je.fn(je.data,je.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Re,Ce,je,Be,De,Fe){this.o=Re,this.sw=Ce,this.sc=je,this.fc=Be,this.m=De,this.p=Fe,this._mdf={o:!0,sw:!!Ce,sc:!!je,fc:!!Be,m:!0,p:!0}}LetterProps.prototype.update=function(Re,Ce,je,Be,De,Fe){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var ke=!1;return this.o!==Re&&(this.o=Re,this._mdf.o=!0,ke=!0),this.sw!==Ce&&(this.sw=Ce,this._mdf.sw=!0,ke=!0),this.sc!==je&&(this.sc=je,this._mdf.sc=!0,ke=!0),this.fc!==Be&&(this.fc=Be,this._mdf.fc=!0,ke=!0),this.m!==De&&(this.m=De,this._mdf.m=!0,ke=!0),Fe.length&&(this.p[0]!==Fe[0]||this.p[1]!==Fe[1]||this.p[4]!==Fe[4]||this.p[5]!==Fe[5]||this.p[12]!==Fe[12]||this.p[13]!==Fe[13])&&(this.p=Fe,this._mdf.p=!0,ke=!0),ke};function TextProperty(Re,Ce){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,Ce.d&&Ce.d.sid&&(Ce.d=Re.globalData.slotManager.getProp(Ce.d)),this.data=Ce,this.elem=Re,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Re,Ce){for(var je in Ce)Object.prototype.hasOwnProperty.call(Ce,je)&&(Re[je]=Ce[je]);return Re},TextProperty.prototype.setCurrentData=function(Re){Re.__complete||this.completeTextData(Re),this.currentData=Re,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Re){this.effectsSequence.push(Re),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Re){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Re)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var Ce=this.currentData,je=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Be,De=this.effectsSequence.length,Fe=Re||this.data.d.k[this.keysIndex].s;for(Be=0;Be<De;Be+=1)je!==this.keysIndex?Fe=this.effectsSequence[Be](Fe,Fe.t):Fe=this.effectsSequence[Be](this.currentData,Fe.t);Ce!==Fe&&this.setCurrentData(Fe),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Re=this.data.d.k,Ce=this.elem.comp.renderedFrame,je=0,Be=Re.length;je<=Be-1&&!(je===Be-1||Re[je+1].t>Ce);)je+=1;return this.keysIndex!==je&&(this.keysIndex=je),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Re){for(var Ce=[],je=0,Be=Re.length,De,Fe,ke=!1,Oe=!1,Me="";je<Be;)ke=Oe,Oe=!1,De=Re.charCodeAt(je),Me=Re.charAt(je),FontManager.isCombinedCharacter(De)?ke=!0:De>=55296&&De<=56319?FontManager.isRegionalFlag(Re,je)?Me=Re.substr(je,14):(Fe=Re.charCodeAt(je+1),Fe>=56320&&Fe<=57343&&(FontManager.isModifier(De,Fe)?(Me=Re.substr(je,2),ke=!0):FontManager.isFlagEmoji(Re.substr(je,4))?Me=Re.substr(je,4):Me=Re.substr(je,2))):De>56319?(Fe=Re.charCodeAt(je+1),FontManager.isVariationSelector(De)&&(ke=!0)):FontManager.isZeroWidthJoiner(De)&&(ke=!0,Oe=!0),ke?(Ce[Ce.length-1]+=Me,ke=!1):Ce.push(Me),je+=Me.length;return Ce},TextProperty.prototype.completeTextData=function(Re){Re.__complete=!0;var Ce=this.elem.globalData.fontManager,je=this.data,Be=[],De,Fe,ke,Oe=0,Me,Ue=je.m.g,$e=0,He=0,Qe=0,We=[],qe=0,Ke=0,Xe,Ye,Ze=Ce.getFontByName(Re.f),Je,tr=0,rr=getFontProperties(Ze);Re.fWeight=rr.weight,Re.fStyle=rr.style,Re.finalSize=Re.s,Re.finalText=this.buildFinalText(Re.t),Fe=Re.finalText.length,Re.finalLineHeight=Re.lh;var ar=Re.tr/1e3*Re.finalSize,ir;if(Re.sz)for(var nr=!0,cr=Re.sz[0],mr=Re.sz[1],fr,or;nr;){or=this.buildFinalText(Re.t),fr=0,qe=0,Fe=or.length,ar=Re.tr/1e3*Re.finalSize;var yr=-1;for(De=0;De<Fe;De+=1)ir=or[De].charCodeAt(0),ke=!1,or[De]===" "?yr=De:(ir===13||ir===3)&&(qe=0,ke=!0,fr+=Re.finalLineHeight||Re.finalSize*1.2),Ce.chars?(Je=Ce.getCharData(or[De],Ze.fStyle,Ze.fFamily),tr=ke?0:Je.w*Re.finalSize/100):tr=Ce.measureText(or[De],Re.f,Re.finalSize),qe+tr>cr&&or[De]!==" "?(yr===-1?Fe+=1:De=yr,fr+=Re.finalLineHeight||Re.finalSize*1.2,or.splice(De,yr===De?1:0,"\r"),yr=-1,qe=0):(qe+=tr,qe+=ar);fr+=Ze.ascent*Re.finalSize/100,this.canResize&&Re.finalSize>this.minimumFontSize&&mr<fr?(Re.finalSize-=1,Re.finalLineHeight=Re.finalSize*Re.lh/Re.s):(Re.finalText=or,Fe=Re.finalText.length,nr=!1)}qe=-ar,tr=0;var Cr=0,jr;for(De=0;De<Fe;De+=1)if(ke=!1,jr=Re.finalText[De],ir=jr.charCodeAt(0),ir===13||ir===3?(Cr=0,We.push(qe),Ke=qe>Ke?qe:Ke,qe=-2*ar,Me="",ke=!0,Qe+=1):Me=jr,Ce.chars?(Je=Ce.getCharData(jr,Ze.fStyle,Ce.getFontByName(Re.f).fFamily),tr=ke?0:Je.w*Re.finalSize/100):tr=Ce.measureText(Me,Re.f,Re.finalSize),jr===" "?Cr+=tr+ar:(qe+=tr+ar+Cr,Cr=0),Be.push({l:tr,an:tr,add:$e,n:ke,anIndexes:[],val:Me,line:Qe,animatorJustifyOffset:0}),Ue==2){if($e+=tr,Me===""||Me===" "||De===Fe-1){for((Me===""||Me===" ")&&($e-=tr);He<=De;)Be[He].an=$e,Be[He].ind=Oe,Be[He].extra=tr,He+=1;Oe+=1,$e=0}}else if(Ue==3){if($e+=tr,Me===""||De===Fe-1){for(Me===""&&($e-=tr);He<=De;)Be[He].an=$e,Be[He].ind=Oe,Be[He].extra=tr,He+=1;$e=0,Oe+=1}}else Be[Oe].ind=Oe,Be[Oe].extra=0,Oe+=1;if(Re.l=Be,Ke=qe>Ke?qe:Ke,We.push(qe),Re.sz)Re.boxWidth=Re.sz[0],Re.justifyOffset=0;else switch(Re.boxWidth=Ke,Re.j){case 1:Re.justifyOffset=-Re.boxWidth;break;case 2:Re.justifyOffset=-Re.boxWidth/2;break;default:Re.justifyOffset=0}Re.lineWidths=We;var vr=je.a,Tr,wr;Ye=vr.length;var Er,Pr,Mr=[];for(Xe=0;Xe<Ye;Xe+=1){for(Tr=vr[Xe],Tr.a.sc&&(Re.strokeColorAnim=!0),Tr.a.sw&&(Re.strokeWidthAnim=!0),(Tr.a.fc||Tr.a.fh||Tr.a.fs||Tr.a.fb)&&(Re.fillColorAnim=!0),Pr=0,Er=Tr.s.b,De=0;De<Fe;De+=1)wr=Be[De],wr.anIndexes[Xe]=Pr,(Er==1&&wr.val!==""||Er==2&&wr.val!==""&&wr.val!==" "||Er==3&&(wr.n||wr.val==" "||De==Fe-1)||Er==4&&(wr.n||De==Fe-1))&&(Tr.s.rn===1&&Mr.push(Pr),Pr+=1);je.a[Xe].s.totalChars=Pr;var _r=-1,Ir;if(Tr.s.rn===1)for(De=0;De<Fe;De+=1)wr=Be[De],_r!=wr.anIndexes[Xe]&&(_r=wr.anIndexes[Xe],Ir=Mr.splice(Math.floor(Math.random()*Mr.length),1)[0]),wr.anIndexes[Xe]=Ir}Re.yOffset=Re.finalLineHeight||Re.finalSize*1.2,Re.ls=Re.ls||0,Re.ascent=Ze.ascent*Re.finalSize/100},TextProperty.prototype.updateDocumentData=function(Re,Ce){Ce=Ce===void 0?this.keysIndex:Ce;var je=this.copyData({},this.data.d.k[Ce].s);je=this.copyData(je,Re),this.data.d.k[Ce].s=je,this.recalculate(Ce),this.setCurrentData(je),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Re){var Ce=this.data.d.k[Re].s;Ce.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(Ce)},TextProperty.prototype.canResizeFont=function(Re){this.canResize=Re,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Re){this.minimumFontSize=Math.floor(Re)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=(function(){var Re=Math.max,Ce=Math.min,je=Math.floor;function Be(Fe,ke){this._currentTextLength=-1,this.k=!1,this.data=ke,this.elem=Fe,this.comp=Fe.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(Fe),this.s=PropertyFactory.getProp(Fe,ke.s||{k:0},0,0,this),"e"in ke?this.e=PropertyFactory.getProp(Fe,ke.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(Fe,ke.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(Fe,ke.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(Fe,ke.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(Fe,ke.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(Fe,ke.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Be.prototype={getMult:function(ke){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Oe=0,Me=0,Ue=1,$e=1;this.ne.v>0?Oe=this.ne.v/100:Me=-this.ne.v/100,this.xe.v>0?Ue=1-this.xe.v/100:$e=1+this.xe.v/100;var He=BezierFactory.getBezierEasing(Oe,Me,Ue,$e).get,Qe=0,We=this.finalS,qe=this.finalE,Ke=this.data.sh;if(Ke===2)qe===We?Qe=ke>=qe?1:0:Qe=Re(0,Ce(.5/(qe-We)+(ke-We)/(qe-We),1)),Qe=He(Qe);else if(Ke===3)qe===We?Qe=ke>=qe?0:1:Qe=1-Re(0,Ce(.5/(qe-We)+(ke-We)/(qe-We),1)),Qe=He(Qe);else if(Ke===4)qe===We?Qe=0:(Qe=Re(0,Ce(.5/(qe-We)+(ke-We)/(qe-We),1)),Qe<.5?Qe*=2:Qe=1-2*(Qe-.5)),Qe=He(Qe);else if(Ke===5){if(qe===We)Qe=0;else{var Xe=qe-We;ke=Ce(Re(0,ke+.5-We),qe-We);var Ye=-Xe/2+ke,Ze=Xe/2;Qe=Math.sqrt(1-Ye*Ye/(Ze*Ze))}Qe=He(Qe)}else Ke===6?(qe===We?Qe=0:(ke=Ce(Re(0,ke+.5-We),qe-We),Qe=(1+Math.cos(Math.PI+Math.PI*2*ke/(qe-We)))/2),Qe=He(Qe)):(ke>=je(We)&&(ke-We<0?Qe=Re(0,Ce(Ce(qe,1)-(We-ke),1)):Qe=Re(0,Ce(qe-ke,1))),Qe=He(Qe));if(this.sm.v!==100){var Je=this.sm.v*.01;Je===0&&(Je=1e-8);var tr=.5-Je*.5;Qe<tr?Qe=0:(Qe=(Qe-tr)/Je,Qe>1&&(Qe=1))}return Qe*this.a.v},getValue:function(ke){this.iterateDynamicProperties(),this._mdf=ke||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,ke&&this.data.r===2&&(this.e.v=this._currentTextLength);var Oe=this.data.r===2?1:100/this.data.totalChars,Me=this.o.v/Oe,Ue=this.s.v/Oe+Me,$e=this.e.v/Oe+Me;if(Ue>$e){var He=Ue;Ue=$e,$e=He}this.finalS=Ue,this.finalE=$e}},extendPrototype([DynamicPropertyContainer],Be);function De(Fe,ke,Oe){return new Be(Fe,ke)}return{getTextSelectorProp:De}})();function TextAnimatorDataProperty(Re,Ce,je){var Be={propType:!1},De=PropertyFactory.getProp,Fe=Ce.a;this.a={r:Fe.r?De(Re,Fe.r,0,degToRads,je):Be,rx:Fe.rx?De(Re,Fe.rx,0,degToRads,je):Be,ry:Fe.ry?De(Re,Fe.ry,0,degToRads,je):Be,sk:Fe.sk?De(Re,Fe.sk,0,degToRads,je):Be,sa:Fe.sa?De(Re,Fe.sa,0,degToRads,je):Be,s:Fe.s?De(Re,Fe.s,1,.01,je):Be,a:Fe.a?De(Re,Fe.a,1,0,je):Be,o:Fe.o?De(Re,Fe.o,0,.01,je):Be,p:Fe.p?De(Re,Fe.p,1,0,je):Be,sw:Fe.sw?De(Re,Fe.sw,0,0,je):Be,sc:Fe.sc?De(Re,Fe.sc,1,0,je):Be,fc:Fe.fc?De(Re,Fe.fc,1,0,je):Be,fh:Fe.fh?De(Re,Fe.fh,0,0,je):Be,fs:Fe.fs?De(Re,Fe.fs,0,.01,je):Be,fb:Fe.fb?De(Re,Fe.fb,0,.01,je):Be,t:Fe.t?De(Re,Fe.t,0,0,je):Be},this.s=TextSelectorProp.getTextSelectorProp(Re,Ce.s,je),this.s.t=Ce.s.t}function TextAnimatorProperty(Re,Ce,je){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Re,this._renderType=Ce,this._elem=je,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(je)}TextAnimatorProperty.prototype.searchProperties=function(){var Re,Ce=this._textData.a.length,je,Be=PropertyFactory.getProp;for(Re=0;Re<Ce;Re+=1)je=this._textData.a[Re],this._animatorsData[Re]=new TextAnimatorDataProperty(this._elem,je,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Be(this._elem,this._textData.p.a,0,0,this),f:Be(this._elem,this._textData.p.f,0,0,this),l:Be(this._elem,this._textData.p.l,0,0,this),r:Be(this._elem,this._textData.p.r,0,0,this),p:Be(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Be(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Re,Ce){if(this.lettersChangedFlag=Ce,!(!this._mdf&&!this._isFirstFrame&&!Ce&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var je=this._moreOptions.alignment.v,Be=this._animatorsData,De=this._textData,Fe=this.mHelper,ke=this._renderType,Oe=this.renderedLetters.length,Me,Ue,$e,He,Qe=Re.l,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr,ar,ir,nr,cr,mr,fr;if(this._hasMaskedPath){if(fr=this._pathData.m,!this._pathData.n||this._pathData._mdf){var or=fr.v;this._pathData.r.v&&(or=or.reverse()),We={tLength:0,segments:[]},He=or._length-1;var yr;for(nr=0,$e=0;$e<He;$e+=1)yr=bez.buildBezierData(or.v[$e],or.v[$e+1],[or.o[$e][0]-or.v[$e][0],or.o[$e][1]-or.v[$e][1]],[or.i[$e+1][0]-or.v[$e+1][0],or.i[$e+1][1]-or.v[$e+1][1]]),We.tLength+=yr.segmentLength,We.segments.push(yr),nr+=yr.segmentLength;$e=He,fr.v.c&&(yr=bez.buildBezierData(or.v[$e],or.v[0],[or.o[$e][0]-or.v[$e][0],or.o[$e][1]-or.v[$e][1]],[or.i[0][0]-or.v[0][0],or.i[0][1]-or.v[0][1]]),We.tLength+=yr.segmentLength,We.segments.push(yr),nr+=yr.segmentLength),this._pathData.pi=We}if(We=this._pathData.pi,qe=this._pathData.f.v,Je=0,Ze=1,Xe=0,Ye=!0,ar=We.segments,qe<0&&fr.v.c)for(We.tLength<Math.abs(qe)&&(qe=-Math.abs(qe)%We.tLength),Je=ar.length-1,rr=ar[Je].points,Ze=rr.length-1;qe<0;)qe+=rr[Ze].partialLength,Ze-=1,Ze<0&&(Je-=1,rr=ar[Je].points,Ze=rr.length-1);rr=ar[Je].points,tr=rr[Ze-1],Ke=rr[Ze],ir=Ke.partialLength}He=Qe.length,Me=0,Ue=0;var Cr=Re.finalSize*1.2*.714,jr=!0,vr,Tr,wr,Er,Pr;Er=Be.length;var Mr,_r=-1,Ir,Dr,Or,br=qe,Ur=Je,Qr=Ze,zr=-1,Gr,fn,nn,bn,hn,yn,Zr,Rn,ri="",Yn=this.defaultPropsArray,ti;if(Re.j===2||Re.j===1){var ei=0,Gn=0,Ei=Re.j===2?-.5:-1,Ci=0,Fi=!0;for($e=0;$e<He;$e+=1)if(Qe[$e].n){for(ei&&(ei+=Gn);Ci<$e;)Qe[Ci].animatorJustifyOffset=ei,Ci+=1;ei=0,Fi=!0}else{for(wr=0;wr<Er;wr+=1)vr=Be[wr].a,vr.t.propType&&(Fi&&Re.j===2&&(Gn+=vr.t.v*Ei),Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),Mr.length?ei+=vr.t.v*Mr[0]*Ei:ei+=vr.t.v*Mr*Ei);Fi=!1}for(ei&&(ei+=Gn);Ci<$e;)Qe[Ci].animatorJustifyOffset=ei,Ci+=1}for($e=0;$e<He;$e+=1){if(Fe.reset(),Gr=1,Qe[$e].n)Me=0,Ue+=Re.yOffset,Ue+=jr?1:0,qe=br,jr=!1,this._hasMaskedPath&&(Je=Ur,Ze=Qr,rr=ar[Je].points,tr=rr[Ze-1],Ke=rr[Ze],ir=Ke.partialLength,Xe=0),ri="",Rn="",yn="",ti="",Yn=this.defaultPropsArray;else{if(this._hasMaskedPath){if(zr!==Qe[$e].line){switch(Re.j){case 1:qe+=nr-Re.lineWidths[Qe[$e].line];break;case 2:qe+=(nr-Re.lineWidths[Qe[$e].line])/2;break}zr=Qe[$e].line}_r!==Qe[$e].ind&&(Qe[_r]&&(qe+=Qe[_r].extra),qe+=Qe[$e].an/2,_r=Qe[$e].ind),qe+=je[0]*Qe[$e].an*.005;var Si=0;for(wr=0;wr<Er;wr+=1)vr=Be[wr].a,vr.p.propType&&(Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),Mr.length?Si+=vr.p.v[0]*Mr[0]:Si+=vr.p.v[0]*Mr),vr.a.propType&&(Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),Mr.length?Si+=vr.a.v[0]*Mr[0]:Si+=vr.a.v[0]*Mr);for(Ye=!0,this._pathData.a.v&&(qe=Qe[0].an*.5+(nr-this._pathData.f.v-Qe[0].an*.5-Qe[Qe.length-1].an*.5)*_r/(He-1),qe+=this._pathData.f.v);Ye;)Xe+ir>=qe+Si||!rr?(cr=(qe+Si-Xe)/Ke.partialLength,Dr=tr.point[0]+(Ke.point[0]-tr.point[0])*cr,Or=tr.point[1]+(Ke.point[1]-tr.point[1])*cr,Fe.translate(-je[0]*Qe[$e].an*.005,-(je[1]*Cr)*.01),Ye=!1):rr&&(Xe+=Ke.partialLength,Ze+=1,Ze>=rr.length&&(Ze=0,Je+=1,ar[Je]?rr=ar[Je].points:fr.v.c?(Ze=0,Je=0,rr=ar[Je].points):(Xe-=Ke.partialLength,rr=null)),rr&&(tr=Ke,Ke=rr[Ze],ir=Ke.partialLength));Ir=Qe[$e].an/2-Qe[$e].add,Fe.translate(-Ir,0,0)}else Ir=Qe[$e].an/2-Qe[$e].add,Fe.translate(-Ir,0,0),Fe.translate(-je[0]*Qe[$e].an*.005,-je[1]*Cr*.01,0);for(wr=0;wr<Er;wr+=1)vr=Be[wr].a,vr.t.propType&&(Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),(Me!==0||Re.j!==0)&&(this._hasMaskedPath?Mr.length?qe+=vr.t.v*Mr[0]:qe+=vr.t.v*Mr:Mr.length?Me+=vr.t.v*Mr[0]:Me+=vr.t.v*Mr));for(Re.strokeWidthAnim&&(nn=Re.sw||0),Re.strokeColorAnim&&(Re.sc?fn=[Re.sc[0],Re.sc[1],Re.sc[2]]:fn=[0,0,0]),Re.fillColorAnim&&Re.fc&&(bn=[Re.fc[0],Re.fc[1],Re.fc[2]]),wr=0;wr<Er;wr+=1)vr=Be[wr].a,vr.a.propType&&(Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),Mr.length?Fe.translate(-vr.a.v[0]*Mr[0],-vr.a.v[1]*Mr[1],vr.a.v[2]*Mr[2]):Fe.translate(-vr.a.v[0]*Mr,-vr.a.v[1]*Mr,vr.a.v[2]*Mr));for(wr=0;wr<Er;wr+=1)vr=Be[wr].a,vr.s.propType&&(Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),Mr.length?Fe.scale(1+(vr.s.v[0]-1)*Mr[0],1+(vr.s.v[1]-1)*Mr[1],1):Fe.scale(1+(vr.s.v[0]-1)*Mr,1+(vr.s.v[1]-1)*Mr,1));for(wr=0;wr<Er;wr+=1){if(vr=Be[wr].a,Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),vr.sk.propType&&(Mr.length?Fe.skewFromAxis(-vr.sk.v*Mr[0],vr.sa.v*Mr[1]):Fe.skewFromAxis(-vr.sk.v*Mr,vr.sa.v*Mr)),vr.r.propType&&(Mr.length?Fe.rotateZ(-vr.r.v*Mr[2]):Fe.rotateZ(-vr.r.v*Mr)),vr.ry.propType&&(Mr.length?Fe.rotateY(vr.ry.v*Mr[1]):Fe.rotateY(vr.ry.v*Mr)),vr.rx.propType&&(Mr.length?Fe.rotateX(vr.rx.v*Mr[0]):Fe.rotateX(vr.rx.v*Mr)),vr.o.propType&&(Mr.length?Gr+=(vr.o.v*Mr[0]-Gr)*Mr[0]:Gr+=(vr.o.v*Mr-Gr)*Mr),Re.strokeWidthAnim&&vr.sw.propType&&(Mr.length?nn+=vr.sw.v*Mr[0]:nn+=vr.sw.v*Mr),Re.strokeColorAnim&&vr.sc.propType)for(hn=0;hn<3;hn+=1)Mr.length?fn[hn]+=(vr.sc.v[hn]-fn[hn])*Mr[0]:fn[hn]+=(vr.sc.v[hn]-fn[hn])*Mr;if(Re.fillColorAnim&&Re.fc){if(vr.fc.propType)for(hn=0;hn<3;hn+=1)Mr.length?bn[hn]+=(vr.fc.v[hn]-bn[hn])*Mr[0]:bn[hn]+=(vr.fc.v[hn]-bn[hn])*Mr;vr.fh.propType&&(Mr.length?bn=addHueToRGB(bn,vr.fh.v*Mr[0]):bn=addHueToRGB(bn,vr.fh.v*Mr)),vr.fs.propType&&(Mr.length?bn=addSaturationToRGB(bn,vr.fs.v*Mr[0]):bn=addSaturationToRGB(bn,vr.fs.v*Mr)),vr.fb.propType&&(Mr.length?bn=addBrightnessToRGB(bn,vr.fb.v*Mr[0]):bn=addBrightnessToRGB(bn,vr.fb.v*Mr))}}for(wr=0;wr<Er;wr+=1)vr=Be[wr].a,vr.p.propType&&(Tr=Be[wr].s,Mr=Tr.getMult(Qe[$e].anIndexes[wr],De.a[wr].s.totalChars),this._hasMaskedPath?Mr.length?Fe.translate(0,vr.p.v[1]*Mr[0],-vr.p.v[2]*Mr[1]):Fe.translate(0,vr.p.v[1]*Mr,-vr.p.v[2]*Mr):Mr.length?Fe.translate(vr.p.v[0]*Mr[0],vr.p.v[1]*Mr[1],-vr.p.v[2]*Mr[2]):Fe.translate(vr.p.v[0]*Mr,vr.p.v[1]*Mr,-vr.p.v[2]*Mr));if(Re.strokeWidthAnim&&(yn=nn<0?0:nn),Re.strokeColorAnim&&(Zr="rgb("+Math.round(fn[0]*255)+","+Math.round(fn[1]*255)+","+Math.round(fn[2]*255)+")"),Re.fillColorAnim&&Re.fc&&(Rn="rgb("+Math.round(bn[0]*255)+","+Math.round(bn[1]*255)+","+Math.round(bn[2]*255)+")"),this._hasMaskedPath){if(Fe.translate(0,-Re.ls),Fe.translate(0,je[1]*Cr*.01+Ue,0),this._pathData.p.v){mr=(Ke.point[1]-tr.point[1])/(Ke.point[0]-tr.point[0]);var Ti=Math.atan(mr)*180/Math.PI;Ke.point[0]<tr.point[0]&&(Ti+=180),Fe.rotate(-Ti*Math.PI/180)}Fe.translate(Dr,Or,0),qe-=je[0]*Qe[$e].an*.005,Qe[$e+1]&&_r!==Qe[$e+1].ind&&(qe+=Qe[$e].an/2,qe+=Re.tr*.001*Re.finalSize)}else{switch(Fe.translate(Me,Ue,0),Re.ps&&Fe.translate(Re.ps[0],Re.ps[1]+Re.ascent,0),Re.j){case 1:Fe.translate(Qe[$e].animatorJustifyOffset+Re.justifyOffset+(Re.boxWidth-Re.lineWidths[Qe[$e].line]),0,0);break;case 2:Fe.translate(Qe[$e].animatorJustifyOffset+Re.justifyOffset+(Re.boxWidth-Re.lineWidths[Qe[$e].line])/2,0,0);break}Fe.translate(0,-Re.ls),Fe.translate(Ir,0,0),Fe.translate(je[0]*Qe[$e].an*.005,je[1]*Cr*.01,0),Me+=Qe[$e].l+Re.tr*.001*Re.finalSize}ke==="html"?ri=Fe.toCSS():ke==="svg"?ri=Fe.to2dCSS():Yn=[Fe.props[0],Fe.props[1],Fe.props[2],Fe.props[3],Fe.props[4],Fe.props[5],Fe.props[6],Fe.props[7],Fe.props[8],Fe.props[9],Fe.props[10],Fe.props[11],Fe.props[12],Fe.props[13],Fe.props[14],Fe.props[15]],ti=Gr}Oe<=$e?(Pr=new LetterProps(ti,yn,Zr,Rn,ri,Yn),this.renderedLetters.push(Pr),Oe+=1,this.lettersChangedFlag=!0):(Pr=this.renderedLetters[$e],this.lettersChangedFlag=Pr.update(ti,yn,Zr,Rn,ri,Yn)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Re,Ce,je){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Re,Ce,je),this.textProperty=new TextProperty(this,Re.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Re.t,this.renderType,this),this.initTransform(Re,Ce,je),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Re){this._mdf=!1,this.prepareRenderableFrame(Re),this.prepareProperties(Re,this.isInRange)},ITextElement.prototype.createPathShape=function(Re,Ce){var je,Be=Ce.length,De,Fe="";for(je=0;je<Be;je+=1)Ce[je].ty==="sh"&&(De=Ce[je].ks.k,Fe+=buildShapeString(De,De.i.length,!0,Re));return Fe},ITextElement.prototype.updateDocumentData=function(Re,Ce){this.textProperty.updateDocumentData(Re,Ce)},ITextElement.prototype.canResizeFont=function(Re){this.textProperty.canResizeFont(Re)},ITextElement.prototype.setMinimumFontSize=function(Re){this.textProperty.setMinimumFontSize(Re)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Re,Ce,je,Be,De){switch(Re.ps&&Ce.translate(Re.ps[0],Re.ps[1]+Re.ascent,0),Ce.translate(0,-Re.ls,0),Re.j){case 1:Ce.translate(Re.justifyOffset+(Re.boxWidth-Re.lineWidths[je]),0,0);break;case 2:Ce.translate(Re.justifyOffset+(Re.boxWidth-Re.lineWidths[je])/2,0,0);break}Ce.translate(Be,De,0)},ITextElement.prototype.buildColor=function(Re){return"rgb("+Math.round(Re[0]*255)+","+Math.round(Re[1]*255)+","+Math.round(Re[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Re,Ce,je){this.textSpans=[],this.renderType="svg",this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Re){for(var Ce=0,je=Re.length,Be=[],De="";Ce<je;)Re[Ce]==="\r"||Re[Ce]===""?(Be.push(De),De=""):De+=Re[Ce],Ce+=1;return Be.push(De),Be},SVGTextLottieElement.prototype.buildShapeData=function(Re,Ce){if(Re.shapes&&Re.shapes.length){var je=Re.shapes[0];if(je.it){var Be=je.it[je.it.length-1];Be.s&&(Be.s.k[0]=Ce,Be.s.k[1]=Ce)}}return Re},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Re,Ce,je=this.textProperty.currentData;this.renderedLetters=createSizedArray(je?je.l.length:0),je.fc?this.layerElement.setAttribute("fill",this.buildColor(je.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),je.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(je.sc)),this.layerElement.setAttribute("stroke-width",je.sw)),this.layerElement.setAttribute("font-size",je.finalSize);var Be=this.globalData.fontManager.getFontByName(je.f);if(Be.fClass)this.layerElement.setAttribute("class",Be.fClass);else{this.layerElement.setAttribute("font-family",Be.fFamily);var De=je.fWeight,Fe=je.fStyle;this.layerElement.setAttribute("font-style",Fe),this.layerElement.setAttribute("font-weight",De)}this.layerElement.setAttribute("aria-label",je.t);var ke=je.l||[],Oe=!!this.globalData.fontManager.chars;Ce=ke.length;var Me,Ue=this.mHelper,$e="",He=this.data.singleShape,Qe=0,We=0,qe=!0,Ke=je.tr*.001*je.finalSize;if(He&&!Oe&&!je.sz){var Xe=this.textContainer,Ye="start";switch(je.j){case 1:Ye="end";break;case 2:Ye="middle";break;default:Ye="start";break}Xe.setAttribute("text-anchor",Ye),Xe.setAttribute("letter-spacing",Ke);var Ze=this.buildTextContents(je.finalText);for(Ce=Ze.length,We=je.ps?je.ps[1]+je.ascent:0,Re=0;Re<Ce;Re+=1)Me=this.textSpans[Re].span||createNS("tspan"),Me.textContent=Ze[Re],Me.setAttribute("x",0),Me.setAttribute("y",We),Me.style.display="inherit",Xe.appendChild(Me),this.textSpans[Re]||(this.textSpans[Re]={span:null,glyph:null}),this.textSpans[Re].span=Me,We+=je.finalLineHeight;this.layerElement.appendChild(Xe)}else{var Je=this.textSpans.length,tr;for(Re=0;Re<Ce;Re+=1){if(this.textSpans[Re]||(this.textSpans[Re]={span:null,childSpan:null,glyph:null}),!Oe||!He||Re===0){if(Me=Je>Re?this.textSpans[Re].span:createNS(Oe?"g":"text"),Je<=Re){if(Me.setAttribute("stroke-linecap","butt"),Me.setAttribute("stroke-linejoin","round"),Me.setAttribute("stroke-miterlimit","4"),this.textSpans[Re].span=Me,Oe){var rr=createNS("g");Me.appendChild(rr),this.textSpans[Re].childSpan=rr}this.textSpans[Re].span=Me,this.layerElement.appendChild(Me)}Me.style.display="inherit"}if(Ue.reset(),He&&(ke[Re].n&&(Qe=-Ke,We+=je.yOffset,We+=qe?1:0,qe=!1),this.applyTextPropertiesToMatrix(je,Ue,ke[Re].line,Qe,We),Qe+=ke[Re].l||0,Qe+=Ke),Oe){tr=this.globalData.fontManager.getCharData(je.finalText[Re],Be.fStyle,this.globalData.fontManager.getFontByName(je.f).fFamily);var ar;if(tr.t===1)ar=new SVGCompElement(tr.data,this.globalData,this);else{var ir=emptyShapeData;tr.data&&tr.data.shapes&&(ir=this.buildShapeData(tr.data,je.finalSize)),ar=new SVGShapeElement(ir,this.globalData,this)}if(this.textSpans[Re].glyph){var nr=this.textSpans[Re].glyph;this.textSpans[Re].childSpan.removeChild(nr.layerElement),nr.destroy()}this.textSpans[Re].glyph=ar,ar._debug=!0,ar.prepareFrame(0),ar.renderFrame(),this.textSpans[Re].childSpan.appendChild(ar.layerElement),tr.t===1&&this.textSpans[Re].childSpan.setAttribute("transform","scale("+je.finalSize/100+","+je.finalSize/100+")")}else He&&Me.setAttribute("transform","translate("+Ue.props[12]+","+Ue.props[13]+")"),Me.textContent=ke[Re].val,Me.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}He&&Me&&Me.setAttribute("d",$e)}for(;Re<this.textSpans.length;)this.textSpans[Re].span.style.display="none",Re+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Re=this.layerElement.getBBox();this.bbox={top:Re.y,left:Re.x,width:Re.width,height:Re.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Re,Ce=this.textSpans.length,je;for(this.renderedFrame=this.comp.renderedFrame,Re=0;Re<Ce;Re+=1)je=this.textSpans[Re].glyph,je&&(je.prepareFrame(this.comp.renderedFrame-this.data.st),je._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Re,Ce,je=this.textAnimator.renderedLetters,Be=this.textProperty.currentData.l;Ce=Be.length;var De,Fe,ke;for(Re=0;Re<Ce;Re+=1)Be[Re].n||(De=je[Re],Fe=this.textSpans[Re].span,ke=this.textSpans[Re].glyph,ke&&ke.renderFrame(),De._mdf.m&&Fe.setAttribute("transform",De.m),De._mdf.o&&Fe.setAttribute("opacity",De.o),De._mdf.sw&&Fe.setAttribute("stroke-width",De.sw),De._mdf.sc&&Fe.setAttribute("stroke",De.sc),De._mdf.fc&&Fe.setAttribute("fill",De.fc))}};function ISolidElement(Re,Ce,je){this.initElement(Re,Ce,je)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Re=createNS("rect");Re.setAttribute("width",this.data.sw),Re.setAttribute("height",this.data.sh),Re.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Re)};function NullElement(Re,Ce,je){this.initFrame(),this.initBaseData(Re,Ce,je),this.initFrame(),this.initTransform(Re,Ce,je),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Re){this.prepareProperties(Re,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Re){return new NullElement(Re,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Re){return new SVGShapeElement(Re,this.globalData,this)},SVGRendererBase.prototype.createText=function(Re){return new SVGTextLottieElement(Re,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Re){return new IImageElement(Re,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Re){return new ISolidElement(Re,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Re){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Re.w+" "+Re.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Re.w),this.svgElement.setAttribute("height",Re.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var Ce=this.globalData.defs;this.setupGlobalData(Re,Ce),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Re;var je=createNS("clipPath"),Be=createNS("rect");Be.setAttribute("width",Re.w),Be.setAttribute("height",Re.h),Be.setAttribute("x",0),Be.setAttribute("y",0);var De=createElementID();je.setAttribute("id",De),je.appendChild(Be),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+De+")"),Ce.appendChild(je),this.layers=Re.layers,this.elements=createSizedArray(Re.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Re,Ce=this.layers?this.layers.length:0;for(Re=0;Re<Ce;Re+=1)this.elements[Re]&&this.elements[Re].destroy&&this.elements[Re].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Re){var Ce=0,je=this.layers.length;for(Ce=0;Ce<je;Ce+=1)if(this.layers[Ce].ind===Re)return Ce;return-1},SVGRendererBase.prototype.buildItem=function(Re){var Ce=this.elements;if(!(Ce[Re]||this.layers[Re].ty===99)){Ce[Re]=!0;var je=this.createItem(this.layers[Re]);if(Ce[Re]=je,getExpressionsPlugin()&&(this.layers[Re].ty===0&&this.globalData.projectInterface.registerComposition(je),je.initExpressions()),this.appendElementInPos(je,Re),this.layers[Re].tt){var Be="tp"in this.layers[Re]?this.findIndexByInd(this.layers[Re].tp):Re-1;if(Be===-1)return;if(!this.elements[Be]||this.elements[Be]===!0)this.buildItem(Be),this.addPendingElement(je);else{var De=Ce[Be],Fe=De.getMatte(this.layers[Re].tt);je.setMatte(Fe)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Re=this.pendingElements.pop();if(Re.checkParenting(),Re.data.tt)for(var Ce=0,je=this.elements.length;Ce<je;){if(this.elements[Ce]===Re){var Be="tp"in Re.data?this.findIndexByInd(Re.data.tp):Ce-1,De=this.elements[Be],Fe=De.getMatte(this.layers[Ce].tt);Re.setMatte(Fe);break}Ce+=1}}},SVGRendererBase.prototype.renderFrame=function(Re){if(!(this.renderedFrame===Re||this.destroyed)){Re===null?Re=this.renderedFrame:this.renderedFrame=Re,this.globalData.frameNum=Re,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Re,this.globalData._mdf=!1;var Ce,je=this.layers.length;for(this.completeLayers||this.checkLayers(Re),Ce=je-1;Ce>=0;Ce-=1)(this.completeLayers||this.elements[Ce])&&this.elements[Ce].prepareFrame(Re-this.layers[Ce].st);if(this.globalData._mdf)for(Ce=0;Ce<je;Ce+=1)(this.completeLayers||this.elements[Ce])&&this.elements[Ce].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Re,Ce){var je=Re.getBaseElement();if(je){for(var Be=0,De;Be<Ce;)this.elements[Be]&&this.elements[Be]!==!0&&this.elements[Be].getBaseElement()&&(De=this.elements[Be].getBaseElement()),Be+=1;De?this.layerElement.insertBefore(je,De):this.layerElement.appendChild(je)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Re,Ce,je){this.initFrame(),this.initBaseData(Re,Ce,je),this.initTransform(Re,Ce,je),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!Ce.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Re){if(this._mdf=!1,this.prepareRenderableFrame(Re),this.prepareProperties(Re,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Re/this.data.sr;else{var Ce=this.tm.v;Ce===this.data.op&&(Ce=this.data.op-1),this.renderedFrame=Ce}var je,Be=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),je=Be-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&(this.elements[je].prepareFrame(this.renderedFrame-this.layers[je].st),this.elements[je]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Re,Ce=this.layers.length;for(Re=0;Re<Ce;Re+=1)(this.completeLayers||this.elements[Re])&&this.elements[Re].renderFrame()},ICompElement.prototype.setElements=function(Re){this.elements=Re},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Re,Ce=this.layers.length;for(Re=0;Re<Ce;Re+=1)this.elements[Re]&&this.elements[Re].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Re,Ce,je){this.layers=Re.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Re,Ce,je),this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,Ce.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Re){return new SVGCompElement(Re,this.globalData,this)};function SVGRenderer(Re,Ce){this.animationItem=Re,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var je="";if(Ce&&Ce.title){var Be=createNS("title"),De=createElementID();Be.setAttribute("id",De),Be.textContent=Ce.title,this.svgElement.appendChild(Be),je+=De}if(Ce&&Ce.description){var Fe=createNS("desc"),ke=createElementID();Fe.setAttribute("id",ke),Fe.textContent=Ce.description,this.svgElement.appendChild(Fe),je+=" "+ke}je&&this.svgElement.setAttribute("aria-labelledby",je);var Oe=createNS("defs");this.svgElement.appendChild(Oe);var Me=createNS("g");this.svgElement.appendChild(Me),this.layerElement=Me,this.renderConfig={preserveAspectRatio:Ce&&Ce.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Ce&&Ce.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Ce&&Ce.contentVisibility||"visible",progressiveLoad:Ce&&Ce.progressiveLoad||!1,hideOnTransparent:!(Ce&&Ce.hideOnTransparent===!1),viewBoxOnly:Ce&&Ce.viewBoxOnly||!1,viewBoxSize:Ce&&Ce.viewBoxSize||!1,className:Ce&&Ce.className||"",id:Ce&&Ce.id||"",focusable:Ce&&Ce.focusable,filterSize:{width:Ce&&Ce.filterSize&&Ce.filterSize.width||"100%",height:Ce&&Ce.filterSize&&Ce.filterSize.height||"100%",x:Ce&&Ce.filterSize&&Ce.filterSize.x||"0%",y:Ce&&Ce.filterSize&&Ce.filterSize.y||"0%"},width:Ce&&Ce.width,height:Ce&&Ce.height,runExpressions:!Ce||Ce.runExpressions===void 0||Ce.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Oe,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Re){return new SVGCompElement(Re,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(Ce){var je,Be=Ce.length,De="_";for(je=0;je<Be;je+=1)De+=Ce[je].transform.key+"_";var Fe=this.sequences[De];return Fe||(Fe={transforms:[].concat(Ce),finalTransform:new Matrix,_mdf:!1},this.sequences[De]=Fe,this.sequenceList.push(Fe)),Fe},processSequence:function(Ce,je){for(var Be=0,De=Ce.transforms.length,Fe=je;Be<De&&!je;){if(Ce.transforms[Be].transform.mProps._mdf){Fe=!0;break}Be+=1}if(Fe)for(Ce.finalTransform.reset(),Be=De-1;Be>=0;Be-=1)Ce.finalTransform.multiply(Ce.transforms[Be].transform.mProps.v);Ce._mdf=Fe},processSequences:function(Ce){var je,Be=this.sequenceList.length;for(je=0;je<Be;je+=1)this.processSequence(this.sequenceList[je],Ce)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var Ce="__lottie_element_luma_buffer",je=null,Be=null,De=null;function Fe(){var Me=createNS("svg"),Ue=createNS("filter"),$e=createNS("feColorMatrix");return Ue.setAttribute("id",Ce),$e.setAttribute("type","matrix"),$e.setAttribute("color-interpolation-filters","sRGB"),$e.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),Ue.appendChild($e),Me.appendChild(Ue),Me.setAttribute("id",Ce+"_svg"),featureSupport.svgLumaHidden&&(Me.style.display="none"),Me}function ke(){je||(De=Fe(),document.body.appendChild(De),je=createTag("canvas"),Be=je.getContext("2d"),Be.filter="url(#"+Ce+")",Be.fillStyle="rgba(0,0,0,0)",Be.fillRect(0,0,1,1))}function Oe(Me){return je||ke(),je.width=Me.width,je.height=Me.height,Be.filter="url(#"+Ce+")",je}return{load:ke,get:Oe}};function createCanvas(Re,Ce){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Re,Ce);var je=createTag("canvas");return je.width=Re,je.height=Ce,je}var assetLoader=(function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}})(),registeredEffects={};function CVEffects(Re){var Ce,je=Re.data.ef?Re.data.ef.length:0;this.filters=[];var Be;for(Ce=0;Ce<je;Ce+=1){Be=null;var De=Re.data.ef[Ce].ty;if(registeredEffects[De]){var Fe=registeredEffects[De].effect;Be=new Fe(Re.effectsManager.effectElements[Ce],Re)}Be&&this.filters.push(Be)}this.filters.length&&Re.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Re){var Ce,je=this.filters.length;for(Ce=0;Ce<je;Ce+=1)this.filters[Ce].renderFrame(Re)},CVEffects.prototype.getEffects=function(Re){var Ce,je=this.filters.length,Be=[];for(Ce=0;Ce<je;Ce+=1)this.filters[Ce].type===Re&&Be.push(this.filters[Ce]);return Be};function registerEffect(Re,Ce){registeredEffects[Re]={effect:Ce}}function CVMaskElement(Re,Ce){this.data=Re,this.element=Ce,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var je,Be=this.masksProperties.length,De=!1;for(je=0;je<Be;je+=1)this.masksProperties[je].mode!=="n"&&(De=!0),this.viewData[je]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[je],3);this.hasMasks=De,De&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Re=this.element.finalTransform.mat,Ce=this.element.canvasContext,je,Be=this.masksProperties.length,De,Fe,ke;for(Ce.beginPath(),je=0;je<Be;je+=1)if(this.masksProperties[je].mode!=="n"){this.masksProperties[je].inv&&(Ce.moveTo(0,0),Ce.lineTo(this.element.globalData.compSize.w,0),Ce.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),Ce.lineTo(0,this.element.globalData.compSize.h),Ce.lineTo(0,0)),ke=this.viewData[je].v,De=Re.applyToPointArray(ke.v[0][0],ke.v[0][1],0),Ce.moveTo(De[0],De[1]);var Oe,Me=ke._length;for(Oe=1;Oe<Me;Oe+=1)Fe=Re.applyToTriplePoints(ke.o[Oe-1],ke.i[Oe],ke.v[Oe]),Ce.bezierCurveTo(Fe[0],Fe[1],Fe[2],Fe[3],Fe[4],Fe[5]);Fe=Re.applyToTriplePoints(ke.o[Oe-1],ke.i[0],ke.v[0]),Ce.bezierCurveTo(Fe[0],Fe[1],Fe[2],Fe[3],Fe[4],Fe[5])}this.element.globalData.renderer.save(!0),Ce.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var Ce=this.globalData.canvasContext,je=assetLoader.createCanvas(Ce.canvas.width,Ce.canvas.height);this.buffers.push(je);var Be=assetLoader.createCanvas(Ce.canvas.width,Ce.canvas.height);this.buffers.push(Be),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var Ce=this.globalData;if(Ce.blendMode!==this.data.bm){Ce.blendMode=this.data.bm;var je=getBlendMode(this.data.bm);Ce.canvasContext.globalCompositeOperation=je}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(Ce){Ce.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var Ce=this.buffers[0],je=Ce.getContext("2d");this.clearCanvas(je),je.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var Ce=this.buffers[1],je=Ce.getContext("2d");this.clearCanvas(je),je.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Be=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Be.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var De=assetLoader.getLumaCanvas(this.canvasContext.canvas),Fe=De.getContext("2d");Fe.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(De,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(Ce,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(Ce){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!Ce)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var je=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(je),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(je),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Re,Ce,je,Be){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var De=4;Ce.ty==="rc"?De=5:Ce.ty==="el"?De=6:Ce.ty==="sr"&&(De=7),this.sh=ShapePropertyFactory.getShapeProp(Re,Ce,De,Re);var Fe,ke=je.length,Oe;for(Fe=0;Fe<ke;Fe+=1)je[Fe].closed||(Oe={transforms:Be.addTransformSequence(je[Fe].transforms),trNodes:[]},this.styledShapes.push(Oe),je[Fe].elements.push(Oe))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Re,Ce,je){this.shapes=[],this.shapesData=Re.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Re,Ce){var je={data:Re,type:Re.ty,preTransforms:this.transformsManager.addTransformSequence(Ce),transforms:[],elements:[],closed:Re.hd===!0},Be={};if(Re.ty==="fl"||Re.ty==="st"?(Be.c=PropertyFactory.getProp(this,Re.c,1,255,this),Be.c.k||(je.co="rgb("+bmFloor(Be.c.v[0])+","+bmFloor(Be.c.v[1])+","+bmFloor(Be.c.v[2])+")")):(Re.ty==="gf"||Re.ty==="gs")&&(Be.s=PropertyFactory.getProp(this,Re.s,1,null,this),Be.e=PropertyFactory.getProp(this,Re.e,1,null,this),Be.h=PropertyFactory.getProp(this,Re.h||{k:0},0,.01,this),Be.a=PropertyFactory.getProp(this,Re.a||{k:0},0,degToRads,this),Be.g=new GradientProperty(this,Re.g,this)),Be.o=PropertyFactory.getProp(this,Re.o,0,.01,this),Re.ty==="st"||Re.ty==="gs"){if(je.lc=lineCapEnum[Re.lc||2],je.lj=lineJoinEnum[Re.lj||2],Re.lj==1&&(je.ml=Re.ml),Be.w=PropertyFactory.getProp(this,Re.w,0,null,this),Be.w.k||(je.wi=Be.w.v),Re.d){var De=new DashProperty(this,Re.d,"canvas",this);Be.d=De,Be.d.k||(je.da=Be.d.dashArray,je.do=Be.d.dashoffset[0])}}else je.r=Re.r===2?"evenodd":"nonzero";return this.stylesList.push(je),Be.style=je,Be},CVShapeElement.prototype.createGroupElement=function(){var Re={it:[],prevViewData:[]};return Re},CVShapeElement.prototype.createTransformElement=function(Re){var Ce={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Re.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Re,this)}};return Ce},CVShapeElement.prototype.createShapeElement=function(Re){var Ce=new CVShapeData(this,Re,this.stylesList,this.transformsManager);return this.shapes.push(Ce),this.addShapeToModifiers(Ce),Ce},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Re,Ce=this.itemsData.length;for(Re=0;Re<Ce;Re+=1)this.prevViewData[Re]=this.itemsData[Re];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),Ce=this.dynamicProperties.length,Re=0;Re<Ce;Re+=1)this.dynamicProperties[Re].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Re){var Ce,je=this.stylesList.length;for(Ce=0;Ce<je;Ce+=1)this.stylesList[Ce].closed||this.stylesList[Ce].transforms.push(Re)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Re,Ce=this.stylesList.length;for(Re=0;Re<Ce;Re+=1)this.stylesList[Re].closed||this.stylesList[Re].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Re){var Ce,je=Re.length;for(Ce=0;Ce<je;Ce+=1)Re[Ce].closed=!0},CVShapeElement.prototype.searchShapes=function(Re,Ce,je,Be,De){var Fe,ke=Re.length-1,Oe,Me,Ue=[],$e=[],He,Qe,We,qe=[].concat(De);for(Fe=ke;Fe>=0;Fe-=1){if(He=this.searchProcessedElement(Re[Fe]),He?Ce[Fe]=je[He-1]:Re[Fe]._shouldRender=Be,Re[Fe].ty==="fl"||Re[Fe].ty==="st"||Re[Fe].ty==="gf"||Re[Fe].ty==="gs")He?Ce[Fe].style.closed=!1:Ce[Fe]=this.createStyleElement(Re[Fe],qe),Ue.push(Ce[Fe].style);else if(Re[Fe].ty==="gr"){if(!He)Ce[Fe]=this.createGroupElement(Re[Fe]);else for(Me=Ce[Fe].it.length,Oe=0;Oe<Me;Oe+=1)Ce[Fe].prevViewData[Oe]=Ce[Fe].it[Oe];this.searchShapes(Re[Fe].it,Ce[Fe].it,Ce[Fe].prevViewData,Be,qe)}else Re[Fe].ty==="tr"?(He||(We=this.createTransformElement(Re[Fe]),Ce[Fe]=We),qe.push(Ce[Fe]),this.addTransformToStyleList(Ce[Fe])):Re[Fe].ty==="sh"||Re[Fe].ty==="rc"||Re[Fe].ty==="el"||Re[Fe].ty==="sr"?He||(Ce[Fe]=this.createShapeElement(Re[Fe])):Re[Fe].ty==="tm"||Re[Fe].ty==="rd"||Re[Fe].ty==="pb"||Re[Fe].ty==="zz"||Re[Fe].ty==="op"?(He?(Qe=Ce[Fe],Qe.closed=!1):(Qe=ShapeModifiers.getModifier(Re[Fe].ty),Qe.init(this,Re[Fe]),Ce[Fe]=Qe,this.shapeModifiers.push(Qe)),$e.push(Qe)):Re[Fe].ty==="rp"&&(He?(Qe=Ce[Fe],Qe.closed=!0):(Qe=ShapeModifiers.getModifier(Re[Fe].ty),Ce[Fe]=Qe,Qe.init(this,Re,Fe,Ce),this.shapeModifiers.push(Qe),Be=!1),$e.push(Qe));this.addProcessedElement(Re[Fe],Fe+1)}for(this.removeTransformFromStyleList(),this.closeStyles(Ue),ke=$e.length,Fe=0;Fe<ke;Fe+=1)$e[Fe].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Re,Ce){(Re._opMdf||Ce.op._mdf||this._isFirstFrame)&&(Ce.opacity=Re.opacity,Ce.opacity*=Ce.op.v,Ce._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Re,Ce=this.stylesList.length,je,Be,De,Fe,ke,Oe,Me=this.globalData.renderer,Ue=this.globalData.canvasContext,$e,He;for(Re=0;Re<Ce;Re+=1)if(He=this.stylesList[Re],$e=He.type,!(($e==="st"||$e==="gs")&&He.wi===0||!He.data._shouldRender||He.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Me.save(),ke=He.elements,$e==="st"||$e==="gs"?(Me.ctxStrokeStyle($e==="st"?He.co:He.grd),Me.ctxLineWidth(He.wi),Me.ctxLineCap(He.lc),Me.ctxLineJoin(He.lj),Me.ctxMiterLimit(He.ml||0)):Me.ctxFillStyle($e==="fl"?He.co:He.grd),Me.ctxOpacity(He.coOp),$e!=="st"&&$e!=="gs"&&Ue.beginPath(),Me.ctxTransform(He.preTransforms.finalTransform.props),Be=ke.length,je=0;je<Be;je+=1){for(($e==="st"||$e==="gs")&&(Ue.beginPath(),He.da&&(Ue.setLineDash(He.da),Ue.lineDashOffset=He.do)),Oe=ke[je].trNodes,Fe=Oe.length,De=0;De<Fe;De+=1)Oe[De].t==="m"?Ue.moveTo(Oe[De].p[0],Oe[De].p[1]):Oe[De].t==="c"?Ue.bezierCurveTo(Oe[De].pts[0],Oe[De].pts[1],Oe[De].pts[2],Oe[De].pts[3],Oe[De].pts[4],Oe[De].pts[5]):Ue.closePath();($e==="st"||$e==="gs")&&(Me.ctxStroke(),He.da&&Ue.setLineDash(this.dashResetter))}$e!=="st"&&$e!=="gs"&&this.globalData.renderer.ctxFill(He.r),Me.restore()}},CVShapeElement.prototype.renderShape=function(Re,Ce,je,Be){var De,Fe=Ce.length-1,ke;for(ke=Re,De=Fe;De>=0;De-=1)Ce[De].ty==="tr"?(ke=je[De].transform,this.renderShapeTransform(Re,ke)):Ce[De].ty==="sh"||Ce[De].ty==="el"||Ce[De].ty==="rc"||Ce[De].ty==="sr"?this.renderPath(Ce[De],je[De]):Ce[De].ty==="fl"?this.renderFill(Ce[De],je[De],ke):Ce[De].ty==="st"?this.renderStroke(Ce[De],je[De],ke):Ce[De].ty==="gf"||Ce[De].ty==="gs"?this.renderGradientFill(Ce[De],je[De],ke):Ce[De].ty==="gr"?this.renderShape(ke,Ce[De].it,je[De].it):Ce[De].ty;Be&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Re,Ce){if(this._isFirstFrame||Ce._mdf||Re.transforms._mdf){var je=Re.trNodes,Be=Ce.paths,De,Fe,ke,Oe=Be._length;je.length=0;var Me=Re.transforms.finalTransform;for(ke=0;ke<Oe;ke+=1){var Ue=Be.shapes[ke];if(Ue&&Ue.v){for(Fe=Ue._length,De=1;De<Fe;De+=1)De===1&&je.push({t:"m",p:Me.applyToPointArray(Ue.v[0][0],Ue.v[0][1],0)}),je.push({t:"c",pts:Me.applyToTriplePoints(Ue.o[De-1],Ue.i[De],Ue.v[De])});Fe===1&&je.push({t:"m",p:Me.applyToPointArray(Ue.v[0][0],Ue.v[0][1],0)}),Ue.c&&Fe&&(je.push({t:"c",pts:Me.applyToTriplePoints(Ue.o[De-1],Ue.i[0],Ue.v[0])}),je.push({t:"z"}))}}Re.trNodes=je}},CVShapeElement.prototype.renderPath=function(Re,Ce){if(Re.hd!==!0&&Re._shouldRender){var je,Be=Ce.styledShapes.length;for(je=0;je<Be;je+=1)this.renderStyledShape(Ce.styledShapes[je],Ce.sh)}},CVShapeElement.prototype.renderFill=function(Re,Ce,je){var Be=Ce.style;(Ce.c._mdf||this._isFirstFrame)&&(Be.co="rgb("+bmFloor(Ce.c.v[0])+","+bmFloor(Ce.c.v[1])+","+bmFloor(Ce.c.v[2])+")"),(Ce.o._mdf||je._opMdf||this._isFirstFrame)&&(Be.coOp=Ce.o.v*je.opacity)},CVShapeElement.prototype.renderGradientFill=function(Re,Ce,je){var Be=Ce.style,De;if(!Be.grd||Ce.g._mdf||Ce.s._mdf||Ce.e._mdf||Re.t!==1&&(Ce.h._mdf||Ce.a._mdf)){var Fe=this.globalData.canvasContext,ke=Ce.s.v,Oe=Ce.e.v;if(Re.t===1)De=Fe.createLinearGradient(ke[0],ke[1],Oe[0],Oe[1]);else{var Me=Math.sqrt(Math.pow(ke[0]-Oe[0],2)+Math.pow(ke[1]-Oe[1],2)),Ue=Math.atan2(Oe[1]-ke[1],Oe[0]-ke[0]),$e=Ce.h.v;$e>=1?$e=.99:$e<=-1&&($e=-.99);var He=Me*$e,Qe=Math.cos(Ue+Ce.a.v)*He+ke[0],We=Math.sin(Ue+Ce.a.v)*He+ke[1];De=Fe.createRadialGradient(Qe,We,0,ke[0],ke[1],Me)}var qe,Ke=Re.g.p,Xe=Ce.g.c,Ye=1;for(qe=0;qe<Ke;qe+=1)Ce.g._hasOpacity&&Ce.g._collapsable&&(Ye=Ce.g.o[qe*2+1]),De.addColorStop(Xe[qe*4]/100,"rgba("+Xe[qe*4+1]+","+Xe[qe*4+2]+","+Xe[qe*4+3]+","+Ye+")");Be.grd=De}Be.coOp=Ce.o.v*je.opacity},CVShapeElement.prototype.renderStroke=function(Re,Ce,je){var Be=Ce.style,De=Ce.d;De&&(De._mdf||this._isFirstFrame)&&(Be.da=De.dashArray,Be.do=De.dashoffset[0]),(Ce.c._mdf||this._isFirstFrame)&&(Be.co="rgb("+bmFloor(Ce.c.v[0])+","+bmFloor(Ce.c.v[1])+","+bmFloor(Ce.c.v[2])+")"),(Ce.o._mdf||je._opMdf||this._isFirstFrame)&&(Be.coOp=Ce.o.v*je.opacity),(Ce.w._mdf||this._isFirstFrame)&&(Be.wi=Ce.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Re,Ce,je){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Re=this.textProperty.currentData;this.renderedLetters=createSizedArray(Re.l?Re.l.length:0);var Ce=!1;Re.fc?(Ce=!0,this.values.fill=this.buildColor(Re.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=Ce;var je=!1;Re.sc&&(je=!0,this.values.stroke=this.buildColor(Re.sc),this.values.sWidth=Re.sw);var Be=this.globalData.fontManager.getFontByName(Re.f),De,Fe,ke=Re.l,Oe=this.mHelper;this.stroke=je,this.values.fValue=Re.finalSize+"px "+this.globalData.fontManager.getFontByName(Re.f).fFamily,Fe=Re.finalText.length;var Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze=this.data.singleShape,Je=Re.tr*.001*Re.finalSize,tr=0,rr=0,ar=!0,ir=0;for(De=0;De<Fe;De+=1){Me=this.globalData.fontManager.getCharData(Re.finalText[De],Be.fStyle,this.globalData.fontManager.getFontByName(Re.f).fFamily),Ue=Me&&Me.data||{},Oe.reset(),Ze&&ke[De].n&&(tr=-Je,rr+=Re.yOffset,rr+=ar?1:0,ar=!1),Qe=Ue.shapes?Ue.shapes[0].it:[],qe=Qe.length,Oe.scale(Re.finalSize/100,Re.finalSize/100),Ze&&this.applyTextPropertiesToMatrix(Re,Oe,ke[De].line,tr,rr),Xe=createSizedArray(qe-1);var nr=0;for(We=0;We<qe;We+=1)if(Qe[We].ty==="sh"){for(He=Qe[We].ks.k.i.length,Ke=Qe[We].ks.k,Ye=[],$e=1;$e<He;$e+=1)$e===1&&Ye.push(Oe.applyToX(Ke.v[0][0],Ke.v[0][1],0),Oe.applyToY(Ke.v[0][0],Ke.v[0][1],0)),Ye.push(Oe.applyToX(Ke.o[$e-1][0],Ke.o[$e-1][1],0),Oe.applyToY(Ke.o[$e-1][0],Ke.o[$e-1][1],0),Oe.applyToX(Ke.i[$e][0],Ke.i[$e][1],0),Oe.applyToY(Ke.i[$e][0],Ke.i[$e][1],0),Oe.applyToX(Ke.v[$e][0],Ke.v[$e][1],0),Oe.applyToY(Ke.v[$e][0],Ke.v[$e][1],0));Ye.push(Oe.applyToX(Ke.o[$e-1][0],Ke.o[$e-1][1],0),Oe.applyToY(Ke.o[$e-1][0],Ke.o[$e-1][1],0),Oe.applyToX(Ke.i[0][0],Ke.i[0][1],0),Oe.applyToY(Ke.i[0][0],Ke.i[0][1],0),Oe.applyToX(Ke.v[0][0],Ke.v[0][1],0),Oe.applyToY(Ke.v[0][0],Ke.v[0][1],0)),Xe[nr]=Ye,nr+=1}Ze&&(tr+=ke[De].l,tr+=Je),this.textSpans[ir]?this.textSpans[ir].elem=Xe:this.textSpans[ir]={elem:Xe},ir+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Re=this.canvasContext;Re.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var Ce,je,Be,De,Fe,ke,Oe=this.textAnimator.renderedLetters,Me=this.textProperty.currentData.l;je=Me.length;var Ue,$e=null,He=null,Qe=null,We,qe,Ke=this.globalData.renderer;for(Ce=0;Ce<je;Ce+=1)if(!Me[Ce].n){if(Ue=Oe[Ce],Ue&&(Ke.save(),Ke.ctxTransform(Ue.p),Ke.ctxOpacity(Ue.o)),this.fill){for(Ue&&Ue.fc?$e!==Ue.fc&&(Ke.ctxFillStyle(Ue.fc),$e=Ue.fc):$e!==this.values.fill&&($e=this.values.fill,Ke.ctxFillStyle(this.values.fill)),We=this.textSpans[Ce].elem,De=We.length,this.globalData.canvasContext.beginPath(),Be=0;Be<De;Be+=1)for(qe=We[Be],ke=qe.length,this.globalData.canvasContext.moveTo(qe[0],qe[1]),Fe=2;Fe<ke;Fe+=6)this.globalData.canvasContext.bezierCurveTo(qe[Fe],qe[Fe+1],qe[Fe+2],qe[Fe+3],qe[Fe+4],qe[Fe+5]);this.globalData.canvasContext.closePath(),Ke.ctxFill()}if(this.stroke){for(Ue&&Ue.sw?Qe!==Ue.sw&&(Qe=Ue.sw,Ke.ctxLineWidth(Ue.sw)):Qe!==this.values.sWidth&&(Qe=this.values.sWidth,Ke.ctxLineWidth(this.values.sWidth)),Ue&&Ue.sc?He!==Ue.sc&&(He=Ue.sc,Ke.ctxStrokeStyle(Ue.sc)):He!==this.values.stroke&&(He=this.values.stroke,Ke.ctxStrokeStyle(this.values.stroke)),We=this.textSpans[Ce].elem,De=We.length,this.globalData.canvasContext.beginPath(),Be=0;Be<De;Be+=1)for(qe=We[Be],ke=qe.length,this.globalData.canvasContext.moveTo(qe[0],qe[1]),Fe=2;Fe<ke;Fe+=6)this.globalData.canvasContext.bezierCurveTo(qe[Fe],qe[Fe+1],qe[Fe+2],qe[Fe+3],qe[Fe+4],qe[Fe+5]);this.globalData.canvasContext.closePath(),Ke.ctxStroke()}Ue&&this.globalData.renderer.restore()}};function CVImageElement(Re,Ce,je){this.assetData=Ce.getAssetData(Re.refId),this.img=Ce.imageLoader.getAsset(this.assetData),this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Re=createTag("canvas");Re.width=this.assetData.w,Re.height=this.assetData.h;var Ce=Re.getContext("2d"),je=this.img.width,Be=this.img.height,De=je/Be,Fe=this.assetData.w/this.assetData.h,ke,Oe,Me=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;De>Fe&&Me==="xMidYMid slice"||De<Fe&&Me!=="xMidYMid slice"?(Oe=Be,ke=Oe*Fe):(ke=je,Oe=ke/Fe),Ce.drawImage(this.img,(je-ke)/2,(Be-Oe)/2,ke,Oe,0,0,this.assetData.w,this.assetData.h),this.img=Re}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Re,Ce,je){this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Re){return new CVShapeElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Re){return new CVTextElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Re){return new CVImageElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Re){return new CVSolidElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Re){Re[0]===1&&Re[1]===0&&Re[4]===0&&Re[5]===1&&Re[12]===0&&Re[13]===0||this.canvasContext.transform(Re[0],Re[1],Re[4],Re[5],Re[12],Re[13])},CanvasRendererBase.prototype.ctxOpacity=function(Re){this.canvasContext.globalAlpha*=Re<0?0:Re},CanvasRendererBase.prototype.ctxFillStyle=function(Re){this.canvasContext.fillStyle=Re},CanvasRendererBase.prototype.ctxStrokeStyle=function(Re){this.canvasContext.strokeStyle=Re},CanvasRendererBase.prototype.ctxLineWidth=function(Re){this.canvasContext.lineWidth=Re},CanvasRendererBase.prototype.ctxLineCap=function(Re){this.canvasContext.lineCap=Re},CanvasRendererBase.prototype.ctxLineJoin=function(Re){this.canvasContext.lineJoin=Re},CanvasRendererBase.prototype.ctxMiterLimit=function(Re){this.canvasContext.miterLimit=Re},CanvasRendererBase.prototype.ctxFill=function(Re){this.canvasContext.fill(Re)},CanvasRendererBase.prototype.ctxFillRect=function(Re,Ce,je,Be){this.canvasContext.fillRect(Re,Ce,je,Be)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Re){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Re&&(this.globalData.blendMode="source-over"),this.contextData.restore(Re)},CanvasRendererBase.prototype.configAnimation=function(Re){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var Ce=this.animationItem.container.style;Ce.width="100%",Ce.height="100%";var je="0px 0px 0px";Ce.transformOrigin=je,Ce.mozTransformOrigin=je,Ce.webkitTransformOrigin=je,Ce["-webkit-transform"]=je,Ce.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Re,this.layers=Re.layers,this.transformCanvas={w:Re.w,h:Re.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Re,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Re.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Re,Ce){this.reset();var je,Be;Re?(je=Re,Be=Ce,this.canvasContext.canvas.width=je,this.canvasContext.canvas.height=Be):(this.animationItem.wrapper&&this.animationItem.container?(je=this.animationItem.wrapper.offsetWidth,Be=this.animationItem.wrapper.offsetHeight):(je=this.canvasContext.canvas.width,Be=this.canvasContext.canvas.height),this.canvasContext.canvas.width=je*this.renderConfig.dpr,this.canvasContext.canvas.height=Be*this.renderConfig.dpr);var De,Fe;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var ke=this.renderConfig.preserveAspectRatio.split(" "),Oe=ke[1]||"meet",Me=ke[0]||"xMidYMid",Ue=Me.substr(0,4),$e=Me.substr(4);De=je/Be,Fe=this.transformCanvas.w/this.transformCanvas.h,Fe>De&&Oe==="meet"||Fe<De&&Oe==="slice"?(this.transformCanvas.sx=je/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=je/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Be/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Be/(this.transformCanvas.h/this.renderConfig.dpr)),Ue==="xMid"&&(Fe<De&&Oe==="meet"||Fe>De&&Oe==="slice")?this.transformCanvas.tx=(je-this.transformCanvas.w*(Be/this.transformCanvas.h))/2*this.renderConfig.dpr:Ue==="xMax"&&(Fe<De&&Oe==="meet"||Fe>De&&Oe==="slice")?this.transformCanvas.tx=(je-this.transformCanvas.w*(Be/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,$e==="YMid"&&(Fe>De&&Oe==="meet"||Fe<De&&Oe==="slice")?this.transformCanvas.ty=(Be-this.transformCanvas.h*(je/this.transformCanvas.w))/2*this.renderConfig.dpr:$e==="YMax"&&(Fe>De&&Oe==="meet"||Fe<De&&Oe==="slice")?this.transformCanvas.ty=(Be-this.transformCanvas.h*(je/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=je/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Be/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Re,Ce=this.layers?this.layers.length:0;for(Re=Ce-1;Re>=0;Re-=1)this.elements[Re]&&this.elements[Re].destroy&&this.elements[Re].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Re,Ce){if(!(this.renderedFrame===Re&&this.renderConfig.clearCanvas===!0&&!Ce||this.destroyed||Re===-1)){this.renderedFrame=Re,this.globalData.frameNum=Re-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||Ce,this.globalData.projectInterface.currentFrame=Re;var je,Be=this.layers.length;for(this.completeLayers||this.checkLayers(Re),je=Be-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&this.elements[je].prepareFrame(Re-this.layers[je].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),je=Be-1;je>=0;je-=1)(this.completeLayers||this.elements[je])&&this.elements[je].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Re){var Ce=this.elements;if(!(Ce[Re]||this.layers[Re].ty===99)){var je=this.createItem(this.layers[Re],this,this.globalData);Ce[Re]=je,je.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Re=this.pendingElements.pop();Re.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Re,Ce=15;for(Re=0;Re<Ce;Re+=1){var je=new CanvasContext;this.stack[Re]=je}this._length=Ce,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Re=this._length*2,Ce=0;for(Ce=this._length;Ce<Re;Ce+=1)this.stack[Ce]=new CanvasContext;this._length=Re},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Re){this.cArrPos-=1;var Ce=this.stack[this.cArrPos],je=Ce.transform,Be,De=this.cTr.props;for(Be=0;Be<16;Be+=1)De[Be]=je[Be];if(Re){this.nativeContext.restore();var Fe=this.stack[this.cArrPos+1];this.appliedFillStyle=Fe.fillStyle,this.appliedStrokeStyle=Fe.strokeStyle,this.appliedLineWidth=Fe.lineWidth,this.appliedLineCap=Fe.lineCap,this.appliedLineJoin=Fe.lineJoin,this.appliedMiterLimit=Fe.miterLimit}this.nativeContext.setTransform(je[0],je[1],je[4],je[5],je[12],je[13]),(Re||Ce.opacity!==-1&&this.currentOpacity!==Ce.opacity)&&(this.nativeContext.globalAlpha=Ce.opacity,this.currentOpacity=Ce.opacity),this.currentFillStyle=Ce.fillStyle,this.currentStrokeStyle=Ce.strokeStyle,this.currentLineWidth=Ce.lineWidth,this.currentLineCap=Ce.lineCap,this.currentLineJoin=Ce.lineJoin,this.currentMiterLimit=Ce.miterLimit},CVContextData.prototype.save=function(Re){Re&&this.nativeContext.save();var Ce=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var je=this.stack[this.cArrPos],Be;for(Be=0;Be<16;Be+=1)je.transform[Be]=Ce[Be];this.cArrPos+=1;var De=this.stack[this.cArrPos];De.opacity=je.opacity,De.fillStyle=je.fillStyle,De.strokeStyle=je.strokeStyle,De.lineWidth=je.lineWidth,De.lineCap=je.lineCap,De.lineJoin=je.lineJoin,De.miterLimit=je.miterLimit},CVContextData.prototype.setOpacity=function(Re){this.stack[this.cArrPos].opacity=Re},CVContextData.prototype.setContext=function(Re){this.nativeContext=Re},CVContextData.prototype.fillStyle=function(Re){this.stack[this.cArrPos].fillStyle!==Re&&(this.currentFillStyle=Re,this.stack[this.cArrPos].fillStyle=Re)},CVContextData.prototype.strokeStyle=function(Re){this.stack[this.cArrPos].strokeStyle!==Re&&(this.currentStrokeStyle=Re,this.stack[this.cArrPos].strokeStyle=Re)},CVContextData.prototype.lineWidth=function(Re){this.stack[this.cArrPos].lineWidth!==Re&&(this.currentLineWidth=Re,this.stack[this.cArrPos].lineWidth=Re)},CVContextData.prototype.lineCap=function(Re){this.stack[this.cArrPos].lineCap!==Re&&(this.currentLineCap=Re,this.stack[this.cArrPos].lineCap=Re)},CVContextData.prototype.lineJoin=function(Re){this.stack[this.cArrPos].lineJoin!==Re&&(this.currentLineJoin=Re,this.stack[this.cArrPos].lineJoin=Re)},CVContextData.prototype.miterLimit=function(Re){this.stack[this.cArrPos].miterLimit!==Re&&(this.currentMiterLimit=Re,this.stack[this.cArrPos].miterLimit=Re)},CVContextData.prototype.transform=function(Re){this.transformMat.cloneFromProps(Re);var Ce=this.cTr;this.transformMat.multiply(Ce),Ce.cloneFromProps(this.transformMat.props);var je=Ce.props;this.nativeContext.setTransform(je[0],je[1],je[4],je[5],je[12],je[13])},CVContextData.prototype.opacity=function(Re){var Ce=this.stack[this.cArrPos].opacity;Ce*=Re<0?0:Re,this.stack[this.cArrPos].opacity!==Ce&&(this.currentOpacity!==Re&&(this.nativeContext.globalAlpha=Re,this.currentOpacity=Re),this.stack[this.cArrPos].opacity=Ce)},CVContextData.prototype.fill=function(Re){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Re)},CVContextData.prototype.fillRect=function(Re,Ce,je,Be){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Re,Ce,je,Be)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Re,Ce,je){this.completeLayers=!1,this.layers=Re.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Re,Ce,je),this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,Ce.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Re=this.canvasContext;Re.beginPath(),Re.moveTo(0,0),Re.lineTo(this.data.w,0),Re.lineTo(this.data.w,this.data.h),Re.lineTo(0,this.data.h),Re.lineTo(0,0),Re.clip();var Ce,je=this.layers.length;for(Ce=je-1;Ce>=0;Ce-=1)(this.completeLayers||this.elements[Ce])&&this.elements[Ce].renderFrame()},CVCompElement.prototype.destroy=function(){var Re,Ce=this.layers.length;for(Re=Ce-1;Re>=0;Re-=1)this.elements[Re]&&this.elements[Re].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Re){return new CVCompElement(Re,this.globalData,this)};function CanvasRenderer(Re,Ce){this.animationItem=Re,this.renderConfig={clearCanvas:Ce&&Ce.clearCanvas!==void 0?Ce.clearCanvas:!0,context:Ce&&Ce.context||null,progressiveLoad:Ce&&Ce.progressiveLoad||!1,preserveAspectRatio:Ce&&Ce.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:Ce&&Ce.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:Ce&&Ce.contentVisibility||"visible",className:Ce&&Ce.className||"",id:Ce&&Ce.id||"",runExpressions:!Ce||Ce.runExpressions===void 0||Ce.runExpressions},this.renderConfig.dpr=Ce&&Ce.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=Ce&&Ce.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Re){return new CVCompElement(Re,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var Ce=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var je=this.finalTransform.mat.toCSS();Ce.transform=je,Ce.webkitTransform=je}this.finalTransform._opMdf&&(Ce.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Re,Ce,je){this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Re;this.data.hasMask?(Re=createNS("rect"),Re.setAttribute("width",this.data.sw),Re.setAttribute("height",this.data.sh),Re.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Re=createTag("div"),Re.style.width=this.data.sw+"px",Re.style.height=this.data.sh+"px",Re.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Re)};function HShapeElement(Re,Ce,je){this.shapes=[],this.shapesData=Re.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Re,Ce,je),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Re;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Re=this.svgElement;else{Re=createNS("svg");var Ce=this.comp.data?this.comp.data:this.globalData.compSize;Re.setAttribute("width",Ce.w),Re.setAttribute("height",Ce.h),Re.appendChild(this.shapesContainer),this.layerElement.appendChild(Re)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Re},HShapeElement.prototype.getTransformedPoint=function(Re,Ce){var je,Be=Re.length;for(je=0;je<Be;je+=1)Ce=Re[je].mProps.v.applyToPointArray(Ce[0],Ce[1],0);return Ce},HShapeElement.prototype.calculateShapeBoundingBox=function(Re,Ce){var je=Re.sh.v,Be=Re.transformers,De,Fe=je._length,ke,Oe,Me,Ue;if(!(Fe<=1)){for(De=0;De<Fe-1;De+=1)ke=this.getTransformedPoint(Be,je.v[De]),Oe=this.getTransformedPoint(Be,je.o[De]),Me=this.getTransformedPoint(Be,je.i[De+1]),Ue=this.getTransformedPoint(Be,je.v[De+1]),this.checkBounds(ke,Oe,Me,Ue,Ce);je.c&&(ke=this.getTransformedPoint(Be,je.v[De]),Oe=this.getTransformedPoint(Be,je.o[De]),Me=this.getTransformedPoint(Be,je.i[0]),Ue=this.getTransformedPoint(Be,je.v[0]),this.checkBounds(ke,Oe,Me,Ue,Ce))}},HShapeElement.prototype.checkBounds=function(Re,Ce,je,Be,De){this.getBoundsOfCurve(Re,Ce,je,Be);var Fe=this.shapeBoundingBox;De.x=bmMin(Fe.left,De.x),De.xMax=bmMax(Fe.right,De.xMax),De.y=bmMin(Fe.top,De.y),De.yMax=bmMax(Fe.bottom,De.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Re,Ce,je,Be){for(var De=[[Re[0],Be[0]],[Re[1],Be[1]]],Fe,ke,Oe,Me,Ue,$e,He,Qe=0;Qe<2;++Qe)ke=6*Re[Qe]-12*Ce[Qe]+6*je[Qe],Fe=-3*Re[Qe]+9*Ce[Qe]-9*je[Qe]+3*Be[Qe],Oe=3*Ce[Qe]-3*Re[Qe],ke|=0,Fe|=0,Oe|=0,Fe===0&&ke===0||(Fe===0?(Me=-Oe/ke,Me>0&&Me<1&&De[Qe].push(this.calculateF(Me,Re,Ce,je,Be,Qe))):(Ue=ke*ke-4*Oe*Fe,Ue>=0&&($e=(-ke+bmSqrt(Ue))/(2*Fe),$e>0&&$e<1&&De[Qe].push(this.calculateF($e,Re,Ce,je,Be,Qe)),He=(-ke-bmSqrt(Ue))/(2*Fe),He>0&&He<1&&De[Qe].push(this.calculateF(He,Re,Ce,je,Be,Qe)))));this.shapeBoundingBox.left=bmMin.apply(null,De[0]),this.shapeBoundingBox.top=bmMin.apply(null,De[1]),this.shapeBoundingBox.right=bmMax.apply(null,De[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,De[1])},HShapeElement.prototype.calculateF=function(Re,Ce,je,Be,De,Fe){return bmPow(1-Re,3)*Ce[Fe]+3*bmPow(1-Re,2)*Re*je[Fe]+3*(1-Re)*bmPow(Re,2)*Be[Fe]+bmPow(Re,3)*De[Fe]},HShapeElement.prototype.calculateBoundingBox=function(Re,Ce){var je,Be=Re.length;for(je=0;je<Be;je+=1)Re[je]&&Re[je].sh?this.calculateShapeBoundingBox(Re[je],Ce):Re[je]&&Re[je].it?this.calculateBoundingBox(Re[je].it,Ce):Re[je]&&Re[je].style&&Re[je].w&&this.expandStrokeBoundingBox(Re[je].w,Ce)},HShapeElement.prototype.expandStrokeBoundingBox=function(Re,Ce){var je=0;if(Re.keyframes){for(var Be=0;Be<Re.keyframes.length;Be+=1){var De=Re.keyframes[Be].s;De>je&&(je=De)}je*=Re.mult}else je=Re.v*Re.mult;Ce.x-=je,Ce.xMax+=je,Ce.y-=je,Ce.yMax+=je},HShapeElement.prototype.currentBoxContains=function(Re){return this.currentBBox.x<=Re.x&&this.currentBBox.y<=Re.y&&this.currentBBox.width+this.currentBBox.x>=Re.x+Re.width&&this.currentBBox.height+this.currentBBox.y>=Re.y+Re.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Re=this.tempBoundingBox,Ce=999999;if(Re.x=Ce,Re.xMax=-Ce,Re.y=Ce,Re.yMax=-Ce,this.calculateBoundingBox(this.itemsData,Re),Re.width=Re.xMax<Re.x?0:Re.xMax-Re.x,Re.height=Re.yMax<Re.y?0:Re.yMax-Re.y,this.currentBoxContains(Re))return;var je=!1;if(this.currentBBox.w!==Re.width&&(this.currentBBox.w=Re.width,this.shapeCont.setAttribute("width",Re.width),je=!0),this.currentBBox.h!==Re.height&&(this.currentBBox.h=Re.height,this.shapeCont.setAttribute("height",Re.height),je=!0),je||this.currentBBox.x!==Re.x||this.currentBBox.y!==Re.y){this.currentBBox.w=Re.width,this.currentBBox.h=Re.height,this.currentBBox.x=Re.x,this.currentBBox.y=Re.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Be=this.shapeCont.style,De="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Be.transform=De,Be.webkitTransform=De}}};function HTextElement(Re,Ce,je){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Re=createNS("g");this.maskedElement.appendChild(Re),this.innerElem=Re}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Re=this.textProperty.currentData;this.renderedLetters=createSizedArray(Re.l?Re.l.length:0);var Ce=this.innerElem.style,je=Re.fc?this.buildColor(Re.fc):"rgba(0,0,0,0)";Ce.fill=je,Ce.color=je,Re.sc&&(Ce.stroke=this.buildColor(Re.sc),Ce.strokeWidth=Re.sw+"px");var Be=this.globalData.fontManager.getFontByName(Re.f);if(!this.globalData.fontManager.chars)if(Ce.fontSize=Re.finalSize+"px",Ce.lineHeight=Re.finalSize+"px",Be.fClass)this.innerElem.className=Be.fClass;else{Ce.fontFamily=Be.fFamily;var De=Re.fWeight,Fe=Re.fStyle;Ce.fontStyle=Fe,Ce.fontWeight=De}var ke,Oe,Me=Re.l;Oe=Me.length;var Ue,$e,He,Qe=this.mHelper,We,qe="",Ke=0;for(ke=0;ke<Oe;ke+=1){if(this.globalData.fontManager.chars?(this.textPaths[Ke]?Ue=this.textPaths[Ke]:(Ue=createNS("path"),Ue.setAttribute("stroke-linecap",lineCapEnum[1]),Ue.setAttribute("stroke-linejoin",lineJoinEnum[2]),Ue.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Ke]?($e=this.textSpans[Ke],He=$e.children[0]):($e=createTag("div"),$e.style.lineHeight=0,He=createNS("svg"),He.appendChild(Ue),styleDiv($e)))):this.isMasked?Ue=this.textPaths[Ke]?this.textPaths[Ke]:createNS("text"):this.textSpans[Ke]?($e=this.textSpans[Ke],Ue=this.textPaths[Ke]):($e=createTag("span"),styleDiv($e),Ue=createTag("span"),styleDiv(Ue),$e.appendChild(Ue)),this.globalData.fontManager.chars){var Xe=this.globalData.fontManager.getCharData(Re.finalText[ke],Be.fStyle,this.globalData.fontManager.getFontByName(Re.f).fFamily),Ye;if(Xe?Ye=Xe.data:Ye=null,Qe.reset(),Ye&&Ye.shapes&&Ye.shapes.length&&(We=Ye.shapes[0].it,Qe.scale(Re.finalSize/100,Re.finalSize/100),qe=this.createPathShape(Qe,We),Ue.setAttribute("d",qe)),this.isMasked)this.innerElem.appendChild(Ue);else{if(this.innerElem.appendChild($e),Ye&&Ye.shapes){document.body.appendChild(He);var Ze=He.getBBox();He.setAttribute("width",Ze.width+2),He.setAttribute("height",Ze.height+2),He.setAttribute("viewBox",Ze.x-1+" "+(Ze.y-1)+" "+(Ze.width+2)+" "+(Ze.height+2));var Je=He.style,tr="translate("+(Ze.x-1)+"px,"+(Ze.y-1)+"px)";Je.transform=tr,Je.webkitTransform=tr,Me[ke].yOffset=Ze.y-1}else He.setAttribute("width",1),He.setAttribute("height",1);$e.appendChild(He)}}else if(Ue.textContent=Me[ke].val,Ue.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(Ue);else{this.innerElem.appendChild($e);var rr=Ue.style,ar="translate3d(0,"+-Re.finalSize/1.2+"px,0)";rr.transform=ar,rr.webkitTransform=ar}this.isMasked?this.textSpans[Ke]=Ue:this.textSpans[Ke]=$e,this.textSpans[Ke].style.display="block",this.textPaths[Ke]=Ue,Ke+=1}for(;Ke<this.textSpans.length;)this.textSpans[Ke].style.display="none",Ke+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Re;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Re=this.svgElement.style;var Ce="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Re.transform=Ce,Re.webkitTransform=Ce}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var je,Be,De=0,Fe=this.textAnimator.renderedLetters,ke=this.textProperty.currentData.l;Be=ke.length;var Oe,Me,Ue;for(je=0;je<Be;je+=1)ke[je].n?De+=1:(Me=this.textSpans[je],Ue=this.textPaths[je],Oe=Fe[De],De+=1,Oe._mdf.m&&(this.isMasked?Me.setAttribute("transform",Oe.m):(Me.style.webkitTransform=Oe.m,Me.style.transform=Oe.m)),Me.style.opacity=Oe.o,Oe.sw&&Oe._mdf.sw&&Ue.setAttribute("stroke-width",Oe.sw),Oe.sc&&Oe._mdf.sc&&Ue.setAttribute("stroke",Oe.sc),Oe.fc&&Oe._mdf.fc&&(Ue.setAttribute("fill",Oe.fc),Ue.style.color=Oe.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var $e=this.innerElem.getBBox();this.currentBBox.w!==$e.width&&(this.currentBBox.w=$e.width,this.svgElement.setAttribute("width",$e.width)),this.currentBBox.h!==$e.height&&(this.currentBBox.h=$e.height,this.svgElement.setAttribute("height",$e.height));var He=1;if(this.currentBBox.w!==$e.width+He*2||this.currentBBox.h!==$e.height+He*2||this.currentBBox.x!==$e.x-He||this.currentBBox.y!==$e.y-He){this.currentBBox.w=$e.width+He*2,this.currentBBox.h=$e.height+He*2,this.currentBBox.x=$e.x-He,this.currentBBox.y=$e.y-He,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Re=this.svgElement.style;var Qe="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Re.transform=Qe,Re.webkitTransform=Qe}}}};function HCameraElement(Re,Ce,je){this.initFrame(),this.initBaseData(Re,Ce,je),this.initHierarchy();var Be=PropertyFactory.getProp;if(this.pe=Be(this,Re.pe,0,0,this),Re.ks.p.s?(this.px=Be(this,Re.ks.p.x,1,0,this),this.py=Be(this,Re.ks.p.y,1,0,this),this.pz=Be(this,Re.ks.p.z,1,0,this)):this.p=Be(this,Re.ks.p,1,0,this),Re.ks.a&&(this.a=Be(this,Re.ks.a,1,0,this)),Re.ks.or.k.length&&Re.ks.or.k[0].to){var De,Fe=Re.ks.or.k.length;for(De=0;De<Fe;De+=1)Re.ks.or.k[De].to=null,Re.ks.or.k[De].ti=null}this.or=Be(this,Re.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Be(this,Re.ks.rx,0,degToRads,this),this.ry=Be(this,Re.ks.ry,0,degToRads,this),this.rz=Be(this,Re.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Re,Ce=this.comp.threeDElements.length,je,Be,De;for(Re=0;Re<Ce;Re+=1)if(je=this.comp.threeDElements[Re],je.type==="3d"){Be=je.perspectiveElem.style,De=je.container.style;var Fe=this.pe.v+"px",ke="0px 0px 0px",Oe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Be.perspective=Fe,Be.webkitPerspective=Fe,De.transformOrigin=ke,De.mozTransformOrigin=ke,De.webkitTransformOrigin=ke,Be.transform=Oe,Be.webkitTransform=Oe}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Re=this._isFirstFrame,Ce,je;if(this.hierarchy)for(je=this.hierarchy.length,Ce=0;Ce<je;Ce+=1)Re=this.hierarchy[Ce].finalTransform.mProp._mdf||Re;if(Re||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(je=this.hierarchy.length-1,Ce=je;Ce>=0;Ce-=1){var Be=this.hierarchy[Ce].finalTransform.mProp;this.mat.translate(-Be.p.v[0],-Be.p.v[1],Be.p.v[2]),this.mat.rotateX(-Be.or.v[0]).rotateY(-Be.or.v[1]).rotateZ(Be.or.v[2]),this.mat.rotateX(-Be.rx.v).rotateY(-Be.ry.v).rotateZ(Be.rz.v),this.mat.scale(1/Be.s.v[0],1/Be.s.v[1],1/Be.s.v[2]),this.mat.translate(Be.a.v[0],Be.a.v[1],Be.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var De;this.p?De=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:De=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var Fe=Math.sqrt(Math.pow(De[0],2)+Math.pow(De[1],2)+Math.pow(De[2],2)),ke=[De[0]/Fe,De[1]/Fe,De[2]/Fe],Oe=Math.sqrt(ke[2]*ke[2]+ke[0]*ke[0]),Me=Math.atan2(ke[1],Oe),Ue=Math.atan2(ke[0],-ke[2]);this.mat.rotateY(Ue).rotateX(-Me)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var $e=!this._prevMat.equals(this.mat);if(($e||this.pe._mdf)&&this.comp.threeDElements){je=this.comp.threeDElements.length;var He,Qe,We;for(Ce=0;Ce<je;Ce+=1)if(He=this.comp.threeDElements[Ce],He.type==="3d"){if($e){var qe=this.mat.toCSS();We=He.container.style,We.transform=qe,We.webkitTransform=qe}this.pe._mdf&&(Qe=He.perspectiveElem.style,Qe.perspective=this.pe.v+"px",Qe.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Re){this.prepareProperties(Re,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Re,Ce,je){this.assetData=Ce.getAssetData(Re.refId),this.initElement(Re,Ce,je)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Re=this.globalData.getAssetsPath(this.assetData),Ce=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Re),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(Ce),Ce.crossOrigin="anonymous",Ce.src=Re,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Re,Ce){this.animationItem=Re,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Ce&&Ce.className||"",imagePreserveAspectRatio:Ce&&Ce.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Ce&&Ce.hideOnTransparent===!1),filterSize:{width:Ce&&Ce.filterSize&&Ce.filterSize.width||"400%",height:Ce&&Ce.filterSize&&Ce.filterSize.height||"400%",x:Ce&&Ce.filterSize&&Ce.filterSize.x||"-100%",y:Ce&&Ce.filterSize&&Ce.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Re=this.pendingElements.pop();Re.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Re,Ce){var je=Re.getBaseElement();if(je){var Be=this.layers[Ce];if(!Be.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(je,Ce);else{for(var De=0,Fe,ke,Oe;De<Ce;)this.elements[De]&&this.elements[De]!==!0&&this.elements[De].getBaseElement&&(ke=this.elements[De],Oe=this.layers[De].ddd?this.getThreeDContainerByPos(De):ke.getBaseElement(),Fe=Oe||Fe),De+=1;Fe?(!Be.ddd||!this.supports3d)&&this.layerElement.insertBefore(je,Fe):(!Be.ddd||!this.supports3d)&&this.layerElement.appendChild(je)}else this.addTo3dContainer(je,Ce)}},HybridRendererBase.prototype.createShape=function(Re){return this.supports3d?new HShapeElement(Re,this.globalData,this):new SVGShapeElement(Re,this.globalData,this)},HybridRendererBase.prototype.createText=function(Re){return this.supports3d?new HTextElement(Re,this.globalData,this):new SVGTextLottieElement(Re,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Re){return this.camera=new HCameraElement(Re,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Re){return this.supports3d?new HImageElement(Re,this.globalData,this):new IImageElement(Re,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Re){return this.supports3d?new HSolidElement(Re,this.globalData,this):new ISolidElement(Re,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Re){for(var Ce=0,je=this.threeDElements.length;Ce<je;){if(this.threeDElements[Ce].startPos<=Re&&this.threeDElements[Ce].endPos>=Re)return this.threeDElements[Ce].perspectiveElem;Ce+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Re,Ce){var je=createTag("div"),Be,De;styleDiv(je);var Fe=createTag("div");if(styleDiv(Fe),Ce==="3d"){Be=je.style,Be.width=this.globalData.compSize.w+"px",Be.height=this.globalData.compSize.h+"px";var ke="50% 50%";Be.webkitTransformOrigin=ke,Be.mozTransformOrigin=ke,Be.transformOrigin=ke,De=Fe.style;var Oe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";De.transform=Oe,De.webkitTransform=Oe}je.appendChild(Fe);var Me={container:Fe,perspectiveElem:je,startPos:Re,endPos:Re,type:Ce};return this.threeDElements.push(Me),Me},HybridRendererBase.prototype.build3dContainers=function(){var Re,Ce=this.layers.length,je,Be="";for(Re=0;Re<Ce;Re+=1)this.layers[Re].ddd&&this.layers[Re].ty!==3?(Be!=="3d"&&(Be="3d",je=this.createThreeDContainer(Re,"3d")),je.endPos=Math.max(je.endPos,Re)):(Be!=="2d"&&(Be="2d",je=this.createThreeDContainer(Re,"2d")),je.endPos=Math.max(je.endPos,Re));for(Ce=this.threeDElements.length,Re=Ce-1;Re>=0;Re-=1)this.resizerElem.appendChild(this.threeDElements[Re].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Re,Ce){for(var je=0,Be=this.threeDElements.length;je<Be;){if(Ce<=this.threeDElements[je].endPos){for(var De=this.threeDElements[je].startPos,Fe;De<Ce;)this.elements[De]&&this.elements[De].getBaseElement&&(Fe=this.elements[De].getBaseElement()),De+=1;Fe?this.threeDElements[je].container.insertBefore(Re,Fe):this.threeDElements[je].container.appendChild(Re);break}je+=1}},HybridRendererBase.prototype.configAnimation=function(Re){var Ce=createTag("div"),je=this.animationItem.wrapper,Be=Ce.style;Be.width=Re.w+"px",Be.height=Re.h+"px",this.resizerElem=Ce,styleDiv(Ce),Be.transformStyle="flat",Be.mozTransformStyle="flat",Be.webkitTransformStyle="flat",this.renderConfig.className&&Ce.setAttribute("class",this.renderConfig.className),je.appendChild(Ce),Be.overflow="hidden";var De=createNS("svg");De.setAttribute("width","1"),De.setAttribute("height","1"),styleDiv(De),this.resizerElem.appendChild(De);var Fe=createNS("defs");De.appendChild(Fe),this.data=Re,this.setupGlobalData(Re,De),this.globalData.defs=Fe,this.layers=Re.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Re,Ce=this.layers?this.layers.length:0;for(Re=0;Re<Ce;Re+=1)this.elements[Re]&&this.elements[Re].destroy&&this.elements[Re].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Re=this.animationItem.wrapper.offsetWidth,Ce=this.animationItem.wrapper.offsetHeight,je=Re/Ce,Be=this.globalData.compSize.w/this.globalData.compSize.h,De,Fe,ke,Oe;Be>je?(De=Re/this.globalData.compSize.w,Fe=Re/this.globalData.compSize.w,ke=0,Oe=(Ce-this.globalData.compSize.h*(Re/this.globalData.compSize.w))/2):(De=Ce/this.globalData.compSize.h,Fe=Ce/this.globalData.compSize.h,ke=(Re-this.globalData.compSize.w*(Ce/this.globalData.compSize.h))/2,Oe=0);var Me=this.resizerElem.style;Me.webkitTransform="matrix3d("+De+",0,0,0,0,"+Fe+",0,0,0,0,1,0,"+ke+","+Oe+",0,1)",Me.transform=Me.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Re=this.globalData.compSize.w,Ce=this.globalData.compSize.h,je,Be=this.threeDElements.length;for(je=0;je<Be;je+=1){var De=this.threeDElements[je].perspectiveElem.style;De.webkitPerspective=Math.sqrt(Math.pow(Re,2)+Math.pow(Ce,2))+"px",De.perspective=De.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Re){var Ce,je=Re.length,Be=createTag("div");for(Ce=0;Ce<je;Ce+=1)if(Re[Ce].xt){var De=this.createComp(Re[Ce],Be,this.globalData.comp,null);De.initExpressions(),this.globalData.projectInterface.registerComposition(De)}};function HCompElement(Re,Ce,je){this.layers=Re.layers,this.supports3d=!Re.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Re,Ce,je),this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,Ce.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Re,Ce){for(var je=0,Be;je<Ce;)this.elements[je]&&this.elements[je].getBaseElement&&(Be=this.elements[je].getBaseElement()),je+=1;Be?this.layerElement.insertBefore(Re,Be):this.layerElement.appendChild(Re)},HCompElement.prototype.createComp=function(Re){return this.supports3d?new HCompElement(Re,this.globalData,this):new SVGCompElement(Re,this.globalData,this)};function HybridRenderer(Re,Ce){this.animationItem=Re,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:Ce&&Ce.className||"",imagePreserveAspectRatio:Ce&&Ce.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(Ce&&Ce.hideOnTransparent===!1),filterSize:{width:Ce&&Ce.filterSize&&Ce.filterSize.width||"400%",height:Ce&&Ce.filterSize&&Ce.filterSize.height||"400%",x:Ce&&Ce.filterSize&&Ce.filterSize.x||"-100%",y:Ce&&Ce.filterSize&&Ce.filterSize.y||"-100%"},runExpressions:!Ce||Ce.runExpressions===void 0||Ce.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Re){return this.supports3d?new HCompElement(Re,this.globalData,this):new SVGCompElement(Re,this.globalData,this)};var CompExpressionInterface=(function(){return function(Re){function Ce(je){for(var Be=0,De=Re.layers.length;Be<De;){if(Re.layers[Be].nm===je||Re.layers[Be].ind===je)return Re.elements[Be].layerInterface;Be+=1}return null}return Object.defineProperty(Ce,"_name",{value:Re.data.nm}),Ce.layer=Ce,Ce.pixelAspect=1,Ce.height=Re.data.h||Re.globalData.compSize.h,Ce.width=Re.data.w||Re.globalData.compSize.w,Ce.pixelAspect=1,Ce.frameDuration=1/Re.globalData.frameRate,Ce.displayStartTime=0,Ce.numLayers=Re.layers.length,Ce}})();function _typeof$2(Re){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof$2(Re)}function seedRandom(Re,Ce){var je=this,Be=256,De=6,Fe=52,ke="random",Oe=Ce.pow(Be,De),Me=Ce.pow(2,Fe),Ue=Me*2,$e=Be-1,He;function Qe(Je,tr,rr){var ar=[];tr=tr===!0?{entropy:!0}:tr||{};var ir=Xe(Ke(tr.entropy?[Je,Ze(Re)]:Je===null?Ye():Je,3),ar),nr=new We(ar),cr=function(){for(var fr=nr.g(De),or=Oe,yr=0;fr<Me;)fr=(fr+yr)*Be,or*=Be,yr=nr.g(1);for(;fr>=Ue;)fr/=2,or/=2,yr>>>=1;return(fr+yr)/or};return cr.int32=function(){return nr.g(4)|0},cr.quick=function(){return nr.g(4)/4294967296},cr.double=cr,Xe(Ze(nr.S),Re),(tr.pass||rr||function(mr,fr,or,yr){return yr&&(yr.S&&qe(yr,nr),mr.state=function(){return qe(nr,{})}),or?(Ce[ke]=mr,fr):mr})(cr,ir,"global"in tr?tr.global:this==Ce,tr.state)}Ce["seed"+ke]=Qe;function We(Je){var tr,rr=Je.length,ar=this,ir=0,nr=ar.i=ar.j=0,cr=ar.S=[];for(rr||(Je=[rr++]);ir<Be;)cr[ir]=ir++;for(ir=0;ir<Be;ir++)cr[ir]=cr[nr=$e&nr+Je[ir%rr]+(tr=cr[ir])],cr[nr]=tr;ar.g=function(mr){for(var fr,or=0,yr=ar.i,Cr=ar.j,jr=ar.S;mr--;)fr=jr[yr=$e&yr+1],or=or*Be+jr[$e&(jr[yr]=jr[Cr=$e&Cr+fr])+(jr[Cr]=fr)];return ar.i=yr,ar.j=Cr,or}}function qe(Je,tr){return tr.i=Je.i,tr.j=Je.j,tr.S=Je.S.slice(),tr}function Ke(Je,tr){var rr=[],ar=_typeof$2(Je),ir;if(tr&&ar=="object")for(ir in Je)try{rr.push(Ke(Je[ir],tr-1))}catch{}return rr.length?rr:ar=="string"?Je:Je+"\0"}function Xe(Je,tr){for(var rr=Je+"",ar,ir=0;ir<rr.length;)tr[$e&ir]=$e&(ar^=tr[$e&ir]*19)+rr.charCodeAt(ir++);return Ze(tr)}function Ye(){try{var Je=new Uint8Array(Be);return(je.crypto||je.msCrypto).getRandomValues(Je),Ze(Je)}catch{var tr=je.navigator,rr=tr&&tr.plugins;return[+new Date,je,rr,je.screen,Ze(Re)]}}function Ze(Je){return String.fromCharCode.apply(0,Je)}Xe(Ce.random(),Re)}function initialize$2(Re){seedRandom([],Re)}var propTypes={SHAPE:"shape"};function _typeof$1(Re){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof$1(Re)}var ExpressionManager=(function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Re){return Re.constructor===Array||Re.constructor===Float32Array}function isNumerable(Re,Ce){return Re==="number"||Ce instanceof Number||Re==="boolean"||Re==="string"}function $bm_neg(Re){var Ce=_typeof$1(Re);if(Ce==="number"||Re instanceof Number||Ce==="boolean")return-Re;if($bm_isInstanceOfArray(Re)){var je,Be=Re.length,De=[];for(je=0;je<Be;je+=1)De[je]=-Re[je];return De}return Re.propType?Re.v:-Re}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Re,Ce){var je=_typeof$1(Re),Be=_typeof$1(Ce);if(isNumerable(je,Re)&&isNumerable(Be,Ce)||je==="string"||Be==="string")return Re+Ce;if($bm_isInstanceOfArray(Re)&&isNumerable(Be,Ce))return Re=Re.slice(0),Re[0]+=Ce,Re;if(isNumerable(je,Re)&&$bm_isInstanceOfArray(Ce))return Ce=Ce.slice(0),Ce[0]=Re+Ce[0],Ce;if($bm_isInstanceOfArray(Re)&&$bm_isInstanceOfArray(Ce)){for(var De=0,Fe=Re.length,ke=Ce.length,Oe=[];De<Fe||De<ke;)(typeof Re[De]=="number"||Re[De]instanceof Number)&&(typeof Ce[De]=="number"||Ce[De]instanceof Number)?Oe[De]=Re[De]+Ce[De]:Oe[De]=Ce[De]===void 0?Re[De]:Re[De]||Ce[De],De+=1;return Oe}return 0}var add=sum;function sub(Re,Ce){var je=_typeof$1(Re),Be=_typeof$1(Ce);if(isNumerable(je,Re)&&isNumerable(Be,Ce))return je==="string"&&(Re=parseInt(Re,10)),Be==="string"&&(Ce=parseInt(Ce,10)),Re-Ce;if($bm_isInstanceOfArray(Re)&&isNumerable(Be,Ce))return Re=Re.slice(0),Re[0]-=Ce,Re;if(isNumerable(je,Re)&&$bm_isInstanceOfArray(Ce))return Ce=Ce.slice(0),Ce[0]=Re-Ce[0],Ce;if($bm_isInstanceOfArray(Re)&&$bm_isInstanceOfArray(Ce)){for(var De=0,Fe=Re.length,ke=Ce.length,Oe=[];De<Fe||De<ke;)(typeof Re[De]=="number"||Re[De]instanceof Number)&&(typeof Ce[De]=="number"||Ce[De]instanceof Number)?Oe[De]=Re[De]-Ce[De]:Oe[De]=Ce[De]===void 0?Re[De]:Re[De]||Ce[De],De+=1;return Oe}return 0}function mul(Re,Ce){var je=_typeof$1(Re),Be=_typeof$1(Ce),De;if(isNumerable(je,Re)&&isNumerable(Be,Ce))return Re*Ce;var Fe,ke;if($bm_isInstanceOfArray(Re)&&isNumerable(Be,Ce)){for(ke=Re.length,De=createTypedArray("float32",ke),Fe=0;Fe<ke;Fe+=1)De[Fe]=Re[Fe]*Ce;return De}if(isNumerable(je,Re)&&$bm_isInstanceOfArray(Ce)){for(ke=Ce.length,De=createTypedArray("float32",ke),Fe=0;Fe<ke;Fe+=1)De[Fe]=Re*Ce[Fe];return De}return 0}function div(Re,Ce){var je=_typeof$1(Re),Be=_typeof$1(Ce),De;if(isNumerable(je,Re)&&isNumerable(Be,Ce))return Re/Ce;var Fe,ke;if($bm_isInstanceOfArray(Re)&&isNumerable(Be,Ce)){for(ke=Re.length,De=createTypedArray("float32",ke),Fe=0;Fe<ke;Fe+=1)De[Fe]=Re[Fe]/Ce;return De}if(isNumerable(je,Re)&&$bm_isInstanceOfArray(Ce)){for(ke=Ce.length,De=createTypedArray("float32",ke),Fe=0;Fe<ke;Fe+=1)De[Fe]=Re/Ce[Fe];return De}return 0}function mod(Re,Ce){return typeof Re=="string"&&(Re=parseInt(Re,10)),typeof Ce=="string"&&(Ce=parseInt(Ce,10)),Re%Ce}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Re,Ce,je){if(Ce>je){var Be=je;je=Ce,Ce=Be}return Math.min(Math.max(Re,Ce),je)}function radiansToDegrees(Re){return Re/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Re){return Re*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Re,Ce){if(typeof Re=="number"||Re instanceof Number)return Ce=Ce||0,Math.abs(Re-Ce);Ce||(Ce=helperLengthArray);var je,Be=Math.min(Re.length,Ce.length),De=0;for(je=0;je<Be;je+=1)De+=Math.pow(Ce[je]-Re[je],2);return Math.sqrt(De)}function normalize(Re){return div(Re,length(Re))}function rgbToHsl(Re){var Ce=Re[0],je=Re[1],Be=Re[2],De=Math.max(Ce,je,Be),Fe=Math.min(Ce,je,Be),ke,Oe,Me=(De+Fe)/2;if(De===Fe)ke=0,Oe=0;else{var Ue=De-Fe;switch(Oe=Me>.5?Ue/(2-De-Fe):Ue/(De+Fe),De){case Ce:ke=(je-Be)/Ue+(je<Be?6:0);break;case je:ke=(Be-Ce)/Ue+2;break;case Be:ke=(Ce-je)/Ue+4;break}ke/=6}return[ke,Oe,Me,Re[3]]}function hue2rgb(Re,Ce,je){return je<0&&(je+=1),je>1&&(je-=1),je<1/6?Re+(Ce-Re)*6*je:je<1/2?Ce:je<2/3?Re+(Ce-Re)*(2/3-je)*6:Re}function hslToRgb(Re){var Ce=Re[0],je=Re[1],Be=Re[2],De,Fe,ke;if(je===0)De=Be,ke=Be,Fe=Be;else{var Oe=Be<.5?Be*(1+je):Be+je-Be*je,Me=2*Be-Oe;De=hue2rgb(Me,Oe,Ce+1/3),Fe=hue2rgb(Me,Oe,Ce),ke=hue2rgb(Me,Oe,Ce-1/3)}return[De,Fe,ke,Re[3]]}function linear(Re,Ce,je,Be,De){if((Be===void 0||De===void 0)&&(Be=Ce,De=je,Ce=0,je=1),je<Ce){var Fe=je;je=Ce,Ce=Fe}if(Re<=Ce)return Be;if(Re>=je)return De;var ke=je===Ce?0:(Re-Ce)/(je-Ce);if(!Be.length)return Be+(De-Be)*ke;var Oe,Me=Be.length,Ue=createTypedArray("float32",Me);for(Oe=0;Oe<Me;Oe+=1)Ue[Oe]=Be[Oe]+(De[Oe]-Be[Oe])*ke;return Ue}function random(Re,Ce){if(Ce===void 0&&(Re===void 0?(Re=0,Ce=1):(Ce=Re,Re=void 0)),Ce.length){var je,Be=Ce.length;Re||(Re=createTypedArray("float32",Be));var De=createTypedArray("float32",Be),Fe=BMMath.random();for(je=0;je<Be;je+=1)De[je]=Re[je]+Fe*(Ce[je]-Re[je]);return De}Re===void 0&&(Re=0);var ke=BMMath.random();return Re+ke*(Ce-Re)}function createPath(Re,Ce,je,Be){var De,Fe=Re.length,ke=shapePool.newElement();ke.setPathData(!!Be,Fe);var Oe=[0,0],Me,Ue;for(De=0;De<Fe;De+=1)Me=Ce&&Ce[De]?Ce[De]:Oe,Ue=je&&je[De]?je[De]:Oe,ke.setTripleAt(Re[De][0],Re[De][1],Ue[0]+Re[De][0],Ue[1]+Re[De][1],Me[0]+Re[De][0],Me[1]+Re[De][1],De,!0);return ke}function initiateExpression(elem,data,property){function noOp(Re){return Re}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function Re(Ce,je){var Be,De,Fe=this.pv.length?this.pv.length:1,ke=createTypedArray("float32",Fe);Ce=5;var Oe=Math.floor(time*Ce);for(Be=0,De=0;Be<Oe;){for(De=0;De<Fe;De+=1)ke[De]+=-je+je*2*BMMath.random();Be+=1}var Me=time*Ce,Ue=Me-Math.floor(Me),$e=createTypedArray("float32",Fe);if(Fe>1){for(De=0;De<Fe;De+=1)$e[De]=this.pv[De]+ke[De]+(-je+je*2*BMMath.random())*Ue;return $e}return this.pv+ke[0]+(-je+je*2*BMMath.random())*Ue}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Re,Ce){return loopIn(Re,Ce,!0)}function loopOutDuration(Re,Ce){return loopOut(Re,Ce,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Re,Ce){var je=[Ce[0]-Re[0],Ce[1]-Re[1],Ce[2]-Re[2]],Be=Math.atan2(je[0],Math.sqrt(je[1]*je[1]+je[2]*je[2]))/degToRads,De=-Math.atan2(je[1],je[2])/degToRads;return[De,Be,0]}function easeOut(Re,Ce,je,Be,De){return applyEase(easeOutBez,Re,Ce,je,Be,De)}function easeIn(Re,Ce,je,Be,De){return applyEase(easeInBez,Re,Ce,je,Be,De)}function ease(Re,Ce,je,Be,De){return applyEase(easeInOutBez,Re,Ce,je,Be,De)}function applyEase(Re,Ce,je,Be,De,Fe){De===void 0?(De=je,Fe=Be):Ce=(Ce-je)/(Be-je),Ce>1?Ce=1:Ce<0&&(Ce=0);var ke=Re(Ce);if($bm_isInstanceOfArray(De)){var Oe,Me=De.length,Ue=createTypedArray("float32",Me);for(Oe=0;Oe<Me;Oe+=1)Ue[Oe]=(Fe[Oe]-De[Oe])*ke+De[Oe];return Ue}return(Fe-De)*ke+De}function nearestKey(Re){var Ce,je=data.k.length,Be,De;if(!data.k.length||typeof data.k[0]=="number")Be=0,De=0;else if(Be=-1,Re*=elem.comp.globalData.frameRate,Re<data.k[0].t)Be=1,De=data.k[0].t;else{for(Ce=0;Ce<je-1;Ce+=1)if(Re===data.k[Ce].t){Be=Ce+1,De=data.k[Ce].t;break}else if(Re>data.k[Ce].t&&Re<data.k[Ce+1].t){Re-data.k[Ce].t>data.k[Ce+1].t-Re?(Be=Ce+2,De=data.k[Ce+1].t):(Be=Ce+1,De=data.k[Ce].t);break}Be===-1&&(Be=Ce+1,De=data.k[Ce].t)}var Fe={};return Fe.index=Be,Fe.time=De/elem.comp.globalData.frameRate,Fe}function key(Re){var Ce,je,Be;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Re);Re-=1,Ce={time:data.k[Re].t/elem.comp.globalData.frameRate,value:[]};var De=Object.prototype.hasOwnProperty.call(data.k[Re],"s")?data.k[Re].s:data.k[Re-1].e;for(Be=De.length,je=0;je<Be;je+=1)Ce[je]=De[je],Ce.value[je]=De[je];return Ce}function framesToTime(Re,Ce){return Ce||(Ce=elem.comp.globalData.frameRate),Re/Ce}function timeToFrames(Re,Ce){return!Re&&Re!==0&&(Re=time),Ce||(Ce=elem.comp.globalData.frameRate),Re*Ce}function seedRandom(Re){BMMath.seedrandom(randSeed+Re)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Re,Ce){return typeof value=="string"?Ce===void 0?value.substring(Re):value.substring(Re,Ce):""}function substr(Re,Ce){return typeof value=="string"?Ce===void 0?value.substr(Re):value.substr(Re,Ce):""}function posterizeTime(Re){time=Re===0?0:Math.floor(time*Re)/Re,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Re){return value=Re,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob})(),Expressions=(function(){var Re={};Re.initExpressions=Ce,Re.resetFrame=ExpressionManager.resetFrame;function Ce(je){var Be=0,De=[];function Fe(){Be+=1}function ke(){Be-=1,Be===0&&Me()}function Oe(Ue){De.indexOf(Ue)===-1&&De.push(Ue)}function Me(){var Ue,$e=De.length;for(Ue=0;Ue<$e;Ue+=1)De[Ue].release();De.length=0}je.renderer.compInterface=CompExpressionInterface(je.renderer),je.renderer.globalData.projectInterface.registerComposition(je.renderer),je.renderer.globalData.pushExpression=Fe,je.renderer.globalData.popExpression=ke,je.renderer.globalData.registerExpressionProperty=Oe}return Re})(),MaskManagerInterface=(function(){function Re(je,Be){this._mask=je,this._data=Be}Object.defineProperty(Re.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Re.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var Ce=function(Be){var De=createSizedArray(Be.viewData.length),Fe,ke=Be.viewData.length;for(Fe=0;Fe<ke;Fe+=1)De[Fe]=new Re(Be.viewData[Fe],Be.masksProperties[Fe]);var Oe=function(Ue){for(Fe=0;Fe<ke;){if(Be.masksProperties[Fe].nm===Ue)return De[Fe];Fe+=1}return null};return Oe};return Ce})(),ExpressionPropertyInterface=(function(){var Re={pv:0,v:0,mult:1},Ce={pv:[0,0,0],v:[0,0,0],mult:1};function je(ke,Oe,Me){Object.defineProperty(ke,"velocity",{get:function(){return Oe.getVelocityAtTime(Oe.comp.currentFrame)}}),ke.numKeys=Oe.keyframes?Oe.keyframes.length:0,ke.key=function(Ue){if(!ke.numKeys)return 0;var $e="";"s"in Oe.keyframes[Ue-1]?$e=Oe.keyframes[Ue-1].s:"e"in Oe.keyframes[Ue-2]?$e=Oe.keyframes[Ue-2].e:$e=Oe.keyframes[Ue-2].s;var He=Me==="unidimensional"?new Number($e):Object.assign({},$e);return He.time=Oe.keyframes[Ue-1].t/Oe.elem.comp.globalData.frameRate,He.value=Me==="unidimensional"?$e[0]:$e,He},ke.valueAtTime=Oe.getValueAtTime,ke.speedAtTime=Oe.getSpeedAtTime,ke.velocityAtTime=Oe.getVelocityAtTime,ke.propertyGroup=Oe.propertyGroup}function Be(ke){(!ke||!("pv"in ke))&&(ke=Re);var Oe=1/ke.mult,Me=ke.pv*Oe,Ue=new Number(Me);return Ue.value=Me,je(Ue,ke,"unidimensional"),function(){return ke.k&&ke.getValue(),Me=ke.v*Oe,Ue.value!==Me&&(Ue=new Number(Me),Ue.value=Me,Ue[0]=Me,je(Ue,ke,"unidimensional")),Ue}}function De(ke){(!ke||!("pv"in ke))&&(ke=Ce);var Oe=1/ke.mult,Me=ke.data&&ke.data.l||ke.pv.length,Ue=createTypedArray("float32",Me),$e=createTypedArray("float32",Me);return Ue.value=$e,je(Ue,ke,"multidimensional"),function(){ke.k&&ke.getValue();for(var He=0;He<Me;He+=1)$e[He]=ke.v[He]*Oe,Ue[He]=$e[He];return Ue}}function Fe(){return Re}return function(ke){return ke?ke.propType==="unidimensional"?Be(ke):De(ke):Fe}})(),TransformExpressionInterface=(function(){return function(Re){function Ce(ke){switch(ke){case"scale":case"Scale":case"ADBE Scale":case 6:return Ce.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return Ce.rotation;case"ADBE Rotate X":return Ce.xRotation;case"ADBE Rotate Y":return Ce.yRotation;case"position":case"Position":case"ADBE Position":case 2:return Ce.position;case"ADBE Position_0":return Ce.xPosition;case"ADBE Position_1":return Ce.yPosition;case"ADBE Position_2":return Ce.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return Ce.anchorPoint;case"opacity":case"Opacity":case 11:return Ce.opacity;default:return null}}Object.defineProperty(Ce,"rotation",{get:ExpressionPropertyInterface(Re.r||Re.rz)}),Object.defineProperty(Ce,"zRotation",{get:ExpressionPropertyInterface(Re.rz||Re.r)}),Object.defineProperty(Ce,"xRotation",{get:ExpressionPropertyInterface(Re.rx)}),Object.defineProperty(Ce,"yRotation",{get:ExpressionPropertyInterface(Re.ry)}),Object.defineProperty(Ce,"scale",{get:ExpressionPropertyInterface(Re.s)});var je,Be,De,Fe;return Re.p?Fe=ExpressionPropertyInterface(Re.p):(je=ExpressionPropertyInterface(Re.px),Be=ExpressionPropertyInterface(Re.py),Re.pz&&(De=ExpressionPropertyInterface(Re.pz))),Object.defineProperty(Ce,"position",{get:function(){return Re.p?Fe():[je(),Be(),De?De():0]}}),Object.defineProperty(Ce,"xPosition",{get:ExpressionPropertyInterface(Re.px)}),Object.defineProperty(Ce,"yPosition",{get:ExpressionPropertyInterface(Re.py)}),Object.defineProperty(Ce,"zPosition",{get:ExpressionPropertyInterface(Re.pz)}),Object.defineProperty(Ce,"anchorPoint",{get:ExpressionPropertyInterface(Re.a)}),Object.defineProperty(Ce,"opacity",{get:ExpressionPropertyInterface(Re.o)}),Object.defineProperty(Ce,"skew",{get:ExpressionPropertyInterface(Re.sk)}),Object.defineProperty(Ce,"skewAxis",{get:ExpressionPropertyInterface(Re.sa)}),Object.defineProperty(Ce,"orientation",{get:ExpressionPropertyInterface(Re.or)}),Ce}})(),LayerExpressionInterface=(function(){function Re(Ue){var $e=new Matrix;if(Ue!==void 0){var He=this._elem.finalTransform.mProp.getValueAtTime(Ue);He.clone($e)}else{var Qe=this._elem.finalTransform.mProp;Qe.applyToMatrix($e)}return $e}function Ce(Ue,$e){var He=this.getMatrix($e);return He.props[12]=0,He.props[13]=0,He.props[14]=0,this.applyPoint(He,Ue)}function je(Ue,$e){var He=this.getMatrix($e);return this.applyPoint(He,Ue)}function Be(Ue,$e){var He=this.getMatrix($e);return He.props[12]=0,He.props[13]=0,He.props[14]=0,this.invertPoint(He,Ue)}function De(Ue,$e){var He=this.getMatrix($e);return this.invertPoint(He,Ue)}function Fe(Ue,$e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var He,Qe=this._elem.hierarchy.length;for(He=0;He<Qe;He+=1)this._elem.hierarchy[He].finalTransform.mProp.applyToMatrix(Ue)}return Ue.applyToPointArray($e[0],$e[1],$e[2]||0)}function ke(Ue,$e){if(this._elem.hierarchy&&this._elem.hierarchy.length){var He,Qe=this._elem.hierarchy.length;for(He=0;He<Qe;He+=1)this._elem.hierarchy[He].finalTransform.mProp.applyToMatrix(Ue)}return Ue.inversePoint($e)}function Oe(Ue){var $e=new Matrix;if($e.reset(),this._elem.finalTransform.mProp.applyToMatrix($e),this._elem.hierarchy&&this._elem.hierarchy.length){var He,Qe=this._elem.hierarchy.length;for(He=0;He<Qe;He+=1)this._elem.hierarchy[He].finalTransform.mProp.applyToMatrix($e);return $e.inversePoint(Ue)}return $e.inversePoint(Ue)}function Me(){return[1,1,1,1]}return function(Ue){var $e;function He(Ke){We.mask=new MaskManagerInterface(Ke,Ue)}function Qe(Ke){We.effect=Ke}function We(Ke){switch(Ke){case"ADBE Root Vectors Group":case"Contents":case 2:return We.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return $e;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return We.effect;case"ADBE Text Properties":return We.textInterface;default:return null}}We.getMatrix=Re,We.invertPoint=ke,We.applyPoint=Fe,We.toWorld=je,We.toWorldVec=Ce,We.fromWorld=De,We.fromWorldVec=Be,We.toComp=je,We.fromComp=Oe,We.sampleImage=Me,We.sourceRectAtTime=Ue.sourceRectAtTime.bind(Ue),We._elem=Ue,$e=TransformExpressionInterface(Ue.finalTransform.mProp);var qe=getDescriptor($e,"anchorPoint");return Object.defineProperties(We,{hasParent:{get:function(){return Ue.hierarchy.length}},parent:{get:function(){return Ue.hierarchy[0].layerInterface}},rotation:getDescriptor($e,"rotation"),scale:getDescriptor($e,"scale"),position:getDescriptor($e,"position"),opacity:getDescriptor($e,"opacity"),anchorPoint:qe,anchor_point:qe,transform:{get:function(){return $e}},active:{get:function(){return Ue.isInRange}}}),We.startTime=Ue.data.st,We.index=Ue.data.ind,We.source=Ue.data.refId,We.height=Ue.data.ty===0?Ue.data.h:100,We.width=Ue.data.ty===0?Ue.data.w:100,We.inPoint=Ue.data.ip/Ue.comp.globalData.frameRate,We.outPoint=Ue.data.op/Ue.comp.globalData.frameRate,We._name=Ue.data.nm,We.registerMaskInterface=He,We.registerEffectsInterface=Qe,We}})(),propertyGroupFactory=(function(){return function(Re,Ce){return function(je){return je=je===void 0?1:je,je<=0?Re:Ce(je-1)}}})(),PropertyInterface=(function(){return function(Re,Ce){var je={_name:Re};function Be(De){return De=De===void 0?1:De,De<=0?je:Ce(De-1)}return Be}})(),EffectsExpressionInterface=(function(){var Re={createEffectsInterface:Ce};function Ce(De,Fe){if(De.effectsManager){var ke=[],Oe=De.data.ef,Me,Ue=De.effectsManager.effectElements.length;for(Me=0;Me<Ue;Me+=1)ke.push(je(Oe[Me],De.effectsManager.effectElements[Me],Fe,De));var $e=De.data.ef||[],He=function(We){for(Me=0,Ue=$e.length;Me<Ue;){if(We===$e[Me].nm||We===$e[Me].mn||We===$e[Me].ix)return ke[Me];Me+=1}return null};return Object.defineProperty(He,"numProperties",{get:function(){return $e.length}}),He}return null}function je(De,Fe,ke,Oe){function Me(We){for(var qe=De.ef,Ke=0,Xe=qe.length;Ke<Xe;){if(We===qe[Ke].nm||We===qe[Ke].mn||We===qe[Ke].ix)return qe[Ke].ty===5?$e[Ke]:$e[Ke]();Ke+=1}throw new Error}var Ue=propertyGroupFactory(Me,ke),$e=[],He,Qe=De.ef.length;for(He=0;He<Qe;He+=1)De.ef[He].ty===5?$e.push(je(De.ef[He],Fe.effectElements[He],Fe.effectElements[He].propertyGroup,Oe)):$e.push(Be(Fe.effectElements[He],De.ef[He].ty,Oe,Ue));return De.mn==="ADBE Color Control"&&Object.defineProperty(Me,"color",{get:function(){return $e[0]()}}),Object.defineProperties(Me,{numProperties:{get:function(){return De.np}},_name:{value:De.nm},propertyGroup:{value:Ue}}),Me.enabled=De.en!==0,Me.active=Me.enabled,Me}function Be(De,Fe,ke,Oe){var Me=ExpressionPropertyInterface(De.p);function Ue(){return Fe===10?ke.comp.compInterface(De.p.v):Me()}return De.p.setGroupProperty&&De.p.setGroupProperty(PropertyInterface("",Oe)),Ue}return Re})(),ShapePathInterface=(function(){return function(Ce,je,Be){var De=je.sh;function Fe(Oe){return Oe==="Shape"||Oe==="shape"||Oe==="Path"||Oe==="path"||Oe==="ADBE Vector Shape"||Oe===2?Fe.path:null}var ke=propertyGroupFactory(Fe,Be);return De.setGroupProperty(PropertyInterface("Path",ke)),Object.defineProperties(Fe,{path:{get:function(){return De.k&&De.getValue(),De}},shape:{get:function(){return De.k&&De.getValue(),De}},_name:{value:Ce.nm},ix:{value:Ce.ix},propertyIndex:{value:Ce.ix},mn:{value:Ce.mn},propertyGroup:{value:Be}}),Fe}})(),ShapeExpressionInterface=(function(){function Re(qe,Ke,Xe){var Ye=[],Ze,Je=qe?qe.length:0;for(Ze=0;Ze<Je;Ze+=1)qe[Ze].ty==="gr"?Ye.push(je(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="fl"?Ye.push(Be(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="st"?Ye.push(ke(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="tm"?Ye.push(Oe(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="tr"||(qe[Ze].ty==="el"?Ye.push(Ue(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="sr"?Ye.push($e(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="sh"?Ye.push(ShapePathInterface(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="rc"?Ye.push(He(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="rd"?Ye.push(Qe(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="rp"?Ye.push(We(qe[Ze],Ke[Ze],Xe)):qe[Ze].ty==="gf"?Ye.push(De(qe[Ze],Ke[Ze],Xe)):Ye.push(Fe(qe[Ze],Ke[Ze])));return Ye}function Ce(qe,Ke,Xe){var Ye,Ze=function(rr){for(var ar=0,ir=Ye.length;ar<ir;){if(Ye[ar]._name===rr||Ye[ar].mn===rr||Ye[ar].propertyIndex===rr||Ye[ar].ix===rr||Ye[ar].ind===rr)return Ye[ar];ar+=1}return typeof rr=="number"?Ye[rr-1]:null};Ze.propertyGroup=propertyGroupFactory(Ze,Xe),Ye=Re(qe.it,Ke.it,Ze.propertyGroup),Ze.numProperties=Ye.length;var Je=Me(qe.it[qe.it.length-1],Ke.it[Ke.it.length-1],Ze.propertyGroup);return Ze.transform=Je,Ze.propertyIndex=qe.cix,Ze._name=qe.nm,Ze}function je(qe,Ke,Xe){var Ye=function(rr){switch(rr){case"ADBE Vectors Group":case"Contents":case 2:return Ye.content;default:return Ye.transform}};Ye.propertyGroup=propertyGroupFactory(Ye,Xe);var Ze=Ce(qe,Ke,Ye.propertyGroup),Je=Me(qe.it[qe.it.length-1],Ke.it[Ke.it.length-1],Ye.propertyGroup);return Ye.content=Ze,Ye.transform=Je,Object.defineProperty(Ye,"_name",{get:function(){return qe.nm}}),Ye.numProperties=qe.np,Ye.propertyIndex=qe.ix,Ye.nm=qe.nm,Ye.mn=qe.mn,Ye}function Be(qe,Ke,Xe){function Ye(Ze){return Ze==="Color"||Ze==="color"?Ye.color:Ze==="Opacity"||Ze==="opacity"?Ye.opacity:null}return Object.defineProperties(Ye,{color:{get:ExpressionPropertyInterface(Ke.c)},opacity:{get:ExpressionPropertyInterface(Ke.o)},_name:{value:qe.nm},mn:{value:qe.mn}}),Ke.c.setGroupProperty(PropertyInterface("Color",Xe)),Ke.o.setGroupProperty(PropertyInterface("Opacity",Xe)),Ye}function De(qe,Ke,Xe){function Ye(Ze){return Ze==="Start Point"||Ze==="start point"?Ye.startPoint:Ze==="End Point"||Ze==="end point"?Ye.endPoint:Ze==="Opacity"||Ze==="opacity"?Ye.opacity:null}return Object.defineProperties(Ye,{startPoint:{get:ExpressionPropertyInterface(Ke.s)},endPoint:{get:ExpressionPropertyInterface(Ke.e)},opacity:{get:ExpressionPropertyInterface(Ke.o)},type:{get:function(){return"a"}},_name:{value:qe.nm},mn:{value:qe.mn}}),Ke.s.setGroupProperty(PropertyInterface("Start Point",Xe)),Ke.e.setGroupProperty(PropertyInterface("End Point",Xe)),Ke.o.setGroupProperty(PropertyInterface("Opacity",Xe)),Ye}function Fe(){function qe(){return null}return qe}function ke(qe,Ke,Xe){var Ye=propertyGroupFactory(ir,Xe),Ze=propertyGroupFactory(ar,Ye);function Je(nr){Object.defineProperty(ar,qe.d[nr].nm,{get:ExpressionPropertyInterface(Ke.d.dataProps[nr].p)})}var tr,rr=qe.d?qe.d.length:0,ar={};for(tr=0;tr<rr;tr+=1)Je(tr),Ke.d.dataProps[tr].p.setGroupProperty(Ze);function ir(nr){return nr==="Color"||nr==="color"?ir.color:nr==="Opacity"||nr==="opacity"?ir.opacity:nr==="Stroke Width"||nr==="stroke width"?ir.strokeWidth:null}return Object.defineProperties(ir,{color:{get:ExpressionPropertyInterface(Ke.c)},opacity:{get:ExpressionPropertyInterface(Ke.o)},strokeWidth:{get:ExpressionPropertyInterface(Ke.w)},dash:{get:function(){return ar}},_name:{value:qe.nm},mn:{value:qe.mn}}),Ke.c.setGroupProperty(PropertyInterface("Color",Ye)),Ke.o.setGroupProperty(PropertyInterface("Opacity",Ye)),Ke.w.setGroupProperty(PropertyInterface("Stroke Width",Ye)),ir}function Oe(qe,Ke,Xe){function Ye(Je){return Je===qe.e.ix||Je==="End"||Je==="end"?Ye.end:Je===qe.s.ix?Ye.start:Je===qe.o.ix?Ye.offset:null}var Ze=propertyGroupFactory(Ye,Xe);return Ye.propertyIndex=qe.ix,Ke.s.setGroupProperty(PropertyInterface("Start",Ze)),Ke.e.setGroupProperty(PropertyInterface("End",Ze)),Ke.o.setGroupProperty(PropertyInterface("Offset",Ze)),Ye.propertyIndex=qe.ix,Ye.propertyGroup=Xe,Object.defineProperties(Ye,{start:{get:ExpressionPropertyInterface(Ke.s)},end:{get:ExpressionPropertyInterface(Ke.e)},offset:{get:ExpressionPropertyInterface(Ke.o)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function Me(qe,Ke,Xe){function Ye(Je){return qe.a.ix===Je||Je==="Anchor Point"?Ye.anchorPoint:qe.o.ix===Je||Je==="Opacity"?Ye.opacity:qe.p.ix===Je||Je==="Position"?Ye.position:qe.r.ix===Je||Je==="Rotation"||Je==="ADBE Vector Rotation"?Ye.rotation:qe.s.ix===Je||Je==="Scale"?Ye.scale:qe.sk&&qe.sk.ix===Je||Je==="Skew"?Ye.skew:qe.sa&&qe.sa.ix===Je||Je==="Skew Axis"?Ye.skewAxis:null}var Ze=propertyGroupFactory(Ye,Xe);return Ke.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",Ze)),Ke.transform.mProps.p.setGroupProperty(PropertyInterface("Position",Ze)),Ke.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",Ze)),Ke.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",Ze)),Ke.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",Ze)),Ke.transform.mProps.sk&&(Ke.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",Ze)),Ke.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",Ze))),Ke.transform.op.setGroupProperty(PropertyInterface("Opacity",Ze)),Object.defineProperties(Ye,{opacity:{get:ExpressionPropertyInterface(Ke.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Ke.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Ke.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Ke.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Ke.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Ke.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Ke.transform.mProps.sa)},_name:{value:qe.nm}}),Ye.ty="tr",Ye.mn=qe.mn,Ye.propertyGroup=Xe,Ye}function Ue(qe,Ke,Xe){function Ye(tr){return qe.p.ix===tr?Ye.position:qe.s.ix===tr?Ye.size:null}var Ze=propertyGroupFactory(Ye,Xe);Ye.propertyIndex=qe.ix;var Je=Ke.sh.ty==="tm"?Ke.sh.prop:Ke.sh;return Je.s.setGroupProperty(PropertyInterface("Size",Ze)),Je.p.setGroupProperty(PropertyInterface("Position",Ze)),Object.defineProperties(Ye,{size:{get:ExpressionPropertyInterface(Je.s)},position:{get:ExpressionPropertyInterface(Je.p)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function $e(qe,Ke,Xe){function Ye(tr){return qe.p.ix===tr?Ye.position:qe.r.ix===tr?Ye.rotation:qe.pt.ix===tr?Ye.points:qe.or.ix===tr||tr==="ADBE Vector Star Outer Radius"?Ye.outerRadius:qe.os.ix===tr?Ye.outerRoundness:qe.ir&&(qe.ir.ix===tr||tr==="ADBE Vector Star Inner Radius")?Ye.innerRadius:qe.is&&qe.is.ix===tr?Ye.innerRoundness:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke.sh.ty==="tm"?Ke.sh.prop:Ke.sh;return Ye.propertyIndex=qe.ix,Je.or.setGroupProperty(PropertyInterface("Outer Radius",Ze)),Je.os.setGroupProperty(PropertyInterface("Outer Roundness",Ze)),Je.pt.setGroupProperty(PropertyInterface("Points",Ze)),Je.p.setGroupProperty(PropertyInterface("Position",Ze)),Je.r.setGroupProperty(PropertyInterface("Rotation",Ze)),qe.ir&&(Je.ir.setGroupProperty(PropertyInterface("Inner Radius",Ze)),Je.is.setGroupProperty(PropertyInterface("Inner Roundness",Ze))),Object.defineProperties(Ye,{position:{get:ExpressionPropertyInterface(Je.p)},rotation:{get:ExpressionPropertyInterface(Je.r)},points:{get:ExpressionPropertyInterface(Je.pt)},outerRadius:{get:ExpressionPropertyInterface(Je.or)},outerRoundness:{get:ExpressionPropertyInterface(Je.os)},innerRadius:{get:ExpressionPropertyInterface(Je.ir)},innerRoundness:{get:ExpressionPropertyInterface(Je.is)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function He(qe,Ke,Xe){function Ye(tr){return qe.p.ix===tr?Ye.position:qe.r.ix===tr?Ye.roundness:qe.s.ix===tr||tr==="Size"||tr==="ADBE Vector Rect Size"?Ye.size:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke.sh.ty==="tm"?Ke.sh.prop:Ke.sh;return Ye.propertyIndex=qe.ix,Je.p.setGroupProperty(PropertyInterface("Position",Ze)),Je.s.setGroupProperty(PropertyInterface("Size",Ze)),Je.r.setGroupProperty(PropertyInterface("Rotation",Ze)),Object.defineProperties(Ye,{position:{get:ExpressionPropertyInterface(Je.p)},roundness:{get:ExpressionPropertyInterface(Je.r)},size:{get:ExpressionPropertyInterface(Je.s)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function Qe(qe,Ke,Xe){function Ye(tr){return qe.r.ix===tr||tr==="Round Corners 1"?Ye.radius:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke;return Ye.propertyIndex=qe.ix,Je.rd.setGroupProperty(PropertyInterface("Radius",Ze)),Object.defineProperties(Ye,{radius:{get:ExpressionPropertyInterface(Je.rd)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}function We(qe,Ke,Xe){function Ye(tr){return qe.c.ix===tr||tr==="Copies"?Ye.copies:qe.o.ix===tr||tr==="Offset"?Ye.offset:null}var Ze=propertyGroupFactory(Ye,Xe),Je=Ke;return Ye.propertyIndex=qe.ix,Je.c.setGroupProperty(PropertyInterface("Copies",Ze)),Je.o.setGroupProperty(PropertyInterface("Offset",Ze)),Object.defineProperties(Ye,{copies:{get:ExpressionPropertyInterface(Je.c)},offset:{get:ExpressionPropertyInterface(Je.o)},_name:{value:qe.nm}}),Ye.mn=qe.mn,Ye}return function(qe,Ke,Xe){var Ye;function Ze(tr){if(typeof tr=="number")return tr=tr===void 0?1:tr,tr===0?Xe:Ye[tr-1];for(var rr=0,ar=Ye.length;rr<ar;){if(Ye[rr]._name===tr)return Ye[rr];rr+=1}return null}function Je(){return Xe}return Ze.propertyGroup=propertyGroupFactory(Ze,Je),Ye=Re(qe,Ke,Ze.propertyGroup),Ze.numProperties=Ye.length,Ze._name="Contents",Ze}})(),TextExpressionInterface=(function(){return function(Re){var Ce;function je(Be){switch(Be){case"ADBE Text Document":return je.sourceText;default:return null}}return Object.defineProperty(je,"sourceText",{get:function(){Re.textProperty.getValue();var De=Re.textProperty.currentData.t;return(!Ce||De!==Ce.value)&&(Ce=new String(De),Ce.value=De||new String(De),Object.defineProperty(Ce,"style",{get:function(){return{fillColor:Re.textProperty.currentData.fc}}})),Ce}}),je}})();function _typeof(Re){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof(Re)}var FootageInterface=(function(){var Re=function(Be){var De="",Fe=Be.getFootageData();function ke(){return De="",Fe=Be.getFootageData(),Oe}function Oe(Me){if(Fe[Me])return De=Me,Fe=Fe[Me],_typeof(Fe)==="object"?Oe:Fe;var Ue=Me.indexOf(De);if(Ue!==-1){var $e=parseInt(Me.substr(Ue+De.length),10);return Fe=Fe[$e],_typeof(Fe)==="object"?Oe:Fe}return""}return ke},Ce=function(Be){function De(Fe){return Fe==="Outline"?De.outlineInterface():null}return De._name="Outline",De.outlineInterface=Re(Be),De};return function(je){function Be(De){return De==="Data"?Be.dataInterface:null}return Be._name="Data",Be.dataInterface=Ce(je),Be}})(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Re){return interfaces[Re]||null}var expressionHelpers=(function(){function Re(ke,Oe,Me){Oe.x&&(Me.k=!0,Me.x=!0,Me.initiateExpression=ExpressionManager.initiateExpression,Me.effectsSequence.push(Me.initiateExpression(ke,Oe,Me).bind(Me)))}function Ce(ke){return ke*=this.elem.globalData.frameRate,ke-=this.offsetTime,ke!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<ke?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(ke,this._cachingAtTime),this._cachingAtTime.lastFrame=ke),this._cachingAtTime.value}function je(ke){var Oe=-.01,Me=this.getValueAtTime(ke),Ue=this.getValueAtTime(ke+Oe),$e=0;if(Me.length){var He;for(He=0;He<Me.length;He+=1)$e+=Math.pow(Ue[He]-Me[He],2);$e=Math.sqrt($e)*100}else $e=0;return $e}function Be(ke){if(this.vel!==void 0)return this.vel;var Oe=-.001,Me=this.getValueAtTime(ke),Ue=this.getValueAtTime(ke+Oe),$e;if(Me.length){$e=createTypedArray("float32",Me.length);var He;for(He=0;He<Me.length;He+=1)$e[He]=(Ue[He]-Me[He])/Oe}else $e=(Ue-Me)/Oe;return $e}function De(){return this.pv}function Fe(ke){this.propertyGroup=ke}return{searchExpressions:Re,getSpeedAtTime:je,getVelocityAtTime:Be,getValueAtTime:Ce,getStaticValueAtTime:De,setGroupProperty:Fe}})();function addPropertyDecorator(){function Re(Qe,We,qe){if(!this.k||!this.keyframes)return this.pv;Qe=Qe?Qe.toLowerCase():"";var Ke=this.comp.renderedFrame,Xe=this.keyframes,Ye=Xe[Xe.length-1].t;if(Ke<=Ye)return this.pv;var Ze,Je;qe?(We?Ze=Math.abs(Ye-this.elem.comp.globalData.frameRate*We):Ze=Math.max(0,Ye-this.elem.data.ip),Je=Ye-Ze):((!We||We>Xe.length-1)&&(We=Xe.length-1),Je=Xe[Xe.length-1-We].t,Ze=Ye-Je);var tr,rr,ar;if(Qe==="pingpong"){var ir=Math.floor((Ke-Je)/Ze);if(ir%2!==0)return this.getValueAtTime((Ze-(Ke-Je)%Ze+Je)/this.comp.globalData.frameRate,0)}else if(Qe==="offset"){var nr=this.getValueAtTime(Je/this.comp.globalData.frameRate,0),cr=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),mr=this.getValueAtTime(((Ke-Je)%Ze+Je)/this.comp.globalData.frameRate,0),fr=Math.floor((Ke-Je)/Ze);if(this.pv.length){for(ar=new Array(nr.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=(cr[tr]-nr[tr])*fr+mr[tr];return ar}return(cr-nr)*fr+mr}else if(Qe==="continue"){var or=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),yr=this.getValueAtTime((Ye-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ar=new Array(or.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=or[tr]+(or[tr]-yr[tr])*((Ke-Ye)/this.comp.globalData.frameRate)/5e-4;return ar}return or+(or-yr)*((Ke-Ye)/.001)}return this.getValueAtTime(((Ke-Je)%Ze+Je)/this.comp.globalData.frameRate,0)}function Ce(Qe,We,qe){if(!this.k)return this.pv;Qe=Qe?Qe.toLowerCase():"";var Ke=this.comp.renderedFrame,Xe=this.keyframes,Ye=Xe[0].t;if(Ke>=Ye)return this.pv;var Ze,Je;qe?(We?Ze=Math.abs(this.elem.comp.globalData.frameRate*We):Ze=Math.max(0,this.elem.data.op-Ye),Je=Ye+Ze):((!We||We>Xe.length-1)&&(We=Xe.length-1),Je=Xe[We].t,Ze=Je-Ye);var tr,rr,ar;if(Qe==="pingpong"){var ir=Math.floor((Ye-Ke)/Ze);if(ir%2===0)return this.getValueAtTime(((Ye-Ke)%Ze+Ye)/this.comp.globalData.frameRate,0)}else if(Qe==="offset"){var nr=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),cr=this.getValueAtTime(Je/this.comp.globalData.frameRate,0),mr=this.getValueAtTime((Ze-(Ye-Ke)%Ze+Ye)/this.comp.globalData.frameRate,0),fr=Math.floor((Ye-Ke)/Ze)+1;if(this.pv.length){for(ar=new Array(nr.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=mr[tr]-(cr[tr]-nr[tr])*fr;return ar}return mr-(cr-nr)*fr}else if(Qe==="continue"){var or=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),yr=this.getValueAtTime((Ye+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(ar=new Array(or.length),rr=ar.length,tr=0;tr<rr;tr+=1)ar[tr]=or[tr]+(or[tr]-yr[tr])*(Ye-Ke)/.001;return ar}return or+(or-yr)*(Ye-Ke)/.001}return this.getValueAtTime((Ze-((Ye-Ke)%Ze+Ye))/this.comp.globalData.frameRate,0)}function je(Qe,We){if(!this.k)return this.pv;if(Qe=(Qe||.4)*.5,We=Math.floor(We||5),We<=1)return this.pv;var qe=this.comp.renderedFrame/this.comp.globalData.frameRate,Ke=qe-Qe,Xe=qe+Qe,Ye=We>1?(Xe-Ke)/(We-1):1,Ze=0,Je=0,tr;this.pv.length?tr=createTypedArray("float32",this.pv.length):tr=0;for(var rr;Ze<We;){if(rr=this.getValueAtTime(Ke+Ze*Ye),this.pv.length)for(Je=0;Je<this.pv.length;Je+=1)tr[Je]+=rr[Je];else tr+=rr;Ze+=1}if(this.pv.length)for(Je=0;Je<this.pv.length;Je+=1)tr[Je]/=We;else tr/=We;return tr}function Be(Qe){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var We=this._transformCachingAtTime.v;if(We.cloneFromProps(this.pre.props),this.appliedTransformations<1){var qe=this.a.getValueAtTime(Qe);We.translate(-qe[0]*this.a.mult,-qe[1]*this.a.mult,qe[2]*this.a.mult)}if(this.appliedTransformations<2){var Ke=this.s.getValueAtTime(Qe);We.scale(Ke[0]*this.s.mult,Ke[1]*this.s.mult,Ke[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var Xe=this.sk.getValueAtTime(Qe),Ye=this.sa.getValueAtTime(Qe);We.skewFromAxis(-Xe*this.sk.mult,Ye*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var Ze=this.r.getValueAtTime(Qe);We.rotate(-Ze*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var Je=this.rz.getValueAtTime(Qe),tr=this.ry.getValueAtTime(Qe),rr=this.rx.getValueAtTime(Qe),ar=this.or.getValueAtTime(Qe);We.rotateZ(-Je*this.rz.mult).rotateY(tr*this.ry.mult).rotateX(rr*this.rx.mult).rotateZ(-ar[2]*this.or.mult).rotateY(ar[1]*this.or.mult).rotateX(ar[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var ir=this.px.getValueAtTime(Qe),nr=this.py.getValueAtTime(Qe);if(this.data.p.z){var cr=this.pz.getValueAtTime(Qe);We.translate(ir*this.px.mult,nr*this.py.mult,-cr*this.pz.mult)}else We.translate(ir*this.px.mult,nr*this.py.mult,0)}else{var mr=this.p.getValueAtTime(Qe);We.translate(mr[0]*this.p.mult,mr[1]*this.p.mult,-mr[2]*this.p.mult)}return We}function De(){return this.v.clone(new Matrix)}var Fe=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(Qe,We,qe){var Ke=Fe(Qe,We,qe);return Ke.dynamicProperties.length?Ke.getValueAtTime=Be.bind(Ke):Ke.getValueAtTime=De.bind(Ke),Ke.setGroupProperty=expressionHelpers.setGroupProperty,Ke};var ke=PropertyFactory.getProp;PropertyFactory.getProp=function(Qe,We,qe,Ke,Xe){var Ye=ke(Qe,We,qe,Ke,Xe);Ye.kf?Ye.getValueAtTime=expressionHelpers.getValueAtTime.bind(Ye):Ye.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Ye),Ye.setGroupProperty=expressionHelpers.setGroupProperty,Ye.loopOut=Re,Ye.loopIn=Ce,Ye.smooth=je,Ye.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Ye),Ye.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Ye),Ye.numKeys=We.a===1?We.k.length:0,Ye.propertyIndex=We.ix;var Ze=0;return qe!==0&&(Ze=createTypedArray("float32",We.a===1?We.k[0].s.length:We.k.length)),Ye._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:Ze},expressionHelpers.searchExpressions(Qe,We,Ye),Ye.k&&Xe.addDynamicProperty(Ye),Ye};function Oe(Qe){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),Qe*=this.elem.globalData.frameRate,Qe-=this.offsetTime,Qe!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<Qe?this._caching.lastIndex:0,this._cachingAtTime.lastTime=Qe,this.interpolateShape(Qe,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Me=ShapePropertyFactory.getConstructorFunction(),Ue=ShapePropertyFactory.getKeyframedConstructorFunction();function $e(){}$e.prototype={vertices:function(We,qe){this.k&&this.getValue();var Ke=this.v;qe!==void 0&&(Ke=this.getValueAtTime(qe,0));var Xe,Ye=Ke._length,Ze=Ke[We],Je=Ke.v,tr=createSizedArray(Ye);for(Xe=0;Xe<Ye;Xe+=1)We==="i"||We==="o"?tr[Xe]=[Ze[Xe][0]-Je[Xe][0],Ze[Xe][1]-Je[Xe][1]]:tr[Xe]=[Ze[Xe][0],Ze[Xe][1]];return tr},points:function(We){return this.vertices("v",We)},inTangents:function(We){return this.vertices("i",We)},outTangents:function(We){return this.vertices("o",We)},isClosed:function(){return this.v.c},pointOnPath:function(We,qe){var Ke=this.v;qe!==void 0&&(Ke=this.getValueAtTime(qe,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Ke));for(var Xe=this._segmentsLength,Ye=Xe.lengths,Ze=Xe.totalLength*We,Je=0,tr=Ye.length,rr=0,ar;Je<tr;){if(rr+Ye[Je].addedLength>Ze){var ir=Je,nr=Ke.c&&Je===tr-1?0:Je+1,cr=(Ze-rr)/Ye[Je].addedLength;ar=bez.getPointInSegment(Ke.v[ir],Ke.v[nr],Ke.o[ir],Ke.i[nr],cr,Ye[Je]);break}else rr+=Ye[Je].addedLength;Je+=1}return ar||(ar=Ke.c?[Ke.v[0][0],Ke.v[0][1]]:[Ke.v[Ke._length-1][0],Ke.v[Ke._length-1][1]]),ar},vectorOnPath:function(We,qe,Ke){We==1?We=this.v.c:We==0&&(We=.999);var Xe=this.pointOnPath(We,qe),Ye=this.pointOnPath(We+.001,qe),Ze=Ye[0]-Xe[0],Je=Ye[1]-Xe[1],tr=Math.sqrt(Math.pow(Ze,2)+Math.pow(Je,2));if(tr===0)return[0,0];var rr=Ke==="tangent"?[Ze/tr,Je/tr]:[-Je/tr,Ze/tr];return rr},tangentOnPath:function(We,qe){return this.vectorOnPath(We,qe,"tangent")},normalOnPath:function(We,qe){return this.vectorOnPath(We,qe,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([$e],Me),extendPrototype([$e],Ue),Ue.prototype.getValueAtTime=Oe,Ue.prototype.initiateExpression=ExpressionManager.initiateExpression;var He=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(Qe,We,qe,Ke,Xe){var Ye=He(Qe,We,qe,Ke,Xe);return Ye.propertyIndex=We.ix,Ye.lock=!1,qe===3?expressionHelpers.searchExpressions(Qe,We.pt,Ye):qe===4&&expressionHelpers.searchExpressions(Qe,We.ks,Ye),Ye.k&&Qe.addDynamicProperty(Ye),Ye}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Re(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(Ce,je){var Be=this.calculateExpression(je);if(Ce.t!==Be){var De={};return this.copyData(De,Ce),De.t=Be.toString(),De.__complete=!1,De}return Ce},TextProperty.prototype.searchProperty=function(){var Ce=this.searchKeyframes(),je=this.searchExpressions();return this.kf=Ce||je,this.kf},TextProperty.prototype.searchExpressions=Re}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Re(Ce,je){var Be=createNS("feMerge");Be.setAttribute("result",Ce);var De,Fe;for(Fe=0;Fe<je.length;Fe+=1)De=createNS("feMergeNode"),De.setAttribute("in",je[Fe]),Be.appendChild(De),Be.appendChild(De);return Be}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Re,Ce,je,Be,De){this.filterManager=Ce;var Fe=createNS("feColorMatrix");Fe.setAttribute("type","matrix"),Fe.setAttribute("color-interpolation-filters","linearRGB"),Fe.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=Fe,Fe.setAttribute("result",Be+"_tint_1"),Re.appendChild(Fe),Fe=createNS("feColorMatrix"),Fe.setAttribute("type","matrix"),Fe.setAttribute("color-interpolation-filters","sRGB"),Fe.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Fe.setAttribute("result",Be+"_tint_2"),Re.appendChild(Fe),this.matrixFilter=Fe;var ke=this.createMergeNode(Be,[De,Be+"_tint_1",Be+"_tint_2"]);Re.appendChild(ke)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var Ce=this.filterManager.effectElements[0].p.v,je=this.filterManager.effectElements[1].p.v,Be=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Be+" 0"),this.matrixFilter.setAttribute("values",je[0]-Ce[0]+" 0 0 0 "+Ce[0]+" "+(je[1]-Ce[1])+" 0 0 0 "+Ce[1]+" "+(je[2]-Ce[2])+" 0 0 0 "+Ce[2]+" 0 0 0 1 0")}};function SVGFillFilter(Re,Ce,je,Be){this.filterManager=Ce;var De=createNS("feColorMatrix");De.setAttribute("type","matrix"),De.setAttribute("color-interpolation-filters","sRGB"),De.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),De.setAttribute("result",Be),Re.appendChild(De),this.matrixFilter=De}SVGFillFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var Ce=this.filterManager.effectElements[2].p.v,je=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+Ce[0]+" 0 0 0 0 "+Ce[1]+" 0 0 0 0 "+Ce[2]+" 0 0 0 "+je+" 0")}};function SVGStrokeEffect(Re,Ce,je){this.initialized=!1,this.filterManager=Ce,this.elem=je,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Re=this.elem.layerElement.children||this.elem.layerElement.childNodes,Ce,je,Be,De;for(this.filterManager.effectElements[1].p.v===1?(De=this.elem.maskManager.masksProperties.length,Be=0):(Be=this.filterManager.effectElements[0].p.v-1,De=Be+1),je=createNS("g"),je.setAttribute("fill","none"),je.setAttribute("stroke-linecap","round"),je.setAttribute("stroke-dashoffset",1),Be;Be<De;Be+=1)Ce=createNS("path"),je.appendChild(Ce),this.paths.push({p:Ce,m:Be});if(this.filterManager.effectElements[10].p.v===3){var Fe=createNS("mask"),ke=createElementID();Fe.setAttribute("id",ke),Fe.setAttribute("mask-type","alpha"),Fe.appendChild(je),this.elem.globalData.defs.appendChild(Fe);var Oe=createNS("g");for(Oe.setAttribute("mask","url("+getLocationHref()+"#"+ke+")");Re[0];)Oe.appendChild(Re[0]);this.elem.layerElement.appendChild(Oe),this.masker=Fe,je.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Re=this.elem.layerElement.children||this.elem.layerElement.childNodes;Re.length;)this.elem.layerElement.removeChild(Re[0]);this.elem.layerElement.appendChild(je),this.elem.layerElement.removeAttribute("mask"),je.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=je},SVGStrokeEffect.prototype.renderFrame=function(Re){this.initialized||this.initialize();var Ce,je=this.paths.length,Be,De;for(Ce=0;Ce<je;Ce+=1)if(this.paths[Ce].m!==-1&&(Be=this.elem.maskManager.viewData[this.paths[Ce].m],De=this.paths[Ce].p,(Re||this.filterManager._mdf||Be.prop._mdf)&&De.setAttribute("d",Be.lastPath),Re||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Be.prop._mdf)){var Fe;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var ke=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Oe=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Me=De.getTotalLength();Fe="0 0 0 "+Me*ke+" ";var Ue=Me*(Oe-ke),$e=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,He=Math.floor(Ue/$e),Qe;for(Qe=0;Qe<He;Qe+=1)Fe+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";Fe+="0 "+Me*10+" 0 0"}else Fe="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;De.setAttribute("stroke-dasharray",Fe)}if((Re||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Re||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Re||this.filterManager.effectElements[3].p._mdf)){var We=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(We[0]*255)+","+bmFloor(We[1]*255)+","+bmFloor(We[2]*255)+")")}};function SVGTritoneFilter(Re,Ce,je,Be){this.filterManager=Ce;var De=createNS("feColorMatrix");De.setAttribute("type","matrix"),De.setAttribute("color-interpolation-filters","linearRGB"),De.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Re.appendChild(De);var Fe=createNS("feComponentTransfer");Fe.setAttribute("color-interpolation-filters","sRGB"),Fe.setAttribute("result",Be),this.matrixFilter=Fe;var ke=createNS("feFuncR");ke.setAttribute("type","table"),Fe.appendChild(ke),this.feFuncR=ke;var Oe=createNS("feFuncG");Oe.setAttribute("type","table"),Fe.appendChild(Oe),this.feFuncG=Oe;var Me=createNS("feFuncB");Me.setAttribute("type","table"),Fe.appendChild(Me),this.feFuncB=Me,Re.appendChild(Fe)}SVGTritoneFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var Ce=this.filterManager.effectElements[0].p.v,je=this.filterManager.effectElements[1].p.v,Be=this.filterManager.effectElements[2].p.v,De=Be[0]+" "+je[0]+" "+Ce[0],Fe=Be[1]+" "+je[1]+" "+Ce[1],ke=Be[2]+" "+je[2]+" "+Ce[2];this.feFuncR.setAttribute("tableValues",De),this.feFuncG.setAttribute("tableValues",Fe),this.feFuncB.setAttribute("tableValues",ke)}};function SVGProLevelsFilter(Re,Ce,je,Be){this.filterManager=Ce;var De=this.filterManager.effectElements,Fe=createNS("feComponentTransfer");(De[10].p.k||De[10].p.v!==0||De[11].p.k||De[11].p.v!==1||De[12].p.k||De[12].p.v!==1||De[13].p.k||De[13].p.v!==0||De[14].p.k||De[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",Fe)),(De[17].p.k||De[17].p.v!==0||De[18].p.k||De[18].p.v!==1||De[19].p.k||De[19].p.v!==1||De[20].p.k||De[20].p.v!==0||De[21].p.k||De[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",Fe)),(De[24].p.k||De[24].p.v!==0||De[25].p.k||De[25].p.v!==1||De[26].p.k||De[26].p.v!==1||De[27].p.k||De[27].p.v!==0||De[28].p.k||De[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",Fe)),(De[31].p.k||De[31].p.v!==0||De[32].p.k||De[32].p.v!==1||De[33].p.k||De[33].p.v!==1||De[34].p.k||De[34].p.v!==0||De[35].p.k||De[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",Fe)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(Fe.setAttribute("color-interpolation-filters","sRGB"),Re.appendChild(Fe)),(De[3].p.k||De[3].p.v!==0||De[4].p.k||De[4].p.v!==1||De[5].p.k||De[5].p.v!==1||De[6].p.k||De[6].p.v!==0||De[7].p.k||De[7].p.v!==1)&&(Fe=createNS("feComponentTransfer"),Fe.setAttribute("color-interpolation-filters","sRGB"),Fe.setAttribute("result",Be),Re.appendChild(Fe),this.feFuncRComposed=this.createFeFunc("feFuncR",Fe),this.feFuncGComposed=this.createFeFunc("feFuncG",Fe),this.feFuncBComposed=this.createFeFunc("feFuncB",Fe))}SVGProLevelsFilter.prototype.createFeFunc=function(Re,Ce){var je=createNS(Re);return je.setAttribute("type","table"),Ce.appendChild(je),je},SVGProLevelsFilter.prototype.getTableValue=function(Re,Ce,je,Be,De){for(var Fe=0,ke=256,Oe,Me=Math.min(Re,Ce),Ue=Math.max(Re,Ce),$e=Array.call(null,{length:ke}),He,Qe=0,We=De-Be,qe=Ce-Re;Fe<=256;)Oe=Fe/256,Oe<=Me?He=qe<0?De:Be:Oe>=Ue?He=qe<0?Be:De:He=Be+We*Math.pow((Oe-Re)/qe,1/je),$e[Qe]=He,Qe+=1,Fe+=256/(ke-1);return $e.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var Ce,je=this.filterManager.effectElements;this.feFuncRComposed&&(Re||je[3].p._mdf||je[4].p._mdf||je[5].p._mdf||je[6].p._mdf||je[7].p._mdf)&&(Ce=this.getTableValue(je[3].p.v,je[4].p.v,je[5].p.v,je[6].p.v,je[7].p.v),this.feFuncRComposed.setAttribute("tableValues",Ce),this.feFuncGComposed.setAttribute("tableValues",Ce),this.feFuncBComposed.setAttribute("tableValues",Ce)),this.feFuncR&&(Re||je[10].p._mdf||je[11].p._mdf||je[12].p._mdf||je[13].p._mdf||je[14].p._mdf)&&(Ce=this.getTableValue(je[10].p.v,je[11].p.v,je[12].p.v,je[13].p.v,je[14].p.v),this.feFuncR.setAttribute("tableValues",Ce)),this.feFuncG&&(Re||je[17].p._mdf||je[18].p._mdf||je[19].p._mdf||je[20].p._mdf||je[21].p._mdf)&&(Ce=this.getTableValue(je[17].p.v,je[18].p.v,je[19].p.v,je[20].p.v,je[21].p.v),this.feFuncG.setAttribute("tableValues",Ce)),this.feFuncB&&(Re||je[24].p._mdf||je[25].p._mdf||je[26].p._mdf||je[27].p._mdf||je[28].p._mdf)&&(Ce=this.getTableValue(je[24].p.v,je[25].p.v,je[26].p.v,je[27].p.v,je[28].p.v),this.feFuncB.setAttribute("tableValues",Ce)),this.feFuncA&&(Re||je[31].p._mdf||je[32].p._mdf||je[33].p._mdf||je[34].p._mdf||je[35].p._mdf)&&(Ce=this.getTableValue(je[31].p.v,je[32].p.v,je[33].p.v,je[34].p.v,je[35].p.v),this.feFuncA.setAttribute("tableValues",Ce))}};function SVGDropShadowEffect(Re,Ce,je,Be,De){var Fe=Ce.container.globalData.renderConfig.filterSize,ke=Ce.data.fs||Fe;Re.setAttribute("x",ke.x||Fe.x),Re.setAttribute("y",ke.y||Fe.y),Re.setAttribute("width",ke.width||Fe.width),Re.setAttribute("height",ke.height||Fe.height),this.filterManager=Ce;var Oe=createNS("feGaussianBlur");Oe.setAttribute("in","SourceAlpha"),Oe.setAttribute("result",Be+"_drop_shadow_1"),Oe.setAttribute("stdDeviation","0"),this.feGaussianBlur=Oe,Re.appendChild(Oe);var Me=createNS("feOffset");Me.setAttribute("dx","25"),Me.setAttribute("dy","0"),Me.setAttribute("in",Be+"_drop_shadow_1"),Me.setAttribute("result",Be+"_drop_shadow_2"),this.feOffset=Me,Re.appendChild(Me);var Ue=createNS("feFlood");Ue.setAttribute("flood-color","#00ff00"),Ue.setAttribute("flood-opacity","1"),Ue.setAttribute("result",Be+"_drop_shadow_3"),this.feFlood=Ue,Re.appendChild(Ue);var $e=createNS("feComposite");$e.setAttribute("in",Be+"_drop_shadow_3"),$e.setAttribute("in2",Be+"_drop_shadow_2"),$e.setAttribute("operator","in"),$e.setAttribute("result",Be+"_drop_shadow_4"),Re.appendChild($e);var He=this.createMergeNode(Be,[Be+"_drop_shadow_4",De]);Re.appendChild(He)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){if((Re||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Re||this.filterManager.effectElements[0].p._mdf){var Ce=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(Ce[0]*255),Math.round(Ce[1]*255),Math.round(Ce[2]*255)))}if((Re||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Re||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var je=this.filterManager.effectElements[3].p.v,Be=(this.filterManager.effectElements[2].p.v-90)*degToRads,De=je*Math.cos(Be),Fe=je*Math.sin(Be);this.feOffset.setAttribute("dx",De),this.feOffset.setAttribute("dy",Fe)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Re,Ce,je){this.initialized=!1,this.filterManager=Ce,this.filterElem=Re,this.elem=je,je.matteElement=createNS("g"),je.matteElement.appendChild(je.layerElement),je.matteElement.appendChild(je.transformedElement),je.baseElement=je.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Re){for(var Ce=0,je=_svgMatteSymbols.length;Ce<je;){if(_svgMatteSymbols[Ce]===Re)return _svgMatteSymbols[Ce];Ce+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Re,Ce){var je=Re.layerElement.parentNode;if(je){for(var Be=je.children,De=0,Fe=Be.length;De<Fe&&Be[De]!==Re.layerElement;)De+=1;var ke;De<=Fe-2&&(ke=Be[De+1]);var Oe=createNS("use");Oe.setAttribute("href","#"+Ce),ke?je.insertBefore(Oe,ke):je.appendChild(Oe)}},SVGMatte3Effect.prototype.setElementAsMask=function(Re,Ce){if(!this.findSymbol(Ce)){var je=createElementID(),Be=createNS("mask");Be.setAttribute("id",Ce.layerId),Be.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(Ce);var De=Re.globalData.defs;De.appendChild(Be);var Fe=createNS("symbol");Fe.setAttribute("id",je),this.replaceInParent(Ce,je),Fe.appendChild(Ce.layerElement),De.appendChild(Fe);var ke=createNS("use");ke.setAttribute("href","#"+je),Be.appendChild(ke),Ce.data.hd=!1,Ce.show()}Re.setMatte(Ce.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Re=this.filterManager.effectElements[0].p.v,Ce=this.elem.comp.elements,je=0,Be=Ce.length;je<Be;)Ce[je]&&Ce[je].data.ind===Re&&this.setElementAsMask(this.elem,Ce[je]),je+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Re,Ce,je,Be){Re.setAttribute("x","-100%"),Re.setAttribute("y","-100%"),Re.setAttribute("width","300%"),Re.setAttribute("height","300%"),this.filterManager=Ce;var De=createNS("feGaussianBlur");De.setAttribute("result",Be),Re.appendChild(De),this.feGaussianBlur=De}SVGGaussianBlurEffect.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var Ce=.3,je=this.filterManager.effectElements[0].p.v*Ce,Be=this.filterManager.effectElements[1].p.v,De=Be==3?0:je,Fe=Be==2?0:je;this.feGaussianBlur.setAttribute("stdDeviation",De+" "+Fe);var ke=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",ke)}};function TransformEffect(){}TransformEffect.prototype.init=function(Re){this.effectsManager=Re,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Re){if(this._opMdf=!1,this._mdf=!1,Re||this.effectsManager._mdf){var Ce=this.effectsManager.effectElements,je=Ce[0].p.v,Be=Ce[1].p.v,De=Ce[2].p.v===1,Fe=Ce[3].p.v,ke=De?Fe:Ce[4].p.v,Oe=Ce[5].p.v,Me=Ce[6].p.v,Ue=Ce[7].p.v;this.matrix.reset(),this.matrix.translate(-je[0],-je[1],je[2]),this.matrix.scale(ke*.01,Fe*.01,1),this.matrix.rotate(-Ue*degToRads),this.matrix.skewFromAxis(-Oe*degToRads,(Me+90)*degToRads),this.matrix.translate(Be[0],Be[1],0),this._mdf=!0,this.opacity!==Ce[8].p.v&&(this.opacity=Ce[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Re,Ce){this.init(Ce)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Re){this.init(Re)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie}))})(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray$1(Re,Ce){(Ce==null||Ce>Re.length)&&(Ce=Re.length);for(var je=0,Be=Array(Ce);je<Ce;je++)Be[je]=Re[je];return Be}function _arrayWithHoles$1(Re){if(Array.isArray(Re))return Re}function _defineProperty$F(Re,Ce,je){return(Ce=_toPropertyKey$E(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _iterableToArrayLimit$1(Re,Ce){var je=Re==null?null:typeof Symbol<"u"&&Re[Symbol.iterator]||Re["@@iterator"];if(je!=null){var Be,De,Fe,ke,Oe=[],Me=!0,Ue=!1;try{if(Fe=(je=je.call(Re)).next,Ce!==0)for(;!(Me=(Be=Fe.call(je)).done)&&(Oe.push(Be.value),Oe.length!==Ce);Me=!0);}catch($e){Ue=!0,De=$e}finally{try{if(!Me&&je.return!=null&&(ke=je.return(),Object(ke)!==ke))return}finally{if(Ue)throw De}}return Oe}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys$B(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread2$1(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$B(Object(je),!0).forEach(function(Be){_defineProperty$F(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$B(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _objectWithoutProperties$n(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$n(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.includes(je)||{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$n(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.includes(Be))continue;je[Be]=Re[Be]}return je}function _slicedToArray$1(Re,Ce){return _arrayWithHoles$1(Re)||_iterableToArrayLimit$1(Re,Ce)||_unsupportedIterableToArray$1(Re,Ce)||_nonIterableRest$1()}function _toPrimitive$E(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _toPropertyKey$E(Re){var Ce=_toPrimitive$E(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _unsupportedIterableToArray$1(Re,Ce){if(Re){if(typeof Re=="string")return _arrayLikeToArray$1(Re,Ce);var je={}.toString.call(Re).slice(8,-1);return je==="Object"&&Re.constructor&&(je=Re.constructor.name),je==="Map"||je==="Set"?Array.from(Re):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?_arrayLikeToArray$1(Re,Ce):void 0}}var _excluded$1$2=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function Re(Ce,je){var Be=Ce.animationData,De=Ce.loop,Fe=Ce.autoplay,ke=Ce.initialSegment,Oe=Ce.onComplete,Me=Ce.onLoopComplete,Ue=Ce.onEnterFrame,$e=Ce.onSegmentStart,He=Ce.onConfigReady,Qe=Ce.onDataReady,We=Ce.onDataFailed,qe=Ce.onLoadedImages,Ke=Ce.onDOMLoaded,Xe=Ce.onDestroy;Ce.lottieRef,Ce.renderer,Ce.name,Ce.assetsPath,Ce.rendererSettings;var Ye=_objectWithoutProperties$n(Ce,_excluded$1$2),Ze=reactExports.useState(!1),Je=_slicedToArray$1(Ze,2),tr=Je[0],rr=Je[1],ar=reactExports.useRef(),ir=reactExports.useRef(null),nr=function(){var _r;(_r=ar.current)===null||_r===void 0||_r.play()},cr=function(){var _r;(_r=ar.current)===null||_r===void 0||_r.stop()},mr=function(){var _r;(_r=ar.current)===null||_r===void 0||_r.pause()},fr=function(_r){var Ir;(Ir=ar.current)===null||Ir===void 0||Ir.setSpeed(_r)},or=function(_r,Ir){var Dr;(Dr=ar.current)===null||Dr===void 0||Dr.goToAndPlay(_r,Ir)},yr=function(_r,Ir){var Dr;(Dr=ar.current)===null||Dr===void 0||Dr.goToAndStop(_r,Ir)},Cr=function(_r){var Ir;(Ir=ar.current)===null||Ir===void 0||Ir.setDirection(_r)},jr=function(_r,Ir){var Dr;(Dr=ar.current)===null||Dr===void 0||Dr.playSegments(_r,Ir)},vr=function(_r){var Ir;(Ir=ar.current)===null||Ir===void 0||Ir.setSubframe(_r)},Tr=function(_r){var Ir;return(Ir=ar.current)===null||Ir===void 0?void 0:Ir.getDuration(_r)},wr=function(){var _r;(_r=ar.current)===null||_r===void 0||_r.destroy(),ar.current=void 0},Er=function(){var _r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ir;if(ir.current){(Ir=ar.current)===null||Ir===void 0||Ir.destroy();var Dr=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Ce),_r),{},{container:ir.current});return ar.current=lottie.loadAnimation(Dr),rr(!!ar.current),function(){var Or;(Or=ar.current)===null||Or===void 0||Or.destroy(),ar.current=void 0}}};reactExports.useEffect(function(){var Mr=Er();return function(){return Mr?.()}},[Be,De]),reactExports.useEffect(function(){ar.current&&(ar.current.autoplay=!!Fe)},[Fe]),reactExports.useEffect(function(){if(ar.current){if(!ke){ar.current.resetSegments(!0);return}!Array.isArray(ke)||!ke.length||((ar.current.currentRawFrame<ke[0]||ar.current.currentRawFrame>ke[1])&&(ar.current.currentRawFrame=ke[0]),ar.current.setSegment(ke[0],ke[1]))}},[ke]),reactExports.useEffect(function(){var Mr=[{name:"complete",handler:Oe},{name:"loopComplete",handler:Me},{name:"enterFrame",handler:Ue},{name:"segmentStart",handler:$e},{name:"config_ready",handler:He},{name:"data_ready",handler:Qe},{name:"data_failed",handler:We},{name:"loaded_images",handler:qe},{name:"DOMLoaded",handler:Ke},{name:"destroy",handler:Xe}],_r=Mr.filter(function(Dr){return Dr.handler!=null});if(_r.length){var Ir=_r.map(function(Dr){var Or;return(Or=ar.current)===null||Or===void 0||Or.addEventListener(Dr.name,Dr.handler),function(){var br;(br=ar.current)===null||br===void 0||br.removeEventListener(Dr.name,Dr.handler)}});return function(){Ir.forEach(function(Dr){return Dr()})}}},[Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe]);var Pr=React.createElement("div",_objectSpread2$1({style:je,ref:ir},Ye));return{View:Pr,play:nr,stop:cr,pause:mr,setSpeed:fr,goToAndStop:yr,goToAndPlay:or,setDirection:Cr,playSegments:jr,setSubframe:vr,getDuration:Tr,destroy:wr,animationContainerRef:ir,animationLoaded:tr,animationItem:ar.current}};function getContainerVisibility(Re){var Ce=Re.getBoundingClientRect(),je=Ce.top,Be=Ce.height,De=window.innerHeight-je,Fe=window.innerHeight+Be;return De/Fe}function getContainerCursorPosition(Re,Ce,je){var Be=Re.getBoundingClientRect(),De=Be.top,Fe=Be.left,ke=Be.width,Oe=Be.height,Me=(Ce-Fe)/ke,Ue=(je-De)/Oe;return{x:Me,y:Ue}}var useInitInteractivity=function Re(Ce){var je=Ce.wrapperRef,Be=Ce.animationItem,De=Ce.mode,Fe=Ce.actions;reactExports.useEffect(function(){var ke=je.current;if(!(!ke||!Be||!Fe.length)){Be.stop();var Oe=function(){var $e=null,He=function(){var We=getContainerVisibility(ke),qe=Fe.find(function(Xe){var Ye=Xe.visibility;return Ye&&We>=Ye[0]&&We<=Ye[1]});if(qe){if(qe.type==="seek"&&qe.visibility&&qe.frames.length===2){var Ke=qe.frames[0]+Math.ceil((We-qe.visibility[0])/(qe.visibility[1]-qe.visibility[0])*qe.frames[1]);//! goToAndStop must be relative to the start of the current segment
Be.goToAndStop(Ke-Be.firstFrame-1,!0)}qe.type==="loop"&&($e===null||$e!==qe.frames||Be.isPaused)&&(Be.playSegments(qe.frames,!0),$e=qe.frames),qe.type==="play"&&Be.isPaused&&(Be.resetSegments(!0),Be.play()),qe.type==="stop"&&Be.goToAndStop(qe.frames[0]-Be.firstFrame-1,!0)}};return document.addEventListener("scroll",He),function(){document.removeEventListener("scroll",He)}},Me=function(){var $e=function(qe,Ke){var Xe=qe,Ye=Ke;if(Xe!==-1&&Ye!==-1){var Ze=getContainerCursorPosition(ke,Xe,Ye);Xe=Ze.x,Ye=Ze.y}var Je=Fe.find(function(ar){var ir=ar.position;return ir&&Array.isArray(ir.x)&&Array.isArray(ir.y)?Xe>=ir.x[0]&&Xe<=ir.x[1]&&Ye>=ir.y[0]&&Ye<=ir.y[1]:ir&&!Number.isNaN(ir.x)&&!Number.isNaN(ir.y)?Xe===ir.x&&Ye===ir.y:!1});if(Je){if(Je.type==="seek"&&Je.position&&Array.isArray(Je.position.x)&&Array.isArray(Je.position.y)&&Je.frames.length===2){var tr=(Xe-Je.position.x[0])/(Je.position.x[1]-Je.position.x[0]),rr=(Ye-Je.position.y[0])/(Je.position.y[1]-Je.position.y[0]);Be.playSegments(Je.frames,!0),Be.goToAndStop(Math.ceil((tr+rr)/2*(Je.frames[1]-Je.frames[0])),!0)}Je.type==="loop"&&Be.playSegments(Je.frames,!0),Je.type==="play"&&(Be.isPaused&&Be.resetSegments(!1),Be.playSegments(Je.frames)),Je.type==="stop"&&Be.goToAndStop(Je.frames[0],!0)}},He=function(qe){$e(qe.clientX,qe.clientY)},Qe=function(){$e(-1,-1)};return ke.addEventListener("mousemove",He),ke.addEventListener("mouseout",Qe),function(){ke.removeEventListener("mousemove",He),ke.removeEventListener("mouseout",Qe)}};switch(De){case"scroll":return Oe();case"cursor":return Me()}}},[De,Be])},useLottieInteractivity=function Re(Ce){var je=Ce.actions,Be=Ce.mode,De=Ce.lottieObj,Fe=De.animationItem,ke=De.View,Oe=De.animationContainerRef;return useInitInteractivity({actions:je,animationItem:Fe,mode:Be,wrapperRef:Oe}),ke},_excluded$s=["style","interactivity"],Lottie=function Re(Ce){var je,Be,De,Fe=Ce.style,ke=Ce.interactivity,Oe=_objectWithoutProperties$n(Ce,_excluded$s),Me=useLottie(Oe,Fe),Ue=Me.View,$e=Me.play,He=Me.stop,Qe=Me.pause,We=Me.setSpeed,qe=Me.goToAndStop,Ke=Me.goToAndPlay,Xe=Me.setDirection,Ye=Me.playSegments,Ze=Me.setSubframe,Je=Me.getDuration,tr=Me.destroy,rr=Me.animationContainerRef,ar=Me.animationLoaded,ir=Me.animationItem;return reactExports.useEffect(function(){Ce.lottieRef&&(Ce.lottieRef.current={play:$e,stop:He,pause:Qe,setSpeed:We,goToAndPlay:Ke,goToAndStop:qe,setDirection:Xe,playSegments:Ye,setSubframe:Ze,getDuration:Je,destroy:tr,animationContainerRef:rr,animationLoaded:ar,animationItem:ir})},[(je=Ce.lottieRef)===null||je===void 0?void 0:je.current]),useLottieInteractivity({lottieObj:{View:Ue,play:$e,stop:He,pause:Qe,setSpeed:We,goToAndStop:qe,goToAndPlay:Ke,setDirection:Xe,playSegments:Ye,setSubframe:Ze,getDuration:Je,destroy:tr,animationContainerRef:rr,animationLoaded:ar,animationItem:ir},actions:(Be=ke?.actions)!==null&&Be!==void 0?Be:[],mode:(De=ke?.mode)!==null&&De!==void 0?De:"scroll"})};const clamp$2=(Re,Ce,je)=>Math.min(Math.max(Re,Ce),je),THEME={bg:"from-[#0B0F14] via-[#0D1117] to-[#0B0F14]",card:"bg-white/5 backdrop-blur border border-white/10"},styles$3=`
  @keyframes auroraShift { 0%{ background-position: 0% 50% } 50%{ background-position: 100% 50% } 100%{ background-position: 0% 50% } }
  @keyframes shimmer { 0%{ background-position:-200% 0 } 100%{ background-position:200% 0 } }
  .aurora-bg { background: radial-gradient(1200px 600px at 10% 10%, rgba(16,185,129,0.20), transparent 60%), radial-gradient(1000px 500px at 90% 20%, rgba(20,184,166,0.18), transparent 60%), radial-gradient(900px 500px at 50% 100%, rgba(34,197,94,0.18), transparent 60%); }
  .anim-gradient { background-size: 200% 200%; animation: auroraShift 18s ease-in-out infinite; }
  .kinetic-text { background: linear-gradient(90deg, rgba(255,255,255,.9), rgba(255,255,255,.6), rgba(16,185,129,.9)); background-size: 300% 100%; -webkit-background-clip: text; background-clip: text; color: transparent; animation: shimmer 6s linear infinite; }
  .grain::before { content:''; position:fixed; inset:-10%; pointer-events:none; background-image:url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mN0dPz8fwAJ8gPZpjGZ8QAAAABJRU5ErkJggg=='); opacity:.06; mix-blend-mode: overlay; }
  .glass { backdrop-filter: blur(10px); }
`,LandingPage=()=>{const Re=useNavigate(),[Ce,je]=reactExports.useState(0),[Be,De]=reactExports.useState({title:0,art:0}),[Fe,ke]=reactExports.useState(!1),Oe=typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,Me=React.useRef(null),[Ue,$e]=reactExports.useState(!1),He=React.useRef(null),Qe=React.useRef(null),[We,qe]=reactExports.useState(null),[Ke,Xe]=reactExports.useState("dark");reactExports.useEffect(()=>{try{const an=localStorage.getItem("flyp_theme");if(an==="dark"||an==="dusk"){Xe(an);return}window.matchMedia&&window.matchMedia("(prefers-color-scheme: light)").matches?Xe("dusk"):Xe("dark")}catch{}},[]),reactExports.useEffect(()=>{try{localStorage.setItem("flyp_theme",Ke)}catch{}},[Ke]);const Ye=["Built to Fly","Automate Everything","Inventory that Thinks","Billing in Seconds","Analytics that Act"],[Ze,Je]=reactExports.useState(0),[tr,rr]=reactExports.useState(0),[ar,ir]=reactExports.useState({hours:0,accuracy:0,growth:0}),[nr,cr]=reactExports.useState(!1),[mr,fr]=reactExports.useState({ordersPerDay:50,timePerOrderMin:3,staffCostPerHour:200}),[or,yr]=reactExports.useState(0),[Cr,jr]=reactExports.useState(!1);reactExports.useEffect(()=>{try{localStorage.getItem("flyp_pricing_yearly")==="1"&&jr(!0)}catch{}},[]),reactExports.useEffect(()=>{try{localStorage.setItem("flyp_pricing_yearly",Cr?"1":"0")}catch{}},[Cr]);const[vr,Tr]=reactExports.useState({x:0,y:0}),wr=an=>{const On=an.currentTarget,Mn=On.getBoundingClientRect(),ui=(an.clientX-(Mn.left+Mn.width/2))/Mn.width*8,Vn=(an.clientY-(Mn.top+Mn.height/2))/Mn.height*8;On.style.transform=`translate(${ui}px, ${Vn}px)`},Er=an=>{an.currentTarget.style.transform="translate(0,0)"},Pr=an=>`${Math.round(an).toLocaleString()}`,Mr=an=>Cr?`${Pr(an*12*.8)}/yr`:`${Pr(an)}/mo`,[_r,Ir]=reactExports.useState(!1),[Dr,Or]=reactExports.useState(null),[br,Ur]=reactExports.useState(0),Qr=React.useRef({startX:0,dx:0}),[zr,Gr]=reactExports.useState(50),[fn,nn]=reactExports.useState(0),[bn,hn]=reactExports.useState(0),[yn,Zr]=reactExports.useState(0),Rn=React.useRef(null),ri=React.useRef(null),[Yn,ti]=reactExports.useState({x:0,y:0,r:0}),ei=(an,On,Mn=800)=>{const ui=performance.now(),Vn=()=>{const yi=Math.min(1,(performance.now()-ui)/Mn),jn=yi<.5?4*yi*yi*yi:1-Math.pow(-2*yi+2,3)/2,vn=an+(On-an)*jn;Zr(vn),yi<1&&requestAnimationFrame(Vn)};requestAnimationFrame(Vn)},Gn=[{id:"hero",label:"Intro"},{id:"story",label:"Story"},{id:"features",label:"Features"},{id:"whyflyp",label:"Why"},{id:"pricing",label:"Pricing"},{id:"contact",label:"Contact"}],[Ei,Ci]=reactExports.useState("hero"),Fi={0:[{title:"OCR Scan",caption:"Upload & detect fields"},{title:"Clean Mapping",caption:"AI fixes labels & values"},{title:"Ready to Save",caption:"Instant inventory rows"}],1:[{title:"Predictive Qty",caption:"We estimate quantities"},{title:"Discount Guard",caption:"Flags suspicious pricing"},{title:"Low Stock Alert",caption:"Warns before checkout"}],2:[{title:"One-Click Bill",caption:"Confirm & generate"},{title:"Auto Deduct",caption:"Inventory updates live"},{title:"Share Instantly",caption:"WhatsApp / Email / PDF"}]},Si=[{key:"ai-inventory",title:"AI Inventory Generator",desc:"Automatically generate and optimize your inventory with AI-driven insights.",icon:"/assets/ai_inventory.png",href:"/feature/ai-inventory",badge:"New"},{key:"ocr-import",title:"OCR Billing Import",desc:"Scan and import paper invoices instantly with smart OCR technology.",icon:"/assets/ocr_billing.png",href:"/feature/ocr-import"},{key:"smart-cart",title:"Smart Cart",desc:"Create and manage orders quickly with intelligent cart suggestions.",icon:"/assets/smart_cart.png",href:"/feature/smart-cart"},{key:"analytics",title:"Customer Analytics",desc:"Gain insights into customer behavior and sales trends.",icon:"/assets/customer_analytics.png",href:"/feature/analytics"},{key:"distributor",title:"Distributor Connect",desc:"Seamlessly collaborate and sync inventory with your distributors.",icon:"/assets/distributor_connect.png",href:"/feature/distributor"},{key:"dashboards",title:"Dashboards & KPIs",desc:"Track key performance indicators with customizable dashboards.",icon:"/assets/dashboards_kpis.png",href:"/feature/dashboards"},{key:"realtime-sync",title:"Realtime Inventory Sync",desc:"Keep your stock levels updated across all platforms instantly.",icon:"/assets/realtime_inventory.png",href:"/feature/realtime-sync"},{key:"ai-assistant",title:"Gemini AI Assistant",desc:"Your AI assistant for smarter decision-making and automation.",icon:"/assets/gemini_ai.png",href:"/feature/ai-assistant"}],Ti=an=>{const On=an.currentTarget,Mn=document.createElement("span"),ui=On.getBoundingClientRect(),Vn=an.clientX-ui.left,yi=an.clientY-ui.top;Mn.className="ripple",Mn.style.left=Vn+"px",Mn.style.top=yi+"px",On.appendChild(Mn),setTimeout(()=>Mn.remove(),600)};reactExports.useEffect(()=>{if(!Qe.current)return;let an=0;const On=Mn=>{an||(an=requestAnimationFrame(()=>{Qe.current.style.transform=`translate(${Mn.clientX-150}px, ${Mn.clientY-150}px)`,an=0}))};return window.addEventListener("mousemove",On,{passive:!0}),()=>window.removeEventListener("mousemove",On)},[]),reactExports.useEffect(()=>{const an=()=>{const On=document.documentElement,Mn=On.scrollHeight-On.clientHeight,ui=Mn>0?window.scrollY/Mn*100:0;je(ui);const Vn=window.scrollY;De({title:clamp$2(Vn*.12,0,40),art:clamp$2(Vn*.08,0,30)}),ke(Vn>20),$e(ui>40)};return window.addEventListener("scroll",an,{passive:!0}),an(),()=>window.removeEventListener("scroll",an)},[]),reactExports.useEffect(()=>{const an=setInterval(()=>Je(On=>(On+1)%Ye.length),2800);return()=>clearInterval(an)},[]),reactExports.useEffect(()=>{const an=document.getElementById("hero");if(!an)return;const On=new window.IntersectionObserver(([Mn])=>{if(Mn.isIntersecting){const ui=performance.now(),Vn=1600,yi=()=>{const jn=Math.min(1,(performance.now()-ui)/Vn);ir({hours:Math.floor(jn*12),accuracy:Math.floor(80+jn*18),growth:Math.floor(5+jn*25)}),jn<1&&requestAnimationFrame(yi)};requestAnimationFrame(yi),On.disconnect()}},{threshold:.6});return On.observe(an),()=>On.disconnect()},[]),reactExports.useEffect(()=>{const an=document.querySelectorAll("[data-step]"),On=new window.IntersectionObserver(Mn=>{Mn.forEach(ui=>{ui.isIntersecting&&rr(Number(ui.target.getAttribute("data-step")))})},{rootMargin:"-30% 0px -50% 0px",threshold:.3});return an.forEach(Mn=>On.observe(Mn)),()=>On.disconnect()},[]),reactExports.useEffect(()=>{const an={root:null,rootMargin:"-40% 0px -55% 0px",threshold:.1},On=new window.IntersectionObserver(Mn=>{Mn.forEach(ui=>{ui.isIntersecting&&Ci(ui.target.id)})},an);return Gn.forEach(Mn=>{const ui=document.getElementById(Mn.id);ui&&On.observe(ui)}),()=>On.disconnect()},[]),reactExports.useEffect(()=>{yr(0);const an=setInterval(()=>yr(On=>(On+1)%Fi[tr].length),2500);return()=>clearInterval(an)},[tr]),reactExports.useEffect(()=>{AOS.init({duration:1e3});const an=Me.current;if(an&&!Oe){const On=new IntersectionObserver(([Mn])=>{Mn.isIntersecting&&(fetch("/assets/supplyFlow.json").then(ui=>ui.json()).then(qe).catch(console.error),On.disconnect())},{threshold:.2});On.observe(an)}He.current||(He.current=document.createElement("div"),He.current.id="confetti-layer",He.current.style.cssText="position:fixed;inset:0;pointer-events:none;overflow:hidden;z-index:60;",document.body.appendChild(He.current))},[]),reactExports.useEffect(()=>{const an=Rn.current,On=ri.current;if(!an||!On)return;const Mn=an.getTotalLength(),ui=an.getPointAtLength(yn*Mn),Vn=an.getPointAtLength(Math.min(Mn,yn*Mn+1)),yi=Math.atan2(Vn.y-ui.y,Vn.x-ui.x),jn={w:320,h:800},vn=On.getBoundingClientRect(),Ni=ui.x/jn.w*vn.width,xi=ui.y/jn.h*vn.height;ti({x:Ni,y:xi,r:yi})},[yn]),reactExports.useEffect(()=>{const an=document.querySelectorAll("[data-role-step]"),On=new IntersectionObserver(Mn=>{Mn.forEach(ui=>{if(ui.isIntersecting){const Vn=Number(ui.target.getAttribute("data-role-step"));hn(Vn),ei(yn,[0,.5,1][Vn],900)}})},{rootMargin:"-30% 0px -50% 0px",threshold:.4});return an.forEach(Mn=>On.observe(Mn)),()=>On.disconnect()},[]);const ji=an=>{const On=an.currentTarget,Mn=On.getBoundingClientRect(),ui=an.clientX-Mn.left,yi=((an.clientY-Mn.top)/Mn.height-.5)*-10,jn=(ui/Mn.width-.5)*10;On.style.transform=`perspective(900px) rotateX(${yi}deg) rotateY(${jn}deg) translateZ(0)`},wi=an=>{an.currentTarget.style.transform="perspective(900px) rotateX(0deg) rotateY(0deg)"},En=()=>{if(!He.current)return;const an=He.current,On=50;for(let Mn=0;Mn<On;Mn++){const ui=document.createElement("span"),Vn=Math.random()*8+4,yi=Math.random()*100,jn=Math.floor(Math.random()*360);ui.style.cssText=`position:absolute;top:0;left:${yi}%;width:${Vn}px;height:${Vn}px;background:hsl(${jn} 90% 60%);opacity:0.9;border-radius:${Math.random()>.5?50:4}%;transform:translateY(-10px);`,an.appendChild(ui);const vn=800+Math.random()*700,Ni=80+Math.random()*120,xi=(Math.random()-.5)*120;ui.animate([{transform:"translateY(-10px) translateX(0) rotate(0deg)",opacity:1},{transform:`translateY(${Ni}vh) translateX(${xi}px) rotate(${Math.random()*720-360}deg)`,opacity:0}],{duration:vn,easing:"cubic-bezier(.2,.7,.3,1)",fill:"forwards"}),setTimeout(()=>ui.remove(),vn+50)}};return jsxRuntimeExports.jsxs("div",{className:`text-white min-h-screen aurora-bg anim-gradient grain bg-gradient-to-b ${THEME.bg} ${Ke==="dusk"?"theme-dusk":"theme-dark"}`,children:[jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"fixed inset-0 -z-10 bg-[#0B0F14]"}),jsxRuntimeExports.jsx("div",{ref:Qe,"aria-hidden":!0,className:"fixed top-0 left-0 z-0 pointer-events-none w-[300px] h-[300px] rounded-full",style:{background:"radial-gradient(150px 150px at center, rgba(16,185,129,0.25), rgba(16,185,129,0.0) 70%)",filter:"blur(20px)"}}),jsxRuntimeExports.jsxs("header",{className:`sticky top-0 z-50 glass supports-[backdrop-filter]:bg-white/5 bg-white/10 flex justify-between items-center border-b border-white/10 transition-all duration-300 ${Fe?"py-1 px-3 md:py-2 md:px-4":"py-4 px-6 md:py-6 md:px-8"}`,children:[jsxRuntimeExports.jsx("div",{className:"flex items-center",children:jsxRuntimeExports.jsx("img",{src:"/assets/flyp-logo.png",alt:"FLYP Logo",className:`${Fe?"h-8 md:h-10":"h-16 md:h-20"} w-auto drop-shadow-md transition-all duration-300`})}),jsxRuntimeExports.jsxs("nav",{className:`hidden md:flex ${Fe?"gap-5 text-sm":"gap-6 text-base"} transition-all duration-300`,children:[jsxRuntimeExports.jsx(Link,{to:"#features",className:"hover:text-emerald-300",children:"Features"}),jsxRuntimeExports.jsx(Link,{to:"#pricing",className:"hover:text-emerald-300",children:"Pricing"}),jsxRuntimeExports.jsx(Link,{to:"#contact",className:"hover:text-emerald-300",children:"Contact"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{className:`hidden md:inline-flex rounded-full border border-white/20 hover:border-emerald-400/60 ${Fe?"px-2.5 py-0.5 text-[11px]":"px-3 py-1 text-xs"} transition-all duration-300`,onClick:()=>Xe(an=>an==="dark"?"dusk":"dark"),title:"Toggle theme",children:Ke==="dark"?"Dusk Mode":"Dark Mode"}),jsxRuntimeExports.jsx("button",{className:`rounded border border-white/20 hover:border-emerald-400/60 ${Fe?"px-3 py-0.5 text-sm":"px-4 py-1"} transition-all duration-300`,onClick:()=>Re("/auth?type=login"),children:"Sign In"}),jsxRuntimeExports.jsx("button",{className:`rounded bg-emerald-400 hover:bg-emerald-300 text-gray-900 font-semibold shadow-[0_8px_30px_rgba(16,185,129,0.25)] ${Fe?"px-3 py-1 text-sm":"px-4 py-1"} transition-all duration-300`,onClick:()=>Re("/auth?type=register"),children:"Register"})]})]}),jsxRuntimeExports.jsx("div",{className:"fixed top-0 left-0 h-1 bg-gradient-to-r from-green-500 via-yellow-500 to-blue-500 z-50 transition-[width]",style:{width:`${Ce}%`}}),jsxRuntimeExports.jsxs("section",{id:"hero",className:"relative flex flex-col-reverse md:flex-row items-center px-6 md:px-10 py-24 overflow-hidden min-h-[80vh]",children:[jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0",style:{background:"radial-gradient(800px 300px at 10% 10%, rgba(16,185,129,0.06), transparent 60%), radial-gradient(600px 240px at 90% 20%, rgba(34,197,94,0.06), transparent 60%)"}}),jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"absolute inset-0 grid-overlay pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 text-center md:text-left z-10 space-y-6",style:{transform:`translateY(${Be.title}px)`,transition:"transform .2s ease-out"},children:[jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-6xl font-extrabold leading-tight drop-shadow-[0_2px_20px_rgba(0,0,0,0.45)]",children:[jsxRuntimeExports.jsx("span",{className:"block kinetic-text",children:"FLYP"}),jsxRuntimeExports.jsxs("svg",{className:"inline-block align-middle ml-3 w-10 h-10",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{id:"morph",fill:"url(#g1)",d:"M50 10 C65 20,75 35,80 50 C75 65,65 80,50 90 C35 80,25 65,20 50 C25 35,35 20,50 10 Z"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"g1",x1:"0",y1:"0",x2:"1",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#34d399"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#2dd4bf"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]})}),jsxRuntimeExports.jsx("animate",{xlinkHref:"#morph",attributeName:"d",dur:"6s",repeatCount:"indefinite",values:`
                M50 10 C65 20,75 35,80 50 C75 65,65 80,50 90 C35 80,25 65,20 50 C25 35,35 20,50 10 Z;
                M10 60 L50 50 L90 40 L50 70 Z;
                M50 15 C70 30,85 45,90 50 C85 55,70 70,50 85 C30 70,15 55,10 50 C15 45,30 30,50 15 Z;
                M50 10 C65 20,75 35,80 50 C75 65,65 80,50 90 C35 80,25 65,20 50 C25 35,35 20,50 10 Z
                `})]}),jsxRuntimeExports.jsx("span",{className:"block mt-2 bg-gradient-to-r from-white via-white to-emerald-200 bg-clip-text text-transparent drop-shadow-[0_1px_10px_rgba(0,0,0,0.35)] animate-word",children:Ye[Ze]},Ze),jsxRuntimeExports.jsx("span",{className:"block mt-3 text-xl md:text-2xl font-semibold bg-gradient-to-r from-emerald-300 via-teal-200 to-cyan-300 bg-clip-text text-transparent",children:"Stop running your business  start flying it."}),jsxRuntimeExports.jsxs("svg",{className:"mt-4 w-56 h-6 opacity-80",viewBox:"0 0 224 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[jsxRuntimeExports.jsx("path",{d:"M2 12 C 60 2, 120 22, 222 10",stroke:"url(#grad)",strokeWidth:"2",strokeLinecap:"round"}),jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"grad",x1:"0",y1:"0",x2:"1",y2:"0",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#34d399"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#2dd4bf"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]})}),jsxRuntimeExports.jsx("circle",{children:jsxRuntimeExports.jsx("animateMotion",{dur:"4s",repeatCount:"indefinite",path:"M2 12 C 60 2, 120 22, 222 10"})})]})]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-white/80 max-w-xl force-text",children:"Onboard in under 30 minutes. Automate inventory, billing, and distributor collaboration  with experiences crafted like a flagship product launch."}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6 justify-center md:justify-start text-sm",children:[jsxRuntimeExports.jsxs("div",{className:`px-4 py-2 rounded ${THEME.card} shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[ar.hours,"h/wk"]}),jsxRuntimeExports.jsx("div",{className:"text-white/60",children:"Saved Ops"})]}),jsxRuntimeExports.jsxs("div",{className:`px-4 py-2 rounded ${THEME.card} shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[ar.accuracy,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-white/60",children:"OCR Accuracy"})]}),jsxRuntimeExports.jsxs("div",{className:`px-4 py-2 rounded ${THEME.card} shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsxs("div",{className:"text-2xl font-bold",children:[ar.growth,"%"]}),jsxRuntimeExports.jsx("div",{className:"text-white/60",children:"Faster Billing"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-3",children:[jsxRuntimeExports.jsx(Link,{to:"/auth?type=register",children:jsxRuntimeExports.jsx("button",{className:"relative group px-6 py-2 rounded font-semibold text-gray-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover-raise magnetic",onMouseMove:wr,onMouseLeave:Er,children:jsxRuntimeExports.jsx("span",{className:"relative z-10",children:"Get Started Free"})})}),jsxRuntimeExports.jsx("a",{href:"#story",className:"px-6 py-2 rounded border border-white/20 hover:border-emerald-300/60",children:"See How It Works"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>cr(!0),className:"mt-3 inline-flex items-center gap-2 text-sm px-4 py-1.5 rounded-full border border-emerald-300/40 bg-white/5 hover:bg-white/10",children:jsxRuntimeExports.jsx("span",{children:"Estimate ROI"})})]}),jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/2 flex justify-center z-10 md:-mt-10 -mt-4",style:{transform:`translateY(${Be.art-20}px)`,transition:"transform .2s ease-out"},children:jsxRuntimeExports.jsx("div",{ref:Me,onMouseMove:ji,onMouseLeave:wi,className:`w-[30rem] h-[30rem] rounded-2xl ${THEME.card} will-change-transform flex items-center justify-center shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:We&&jsxRuntimeExports.jsx(Lottie,{animationData:We,loop:!0,className:"w-[26rem] h-[26rem]"})})}),jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"absolute bottom-0 left-0 right-0 h-24 overflow-hidden",children:jsxRuntimeExports.jsx("svg",{className:"w-full h-full",viewBox:"0 0 1440 96",preserveAspectRatio:"none",children:jsxRuntimeExports.jsx("path",{d:"M0,64 C240,32 480,96 720,64 C960,32 1200,0 1440,32 L1440,96 L0,96 Z",fill:"rgba(255,255,255,0.03)"})})})]}),jsxRuntimeExports.jsxs("section",{id:"story",className:"relative px-6 md:px-10 py-24",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 text-center md:text-left",children:[jsxRuntimeExports.jsx("div",{className:"text-emerald-300/80 text-[11px] uppercase tracking-[0.22em]",children:"Story"}),jsxRuntimeExports.jsx("h2",{className:"text-4xl md:text-5xl font-extrabold mt-1",children:"The journey: Product Owner  Distributor  Retailer"}),jsxRuntimeExports.jsx("p",{className:"text-white/70 mt-2 max-w-2xl",children:"FLYP is the only platform that connects product owners to distributors to retailers. Each role gets powerful tools to manage inventory, billing, and analytics  so data flows downstream while insights flow back up."})]}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-6 text-center md:text-left",children:"One network. Three roles. Zero friction."}),jsxRuntimeExports.jsx("p",{className:"text-white/70 mb-10 max-w-2xl md:max-w-none text-center md:text-left",children:"FLYP connects Product Owners  Distributors  Retailers on a single data layer so catalogs, bills, and analytics flow downstream  and insights flow back up."}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-10 items-start",children:[jsxRuntimeExports.jsxs("div",{className:"relative",ref:ri,children:[jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 320 800",className:"w-full h-[700px] md:h-[820px]",children:[jsxRuntimeExports.jsxs("defs",{children:[jsxRuntimeExports.jsxs("linearGradient",{id:"route",x1:"0",y1:"0",x2:"0",y2:"1",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#34d399"}),jsxRuntimeExports.jsx("stop",{offset:"50%",stopColor:"#2dd4bf"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]}),jsxRuntimeExports.jsxs("filter",{id:"routeGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[jsxRuntimeExports.jsx("feGaussianBlur",{stdDeviation:"6",result:"blur"}),jsxRuntimeExports.jsxs("feMerge",{children:[jsxRuntimeExports.jsx("feMergeNode",{in:"blur"}),jsxRuntimeExports.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),jsxRuntimeExports.jsx("path",{id:"routePathMeasure",ref:Rn,d:"M160 30 C 40 120, 280 180, 160 270 S 40 420, 160 520 S 280 650, 160 770",fill:"none",stroke:"transparent",strokeWidth:"6"}),jsxRuntimeExports.jsx("path",{d:"M160 30 C 40 120, 280 180, 160 270 S 40 420, 160 520 S 280 650, 160 770",fill:"none",stroke:"url(#route)",strokeWidth:"10",strokeLinecap:"round",strokeLinejoin:"round",opacity:"0.25",filter:"url(#routeGlow)"}),jsxRuntimeExports.jsx("path",{className:"dash-route",d:"M160 30 C 40 120, 280 180, 160 270 S 40 420, 160 520 S 280 650, 160 770",fill:"none",stroke:"url(#route)",strokeWidth:"6",strokeLinecap:"round",strokeLinejoin:"round"}),jsxRuntimeExports.jsxs("g",{"aria-hidden":!0,children:[jsxRuntimeExports.jsx("circle",{r:"3",fill:"#a7f3d0",children:jsxRuntimeExports.jsx("animateMotion",{dur:"8s",repeatCount:"indefinite",begin:"0s",rotate:"auto",path:"M160 30 C 40 120, 280 180, 160 270 S 40 420, 160 520 S 280 650, 160 770"})}),jsxRuntimeExports.jsx("circle",{r:"3",fill:"#99f6e4",opacity:"0.85",children:jsxRuntimeExports.jsx("animateMotion",{dur:"10s",repeatCount:"indefinite",begin:"1.2s",rotate:"auto",path:"M160 30 C 40 120, 280 180, 160 270 S 40 420, 160 520 S 280 650, 160 770"})}),jsxRuntimeExports.jsx("circle",{r:"2.6",fill:"#86efac",opacity:"0.9",children:jsxRuntimeExports.jsx("animateMotion",{dur:"7s",repeatCount:"indefinite",begin:"2.4s",rotate:"auto",path:"M160 30 C 40 120, 280 180, 160 270 S 40 420, 160 520 S 280 650, 160 770"})})]}),jsxRuntimeExports.jsx("circle",{cx:"160",cy:"270",r:"7",fill:"#34d399"}),jsxRuntimeExports.jsx("circle",{cx:"160",cy:"520",r:"7",fill:"#2dd4bf"}),jsxRuntimeExports.jsx("circle",{cx:"160",cy:"770",r:"7",fill:"#22d3ee"})]}),jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute w-12 h-8 -translate-x-1/2 -translate-y-1/2",style:{left:Yn.x+"px",top:Yn.y+"px",transform:`translate(-50%, -50%) rotate(${Yn.r}rad)`},children:jsxRuntimeExports.jsxs("svg",{viewBox:"0 0 64 32",className:"w-full h-full drop-shadow-[0_6px_16px_rgba(34,211,238,.35)]",children:[jsxRuntimeExports.jsx("defs",{children:jsxRuntimeExports.jsxs("linearGradient",{id:"truckGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[jsxRuntimeExports.jsx("stop",{offset:"0%",stopColor:"#34d399"}),jsxRuntimeExports.jsx("stop",{offset:"100%",stopColor:"#22d3ee"})]})}),jsxRuntimeExports.jsx("rect",{x:"6",y:"10",width:"34",height:"14",rx:"3",fill:"url(#truckGrad)"}),jsxRuntimeExports.jsx("path",{d:"M40 10 h12 l4 6 v8 H40Z",fill:"url(#truckGrad)"}),jsxRuntimeExports.jsx("rect",{x:"44",y:"12",width:"6",height:"5",rx:"1",fill:"rgba(255,255,255,0.85)"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"26",r:"3.3",fill:"#0b0f14"}),jsxRuntimeExports.jsx("circle",{cx:"48",cy:"26",r:"3.3",fill:"#0b0f14"}),jsxRuntimeExports.jsx("circle",{cx:"16",cy:"26",r:"1.4",fill:"#a7f3d0"}),jsxRuntimeExports.jsx("circle",{cx:"48",cy:"26",r:"1.4",fill:"#a7f3d0"}),jsxRuntimeExports.jsx("circle",{cx:"56",cy:"22",r:"1.4",fill:"#fff"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-10",children:[jsxRuntimeExports.jsxs("div",{"data-role-step":"0",className:`p-5 rounded-xl ${THEME.card} ${bn===0?"ring-1 ring-emerald-400/60 scale-[1.01]":""} transition-all`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm uppercase tracking-widest text-white/60",children:"Product Owner"}),jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold mt-1",children:"Orchestrate your distributors"}),jsxRuntimeExports.jsxs("ul",{className:"mt-3 text-white/80 text-sm space-y-2 list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:"Push catalogs & price lists downstream"}),jsxRuntimeExports.jsx("li",{children:"Realtime sell-through visibility from retailers"}),jsxRuntimeExports.jsx("li",{children:"AI Inventory Generator + demand forecasts"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/feature/distributor",className:"px-3 py-1.5 rounded bg-emerald-400/90 text-gray-900 font-semibold",children:"View Features"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-1.5 rounded border border-white/20",children:"See Demos"})]})]}),jsxRuntimeExports.jsxs("div",{"data-role-step":"1",className:`p-5 rounded-xl ${THEME.card} ${bn===1?"ring-1 ring-teal-300/60 scale-[1.01]":""} transition-all`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm uppercase tracking-widest text-white/60",children:"Distributor"}),jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold mt-1",children:"Manage retailers with precision"}),jsxRuntimeExports.jsxs("ul",{className:"mt-3 text-white/80 text-sm space-y-2 list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:"Smart cart with quantity suggestions"}),jsxRuntimeExports.jsx("li",{children:"Automated billing & credit control"}),jsxRuntimeExports.jsx("li",{children:"Inventory sync across branches"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/feature/smart-cart",className:"px-3 py-1.5 rounded bg-teal-300/90 text-gray-900 font-semibold",children:"View Features"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-1.5 rounded border border-white/20",children:"See Demos"})]})]}),jsxRuntimeExports.jsxs("div",{"data-role-step":"2",className:`p-5 rounded-xl ${THEME.card} ${bn===2?"ring-1 ring-cyan-300/60 scale-[1.01]":""} transition-all`,children:[jsxRuntimeExports.jsx("div",{className:"text-sm uppercase tracking-widest text-white/60",children:"Retailer"}),jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold mt-1",children:"Delight customers & grow"}),jsxRuntimeExports.jsxs("ul",{className:"mt-3 text-white/80 text-sm space-y-2 list-disc list-inside",children:[jsxRuntimeExports.jsx("li",{children:"OCR billing import  instant bills"}),jsxRuntimeExports.jsx("li",{children:"Customer analytics & repeat purchase nudges"}),jsxRuntimeExports.jsx("li",{children:"WhatsApp share & one-tap approvals"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx(Link,{to:"/feature/analytics",className:"px-3 py-1.5 rounded bg-cyan-300/90 text-gray-900 font-semibold",children:"View Features"}),jsxRuntimeExports.jsx("button",{className:"px-3 py-1.5 rounded border border-white/20",children:"See Demos"})]})]})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"features",className:"py-16 px-10 bg-transparent text-center",children:[jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"-mt-10 mb-10 h-6 rotate-1 bg-white/5"}),jsxRuntimeExports.jsx("div",{className:"relative h-14 mb-6 overflow-hidden",children:jsxRuntimeExports.jsx("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 800 56","aria-hidden":!0,children:jsxRuntimeExports.jsxs("g",{opacity:"0.9",children:[jsxRuntimeExports.jsx("rect",{x:`${10+Ce*1.2}`,y:"18",width:"28",height:"20",rx:"3",fill:"rgba(255,255,255,0.15)"}),jsxRuntimeExports.jsx("rect",{x:`${100+Ce*.9}`,y:"12",width:"38",height:"26",rx:"4",fill:"rgba(16,185,129,0.25)"}),jsxRuntimeExports.jsx("rect",{x:`${220+Ce*.7}`,y:"16",width:"34",height:"22",rx:"4",fill:"rgba(34,211,238,0.25)"}),jsxRuntimeExports.jsx("path",{d:"M580,38 h140",stroke:"rgba(255,255,255,0.2)",strokeWidth:"3",strokeLinecap:"round"}),jsxRuntimeExports.jsx("path",{d:"M540,30 C560,10 600,10 620,30",stroke:"rgba(34,197,94,0.3)",strokeWidth:"3",fill:"none"}),jsxRuntimeExports.jsx("rect",{x:`${360+Ce*.5}`,y:"14",width:"58",height:"28",rx:"6",fill:"rgba(255,255,255,0.12)"}),jsxRuntimeExports.jsx("rect",{x:`${440+Ce*.4}`,y:"18",width:"42",height:"20",rx:"4",fill:"rgba(255,255,255,0.12)"})]})})}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-12","aria-label":"Core Features and actions",children:"Core Features"}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-4 gap-10",children:Si.map(an=>jsxRuntimeExports.jsx(Link,{to:an.href,className:"group outline-none focus-visible:ring-2 focus-visible:ring-emerald-400 rounded-xl block",onClick:On=>{On.preventDefault(),Or(an),Ir(!0),Ur(0),an.key==="ocr-import"&&(Gr(50),nn(0),setTimeout(()=>{let Mn=performance.now();const ui=1200,Vn=()=>{const yi=Math.min(1,(performance.now()-Mn)/ui);nn(Math.floor(5+yi*32)),yi<1&&requestAnimationFrame(Vn)};requestAnimationFrame(Vn)},150))},children:jsxRuntimeExports.jsxs("div",{"data-aos":"zoom-in",onMouseMove:ji,onMouseLeave:wi,onClick:Ti,className:`relative transition-transform duration-200 will-change-transform p-5 rounded-xl ${THEME.card} shadow-[0_10px_40px_rgba(0,0,0,0.35)] hover:shadow-[0_14px_60px_rgba(0,0,0,0.45)] feature-card`,children:[an.badge&&jsxRuntimeExports.jsx("span",{className:"absolute top-3 right-3 text-[10px] uppercase tracking-wider px-2 py-0.5 rounded-full bg-emerald-400/20 border border-emerald-300/40 text-emerald-200",children:an.badge}),jsxRuntimeExports.jsx("div",{className:"mx-auto mb-4 w-20 h-20 rounded flex items-center justify-center bg-white/5 border border-white/10 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:an.icon,alt:"",className:"w-10 h-10 object-contain group-hover:scale-110 transition-transform"})}),jsxRuntimeExports.jsx("h4",{className:"font-semibold text-lg text-white",children:an.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:an.desc}),jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("div",{className:"absolute -inset-px rounded-xl bg-gradient-to-r from-emerald-400/20 via-teal-300/20 to-cyan-400/20 blur-sm"})})]})},an.key))})]}),jsxRuntimeExports.jsxs("section",{id:"whyflyp",className:"py-20 px-10 bg-white/5 border-y border-white/10 text-center",children:[jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"-mt-10 mb-10 h-10 overflow-hidden",children:jsxRuntimeExports.jsx("svg",{className:"w-full h-full",viewBox:"0 0 1440 80",preserveAspectRatio:"none",children:jsxRuntimeExports.jsx("path",{d:"M0,80 C360,40 720,0 1440,40 L1440,0 L0,0 Z",fill:"rgba(0,0,0,0.25)"})})}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-10",children:"Why FLYP?"}),jsxRuntimeExports.jsx("p",{className:"text-lg text-white max-w-4xl mx-auto mb-6 force-text",children:"FLYP is the only platform connecting Retailers, Distributors, and Product Owners with AI-powered inventory management, automated billing, performance analytics, and real-time collaboration."}),jsxRuntimeExports.jsx("p",{className:"text-lg text-white/70 max-w-3xl mx-auto force-text",children:"Whether youre tracking SKUs, scanning paper invoices, generating smart bills, or managing your full supply chain  FLYP adapts to your workflow and unlocks scale."})]}),jsxRuntimeExports.jsx("section",{id:"case",className:"py-14 px-6 md:px-10",children:jsxRuntimeExports.jsx("div",{className:`grid md:grid-cols-1 gap-8 items-center rounded-2xl ${THEME.card} p-6`,children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-[11px] uppercase tracking-[0.22em] text-emerald-300/80",children:"Case Study"}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-extrabold mt-1",children:"How Acme Retail cut billing time by 48%"}),jsxRuntimeExports.jsxs("p",{className:"text-white/70 mt-2",children:["With FLYPs OCR import and smart cart, Acme processed 3,200+ invoices in the first month, saving ",jsxRuntimeExports.jsx("b",{children:"140+ hours"})," and reducing stockouts by ",jsxRuntimeExports.jsx("b",{children:"22%"}),"."]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-center",children:[jsxRuntimeExports.jsxs("div",{className:`p-3 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",children:"48%"}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-xs",children:"Faster billing"})]}),jsxRuntimeExports.jsxs("div",{className:`p-3 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",children:"22%"}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-xs",children:"Stockouts"})]}),jsxRuntimeExports.jsxs("div",{className:`p-3 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold",children:"140h"}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-xs",children:"Hours saved"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-5 flex gap-2",children:[jsxRuntimeExports.jsx("a",{href:"#pricing",className:"px-4 py-2 rounded font-semibold text-gray-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover-raise",children:"Start Free"}),jsxRuntimeExports.jsx("a",{href:"#contact",className:"px-4 py-2 rounded border border-white/20",children:"Talk to us"})]})]})})}),jsxRuntimeExports.jsx("section",{className:"py-10 px-6 overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:`relative rounded-xl ${THEME.card} p-3 ticker-mask`,children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-emerald-400/10 via-teal-300/10 to-cyan-400/10 pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:`ticker flex gap-12 whitespace-nowrap text-sm ${Oe?"pause-anim":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"12h/wk"})," saved on ops"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"98%"})," OCR accuracy"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"30%"})," faster billing"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"22%"})," stockouts"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"+18%"})," margin lift"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"99.9%"})," sync reliability"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"12h/wk"})," saved on ops"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"98%"})," OCR accuracy"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"30%"})," faster billing"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"22%"})," stockouts"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"+18%"})," margin lift"]}),jsxRuntimeExports.jsxs("div",{className:"item",children:[" ",jsxRuntimeExports.jsx("b",{children:"99.9%"})," sync reliability"]})]})]})}),jsxRuntimeExports.jsxs("section",{id:"testimonials",className:"py-20 px-6 md:px-10 text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl md:text-4xl font-extrabold",children:"Loved by modern businesses"}),jsxRuntimeExports.jsx("p",{className:"text-white/70 mt-2 max-w-2xl mx-auto",children:"What retailers, distributors, and product owners say after switching to FLYP."}),jsxRuntimeExports.jsx("div",{className:"mt-10 grid md:grid-cols-3 gap-6",children:[{name:"Riya",role:"Retailer",quote:"OCR import cut billing time by half.",avatar:"/assets/avatars/retailer_1.png",stars:5},{name:"Aman",role:"Distributor",quote:"We finally see real-time stock across branches.",avatar:"/assets/avatars/distributor_1.png",stars:5},{name:"Neha",role:"Retailer",quote:"12+ hours saved every week, reliably.",avatar:"/assets/avatars/retailer_2.png",stars:5}].map((an,On)=>jsxRuntimeExports.jsxs("div",{className:`p-6 text-left rounded-2xl ${THEME.card} hover:shadow-[0_18px_60px_rgba(0,0,0,0.35)] transition`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative w-9 h-9 rounded-full overflow-hidden border border-white/10 bg-white/10 flex items-center justify-center text-sm font-semibold",children:[jsxRuntimeExports.jsx("img",{src:an.avatar||"",alt:"",className:"absolute inset-0 w-full h-full object-cover",onError:Mn=>{Mn.currentTarget.style.display="none"}}),jsxRuntimeExports.jsx("span",{className:"text-white/90",children:an.name?.[0]||"U"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:an.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white/60",children:an.role})]}),jsxRuntimeExports.jsx("div",{className:"ml-auto text-amber-300 text-sm",children:"".slice(0,an.stars)})]}),jsxRuntimeExports.jsx("p",{className:"text-white/80",children:an.quote})]},On))}),jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-white/10 mt-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-400/5 via-teal-300/5 to-cyan-400/5 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:`flex gap-6 whitespace-nowrap items-stretch testimonial-track p-4 hover:[animation-play-state:paused] will-change-transform ${Oe?"pause-anim":""}`,children:["Credit control is finally under control.  Vikram  Distributor","WhatsApp invoices boosted repeat orders.  Sana  Retailer","Downstream catalogs just work.  Karthik  Product Owner","Training the team took minutes, not weeks.  Priya  Retailer","Inventory sync killed our stockout fights.  Rahul  Distributor","Delightful billing. Our cashflow thanks you.  Isha  Retailer"].concat(["Credit control is finally under control.  Vikram  Distributor","WhatsApp invoices boosted repeat orders.  Sana  Retailer","Downstream catalogs just work.  Karthik  Product Owner","Training the team took minutes, not weeks.  Priya  Retailer","Inventory sync killed our stockout fights.  Rahul  Distributor","Delightful billing. Our cashflow thanks you.  Isha  Retailer"]).map((an,On)=>jsxRuntimeExports.jsx("div",{className:"flex-none w-[320px] md:w-[420px]",children:jsxRuntimeExports.jsx("div",{className:`min-h-[72px] p-5 rounded-xl ${THEME.card} text-left flex items-center`,children:jsxRuntimeExports.jsx("p",{className:"m-0 text-white/80 leading-snug whitespace-normal break-words",children:an})})},On))})]})]}),jsxRuntimeExports.jsx("section",{id:"security",className:"px-6 md:px-10 py-10 text-center",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex flex-wrap items-center gap-3 px-4 py-2 rounded-full bg-white/5 border border-white/10",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70 text-sm",children:"Security & Reliability:"}),jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-white/15 bg-white/5",children:"Data encrypted in transit"}),jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-white/15 bg-white/5",children:"Role-based permissions"}),jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-white/15 bg-white/5",children:"Audit-friendly exports"}),jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-white/15 bg-white/5",children:"GST-ready billing"})]})}),jsxRuntimeExports.jsxs("section",{id:"pricing",className:"py-20 px-10 bg-transparent text-center",children:[jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"-mt-10 mb-10 h-6 -rotate-1 bg-white/5"}),jsxRuntimeExports.jsx("h3",{className:"text-3xl font-bold mb-6",children:"Pricing Plans"}),jsxRuntimeExports.jsxs("div",{className:"mb-8 flex items-center justify-center gap-3 text-sm",children:[jsxRuntimeExports.jsx("span",{className:`${Cr?"text-white/60":"text-emerald-300"}`,children:"Monthly"}),jsxRuntimeExports.jsx("button",{onClick:()=>jr(an=>!an),className:"relative h-7 w-14 rounded-full bg-white/10 border border-white/15 transition-colors hover:bg-white/15","aria-label":"Toggle yearly pricing",children:jsxRuntimeExports.jsx("span",{className:`absolute top-0.5 ${Cr?"left-7":"left-0.5"} h-6 w-6 rounded-full bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 transition-all`})}),jsxRuntimeExports.jsxs("span",{className:`${Cr?"text-emerald-300":"text-white/60"}`,children:["Yearly ",jsxRuntimeExports.jsx("span",{className:"ml-1 rounded-full px-2 py-0.5 text-[10px] border border-emerald-300/40 bg-emerald-400/10",children:"Save 20%"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-4 gap-8"}),jsxRuntimeExports.jsx("div",{className:"mt-12 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left text-sm border-separate border-spacing-y-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-white/70",children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-2",children:"Feature"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2",children:"Check-In"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2",children:"Onboard"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2",children:"Takeoff"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-2",children:"Fly"})]})}),jsxRuntimeExports.jsx("tbody",{children:[["OCR Billing Import","","","",""],["Smart Cart Suggestions","","","",""],["Realtime Inventory Sync","","","",""],["Dashboards & KPIs","","","",""],["Distributor Connect","","","",""],["Priority Support","","","",""]].map((an,On)=>jsxRuntimeExports.jsxs("tr",{className:"align-top",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-2 rounded-lg bg-white/5 border border-white/10",children:an[0]})}),an.slice(1).map((Mn,ui)=>jsxRuntimeExports.jsx("td",{className:"px-4 py-2",children:jsxRuntimeExports.jsx("span",{className:`inline-flex items-center justify-center w-9 h-9 rounded-full ${Mn===""?"bg-emerald-400/15 border border-emerald-300/40 text-emerald-200":"bg-white/5 border border-white/10 text-white/40"}`,children:Mn})},ui))]},On))})]})}),jsxRuntimeExports.jsxs("div",{id:"faq",className:"mt-14 text-left max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold mb-4 text-center",children:"FAQs"}),[{q:"How long does onboarding take?",a:"Most teams go live in under 30 minutes using OCR import and defaults."},{q:"Do you support GST-compliant invoices?",a:"Yes. Templates are GST-ready and exports are audit-friendly."},{q:"Can I switch plans anytime?",a:"Absolutely. Upgrade or downgrade with one click; billing prorates automatically."},{q:"Is my data secure?",a:"Data is encrypted in transit, and role-based permissions keep access tight."},{q:"Do you offer support for distributors?",a:"YesDistributor Connect, branch sync, and credit control are included on Takeoff and Fly."}].map((an,On)=>jsxRuntimeExports.jsxs("details",{className:`group mb-3 rounded-lg ${THEME.card} p-4`,children:[jsxRuntimeExports.jsxs("summary",{className:"list-none flex items-center justify-between cursor-pointer",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:an.q}),jsxRuntimeExports.jsx("span",{className:"ml-4 transition-transform group-open:rotate-45 text-white/60",children:""})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-white/70",children:an.a})]},On)),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",onMouseMove:ji,onMouseLeave:wi,className:`p-6 rounded-xl ${THEME.card} will-change-transform shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Check-In"}),jsxRuntimeExports.jsx("p",{className:"text-emerald-300 font-semibold text-2xl mb-6",children:"Free"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-white/70 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Basic inventory tracking & billing."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Limited product sync."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Basic analytics dashboard."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 text-gray-900 px-4 py-2 rounded hover:bg-emerald-400 w-full font-semibold hover-raise",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",onMouseMove:ji,onMouseLeave:wi,className:`p-6 rounded-xl ${THEME.card} will-change-transform shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Onboard"}),jsxRuntimeExports.jsx("p",{className:"text-yellow-300 font-semibold text-2xl mb-6",children:Mr(299)}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-white/70 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Smart cart & OCR billing import."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Inventory sync & order management."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Advanced analytics & AI inventory generator."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-yellow-400/90 text-gray-900 px-4 py-2 rounded hover:bg-yellow-300 w-full font-semibold hover-raise",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",onMouseMove:ji,onMouseLeave:wi,className:`p-6 rounded-xl ${THEME.card} will-change-transform shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Takeoff"}),jsxRuntimeExports.jsx("p",{className:"text-cyan-300 font-semibold text-2xl mb-6",children:Mr(499)}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-white/70 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Customer analytics & realtime inventory sync."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Distributor connect & automated billing."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Dashboards & KPIs with Gemini AI assistant."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-cyan-400/90 text-gray-900 px-4 py-2 rounded hover:bg-cyan-300 w-full font-semibold hover-raise",children:"Choose Plan"})]}),jsxRuntimeExports.jsxs("div",{"data-aos":"flip-left",onMouseMove:ji,onMouseLeave:wi,className:`p-6 rounded-xl ${THEME.card} will-change-transform shadow-[0_10px_40px_rgba(0,0,0,0.35)]`,children:[jsxRuntimeExports.jsx("h4",{className:"text-xl font-bold mb-4",children:"Fly"}),jsxRuntimeExports.jsx("p",{className:"text-white font-semibold text-2xl mb-6",children:"Custom"}),jsxRuntimeExports.jsxs("div",{className:"text-left text-sm text-white/70 space-y-3 mb-6",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer:"})," Full feature access & priority support."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor:"})," Custom integrations & multi-branch management."]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Product Owner:"})," Dedicated AI support & enterprise analytics."]})]}),jsxRuntimeExports.jsx("button",{className:"bg-white/10 text-white px-4 py-2 rounded hover:bg-white/20 w-full font-semibold border border-white/20 hover-raise",children:"Contact Us"})]})]})]}),_r&&Dr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/70 p-4",onClick:()=>Ir(!1),children:jsxRuntimeExports.jsxs("div",{className:`w-full max-w-4xl rounded-2xl ${THEME.card} shadow-[0_20px_70px_rgba(0,0,0,0.6)] overflow-hidden relative`,onClick:an=>an.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ir(!1),className:"absolute top-3 right-3 z-10 px-2 py-1 rounded bg-white/10 hover:bg-white/20",children:""}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative bg-[#0C1117] p-4 md:p-6",onTouchStart:an=>{Qr.current.startX=an.touches[0].clientX},onTouchMove:an=>{Qr.current.dx=an.touches[0].clientX-Qr.current.startX},onTouchEnd:()=>{Math.abs(Qr.current.dx)>40&&Ur(an=>(an+(Qr.current.dx<0?1:-1)+3)%3),Qr.current.dx=0},children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[340px] overflow-hidden rounded-xl border border-white/10",children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 p-4 flex items-center justify-center transition-opacity duration-500 ${br===0?"opacity-100":"opacity-0 pointer-events-none"}`,children:We?jsxRuntimeExports.jsx(Lottie,{animationData:We,loop:!0,className:"w-72 h-72"}):jsxRuntimeExports.jsx("div",{className:"text-white/60",children:"Demo loading"})}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${br===1?"opacity-100":"opacity-0 pointer-events-none"}`,children:Dr.key==="ocr-import"?jsxRuntimeExports.jsxs("div",{className:"h-full w-full relative",children:[jsxRuntimeExports.jsx("img",{src:"/assets/ocr_raw_invoice.jpg",alt:"Raw invoice",className:"absolute inset-0 h-full w-full object-cover rounded-xl"}),jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 rounded-xl overflow-hidden",style:{clipPath:`inset(0 ${100-zr}% 0 0)`},children:[jsxRuntimeExports.jsx("img",{src:"/assets/ocr_structured_invoice.jpg",alt:"Structured fields",className:"h-full w-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-3 right-3 px-3 py-1 rounded bg-emerald-500/20 border border-emerald-400/40 text-emerald-200 text-sm",children:["Detected: ",fn," fields"]})]}),jsxRuntimeExports.jsx("input",{type:"range",min:"0",max:"100",value:zr,onChange:an=>Gr(Number(an.target.value)),className:"absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2 w-[80%]"})]}):jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2 p-4 h-full",children:[jsxRuntimeExports.jsx("div",{className:"rounded-lg bg-white/5 border border-white/10"}),jsxRuntimeExports.jsx("div",{className:"rounded-lg bg-white/5 border border-white/10"}),jsxRuntimeExports.jsx("div",{className:"rounded-lg bg-white/5 border border-white/10"}),jsxRuntimeExports.jsx("div",{className:"rounded-lg bg-white/5 border border-white/10"})]})}),jsxRuntimeExports.jsx("div",{className:`absolute inset-0 transition-opacity duration-500 ${br===2?"opacity-100":"opacity-0 pointer-events-none"}`,children:jsxRuntimeExports.jsxs("div",{className:"p-6 h-full w-full flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70 mb-2",children:"Type SKU to preview AI suggestion"}),jsxRuntimeExports.jsx("input",{id:"skuInput",placeholder:"e.g. FLYP-BOX-12",className:"rounded bg-white/10 border border-white/10 px-3 py-2 mb-3",onKeyDown:an=>{an.key==="Enter"&&En()}}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-3 text-center",children:[jsxRuntimeExports.jsxs("div",{className:`p-3 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"12"}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-xs",children:"Suggested Qty"})]}),jsxRuntimeExports.jsxs("div",{className:`p-3 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"18%"}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-xs",children:"Margin"})]}),jsxRuntimeExports.jsxs("div",{className:`p-3 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsx("div",{className:"text-2xl font-bold",children:"1,240"}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-xs",children:"Profit"})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-auto flex justify-end",children:jsxRuntimeExports.jsx(Link,{to:Dr.href,className:"px-4 py-2 rounded font-semibold text-gray-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400",children:"Open Full Feature"})})]})})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-3 left-1/2 -translate-x-1/2 flex gap-2",children:[0,1,2].map(an=>jsxRuntimeExports.jsx("button",{onClick:()=>Ur(an),className:`w-2.5 h-2.5 rounded-full ${br===an?"bg-emerald-400":"bg-white/30"}`},an))})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("div",{className:"text-sm uppercase tracking-wider text-white/60",children:"Feature"}),jsxRuntimeExports.jsx("h4",{className:"text-2xl font-extrabold",children:Dr.title}),jsxRuntimeExports.jsx("p",{className:"text-white/70",children:Dr.desc}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ur(an=>(an+2)%3),className:"px-3 py-1 rounded border border-white/20",children:"Prev"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ur(an=>(an+1)%3),className:"px-3 py-1 rounded bg-emerald-400/90 text-gray-900 font-semibold",children:"Next"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-auto flex gap-3",children:[jsxRuntimeExports.jsx(Link,{to:Dr.href,className:"px-4 py-2 rounded font-semibold text-gray-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400",children:"Go to Feature"}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ur(2)},className:"px-4 py-2 rounded border border-white/20",children:"Try in Sandbox"})]})]})]})]})}),nr&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4",children:jsxRuntimeExports.jsxs("div",{className:`w-full max-w-xl rounded-2xl ${THEME.card} shadow-[0_10px_50px_rgba(0,0,0,0.5)] p-6 relative`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>cr(!1),className:"absolute top-3 right-3 px-2 py-1 rounded bg-white/10 hover:bg-white/20",children:""}),jsxRuntimeExports.jsx("h4",{className:"text-2xl font-bold mb-4",children:"Your ROI with FLYP"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4 text-sm",children:[jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-white/70",children:"Orders / day"}),jsxRuntimeExports.jsx("input",{type:"number",value:mr.ordersPerDay,onChange:an=>fr({...mr,ordersPerDay:Number(an.target.value)}),className:"w-full rounded bg-white/10 border border-white/10 px-3 py-2"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-white/70",children:"Minutes saved / order"}),jsxRuntimeExports.jsx("input",{type:"number",value:mr.timePerOrderMin,onChange:an=>fr({...mr,timePerOrderMin:Number(an.target.value)}),className:"w-full rounded bg-white/10 border border-white/10 px-3 py-2"})]}),jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("div",{className:"mb-1 text-white/70",children:"Staff /hour"}),jsxRuntimeExports.jsx("input",{type:"number",value:mr.staffCostPerHour,onChange:an=>fr({...mr,staffCostPerHour:Number(an.target.value)}),className:"w-full rounded bg-white/10 border border-white/10 px-3 py-2"})]})]}),(()=>{const an=mr.ordersPerDay*mr.timePerOrderMin/60,On=Math.round(an*26),Mn=Math.round(On*mr.staffCostPerHour);return jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[jsxRuntimeExports.jsxs("div",{className:`p-4 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-extrabold",children:[On,"h"]}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-sm",children:"Hours saved / month"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-extrabold",children:["",Mn.toLocaleString()]}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-sm",children:"Estimated savings"})]}),jsxRuntimeExports.jsxs("div",{className:`p-4 rounded ${THEME.card}`,children:[jsxRuntimeExports.jsxs("div",{className:"text-3xl font-extrabold",children:[Math.max(1,Math.round(Mn/299)),"x"]}),jsxRuntimeExports.jsx("div",{className:"text-white/60 text-sm",children:"Plan value multiple"})]})]})})(),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>cr(!1),className:"px-4 py-2 rounded border border-white/20",children:"Close"}),jsxRuntimeExports.jsx(Link,{to:"/auth?type=register",onClick:()=>cr(!1),className:"px-4 py-2 rounded font-semibold text-gray-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover-raise",children:"Start Free"})]})]})}),jsxRuntimeExports.jsxs("footer",{id:"contact",className:"relative bg-gray-900 text-white p-6 mt-10 text-center text-sm overflow-hidden border-t border-white/10",children:[jsxRuntimeExports.jsx("div",{"aria-hidden":!0,className:"absolute inset-x-0 -top-16 h-32 bg-gradient-to-r from-green-500/10 via-yellow-500/10 to-blue-500/10 blur-2xl"}),jsxRuntimeExports.jsxs("p",{children:[" ",new Date().getFullYear()," FLYP  All Rights Reserved."]}),jsxRuntimeExports.jsx("p",{className:"mt-1",children:"Contact: support@flypnow.com"})]}),Ue&&jsxRuntimeExports.jsx("div",{className:"fixed md:hidden bottom-4 right-4 z-50",children:jsxRuntimeExports.jsx("a",{href:"#pricing",className:"px-5 py-3 rounded-full font-semibold text-gray-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 shadow-[0_14px_40px_rgba(0,0,0,0.35)]",children:"Start Free"})}),jsxRuntimeExports.jsx("style",{children:`
        ${styles$3}
        .will-change-transform { transition: transform .18s ease-out; }
        .force-text { color: rgba(255,255,255,0.92); }
        .animate-word { animation: wordIn .7s ease both; }
        @keyframes wordIn { from { opacity: 0; filter: blur(8px); transform: translateY(8px); } to { opacity:1; filter: blur(0); transform: translateY(0); } }
        .grid-overlay { background-image: linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px); background-size: 40px 40px; }
        /* Theme variants */
        .theme-dark { --bg-overlay: rgba(0,0,0,0.35); }
        .theme-dusk { --bg-overlay: rgba(255,255,255,0.02); filter: saturate(1.05) brightness(1.05); }
        /* Tiny dot for the flight path motion */
        svg circle { r: 2.2; fill: #a7f3d0; filter: drop-shadow(0 0 6px rgba(52,211,153,.8)); }
        .animate-fade-in { animation: fadeIn .5s ease both; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(6px); } to { opacity: 1; transform: translateY(0); } }
        .feature-card { position: relative; overflow: hidden; }
        .feature-card .ripple { position:absolute; width:12px; height:12px; transform: translate(-50%, -50%); border-radius:9999px; background: radial-gradient(circle, rgba(34,211,238,0.65) 0%, rgba(34,211,238,0.0) 60%); animation: ripple .6s ease-out both; }
        @keyframes ripple { from { opacity:.9; width:12px; height:12px; } to { opacity:0; width:260px; height:260px; } }
        .feature-card:focus-within { animation: wiggle .18s ease-in-out; }
        @keyframes wiggle { 0%{ transform: rotate(0deg); } 50%{ transform: rotate(0.6deg); } 100%{ transform: rotate(0deg); } }
        /* KPI Ticker */
        .ticker { animation: ticker 22s linear infinite; }
        .ticker .item { display:inline-block; padding: 6px 18px; background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 9999px; }
        @keyframes ticker { 0%{ transform: translateX(0); } 100%{ transform: translateX(-50%); } }
        html { scroll-behavior: smooth; }
        [role='tab'] { cursor: pointer; }
        /* Truck smoothing on GPU */
        [data-role-step] { will-change: transform; }

        /* --- Micro-interaction helpers --- */
        .hover-raise { transition: transform .18s cubic-bezier(.2,.7,.3,1), box-shadow .18s ease; will-change: transform; }
        .hover-raise:hover { transform: translateY(-2px); box-shadow: 0 14px 40px rgba(0,0,0,.32); }
        .hover-raise:active { transform: translateY(-1px); }

        /* --- Ticker edge fade mask --- */
        .ticker-mask { position: relative; overflow: hidden; }
        .ticker-mask::before,
        .ticker-mask::after {
          content: "";
          position: absolute;
          top: 0; bottom: 0; width: 80px; pointer-events: none; z-index: 1;
          background: linear-gradient(to right, rgba(11,15,20,1), rgba(11,15,20,0));
        }
        .ticker-mask::before { left: 0; }
        .ticker-mask::after { right: 0; transform: scaleX(-1); }

        /* --- Animated dashed route --- */
        .dash-route { stroke-dasharray: 12 12; animation: dash 6s linear infinite; }
        @keyframes dash { to { stroke-dashoffset: -240; } }

        /* Testimonials loop  fixed-width items for perfect looping */
        .testimonial-track { animation: tslide 38s linear infinite; will-change: transform; }
        @keyframes tslide {
          0% { transform: translate3d(0,0,0); }
          100% { transform: translate3d(-50%,0,0); }
        }
        /* Ensure consistent card sizing */
        #testimonials .testimonial-track > div { flex: 0 0 auto; }

        /* Magnetic button subtle motion */
        .magnetic { will-change: transform; transition: transform .08s ease-out; }

        /* Header shrink smoothing */
        header nav { transition: gap .2s ease; }
        /* Logo row grayscale -> color */
        #trust img { transition: filter .2s ease, opacity .2s ease; opacity: .9; }
        #trust:hover img { opacity: 1; }
        /* Reduced motion support */
        @media (prefers-reduced-motion: reduce) {
          .ticker, .testimonial-track { animation-duration: 0.001s !important; animation-iteration-count: 1 !important; }
          .hover-raise { transition: none !important; }
          .anim-gradient { animation: none !important; }
        }
        .pause-anim { animation-play-state: paused !important; }
      `})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hookCallback;function hooks(){return hookCallback.apply(null,arguments)}function setHookCallback(Re){hookCallback=Re}function isArray$3(Re){return Re instanceof Array||Object.prototype.toString.call(Re)==="[object Array]"}function isObject$4(Re){return Re!=null&&Object.prototype.toString.call(Re)==="[object Object]"}function hasOwnProp(Re,Ce){return Object.prototype.hasOwnProperty.call(Re,Ce)}function isObjectEmpty$3(Re){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Re).length===0;var Ce;for(Ce in Re)if(hasOwnProp(Re,Ce))return!1;return!0}function isUndefined(Re){return Re===void 0}function isNumber$2(Re){return typeof Re=="number"||Object.prototype.toString.call(Re)==="[object Number]"}function isDate$1(Re){return Re instanceof Date||Object.prototype.toString.call(Re)==="[object Date]"}function map$3(Re,Ce){var je=[],Be,De=Re.length;for(Be=0;Be<De;++Be)je.push(Ce(Re[Be],Be));return je}function extend$1(Re,Ce){for(var je in Ce)hasOwnProp(Ce,je)&&(Re[je]=Ce[je]);return hasOwnProp(Ce,"toString")&&(Re.toString=Ce.toString),hasOwnProp(Ce,"valueOf")&&(Re.valueOf=Ce.valueOf),Re}function createUTC(Re,Ce,je,Be){return createLocalOrUTC(Re,Ce,je,Be,!0).utc()}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function getParsingFlags(Re){return Re._pf==null&&(Re._pf=defaultParsingFlags()),Re._pf}var some;Array.prototype.some?some=Array.prototype.some:some=function(Re){var Ce=Object(this),je=Ce.length>>>0,Be;for(Be=0;Be<je;Be++)if(Be in Ce&&Re.call(this,Ce[Be],Be,Ce))return!0;return!1};function isValid$1(Re){var Ce=null,je=!1,Be=Re._d&&!isNaN(Re._d.getTime());if(Be&&(Ce=getParsingFlags(Re),je=some.call(Ce.parsedDateParts,function(De){return De!=null}),Be=Ce.overflow<0&&!Ce.empty&&!Ce.invalidEra&&!Ce.invalidMonth&&!Ce.invalidWeekday&&!Ce.weekdayMismatch&&!Ce.nullInput&&!Ce.invalidFormat&&!Ce.userInvalidated&&(!Ce.meridiem||Ce.meridiem&&je),Re._strict&&(Be=Be&&Ce.charsLeftOver===0&&Ce.unusedTokens.length===0&&Ce.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(Re))Re._isValid=Be;else return Be;return Re._isValid}function createInvalid(Re){var Ce=createUTC(NaN);return Re!=null?extend$1(getParsingFlags(Ce),Re):getParsingFlags(Ce).userInvalidated=!0,Ce}var momentProperties=hooks.momentProperties=[],updateInProgress=!1;function copyConfig(Re,Ce){var je,Be,De,Fe=momentProperties.length;if(isUndefined(Ce._isAMomentObject)||(Re._isAMomentObject=Ce._isAMomentObject),isUndefined(Ce._i)||(Re._i=Ce._i),isUndefined(Ce._f)||(Re._f=Ce._f),isUndefined(Ce._l)||(Re._l=Ce._l),isUndefined(Ce._strict)||(Re._strict=Ce._strict),isUndefined(Ce._tzm)||(Re._tzm=Ce._tzm),isUndefined(Ce._isUTC)||(Re._isUTC=Ce._isUTC),isUndefined(Ce._offset)||(Re._offset=Ce._offset),isUndefined(Ce._pf)||(Re._pf=getParsingFlags(Ce)),isUndefined(Ce._locale)||(Re._locale=Ce._locale),Fe>0)for(je=0;je<Fe;je++)Be=momentProperties[je],De=Ce[Be],isUndefined(De)||(Re[Be]=De);return Re}function Moment(Re){copyConfig(this,Re),this._d=new Date(Re._d!=null?Re._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),updateInProgress===!1&&(updateInProgress=!0,hooks.updateOffset(this),updateInProgress=!1)}function isMoment(Re){return Re instanceof Moment||Re!=null&&Re._isAMomentObject!=null}function warn$1(Re){hooks.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Re)}function deprecate(Re,Ce){var je=!0;return extend$1(function(){if(hooks.deprecationHandler!=null&&hooks.deprecationHandler(null,Re),je){var Be=[],De,Fe,ke,Oe=arguments.length;for(Fe=0;Fe<Oe;Fe++){if(De="",typeof arguments[Fe]=="object"){De+=`
[`+Fe+"] ";for(ke in arguments[0])hasOwnProp(arguments[0],ke)&&(De+=ke+": "+arguments[0][ke]+", ");De=De.slice(0,-2)}else De=arguments[Fe];Be.push(De)}warn$1(Re+`
Arguments: `+Array.prototype.slice.call(Be).join("")+`
`+new Error().stack),je=!1}return Ce.apply(this,arguments)},Ce)}var deprecations={};function deprecateSimple(Re,Ce){hooks.deprecationHandler!=null&&hooks.deprecationHandler(Re,Ce),deprecations[Re]||(warn$1(Ce),deprecations[Re]=!0)}hooks.suppressDeprecationWarnings=!1;hooks.deprecationHandler=null;function isFunction$1(Re){return typeof Function<"u"&&Re instanceof Function||Object.prototype.toString.call(Re)==="[object Function]"}function set$2(Re){var Ce,je;for(je in Re)hasOwnProp(Re,je)&&(Ce=Re[je],isFunction$1(Ce)?this[je]=Ce:this["_"+je]=Ce);this._config=Re,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(Re,Ce){var je=extend$1({},Re),Be;for(Be in Ce)hasOwnProp(Ce,Be)&&(isObject$4(Re[Be])&&isObject$4(Ce[Be])?(je[Be]={},extend$1(je[Be],Re[Be]),extend$1(je[Be],Ce[Be])):Ce[Be]!=null?je[Be]=Ce[Be]:delete je[Be]);for(Be in Re)hasOwnProp(Re,Be)&&!hasOwnProp(Ce,Be)&&isObject$4(Re[Be])&&(je[Be]=extend$1({},je[Be]));return je}function Locale(Re){Re!=null&&this.set(Re)}var keys$1;Object.keys?keys$1=Object.keys:keys$1=function(Re){var Ce,je=[];for(Ce in Re)hasOwnProp(Re,Ce)&&je.push(Ce);return je};var defaultCalendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar$1(Re,Ce,je){var Be=this._calendar[Re]||this._calendar.sameElse;return isFunction$1(Be)?Be.call(Ce,je):Be}function zeroFill(Re,Ce,je){var Be=""+Math.abs(Re),De=Ce-Be.length,Fe=Re>=0;return(Fe?je?"+":"":"-")+Math.pow(10,Math.max(0,De)).toString().substr(1)+Be}var formattingTokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,formatFunctions={},formatTokenFunctions={};function addFormatToken(Re,Ce,je,Be){var De=Be;typeof Be=="string"&&(De=function(){return this[Be]()}),Re&&(formatTokenFunctions[Re]=De),Ce&&(formatTokenFunctions[Ce[0]]=function(){return zeroFill(De.apply(this,arguments),Ce[1],Ce[2])}),je&&(formatTokenFunctions[je]=function(){return this.localeData().ordinal(De.apply(this,arguments),Re)})}function removeFormattingTokens(Re){return Re.match(/\[[\s\S]/)?Re.replace(/^\[|\]$/g,""):Re.replace(/\\/g,"")}function makeFormatFunction(Re){var Ce=Re.match(formattingTokens),je,Be;for(je=0,Be=Ce.length;je<Be;je++)formatTokenFunctions[Ce[je]]?Ce[je]=formatTokenFunctions[Ce[je]]:Ce[je]=removeFormattingTokens(Ce[je]);return function(De){var Fe="",ke;for(ke=0;ke<Be;ke++)Fe+=isFunction$1(Ce[ke])?Ce[ke].call(De,Re):Ce[ke];return Fe}}function formatMoment(Re,Ce){return Re.isValid()?(Ce=expandFormat(Ce,Re.localeData()),formatFunctions[Ce]=formatFunctions[Ce]||makeFormatFunction(Ce),formatFunctions[Ce](Re)):Re.localeData().invalidDate()}function expandFormat(Re,Ce){var je=5;function Be(De){return Ce.longDateFormat(De)||De}for(localFormattingTokens.lastIndex=0;je>=0&&localFormattingTokens.test(Re);)Re=Re.replace(localFormattingTokens,Be),localFormattingTokens.lastIndex=0,je-=1;return Re}var defaultLongDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(Re){var Ce=this._longDateFormat[Re],je=this._longDateFormat[Re.toUpperCase()];return Ce||!je?Ce:(this._longDateFormat[Re]=je.match(formattingTokens).map(function(Be){return Be==="MMMM"||Be==="MM"||Be==="DD"||Be==="dddd"?Be.slice(1):Be}).join(""),this._longDateFormat[Re])}var defaultInvalidDate="Invalid date";function invalidDate(){return this._invalidDate}var defaultOrdinal="%d",defaultDayOfMonthOrdinalParse=/\d{1,2}/;function ordinal$1(Re){return this._ordinal.replace("%d",Re)}var defaultRelativeTime={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(Re,Ce,je,Be){var De=this._relativeTime[je];return isFunction$1(De)?De(Re,Ce,je,Be):De.replace(/%d/i,Re)}function pastFuture(Re,Ce){var je=this._relativeTime[Re>0?"future":"past"];return isFunction$1(je)?je(Ce):je.replace(/%s/i,Ce)}var aliases$1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function normalizeUnits(Re){return typeof Re=="string"?aliases$1[Re]||aliases$1[Re.toLowerCase()]:void 0}function normalizeObjectUnits(Re){var Ce={},je,Be;for(Be in Re)hasOwnProp(Re,Be)&&(je=normalizeUnits(Be),je&&(Ce[je]=Re[Be]));return Ce}var priorities={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function getPrioritizedUnits(Re){var Ce=[],je;for(je in Re)hasOwnProp(Re,je)&&Ce.push({unit:je,priority:priorities[je]});return Ce.sort(function(Be,De){return Be.priority-De.priority}),Ce}var match1=/\d/,match2=/\d\d/,match3=/\d{3}/,match4=/\d{4}/,match6=/[+-]?\d{6}/,match1to2=/\d\d?/,match3to4=/\d\d\d\d?/,match5to6=/\d\d\d\d\d\d?/,match1to3=/\d{1,3}/,match1to4=/\d{1,4}/,match1to6=/[+-]?\d{1,6}/,matchUnsigned=/\d+/,matchSigned=/[+-]?\d+/,matchOffset=/Z|[+-]\d\d:?\d\d/gi,matchShortOffset=/Z|[+-]\d\d(?::?\d\d)?/gi,matchTimestamp=/[+-]?\d+(\.\d{1,3})?/,matchWord=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,match1to2NoLeadingZero=/^[1-9]\d?/,match1to2HasZero=/^([1-9]\d|\d)/,regexes;regexes={};function addRegexToken(Re,Ce,je){regexes[Re]=isFunction$1(Ce)?Ce:function(Be,De){return Be&&je?je:Ce}}function getParseRegexForToken(Re,Ce){return hasOwnProp(regexes,Re)?regexes[Re](Ce._strict,Ce._locale):new RegExp(unescapeFormat(Re))}function unescapeFormat(Re){return regexEscape(Re.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Ce,je,Be,De,Fe){return je||Be||De||Fe}))}function regexEscape(Re){return Re.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function absFloor(Re){return Re<0?Math.ceil(Re)||0:Math.floor(Re)}function toInt(Re){var Ce=+Re,je=0;return Ce!==0&&isFinite(Ce)&&(je=absFloor(Ce)),je}var tokens={};function addParseToken(Re,Ce){var je,Be=Ce,De;for(typeof Re=="string"&&(Re=[Re]),isNumber$2(Ce)&&(Be=function(Fe,ke){ke[Ce]=toInt(Fe)}),De=Re.length,je=0;je<De;je++)tokens[Re[je]]=Be}function addWeekParseToken(Re,Ce){addParseToken(Re,function(je,Be,De,Fe){De._w=De._w||{},Ce(je,De._w,De,Fe)})}function addTimeToArrayFromToken(Re,Ce,je){Ce!=null&&hasOwnProp(tokens,Re)&&tokens[Re](Ce,je._a,je,Re)}function isLeapYear(Re){return Re%4===0&&Re%100!==0||Re%400===0}var YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,WEEK=7,WEEKDAY=8;addFormatToken("Y",0,0,function(){var Re=this.year();return Re<=9999?zeroFill(Re,4):"+"+Re});addFormatToken(0,["YY",2],0,function(){return this.year()%100});addFormatToken(0,["YYYY",4],0,"year");addFormatToken(0,["YYYYY",5],0,"year");addFormatToken(0,["YYYYYY",6,!0],0,"year");addRegexToken("Y",matchSigned);addRegexToken("YY",match1to2,match2);addRegexToken("YYYY",match1to4,match4);addRegexToken("YYYYY",match1to6,match6);addRegexToken("YYYYYY",match1to6,match6);addParseToken(["YYYYY","YYYYYY"],YEAR);addParseToken("YYYY",function(Re,Ce){Ce[YEAR]=Re.length===2?hooks.parseTwoDigitYear(Re):toInt(Re)});addParseToken("YY",function(Re,Ce){Ce[YEAR]=hooks.parseTwoDigitYear(Re)});addParseToken("Y",function(Re,Ce){Ce[YEAR]=parseInt(Re,10)});function daysInYear(Re){return isLeapYear(Re)?366:365}hooks.parseTwoDigitYear=function(Re){return toInt(Re)+(toInt(Re)>68?1900:2e3)};var getSetYear=makeGetSet("FullYear",!0);function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(Re,Ce){return function(je){return je!=null?(set$1$1(this,Re,je),hooks.updateOffset(this,Ce),this):get$3(this,Re)}}function get$3(Re,Ce){if(!Re.isValid())return NaN;var je=Re._d,Be=Re._isUTC;switch(Ce){case"Milliseconds":return Be?je.getUTCMilliseconds():je.getMilliseconds();case"Seconds":return Be?je.getUTCSeconds():je.getSeconds();case"Minutes":return Be?je.getUTCMinutes():je.getMinutes();case"Hours":return Be?je.getUTCHours():je.getHours();case"Date":return Be?je.getUTCDate():je.getDate();case"Day":return Be?je.getUTCDay():je.getDay();case"Month":return Be?je.getUTCMonth():je.getMonth();case"FullYear":return Be?je.getUTCFullYear():je.getFullYear();default:return NaN}}function set$1$1(Re,Ce,je){var Be,De,Fe,ke,Oe;if(!(!Re.isValid()||isNaN(je))){switch(Be=Re._d,De=Re._isUTC,Ce){case"Milliseconds":return void(De?Be.setUTCMilliseconds(je):Be.setMilliseconds(je));case"Seconds":return void(De?Be.setUTCSeconds(je):Be.setSeconds(je));case"Minutes":return void(De?Be.setUTCMinutes(je):Be.setMinutes(je));case"Hours":return void(De?Be.setUTCHours(je):Be.setHours(je));case"Date":return void(De?Be.setUTCDate(je):Be.setDate(je));case"FullYear":break;default:return}Fe=je,ke=Re.month(),Oe=Re.date(),Oe=Oe===29&&ke===1&&!isLeapYear(Fe)?28:Oe,De?Be.setUTCFullYear(Fe,ke,Oe):Be.setFullYear(Fe,ke,Oe)}}function stringGet(Re){return Re=normalizeUnits(Re),isFunction$1(this[Re])?this[Re]():this}function stringSet(Re,Ce){if(typeof Re=="object"){Re=normalizeObjectUnits(Re);var je=getPrioritizedUnits(Re),Be,De=je.length;for(Be=0;Be<De;Be++)this[je[Be].unit](Re[je[Be].unit])}else if(Re=normalizeUnits(Re),isFunction$1(this[Re]))return this[Re](Ce);return this}function mod(Re,Ce){return(Re%Ce+Ce)%Ce}var indexOf;Array.prototype.indexOf?indexOf=Array.prototype.indexOf:indexOf=function(Re){var Ce;for(Ce=0;Ce<this.length;++Ce)if(this[Ce]===Re)return Ce;return-1};function daysInMonth(Re,Ce){if(isNaN(Re)||isNaN(Ce))return NaN;var je=mod(Ce,12);return Re+=(Ce-je)/12,je===1?isLeapYear(Re)?29:28:31-je%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1});addFormatToken("MMM",0,0,function(Re){return this.localeData().monthsShort(this,Re)});addFormatToken("MMMM",0,0,function(Re){return this.localeData().months(this,Re)});addRegexToken("M",match1to2,match1to2NoLeadingZero);addRegexToken("MM",match1to2,match2);addRegexToken("MMM",function(Re,Ce){return Ce.monthsShortRegex(Re)});addRegexToken("MMMM",function(Re,Ce){return Ce.monthsRegex(Re)});addParseToken(["M","MM"],function(Re,Ce){Ce[MONTH]=toInt(Re)-1});addParseToken(["MMM","MMMM"],function(Re,Ce,je,Be){var De=je._locale.monthsParse(Re,Be,je._strict);De!=null?Ce[MONTH]=De:getParsingFlags(je).invalidMonth=Re});var defaultLocaleMonths="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),defaultLocaleMonthsShort="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),MONTHS_IN_FORMAT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,defaultMonthsShortRegex=matchWord,defaultMonthsRegex=matchWord;function localeMonths(Re,Ce){return Re?isArray$3(this._months)?this._months[Re.month()]:this._months[(this._months.isFormat||MONTHS_IN_FORMAT).test(Ce)?"format":"standalone"][Re.month()]:isArray$3(this._months)?this._months:this._months.standalone}function localeMonthsShort(Re,Ce){return Re?isArray$3(this._monthsShort)?this._monthsShort[Re.month()]:this._monthsShort[MONTHS_IN_FORMAT.test(Ce)?"format":"standalone"][Re.month()]:isArray$3(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function handleStrictParse(Re,Ce,je){var Be,De,Fe,ke=Re.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Be=0;Be<12;++Be)Fe=createUTC([2e3,Be]),this._shortMonthsParse[Be]=this.monthsShort(Fe,"").toLocaleLowerCase(),this._longMonthsParse[Be]=this.months(Fe,"").toLocaleLowerCase();return je?Ce==="MMM"?(De=indexOf.call(this._shortMonthsParse,ke),De!==-1?De:null):(De=indexOf.call(this._longMonthsParse,ke),De!==-1?De:null):Ce==="MMM"?(De=indexOf.call(this._shortMonthsParse,ke),De!==-1?De:(De=indexOf.call(this._longMonthsParse,ke),De!==-1?De:null)):(De=indexOf.call(this._longMonthsParse,ke),De!==-1?De:(De=indexOf.call(this._shortMonthsParse,ke),De!==-1?De:null))}function localeMonthsParse(Re,Ce,je){var Be,De,Fe;if(this._monthsParseExact)return handleStrictParse.call(this,Re,Ce,je);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Be=0;Be<12;Be++){if(De=createUTC([2e3,Be]),je&&!this._longMonthsParse[Be]&&(this._longMonthsParse[Be]=new RegExp("^"+this.months(De,"").replace(".","")+"$","i"),this._shortMonthsParse[Be]=new RegExp("^"+this.monthsShort(De,"").replace(".","")+"$","i")),!je&&!this._monthsParse[Be]&&(Fe="^"+this.months(De,"")+"|^"+this.monthsShort(De,""),this._monthsParse[Be]=new RegExp(Fe.replace(".",""),"i")),je&&Ce==="MMMM"&&this._longMonthsParse[Be].test(Re))return Be;if(je&&Ce==="MMM"&&this._shortMonthsParse[Be].test(Re))return Be;if(!je&&this._monthsParse[Be].test(Re))return Be}}function setMonth(Re,Ce){if(!Re.isValid())return Re;if(typeof Ce=="string"){if(/^\d+$/.test(Ce))Ce=toInt(Ce);else if(Ce=Re.localeData().monthsParse(Ce),!isNumber$2(Ce))return Re}var je=Ce,Be=Re.date();return Be=Be<29?Be:Math.min(Be,daysInMonth(Re.year(),je)),Re._isUTC?Re._d.setUTCMonth(je,Be):Re._d.setMonth(je,Be),Re}function getSetMonth(Re){return Re!=null?(setMonth(this,Re),hooks.updateOffset(this,!0),this):get$3(this,"Month")}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}function monthsShortRegex(Re){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Re?this._monthsShortStrictRegex:this._monthsShortRegex):(hasOwnProp(this,"_monthsShortRegex")||(this._monthsShortRegex=defaultMonthsShortRegex),this._monthsShortStrictRegex&&Re?this._monthsShortStrictRegex:this._monthsShortRegex)}function monthsRegex(Re){return this._monthsParseExact?(hasOwnProp(this,"_monthsRegex")||computeMonthsParse.call(this),Re?this._monthsStrictRegex:this._monthsRegex):(hasOwnProp(this,"_monthsRegex")||(this._monthsRegex=defaultMonthsRegex),this._monthsStrictRegex&&Re?this._monthsStrictRegex:this._monthsRegex)}function computeMonthsParse(){function Re(Me,Ue){return Ue.length-Me.length}var Ce=[],je=[],Be=[],De,Fe,ke,Oe;for(De=0;De<12;De++)Fe=createUTC([2e3,De]),ke=regexEscape(this.monthsShort(Fe,"")),Oe=regexEscape(this.months(Fe,"")),Ce.push(ke),je.push(Oe),Be.push(Oe),Be.push(ke);Ce.sort(Re),je.sort(Re),Be.sort(Re),this._monthsRegex=new RegExp("^("+Be.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+je.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Ce.join("|")+")","i")}function createDate(Re,Ce,je,Be,De,Fe,ke){var Oe;return Re<100&&Re>=0?(Oe=new Date(Re+400,Ce,je,Be,De,Fe,ke),isFinite(Oe.getFullYear())&&Oe.setFullYear(Re)):Oe=new Date(Re,Ce,je,Be,De,Fe,ke),Oe}function createUTCDate(Re){var Ce,je;return Re<100&&Re>=0?(je=Array.prototype.slice.call(arguments),je[0]=Re+400,Ce=new Date(Date.UTC.apply(null,je)),isFinite(Ce.getUTCFullYear())&&Ce.setUTCFullYear(Re)):Ce=new Date(Date.UTC.apply(null,arguments)),Ce}function firstWeekOffset(Re,Ce,je){var Be=7+Ce-je,De=(7+createUTCDate(Re,0,Be).getUTCDay()-Ce)%7;return-De+Be-1}function dayOfYearFromWeeks(Re,Ce,je,Be,De){var Fe=(7+je-Be)%7,ke=firstWeekOffset(Re,Be,De),Oe=1+7*(Ce-1)+Fe+ke,Me,Ue;return Oe<=0?(Me=Re-1,Ue=daysInYear(Me)+Oe):Oe>daysInYear(Re)?(Me=Re+1,Ue=Oe-daysInYear(Re)):(Me=Re,Ue=Oe),{year:Me,dayOfYear:Ue}}function weekOfYear(Re,Ce,je){var Be=firstWeekOffset(Re.year(),Ce,je),De=Math.floor((Re.dayOfYear()-Be-1)/7)+1,Fe,ke;return De<1?(ke=Re.year()-1,Fe=De+weeksInYear(ke,Ce,je)):De>weeksInYear(Re.year(),Ce,je)?(Fe=De-weeksInYear(Re.year(),Ce,je),ke=Re.year()+1):(ke=Re.year(),Fe=De),{week:Fe,year:ke}}function weeksInYear(Re,Ce,je){var Be=firstWeekOffset(Re,Ce,je),De=firstWeekOffset(Re+1,Ce,je);return(daysInYear(Re)-Be+De)/7}addFormatToken("w",["ww",2],"wo","week");addFormatToken("W",["WW",2],"Wo","isoWeek");addRegexToken("w",match1to2,match1to2NoLeadingZero);addRegexToken("ww",match1to2,match2);addRegexToken("W",match1to2,match1to2NoLeadingZero);addRegexToken("WW",match1to2,match2);addWeekParseToken(["w","ww","W","WW"],function(Re,Ce,je,Be){Ce[Be.substr(0,1)]=toInt(Re)});function localeWeek(Re){return weekOfYear(Re,this._week.dow,this._week.doy).week}var defaultLocaleWeek={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(Re){var Ce=this.localeData().week(this);return Re==null?Ce:this.add((Re-Ce)*7,"d")}function getSetISOWeek(Re){var Ce=weekOfYear(this,1,4).week;return Re==null?Ce:this.add((Re-Ce)*7,"d")}addFormatToken("d",0,"do","day");addFormatToken("dd",0,0,function(Re){return this.localeData().weekdaysMin(this,Re)});addFormatToken("ddd",0,0,function(Re){return this.localeData().weekdaysShort(this,Re)});addFormatToken("dddd",0,0,function(Re){return this.localeData().weekdays(this,Re)});addFormatToken("e",0,0,"weekday");addFormatToken("E",0,0,"isoWeekday");addRegexToken("d",match1to2);addRegexToken("e",match1to2);addRegexToken("E",match1to2);addRegexToken("dd",function(Re,Ce){return Ce.weekdaysMinRegex(Re)});addRegexToken("ddd",function(Re,Ce){return Ce.weekdaysShortRegex(Re)});addRegexToken("dddd",function(Re,Ce){return Ce.weekdaysRegex(Re)});addWeekParseToken(["dd","ddd","dddd"],function(Re,Ce,je,Be){var De=je._locale.weekdaysParse(Re,Be,je._strict);De!=null?Ce.d=De:getParsingFlags(je).invalidWeekday=Re});addWeekParseToken(["d","e","E"],function(Re,Ce,je,Be){Ce[Be]=toInt(Re)});function parseWeekday(Re,Ce){return typeof Re!="string"?Re:isNaN(Re)?(Re=Ce.weekdaysParse(Re),typeof Re=="number"?Re:null):parseInt(Re,10)}function parseIsoWeekday(Re,Ce){return typeof Re=="string"?Ce.weekdaysParse(Re)%7||7:isNaN(Re)?null:Re}function shiftWeekdays(Re,Ce){return Re.slice(Ce,7).concat(Re.slice(0,Ce))}var defaultLocaleWeekdays="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),defaultLocaleWeekdaysShort="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),defaultLocaleWeekdaysMin="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),defaultWeekdaysRegex=matchWord,defaultWeekdaysShortRegex=matchWord,defaultWeekdaysMinRegex=matchWord;function localeWeekdays(Re,Ce){var je=isArray$3(this._weekdays)?this._weekdays:this._weekdays[Re&&Re!==!0&&this._weekdays.isFormat.test(Ce)?"format":"standalone"];return Re===!0?shiftWeekdays(je,this._week.dow):Re?je[Re.day()]:je}function localeWeekdaysShort(Re){return Re===!0?shiftWeekdays(this._weekdaysShort,this._week.dow):Re?this._weekdaysShort[Re.day()]:this._weekdaysShort}function localeWeekdaysMin(Re){return Re===!0?shiftWeekdays(this._weekdaysMin,this._week.dow):Re?this._weekdaysMin[Re.day()]:this._weekdaysMin}function handleStrictParse$1(Re,Ce,je){var Be,De,Fe,ke=Re.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Be=0;Be<7;++Be)Fe=createUTC([2e3,1]).day(Be),this._minWeekdaysParse[Be]=this.weekdaysMin(Fe,"").toLocaleLowerCase(),this._shortWeekdaysParse[Be]=this.weekdaysShort(Fe,"").toLocaleLowerCase(),this._weekdaysParse[Be]=this.weekdays(Fe,"").toLocaleLowerCase();return je?Ce==="dddd"?(De=indexOf.call(this._weekdaysParse,ke),De!==-1?De:null):Ce==="ddd"?(De=indexOf.call(this._shortWeekdaysParse,ke),De!==-1?De:null):(De=indexOf.call(this._minWeekdaysParse,ke),De!==-1?De:null):Ce==="dddd"?(De=indexOf.call(this._weekdaysParse,ke),De!==-1||(De=indexOf.call(this._shortWeekdaysParse,ke),De!==-1)?De:(De=indexOf.call(this._minWeekdaysParse,ke),De!==-1?De:null)):Ce==="ddd"?(De=indexOf.call(this._shortWeekdaysParse,ke),De!==-1||(De=indexOf.call(this._weekdaysParse,ke),De!==-1)?De:(De=indexOf.call(this._minWeekdaysParse,ke),De!==-1?De:null)):(De=indexOf.call(this._minWeekdaysParse,ke),De!==-1||(De=indexOf.call(this._weekdaysParse,ke),De!==-1)?De:(De=indexOf.call(this._shortWeekdaysParse,ke),De!==-1?De:null))}function localeWeekdaysParse(Re,Ce,je){var Be,De,Fe;if(this._weekdaysParseExact)return handleStrictParse$1.call(this,Re,Ce,je);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Be=0;Be<7;Be++){if(De=createUTC([2e3,1]).day(Be),je&&!this._fullWeekdaysParse[Be]&&(this._fullWeekdaysParse[Be]=new RegExp("^"+this.weekdays(De,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Be]=new RegExp("^"+this.weekdaysShort(De,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Be]=new RegExp("^"+this.weekdaysMin(De,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Be]||(Fe="^"+this.weekdays(De,"")+"|^"+this.weekdaysShort(De,"")+"|^"+this.weekdaysMin(De,""),this._weekdaysParse[Be]=new RegExp(Fe.replace(".",""),"i")),je&&Ce==="dddd"&&this._fullWeekdaysParse[Be].test(Re))return Be;if(je&&Ce==="ddd"&&this._shortWeekdaysParse[Be].test(Re))return Be;if(je&&Ce==="dd"&&this._minWeekdaysParse[Be].test(Re))return Be;if(!je&&this._weekdaysParse[Be].test(Re))return Be}}function getSetDayOfWeek(Re){if(!this.isValid())return Re!=null?this:NaN;var Ce=get$3(this,"Day");return Re!=null?(Re=parseWeekday(Re,this.localeData()),this.add(Re-Ce,"d")):Ce}function getSetLocaleDayOfWeek(Re){if(!this.isValid())return Re!=null?this:NaN;var Ce=(this.day()+7-this.localeData()._week.dow)%7;return Re==null?Ce:this.add(Re-Ce,"d")}function getSetISODayOfWeek(Re){if(!this.isValid())return Re!=null?this:NaN;if(Re!=null){var Ce=parseIsoWeekday(Re,this.localeData());return this.day(this.day()%7?Ce:Ce-7)}else return this.day()||7}function weekdaysRegex(Re){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Re?this._weekdaysStrictRegex:this._weekdaysRegex):(hasOwnProp(this,"_weekdaysRegex")||(this._weekdaysRegex=defaultWeekdaysRegex),this._weekdaysStrictRegex&&Re?this._weekdaysStrictRegex:this._weekdaysRegex)}function weekdaysShortRegex(Re){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Re?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(hasOwnProp(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=defaultWeekdaysShortRegex),this._weekdaysShortStrictRegex&&Re?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function weekdaysMinRegex(Re){return this._weekdaysParseExact?(hasOwnProp(this,"_weekdaysRegex")||computeWeekdaysParse.call(this),Re?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(hasOwnProp(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=defaultWeekdaysMinRegex),this._weekdaysMinStrictRegex&&Re?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function computeWeekdaysParse(){function Re($e,He){return He.length-$e.length}var Ce=[],je=[],Be=[],De=[],Fe,ke,Oe,Me,Ue;for(Fe=0;Fe<7;Fe++)ke=createUTC([2e3,1]).day(Fe),Oe=regexEscape(this.weekdaysMin(ke,"")),Me=regexEscape(this.weekdaysShort(ke,"")),Ue=regexEscape(this.weekdays(ke,"")),Ce.push(Oe),je.push(Me),Be.push(Ue),De.push(Oe),De.push(Me),De.push(Ue);Ce.sort(Re),je.sort(Re),Be.sort(Re),De.sort(Re),this._weekdaysRegex=new RegExp("^("+De.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+Be.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+je.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Ce.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}addFormatToken("H",["HH",2],0,"hour");addFormatToken("h",["hh",2],0,hFormat);addFormatToken("k",["kk",2],0,kFormat);addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)});addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)});addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)});function meridiem(Re,Ce){addFormatToken(Re,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Ce)})}meridiem("a",!0);meridiem("A",!1);function matchMeridiem(Re,Ce){return Ce._meridiemParse}addRegexToken("a",matchMeridiem);addRegexToken("A",matchMeridiem);addRegexToken("H",match1to2,match1to2HasZero);addRegexToken("h",match1to2,match1to2NoLeadingZero);addRegexToken("k",match1to2,match1to2NoLeadingZero);addRegexToken("HH",match1to2,match2);addRegexToken("hh",match1to2,match2);addRegexToken("kk",match1to2,match2);addRegexToken("hmm",match3to4);addRegexToken("hmmss",match5to6);addRegexToken("Hmm",match3to4);addRegexToken("Hmmss",match5to6);addParseToken(["H","HH"],HOUR);addParseToken(["k","kk"],function(Re,Ce,je){var Be=toInt(Re);Ce[HOUR]=Be===24?0:Be});addParseToken(["a","A"],function(Re,Ce,je){je._isPm=je._locale.isPM(Re),je._meridiem=Re});addParseToken(["h","hh"],function(Re,Ce,je){Ce[HOUR]=toInt(Re),getParsingFlags(je).bigHour=!0});addParseToken("hmm",function(Re,Ce,je){var Be=Re.length-2;Ce[HOUR]=toInt(Re.substr(0,Be)),Ce[MINUTE]=toInt(Re.substr(Be)),getParsingFlags(je).bigHour=!0});addParseToken("hmmss",function(Re,Ce,je){var Be=Re.length-4,De=Re.length-2;Ce[HOUR]=toInt(Re.substr(0,Be)),Ce[MINUTE]=toInt(Re.substr(Be,2)),Ce[SECOND]=toInt(Re.substr(De)),getParsingFlags(je).bigHour=!0});addParseToken("Hmm",function(Re,Ce,je){var Be=Re.length-2;Ce[HOUR]=toInt(Re.substr(0,Be)),Ce[MINUTE]=toInt(Re.substr(Be))});addParseToken("Hmmss",function(Re,Ce,je){var Be=Re.length-4,De=Re.length-2;Ce[HOUR]=toInt(Re.substr(0,Be)),Ce[MINUTE]=toInt(Re.substr(Be,2)),Ce[SECOND]=toInt(Re.substr(De))});function localeIsPM(Re){return(Re+"").toLowerCase().charAt(0)==="p"}var defaultLocaleMeridiemParse=/[ap]\.?m?\.?/i,getSetHour=makeGetSet("Hours",!0);function localeMeridiem(Re,Ce,je){return Re>11?je?"pm":"PM":je?"am":"AM"}var baseConfig={calendar:defaultCalendar,longDateFormat:defaultLongDateFormat,invalidDate:defaultInvalidDate,ordinal:defaultOrdinal,dayOfMonthOrdinalParse:defaultDayOfMonthOrdinalParse,relativeTime:defaultRelativeTime,months:defaultLocaleMonths,monthsShort:defaultLocaleMonthsShort,week:defaultLocaleWeek,weekdays:defaultLocaleWeekdays,weekdaysMin:defaultLocaleWeekdaysMin,weekdaysShort:defaultLocaleWeekdaysShort,meridiemParse:defaultLocaleMeridiemParse},locales={},localeFamilies={},globalLocale;function commonPrefix(Re,Ce){var je,Be=Math.min(Re.length,Ce.length);for(je=0;je<Be;je+=1)if(Re[je]!==Ce[je])return je;return Be}function normalizeLocale(Re){return Re&&Re.toLowerCase().replace("_","-")}function chooseLocale(Re){for(var Ce=0,je,Be,De,Fe;Ce<Re.length;){for(Fe=normalizeLocale(Re[Ce]).split("-"),je=Fe.length,Be=normalizeLocale(Re[Ce+1]),Be=Be?Be.split("-"):null;je>0;){if(De=loadLocale(Fe.slice(0,je).join("-")),De)return De;if(Be&&Be.length>=je&&commonPrefix(Fe,Be)>=je-1)break;je--}Ce++}return globalLocale}function isLocaleNameSane(Re){return!!(Re&&Re.match("^[^/\\\\]*$"))}function loadLocale(Re){var Ce=null,je;if(locales[Re]===void 0&&typeof module<"u"&&module&&module.exports&&isLocaleNameSane(Re))try{Ce=globalLocale._abbr,je=require,je("./locale/"+Re),getSetGlobalLocale(Ce)}catch{locales[Re]=null}return locales[Re]}function getSetGlobalLocale(Re,Ce){var je;return Re&&(isUndefined(Ce)?je=getLocale(Re):je=defineLocale(Re,Ce),je?globalLocale=je:typeof console<"u"&&console.warn&&console.warn("Locale "+Re+" not found. Did you forget to load it?")),globalLocale._abbr}function defineLocale(Re,Ce){if(Ce!==null){var je,Be=baseConfig;if(Ce.abbr=Re,locales[Re]!=null)deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Be=locales[Re]._config;else if(Ce.parentLocale!=null)if(locales[Ce.parentLocale]!=null)Be=locales[Ce.parentLocale]._config;else if(je=loadLocale(Ce.parentLocale),je!=null)Be=je._config;else return localeFamilies[Ce.parentLocale]||(localeFamilies[Ce.parentLocale]=[]),localeFamilies[Ce.parentLocale].push({name:Re,config:Ce}),null;return locales[Re]=new Locale(mergeConfigs(Be,Ce)),localeFamilies[Re]&&localeFamilies[Re].forEach(function(De){defineLocale(De.name,De.config)}),getSetGlobalLocale(Re),locales[Re]}else return delete locales[Re],null}function updateLocale(Re,Ce){if(Ce!=null){var je,Be,De=baseConfig;locales[Re]!=null&&locales[Re].parentLocale!=null?locales[Re].set(mergeConfigs(locales[Re]._config,Ce)):(Be=loadLocale(Re),Be!=null&&(De=Be._config),Ce=mergeConfigs(De,Ce),Be==null&&(Ce.abbr=Re),je=new Locale(Ce),je.parentLocale=locales[Re],locales[Re]=je),getSetGlobalLocale(Re)}else locales[Re]!=null&&(locales[Re].parentLocale!=null?(locales[Re]=locales[Re].parentLocale,Re===getSetGlobalLocale()&&getSetGlobalLocale(Re)):locales[Re]!=null&&delete locales[Re]);return locales[Re]}function getLocale(Re){var Ce;if(Re&&Re._locale&&Re._locale._abbr&&(Re=Re._locale._abbr),!Re)return globalLocale;if(!isArray$3(Re)){if(Ce=loadLocale(Re),Ce)return Ce;Re=[Re]}return chooseLocale(Re)}function listLocales(){return keys$1(locales)}function checkOverflow(Re){var Ce,je=Re._a;return je&&getParsingFlags(Re).overflow===-2&&(Ce=je[MONTH]<0||je[MONTH]>11?MONTH:je[DATE]<1||je[DATE]>daysInMonth(je[YEAR],je[MONTH])?DATE:je[HOUR]<0||je[HOUR]>24||je[HOUR]===24&&(je[MINUTE]!==0||je[SECOND]!==0||je[MILLISECOND]!==0)?HOUR:je[MINUTE]<0||je[MINUTE]>59?MINUTE:je[SECOND]<0||je[SECOND]>59?SECOND:je[MILLISECOND]<0||je[MILLISECOND]>999?MILLISECOND:-1,getParsingFlags(Re)._overflowDayOfYear&&(Ce<YEAR||Ce>DATE)&&(Ce=DATE),getParsingFlags(Re)._overflowWeeks&&Ce===-1&&(Ce=WEEK),getParsingFlags(Re)._overflowWeekday&&Ce===-1&&(Ce=WEEKDAY),getParsingFlags(Re).overflow=Ce),Re}var extendedIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,basicIsoRegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tzRegex=/Z|[+-]\d\d(?::?\d\d)?/,isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],isoTimes=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],aspNetJsonRegex=/^\/?Date\((-?\d+)/i,rfc2822=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,obsOffsets={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function configFromISO(Re){var Ce,je,Be=Re._i,De=extendedIsoRegex.exec(Be)||basicIsoRegex.exec(Be),Fe,ke,Oe,Me,Ue=isoDates.length,$e=isoTimes.length;if(De){for(getParsingFlags(Re).iso=!0,Ce=0,je=Ue;Ce<je;Ce++)if(isoDates[Ce][1].exec(De[1])){ke=isoDates[Ce][0],Fe=isoDates[Ce][2]!==!1;break}if(ke==null){Re._isValid=!1;return}if(De[3]){for(Ce=0,je=$e;Ce<je;Ce++)if(isoTimes[Ce][1].exec(De[3])){Oe=(De[2]||" ")+isoTimes[Ce][0];break}if(Oe==null){Re._isValid=!1;return}}if(!Fe&&Oe!=null){Re._isValid=!1;return}if(De[4])if(tzRegex.exec(De[4]))Me="Z";else{Re._isValid=!1;return}Re._f=ke+(Oe||"")+(Me||""),configFromStringAndFormat(Re)}else Re._isValid=!1}function extractFromRFC2822Strings(Re,Ce,je,Be,De,Fe){var ke=[untruncateYear(Re),defaultLocaleMonthsShort.indexOf(Ce),parseInt(je,10),parseInt(Be,10),parseInt(De,10)];return Fe&&ke.push(parseInt(Fe,10)),ke}function untruncateYear(Re){var Ce=parseInt(Re,10);return Ce<=49?2e3+Ce:Ce<=999?1900+Ce:Ce}function preprocessRFC2822(Re){return Re.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(Re,Ce,je){if(Re){var Be=defaultLocaleWeekdaysShort.indexOf(Re),De=new Date(Ce[0],Ce[1],Ce[2]).getDay();if(Be!==De)return getParsingFlags(je).weekdayMismatch=!0,je._isValid=!1,!1}return!0}function calculateOffset(Re,Ce,je){if(Re)return obsOffsets[Re];if(Ce)return 0;var Be=parseInt(je,10),De=Be%100,Fe=(Be-De)/100;return Fe*60+De}function configFromRFC2822(Re){var Ce=rfc2822.exec(preprocessRFC2822(Re._i)),je;if(Ce){if(je=extractFromRFC2822Strings(Ce[4],Ce[3],Ce[2],Ce[5],Ce[6],Ce[7]),!checkWeekday(Ce[1],je,Re))return;Re._a=je,Re._tzm=calculateOffset(Ce[8],Ce[9],Ce[10]),Re._d=createUTCDate.apply(null,Re._a),Re._d.setUTCMinutes(Re._d.getUTCMinutes()-Re._tzm),getParsingFlags(Re).rfc2822=!0}else Re._isValid=!1}function configFromString(Re){var Ce=aspNetJsonRegex.exec(Re._i);if(Ce!==null){Re._d=new Date(+Ce[1]);return}if(configFromISO(Re),Re._isValid===!1)delete Re._isValid;else return;if(configFromRFC2822(Re),Re._isValid===!1)delete Re._isValid;else return;Re._strict?Re._isValid=!1:hooks.createFromInputFallback(Re)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Re){Re._d=new Date(Re._i+(Re._useUTC?" UTC":""))});function defaults$2(Re,Ce,je){return Re??Ce??je}function currentDateArray(Re){var Ce=new Date(hooks.now());return Re._useUTC?[Ce.getUTCFullYear(),Ce.getUTCMonth(),Ce.getUTCDate()]:[Ce.getFullYear(),Ce.getMonth(),Ce.getDate()]}function configFromArray(Re){var Ce,je,Be=[],De,Fe,ke;if(!Re._d){for(De=currentDateArray(Re),Re._w&&Re._a[DATE]==null&&Re._a[MONTH]==null&&dayOfYearFromWeekInfo(Re),Re._dayOfYear!=null&&(ke=defaults$2(Re._a[YEAR],De[YEAR]),(Re._dayOfYear>daysInYear(ke)||Re._dayOfYear===0)&&(getParsingFlags(Re)._overflowDayOfYear=!0),je=createUTCDate(ke,0,Re._dayOfYear),Re._a[MONTH]=je.getUTCMonth(),Re._a[DATE]=je.getUTCDate()),Ce=0;Ce<3&&Re._a[Ce]==null;++Ce)Re._a[Ce]=Be[Ce]=De[Ce];for(;Ce<7;Ce++)Re._a[Ce]=Be[Ce]=Re._a[Ce]==null?Ce===2?1:0:Re._a[Ce];Re._a[HOUR]===24&&Re._a[MINUTE]===0&&Re._a[SECOND]===0&&Re._a[MILLISECOND]===0&&(Re._nextDay=!0,Re._a[HOUR]=0),Re._d=(Re._useUTC?createUTCDate:createDate).apply(null,Be),Fe=Re._useUTC?Re._d.getUTCDay():Re._d.getDay(),Re._tzm!=null&&Re._d.setUTCMinutes(Re._d.getUTCMinutes()-Re._tzm),Re._nextDay&&(Re._a[HOUR]=24),Re._w&&typeof Re._w.d<"u"&&Re._w.d!==Fe&&(getParsingFlags(Re).weekdayMismatch=!0)}}function dayOfYearFromWeekInfo(Re){var Ce,je,Be,De,Fe,ke,Oe,Me,Ue;Ce=Re._w,Ce.GG!=null||Ce.W!=null||Ce.E!=null?(Fe=1,ke=4,je=defaults$2(Ce.GG,Re._a[YEAR],weekOfYear(createLocal(),1,4).year),Be=defaults$2(Ce.W,1),De=defaults$2(Ce.E,1),(De<1||De>7)&&(Me=!0)):(Fe=Re._locale._week.dow,ke=Re._locale._week.doy,Ue=weekOfYear(createLocal(),Fe,ke),je=defaults$2(Ce.gg,Re._a[YEAR],Ue.year),Be=defaults$2(Ce.w,Ue.week),Ce.d!=null?(De=Ce.d,(De<0||De>6)&&(Me=!0)):Ce.e!=null?(De=Ce.e+Fe,(Ce.e<0||Ce.e>6)&&(Me=!0)):De=Fe),Be<1||Be>weeksInYear(je,Fe,ke)?getParsingFlags(Re)._overflowWeeks=!0:Me!=null?getParsingFlags(Re)._overflowWeekday=!0:(Oe=dayOfYearFromWeeks(je,Be,De,Fe,ke),Re._a[YEAR]=Oe.year,Re._dayOfYear=Oe.dayOfYear)}hooks.ISO_8601=function(){};hooks.RFC_2822=function(){};function configFromStringAndFormat(Re){if(Re._f===hooks.ISO_8601){configFromISO(Re);return}if(Re._f===hooks.RFC_2822){configFromRFC2822(Re);return}Re._a=[],getParsingFlags(Re).empty=!0;var Ce=""+Re._i,je,Be,De,Fe,ke,Oe=Ce.length,Me=0,Ue,$e;for(De=expandFormat(Re._f,Re._locale).match(formattingTokens)||[],$e=De.length,je=0;je<$e;je++)Fe=De[je],Be=(Ce.match(getParseRegexForToken(Fe,Re))||[])[0],Be&&(ke=Ce.substr(0,Ce.indexOf(Be)),ke.length>0&&getParsingFlags(Re).unusedInput.push(ke),Ce=Ce.slice(Ce.indexOf(Be)+Be.length),Me+=Be.length),formatTokenFunctions[Fe]?(Be?getParsingFlags(Re).empty=!1:getParsingFlags(Re).unusedTokens.push(Fe),addTimeToArrayFromToken(Fe,Be,Re)):Re._strict&&!Be&&getParsingFlags(Re).unusedTokens.push(Fe);getParsingFlags(Re).charsLeftOver=Oe-Me,Ce.length>0&&getParsingFlags(Re).unusedInput.push(Ce),Re._a[HOUR]<=12&&getParsingFlags(Re).bigHour===!0&&Re._a[HOUR]>0&&(getParsingFlags(Re).bigHour=void 0),getParsingFlags(Re).parsedDateParts=Re._a.slice(0),getParsingFlags(Re).meridiem=Re._meridiem,Re._a[HOUR]=meridiemFixWrap(Re._locale,Re._a[HOUR],Re._meridiem),Ue=getParsingFlags(Re).era,Ue!==null&&(Re._a[YEAR]=Re._locale.erasConvertYear(Ue,Re._a[YEAR])),configFromArray(Re),checkOverflow(Re)}function meridiemFixWrap(Re,Ce,je){var Be;return je==null?Ce:Re.meridiemHour!=null?Re.meridiemHour(Ce,je):(Re.isPM!=null&&(Be=Re.isPM(je),Be&&Ce<12&&(Ce+=12),!Be&&Ce===12&&(Ce=0)),Ce)}function configFromStringAndArray(Re){var Ce,je,Be,De,Fe,ke,Oe=!1,Me=Re._f.length;if(Me===0){getParsingFlags(Re).invalidFormat=!0,Re._d=new Date(NaN);return}for(De=0;De<Me;De++)Fe=0,ke=!1,Ce=copyConfig({},Re),Re._useUTC!=null&&(Ce._useUTC=Re._useUTC),Ce._f=Re._f[De],configFromStringAndFormat(Ce),isValid$1(Ce)&&(ke=!0),Fe+=getParsingFlags(Ce).charsLeftOver,Fe+=getParsingFlags(Ce).unusedTokens.length*10,getParsingFlags(Ce).score=Fe,Oe?Fe<Be&&(Be=Fe,je=Ce):(Be==null||Fe<Be||ke)&&(Be=Fe,je=Ce,ke&&(Oe=!0));extend$1(Re,je||Ce)}function configFromObject(Re){if(!Re._d){var Ce=normalizeObjectUnits(Re._i),je=Ce.day===void 0?Ce.date:Ce.day;Re._a=map$3([Ce.year,Ce.month,je,Ce.hour,Ce.minute,Ce.second,Ce.millisecond],function(Be){return Be&&parseInt(Be,10)}),configFromArray(Re)}}function createFromConfig(Re){var Ce=new Moment(checkOverflow(prepareConfig(Re)));return Ce._nextDay&&(Ce.add(1,"d"),Ce._nextDay=void 0),Ce}function prepareConfig(Re){var Ce=Re._i,je=Re._f;return Re._locale=Re._locale||getLocale(Re._l),Ce===null||je===void 0&&Ce===""?createInvalid({nullInput:!0}):(typeof Ce=="string"&&(Re._i=Ce=Re._locale.preparse(Ce)),isMoment(Ce)?new Moment(checkOverflow(Ce)):(isDate$1(Ce)?Re._d=Ce:isArray$3(je)?configFromStringAndArray(Re):je?configFromStringAndFormat(Re):configFromInput(Re),isValid$1(Re)||(Re._d=null),Re))}function configFromInput(Re){var Ce=Re._i;isUndefined(Ce)?Re._d=new Date(hooks.now()):isDate$1(Ce)?Re._d=new Date(Ce.valueOf()):typeof Ce=="string"?configFromString(Re):isArray$3(Ce)?(Re._a=map$3(Ce.slice(0),function(je){return parseInt(je,10)}),configFromArray(Re)):isObject$4(Ce)?configFromObject(Re):isNumber$2(Ce)?Re._d=new Date(Ce):hooks.createFromInputFallback(Re)}function createLocalOrUTC(Re,Ce,je,Be,De){var Fe={};return(Ce===!0||Ce===!1)&&(Be=Ce,Ce=void 0),(je===!0||je===!1)&&(Be=je,je=void 0),(isObject$4(Re)&&isObjectEmpty$3(Re)||isArray$3(Re)&&Re.length===0)&&(Re=void 0),Fe._isAMomentObject=!0,Fe._useUTC=Fe._isUTC=De,Fe._l=je,Fe._i=Re,Fe._f=Ce,Fe._strict=Be,createFromConfig(Fe)}function createLocal(Re,Ce,je,Be){return createLocalOrUTC(Re,Ce,je,Be,!1)}var prototypeMin=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Re=createLocal.apply(null,arguments);return this.isValid()&&Re.isValid()?Re<this?this:Re:createInvalid()}),prototypeMax=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Re=createLocal.apply(null,arguments);return this.isValid()&&Re.isValid()?Re>this?this:Re:createInvalid()});function pickBy(Re,Ce){var je,Be;if(Ce.length===1&&isArray$3(Ce[0])&&(Ce=Ce[0]),!Ce.length)return createLocal();for(je=Ce[0],Be=1;Be<Ce.length;++Be)(!Ce[Be].isValid()||Ce[Be][Re](je))&&(je=Ce[Be]);return je}function min$2(){var Re=[].slice.call(arguments,0);return pickBy("isBefore",Re)}function max$3(){var Re=[].slice.call(arguments,0);return pickBy("isAfter",Re)}var now$1=function(){return Date.now?Date.now():+new Date},ordering=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(Re){var Ce,je=!1,Be,De=ordering.length;for(Ce in Re)if(hasOwnProp(Re,Ce)&&!(indexOf.call(ordering,Ce)!==-1&&(Re[Ce]==null||!isNaN(Re[Ce]))))return!1;for(Be=0;Be<De;++Be)if(Re[ordering[Be]]){if(je)return!1;parseFloat(Re[ordering[Be]])!==toInt(Re[ordering[Be]])&&(je=!0)}return!0}function isValid$1$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(Re){var Ce=normalizeObjectUnits(Re),je=Ce.year||0,Be=Ce.quarter||0,De=Ce.month||0,Fe=Ce.week||Ce.isoWeek||0,ke=Ce.day||0,Oe=Ce.hour||0,Me=Ce.minute||0,Ue=Ce.second||0,$e=Ce.millisecond||0;this._isValid=isDurationValid(Ce),this._milliseconds=+$e+Ue*1e3+Me*6e4+Oe*1e3*60*60,this._days=+ke+Fe*7,this._months=+De+Be*3+je*12,this._data={},this._locale=getLocale(),this._bubble()}function isDuration(Re){return Re instanceof Duration}function absRound(Re){return Re<0?Math.round(-1*Re)*-1:Math.round(Re)}function compareArrays(Re,Ce,je){var Be=Math.min(Re.length,Ce.length),De=Math.abs(Re.length-Ce.length),Fe=0,ke;for(ke=0;ke<Be;ke++)toInt(Re[ke])!==toInt(Ce[ke])&&Fe++;return Fe+De}function offset(Re,Ce){addFormatToken(Re,0,0,function(){var je=this.utcOffset(),Be="+";return je<0&&(je=-je,Be="-"),Be+zeroFill(~~(je/60),2)+Ce+zeroFill(~~je%60,2)})}offset("Z",":");offset("ZZ","");addRegexToken("Z",matchShortOffset);addRegexToken("ZZ",matchShortOffset);addParseToken(["Z","ZZ"],function(Re,Ce,je){je._useUTC=!0,je._tzm=offsetFromString(matchShortOffset,Re)});var chunkOffset=/([\+\-]|\d\d)/gi;function offsetFromString(Re,Ce){var je=(Ce||"").match(Re),Be,De,Fe;return je===null?null:(Be=je[je.length-1]||[],De=(Be+"").match(chunkOffset)||["-",0,0],Fe=+(De[1]*60)+toInt(De[2]),Fe===0?0:De[0]==="+"?Fe:-Fe)}function cloneWithOffset(Re,Ce){var je,Be;return Ce._isUTC?(je=Ce.clone(),Be=(isMoment(Re)||isDate$1(Re)?Re.valueOf():createLocal(Re).valueOf())-je.valueOf(),je._d.setTime(je._d.valueOf()+Be),hooks.updateOffset(je,!1),je):createLocal(Re).local()}function getDateOffset(Re){return-Math.round(Re._d.getTimezoneOffset())}hooks.updateOffset=function(){};function getSetOffset(Re,Ce,je){var Be=this._offset||0,De;if(!this.isValid())return Re!=null?this:NaN;if(Re!=null){if(typeof Re=="string"){if(Re=offsetFromString(matchShortOffset,Re),Re===null)return this}else Math.abs(Re)<16&&!je&&(Re=Re*60);return!this._isUTC&&Ce&&(De=getDateOffset(this)),this._offset=Re,this._isUTC=!0,De!=null&&this.add(De,"m"),Be!==Re&&(!Ce||this._changeInProgress?addSubtract(this,createDuration(Re-Be,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,hooks.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?Be:getDateOffset(this)}function getSetZone(Re,Ce){return Re!=null?(typeof Re!="string"&&(Re=-Re),this.utcOffset(Re,Ce),this):-this.utcOffset()}function setOffsetToUTC(Re){return this.utcOffset(0,Re)}function setOffsetToLocal(Re){return this._isUTC&&(this.utcOffset(0,Re),this._isUTC=!1,Re&&this.subtract(getDateOffset(this),"m")),this}function setOffsetToParsedOffset(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Re=offsetFromString(matchOffset,this._i);Re!=null?this.utcOffset(Re):this.utcOffset(0,!0)}return this}function hasAlignedHourOffset(Re){return this.isValid()?(Re=Re?createLocal(Re).utcOffset():0,(this.utcOffset()-Re)%60===0):!1}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted))return this._isDSTShifted;var Re={},Ce;return copyConfig(Re,this),Re=prepareConfig(Re),Re._a?(Ce=Re._isUTC?createUTC(Re._a):createLocal(Re._a),this._isDSTShifted=this.isValid()&&compareArrays(Re._a,Ce.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:!1}function isUtcOffset(){return this.isValid()?this._isUTC:!1}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var aspNetRegex=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,isoRegex=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(Re,Ce){var je=Re,Be=null,De,Fe,ke;return isDuration(Re)?je={ms:Re._milliseconds,d:Re._days,M:Re._months}:isNumber$2(Re)||!isNaN(+Re)?(je={},Ce?je[Ce]=+Re:je.milliseconds=+Re):(Be=aspNetRegex.exec(Re))?(De=Be[1]==="-"?-1:1,je={y:0,d:toInt(Be[DATE])*De,h:toInt(Be[HOUR])*De,m:toInt(Be[MINUTE])*De,s:toInt(Be[SECOND])*De,ms:toInt(absRound(Be[MILLISECOND]*1e3))*De}):(Be=isoRegex.exec(Re))?(De=Be[1]==="-"?-1:1,je={y:parseIso(Be[2],De),M:parseIso(Be[3],De),w:parseIso(Be[4],De),d:parseIso(Be[5],De),h:parseIso(Be[6],De),m:parseIso(Be[7],De),s:parseIso(Be[8],De)}):je==null?je={}:typeof je=="object"&&("from"in je||"to"in je)&&(ke=momentsDifference(createLocal(je.from),createLocal(je.to)),je={},je.ms=ke.milliseconds,je.M=ke.months),Fe=new Duration(je),isDuration(Re)&&hasOwnProp(Re,"_locale")&&(Fe._locale=Re._locale),isDuration(Re)&&hasOwnProp(Re,"_isValid")&&(Fe._isValid=Re._isValid),Fe}createDuration.fn=Duration.prototype;createDuration.invalid=createInvalid$1;function parseIso(Re,Ce){var je=Re&&parseFloat(Re.replace(",","."));return(isNaN(je)?0:je)*Ce}function positiveMomentsDifference(Re,Ce){var je={};return je.months=Ce.month()-Re.month()+(Ce.year()-Re.year())*12,Re.clone().add(je.months,"M").isAfter(Ce)&&--je.months,je.milliseconds=+Ce-+Re.clone().add(je.months,"M"),je}function momentsDifference(Re,Ce){var je;return Re.isValid()&&Ce.isValid()?(Ce=cloneWithOffset(Ce,Re),Re.isBefore(Ce)?je=positiveMomentsDifference(Re,Ce):(je=positiveMomentsDifference(Ce,Re),je.milliseconds=-je.milliseconds,je.months=-je.months),je):{milliseconds:0,months:0}}function createAdder(Re,Ce){return function(je,Be){var De,Fe;return Be!==null&&!isNaN(+Be)&&(deprecateSimple(Ce,"moment()."+Ce+"(period, number) is deprecated. Please use moment()."+Ce+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Fe=je,je=Be,Be=Fe),De=createDuration(je,Be),addSubtract(this,De,Re),this}}function addSubtract(Re,Ce,je,Be){var De=Ce._milliseconds,Fe=absRound(Ce._days),ke=absRound(Ce._months);Re.isValid()&&(Be=Be??!0,ke&&setMonth(Re,get$3(Re,"Month")+ke*je),Fe&&set$1$1(Re,"Date",get$3(Re,"Date")+Fe*je),De&&Re._d.setTime(Re._d.valueOf()+De*je),Be&&hooks.updateOffset(Re,Fe||ke))}var add$1=createAdder(1,"add"),subtract$1=createAdder(-1,"subtract");function isString$1(Re){return typeof Re=="string"||Re instanceof String}function isMomentInput(Re){return isMoment(Re)||isDate$1(Re)||isString$1(Re)||isNumber$2(Re)||isNumberOrStringArray(Re)||isMomentInputObject(Re)||Re===null||Re===void 0}function isMomentInputObject(Re){var Ce=isObject$4(Re)&&!isObjectEmpty$3(Re),je=!1,Be=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],De,Fe,ke=Be.length;for(De=0;De<ke;De+=1)Fe=Be[De],je=je||hasOwnProp(Re,Fe);return Ce&&je}function isNumberOrStringArray(Re){var Ce=isArray$3(Re),je=!1;return Ce&&(je=Re.filter(function(Be){return!isNumber$2(Be)&&isString$1(Re)}).length===0),Ce&&je}function isCalendarSpec(Re){var Ce=isObject$4(Re)&&!isObjectEmpty$3(Re),je=!1,Be=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],De,Fe;for(De=0;De<Be.length;De+=1)Fe=Be[De],je=je||hasOwnProp(Re,Fe);return Ce&&je}function getCalendarFormat(Re,Ce){var je=Re.diff(Ce,"days",!0);return je<-6?"sameElse":je<-1?"lastWeek":je<0?"lastDay":je<1?"sameDay":je<2?"nextDay":je<7?"nextWeek":"sameElse"}function calendar$1$1(Re,Ce){arguments.length===1&&(arguments[0]?isMomentInput(arguments[0])?(Re=arguments[0],Ce=void 0):isCalendarSpec(arguments[0])&&(Ce=arguments[0],Re=void 0):(Re=void 0,Ce=void 0));var je=Re||createLocal(),Be=cloneWithOffset(je,this).startOf("day"),De=hooks.calendarFormat(this,Be)||"sameElse",Fe=Ce&&(isFunction$1(Ce[De])?Ce[De].call(this,je):Ce[De]);return this.format(Fe||this.localeData().calendar(De,this,createLocal(je)))}function clone$3(){return new Moment(this)}function isAfter(Re,Ce){var je=isMoment(Re)?Re:createLocal(Re);return this.isValid()&&je.isValid()?(Ce=normalizeUnits(Ce)||"millisecond",Ce==="millisecond"?this.valueOf()>je.valueOf():je.valueOf()<this.clone().startOf(Ce).valueOf()):!1}function isBefore(Re,Ce){var je=isMoment(Re)?Re:createLocal(Re);return this.isValid()&&je.isValid()?(Ce=normalizeUnits(Ce)||"millisecond",Ce==="millisecond"?this.valueOf()<je.valueOf():this.clone().endOf(Ce).valueOf()<je.valueOf()):!1}function isBetween(Re,Ce,je,Be){var De=isMoment(Re)?Re:createLocal(Re),Fe=isMoment(Ce)?Ce:createLocal(Ce);return this.isValid()&&De.isValid()&&Fe.isValid()?(Be=Be||"()",(Be[0]==="("?this.isAfter(De,je):!this.isBefore(De,je))&&(Be[1]===")"?this.isBefore(Fe,je):!this.isAfter(Fe,je))):!1}function isSame(Re,Ce){var je=isMoment(Re)?Re:createLocal(Re),Be;return this.isValid()&&je.isValid()?(Ce=normalizeUnits(Ce)||"millisecond",Ce==="millisecond"?this.valueOf()===je.valueOf():(Be=je.valueOf(),this.clone().startOf(Ce).valueOf()<=Be&&Be<=this.clone().endOf(Ce).valueOf())):!1}function isSameOrAfter(Re,Ce){return this.isSame(Re,Ce)||this.isAfter(Re,Ce)}function isSameOrBefore(Re,Ce){return this.isSame(Re,Ce)||this.isBefore(Re,Ce)}function diff(Re,Ce,je){var Be,De,Fe;if(!this.isValid())return NaN;if(Be=cloneWithOffset(Re,this),!Be.isValid())return NaN;switch(De=(Be.utcOffset()-this.utcOffset())*6e4,Ce=normalizeUnits(Ce),Ce){case"year":Fe=monthDiff(this,Be)/12;break;case"month":Fe=monthDiff(this,Be);break;case"quarter":Fe=monthDiff(this,Be)/3;break;case"second":Fe=(this-Be)/1e3;break;case"minute":Fe=(this-Be)/6e4;break;case"hour":Fe=(this-Be)/36e5;break;case"day":Fe=(this-Be-De)/864e5;break;case"week":Fe=(this-Be-De)/6048e5;break;default:Fe=this-Be}return je?Fe:absFloor(Fe)}function monthDiff(Re,Ce){if(Re.date()<Ce.date())return-monthDiff(Ce,Re);var je=(Ce.year()-Re.year())*12+(Ce.month()-Re.month()),Be=Re.clone().add(je,"months"),De,Fe;return Ce-Be<0?(De=Re.clone().add(je-1,"months"),Fe=(Ce-Be)/(Be-De)):(De=Re.clone().add(je+1,"months"),Fe=(Ce-Be)/(De-Be)),-(je+Fe)||0}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function toString$1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(Re){if(!this.isValid())return null;var Ce=Re!==!0,je=Ce?this.clone().utc():this;return je.year()<0||je.year()>9999?formatMoment(je,Ce?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):isFunction$1(Date.prototype.toISOString)?Ce?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(je,"Z")):formatMoment(je,Ce?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Re="moment",Ce="",je,Be,De,Fe;return this.isLocal()||(Re=this.utcOffset()===0?"moment.utc":"moment.parseZone",Ce="Z"),je="["+Re+'("]',Be=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",De="-MM-DD[T]HH:mm:ss.SSS",Fe=Ce+'[")]',this.format(je+Be+De+Fe)}function format$2(Re){Re||(Re=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat);var Ce=formatMoment(this,Re);return this.localeData().postformat(Ce)}function from$3(Re,Ce){return this.isValid()&&(isMoment(Re)&&Re.isValid()||createLocal(Re).isValid())?createDuration({to:this,from:Re}).locale(this.locale()).humanize(!Ce):this.localeData().invalidDate()}function fromNow(Re){return this.from(createLocal(),Re)}function to$2(Re,Ce){return this.isValid()&&(isMoment(Re)&&Re.isValid()||createLocal(Re).isValid())?createDuration({from:this,to:Re}).locale(this.locale()).humanize(!Ce):this.localeData().invalidDate()}function toNow(Re){return this.to(createLocal(),Re)}function locale$2(Re){var Ce;return Re===void 0?this._locale._abbr:(Ce=getLocale(Re),Ce!=null&&(this._locale=Ce),this)}var lang=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Re){return Re===void 0?this.localeData():this.locale(Re)});function localeData(){return this._locale}var MS_PER_SECOND=1e3,MS_PER_MINUTE=60*MS_PER_SECOND,MS_PER_HOUR=60*MS_PER_MINUTE,MS_PER_400_YEARS=(365*400+97)*24*MS_PER_HOUR;function mod$1(Re,Ce){return(Re%Ce+Ce)%Ce}function localStartOfDate(Re,Ce,je){return Re<100&&Re>=0?new Date(Re+400,Ce,je)-MS_PER_400_YEARS:new Date(Re,Ce,je).valueOf()}function utcStartOfDate(Re,Ce,je){return Re<100&&Re>=0?Date.UTC(Re+400,Ce,je)-MS_PER_400_YEARS:Date.UTC(Re,Ce,je)}function startOf(Re){var Ce,je;if(Re=normalizeUnits(Re),Re===void 0||Re==="millisecond"||!this.isValid())return this;switch(je=this._isUTC?utcStartOfDate:localStartOfDate,Re){case"year":Ce=je(this.year(),0,1);break;case"quarter":Ce=je(this.year(),this.month()-this.month()%3,1);break;case"month":Ce=je(this.year(),this.month(),1);break;case"week":Ce=je(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Ce=je(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Ce=je(this.year(),this.month(),this.date());break;case"hour":Ce=this._d.valueOf(),Ce-=mod$1(Ce+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR);break;case"minute":Ce=this._d.valueOf(),Ce-=mod$1(Ce,MS_PER_MINUTE);break;case"second":Ce=this._d.valueOf(),Ce-=mod$1(Ce,MS_PER_SECOND);break}return this._d.setTime(Ce),hooks.updateOffset(this,!0),this}function endOf(Re){var Ce,je;if(Re=normalizeUnits(Re),Re===void 0||Re==="millisecond"||!this.isValid())return this;switch(je=this._isUTC?utcStartOfDate:localStartOfDate,Re){case"year":Ce=je(this.year()+1,0,1)-1;break;case"quarter":Ce=je(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Ce=je(this.year(),this.month()+1,1)-1;break;case"week":Ce=je(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Ce=je(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Ce=je(this.year(),this.month(),this.date()+1)-1;break;case"hour":Ce=this._d.valueOf(),Ce+=MS_PER_HOUR-mod$1(Ce+(this._isUTC?0:this.utcOffset()*MS_PER_MINUTE),MS_PER_HOUR)-1;break;case"minute":Ce=this._d.valueOf(),Ce+=MS_PER_MINUTE-mod$1(Ce,MS_PER_MINUTE)-1;break;case"second":Ce=this._d.valueOf(),Ce+=MS_PER_SECOND-mod$1(Ce,MS_PER_SECOND)-1;break}return this._d.setTime(Ce),hooks.updateOffset(this,!0),this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate$1(){return new Date(this.valueOf())}function toArray$2(){var Re=this;return[Re.year(),Re.month(),Re.date(),Re.hour(),Re.minute(),Re.second(),Re.millisecond()]}function toObject(){var Re=this;return{years:Re.year(),months:Re.month(),date:Re.date(),hours:Re.hours(),minutes:Re.minutes(),seconds:Re.seconds(),milliseconds:Re.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid$1(this)}function parsingFlags(){return extend$1({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}addFormatToken("N",0,0,"eraAbbr");addFormatToken("NN",0,0,"eraAbbr");addFormatToken("NNN",0,0,"eraAbbr");addFormatToken("NNNN",0,0,"eraName");addFormatToken("NNNNN",0,0,"eraNarrow");addFormatToken("y",["y",1],"yo","eraYear");addFormatToken("y",["yy",2],0,"eraYear");addFormatToken("y",["yyy",3],0,"eraYear");addFormatToken("y",["yyyy",4],0,"eraYear");addRegexToken("N",matchEraAbbr);addRegexToken("NN",matchEraAbbr);addRegexToken("NNN",matchEraAbbr);addRegexToken("NNNN",matchEraName);addRegexToken("NNNNN",matchEraNarrow);addParseToken(["N","NN","NNN","NNNN","NNNNN"],function(Re,Ce,je,Be){var De=je._locale.erasParse(Re,Be,je._strict);De?getParsingFlags(je).era=De:getParsingFlags(je).invalidEra=Re});addRegexToken("y",matchUnsigned);addRegexToken("yy",matchUnsigned);addRegexToken("yyy",matchUnsigned);addRegexToken("yyyy",matchUnsigned);addRegexToken("yo",matchEraYearOrdinal);addParseToken(["y","yy","yyy","yyyy"],YEAR);addParseToken(["yo"],function(Re,Ce,je,Be){var De;je._locale._eraYearOrdinalRegex&&(De=Re.match(je._locale._eraYearOrdinalRegex)),je._locale.eraYearOrdinalParse?Ce[YEAR]=je._locale.eraYearOrdinalParse(Re,De):Ce[YEAR]=parseInt(Re,10)});function localeEras(Re,Ce){var je,Be,De,Fe=this._eras||getLocale("en")._eras;for(je=0,Be=Fe.length;je<Be;++je){switch(typeof Fe[je].since){case"string":De=hooks(Fe[je].since).startOf("day"),Fe[je].since=De.valueOf();break}switch(typeof Fe[je].until){case"undefined":Fe[je].until=1/0;break;case"string":De=hooks(Fe[je].until).startOf("day").valueOf(),Fe[je].until=De.valueOf();break}}return Fe}function localeErasParse(Re,Ce,je){var Be,De,Fe=this.eras(),ke,Oe,Me;for(Re=Re.toUpperCase(),Be=0,De=Fe.length;Be<De;++Be)if(ke=Fe[Be].name.toUpperCase(),Oe=Fe[Be].abbr.toUpperCase(),Me=Fe[Be].narrow.toUpperCase(),je)switch(Ce){case"N":case"NN":case"NNN":if(Oe===Re)return Fe[Be];break;case"NNNN":if(ke===Re)return Fe[Be];break;case"NNNNN":if(Me===Re)return Fe[Be];break}else if([ke,Oe,Me].indexOf(Re)>=0)return Fe[Be]}function localeErasConvertYear(Re,Ce){var je=Re.since<=Re.until?1:-1;return Ce===void 0?hooks(Re.since).year():hooks(Re.since).year()+(Ce-Re.offset)*je}function getEraName(){var Re,Ce,je,Be=this.localeData().eras();for(Re=0,Ce=Be.length;Re<Ce;++Re)if(je=this.clone().startOf("day").valueOf(),Be[Re].since<=je&&je<=Be[Re].until||Be[Re].until<=je&&je<=Be[Re].since)return Be[Re].name;return""}function getEraNarrow(){var Re,Ce,je,Be=this.localeData().eras();for(Re=0,Ce=Be.length;Re<Ce;++Re)if(je=this.clone().startOf("day").valueOf(),Be[Re].since<=je&&je<=Be[Re].until||Be[Re].until<=je&&je<=Be[Re].since)return Be[Re].narrow;return""}function getEraAbbr(){var Re,Ce,je,Be=this.localeData().eras();for(Re=0,Ce=Be.length;Re<Ce;++Re)if(je=this.clone().startOf("day").valueOf(),Be[Re].since<=je&&je<=Be[Re].until||Be[Re].until<=je&&je<=Be[Re].since)return Be[Re].abbr;return""}function getEraYear(){var Re,Ce,je,Be,De=this.localeData().eras();for(Re=0,Ce=De.length;Re<Ce;++Re)if(je=De[Re].since<=De[Re].until?1:-1,Be=this.clone().startOf("day").valueOf(),De[Re].since<=Be&&Be<=De[Re].until||De[Re].until<=Be&&Be<=De[Re].since)return(this.year()-hooks(De[Re].since).year())*je+De[Re].offset;return this.year()}function erasNameRegex(Re){return hasOwnProp(this,"_erasNameRegex")||computeErasParse.call(this),Re?this._erasNameRegex:this._erasRegex}function erasAbbrRegex(Re){return hasOwnProp(this,"_erasAbbrRegex")||computeErasParse.call(this),Re?this._erasAbbrRegex:this._erasRegex}function erasNarrowRegex(Re){return hasOwnProp(this,"_erasNarrowRegex")||computeErasParse.call(this),Re?this._erasNarrowRegex:this._erasRegex}function matchEraAbbr(Re,Ce){return Ce.erasAbbrRegex(Re)}function matchEraName(Re,Ce){return Ce.erasNameRegex(Re)}function matchEraNarrow(Re,Ce){return Ce.erasNarrowRegex(Re)}function matchEraYearOrdinal(Re,Ce){return Ce._eraYearOrdinalRegex||matchUnsigned}function computeErasParse(){var Re=[],Ce=[],je=[],Be=[],De,Fe,ke,Oe,Me,Ue=this.eras();for(De=0,Fe=Ue.length;De<Fe;++De)ke=regexEscape(Ue[De].name),Oe=regexEscape(Ue[De].abbr),Me=regexEscape(Ue[De].narrow),Ce.push(ke),Re.push(Oe),je.push(Me),Be.push(ke),Be.push(Oe),Be.push(Me);this._erasRegex=new RegExp("^("+Be.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Ce.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Re.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+je.join("|")+")","i")}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100});addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100});function addWeekYearFormatToken(Re,Ce){addFormatToken(0,[Re,Re.length],0,Ce)}addWeekYearFormatToken("gggg","weekYear");addWeekYearFormatToken("ggggg","weekYear");addWeekYearFormatToken("GGGG","isoWeekYear");addWeekYearFormatToken("GGGGG","isoWeekYear");addRegexToken("G",matchSigned);addRegexToken("g",matchSigned);addRegexToken("GG",match1to2,match2);addRegexToken("gg",match1to2,match2);addRegexToken("GGGG",match1to4,match4);addRegexToken("gggg",match1to4,match4);addRegexToken("GGGGG",match1to6,match6);addRegexToken("ggggg",match1to6,match6);addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(Re,Ce,je,Be){Ce[Be.substr(0,2)]=toInt(Re)});addWeekParseToken(["gg","GG"],function(Re,Ce,je,Be){Ce[Be]=hooks.parseTwoDigitYear(Re)});function getSetWeekYear(Re){return getSetWeekYearHelper.call(this,Re,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(Re){return getSetWeekYearHelper.call(this,Re,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getISOWeeksInISOWeekYear(){return weeksInYear(this.isoWeekYear(),1,4)}function getWeeksInYear(){var Re=this.localeData()._week;return weeksInYear(this.year(),Re.dow,Re.doy)}function getWeeksInWeekYear(){var Re=this.localeData()._week;return weeksInYear(this.weekYear(),Re.dow,Re.doy)}function getSetWeekYearHelper(Re,Ce,je,Be,De){var Fe;return Re==null?weekOfYear(this,Be,De).year:(Fe=weeksInYear(Re,Be,De),Ce>Fe&&(Ce=Fe),setWeekAll.call(this,Re,Ce,je,Be,De))}function setWeekAll(Re,Ce,je,Be,De){var Fe=dayOfYearFromWeeks(Re,Ce,je,Be,De),ke=createUTCDate(Fe.year,0,Fe.dayOfYear);return this.year(ke.getUTCFullYear()),this.month(ke.getUTCMonth()),this.date(ke.getUTCDate()),this}addFormatToken("Q",0,"Qo","quarter");addRegexToken("Q",match1);addParseToken("Q",function(Re,Ce){Ce[MONTH]=(toInt(Re)-1)*3});function getSetQuarter(Re){return Re==null?Math.ceil((this.month()+1)/3):this.month((Re-1)*3+this.month()%3)}addFormatToken("D",["DD",2],"Do","date");addRegexToken("D",match1to2,match1to2NoLeadingZero);addRegexToken("DD",match1to2,match2);addRegexToken("Do",function(Re,Ce){return Re?Ce._dayOfMonthOrdinalParse||Ce._ordinalParse:Ce._dayOfMonthOrdinalParseLenient});addParseToken(["D","DD"],DATE);addParseToken("Do",function(Re,Ce){Ce[DATE]=toInt(Re.match(match1to2)[0])});var getSetDayOfMonth=makeGetSet("Date",!0);addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear");addRegexToken("DDD",match1to3);addRegexToken("DDDD",match3);addParseToken(["DDD","DDDD"],function(Re,Ce,je){je._dayOfYear=toInt(Re)});function getSetDayOfYear(Re){var Ce=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Re==null?Ce:this.add(Re-Ce,"d")}addFormatToken("m",["mm",2],0,"minute");addRegexToken("m",match1to2,match1to2HasZero);addRegexToken("mm",match1to2,match2);addParseToken(["m","mm"],MINUTE);var getSetMinute=makeGetSet("Minutes",!1);addFormatToken("s",["ss",2],0,"second");addRegexToken("s",match1to2,match1to2HasZero);addRegexToken("ss",match1to2,match2);addParseToken(["s","ss"],SECOND);var getSetSecond=makeGetSet("Seconds",!1);addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)});addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)});addFormatToken(0,["SSS",3],0,"millisecond");addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10});addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100});addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});addRegexToken("S",match1to3,match1);addRegexToken("SS",match1to3,match2);addRegexToken("SSS",match1to3,match3);var token$1,getSetMillisecond;for(token$1="SSSS";token$1.length<=9;token$1+="S")addRegexToken(token$1,matchUnsigned);function parseMs(Re,Ce){Ce[MILLISECOND]=toInt(("0."+Re)*1e3)}for(token$1="S";token$1.length<=9;token$1+="S")addParseToken(token$1,parseMs);getSetMillisecond=makeGetSet("Milliseconds",!1);addFormatToken("z",0,0,"zoneAbbr");addFormatToken("zz",0,0,"zoneName");function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}var proto=Moment.prototype;proto.add=add$1;proto.calendar=calendar$1$1;proto.clone=clone$3;proto.diff=diff;proto.endOf=endOf;proto.format=format$2;proto.from=from$3;proto.fromNow=fromNow;proto.to=to$2;proto.toNow=toNow;proto.get=stringGet;proto.invalidAt=invalidAt;proto.isAfter=isAfter;proto.isBefore=isBefore;proto.isBetween=isBetween;proto.isSame=isSame;proto.isSameOrAfter=isSameOrAfter;proto.isSameOrBefore=isSameOrBefore;proto.isValid=isValid$2;proto.lang=lang;proto.locale=locale$2;proto.localeData=localeData;proto.max=prototypeMax;proto.min=prototypeMin;proto.parsingFlags=parsingFlags;proto.set=stringSet;proto.startOf=startOf;proto.subtract=subtract$1;proto.toArray=toArray$2;proto.toObject=toObject;proto.toDate=toDate$1;proto.toISOString=toISOString;proto.inspect=inspect;typeof Symbol<"u"&&Symbol.for!=null&&(proto[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});proto.toJSON=toJSON;proto.toString=toString$1;proto.unix=unix;proto.valueOf=valueOf;proto.creationData=creationData;proto.eraName=getEraName;proto.eraNarrow=getEraNarrow;proto.eraAbbr=getEraAbbr;proto.eraYear=getEraYear;proto.year=getSetYear;proto.isLeapYear=getIsLeapYear;proto.weekYear=getSetWeekYear;proto.isoWeekYear=getSetISOWeekYear;proto.quarter=proto.quarters=getSetQuarter;proto.month=getSetMonth;proto.daysInMonth=getDaysInMonth;proto.week=proto.weeks=getSetWeek;proto.isoWeek=proto.isoWeeks=getSetISOWeek;proto.weeksInYear=getWeeksInYear;proto.weeksInWeekYear=getWeeksInWeekYear;proto.isoWeeksInYear=getISOWeeksInYear;proto.isoWeeksInISOWeekYear=getISOWeeksInISOWeekYear;proto.date=getSetDayOfMonth;proto.day=proto.days=getSetDayOfWeek;proto.weekday=getSetLocaleDayOfWeek;proto.isoWeekday=getSetISODayOfWeek;proto.dayOfYear=getSetDayOfYear;proto.hour=proto.hours=getSetHour;proto.minute=proto.minutes=getSetMinute;proto.second=proto.seconds=getSetSecond;proto.millisecond=proto.milliseconds=getSetMillisecond;proto.utcOffset=getSetOffset;proto.utc=setOffsetToUTC;proto.local=setOffsetToLocal;proto.parseZone=setOffsetToParsedOffset;proto.hasAlignedHourOffset=hasAlignedHourOffset;proto.isDST=isDaylightSavingTime;proto.isLocal=isLocal;proto.isUtcOffset=isUtcOffset;proto.isUtc=isUtc;proto.isUTC=isUtc;proto.zoneAbbr=getZoneAbbr;proto.zoneName=getZoneName;proto.dates=deprecate("dates accessor is deprecated. Use date instead.",getSetDayOfMonth);proto.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth);proto.years=deprecate("years accessor is deprecated. Use year instead",getSetYear);proto.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone);proto.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);function createUnix(Re){return createLocal(Re*1e3)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(Re){return Re}var proto$1=Locale.prototype;proto$1.calendar=calendar$1;proto$1.longDateFormat=longDateFormat;proto$1.invalidDate=invalidDate;proto$1.ordinal=ordinal$1;proto$1.preparse=preParsePostFormat;proto$1.postformat=preParsePostFormat;proto$1.relativeTime=relativeTime;proto$1.pastFuture=pastFuture;proto$1.set=set$2;proto$1.eras=localeEras;proto$1.erasParse=localeErasParse;proto$1.erasConvertYear=localeErasConvertYear;proto$1.erasAbbrRegex=erasAbbrRegex;proto$1.erasNameRegex=erasNameRegex;proto$1.erasNarrowRegex=erasNarrowRegex;proto$1.months=localeMonths;proto$1.monthsShort=localeMonthsShort;proto$1.monthsParse=localeMonthsParse;proto$1.monthsRegex=monthsRegex;proto$1.monthsShortRegex=monthsShortRegex;proto$1.week=localeWeek;proto$1.firstDayOfYear=localeFirstDayOfYear;proto$1.firstDayOfWeek=localeFirstDayOfWeek;proto$1.weekdays=localeWeekdays;proto$1.weekdaysMin=localeWeekdaysMin;proto$1.weekdaysShort=localeWeekdaysShort;proto$1.weekdaysParse=localeWeekdaysParse;proto$1.weekdaysRegex=weekdaysRegex;proto$1.weekdaysShortRegex=weekdaysShortRegex;proto$1.weekdaysMinRegex=weekdaysMinRegex;proto$1.isPM=localeIsPM;proto$1.meridiem=localeMeridiem;function get$1$1(Re,Ce,je,Be){var De=getLocale(),Fe=createUTC().set(Be,Ce);return De[je](Fe,Re)}function listMonthsImpl(Re,Ce,je){if(isNumber$2(Re)&&(Ce=Re,Re=void 0),Re=Re||"",Ce!=null)return get$1$1(Re,Ce,je,"month");var Be,De=[];for(Be=0;Be<12;Be++)De[Be]=get$1$1(Re,Be,je,"month");return De}function listWeekdaysImpl(Re,Ce,je,Be){typeof Re=="boolean"?(isNumber$2(Ce)&&(je=Ce,Ce=void 0),Ce=Ce||""):(Ce=Re,je=Ce,Re=!1,isNumber$2(Ce)&&(je=Ce,Ce=void 0),Ce=Ce||"");var De=getLocale(),Fe=Re?De._week.dow:0,ke,Oe=[];if(je!=null)return get$1$1(Ce,(je+Fe)%7,Be,"day");for(ke=0;ke<7;ke++)Oe[ke]=get$1$1(Ce,(ke+Fe)%7,Be,"day");return Oe}function listMonths(Re,Ce){return listMonthsImpl(Re,Ce,"months")}function listMonthsShort(Re,Ce){return listMonthsImpl(Re,Ce,"monthsShort")}function listWeekdays(Re,Ce,je){return listWeekdaysImpl(Re,Ce,je,"weekdays")}function listWeekdaysShort(Re,Ce,je){return listWeekdaysImpl(Re,Ce,je,"weekdaysShort")}function listWeekdaysMin(Re,Ce,je){return listWeekdaysImpl(Re,Ce,je,"weekdaysMin")}getSetGlobalLocale("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Re){var Ce=Re%10,je=toInt(Re%100/10)===1?"th":Ce===1?"st":Ce===2?"nd":Ce===3?"rd":"th";return Re+je}});hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale);hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var mathAbs=Math.abs;function abs$1(){var Re=this._data;return this._milliseconds=mathAbs(this._milliseconds),this._days=mathAbs(this._days),this._months=mathAbs(this._months),Re.milliseconds=mathAbs(Re.milliseconds),Re.seconds=mathAbs(Re.seconds),Re.minutes=mathAbs(Re.minutes),Re.hours=mathAbs(Re.hours),Re.months=mathAbs(Re.months),Re.years=mathAbs(Re.years),this}function addSubtract$1(Re,Ce,je,Be){var De=createDuration(Ce,je);return Re._milliseconds+=Be*De._milliseconds,Re._days+=Be*De._days,Re._months+=Be*De._months,Re._bubble()}function add$1$1(Re,Ce){return addSubtract$1(this,Re,Ce,1)}function subtract$1$1(Re,Ce){return addSubtract$1(this,Re,Ce,-1)}function absCeil(Re){return Re<0?Math.floor(Re):Math.ceil(Re)}function bubble(){var Re=this._milliseconds,Ce=this._days,je=this._months,Be=this._data,De,Fe,ke,Oe,Me;return Re>=0&&Ce>=0&&je>=0||Re<=0&&Ce<=0&&je<=0||(Re+=absCeil(monthsToDays(je)+Ce)*864e5,Ce=0,je=0),Be.milliseconds=Re%1e3,De=absFloor(Re/1e3),Be.seconds=De%60,Fe=absFloor(De/60),Be.minutes=Fe%60,ke=absFloor(Fe/60),Be.hours=ke%24,Ce+=absFloor(ke/24),Me=absFloor(daysToMonths(Ce)),je+=Me,Ce-=absCeil(monthsToDays(Me)),Oe=absFloor(je/12),je%=12,Be.days=Ce,Be.months=je,Be.years=Oe,this}function daysToMonths(Re){return Re*4800/146097}function monthsToDays(Re){return Re*146097/4800}function as(Re){if(!this.isValid())return NaN;var Ce,je,Be=this._milliseconds;if(Re=normalizeUnits(Re),Re==="month"||Re==="quarter"||Re==="year")switch(Ce=this._days+Be/864e5,je=this._months+daysToMonths(Ce),Re){case"month":return je;case"quarter":return je/3;case"year":return je/12}else switch(Ce=this._days+Math.round(monthsToDays(this._months)),Re){case"week":return Ce/7+Be/6048e5;case"day":return Ce+Be/864e5;case"hour":return Ce*24+Be/36e5;case"minute":return Ce*1440+Be/6e4;case"second":return Ce*86400+Be/1e3;case"millisecond":return Math.floor(Ce*864e5)+Be;default:throw new Error("Unknown unit "+Re)}}function makeAs(Re){return function(){return this.as(Re)}}var asMilliseconds=makeAs("ms"),asSeconds=makeAs("s"),asMinutes=makeAs("m"),asHours=makeAs("h"),asDays=makeAs("d"),asWeeks=makeAs("w"),asMonths=makeAs("M"),asQuarters=makeAs("Q"),asYears=makeAs("y"),valueOf$1=asMilliseconds;function clone$1$1(){return createDuration(this)}function get$2$1(Re){return Re=normalizeUnits(Re),this.isValid()?this[Re+"s"]():NaN}function makeGetter(Re){return function(){return this.isValid()?this._data[Re]:NaN}}var milliseconds=makeGetter("milliseconds"),seconds=makeGetter("seconds"),minutes=makeGetter("minutes"),hours=makeGetter("hours"),days$1=makeGetter("days"),months$1=makeGetter("months"),years=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var round$4=Math.round,thresholds={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function substituteTimeAgo(Re,Ce,je,Be,De){return De.relativeTime(Ce||1,!!je,Re,Be)}function relativeTime$1(Re,Ce,je,Be){var De=createDuration(Re).abs(),Fe=round$4(De.as("s")),ke=round$4(De.as("m")),Oe=round$4(De.as("h")),Me=round$4(De.as("d")),Ue=round$4(De.as("M")),$e=round$4(De.as("w")),He=round$4(De.as("y")),Qe=Fe<=je.ss&&["s",Fe]||Fe<je.s&&["ss",Fe]||ke<=1&&["m"]||ke<je.m&&["mm",ke]||Oe<=1&&["h"]||Oe<je.h&&["hh",Oe]||Me<=1&&["d"]||Me<je.d&&["dd",Me];return je.w!=null&&(Qe=Qe||$e<=1&&["w"]||$e<je.w&&["ww",$e]),Qe=Qe||Ue<=1&&["M"]||Ue<je.M&&["MM",Ue]||He<=1&&["y"]||["yy",He],Qe[2]=Ce,Qe[3]=+Re>0,Qe[4]=Be,substituteTimeAgo.apply(null,Qe)}function getSetRelativeTimeRounding(Re){return Re===void 0?round$4:typeof Re=="function"?(round$4=Re,!0):!1}function getSetRelativeTimeThreshold(Re,Ce){return thresholds[Re]===void 0?!1:Ce===void 0?thresholds[Re]:(thresholds[Re]=Ce,Re==="s"&&(thresholds.ss=Ce-1),!0)}function humanize(Re,Ce){if(!this.isValid())return this.localeData().invalidDate();var je=!1,Be=thresholds,De,Fe;return typeof Re=="object"&&(Ce=Re,Re=!1),typeof Re=="boolean"&&(je=Re),typeof Ce=="object"&&(Be=Object.assign({},thresholds,Ce),Ce.s!=null&&Ce.ss==null&&(Be.ss=Ce.s-1)),De=this.localeData(),Fe=relativeTime$1(this,!je,Be,De),je&&(Fe=De.pastFuture(+this,Fe)),De.postformat(Fe)}var abs$1$1=Math.abs;function sign$2(Re){return(Re>0)-(Re<0)||+Re}function toISOString$1(){if(!this.isValid())return this.localeData().invalidDate();var Re=abs$1$1(this._milliseconds)/1e3,Ce=abs$1$1(this._days),je=abs$1$1(this._months),Be,De,Fe,ke,Oe=this.asSeconds(),Me,Ue,$e,He;return Oe?(Be=absFloor(Re/60),De=absFloor(Be/60),Re%=60,Be%=60,Fe=absFloor(je/12),je%=12,ke=Re?Re.toFixed(3).replace(/\.?0+$/,""):"",Me=Oe<0?"-":"",Ue=sign$2(this._months)!==sign$2(Oe)?"-":"",$e=sign$2(this._days)!==sign$2(Oe)?"-":"",He=sign$2(this._milliseconds)!==sign$2(Oe)?"-":"",Me+"P"+(Fe?Ue+Fe+"Y":"")+(je?Ue+je+"M":"")+(Ce?$e+Ce+"D":"")+(De||Be||Re?"T":"")+(De?He+De+"H":"")+(Be?He+Be+"M":"")+(Re?He+ke+"S":"")):"P0D"}var proto$2=Duration.prototype;proto$2.isValid=isValid$1$1;proto$2.abs=abs$1;proto$2.add=add$1$1;proto$2.subtract=subtract$1$1;proto$2.as=as;proto$2.asMilliseconds=asMilliseconds;proto$2.asSeconds=asSeconds;proto$2.asMinutes=asMinutes;proto$2.asHours=asHours;proto$2.asDays=asDays;proto$2.asWeeks=asWeeks;proto$2.asMonths=asMonths;proto$2.asQuarters=asQuarters;proto$2.asYears=asYears;proto$2.valueOf=valueOf$1;proto$2._bubble=bubble;proto$2.clone=clone$1$1;proto$2.get=get$2$1;proto$2.milliseconds=milliseconds;proto$2.seconds=seconds;proto$2.minutes=minutes;proto$2.hours=hours;proto$2.days=days$1;proto$2.weeks=weeks;proto$2.months=months$1;proto$2.years=years;proto$2.humanize=humanize;proto$2.toISOString=toISOString$1;proto$2.toString=toISOString$1;proto$2.toJSON=toISOString$1;proto$2.locale=locale$2;proto$2.localeData=localeData;proto$2.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1);proto$2.lang=lang;addFormatToken("X",0,0,"unix");addFormatToken("x",0,0,"valueOf");addRegexToken("x",matchSigned);addRegexToken("X",matchTimestamp);addParseToken("X",function(Re,Ce,je){je._d=new Date(parseFloat(Re)*1e3)});addParseToken("x",function(Re,Ce,je){je._d=new Date(toInt(Re))});//! moment.js
hooks.version="2.30.1";setHookCallback(createLocal);hooks.fn=proto;hooks.min=min$2;hooks.max=max$3;hooks.now=now$1;hooks.utc=createUTC;hooks.unix=createUnix;hooks.months=listMonths;hooks.isDate=isDate$1;hooks.locale=getSetGlobalLocale;hooks.invalid=createInvalid;hooks.duration=createDuration;hooks.isMoment=isMoment;hooks.weekdays=listWeekdays;hooks.parseZone=createInZone;hooks.localeData=getLocale;hooks.isDuration=isDuration;hooks.monthsShort=listMonthsShort;hooks.weekdaysMin=listWeekdaysMin;hooks.defineLocale=defineLocale;hooks.updateLocale=updateLocale;hooks.locales=listLocales;hooks.weekdaysShort=listWeekdaysShort;hooks.normalizeUnits=normalizeUnits;hooks.relativeTimeRounding=getSetRelativeTimeRounding;hooks.relativeTimeThreshold=getSetRelativeTimeThreshold;hooks.calendarFormat=getCalendarFormat;hooks.prototype=proto;hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(Re){const Ce=[];let je=0;for(let Be=0;Be<Re.length;Be++){let De=Re.charCodeAt(Be);De<128?Ce[je++]=De:De<2048?(Ce[je++]=De>>6|192,Ce[je++]=De&63|128):(De&64512)===55296&&Be+1<Re.length&&(Re.charCodeAt(Be+1)&64512)===56320?(De=65536+((De&1023)<<10)+(Re.charCodeAt(++Be)&1023),Ce[je++]=De>>18|240,Ce[je++]=De>>12&63|128,Ce[je++]=De>>6&63|128,Ce[je++]=De&63|128):(Ce[je++]=De>>12|224,Ce[je++]=De>>6&63|128,Ce[je++]=De&63|128)}return Ce},byteArrayToString=function(Re){const Ce=[];let je=0,Be=0;for(;je<Re.length;){const De=Re[je++];if(De<128)Ce[Be++]=String.fromCharCode(De);else if(De>191&&De<224){const Fe=Re[je++];Ce[Be++]=String.fromCharCode((De&31)<<6|Fe&63)}else if(De>239&&De<365){const Fe=Re[je++],ke=Re[je++],Oe=Re[je++],Me=((De&7)<<18|(Fe&63)<<12|(ke&63)<<6|Oe&63)-65536;Ce[Be++]=String.fromCharCode(55296+(Me>>10)),Ce[Be++]=String.fromCharCode(56320+(Me&1023))}else{const Fe=Re[je++],ke=Re[je++];Ce[Be++]=String.fromCharCode((De&15)<<12|(Fe&63)<<6|ke&63)}}return Ce.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(Re,Ce){if(!Array.isArray(Re))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Be=[];for(let De=0;De<Re.length;De+=3){const Fe=Re[De],ke=De+1<Re.length,Oe=ke?Re[De+1]:0,Me=De+2<Re.length,Ue=Me?Re[De+2]:0,$e=Fe>>2,He=(Fe&3)<<4|Oe>>4;let Qe=(Oe&15)<<2|Ue>>6,We=Ue&63;Me||(We=64,ke||(Qe=64)),Be.push(je[$e],je[He],je[Qe],je[We])}return Be.join("")},encodeString(Re,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Re):this.encodeByteArray(stringToByteArray$1(Re),Ce)},decodeString(Re,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Re):byteArrayToString(this.decodeStringToByteArray(Re,Ce))},decodeStringToByteArray(Re,Ce){this.init_();const je=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,Be=[];for(let De=0;De<Re.length;){const Fe=je[Re.charAt(De++)],Oe=De<Re.length?je[Re.charAt(De)]:0;++De;const Ue=De<Re.length?je[Re.charAt(De)]:64;++De;const He=De<Re.length?je[Re.charAt(De)]:64;if(++De,Fe==null||Oe==null||Ue==null||He==null)throw new DecodeBase64StringError;const Qe=Fe<<2|Oe>>4;if(Be.push(Qe),Ue!==64){const We=Oe<<4&240|Ue>>2;if(Be.push(We),He!==64){const qe=Ue<<6&192|He;Be.push(qe)}}}return Be},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Re=0;Re<this.ENCODED_VALS.length;Re++)this.byteToCharMap_[Re]=this.ENCODED_VALS.charAt(Re),this.charToByteMap_[this.byteToCharMap_[Re]]=Re,this.byteToCharMapWebSafe_[Re]=this.ENCODED_VALS_WEBSAFE.charAt(Re),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Re]]=Re,Re>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Re)]=Re,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Re)]=Re)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(Re){const Ce=stringToByteArray$1(Re);return base64.encodeByteArray(Ce,!0)},base64urlEncodeWithoutPadding=function(Re){return base64Encode(Re).replace(/\./g,"")},base64Decode=function(Re){try{return base64.decodeString(Re,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const Re=define_process_env_default.__FIREBASE_DEFAULTS__;if(Re)return JSON.parse(Re)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let Re;try{Re=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ce=Re&&base64Decode(Re[1]);return Ce&&JSON.parse(Ce)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(Re){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Re}`);return}},getDefaultEmulatorHost=Re=>{var Ce,je;return(je=(Ce=getDefaults())===null||Ce===void 0?void 0:Ce.emulatorHosts)===null||je===void 0?void 0:je[Re]},getDefaultEmulatorHostnameAndPort=Re=>{const Ce=getDefaultEmulatorHost(Re);if(!Ce)return;const je=Ce.lastIndexOf(":");if(je<=0||je+1===Ce.length)throw new Error(`Invalid host ${Ce} with no separate hostname and port!`);const Be=parseInt(Ce.substring(je+1),10);return Ce[0]==="["?[Ce.substring(1,je-1),Be]:[Ce.substring(0,je),Be]},getDefaultAppConfig=()=>{var Re;return(Re=getDefaults())===null||Re===void 0?void 0:Re.config},getExperimentalSetting=Re=>{var Ce;return(Ce=getDefaults())===null||Ce===void 0?void 0:Ce[`_${Re}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,je)=>{this.resolve=Ce,this.reject=je})}wrapCallback(Ce){return(je,Be)=>{je?this.reject(je):this.resolve(Be),typeof Ce=="function"&&(this.promise.catch(()=>{}),Ce.length===1?Ce(je):Ce(je,Be))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(Re,Ce){if(Re.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const je={alg:"none",type:"JWT"},Be=Ce||"demo-project",De=Re.iat||0,Fe=Re.sub||Re.user_id;if(!Fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ke=Object.assign({iss:`https://securetoken.google.com/${Be}`,aud:Be,iat:De,exp:De+3600,auth_time:De,sub:Fe,user_id:Fe,firebase:{sign_in_provider:"custom",identities:{}}},Re);return[base64urlEncodeWithoutPadding(JSON.stringify(je)),base64urlEncodeWithoutPadding(JSON.stringify(ke)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var Re;const Ce=(Re=getDefaults())===null||Re===void 0?void 0:Re.forceEnvironment;if(Ce==="node")return!0;if(Ce==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowserExtension(){const Re=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof Re=="object"&&Re.id!==void 0}function isReactNative$1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const Re=getUA();return Re.indexOf("MSIE ")>=0||Re.indexOf("Trident/")>=0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((Re,Ce)=>{try{let je=!0;const Be="validate-browser-context-for-indexeddb-analytics-module",De=self.indexedDB.open(Be);De.onsuccess=()=>{De.result.close(),je||self.indexedDB.deleteDatabase(Be),Re(!0)},De.onupgradeneeded=()=>{je=!1},De.onerror=()=>{var Fe;Ce(((Fe=De.error)===null||Fe===void 0?void 0:Fe.message)||"")}}catch(je){Ce(je)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(Ce,je,Be){super(je),this.code=Ce,this.customData=Be,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(Ce,je,Be){this.service=Ce,this.serviceName=je,this.errors=Be}create(Ce,...je){const Be=je[0]||{},De=`${this.service}/${Ce}`,Fe=this.errors[Ce],ke=Fe?replaceTemplate(Fe,Be):"Error",Oe=`${this.serviceName}: ${ke} (${De}).`;return new FirebaseError(De,Oe,Be)}}function replaceTemplate(Re,Ce){return Re.replace(PATTERN,(je,Be)=>{const De=Ce[Be];return De!=null?String(De):`<${Be}?>`})}const PATTERN=/\{\$([^}]+)}/g;function isEmpty$4(Re){for(const Ce in Re)if(Object.prototype.hasOwnProperty.call(Re,Ce))return!1;return!0}function deepEqual(Re,Ce){if(Re===Ce)return!0;const je=Object.keys(Re),Be=Object.keys(Ce);for(const De of je){if(!Be.includes(De))return!1;const Fe=Re[De],ke=Ce[De];if(isObject$3(Fe)&&isObject$3(ke)){if(!deepEqual(Fe,ke))return!1}else if(Fe!==ke)return!1}for(const De of Be)if(!je.includes(De))return!1;return!0}function isObject$3(Re){return Re!==null&&typeof Re=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(Re){const Ce=[];for(const[je,Be]of Object.entries(Re))Array.isArray(Be)?Be.forEach(De=>{Ce.push(encodeURIComponent(je)+"="+encodeURIComponent(De))}):Ce.push(encodeURIComponent(je)+"="+encodeURIComponent(Be));return Ce.length?"&"+Ce.join("&"):""}function querystringDecode(Re){const Ce={};return Re.replace(/^\?/,"").split("&").forEach(Be=>{if(Be){const[De,Fe]=Be.split("=");Ce[decodeURIComponent(De)]=decodeURIComponent(Fe)}}),Ce}function extractQuerystring(Re){const Ce=Re.indexOf("?");if(!Ce)return"";const je=Re.indexOf("#",Ce);return Re.substring(Ce,je>0?je:void 0)}function createSubscribe(Re,Ce){const je=new ObserverProxy(Re,Ce);return je.subscribe.bind(je)}class ObserverProxy{constructor(Ce,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{Ce(this)}).catch(Be=>{this.error(Be)})}next(Ce){this.forEachObserver(je=>{je.next(Ce)})}error(Ce){this.forEachObserver(je=>{je.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,je,Be){let De;if(Ce===void 0&&je===void 0&&Be===void 0)throw new Error("Missing Observer.");implementsAnyMethods(Ce,["next","error","complete"])?De=Ce:De={next:Ce,error:je,complete:Be},De.next===void 0&&(De.next=noop$c),De.error===void 0&&(De.error=noop$c),De.complete===void 0&&(De.complete=noop$c);const Fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?De.error(this.finalError):De.complete()}catch{}}),this.observers.push(De),Fe}unsubscribeOne(Ce){this.observers===void 0||this.observers[Ce]===void 0||(delete this.observers[Ce],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,Ce)}sendOne(Ce,je){this.task.then(()=>{if(this.observers!==void 0&&this.observers[Ce]!==void 0)try{je(this.observers[Ce])}catch(Be){typeof console<"u"&&console.error&&console.error(Be)}})}close(Ce){this.finalized||(this.finalized=!0,Ce!==void 0&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods(Re,Ce){if(typeof Re!="object"||Re===null)return!1;for(const je of Ce)if(je in Re&&typeof Re[je]=="function")return!0;return!1}function noop$c(){}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,Re=>{const Ce=Math.random()*16|0;return(Re==="x"?Ce:Ce&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_INTERVAL_MILLIS=1e3,DEFAULT_BACKOFF_FACTOR=2,MAX_VALUE_MILLIS=14400*1e3,RANDOM_FACTOR=.5;function calculateBackoffMillis(Re,Ce=DEFAULT_INTERVAL_MILLIS,je=DEFAULT_BACKOFF_FACTOR){const Be=Ce*Math.pow(je,Re),De=Math.round(RANDOM_FACTOR*Be*(Math.random()-.5)*2);return Math.min(MAX_VALUE_MILLIS,Be+De)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(Re){return Re&&Re._delegate?Re._delegate:Re}class Component{constructor(Ce,je,Be){this.name=Ce,this.instanceFactory=je,this.type=Be,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Provider$1=class{constructor(Ce,je){this.name=Ce,this.container=je,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const je=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(je)){const Be=new Deferred;if(this.instancesDeferred.set(je,Be),this.isInitialized(je)||this.shouldAutoInitialize())try{const De=this.getOrInitializeService({instanceIdentifier:je});De&&Be.resolve(De)}catch{}}return this.instancesDeferred.get(je).promise}getImmediate(Ce){var je;const Be=this.normalizeInstanceIdentifier(Ce?.identifier),De=(je=Ce?.optional)!==null&&je!==void 0?je:!1;if(this.isInitialized(Be)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:Be})}catch(Fe){if(De)return null;throw Fe}else{if(De)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,!!this.shouldAutoInitialize()){if(isComponentEager(Ce))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[je,Be]of this.instancesDeferred.entries()){const De=this.normalizeInstanceIdentifier(je);try{const Fe=this.getOrInitializeService({instanceIdentifier:De});Be.resolve(Fe)}catch{}}}}clearInstance(Ce=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}async delete(){const Ce=Array.from(this.instances.values());await Promise.all([...Ce.filter(je=>"INTERNAL"in je).map(je=>je.INTERNAL.delete()),...Ce.filter(je=>"_delete"in je).map(je=>je._delete())])}isComponentSet(){return this.component!=null}isInitialized(Ce=DEFAULT_ENTRY_NAME$1){return this.instances.has(Ce)}getOptions(Ce=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:je={}}=Ce,Be=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(Be))throw Error(`${this.name}(${Be}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const De=this.getOrInitializeService({instanceIdentifier:Be,options:je});for(const[Fe,ke]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(Fe);Be===Oe&&ke.resolve(De)}return De}onInit(Ce,je){var Be;const De=this.normalizeInstanceIdentifier(je),Fe=(Be=this.onInitCallbacks.get(De))!==null&&Be!==void 0?Be:new Set;Fe.add(Ce),this.onInitCallbacks.set(De,Fe);const ke=this.instances.get(De);return ke&&Ce(ke,De),()=>{Fe.delete(Ce)}}invokeOnInitCallbacks(Ce,je){const Be=this.onInitCallbacks.get(je);if(Be)for(const De of Be)try{De(Ce,je)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:je={}}){let Be=this.instances.get(Ce);if(!Be&&this.component&&(Be=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(Ce),options:je}),this.instances.set(Ce,Be),this.instancesOptions.set(Ce,je),this.invokeOnInitCallbacks(Be,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,Be)}catch{}return Be||null}normalizeInstanceIdentifier(Ce=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?Ce:DEFAULT_ENTRY_NAME$1:Ce}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function normalizeIdentifierForFactory(Re){return Re===DEFAULT_ENTRY_NAME$1?void 0:Re}function isComponentEager(Re){return Re.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const je=this.getProvider(Ce.name);if(je.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);je.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const je=new Provider$1(Ce,this);return this.providers.set(Ce,je),je}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var LogLevel;(function(Re){Re[Re.DEBUG=0]="DEBUG",Re[Re.VERBOSE=1]="VERBOSE",Re[Re.INFO=2]="INFO",Re[Re.WARN=3]="WARN",Re[Re.ERROR=4]="ERROR",Re[Re.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(Re,Ce,...je)=>{if(Ce<Re.logLevel)return;const Be=new Date().toISOString(),De=ConsoleMethod[Ce];if(De)console[De](`[${Be}]  ${Re.name}:`,...je);else throw new Error(`Attempted to log a message with an invalid logType (value: ${Ce})`)};class Logger{constructor(Ce){this.name=Ce,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(Ce){if(!(Ce in LogLevel))throw new TypeError(`Invalid value "${Ce}" assigned to \`logLevel\``);this._logLevel=Ce}setLogLevel(Ce){this._logLevel=typeof Ce=="string"?levelStringToEnum[Ce]:Ce}get logHandler(){return this._logHandler}set logHandler(Ce){if(typeof Ce!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Ce}get userLogHandler(){return this._userLogHandler}set userLogHandler(Ce){this._userLogHandler=Ce}debug(...Ce){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...Ce),this._logHandler(this,LogLevel.DEBUG,...Ce)}log(...Ce){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...Ce),this._logHandler(this,LogLevel.VERBOSE,...Ce)}info(...Ce){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...Ce),this._logHandler(this,LogLevel.INFO,...Ce)}warn(...Ce){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...Ce),this._logHandler(this,LogLevel.WARN,...Ce)}error(...Ce){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...Ce),this._logHandler(this,LogLevel.ERROR,...Ce)}}const instanceOfAny=(Re,Ce)=>Ce.some(je=>Re instanceof je);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(Re){const Ce=new Promise((je,Be)=>{const De=()=>{Re.removeEventListener("success",Fe),Re.removeEventListener("error",ke)},Fe=()=>{je(wrap(Re.result)),De()},ke=()=>{Be(Re.error),De()};Re.addEventListener("success",Fe),Re.addEventListener("error",ke)});return Ce.then(je=>{je instanceof IDBCursor&&cursorRequestMap.set(je,Re)}).catch(()=>{}),reverseTransformCache.set(Ce,Re),Ce}function cacheDonePromiseForTransaction(Re){if(transactionDoneMap.has(Re))return;const Ce=new Promise((je,Be)=>{const De=()=>{Re.removeEventListener("complete",Fe),Re.removeEventListener("error",ke),Re.removeEventListener("abort",ke)},Fe=()=>{je(),De()},ke=()=>{Be(Re.error||new DOMException("AbortError","AbortError")),De()};Re.addEventListener("complete",Fe),Re.addEventListener("error",ke),Re.addEventListener("abort",ke)});transactionDoneMap.set(Re,Ce)}let idbProxyTraps={get(Re,Ce,je){if(Re instanceof IDBTransaction){if(Ce==="done")return transactionDoneMap.get(Re);if(Ce==="objectStoreNames")return Re.objectStoreNames||transactionStoreNamesMap.get(Re);if(Ce==="store")return je.objectStoreNames[1]?void 0:je.objectStore(je.objectStoreNames[0])}return wrap(Re[Ce])},set(Re,Ce,je){return Re[Ce]=je,!0},has(Re,Ce){return Re instanceof IDBTransaction&&(Ce==="done"||Ce==="store")?!0:Ce in Re}};function replaceTraps(Re){idbProxyTraps=Re(idbProxyTraps)}function wrapFunction(Re){return Re===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(Ce,...je){const Be=Re.call(unwrap(this),Ce,...je);return transactionStoreNamesMap.set(Be,Ce.sort?Ce.sort():[Ce]),wrap(Be)}:getCursorAdvanceMethods().includes(Re)?function(...Ce){return Re.apply(unwrap(this),Ce),wrap(cursorRequestMap.get(this))}:function(...Ce){return wrap(Re.apply(unwrap(this),Ce))}}function transformCachableValue(Re){return typeof Re=="function"?wrapFunction(Re):(Re instanceof IDBTransaction&&cacheDonePromiseForTransaction(Re),instanceOfAny(Re,getIdbProxyableTypes())?new Proxy(Re,idbProxyTraps):Re)}function wrap(Re){if(Re instanceof IDBRequest)return promisifyRequest(Re);if(transformCache.has(Re))return transformCache.get(Re);const Ce=transformCachableValue(Re);return Ce!==Re&&(transformCache.set(Re,Ce),reverseTransformCache.set(Ce,Re)),Ce}const unwrap=Re=>reverseTransformCache.get(Re);function openDB(Re,Ce,{blocked:je,upgrade:Be,blocking:De,terminated:Fe}={}){const ke=indexedDB.open(Re,Ce),Oe=wrap(ke);return Be&&ke.addEventListener("upgradeneeded",Me=>{Be(wrap(ke.result),Me.oldVersion,Me.newVersion,wrap(ke.transaction),Me)}),je&&ke.addEventListener("blocked",Me=>je(Me.oldVersion,Me.newVersion,Me)),Oe.then(Me=>{Fe&&Me.addEventListener("close",()=>Fe()),De&&Me.addEventListener("versionchange",Ue=>De(Ue.oldVersion,Ue.newVersion,Ue))}).catch(()=>{}),Oe}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(Re,Ce){if(!(Re instanceof IDBDatabase&&!(Ce in Re)&&typeof Ce=="string"))return;if(cachedMethods.get(Ce))return cachedMethods.get(Ce);const je=Ce.replace(/FromIndex$/,""),Be=Ce!==je,De=writeMethods.includes(je);if(!(je in(Be?IDBIndex:IDBObjectStore).prototype)||!(De||readMethods.includes(je)))return;const Fe=async function(ke,...Oe){const Me=this.transaction(ke,De?"readwrite":"readonly");let Ue=Me.store;return Be&&(Ue=Ue.index(Oe.shift())),(await Promise.all([Ue[je](...Oe),De&&Me.done]))[0]};return cachedMethods.set(Ce,Fe),Fe}replaceTraps(Re=>({...Re,get:(Ce,je,Be)=>getMethod(Ce,je)||Re.get(Ce,je,Be),has:(Ce,je)=>!!getMethod(Ce,je)||Re.has(Ce,je)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(Ce){this.container=Ce}getPlatformInfoString(){return this.container.getProviders().map(je=>{if(isVersionServiceProvider(je)){const Be=je.getImmediate();return`${Be.library}/${Be.version}`}else return null}).filter(je=>je).join(" ")}}function isVersionServiceProvider(Re){const Ce=Re.getComponent();return Ce?.type==="VERSION"}const name$p="@firebase/app",version$1$1="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger=new Logger("@firebase/app"),name$o="@firebase/app-compat",name$n="@firebase/analytics-compat",name$m="@firebase/analytics",name$l="@firebase/app-check-compat",name$k="@firebase/app-check",name$j="@firebase/auth",name$i="@firebase/auth-compat",name$h="@firebase/database",name$g="@firebase/database-compat",name$f="@firebase/functions",name$e="@firebase/functions-compat",name$d="@firebase/installations",name$c="@firebase/installations-compat",name$b="@firebase/messaging",name$a="@firebase/messaging-compat",name$9="@firebase/performance",name$8="@firebase/performance-compat",name$7="@firebase/remote-config",name$6="@firebase/remote-config-compat",name$5="@firebase/storage",name$4="@firebase/storage-compat",name$3$1="@firebase/firestore",name$2$1="@firebase/vertexai-preview",name$1$1="@firebase/firestore-compat",name$q="firebase",version$5="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$p]:"fire-core",[name$o]:"fire-core-compat",[name$m]:"fire-analytics",[name$n]:"fire-analytics-compat",[name$k]:"fire-app-check",[name$l]:"fire-app-check-compat",[name$j]:"fire-auth",[name$i]:"fire-auth-compat",[name$h]:"fire-rtdb",[name$g]:"fire-rtdb-compat",[name$f]:"fire-fn",[name$e]:"fire-fn-compat",[name$d]:"fire-iid",[name$c]:"fire-iid-compat",[name$b]:"fire-fcm",[name$a]:"fire-fcm-compat",[name$9]:"fire-perf",[name$8]:"fire-perf-compat",[name$7]:"fire-rc",[name$6]:"fire-rc-compat",[name$5]:"fire-gcs",[name$4]:"fire-gcs-compat",[name$3$1]:"fire-fst",[name$1$1]:"fire-fst-compat",[name$2$1]:"fire-vertex","fire-js":"fire-js",[name$q]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_serverApps=new Map,_components=new Map;function _addComponent(Re,Ce){try{Re.container.addComponent(Ce)}catch(je){logger.debug(`Component ${Ce.name} failed to register with FirebaseApp ${Re.name}`,je)}}function _registerComponent(Re){const Ce=Re.name;if(_components.has(Ce))return logger.debug(`There were multiple attempts to register component ${Ce}.`),!1;_components.set(Ce,Re);for(const je of _apps.values())_addComponent(je,Re);for(const je of _serverApps.values())_addComponent(je,Re);return!0}function _getProvider(Re,Ce){const je=Re.container.getProvider("heartbeat").getImmediate({optional:!0});return je&&je.triggerHeartbeat(),Re.container.getProvider(Ce)}function _isFirebaseServerApp(Re){return Re.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(Ce,je,Be){this._isDeleted=!1,this._options=Object.assign({},Ce),this._config=Object.assign({},je),this._name=je.name,this._automaticDataCollectionEnabled=je.automaticDataCollectionEnabled,this._container=Be,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ce){this._isDeleted=Ce}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$5;function initializeApp(Re,Ce={}){let je=Re;typeof Ce!="object"&&(Ce={name:Ce});const Be=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},Ce),De=Be.name;if(typeof De!="string"||!De)throw ERROR_FACTORY.create("bad-app-name",{appName:String(De)});if(je||(je=getDefaultAppConfig()),!je)throw ERROR_FACTORY.create("no-options");const Fe=_apps.get(De);if(Fe){if(deepEqual(je,Fe.options)&&deepEqual(Be,Fe.config))return Fe;throw ERROR_FACTORY.create("duplicate-app",{appName:De})}const ke=new ComponentContainer(De);for(const Me of _components.values())ke.addComponent(Me);const Oe=new FirebaseAppImpl(je,Be,ke);return _apps.set(De,Oe),Oe}function getApp(Re=DEFAULT_ENTRY_NAME){const Ce=_apps.get(Re);if(!Ce&&Re===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!Ce)throw ERROR_FACTORY.create("no-app",{appName:Re});return Ce}function registerVersion(Re,Ce,je){var Be;let De=(Be=PLATFORM_LOG_STRING[Re])!==null&&Be!==void 0?Be:Re;je&&(De+=`-${je}`);const Fe=De.match(/\s|\//),ke=Ce.match(/\s|\//);if(Fe||ke){const Oe=[`Unable to register library "${De}" with version "${Ce}":`];Fe&&Oe.push(`library name "${De}" contains illegal characters (whitespace or "/")`),Fe&&ke&&Oe.push("and"),ke&&Oe.push(`version name "${Ce}" contains illegal characters (whitespace or "/")`),logger.warn(Oe.join(" "));return}_registerComponent(new Component(`${De}-version`,()=>({library:De,version:Ce}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(Re,Ce)=>{switch(Ce){case 0:try{Re.createObjectStore(STORE_NAME)}catch(je){console.warn(je)}}}}).catch(Re=>{throw ERROR_FACTORY.create("idb-open",{originalErrorMessage:Re.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(Re){try{const je=(await getDbPromise()).transaction(STORE_NAME),Be=await je.objectStore(STORE_NAME).get(computeKey(Re));return await je.done,Be}catch(Ce){if(Ce instanceof FirebaseError)logger.warn(Ce.message);else{const je=ERROR_FACTORY.create("idb-get",{originalErrorMessage:Ce?.message});logger.warn(je.message)}}}async function writeHeartbeatsToIndexedDB(Re,Ce){try{const Be=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await Be.objectStore(STORE_NAME).put(Ce,computeKey(Re)),await Be.done}catch(je){if(je instanceof FirebaseError)logger.warn(je.message);else{const Be=ERROR_FACTORY.create("idb-set",{originalErrorMessage:je?.message});logger.warn(Be.message)}}}function computeKey(Re){return`${Re.name}!${Re.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=720*60*60*1e3;class HeartbeatServiceImpl{constructor(Ce){this.container=Ce,this._heartbeatsCache=null;const je=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(je),this._heartbeatsCachePromise=this._storage.read().then(Be=>(this._heartbeatsCache=Be,Be))}async triggerHeartbeat(){var Ce,je;const De=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Fe=getUTCDateString();if(!(((Ce=this._heartbeatsCache)===null||Ce===void 0?void 0:Ce.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((je=this._heartbeatsCache)===null||je===void 0?void 0:je.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===Fe||this._heartbeatsCache.heartbeats.some(ke=>ke.date===Fe)))return this._heartbeatsCache.heartbeats.push({date:Fe,agent:De}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(ke=>{const Oe=new Date(ke.date).valueOf();return Date.now()-Oe<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var Ce;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((Ce=this._heartbeatsCache)===null||Ce===void 0?void 0:Ce.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const je=getUTCDateString(),{heartbeatsToSend:Be,unsentEntries:De}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),Fe=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Be}));return this._heartbeatsCache.lastSentHeartbeatDate=je,De.length>0?(this._heartbeatsCache.heartbeats=De,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),Fe}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(Re,Ce=MAX_HEADER_BYTES){const je=[];let Be=Re.slice();for(const De of Re){const Fe=je.find(ke=>ke.agent===De.agent);if(Fe){if(Fe.dates.push(De.date),countBytes(je)>Ce){Fe.dates.pop();break}}else if(je.push({agent:De.agent,dates:[De.date]}),countBytes(je)>Ce){je.pop();break}Be=Be.slice(1)}return{heartbeatsToSend:je,unsentEntries:Be}}class HeartbeatStorageImpl{constructor(Ce){this.app=Ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const je=await readHeartbeatsFromIndexedDB(this.app);return je?.heartbeats?je:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(Ce){var je;if(await this._canUseIndexedDBPromise){const De=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(je=Ce.lastSentHeartbeatDate)!==null&&je!==void 0?je:De.lastSentHeartbeatDate,heartbeats:Ce.heartbeats})}else return}async add(Ce){var je;if(await this._canUseIndexedDBPromise){const De=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(je=Ce.lastSentHeartbeatDate)!==null&&je!==void 0?je:De.lastSentHeartbeatDate,heartbeats:[...De.heartbeats,...Ce.heartbeats]})}else return}}function countBytes(Re){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:Re})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(Re){_registerComponent(new Component("platform-logger",Ce=>new PlatformLoggerServiceImpl(Ce),"PRIVATE")),_registerComponent(new Component("heartbeat",Ce=>new HeartbeatServiceImpl(Ce),"PRIVATE")),registerVersion(name$p,version$1$1,Re),registerVersion(name$p,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents("");var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Integer,Md5;(function(){var Re;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function Ce(ir,nr){function cr(){}cr.prototype=nr.prototype,ir.D=nr.prototype,ir.prototype=new cr,ir.prototype.constructor=ir,ir.C=function(mr,fr,or){for(var yr=Array(arguments.length-2),Cr=2;Cr<arguments.length;Cr++)yr[Cr-2]=arguments[Cr];return nr.prototype[fr].apply(mr,yr)}}function je(){this.blockSize=-1}function Be(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}Ce(Be,je),Be.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function De(ir,nr,cr){cr||(cr=0);var mr=Array(16);if(typeof nr=="string")for(var fr=0;16>fr;++fr)mr[fr]=nr.charCodeAt(cr++)|nr.charCodeAt(cr++)<<8|nr.charCodeAt(cr++)<<16|nr.charCodeAt(cr++)<<24;else for(fr=0;16>fr;++fr)mr[fr]=nr[cr++]|nr[cr++]<<8|nr[cr++]<<16|nr[cr++]<<24;nr=ir.g[0],cr=ir.g[1],fr=ir.g[2];var or=ir.g[3],yr=nr+(or^cr&(fr^or))+mr[0]+3614090360&4294967295;nr=cr+(yr<<7&4294967295|yr>>>25),yr=or+(fr^nr&(cr^fr))+mr[1]+3905402710&4294967295,or=nr+(yr<<12&4294967295|yr>>>20),yr=fr+(cr^or&(nr^cr))+mr[2]+606105819&4294967295,fr=or+(yr<<17&4294967295|yr>>>15),yr=cr+(nr^fr&(or^nr))+mr[3]+3250441966&4294967295,cr=fr+(yr<<22&4294967295|yr>>>10),yr=nr+(or^cr&(fr^or))+mr[4]+4118548399&4294967295,nr=cr+(yr<<7&4294967295|yr>>>25),yr=or+(fr^nr&(cr^fr))+mr[5]+1200080426&4294967295,or=nr+(yr<<12&4294967295|yr>>>20),yr=fr+(cr^or&(nr^cr))+mr[6]+2821735955&4294967295,fr=or+(yr<<17&4294967295|yr>>>15),yr=cr+(nr^fr&(or^nr))+mr[7]+4249261313&4294967295,cr=fr+(yr<<22&4294967295|yr>>>10),yr=nr+(or^cr&(fr^or))+mr[8]+1770035416&4294967295,nr=cr+(yr<<7&4294967295|yr>>>25),yr=or+(fr^nr&(cr^fr))+mr[9]+2336552879&4294967295,or=nr+(yr<<12&4294967295|yr>>>20),yr=fr+(cr^or&(nr^cr))+mr[10]+4294925233&4294967295,fr=or+(yr<<17&4294967295|yr>>>15),yr=cr+(nr^fr&(or^nr))+mr[11]+2304563134&4294967295,cr=fr+(yr<<22&4294967295|yr>>>10),yr=nr+(or^cr&(fr^or))+mr[12]+1804603682&4294967295,nr=cr+(yr<<7&4294967295|yr>>>25),yr=or+(fr^nr&(cr^fr))+mr[13]+4254626195&4294967295,or=nr+(yr<<12&4294967295|yr>>>20),yr=fr+(cr^or&(nr^cr))+mr[14]+2792965006&4294967295,fr=or+(yr<<17&4294967295|yr>>>15),yr=cr+(nr^fr&(or^nr))+mr[15]+1236535329&4294967295,cr=fr+(yr<<22&4294967295|yr>>>10),yr=nr+(fr^or&(cr^fr))+mr[1]+4129170786&4294967295,nr=cr+(yr<<5&4294967295|yr>>>27),yr=or+(cr^fr&(nr^cr))+mr[6]+3225465664&4294967295,or=nr+(yr<<9&4294967295|yr>>>23),yr=fr+(nr^cr&(or^nr))+mr[11]+643717713&4294967295,fr=or+(yr<<14&4294967295|yr>>>18),yr=cr+(or^nr&(fr^or))+mr[0]+3921069994&4294967295,cr=fr+(yr<<20&4294967295|yr>>>12),yr=nr+(fr^or&(cr^fr))+mr[5]+3593408605&4294967295,nr=cr+(yr<<5&4294967295|yr>>>27),yr=or+(cr^fr&(nr^cr))+mr[10]+38016083&4294967295,or=nr+(yr<<9&4294967295|yr>>>23),yr=fr+(nr^cr&(or^nr))+mr[15]+3634488961&4294967295,fr=or+(yr<<14&4294967295|yr>>>18),yr=cr+(or^nr&(fr^or))+mr[4]+3889429448&4294967295,cr=fr+(yr<<20&4294967295|yr>>>12),yr=nr+(fr^or&(cr^fr))+mr[9]+568446438&4294967295,nr=cr+(yr<<5&4294967295|yr>>>27),yr=or+(cr^fr&(nr^cr))+mr[14]+3275163606&4294967295,or=nr+(yr<<9&4294967295|yr>>>23),yr=fr+(nr^cr&(or^nr))+mr[3]+4107603335&4294967295,fr=or+(yr<<14&4294967295|yr>>>18),yr=cr+(or^nr&(fr^or))+mr[8]+1163531501&4294967295,cr=fr+(yr<<20&4294967295|yr>>>12),yr=nr+(fr^or&(cr^fr))+mr[13]+2850285829&4294967295,nr=cr+(yr<<5&4294967295|yr>>>27),yr=or+(cr^fr&(nr^cr))+mr[2]+4243563512&4294967295,or=nr+(yr<<9&4294967295|yr>>>23),yr=fr+(nr^cr&(or^nr))+mr[7]+1735328473&4294967295,fr=or+(yr<<14&4294967295|yr>>>18),yr=cr+(or^nr&(fr^or))+mr[12]+2368359562&4294967295,cr=fr+(yr<<20&4294967295|yr>>>12),yr=nr+(cr^fr^or)+mr[5]+4294588738&4294967295,nr=cr+(yr<<4&4294967295|yr>>>28),yr=or+(nr^cr^fr)+mr[8]+2272392833&4294967295,or=nr+(yr<<11&4294967295|yr>>>21),yr=fr+(or^nr^cr)+mr[11]+1839030562&4294967295,fr=or+(yr<<16&4294967295|yr>>>16),yr=cr+(fr^or^nr)+mr[14]+4259657740&4294967295,cr=fr+(yr<<23&4294967295|yr>>>9),yr=nr+(cr^fr^or)+mr[1]+2763975236&4294967295,nr=cr+(yr<<4&4294967295|yr>>>28),yr=or+(nr^cr^fr)+mr[4]+1272893353&4294967295,or=nr+(yr<<11&4294967295|yr>>>21),yr=fr+(or^nr^cr)+mr[7]+4139469664&4294967295,fr=or+(yr<<16&4294967295|yr>>>16),yr=cr+(fr^or^nr)+mr[10]+3200236656&4294967295,cr=fr+(yr<<23&4294967295|yr>>>9),yr=nr+(cr^fr^or)+mr[13]+681279174&4294967295,nr=cr+(yr<<4&4294967295|yr>>>28),yr=or+(nr^cr^fr)+mr[0]+3936430074&4294967295,or=nr+(yr<<11&4294967295|yr>>>21),yr=fr+(or^nr^cr)+mr[3]+3572445317&4294967295,fr=or+(yr<<16&4294967295|yr>>>16),yr=cr+(fr^or^nr)+mr[6]+76029189&4294967295,cr=fr+(yr<<23&4294967295|yr>>>9),yr=nr+(cr^fr^or)+mr[9]+3654602809&4294967295,nr=cr+(yr<<4&4294967295|yr>>>28),yr=or+(nr^cr^fr)+mr[12]+3873151461&4294967295,or=nr+(yr<<11&4294967295|yr>>>21),yr=fr+(or^nr^cr)+mr[15]+530742520&4294967295,fr=or+(yr<<16&4294967295|yr>>>16),yr=cr+(fr^or^nr)+mr[2]+3299628645&4294967295,cr=fr+(yr<<23&4294967295|yr>>>9),yr=nr+(fr^(cr|~or))+mr[0]+4096336452&4294967295,nr=cr+(yr<<6&4294967295|yr>>>26),yr=or+(cr^(nr|~fr))+mr[7]+1126891415&4294967295,or=nr+(yr<<10&4294967295|yr>>>22),yr=fr+(nr^(or|~cr))+mr[14]+2878612391&4294967295,fr=or+(yr<<15&4294967295|yr>>>17),yr=cr+(or^(fr|~nr))+mr[5]+4237533241&4294967295,cr=fr+(yr<<21&4294967295|yr>>>11),yr=nr+(fr^(cr|~or))+mr[12]+1700485571&4294967295,nr=cr+(yr<<6&4294967295|yr>>>26),yr=or+(cr^(nr|~fr))+mr[3]+2399980690&4294967295,or=nr+(yr<<10&4294967295|yr>>>22),yr=fr+(nr^(or|~cr))+mr[10]+4293915773&4294967295,fr=or+(yr<<15&4294967295|yr>>>17),yr=cr+(or^(fr|~nr))+mr[1]+2240044497&4294967295,cr=fr+(yr<<21&4294967295|yr>>>11),yr=nr+(fr^(cr|~or))+mr[8]+1873313359&4294967295,nr=cr+(yr<<6&4294967295|yr>>>26),yr=or+(cr^(nr|~fr))+mr[15]+4264355552&4294967295,or=nr+(yr<<10&4294967295|yr>>>22),yr=fr+(nr^(or|~cr))+mr[6]+2734768916&4294967295,fr=or+(yr<<15&4294967295|yr>>>17),yr=cr+(or^(fr|~nr))+mr[13]+1309151649&4294967295,cr=fr+(yr<<21&4294967295|yr>>>11),yr=nr+(fr^(cr|~or))+mr[4]+4149444226&4294967295,nr=cr+(yr<<6&4294967295|yr>>>26),yr=or+(cr^(nr|~fr))+mr[11]+3174756917&4294967295,or=nr+(yr<<10&4294967295|yr>>>22),yr=fr+(nr^(or|~cr))+mr[2]+718787259&4294967295,fr=or+(yr<<15&4294967295|yr>>>17),yr=cr+(or^(fr|~nr))+mr[9]+3951481745&4294967295,ir.g[0]=ir.g[0]+nr&4294967295,ir.g[1]=ir.g[1]+(fr+(yr<<21&4294967295|yr>>>11))&4294967295,ir.g[2]=ir.g[2]+fr&4294967295,ir.g[3]=ir.g[3]+or&4294967295}Be.prototype.u=function(ir,nr){nr===void 0&&(nr=ir.length);for(var cr=nr-this.blockSize,mr=this.B,fr=this.h,or=0;or<nr;){if(fr==0)for(;or<=cr;)De(this,ir,or),or+=this.blockSize;if(typeof ir=="string"){for(;or<nr;)if(mr[fr++]=ir.charCodeAt(or++),fr==this.blockSize){De(this,mr),fr=0;break}}else for(;or<nr;)if(mr[fr++]=ir[or++],fr==this.blockSize){De(this,mr),fr=0;break}}this.h=fr,this.o+=nr},Be.prototype.v=function(){var ir=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);ir[0]=128;for(var nr=1;nr<ir.length-8;++nr)ir[nr]=0;var cr=8*this.o;for(nr=ir.length-8;nr<ir.length;++nr)ir[nr]=cr&255,cr/=256;for(this.u(ir),ir=Array(16),nr=cr=0;4>nr;++nr)for(var mr=0;32>mr;mr+=8)ir[cr++]=this.g[nr]>>>mr&255;return ir};function Fe(ir,nr){var cr=Oe;return Object.prototype.hasOwnProperty.call(cr,ir)?cr[ir]:cr[ir]=nr(ir)}function ke(ir,nr){this.h=nr;for(var cr=[],mr=!0,fr=ir.length-1;0<=fr;fr--){var or=ir[fr]|0;mr&&or==nr||(cr[fr]=or,mr=!1)}this.g=cr}var Oe={};function Me(ir){return-128<=ir&&128>ir?Fe(ir,function(nr){return new ke([nr|0],0>nr?-1:0)}):new ke([ir|0],0>ir?-1:0)}function Ue(ir){if(isNaN(ir)||!isFinite(ir))return He;if(0>ir)return Xe(Ue(-ir));for(var nr=[],cr=1,mr=0;ir>=cr;mr++)nr[mr]=ir/cr|0,cr*=4294967296;return new ke(nr,0)}function $e(ir,nr){if(ir.length==0)throw Error("number format error: empty string");if(nr=nr||10,2>nr||36<nr)throw Error("radix out of range: "+nr);if(ir.charAt(0)=="-")return Xe($e(ir.substring(1),nr));if(0<=ir.indexOf("-"))throw Error('number format error: interior "-" character');for(var cr=Ue(Math.pow(nr,8)),mr=He,fr=0;fr<ir.length;fr+=8){var or=Math.min(8,ir.length-fr),yr=parseInt(ir.substring(fr,fr+or),nr);8>or?(or=Ue(Math.pow(nr,or)),mr=mr.j(or).add(Ue(yr))):(mr=mr.j(cr),mr=mr.add(Ue(yr)))}return mr}var He=Me(0),Qe=Me(1),We=Me(16777216);Re=ke.prototype,Re.m=function(){if(Ke(this))return-Xe(this).m();for(var ir=0,nr=1,cr=0;cr<this.g.length;cr++){var mr=this.i(cr);ir+=(0<=mr?mr:4294967296+mr)*nr,nr*=4294967296}return ir},Re.toString=function(ir){if(ir=ir||10,2>ir||36<ir)throw Error("radix out of range: "+ir);if(qe(this))return"0";if(Ke(this))return"-"+Xe(this).toString(ir);for(var nr=Ue(Math.pow(ir,6)),cr=this,mr="";;){var fr=tr(cr,nr).g;cr=Ye(cr,fr.j(nr));var or=((0<cr.g.length?cr.g[0]:cr.h)>>>0).toString(ir);if(cr=fr,qe(cr))return or+mr;for(;6>or.length;)or="0"+or;mr=or+mr}},Re.i=function(ir){return 0>ir?0:ir<this.g.length?this.g[ir]:this.h};function qe(ir){if(ir.h!=0)return!1;for(var nr=0;nr<ir.g.length;nr++)if(ir.g[nr]!=0)return!1;return!0}function Ke(ir){return ir.h==-1}Re.l=function(ir){return ir=Ye(this,ir),Ke(ir)?-1:qe(ir)?0:1};function Xe(ir){for(var nr=ir.g.length,cr=[],mr=0;mr<nr;mr++)cr[mr]=~ir.g[mr];return new ke(cr,~ir.h).add(Qe)}Re.abs=function(){return Ke(this)?Xe(this):this},Re.add=function(ir){for(var nr=Math.max(this.g.length,ir.g.length),cr=[],mr=0,fr=0;fr<=nr;fr++){var or=mr+(this.i(fr)&65535)+(ir.i(fr)&65535),yr=(or>>>16)+(this.i(fr)>>>16)+(ir.i(fr)>>>16);mr=yr>>>16,or&=65535,yr&=65535,cr[fr]=yr<<16|or}return new ke(cr,cr[cr.length-1]&-2147483648?-1:0)};function Ye(ir,nr){return ir.add(Xe(nr))}Re.j=function(ir){if(qe(this)||qe(ir))return He;if(Ke(this))return Ke(ir)?Xe(this).j(Xe(ir)):Xe(Xe(this).j(ir));if(Ke(ir))return Xe(this.j(Xe(ir)));if(0>this.l(We)&&0>ir.l(We))return Ue(this.m()*ir.m());for(var nr=this.g.length+ir.g.length,cr=[],mr=0;mr<2*nr;mr++)cr[mr]=0;for(mr=0;mr<this.g.length;mr++)for(var fr=0;fr<ir.g.length;fr++){var or=this.i(mr)>>>16,yr=this.i(mr)&65535,Cr=ir.i(fr)>>>16,jr=ir.i(fr)&65535;cr[2*mr+2*fr]+=yr*jr,Ze(cr,2*mr+2*fr),cr[2*mr+2*fr+1]+=or*jr,Ze(cr,2*mr+2*fr+1),cr[2*mr+2*fr+1]+=yr*Cr,Ze(cr,2*mr+2*fr+1),cr[2*mr+2*fr+2]+=or*Cr,Ze(cr,2*mr+2*fr+2)}for(mr=0;mr<nr;mr++)cr[mr]=cr[2*mr+1]<<16|cr[2*mr];for(mr=nr;mr<2*nr;mr++)cr[mr]=0;return new ke(cr,0)};function Ze(ir,nr){for(;(ir[nr]&65535)!=ir[nr];)ir[nr+1]+=ir[nr]>>>16,ir[nr]&=65535,nr++}function Je(ir,nr){this.g=ir,this.h=nr}function tr(ir,nr){if(qe(nr))throw Error("division by zero");if(qe(ir))return new Je(He,He);if(Ke(ir))return nr=tr(Xe(ir),nr),new Je(Xe(nr.g),Xe(nr.h));if(Ke(nr))return nr=tr(ir,Xe(nr)),new Je(Xe(nr.g),nr.h);if(30<ir.g.length){if(Ke(ir)||Ke(nr))throw Error("slowDivide_ only works with positive integers.");for(var cr=Qe,mr=nr;0>=mr.l(ir);)cr=rr(cr),mr=rr(mr);var fr=ar(cr,1),or=ar(mr,1);for(mr=ar(mr,2),cr=ar(cr,2);!qe(mr);){var yr=or.add(mr);0>=yr.l(ir)&&(fr=fr.add(cr),or=yr),mr=ar(mr,1),cr=ar(cr,1)}return nr=Ye(ir,fr.j(nr)),new Je(fr,nr)}for(fr=He;0<=ir.l(nr);){for(cr=Math.max(1,Math.floor(ir.m()/nr.m())),mr=Math.ceil(Math.log(cr)/Math.LN2),mr=48>=mr?1:Math.pow(2,mr-48),or=Ue(cr),yr=or.j(nr);Ke(yr)||0<yr.l(ir);)cr-=mr,or=Ue(cr),yr=or.j(nr);qe(or)&&(or=Qe),fr=fr.add(or),ir=Ye(ir,yr)}return new Je(fr,ir)}Re.A=function(ir){return tr(this,ir).h},Re.and=function(ir){for(var nr=Math.max(this.g.length,ir.g.length),cr=[],mr=0;mr<nr;mr++)cr[mr]=this.i(mr)&ir.i(mr);return new ke(cr,this.h&ir.h)},Re.or=function(ir){for(var nr=Math.max(this.g.length,ir.g.length),cr=[],mr=0;mr<nr;mr++)cr[mr]=this.i(mr)|ir.i(mr);return new ke(cr,this.h|ir.h)},Re.xor=function(ir){for(var nr=Math.max(this.g.length,ir.g.length),cr=[],mr=0;mr<nr;mr++)cr[mr]=this.i(mr)^ir.i(mr);return new ke(cr,this.h^ir.h)};function rr(ir){for(var nr=ir.g.length+1,cr=[],mr=0;mr<nr;mr++)cr[mr]=ir.i(mr)<<1|ir.i(mr-1)>>>31;return new ke(cr,ir.h)}function ar(ir,nr){var cr=nr>>5;nr%=32;for(var mr=ir.g.length-cr,fr=[],or=0;or<mr;or++)fr[or]=0<nr?ir.i(or+cr)>>>nr|ir.i(or+cr+1)<<32-nr:ir.i(or+cr);return new ke(fr,ir.h)}Be.prototype.digest=Be.prototype.v,Be.prototype.reset=Be.prototype.s,Be.prototype.update=Be.prototype.u,Md5=Be,ke.prototype.add=ke.prototype.add,ke.prototype.multiply=ke.prototype.j,ke.prototype.modulo=ke.prototype.A,ke.prototype.compare=ke.prototype.l,ke.prototype.toNumber=ke.prototype.m,ke.prototype.toString=ke.prototype.toString,ke.prototype.getBits=ke.prototype.i,ke.fromNumber=Ue,ke.fromString=$e,Integer=ke}).apply(typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:typeof window<"u"?window:{});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var XhrIo,FetchXmlHttpFactory,WebChannel,EventType,ErrorCode$1,Stat,Event$1,getStatEventTarget,createWebChannelTransport;(function(){var Re,Ce=typeof Object.defineProperties=="function"?Object.defineProperty:function(dr,Fr,$r){return dr==Array.prototype||dr==Object.prototype||(dr[Fr]=$r.value),dr};function je(dr){dr=[typeof globalThis=="object"&&globalThis,dr,typeof window=="object"&&window,typeof self=="object"&&self,typeof commonjsGlobal=="object"&&commonjsGlobal];for(var Fr=0;Fr<dr.length;++Fr){var $r=dr[Fr];if($r&&$r.Math==Math)return $r}throw Error("Cannot find global object")}var Be=je(this);function De(dr,Fr){if(Fr)e:{var $r=Be;dr=dr.split(".");for(var en=0;en<dr.length-1;en++){var In=dr[en];if(!(In in $r))break e;$r=$r[In]}dr=dr[dr.length-1],en=$r[dr],Fr=Fr(en),Fr!=en&&Fr!=null&&Ce($r,dr,{configurable:!0,writable:!0,value:Fr})}}function Fe(dr,Fr){dr instanceof String&&(dr+="");var $r=0,en=!1,In={next:function(){if(!en&&$r<dr.length){var Hn=$r++;return{value:Fr(Hn,dr[Hn]),done:!1}}return en=!0,{done:!0,value:void 0}}};return In[Symbol.iterator]=function(){return In},In}De("Array.prototype.values",function(dr){return dr||function(){return Fe(this,function(Fr,$r){return $r})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var ke=ke||{},Oe=this||self;function Me(dr){var Fr=typeof dr;return Fr=Fr!="object"?Fr:dr?Array.isArray(dr)?"array":Fr:"null",Fr=="array"||Fr=="object"&&typeof dr.length=="number"}function Ue(dr){var Fr=typeof dr;return Fr=="object"&&dr!=null||Fr=="function"}function $e(dr,Fr,$r){return dr.call.apply(dr.bind,arguments)}function He(dr,Fr,$r){if(!dr)throw Error();if(2<arguments.length){var en=Array.prototype.slice.call(arguments,2);return function(){var In=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(In,en),dr.apply(Fr,In)}}return function(){return dr.apply(Fr,arguments)}}function Qe(dr,Fr,$r){return Qe=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?$e:He,Qe.apply(null,arguments)}function We(dr,Fr){var $r=Array.prototype.slice.call(arguments,1);return function(){var en=$r.slice();return en.push.apply(en,arguments),dr.apply(this,en)}}function qe(dr,Fr){function $r(){}$r.prototype=Fr.prototype,dr.aa=Fr.prototype,dr.prototype=new $r,dr.prototype.constructor=dr,dr.Qb=function(en,In,Hn){for(var oi=Array(arguments.length-2),os=2;os<arguments.length;os++)oi[os-2]=arguments[os];return Fr.prototype[In].apply(en,oi)}}function Ke(dr){const Fr=dr.length;if(0<Fr){const $r=Array(Fr);for(let en=0;en<Fr;en++)$r[en]=dr[en];return $r}return[]}function Xe(dr,Fr){for(let $r=1;$r<arguments.length;$r++){const en=arguments[$r];if(Me(en)){const In=dr.length||0,Hn=en.length||0;dr.length=In+Hn;for(let oi=0;oi<Hn;oi++)dr[In+oi]=en[oi]}else dr.push(en)}}class Ye{constructor(Fr,$r){this.i=Fr,this.j=$r,this.h=0,this.g=null}get(){let Fr;return 0<this.h?(this.h--,Fr=this.g,this.g=Fr.next,Fr.next=null):Fr=this.i(),Fr}}function Ze(dr){return/^[\s\xa0]*$/.test(dr)}function Je(){var dr=Oe.navigator;return dr&&(dr=dr.userAgent)?dr:""}function tr(dr){return tr[" "](dr),dr}tr[" "]=function(){};var rr=Je().indexOf("Gecko")!=-1&&!(Je().toLowerCase().indexOf("webkit")!=-1&&Je().indexOf("Edge")==-1)&&!(Je().indexOf("Trident")!=-1||Je().indexOf("MSIE")!=-1)&&Je().indexOf("Edge")==-1;function ar(dr,Fr,$r){for(const en in dr)Fr.call($r,dr[en],en,dr)}function ir(dr,Fr){for(const $r in dr)Fr.call(void 0,dr[$r],$r,dr)}function nr(dr){const Fr={};for(const $r in dr)Fr[$r]=dr[$r];return Fr}const cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mr(dr,Fr){let $r,en;for(let In=1;In<arguments.length;In++){en=arguments[In];for($r in en)dr[$r]=en[$r];for(let Hn=0;Hn<cr.length;Hn++)$r=cr[Hn],Object.prototype.hasOwnProperty.call(en,$r)&&(dr[$r]=en[$r])}}function fr(dr){var Fr=1;dr=dr.split(":");const $r=[];for(;0<Fr&&dr.length;)$r.push(dr.shift()),Fr--;return dr.length&&$r.push(dr.join(":")),$r}function or(dr){Oe.setTimeout(()=>{throw dr},0)}function yr(){var dr=Er;let Fr=null;return dr.g&&(Fr=dr.g,dr.g=dr.g.next,dr.g||(dr.h=null),Fr.next=null),Fr}class Cr{constructor(){this.h=this.g=null}add(Fr,$r){const en=jr.get();en.set(Fr,$r),this.h?this.h.next=en:this.g=en,this.h=en}}var jr=new Ye(()=>new vr,dr=>dr.reset());class vr{constructor(){this.next=this.g=this.h=null}set(Fr,$r){this.h=Fr,this.g=$r,this.next=null}reset(){this.next=this.g=this.h=null}}let Tr,wr=!1,Er=new Cr,Pr=()=>{const dr=Oe.Promise.resolve(void 0);Tr=()=>{dr.then(Mr)}};var Mr=()=>{for(var dr;dr=yr();){try{dr.h.call(dr.g)}catch($r){or($r)}var Fr=jr;Fr.j(dr),100>Fr.h&&(Fr.h++,dr.next=Fr.g,Fr.g=dr)}wr=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ir(dr,Fr){this.type=dr,this.g=this.target=Fr,this.defaultPrevented=!1}Ir.prototype.h=function(){this.defaultPrevented=!0};var Dr=(function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var dr=!1,Fr=Object.defineProperty({},"passive",{get:function(){dr=!0}});try{const $r=()=>{};Oe.addEventListener("test",$r,Fr),Oe.removeEventListener("test",$r,Fr)}catch{}return dr})();function Or(dr,Fr){if(Ir.call(this,dr?dr.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,dr){var $r=this.type=dr.type,en=dr.changedTouches&&dr.changedTouches.length?dr.changedTouches[0]:null;if(this.target=dr.target||dr.srcElement,this.g=Fr,Fr=dr.relatedTarget){if(rr){e:{try{tr(Fr.nodeName);var In=!0;break e}catch{}In=!1}In||(Fr=null)}}else $r=="mouseover"?Fr=dr.fromElement:$r=="mouseout"&&(Fr=dr.toElement);this.relatedTarget=Fr,en?(this.clientX=en.clientX!==void 0?en.clientX:en.pageX,this.clientY=en.clientY!==void 0?en.clientY:en.pageY,this.screenX=en.screenX||0,this.screenY=en.screenY||0):(this.clientX=dr.clientX!==void 0?dr.clientX:dr.pageX,this.clientY=dr.clientY!==void 0?dr.clientY:dr.pageY,this.screenX=dr.screenX||0,this.screenY=dr.screenY||0),this.button=dr.button,this.key=dr.key||"",this.ctrlKey=dr.ctrlKey,this.altKey=dr.altKey,this.shiftKey=dr.shiftKey,this.metaKey=dr.metaKey,this.pointerId=dr.pointerId||0,this.pointerType=typeof dr.pointerType=="string"?dr.pointerType:br[dr.pointerType]||"",this.state=dr.state,this.i=dr,dr.defaultPrevented&&Or.aa.h.call(this)}}qe(Or,Ir);var br={2:"touch",3:"pen",4:"mouse"};Or.prototype.h=function(){Or.aa.h.call(this);var dr=this.i;dr.preventDefault?dr.preventDefault():dr.returnValue=!1};var Ur="closure_listenable_"+(1e6*Math.random()|0),Qr=0;function zr(dr,Fr,$r,en,In){this.listener=dr,this.proxy=null,this.src=Fr,this.type=$r,this.capture=!!en,this.ha=In,this.key=++Qr,this.da=this.fa=!1}function Gr(dr){dr.da=!0,dr.listener=null,dr.proxy=null,dr.src=null,dr.ha=null}function fn(dr){this.src=dr,this.g={},this.h=0}fn.prototype.add=function(dr,Fr,$r,en,In){var Hn=dr.toString();dr=this.g[Hn],dr||(dr=this.g[Hn]=[],this.h++);var oi=bn(dr,Fr,en,In);return-1<oi?(Fr=dr[oi],$r||(Fr.fa=!1)):(Fr=new zr(Fr,this.src,Hn,!!en,In),Fr.fa=$r,dr.push(Fr)),Fr};function nn(dr,Fr){var $r=Fr.type;if($r in dr.g){var en=dr.g[$r],In=Array.prototype.indexOf.call(en,Fr,void 0),Hn;(Hn=0<=In)&&Array.prototype.splice.call(en,In,1),Hn&&(Gr(Fr),dr.g[$r].length==0&&(delete dr.g[$r],dr.h--))}}function bn(dr,Fr,$r,en){for(var In=0;In<dr.length;++In){var Hn=dr[In];if(!Hn.da&&Hn.listener==Fr&&Hn.capture==!!$r&&Hn.ha==en)return In}return-1}var hn="closure_lm_"+(1e6*Math.random()|0),yn={};function Zr(dr,Fr,$r,en,In){if(Array.isArray(Fr)){for(var Hn=0;Hn<Fr.length;Hn++)Zr(dr,Fr[Hn],$r,en,In);return null}return $r=Fi($r),dr&&dr[Ur]?dr.K(Fr,$r,Ue(en)?!!en.capture:!1,In):Rn(dr,Fr,$r,!1,en,In)}function Rn(dr,Fr,$r,en,In,Hn){if(!Fr)throw Error("Invalid event type");var oi=Ue(In)?!!In.capture:!!In,os=Ei(dr);if(os||(dr[hn]=os=new fn(dr)),$r=os.add(Fr,$r,en,oi,Hn),$r.proxy)return $r;if(en=ri(),$r.proxy=en,en.src=dr,en.listener=$r,dr.addEventListener)Dr||(In=oi),In===void 0&&(In=!1),dr.addEventListener(Fr.toString(),en,In);else if(dr.attachEvent)dr.attachEvent(ei(Fr.toString()),en);else if(dr.addListener&&dr.removeListener)dr.addListener(en);else throw Error("addEventListener and attachEvent are unavailable.");return $r}function ri(){function dr($r){return Fr.call(dr.src,dr.listener,$r)}const Fr=Gn;return dr}function Yn(dr,Fr,$r,en,In){if(Array.isArray(Fr))for(var Hn=0;Hn<Fr.length;Hn++)Yn(dr,Fr[Hn],$r,en,In);else en=Ue(en)?!!en.capture:!!en,$r=Fi($r),dr&&dr[Ur]?(dr=dr.i,Fr=String(Fr).toString(),Fr in dr.g&&(Hn=dr.g[Fr],$r=bn(Hn,$r,en,In),-1<$r&&(Gr(Hn[$r]),Array.prototype.splice.call(Hn,$r,1),Hn.length==0&&(delete dr.g[Fr],dr.h--)))):dr&&(dr=Ei(dr))&&(Fr=dr.g[Fr.toString()],dr=-1,Fr&&(dr=bn(Fr,$r,en,In)),($r=-1<dr?Fr[dr]:null)&&ti($r))}function ti(dr){if(typeof dr!="number"&&dr&&!dr.da){var Fr=dr.src;if(Fr&&Fr[Ur])nn(Fr.i,dr);else{var $r=dr.type,en=dr.proxy;Fr.removeEventListener?Fr.removeEventListener($r,en,dr.capture):Fr.detachEvent?Fr.detachEvent(ei($r),en):Fr.addListener&&Fr.removeListener&&Fr.removeListener(en),($r=Ei(Fr))?(nn($r,dr),$r.h==0&&($r.src=null,Fr[hn]=null)):Gr(dr)}}}function ei(dr){return dr in yn?yn[dr]:yn[dr]="on"+dr}function Gn(dr,Fr){if(dr.da)dr=!0;else{Fr=new Or(Fr,this);var $r=dr.listener,en=dr.ha||dr.src;dr.fa&&ti(dr),dr=$r.call(en,Fr)}return dr}function Ei(dr){return dr=dr[hn],dr instanceof fn?dr:null}var Ci="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(dr){return typeof dr=="function"?dr:(dr[Ci]||(dr[Ci]=function(Fr){return dr.handleEvent(Fr)}),dr[Ci])}function Si(){_r.call(this),this.i=new fn(this),this.M=this,this.F=null}qe(Si,_r),Si.prototype[Ur]=!0,Si.prototype.removeEventListener=function(dr,Fr,$r,en){Yn(this,dr,Fr,$r,en)};function Ti(dr,Fr){var $r,en=dr.F;if(en)for($r=[];en;en=en.F)$r.push(en);if(dr=dr.M,en=Fr.type||Fr,typeof Fr=="string")Fr=new Ir(Fr,dr);else if(Fr instanceof Ir)Fr.target=Fr.target||dr;else{var In=Fr;Fr=new Ir(en,dr),mr(Fr,In)}if(In=!0,$r)for(var Hn=$r.length-1;0<=Hn;Hn--){var oi=Fr.g=$r[Hn];In=ji(oi,en,!0,Fr)&&In}if(oi=Fr.g=dr,In=ji(oi,en,!0,Fr)&&In,In=ji(oi,en,!1,Fr)&&In,$r)for(Hn=0;Hn<$r.length;Hn++)oi=Fr.g=$r[Hn],In=ji(oi,en,!1,Fr)&&In}Si.prototype.N=function(){if(Si.aa.N.call(this),this.i){var dr=this.i,Fr;for(Fr in dr.g){for(var $r=dr.g[Fr],en=0;en<$r.length;en++)Gr($r[en]);delete dr.g[Fr],dr.h--}}this.F=null},Si.prototype.K=function(dr,Fr,$r,en){return this.i.add(String(dr),Fr,!1,$r,en)},Si.prototype.L=function(dr,Fr,$r,en){return this.i.add(String(dr),Fr,!0,$r,en)};function ji(dr,Fr,$r,en){if(Fr=dr.i.g[String(Fr)],!Fr)return!0;Fr=Fr.concat();for(var In=!0,Hn=0;Hn<Fr.length;++Hn){var oi=Fr[Hn];if(oi&&!oi.da&&oi.capture==$r){var os=oi.listener,_s=oi.ha||oi.src;oi.fa&&nn(dr.i,oi),In=os.call(_s,en)!==!1&&In}}return In&&!en.defaultPrevented}function wi(dr,Fr,$r){if(typeof dr=="function")$r&&(dr=Qe(dr,$r));else if(dr&&typeof dr.handleEvent=="function")dr=Qe(dr.handleEvent,dr);else throw Error("Invalid listener argument");return 2147483647<Number(Fr)?-1:Oe.setTimeout(dr,Fr||0)}function En(dr){dr.g=wi(()=>{dr.g=null,dr.i&&(dr.i=!1,En(dr))},dr.l);const Fr=dr.h;dr.h=null,dr.m.apply(null,Fr)}class an extends _r{constructor(Fr,$r){super(),this.m=Fr,this.l=$r,this.h=null,this.i=!1,this.g=null}j(Fr){this.h=arguments,this.g?this.i=!0:En(this)}N(){super.N(),this.g&&(Oe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function On(dr){_r.call(this),this.h=dr,this.g={}}qe(On,_r);var Mn=[];function ui(dr){ar(dr.g,function(Fr,$r){this.g.hasOwnProperty($r)&&ti(Fr)},dr),dr.g={}}On.prototype.N=function(){On.aa.N.call(this),ui(this)},On.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=Oe.JSON.stringify,yi=Oe.JSON.parse,jn=class{stringify(dr){return Oe.JSON.stringify(dr,void 0)}parse(dr){return Oe.JSON.parse(dr,void 0)}};function vn(){}vn.prototype.h=null;function Ni(dr){return dr.h||(dr.h=dr.i())}function xi(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ki(){Ir.call(this,"d")}qe(ki,Ir);function Ai(){Ir.call(this,"c")}qe(Ai,Ir);var hi={},Bi=null;function Zi(){return Bi=Bi||new Si}hi.La="serverreachability";function ds(dr){Ir.call(this,hi.La,dr)}qe(ds,Ir);function oa(dr){const Fr=Zi();Ti(Fr,new ds(Fr))}hi.STAT_EVENT="statevent";function Wa(dr,Fr){Ir.call(this,hi.STAT_EVENT,dr),this.stat=Fr}qe(Wa,Ir);function Li(dr){const Fr=Zi();Ti(Fr,new Wa(Fr,dr))}hi.Ma="timingevent";function Qs(dr,Fr){Ir.call(this,hi.Ma,dr),this.size=Fr}qe(Qs,Ir);function Fs(dr,Fr){if(typeof dr!="function")throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){dr()},Fr)}function Xs(){this.g=!0}Xs.prototype.xa=function(){this.g=!1};function Yi(dr,Fr,$r,en,In,Hn){dr.info(function(){if(dr.g)if(Hn)for(var oi="",os=Hn.split("&"),_s=0;_s<os.length;_s++){var As=os[_s].split("=");if(1<As.length){var Bs=As[0];As=As[1];var Cs=Bs.split("_");oi=2<=Cs.length&&Cs[1]=="type"?oi+(Bs+"="+As+"&"):oi+(Bs+"=redacted&")}}else oi=null;else oi=Hn;return"XMLHTTP REQ ("+en+") [attempt "+In+"]: "+Fr+`
`+$r+`
`+oi})}function ra(dr,Fr,$r,en,In,Hn,oi){dr.info(function(){return"XMLHTTP RESP ("+en+") [ attempt "+In+"]: "+Fr+`
`+$r+`
`+Hn+" "+oi})}function qr(dr,Fr,$r,en){dr.info(function(){return"XMLHTTP TEXT ("+Fr+"): "+on(dr,$r)+(en?" "+en:"")})}function pn(dr,Fr){dr.info(function(){return"TIMEOUT: "+Fr})}Xs.prototype.info=function(){};function on(dr,Fr){if(!dr.g)return Fr;if(!Fr)return null;try{var $r=JSON.parse(Fr);if($r){for(dr=0;dr<$r.length;dr++)if(Array.isArray($r[dr])){var en=$r[dr];if(!(2>en.length)){var In=en[1];if(Array.isArray(In)&&!(1>In.length)){var Hn=In[0];if(Hn!="noop"&&Hn!="stop"&&Hn!="close")for(var oi=1;oi<In.length;oi++)In[oi]=""}}}}return Vn($r)}catch{return Fr}}var cn={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},mn={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},gn;function Un(){}qe(Un,vn),Un.prototype.g=function(){return new XMLHttpRequest},Un.prototype.i=function(){return{}},gn=new Un;function Jn(dr,Fr,$r,en){this.j=dr,this.i=Fr,this.l=$r,this.R=en||1,this.U=new On(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Dn}function Dn(){this.i=null,this.g="",this.h=!1}var zn={},qn={};function vi(dr,Fr,$r){dr.L=1,dr.v=Zl(vo(Fr)),dr.m=$r,dr.P=!0,Ii(dr,null)}function Ii(dr,Fr){dr.F=Date.now(),Ui(dr),dr.A=vo(dr.v);var $r=dr.A,en=dr.R;Array.isArray(en)||(en=[String(en)]),ts($r.i,"t",en),dr.C=0,$r=dr.j.J,dr.h=new Dn,dr.g=Kr(dr.j,$r?Fr:null,!dr.m),0<dr.O&&(dr.M=new an(Qe(dr.Y,dr,dr.g),dr.O)),Fr=dr.U,$r=dr.g,en=dr.ca;var In="readystatechange";Array.isArray(In)||(In&&(Mn[0]=In.toString()),In=Mn);for(var Hn=0;Hn<In.length;Hn++){var oi=Zr($r,In[Hn],en||Fr.handleEvent,!1,Fr.h||Fr);if(!oi)break;Fr.g[oi.key]=oi}Fr=dr.H?nr(dr.H):{},dr.m?(dr.u||(dr.u="POST"),Fr["Content-Type"]="application/x-www-form-urlencoded",dr.g.ea(dr.A,dr.u,dr.m,Fr)):(dr.u="GET",dr.g.ea(dr.A,dr.u,null,Fr)),oa(),Yi(dr.i,dr.u,dr.A,dr.l,dr.R,dr.m)}Jn.prototype.ca=function(dr){dr=dr.target;const Fr=this.M;Fr&&$a(dr)==3?Fr.j():this.Y(dr)},Jn.prototype.Y=function(dr){try{if(dr==this.g)e:{const Cs=$a(this.g);var Fr=this.g.Ba();const wl=this.g.Z();if(!(3>Cs)&&(Cs!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Cs!=4||Fr==7||(Fr==8||0>=wl?oa(3):oa(2)),gs(this);var $r=this.g.Z();this.X=$r;t:if(zi(this)){var en=Yu(this.g);dr="";var In=en.length,Hn=$a(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ys(this),ws(this);var oi="";break t}this.h.i=new Oe.TextDecoder}for(Fr=0;Fr<In;Fr++)this.h.h=!0,dr+=this.h.i.decode(en[Fr],{stream:!(Hn&&Fr==In-1)});en.length=0,this.h.g+=dr,this.C=0,oi=this.h.g}else oi=this.g.oa();if(this.o=$r==200,ra(this.i,this.u,this.A,this.l,this.R,Cs,$r),this.o){if(this.T&&!this.K){t:{if(this.g){var os,_s=this.g;if((os=_s.g?_s.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ze(os)){var As=os;break t}}As=null}if($r=As)qr(this.i,this.l,$r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,eo(this,$r);else{this.o=!1,this.s=3,Li(12),ys(this),ws(this);break e}}if(this.P){$r=!0;let Js;for(;!this.J&&this.C<oi.length;)if(Js=Pi(this,oi),Js==qn){Cs==4&&(this.s=4,Li(14),$r=!1),qr(this.i,this.l,null,"[Incomplete Response]");break}else if(Js==zn){this.s=4,Li(15),qr(this.i,this.l,oi,"[Invalid Chunk]"),$r=!1;break}else qr(this.i,this.l,Js,null),eo(this,Js);if(zi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Cs!=4||oi.length!=0||this.h.h||(this.s=1,Li(16),$r=!1),this.o=this.o&&$r,!$r)qr(this.i,this.l,oi,"[Invalid Chunked Response]"),ys(this),ws(this);else if(0<oi.length&&!this.W){this.W=!0;var Bs=this.j;Bs.g==this&&Bs.ba&&!Bs.M&&(Bs.j.info("Great, no buffering proxy detected. Bytes received: "+oi.length),nc(Bs),Bs.M=!0,Li(11))}}else qr(this.i,this.l,oi,null),eo(this,oi);Cs==4&&ys(this),this.o&&!this.J&&(Cs==4?ic(this.j,this):(this.o=!1,Ui(this)))}else tc(this.g),$r==400&&0<oi.indexOf("Unknown SID")?(this.s=3,Li(12)):(this.s=0,Li(13)),ys(this),ws(this)}}}catch{}finally{}};function zi(dr){return dr.g?dr.u=="GET"&&dr.L!=2&&dr.j.Ca:!1}function Pi(dr,Fr){var $r=dr.C,en=Fr.indexOf(`
`,$r);return en==-1?qn:($r=Number(Fr.substring($r,en)),isNaN($r)?zn:(en+=1,en+$r>Fr.length?qn:(Fr=Fr.slice(en,en+$r),dr.C=en+$r,Fr)))}Jn.prototype.cancel=function(){this.J=!0,ys(this)};function Ui(dr){dr.S=Date.now()+dr.I,ss(dr,dr.I)}function ss(dr,Fr){if(dr.B!=null)throw Error("WatchDog timer not null");dr.B=Fs(Qe(dr.ba,dr),Fr)}function gs(dr){dr.B&&(Oe.clearTimeout(dr.B),dr.B=null)}Jn.prototype.ba=function(){this.B=null;const dr=Date.now();0<=dr-this.S?(pn(this.i,this.A),this.L!=2&&(oa(),Li(17)),ys(this),this.s=2,ws(this)):ss(this,this.S-dr)};function ws(dr){dr.j.G==0||dr.J||ic(dr.j,dr)}function ys(dr){gs(dr);var Fr=dr.M;Fr&&typeof Fr.ma=="function"&&Fr.ma(),dr.M=null,ui(dr.U),dr.g&&(Fr=dr.g,dr.g=null,Fr.abort(),Fr.ma())}function eo(dr,Fr){try{var $r=dr.j;if($r.G!=0&&($r.g==dr||Na($r.h,dr))){if(!dr.K&&Na($r.h,dr)&&$r.G==3){try{var en=$r.Da.g.parse(Fr)}catch{en=null}if(Array.isArray(en)&&en.length==3){var In=en;if(In[0]==0){e:if(!$r.u){if($r.g)if($r.g.F+3e3<dr.F)Ol($r),Qc($r);else break e;wc($r),Li(18)}}else $r.za=In[1],0<$r.za-$r.T&&37500>In[2]&&$r.F&&$r.v==0&&!$r.C&&($r.C=Fs(Qe($r.Za,$r),6e3));if(1>=co($r.h)&&$r.ca){try{$r.ca()}catch{}$r.ca=void 0}}else jo($r,11)}else if((dr.K||$r.g==dr)&&Ol($r),!Ze(Fr))for(In=$r.Da.g.parse(Fr),Fr=0;Fr<In.length;Fr++){let As=In[Fr];if($r.T=As[0],As=As[1],$r.G==2)if(As[0]=="c"){$r.K=As[1],$r.ia=As[2];const Bs=As[3];Bs!=null&&($r.la=Bs,$r.j.info("VER="+$r.la));const Cs=As[4];Cs!=null&&($r.Aa=Cs,$r.j.info("SVER="+$r.Aa));const wl=As[5];wl!=null&&typeof wl=="number"&&0<wl&&(en=1.5*wl,$r.L=en,$r.j.info("backChannelRequestTimeoutMs_="+en)),en=$r;const Js=dr.g;if(Js){const Os=Js.g?Js.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var Hn=en.h;Hn.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(Hn.j=Hn.l,Hn.g=new Set,Hn.h&&(la(Hn,Hn.h),Hn.h=null))}if(en.D){const Ml=Js.g?Js.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(en.ya=Ml,Ws(en.I,en.D,Ml))}}$r.G=3,$r.l&&$r.l.ua(),$r.ba&&($r.R=Date.now()-dr.F,$r.j.info("Handshake RTT: "+$r.R+"ms")),en=$r;var oi=dr;if(en.qa=Rr(en,en.J?en.ia:null,en.W),oi.K){uo(en.h,oi);var os=oi,_s=en.L;_s&&(os.I=_s),os.B&&(gs(os),Ui(os)),en.g=oi}else zc(en);0<$r.i.length&&kl($r)}else As[0]!="stop"&&As[0]!="close"||jo($r,7);else $r.G==3&&(As[0]=="stop"||As[0]=="close"?As[0]=="stop"?jo($r,7):bl($r):As[0]!="noop"&&$r.l&&$r.l.ta(As),$r.v=0)}}oa(4)}catch{}}var wo=class{constructor(dr,Fr){this.g=dr,this.map=Fr}};function oo(dr){this.l=dr||10,Oe.PerformanceNavigationTiming?(dr=Oe.performance.getEntriesByType("navigation"),dr=0<dr.length&&(dr[0].nextHopProtocol=="hq"||dr[0].nextHopProtocol=="h2")):dr=!!(Oe.chrome&&Oe.chrome.loadTimes&&Oe.chrome.loadTimes()&&Oe.chrome.loadTimes().wasFetchedViaSpdy),this.j=dr?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Eo(dr){return dr.h?!0:dr.g?dr.g.size>=dr.j:!1}function co(dr){return dr.h?1:dr.g?dr.g.size:0}function Na(dr,Fr){return dr.h?dr.h==Fr:dr.g?dr.g.has(Fr):!1}function la(dr,Fr){dr.g?dr.g.add(Fr):dr.h=Fr}function uo(dr,Fr){dr.h&&dr.h==Fr?dr.h=null:dr.g&&dr.g.has(Fr)&&dr.g.delete(Fr)}oo.prototype.cancel=function(){if(this.i=$c(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const dr of this.g.values())dr.cancel();this.g.clear()}};function $c(dr){if(dr.h!=null)return dr.i.concat(dr.h.D);if(dr.g!=null&&dr.g.size!==0){let Fr=dr.i;for(const $r of dr.g.values())Fr=Fr.concat($r.D);return Fr}return Ke(dr.i)}function mc(dr){if(dr.V&&typeof dr.V=="function")return dr.V();if(typeof Map<"u"&&dr instanceof Map||typeof Set<"u"&&dr instanceof Set)return Array.from(dr.values());if(typeof dr=="string")return dr.split("");if(Me(dr)){for(var Fr=[],$r=dr.length,en=0;en<$r;en++)Fr.push(dr[en]);return Fr}Fr=[],$r=0;for(en in dr)Fr[$r++]=dr[en];return Fr}function sl(dr){if(dr.na&&typeof dr.na=="function")return dr.na();if(!dr.V||typeof dr.V!="function"){if(typeof Map<"u"&&dr instanceof Map)return Array.from(dr.keys());if(!(typeof Set<"u"&&dr instanceof Set)){if(Me(dr)||typeof dr=="string"){var Fr=[];dr=dr.length;for(var $r=0;$r<dr;$r++)Fr.push($r);return Fr}Fr=[],$r=0;for(const en in dr)Fr[$r++]=en;return Fr}}}function Bl(dr,Fr){if(dr.forEach&&typeof dr.forEach=="function")dr.forEach(Fr,void 0);else if(Me(dr)||typeof dr=="string")Array.prototype.forEach.call(dr,Fr,void 0);else for(var $r=sl(dr),en=mc(dr),In=en.length,Hn=0;Hn<In;Hn++)Fr.call(void 0,en[Hn],$r&&$r[Hn],dr)}var xo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Da(dr,Fr){if(dr){dr=dr.split("&");for(var $r=0;$r<dr.length;$r++){var en=dr[$r].indexOf("="),In=null;if(0<=en){var Hn=dr[$r].substring(0,en);In=dr[$r].substring(en+1)}else Hn=dr[$r];Fr(Hn,In?decodeURIComponent(In.replace(/\+/g," ")):"")}}}function ks(dr){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,dr instanceof ks){this.h=dr.h,Xl(this,dr.j),this.o=dr.o,this.g=dr.g,Jl(this,dr.s),this.l=dr.l;var Fr=dr.i,$r=new fo;$r.i=Fr.i,Fr.g&&($r.g=new Map(Fr.g),$r.h=Fr.h),hl(this,$r),this.m=dr.m}else dr&&(Fr=String(dr).match(xo))?(this.h=!1,Xl(this,Fr[1]||"",!0),this.o=Qo(Fr[2]||""),this.g=Qo(Fr[3]||"",!0),Jl(this,Fr[4]),this.l=Qo(Fr[5]||"",!0),hl(this,Fr[6]||"",!0),this.m=Qo(Fr[7]||"")):(this.h=!1,this.i=new fo(null,this.h))}ks.prototype.toString=function(){var dr=[],Fr=this.j;Fr&&dr.push(zo(Fr,Vc,!0),":");var $r=this.g;return($r||Fr=="file")&&(dr.push("//"),(Fr=this.o)&&dr.push(zo(Fr,Vc,!0),"@"),dr.push(encodeURIComponent(String($r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),$r=this.s,$r!=null&&dr.push(":",String($r))),($r=this.l)&&(this.g&&$r.charAt(0)!="/"&&dr.push("/"),dr.push(zo($r,$r.charAt(0)=="/"?Nl:du,!0))),($r=this.i.toString())&&dr.push("?",$r),($r=this.m)&&dr.push("#",zo($r,al)),dr.join("")};function vo(dr){return new ks(dr)}function Xl(dr,Fr,$r){dr.j=$r?Qo(Fr,!0):Fr,dr.j&&(dr.j=dr.j.replace(/:$/,""))}function Jl(dr,Fr){if(Fr){if(Fr=Number(Fr),isNaN(Fr)||0>Fr)throw Error("Bad port number "+Fr);dr.s=Fr}else dr.s=null}function hl(dr,Fr,$r){Fr instanceof fo?(dr.i=Fr,qu(dr.i,dr.h)):($r||(Fr=zo(Fr,gc)),dr.i=new fo(Fr,dr.h))}function Ws(dr,Fr,$r){dr.i.set(Fr,$r)}function Zl(dr){return Ws(dr,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),dr}function Qo(dr,Fr){return dr?Fr?decodeURI(dr.replace(/%25/g,"%2525")):decodeURIComponent(dr):""}function zo(dr,Fr,$r){return typeof dr=="string"?(dr=encodeURI(dr).replace(Fr,Gu),$r&&(dr=dr.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),dr):null}function Gu(dr){return dr=dr.charCodeAt(0),"%"+(dr>>4&15).toString(16)+(dr&15).toString(16)}var Vc=/[#\/\?@]/g,du=/[#\?:]/g,Nl=/[#\?]/g,gc=/[#\?@]/g,al=/#/g;function fo(dr,Fr){this.h=this.g=null,this.i=dr||null,this.j=!!Fr}function na(dr){dr.g||(dr.g=new Map,dr.h=0,dr.i&&Da(dr.i,function(Fr,$r){dr.add(decodeURIComponent(Fr.replace(/\+/g," ")),$r)}))}Re=fo.prototype,Re.add=function(dr,Fr){na(this),this.i=null,dr=pl(this,dr);var $r=this.g.get(dr);return $r||this.g.set(dr,$r=[]),$r.push(Fr),this.h+=1,this};function Dl(dr,Fr){na(dr),Fr=pl(dr,Fr),dr.g.has(Fr)&&(dr.i=null,dr.h-=dr.g.get(Fr).length,dr.g.delete(Fr))}function Al(dr,Fr){return na(dr),Fr=pl(dr,Fr),dr.g.has(Fr)}Re.forEach=function(dr,Fr){na(this),this.g.forEach(function($r,en){$r.forEach(function(In){dr.call(Fr,In,en,this)},this)},this)},Re.na=function(){na(this);const dr=Array.from(this.g.values()),Fr=Array.from(this.g.keys()),$r=[];for(let en=0;en<Fr.length;en++){const In=dr[en];for(let Hn=0;Hn<In.length;Hn++)$r.push(Fr[en])}return $r},Re.V=function(dr){na(this);let Fr=[];if(typeof dr=="string")Al(this,dr)&&(Fr=Fr.concat(this.g.get(pl(this,dr))));else{dr=Array.from(this.g.values());for(let $r=0;$r<dr.length;$r++)Fr=Fr.concat(dr[$r])}return Fr},Re.set=function(dr,Fr){return na(this),this.i=null,dr=pl(this,dr),Al(this,dr)&&(this.h-=this.g.get(dr).length),this.g.set(dr,[Fr]),this.h+=1,this},Re.get=function(dr,Fr){return dr?(dr=this.V(dr),0<dr.length?String(dr[0]):Fr):Fr};function ts(dr,Fr,$r){Dl(dr,Fr),0<$r.length&&(dr.i=null,dr.g.set(pl(dr,Fr),Ke($r)),dr.h+=$r.length)}Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const dr=[],Fr=Array.from(this.g.keys());for(var $r=0;$r<Fr.length;$r++){var en=Fr[$r];const Hn=encodeURIComponent(String(en)),oi=this.V(en);for(en=0;en<oi.length;en++){var In=Hn;oi[en]!==""&&(In+="="+encodeURIComponent(String(oi[en]))),dr.push(In)}}return this.i=dr.join("&")};function pl(dr,Fr){return Fr=String(Fr),dr.j&&(Fr=Fr.toLowerCase()),Fr}function qu(dr,Fr){Fr&&!dr.j&&(na(dr),dr.i=null,dr.g.forEach(function($r,en){var In=en.toLowerCase();en!=In&&(Dl(this,en),ts(this,In,$r))},dr)),dr.j=Fr}function So(dr,Fr){const $r=new Xs;if(Oe.Image){const en=new Image;en.onload=We(ko,$r,"TestLoadImage: loaded",!0,Fr,en),en.onerror=We(ko,$r,"TestLoadImage: error",!1,Fr,en),en.onabort=We(ko,$r,"TestLoadImage: abort",!1,Fr,en),en.ontimeout=We(ko,$r,"TestLoadImage: timeout",!1,Fr,en),Oe.setTimeout(function(){en.ontimeout&&en.ontimeout()},1e4),en.src=dr}else Fr(!1)}function Wo(dr,Fr){const $r=new Xs,en=new AbortController,In=setTimeout(()=>{en.abort(),ko($r,"TestPingServer: timeout",!1,Fr)},1e4);fetch(dr,{signal:en.signal}).then(Hn=>{clearTimeout(In),Hn.ok?ko($r,"TestPingServer: ok",!0,Fr):ko($r,"TestPingServer: server error",!1,Fr)}).catch(()=>{clearTimeout(In),ko($r,"TestPingServer: error",!1,Fr)})}function ko(dr,Fr,$r,en,In){try{In&&(In.onload=null,In.onerror=null,In.onabort=null,In.ontimeout=null),en($r)}catch{}}function ml(){this.g=new jn}function ya(dr,Fr,$r){const en=$r||"";try{Bl(dr,function(In,Hn){let oi=In;Ue(In)&&(oi=Vn(In)),Fr.push(en+Hn+"="+encodeURIComponent(oi))})}catch(In){throw Fr.push(en+"type="+encodeURIComponent("_badmap")),In}}function gl(dr){this.l=dr.Ub||null,this.j=dr.eb||!1}qe(gl,vn),gl.prototype.g=function(){return new xl(this.l,this.j)},gl.prototype.i=(function(dr){return function(){return dr}})({});function xl(dr,Fr){Si.call(this),this.D=dr,this.o=Fr,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}qe(xl,Si),Re=xl.prototype,Re.open=function(dr,Fr){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=dr,this.A=Fr,this.readyState=1,Ro(this)},Re.send=function(dr){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Fr={headers:this.u,method:this.B,credentials:this.m,cache:void 0};dr&&(Fr.body=dr),(this.D||Oe).fetch(new Request(this.A,Fr)).then(this.Sa.bind(this),this.ga.bind(this))},Re.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ko(this)),this.readyState=0},Re.Sa=function(dr){if(this.g&&(this.l=dr,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=dr.headers,this.readyState=2,Ro(this)),this.g&&(this.readyState=3,Ro(this),this.g)))if(this.responseType==="arraybuffer")dr.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof Oe.ReadableStream<"u"&&"body"in dr){if(this.j=dr.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hc(this)}else dr.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hc(dr){dr.j.read().then(dr.Pa.bind(dr)).catch(dr.ga.bind(dr))}Re.Pa=function(dr){if(this.g){if(this.o&&dr.value)this.response.push(dr.value);else if(!this.o){var Fr=dr.value?dr.value:new Uint8Array(0);(Fr=this.v.decode(Fr,{stream:!dr.done}))&&(this.response=this.responseText+=Fr)}dr.done?Ko(this):Ro(this),this.readyState==3&&Hc(this)}},Re.Ra=function(dr){this.g&&(this.response=this.responseText=dr,Ko(this))},Re.Qa=function(dr){this.g&&(this.response=dr,Ko(this))},Re.ga=function(){this.g&&Ko(this)};function Ko(dr){dr.readyState=4,dr.l=null,dr.j=null,dr.v=null,Ro(dr)}Re.setRequestHeader=function(dr,Fr){this.u.append(dr,Fr)},Re.getResponseHeader=function(dr){return this.h&&this.h.get(dr.toLowerCase())||""},Re.getAllResponseHeaders=function(){if(!this.h)return"";const dr=[],Fr=this.h.entries();for(var $r=Fr.next();!$r.done;)$r=$r.value,dr.push($r[0]+": "+$r[1]),$r=Fr.next();return dr.join(`\r
`)};function Ro(dr){dr.onreadystatechange&&dr.onreadystatechange.call(dr)}Object.defineProperty(xl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(dr){this.m=dr?"include":"same-origin"}});function vl(dr){let Fr="";return ar(dr,function($r,en){Fr+=en,Fr+=":",Fr+=$r,Fr+=`\r
`}),Fr}function Fa(dr,Fr,$r){e:{for(en in $r){var en=!1;break e}en=!0}en||($r=vl($r),typeof dr=="string"?$r!=null&&encodeURIComponent(String($r)):Ws(dr,Fr,$r))}function Rs(dr){Si.call(this),this.headers=new Map,this.o=dr||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}qe(Rs,Si);var Fl=/^https?$/i,yl=["POST","PUT"];Re=Rs.prototype,Re.Ha=function(dr){this.J=dr},Re.ea=function(dr,Fr,$r,en){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+dr);Fr=Fr?Fr.toUpperCase():"GET",this.D=dr,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():gn.g(),this.v=this.o?Ni(this.o):Ni(gn),this.g.onreadystatechange=Qe(this.Ea,this);try{this.B=!0,this.g.open(Fr,String(dr),!0),this.B=!1}catch(Hn){fu(this,Hn);return}if(dr=$r||"",$r=new Map(this.headers),en)if(Object.getPrototypeOf(en)===Object.prototype)for(var In in en)$r.set(In,en[In]);else if(typeof en.keys=="function"&&typeof en.get=="function")for(const Hn of en.keys())$r.set(Hn,en.get(Hn));else throw Error("Unknown input type for opt_headers: "+String(en));en=Array.from($r.keys()).find(Hn=>Hn.toLowerCase()=="content-type"),In=Oe.FormData&&dr instanceof Oe.FormData,!(0<=Array.prototype.indexOf.call(yl,Fr,void 0))||en||In||$r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Hn,oi]of $r)this.g.setRequestHeader(Hn,oi);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Co(this),this.u=!0,this.g.send(dr),this.u=!1}catch(Hn){fu(this,Hn)}};function fu(dr,Fr){dr.h=!1,dr.g&&(dr.j=!0,dr.g.abort(),dr.j=!1),dr.l=Fr,dr.m=5,ha(dr),ho(dr)}function ha(dr){dr.A||(dr.A=!0,Ti(dr,"complete"),Ti(dr,"error"))}Re.abort=function(dr){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=dr||7,Ti(this,"complete"),Ti(this,"abort"),ho(this))},Re.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ho(this,!0)),Rs.aa.N.call(this)},Re.Ea=function(){this.s||(this.B||this.u||this.j?xc(this):this.bb())},Re.bb=function(){xc(this)};function xc(dr){if(dr.h&&typeof ke<"u"&&(!dr.v[1]||$a(dr)!=4||dr.Z()!=2)){if(dr.u&&$a(dr)==4)wi(dr.Ea,0,dr);else if(Ti(dr,"readystatechange"),$a(dr)==4){dr.h=!1;try{const oi=dr.Z();e:switch(oi){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Fr=!0;break e;default:Fr=!1}var $r;if(!($r=Fr)){var en;if(en=oi===0){var In=String(dr.D).match(xo)[1]||null;!In&&Oe.self&&Oe.self.location&&(In=Oe.self.location.protocol.slice(0,-1)),en=!Fl.test(In?In.toLowerCase():"")}$r=en}if($r)Ti(dr,"complete"),Ti(dr,"success");else{dr.m=6;try{var Hn=2<$a(dr)?dr.g.statusText:""}catch{Hn=""}dr.l=Hn+" ["+dr.Z()+"]",ha(dr)}}finally{ho(dr)}}}}function ho(dr,Fr){if(dr.g){Co(dr);const $r=dr.g,en=dr.v[0]?()=>{}:null;dr.g=null,dr.v=null,Fr||Ti(dr,"ready");try{$r.onreadystatechange=en}catch{}}}function Co(dr){dr.I&&(Oe.clearTimeout(dr.I),dr.I=null)}Re.isActive=function(){return!!this.g};function $a(dr){return dr.g?dr.g.readyState:0}Re.Z=function(){try{return 2<$a(this)?this.g.status:-1}catch{return-1}},Re.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Re.Oa=function(dr){if(this.g){var Fr=this.g.responseText;return dr&&Fr.indexOf(dr)==0&&(Fr=Fr.substring(dr.length)),yi(Fr)}};function Yu(dr){try{if(!dr.g)return null;if("response"in dr.g)return dr.g.response;switch(dr.H){case"":case"text":return dr.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in dr.g)return dr.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(dr){const Fr={};dr=(dr.g&&2<=$a(dr)&&dr.g.getAllResponseHeaders()||"").split(`\r
`);for(let en=0;en<dr.length;en++){if(Ze(dr[en]))continue;var $r=fr(dr[en]);const In=$r[0];if($r=$r[1],typeof $r!="string")continue;$r=$r.trim();const Hn=Fr[In]||[];Fr[In]=Hn,Hn.push($r)}ir(Fr,function(en){return en.join(", ")})}Re.Ba=function(){return this.m},Re.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Va(dr,Fr,$r){return $r&&$r.internalChannelParams&&$r.internalChannelParams[dr]||Fr}function ol(dr){this.Aa=0,this.i=[],this.j=new Xs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Va("failFast",!1,dr),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Va("baseRetryDelayMs",5e3,dr),this.cb=Va("retryDelaySeedMs",1e4,dr),this.Wa=Va("forwardChannelMaxRetries",2,dr),this.wa=Va("forwardChannelRequestTimeoutMs",2e4,dr),this.pa=dr&&dr.xmlHttpFactory||void 0,this.Xa=dr&&dr.Tb||void 0,this.Ca=dr&&dr.useFetchStreams||!1,this.L=void 0,this.J=dr&&dr.supportsCrossDomainXhr||!1,this.K="",this.h=new oo(dr&&dr.concurrentRequestLimit),this.Da=new ml,this.P=dr&&dr.fastHandshake||!1,this.O=dr&&dr.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=dr&&dr.Rb||!1,dr&&dr.xa&&this.j.xa(),dr&&dr.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&dr&&dr.detectBufferingProxy||!1,this.ja=void 0,dr&&dr.longPollingTimeout&&0<dr.longPollingTimeout&&(this.ja=dr.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}Re=ol.prototype,Re.la=8,Re.G=1,Re.connect=function(dr,Fr,$r,en){Li(0),this.W=dr,this.H=Fr||{},$r&&en!==void 0&&(this.H.OSID=$r,this.H.OAID=en),this.F=this.X,this.I=Rr(this,null,this.W),kl(this)};function bl(dr){if(To(dr),dr.G==3){var Fr=dr.U++,$r=vo(dr.I);if(Ws($r,"SID",dr.K),Ws($r,"RID",Fr),Ws($r,"TYPE","terminate"),rc(dr,$r),Fr=new Jn(dr,dr.j,Fr),Fr.L=2,Fr.v=Zl(vo($r)),$r=!1,Oe.navigator&&Oe.navigator.sendBeacon)try{$r=Oe.navigator.sendBeacon(Fr.v.toString(),"")}catch{}!$r&&Oe.Image&&(new Image().src=Fr.v,$r=!0),$r||(Fr.g=Kr(Fr.j,null),Fr.g.ea(Fr.v)),Fr.F=Date.now(),Ui(Fr)}Wc(dr)}function Qc(dr){dr.g&&(nc(dr),dr.g.cancel(),dr.g=null)}function To(dr){Qc(dr),dr.u&&(Oe.clearTimeout(dr.u),dr.u=null),Ol(dr),dr.h.cancel(),dr.s&&(typeof dr.s=="number"&&Oe.clearTimeout(dr.s),dr.s=null)}function kl(dr){if(!Eo(dr.h)&&!dr.s){dr.s=!0;var Fr=dr.Ga;Tr||Pr(),wr||(Tr(),wr=!0),Er.add(Fr,dr),dr.B=0}}function vc(dr,Fr){return co(dr.h)>=dr.h.j-(dr.s?1:0)?!1:dr.s?(dr.i=Fr.D.concat(dr.i),!0):dr.G==1||dr.G==2||dr.B>=(dr.Va?0:dr.Wa)?!1:(dr.s=Fs(Qe(dr.Ga,dr,Fr),_c(dr,dr.B)),dr.B++,!0)}Re.Ga=function(dr){if(this.s)if(this.s=null,this.G==1){if(!dr){this.U=Math.floor(1e5*Math.random()),dr=this.U++;const In=new Jn(this,this.j,dr);let Hn=this.o;if(this.S&&(Hn?(Hn=nr(Hn),mr(Hn,this.S)):Hn=this.S),this.m!==null||this.O||(In.H=Hn,Hn=null),this.P)e:{for(var Fr=0,$r=0;$r<this.i.length;$r++){t:{var en=this.i[$r];if("__data__"in en.map&&(en=en.map.__data__,typeof en=="string")){en=en.length;break t}en=void 0}if(en===void 0)break;if(Fr+=en,4096<Fr){Fr=$r;break e}if(Fr===4096||$r===this.i.length-1){Fr=$r+1;break e}}Fr=1e3}else Fr=1e3;Fr=bc(this,In,Fr),$r=vo(this.I),Ws($r,"RID",dr),Ws($r,"CVER",22),this.D&&Ws($r,"X-HTTP-Session-Id",this.D),rc(this,$r),Hn&&(this.O?Fr="headers="+encodeURIComponent(String(vl(Hn)))+"&"+Fr:this.m&&Fa($r,this.m,Hn)),la(this.h,In),this.Ua&&Ws($r,"TYPE","init"),this.P?(Ws($r,"$req",Fr),Ws($r,"SID","null"),In.T=!0,vi(In,$r,null)):vi(In,$r,Fr),this.G=2}}else this.G==3&&(dr?yc(this,dr):this.i.length==0||Eo(this.h)||yc(this))};function yc(dr,Fr){var $r;Fr?$r=Fr.l:$r=dr.U++;const en=vo(dr.I);Ws(en,"SID",dr.K),Ws(en,"RID",$r),Ws(en,"AID",dr.T),rc(dr,en),dr.m&&dr.o&&Fa(en,dr.m,dr.o),$r=new Jn(dr,dr.j,$r,dr.B+1),dr.m===null&&($r.H=dr.o),Fr&&(dr.i=Fr.D.concat(dr.i)),Fr=bc(dr,$r,1e3),$r.I=Math.round(.5*dr.wa)+Math.round(.5*dr.wa*Math.random()),la(dr.h,$r),vi($r,en,Fr)}function rc(dr,Fr){dr.H&&ar(dr.H,function($r,en){Ws(Fr,en,$r)}),dr.l&&Bl({},function($r,en){Ws(Fr,en,$r)})}function bc(dr,Fr,$r){$r=Math.min(dr.i.length,$r);var en=dr.l?Qe(dr.l.Na,dr.l,dr):null;e:{var In=dr.i;let Hn=-1;for(;;){const oi=["count="+$r];Hn==-1?0<$r?(Hn=In[0].g,oi.push("ofs="+Hn)):Hn=0:oi.push("ofs="+Hn);let os=!0;for(let _s=0;_s<$r;_s++){let As=In[_s].g;const Bs=In[_s].map;if(As-=Hn,0>As)Hn=Math.max(0,In[_s].g-100),os=!1;else try{ya(Bs,oi,"req"+As+"_")}catch{en&&en(Bs)}}if(os){en=oi.join("&");break e}}}return dr=dr.i.splice(0,$r),Fr.D=dr,en}function zc(dr){if(!dr.g&&!dr.u){dr.Y=1;var Fr=dr.Fa;Tr||Pr(),wr||(Tr(),wr=!0),Er.add(Fr,dr),dr.v=0}}function wc(dr){return dr.g||dr.u||3<=dr.v?!1:(dr.Y++,dr.u=Fs(Qe(dr.Fa,dr),_c(dr,dr.v)),dr.v++,!0)}Re.Fa=function(){if(this.u=null,Xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var dr=2*this.R;this.j.info("BP detection timer enabled: "+dr),this.A=Fs(Qe(this.ab,this),dr)}},Re.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Li(10),Qc(this),Xu(this))};function nc(dr){dr.A!=null&&(Oe.clearTimeout(dr.A),dr.A=null)}function Xu(dr){dr.g=new Jn(dr,dr.j,"rpc",dr.Y),dr.m===null&&(dr.g.H=dr.o),dr.g.O=0;var Fr=vo(dr.qa);Ws(Fr,"RID","rpc"),Ws(Fr,"SID",dr.K),Ws(Fr,"AID",dr.T),Ws(Fr,"CI",dr.F?"0":"1"),!dr.F&&dr.ja&&Ws(Fr,"TO",dr.ja),Ws(Fr,"TYPE","xmlhttp"),rc(dr,Fr),dr.m&&dr.o&&Fa(Fr,dr.m,dr.o),dr.L&&(dr.g.I=dr.L);var $r=dr.g;dr=dr.ia,$r.L=1,$r.v=Zl(vo(Fr)),$r.m=null,$r.P=!0,Ii($r,dr)}Re.Za=function(){this.C!=null&&(this.C=null,Qc(this),wc(this),Li(19))};function Ol(dr){dr.C!=null&&(Oe.clearTimeout(dr.C),dr.C=null)}function ic(dr,Fr){var $r=null;if(dr.g==Fr){Ol(dr),nc(dr),dr.g=null;var en=2}else if(Na(dr.h,Fr))$r=Fr.D,uo(dr.h,Fr),en=1;else return;if(dr.G!=0){if(Fr.o)if(en==1){$r=Fr.m?Fr.m.length:0,Fr=Date.now()-Fr.F;var In=dr.B;en=Zi(),Ti(en,new Qs(en,$r)),kl(dr)}else zc(dr);else if(In=Fr.s,In==3||In==0&&0<Fr.X||!(en==1&&vc(dr,Fr)||en==2&&wc(dr)))switch($r&&0<$r.length&&(Fr=dr.h,Fr.i=Fr.i.concat($r)),In){case 1:jo(dr,5);break;case 4:jo(dr,10);break;case 3:jo(dr,6);break;default:jo(dr,2)}}}function _c(dr,Fr){let $r=dr.Ta+Math.floor(Math.random()*dr.cb);return dr.isActive()||($r*=2),$r*Fr}function jo(dr,Fr){if(dr.j.info("Error code "+Fr),Fr==2){var $r=Qe(dr.fb,dr),en=dr.Xa;const In=!en;en=new ks(en||"//www.google.com/images/cleardot.gif"),Oe.location&&Oe.location.protocol=="http"||Xl(en,"https"),Zl(en),In?So(en.toString(),$r):Wo(en.toString(),$r)}else Li(2);dr.G=0,dr.l&&dr.l.sa(Fr),Wc(dr),To(dr)}Re.fb=function(dr){dr?(this.j.info("Successfully pinged google.com"),Li(2)):(this.j.info("Failed to ping google.com"),Li(1))};function Wc(dr){if(dr.G=0,dr.ka=[],dr.l){const Fr=$c(dr.h);(Fr.length!=0||dr.i.length!=0)&&(Xe(dr.ka,Fr),Xe(dr.ka,dr.i),dr.h.i.length=0,Ke(dr.i),dr.i.length=0),dr.l.ra()}}function Rr(dr,Fr,$r){var en=$r instanceof ks?vo($r):new ks($r);if(en.g!="")Fr&&(en.g=Fr+"."+en.g),Jl(en,en.s);else{var In=Oe.location;en=In.protocol,Fr=Fr?Fr+"."+In.hostname:In.hostname,In=+In.port;var Hn=new ks(null);en&&Xl(Hn,en),Fr&&(Hn.g=Fr),In&&Jl(Hn,In),$r&&(Hn.l=$r),en=Hn}return $r=dr.D,Fr=dr.ya,$r&&Fr&&Ws(en,$r,Fr),Ws(en,"VER",dr.la),rc(dr,en),en}function Kr(dr,Fr,$r){if(Fr&&!dr.J)throw Error("Can't create secondary domain capable XhrIo object.");return Fr=dr.Ca&&!dr.pa?new Rs(new gl({eb:$r})):new Rs(dr.pa),Fr.Ha(dr.J),Fr}Re.isActive=function(){return!!this.l&&this.l.isActive(this)};function xn(){}Re=xn.prototype,Re.ua=function(){},Re.ta=function(){},Re.sa=function(){},Re.ra=function(){},Re.isActive=function(){return!0},Re.Na=function(){};function _n(){}_n.prototype.g=function(dr,Fr){return new Fn(dr,Fr)};function Fn(dr,Fr){Si.call(this),this.g=new ol(Fr),this.l=dr,this.h=Fr&&Fr.messageUrlParams||null,dr=Fr&&Fr.messageHeaders||null,Fr&&Fr.clientProtocolHeaderRequired&&(dr?dr["X-Client-Protocol"]="webchannel":dr={"X-Client-Protocol":"webchannel"}),this.g.o=dr,dr=Fr&&Fr.initMessageHeaders||null,Fr&&Fr.messageContentType&&(dr?dr["X-WebChannel-Content-Type"]=Fr.messageContentType:dr={"X-WebChannel-Content-Type":Fr.messageContentType}),Fr&&Fr.va&&(dr?dr["X-WebChannel-Client-Profile"]=Fr.va:dr={"X-WebChannel-Client-Profile":Fr.va}),this.g.S=dr,(dr=Fr&&Fr.Sb)&&!Ze(dr)&&(this.g.m=dr),this.v=Fr&&Fr.supportsCrossDomainXhr||!1,this.u=Fr&&Fr.sendRawJson||!1,(Fr=Fr&&Fr.httpSessionIdParam)&&!Ze(Fr)&&(this.g.D=Fr,dr=this.h,dr!==null&&Fr in dr&&(dr=this.h,Fr in dr&&delete dr[Fr])),this.j=new Vi(this)}qe(Fn,Si),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){bl(this.g)},Fn.prototype.o=function(dr){var Fr=this.g;if(typeof dr=="string"){var $r={};$r.__data__=dr,dr=$r}else this.u&&($r={},$r.__data__=Vn(dr),dr=$r);Fr.i.push(new wo(Fr.Ya++,dr)),Fr.G==3&&kl(Fr)},Fn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,Fn.aa.N.call(this)};function si(dr){ki.call(this),dr.__headers__&&(this.headers=dr.__headers__,this.statusCode=dr.__status__,delete dr.__headers__,delete dr.__status__);var Fr=dr.__sm__;if(Fr){e:{for(const $r in Fr){dr=$r;break e}dr=void 0}(this.i=dr)&&(dr=this.i,Fr=Fr!==null&&dr in Fr?Fr[dr]:void 0),this.data=Fr}else this.data=dr}qe(si,ki);function Ri(){Ai.call(this),this.status=1}qe(Ri,Ai);function Vi(dr){this.g=dr}qe(Vi,xn),Vi.prototype.ua=function(){Ti(this.g,"a")},Vi.prototype.ta=function(dr){Ti(this.g,new si(dr))},Vi.prototype.sa=function(dr){Ti(this.g,new Ri)},Vi.prototype.ra=function(){Ti(this.g,"b")},_n.prototype.createWebChannel=_n.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,createWebChannelTransport=function(){return new _n},getStatEventTarget=function(){return Zi()},Event$1=hi,Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},cn.NO_ERROR=0,cn.TIMEOUT=8,cn.HTTP_ERROR=6,ErrorCode$1=cn,mn.COMPLETE="complete",EventType=mn,xi.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",Si.prototype.listen=Si.prototype.K,WebChannel=xi,FetchXmlHttpFactory=gl,Rs.prototype.listenOnce=Rs.prototype.L,Rs.prototype.getLastError=Rs.prototype.Ka,Rs.prototype.getLastErrorCode=Rs.prototype.Ba,Rs.prototype.getStatus=Rs.prototype.Z,Rs.prototype.getResponseJson=Rs.prototype.Oa,Rs.prototype.getResponseText=Rs.prototype.oa,Rs.prototype.send=Rs.prototype.ea,Rs.prototype.setWithCredentials=Rs.prototype.Ha,XhrIo=Rs}).apply(typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{});const S$1="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(Ce){this.uid=Ce}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(Ce){return Ce.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let b$1="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$1=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return D$1.logLevel}function __PRIVATE_logDebug(Re,...Ce){if(D$1.logLevel<=LogLevel.DEBUG){const je=Ce.map(__PRIVATE_argToString);D$1.debug(`Firestore (${b$1}): ${Re}`,...je)}}function __PRIVATE_logError(Re,...Ce){if(D$1.logLevel<=LogLevel.ERROR){const je=Ce.map(__PRIVATE_argToString);D$1.error(`Firestore (${b$1}): ${Re}`,...je)}}function __PRIVATE_logWarn(Re,...Ce){if(D$1.logLevel<=LogLevel.WARN){const je=Ce.map(__PRIVATE_argToString);D$1.warn(`Firestore (${b$1}): ${Re}`,...je)}}function __PRIVATE_argToString(Re){if(typeof Re=="string")return Re;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(je){return JSON.stringify(je)})(Re)}catch{return Re}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(Re="Unexpected state"){const Ce=`FIRESTORE (${b$1}) INTERNAL ASSERTION FAILED: `+Re;throw __PRIVATE_logError(Ce),new Error(Ce)}function __PRIVATE_hardAssert(Re,Ce){Re||fail()}function __PRIVATE_debugCast(Re,Ce){return Re}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(Ce,je){super(Ce,je),this.code=Ce,this.message=je,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise(((Ce,je)=>{this.resolve=Ce,this.reject=je}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(Ce,je){this.user=je,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${Ce}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(Ce,je){Ce.enqueueRetryable((()=>je(User.UNAUTHENTICATED)))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(Ce){this.token=Ce,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(Ce,je){this.changeListener=je,Ce.enqueueRetryable((()=>je(this.token.user)))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(Ce){this.t=Ce,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(Ce,je){let Be=this.i;const De=Me=>this.i!==Be?(Be=this.i,je(Me)):Promise.resolve();let Fe=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),Fe.resolve(),Fe=new __PRIVATE_Deferred,Ce.enqueueRetryable((()=>De(this.currentUser)))};const ke=()=>{const Me=Fe;Ce.enqueueRetryable((async()=>{await Me.promise,await De(this.currentUser)}))},Oe=Me=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Me,this.auth.addAuthTokenListener(this.o),ke()};this.t.onInit((Me=>Oe(Me))),setTimeout((()=>{if(!this.auth){const Me=this.t.getImmediate({optional:!0});Me?Oe(Me):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),Fe.resolve(),Fe=new __PRIVATE_Deferred)}}),0),ke()}getToken(){const Ce=this.i,je=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(je).then((Be=>this.i!==Ce?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):Be?(__PRIVATE_hardAssert(typeof Be.accessToken=="string"),new __PRIVATE_OAuthToken(Be.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const Ce=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(Ce===null||typeof Ce=="string"),new User(Ce)}}class __PRIVATE_FirstPartyToken{constructor(Ce,je,Be){this.l=Ce,this.h=je,this.P=Be,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const Ce=this.T();return Ce&&this.I.set("Authorization",Ce),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(Ce,je,Be){this.l=Ce,this.h=je,this.P=Be}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(Ce,je){Ce.enqueueRetryable((()=>je(User.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(Ce){this.value=Ce,this.type="AppCheck",this.headers=new Map,Ce&&Ce.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(Ce){this.A=Ce,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(Ce,je){const Be=Fe=>{Fe.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${Fe.error.message}`);const ke=Fe.token!==this.R;return this.R=Fe.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${ke?"new":"existing"} token.`),ke?je(Fe.token):Promise.resolve()};this.o=Fe=>{Ce.enqueueRetryable((()=>Be(Fe)))};const De=Fe=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=Fe,this.appCheck.addTokenListener(this.o)};this.A.onInit((Fe=>De(Fe))),setTimeout((()=>{if(!this.appCheck){const Fe=this.A.getImmediate({optional:!0});Fe?De(Fe):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const Ce=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(Ce).then((je=>je?(__PRIVATE_hardAssert(typeof je.token=="string"),this.R=je.token,new AppCheckToken(je.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(Re){const Ce=typeof self<"u"&&(self.crypto||self.msCrypto),je=new Uint8Array(Re);if(Ce&&typeof Ce.getRandomValues=="function")Ce.getRandomValues(je);else for(let Be=0;Be<Re;Be++)je[Be]=Math.floor(256*Math.random());return je}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const Ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",je=Math.floor(256/Ce.length)*Ce.length;let Be="";for(;Be.length<20;){const De=__PRIVATE_randomBytes(40);for(let Fe=0;Fe<De.length;++Fe)Be.length<20&&De[Fe]<je&&(Be+=Ce.charAt(De[Fe]%Ce.length))}return Be}}function __PRIVATE_primitiveComparator(Re,Ce){return Re<Ce?-1:Re>Ce?1:0}function __PRIVATE_arrayEquals(Re,Ce,je){return Re.length===Ce.length&&Re.every(((Be,De)=>je(Be,Ce[De])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(Ce,je){if(this.seconds=Ce,this.nanoseconds=je,je<0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+je);if(je>=1e9)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+je);if(Ce<-62135596800)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Ce);if(Ce>=253402300800)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Timestamp seconds out of range: "+Ce)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(Ce){return Timestamp.fromMillis(Ce.getTime())}static fromMillis(Ce){const je=Math.floor(Ce/1e3),Be=Math.floor(1e6*(Ce-1e3*je));return new Timestamp(je,Be)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(Ce){return this.seconds===Ce.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,Ce.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,Ce.seconds)}isEqual(Ce){return Ce.seconds===this.seconds&&Ce.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const Ce=this.seconds- -62135596800;return String(Ce).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(Ce){this.timestamp=Ce}static fromTimestamp(Ce){return new SnapshotVersion(Ce)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(Ce){return this.timestamp._compareTo(Ce.timestamp)}isEqual(Ce){return this.timestamp.isEqual(Ce.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(Ce,je,Be){je===void 0?je=0:je>Ce.length&&fail(),Be===void 0?Be=Ce.length-je:Be>Ce.length-je&&fail(),this.segments=Ce,this.offset=je,this.len=Be}get length(){return this.len}isEqual(Ce){return BasePath.comparator(this,Ce)===0}child(Ce){const je=this.segments.slice(this.offset,this.limit());return Ce instanceof BasePath?Ce.forEach((Be=>{je.push(Be)})):je.push(Ce),this.construct(je)}limit(){return this.offset+this.length}popFirst(Ce){return Ce=Ce===void 0?1:Ce,this.construct(this.segments,this.offset+Ce,this.length-Ce)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(Ce){return this.segments[this.offset+Ce]}isEmpty(){return this.length===0}isPrefixOf(Ce){if(Ce.length<this.length)return!1;for(let je=0;je<this.length;je++)if(this.get(je)!==Ce.get(je))return!1;return!0}isImmediateParentOf(Ce){if(this.length+1!==Ce.length)return!1;for(let je=0;je<this.length;je++)if(this.get(je)!==Ce.get(je))return!1;return!0}forEach(Ce){for(let je=this.offset,Be=this.limit();je<Be;je++)Ce(this.segments[je])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(Ce,je){const Be=Math.min(Ce.length,je.length);for(let De=0;De<Be;De++){const Fe=Ce.get(De),ke=je.get(De);if(Fe<ke)return-1;if(Fe>ke)return 1}return Ce.length<je.length?-1:Ce.length>je.length?1:0}}class ResourcePath extends BasePath{construct(Ce,je,Be){return new ResourcePath(Ce,je,Be)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...Ce){const je=[];for(const Be of Ce){if(Be.indexOf("//")>=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid segment (${Be}). Paths must not contain // in them.`);je.push(...Be.split("/").filter((De=>De.length>0)))}return new ResourcePath(je)}static emptyPath(){return new ResourcePath([])}}const v$1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(Ce,je,Be){return new FieldPath$1(Ce,je,Be)}static isValidIdentifier(Ce){return v$1.test(Ce)}canonicalString(){return this.toArray().map((Ce=>(Ce=Ce.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(Ce)||(Ce="`"+Ce+"`"),Ce))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(Ce){const je=[];let Be="",De=0;const Fe=()=>{if(Be.length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid field path (${Ce}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);je.push(Be),Be=""};let ke=!1;for(;De<Ce.length;){const Oe=Ce[De];if(Oe==="\\"){if(De+1===Ce.length)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has trailing escape character: "+Ce);const Me=Ce[De+1];if(Me!=="\\"&&Me!=="."&&Me!=="`")throw new FirestoreError(C$1.INVALID_ARGUMENT,"Path has invalid escape sequence: "+Ce);Be+=Me,De+=2}else Oe==="`"?(ke=!ke,De++):Oe!=="."||ke?(Be+=Oe,De++):(Fe(),De++)}if(Fe(),ke)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Unterminated ` in path: "+Ce);return new FieldPath$1(je)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(Ce){this.path=Ce}static fromPath(Ce){return new DocumentKey(ResourcePath.fromString(Ce))}static fromName(Ce){return new DocumentKey(ResourcePath.fromString(Ce).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(Ce){return this.path.length>=2&&this.path.get(this.path.length-2)===Ce}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(Ce){return Ce!==null&&ResourcePath.comparator(this.path,Ce.path)===0}toString(){return this.path.toString()}static comparator(Ce,je){return ResourcePath.comparator(Ce.path,je.path)}static isDocumentKey(Ce){return Ce.length%2==0}static fromSegments(Ce){return new DocumentKey(new ResourcePath(Ce.slice()))}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(Re,Ce){const je=Re.toTimestamp().seconds,Be=Re.toTimestamp().nanoseconds+1,De=SnapshotVersion.fromTimestamp(Be===1e9?new Timestamp(je+1,0):new Timestamp(je,Be));return new IndexOffset(De,DocumentKey.empty(),Ce)}function __PRIVATE_newIndexOffsetFromDocument(Re){return new IndexOffset(Re.readTime,Re.key,-1)}class IndexOffset{constructor(Ce,je,Be){this.readTime=Ce,this.documentKey=je,this.largestBatchId=Be}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(Re,Ce){let je=Re.readTime.compareTo(Ce.readTime);return je!==0?je:(je=DocumentKey.comparator(Re.documentKey,Ce.documentKey),je!==0?je:__PRIVATE_primitiveComparator(Re.largestBatchId,Ce.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(Ce){this.onCommittedListeners.push(Ce)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((Ce=>Ce()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(Re){if(Re.code!==C$1.FAILED_PRECONDITION||Re.message!==F$3)throw Re;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(Ce){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,Ce((je=>{this.isDone=!0,this.result=je,this.nextCallback&&this.nextCallback(je)}),(je=>{this.isDone=!0,this.error=je,this.catchCallback&&this.catchCallback(je)}))}catch(Ce){return this.next(void 0,Ce)}next(Ce,je){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(je,this.error):this.wrapSuccess(Ce,this.result):new PersistencePromise(((Be,De)=>{this.nextCallback=Fe=>{this.wrapSuccess(Ce,Fe).next(Be,De)},this.catchCallback=Fe=>{this.wrapFailure(je,Fe).next(Be,De)}}))}toPromise(){return new Promise(((Ce,je)=>{this.next(Ce,je)}))}wrapUserFunction(Ce){try{const je=Ce();return je instanceof PersistencePromise?je:PersistencePromise.resolve(je)}catch(je){return PersistencePromise.reject(je)}}wrapSuccess(Ce,je){return Ce?this.wrapUserFunction((()=>Ce(je))):PersistencePromise.resolve(je)}wrapFailure(Ce,je){return Ce?this.wrapUserFunction((()=>Ce(je))):PersistencePromise.reject(je)}static resolve(Ce){return new PersistencePromise(((je,Be)=>{je(Ce)}))}static reject(Ce){return new PersistencePromise(((je,Be)=>{Be(Ce)}))}static waitFor(Ce){return new PersistencePromise(((je,Be)=>{let De=0,Fe=0,ke=!1;Ce.forEach((Oe=>{++De,Oe.next((()=>{++Fe,ke&&Fe===De&&je()}),(Me=>Be(Me)))})),ke=!0,Fe===De&&je()}))}static or(Ce){let je=PersistencePromise.resolve(!1);for(const Be of Ce)je=je.next((De=>De?PersistencePromise.resolve(De):Be()));return je}static forEach(Ce,je){const Be=[];return Ce.forEach(((De,Fe)=>{Be.push(je.call(this,De,Fe))})),this.waitFor(Be)}static mapArray(Ce,je){return new PersistencePromise(((Be,De)=>{const Fe=Ce.length,ke=new Array(Fe);let Oe=0;for(let Me=0;Me<Fe;Me++){const Ue=Me;je(Ce[Ue]).next(($e=>{ke[Ue]=$e,++Oe,Oe===Fe&&Be(ke)}),($e=>De($e)))}}))}static doWhile(Ce,je){return new PersistencePromise(((Be,De)=>{const Fe=()=>{Ce()===!0?je().next((()=>{Fe()}),De):Be()};Fe()}))}}function __PRIVATE_getAndroidVersion(Re){const Ce=Re.match(/Android ([\d.]+)/i),je=Ce?Ce[1].split(".").slice(0,2).join("."):"-1";return Number(je)}function __PRIVATE_isIndexedDbTransactionError(Re){return Re.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(Ce,je){this.previousValue=Ce,je&&(je.sequenceNumberHandler=Be=>this.ie(Be),this.se=Be=>je.writeSequenceNumber(Be))}ie(Ce){return this.previousValue=Math.max(Ce,this.previousValue),this.previousValue}next(){const Ce=++this.previousValue;return this.se&&this.se(Ce),Ce}}__PRIVATE_ListenSequence.oe=-1;function __PRIVATE_isNullOrUndefined(Re){return Re==null}function __PRIVATE_isNegativeZero(Re){return Re===0&&1/Re==-1/0}function isSafeInteger(Re){return typeof Re=="number"&&Number.isInteger(Re)&&!__PRIVATE_isNegativeZero(Re)&&Re<=Number.MAX_SAFE_INTEGER&&Re>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(Re){let Ce=0;for(const je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&Ce++;return Ce}function forEach(Re,Ce){for(const je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&Ce(je,Re[je])}function isEmpty$3(Re){for(const Ce in Re)if(Object.prototype.hasOwnProperty.call(Re,Ce))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(Ce,je){this.comparator=Ce,this.root=je||LLRBNode.EMPTY}insert(Ce,je){return new SortedMap(this.comparator,this.root.insert(Ce,je,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(Ce){return new SortedMap(this.comparator,this.root.remove(Ce,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(Ce){let je=this.root;for(;!je.isEmpty();){const Be=this.comparator(Ce,je.key);if(Be===0)return je.value;Be<0?je=je.left:Be>0&&(je=je.right)}return null}indexOf(Ce){let je=0,Be=this.root;for(;!Be.isEmpty();){const De=this.comparator(Ce,Be.key);if(De===0)return je+Be.left.size;De<0?Be=Be.left:(je+=Be.left.size+1,Be=Be.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(Ce){return this.root.inorderTraversal(Ce)}forEach(Ce){this.inorderTraversal(((je,Be)=>(Ce(je,Be),!1)))}toString(){const Ce=[];return this.inorderTraversal(((je,Be)=>(Ce.push(`${je}:${Be}`),!1))),`{${Ce.join(", ")}}`}reverseTraversal(Ce){return this.root.reverseTraversal(Ce)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(Ce){return new SortedMapIterator(this.root,Ce,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(Ce){return new SortedMapIterator(this.root,Ce,this.comparator,!0)}}class SortedMapIterator{constructor(Ce,je,Be,De){this.isReverse=De,this.nodeStack=[];let Fe=1;for(;!Ce.isEmpty();)if(Fe=je?Be(Ce.key,je):1,je&&De&&(Fe*=-1),Fe<0)Ce=this.isReverse?Ce.left:Ce.right;else{if(Fe===0){this.nodeStack.push(Ce);break}this.nodeStack.push(Ce),Ce=this.isReverse?Ce.right:Ce.left}}getNext(){let Ce=this.nodeStack.pop();const je={key:Ce.key,value:Ce.value};if(this.isReverse)for(Ce=Ce.left;!Ce.isEmpty();)this.nodeStack.push(Ce),Ce=Ce.right;else for(Ce=Ce.right;!Ce.isEmpty();)this.nodeStack.push(Ce),Ce=Ce.left;return je}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const Ce=this.nodeStack[this.nodeStack.length-1];return{key:Ce.key,value:Ce.value}}}class LLRBNode{constructor(Ce,je,Be,De,Fe){this.key=Ce,this.value=je,this.color=Be??LLRBNode.RED,this.left=De??LLRBNode.EMPTY,this.right=Fe??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(Ce,je,Be,De,Fe){return new LLRBNode(Ce??this.key,je??this.value,Be??this.color,De??this.left,Fe??this.right)}isEmpty(){return!1}inorderTraversal(Ce){return this.left.inorderTraversal(Ce)||Ce(this.key,this.value)||this.right.inorderTraversal(Ce)}reverseTraversal(Ce){return this.right.reverseTraversal(Ce)||Ce(this.key,this.value)||this.left.reverseTraversal(Ce)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(Ce,je,Be){let De=this;const Fe=Be(Ce,De.key);return De=Fe<0?De.copy(null,null,null,De.left.insert(Ce,je,Be),null):Fe===0?De.copy(null,je,null,null,null):De.copy(null,null,null,null,De.right.insert(Ce,je,Be)),De.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let Ce=this;return Ce.left.isRed()||Ce.left.left.isRed()||(Ce=Ce.moveRedLeft()),Ce=Ce.copy(null,null,null,Ce.left.removeMin(),null),Ce.fixUp()}remove(Ce,je){let Be,De=this;if(je(Ce,De.key)<0)De.left.isEmpty()||De.left.isRed()||De.left.left.isRed()||(De=De.moveRedLeft()),De=De.copy(null,null,null,De.left.remove(Ce,je),null);else{if(De.left.isRed()&&(De=De.rotateRight()),De.right.isEmpty()||De.right.isRed()||De.right.left.isRed()||(De=De.moveRedRight()),je(Ce,De.key)===0){if(De.right.isEmpty())return LLRBNode.EMPTY;Be=De.right.min(),De=De.copy(Be.key,Be.value,null,null,De.right.removeMin())}De=De.copy(null,null,null,null,De.right.remove(Ce,je))}return De.fixUp()}isRed(){return this.color}fixUp(){let Ce=this;return Ce.right.isRed()&&!Ce.left.isRed()&&(Ce=Ce.rotateLeft()),Ce.left.isRed()&&Ce.left.left.isRed()&&(Ce=Ce.rotateRight()),Ce.left.isRed()&&Ce.right.isRed()&&(Ce=Ce.colorFlip()),Ce}moveRedLeft(){let Ce=this.colorFlip();return Ce.right.left.isRed()&&(Ce=Ce.copy(null,null,null,null,Ce.right.rotateRight()),Ce=Ce.rotateLeft(),Ce=Ce.colorFlip()),Ce}moveRedRight(){let Ce=this.colorFlip();return Ce.left.left.isRed()&&(Ce=Ce.rotateRight(),Ce=Ce.colorFlip()),Ce}rotateLeft(){const Ce=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,Ce,null)}rotateRight(){const Ce=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,Ce)}colorFlip(){const Ce=this.left.copy(null,null,!this.left.color,null,null),je=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,Ce,je)}checkMaxDepth(){const Ce=this.check();return Math.pow(2,Ce)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const Ce=this.left.check();if(Ce!==this.right.check())throw fail();return Ce+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(Ce,je,Be,De,Fe){return this}insert(Ce,je,Be){return new LLRBNode(Ce,je)}remove(Ce,je){return this}isEmpty(){return!0}inorderTraversal(Ce){return!1}reverseTraversal(Ce){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(Ce){this.comparator=Ce,this.data=new SortedMap(this.comparator)}has(Ce){return this.data.get(Ce)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(Ce){return this.data.indexOf(Ce)}forEach(Ce){this.data.inorderTraversal(((je,Be)=>(Ce(je),!1)))}forEachInRange(Ce,je){const Be=this.data.getIteratorFrom(Ce[0]);for(;Be.hasNext();){const De=Be.getNext();if(this.comparator(De.key,Ce[1])>=0)return;je(De.key)}}forEachWhile(Ce,je){let Be;for(Be=je!==void 0?this.data.getIteratorFrom(je):this.data.getIterator();Be.hasNext();)if(!Ce(Be.getNext().key))return}firstAfterOrEqual(Ce){const je=this.data.getIteratorFrom(Ce);return je.hasNext()?je.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(Ce){return new SortedSetIterator(this.data.getIteratorFrom(Ce))}add(Ce){return this.copy(this.data.remove(Ce).insert(Ce,!0))}delete(Ce){return this.has(Ce)?this.copy(this.data.remove(Ce)):this}isEmpty(){return this.data.isEmpty()}unionWith(Ce){let je=this;return je.size<Ce.size&&(je=Ce,Ce=this),Ce.forEach((Be=>{je=je.add(Be)})),je}isEqual(Ce){if(!(Ce instanceof SortedSet)||this.size!==Ce.size)return!1;const je=this.data.getIterator(),Be=Ce.data.getIterator();for(;je.hasNext();){const De=je.getNext().key,Fe=Be.getNext().key;if(this.comparator(De,Fe)!==0)return!1}return!0}toArray(){const Ce=[];return this.forEach((je=>{Ce.push(je)})),Ce}toString(){const Ce=[];return this.forEach((je=>Ce.push(je))),"SortedSet("+Ce.toString()+")"}copy(Ce){const je=new SortedSet(this.comparator);return je.data=Ce,je}}class SortedSetIterator{constructor(Ce){this.iter=Ce}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(Ce){this.fields=Ce,Ce.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(Ce){let je=new SortedSet(FieldPath$1.comparator);for(const Be of this.fields)je=je.add(Be);for(const Be of Ce)je=je.add(Be);return new FieldMask(je.toArray())}covers(Ce){for(const je of this.fields)if(je.isPrefixOf(Ce))return!0;return!1}isEqual(Ce){return __PRIVATE_arrayEquals(this.fields,Ce.fields,((je,Be)=>je.isEqual(Be)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(Ce){this.binaryString=Ce}static fromBase64String(Ce){const je=(function(De){try{return atob(De)}catch(Fe){throw typeof DOMException<"u"&&Fe instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+Fe):Fe}})(Ce);return new ByteString(je)}static fromUint8Array(Ce){const je=(function(De){let Fe="";for(let ke=0;ke<De.length;++ke)Fe+=String.fromCharCode(De[ke]);return Fe})(Ce);return new ByteString(je)}[Symbol.iterator](){let Ce=0;return{next:()=>Ce<this.binaryString.length?{value:this.binaryString.charCodeAt(Ce++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(je){return btoa(je)})(this.binaryString)}toUint8Array(){return(function(je){const Be=new Uint8Array(je.length);for(let De=0;De<je.length;De++)Be[De]=je.charCodeAt(De);return Be})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(Ce){return __PRIVATE_primitiveComparator(this.binaryString,Ce.binaryString)}isEqual(Ce){return this.binaryString===Ce.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ne$2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(Re){if(__PRIVATE_hardAssert(!!Re),typeof Re=="string"){let Ce=0;const je=ne$2.exec(Re);if(__PRIVATE_hardAssert(!!je),je[1]){let De=je[1];De=(De+"000000000").substr(0,9),Ce=Number(De)}const Be=new Date(Re);return{seconds:Math.floor(Be.getTime()/1e3),nanos:Ce}}return{seconds:__PRIVATE_normalizeNumber(Re.seconds),nanos:__PRIVATE_normalizeNumber(Re.nanos)}}function __PRIVATE_normalizeNumber(Re){return typeof Re=="number"?Re:typeof Re=="string"?Number(Re):0}function __PRIVATE_normalizeByteString(Re){return typeof Re=="string"?ByteString.fromBase64String(Re):ByteString.fromUint8Array(Re)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(Re){var Ce,je;return((je=(((Ce=Re?.mapValue)===null||Ce===void 0?void 0:Ce.fields)||{}).__type__)===null||je===void 0?void 0:je.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(Re){const Ce=Re.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(Ce)?__PRIVATE_getPreviousValue(Ce):Ce}function __PRIVATE_getLocalWriteTime(Re){const Ce=__PRIVATE_normalizeTimestamp(Re.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(Ce.seconds,Ce.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(Ce,je,Be,De,Fe,ke,Oe,Me,Ue){this.databaseId=Ce,this.appId=je,this.persistenceKey=Be,this.host=De,this.ssl=Fe,this.forceLongPolling=ke,this.autoDetectLongPolling=Oe,this.longPollingOptions=Me,this.useFetchStreams=Ue}}class DatabaseId{constructor(Ce,je){this.projectId=Ce,this.database=je||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(Ce){return Ce instanceof DatabaseId&&Ce.projectId===this.projectId&&Ce.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re$3={mapValue:{}};function __PRIVATE_typeOrder(Re){return"nullValue"in Re?0:"booleanValue"in Re?1:"integerValue"in Re||"doubleValue"in Re?2:"timestampValue"in Re?3:"stringValue"in Re?5:"bytesValue"in Re?6:"referenceValue"in Re?7:"geoPointValue"in Re?8:"arrayValue"in Re?9:"mapValue"in Re?__PRIVATE_isServerTimestamp(Re)?4:__PRIVATE_isMaxValue(Re)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(Re,Ce){if(Re===Ce)return!0;const je=__PRIVATE_typeOrder(Re);if(je!==__PRIVATE_typeOrder(Ce))return!1;switch(je){case 0:case 9007199254740991:return!0;case 1:return Re.booleanValue===Ce.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(Re).isEqual(__PRIVATE_getLocalWriteTime(Ce));case 3:return(function(De,Fe){if(typeof De.timestampValue=="string"&&typeof Fe.timestampValue=="string"&&De.timestampValue.length===Fe.timestampValue.length)return De.timestampValue===Fe.timestampValue;const ke=__PRIVATE_normalizeTimestamp(De.timestampValue),Oe=__PRIVATE_normalizeTimestamp(Fe.timestampValue);return ke.seconds===Oe.seconds&&ke.nanos===Oe.nanos})(Re,Ce);case 5:return Re.stringValue===Ce.stringValue;case 6:return(function(De,Fe){return __PRIVATE_normalizeByteString(De.bytesValue).isEqual(__PRIVATE_normalizeByteString(Fe.bytesValue))})(Re,Ce);case 7:return Re.referenceValue===Ce.referenceValue;case 8:return(function(De,Fe){return __PRIVATE_normalizeNumber(De.geoPointValue.latitude)===__PRIVATE_normalizeNumber(Fe.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(De.geoPointValue.longitude)===__PRIVATE_normalizeNumber(Fe.geoPointValue.longitude)})(Re,Ce);case 2:return(function(De,Fe){if("integerValue"in De&&"integerValue"in Fe)return __PRIVATE_normalizeNumber(De.integerValue)===__PRIVATE_normalizeNumber(Fe.integerValue);if("doubleValue"in De&&"doubleValue"in Fe){const ke=__PRIVATE_normalizeNumber(De.doubleValue),Oe=__PRIVATE_normalizeNumber(Fe.doubleValue);return ke===Oe?__PRIVATE_isNegativeZero(ke)===__PRIVATE_isNegativeZero(Oe):isNaN(ke)&&isNaN(Oe)}return!1})(Re,Ce);case 9:return __PRIVATE_arrayEquals(Re.arrayValue.values||[],Ce.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return(function(De,Fe){const ke=De.mapValue.fields||{},Oe=Fe.mapValue.fields||{};if(__PRIVATE_objectSize(ke)!==__PRIVATE_objectSize(Oe))return!1;for(const Me in ke)if(ke.hasOwnProperty(Me)&&(Oe[Me]===void 0||!__PRIVATE_valueEquals(ke[Me],Oe[Me])))return!1;return!0})(Re,Ce);default:return fail()}}function __PRIVATE_arrayValueContains(Re,Ce){return(Re.values||[]).find((je=>__PRIVATE_valueEquals(je,Ce)))!==void 0}function __PRIVATE_valueCompare(Re,Ce){if(Re===Ce)return 0;const je=__PRIVATE_typeOrder(Re),Be=__PRIVATE_typeOrder(Ce);if(je!==Be)return __PRIVATE_primitiveComparator(je,Be);switch(je){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(Re.booleanValue,Ce.booleanValue);case 2:return(function(Fe,ke){const Oe=__PRIVATE_normalizeNumber(Fe.integerValue||Fe.doubleValue),Me=__PRIVATE_normalizeNumber(ke.integerValue||ke.doubleValue);return Oe<Me?-1:Oe>Me?1:Oe===Me?0:isNaN(Oe)?isNaN(Me)?0:-1:1})(Re,Ce);case 3:return __PRIVATE_compareTimestamps(Re.timestampValue,Ce.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(Re),__PRIVATE_getLocalWriteTime(Ce));case 5:return __PRIVATE_primitiveComparator(Re.stringValue,Ce.stringValue);case 6:return(function(Fe,ke){const Oe=__PRIVATE_normalizeByteString(Fe),Me=__PRIVATE_normalizeByteString(ke);return Oe.compareTo(Me)})(Re.bytesValue,Ce.bytesValue);case 7:return(function(Fe,ke){const Oe=Fe.split("/"),Me=ke.split("/");for(let Ue=0;Ue<Oe.length&&Ue<Me.length;Ue++){const $e=__PRIVATE_primitiveComparator(Oe[Ue],Me[Ue]);if($e!==0)return $e}return __PRIVATE_primitiveComparator(Oe.length,Me.length)})(Re.referenceValue,Ce.referenceValue);case 8:return(function(Fe,ke){const Oe=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Fe.latitude),__PRIVATE_normalizeNumber(ke.latitude));return Oe!==0?Oe:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(Fe.longitude),__PRIVATE_normalizeNumber(ke.longitude))})(Re.geoPointValue,Ce.geoPointValue);case 9:return(function(Fe,ke){const Oe=Fe.values||[],Me=ke.values||[];for(let Ue=0;Ue<Oe.length&&Ue<Me.length;++Ue){const $e=__PRIVATE_valueCompare(Oe[Ue],Me[Ue]);if($e)return $e}return __PRIVATE_primitiveComparator(Oe.length,Me.length)})(Re.arrayValue,Ce.arrayValue);case 10:return(function(Fe,ke){if(Fe===re$3.mapValue&&ke===re$3.mapValue)return 0;if(Fe===re$3.mapValue)return 1;if(ke===re$3.mapValue)return-1;const Oe=Fe.fields||{},Me=Object.keys(Oe),Ue=ke.fields||{},$e=Object.keys(Ue);Me.sort(),$e.sort();for(let He=0;He<Me.length&&He<$e.length;++He){const Qe=__PRIVATE_primitiveComparator(Me[He],$e[He]);if(Qe!==0)return Qe;const We=__PRIVATE_valueCompare(Oe[Me[He]],Ue[$e[He]]);if(We!==0)return We}return __PRIVATE_primitiveComparator(Me.length,$e.length)})(Re.mapValue,Ce.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(Re,Ce){if(typeof Re=="string"&&typeof Ce=="string"&&Re.length===Ce.length)return __PRIVATE_primitiveComparator(Re,Ce);const je=__PRIVATE_normalizeTimestamp(Re),Be=__PRIVATE_normalizeTimestamp(Ce),De=__PRIVATE_primitiveComparator(je.seconds,Be.seconds);return De!==0?De:__PRIVATE_primitiveComparator(je.nanos,Be.nanos)}function canonicalId(Re){return __PRIVATE_canonifyValue(Re)}function __PRIVATE_canonifyValue(Re){return"nullValue"in Re?"null":"booleanValue"in Re?""+Re.booleanValue:"integerValue"in Re?""+Re.integerValue:"doubleValue"in Re?""+Re.doubleValue:"timestampValue"in Re?(function(je){const Be=__PRIVATE_normalizeTimestamp(je);return`time(${Be.seconds},${Be.nanos})`})(Re.timestampValue):"stringValue"in Re?Re.stringValue:"bytesValue"in Re?(function(je){return __PRIVATE_normalizeByteString(je).toBase64()})(Re.bytesValue):"referenceValue"in Re?(function(je){return DocumentKey.fromName(je).toString()})(Re.referenceValue):"geoPointValue"in Re?(function(je){return`geo(${je.latitude},${je.longitude})`})(Re.geoPointValue):"arrayValue"in Re?(function(je){let Be="[",De=!0;for(const Fe of je.values||[])De?De=!1:Be+=",",Be+=__PRIVATE_canonifyValue(Fe);return Be+"]"})(Re.arrayValue):"mapValue"in Re?(function(je){const Be=Object.keys(je.fields||{}).sort();let De="{",Fe=!0;for(const ke of Be)Fe?Fe=!1:De+=",",De+=`${ke}:${__PRIVATE_canonifyValue(je.fields[ke])}`;return De+"}"})(Re.mapValue):fail()}function __PRIVATE_refValue(Re,Ce){return{referenceValue:`projects/${Re.projectId}/databases/${Re.database}/documents/${Ce.path.canonicalString()}`}}function isInteger(Re){return!!Re&&"integerValue"in Re}function isArray$2(Re){return!!Re&&"arrayValue"in Re}function __PRIVATE_isNullValue(Re){return!!Re&&"nullValue"in Re}function __PRIVATE_isNanValue(Re){return!!Re&&"doubleValue"in Re&&isNaN(Number(Re.doubleValue))}function __PRIVATE_isMapValue(Re){return!!Re&&"mapValue"in Re}function __PRIVATE_deepClone(Re){if(Re.geoPointValue)return{geoPointValue:Object.assign({},Re.geoPointValue)};if(Re.timestampValue&&typeof Re.timestampValue=="object")return{timestampValue:Object.assign({},Re.timestampValue)};if(Re.mapValue){const Ce={mapValue:{fields:{}}};return forEach(Re.mapValue.fields,((je,Be)=>Ce.mapValue.fields[je]=__PRIVATE_deepClone(Be))),Ce}if(Re.arrayValue){const Ce={arrayValue:{values:[]}};for(let je=0;je<(Re.arrayValue.values||[]).length;++je)Ce.arrayValue.values[je]=__PRIVATE_deepClone(Re.arrayValue.values[je]);return Ce}return Object.assign({},Re)}function __PRIVATE_isMaxValue(Re){return(((Re.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(Ce){this.value=Ce}static empty(){return new ObjectValue({mapValue:{}})}field(Ce){if(Ce.isEmpty())return this.value;{let je=this.value;for(let Be=0;Be<Ce.length-1;++Be)if(je=(je.mapValue.fields||{})[Ce.get(Be)],!__PRIVATE_isMapValue(je))return null;return je=(je.mapValue.fields||{})[Ce.lastSegment()],je||null}}set(Ce,je){this.getFieldsMap(Ce.popLast())[Ce.lastSegment()]=__PRIVATE_deepClone(je)}setAll(Ce){let je=FieldPath$1.emptyPath(),Be={},De=[];Ce.forEach(((ke,Oe)=>{if(!je.isImmediateParentOf(Oe)){const Me=this.getFieldsMap(je);this.applyChanges(Me,Be,De),Be={},De=[],je=Oe.popLast()}ke?Be[Oe.lastSegment()]=__PRIVATE_deepClone(ke):De.push(Oe.lastSegment())}));const Fe=this.getFieldsMap(je);this.applyChanges(Fe,Be,De)}delete(Ce){const je=this.field(Ce.popLast());__PRIVATE_isMapValue(je)&&je.mapValue.fields&&delete je.mapValue.fields[Ce.lastSegment()]}isEqual(Ce){return __PRIVATE_valueEquals(this.value,Ce.value)}getFieldsMap(Ce){let je=this.value;je.mapValue.fields||(je.mapValue={fields:{}});for(let Be=0;Be<Ce.length;++Be){let De=je.mapValue.fields[Ce.get(Be)];__PRIVATE_isMapValue(De)&&De.mapValue.fields||(De={mapValue:{fields:{}}},je.mapValue.fields[Ce.get(Be)]=De),je=De}return je.mapValue.fields}applyChanges(Ce,je,Be){forEach(je,((De,Fe)=>Ce[De]=Fe));for(const De of Be)delete Ce[De]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(Re){const Ce=[];return forEach(Re.fields,((je,Be)=>{const De=new FieldPath$1([je]);if(__PRIVATE_isMapValue(Be)){const Fe=__PRIVATE_extractFieldMask(Be.mapValue).fields;if(Fe.length===0)Ce.push(De);else for(const ke of Fe)Ce.push(De.child(ke))}else Ce.push(De)})),new FieldMask(Ce)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(Ce,je,Be,De,Fe,ke,Oe){this.key=Ce,this.documentType=je,this.version=Be,this.readTime=De,this.createTime=Fe,this.data=ke,this.documentState=Oe}static newInvalidDocument(Ce){return new MutableDocument(Ce,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(Ce,je,Be,De){return new MutableDocument(Ce,1,je,SnapshotVersion.min(),Be,De,0)}static newNoDocument(Ce,je){return new MutableDocument(Ce,2,je,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(Ce,je){return new MutableDocument(Ce,3,je,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(Ce,je){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=Ce),this.version=Ce,this.documentType=1,this.data=je,this.documentState=0,this}convertToNoDocument(Ce){return this.version=Ce,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(Ce){return this.version=Ce,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(Ce){return this.readTime=Ce,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(Ce){return Ce instanceof MutableDocument&&this.key.isEqual(Ce.key)&&this.version.isEqual(Ce.version)&&this.documentType===Ce.documentType&&this.documentState===Ce.documentState&&this.data.isEqual(Ce.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(Ce,je){this.position=Ce,this.inclusive=je}}function __PRIVATE_boundCompareToDocument(Re,Ce,je){let Be=0;for(let De=0;De<Re.position.length;De++){const Fe=Ce[De],ke=Re.position[De];if(Fe.field.isKeyField()?Be=DocumentKey.comparator(DocumentKey.fromName(ke.referenceValue),je.key):Be=__PRIVATE_valueCompare(ke,je.data.field(Fe.field)),Fe.dir==="desc"&&(Be*=-1),Be!==0)break}return Be}function __PRIVATE_boundEquals(Re,Ce){if(Re===null)return Ce===null;if(Ce===null||Re.inclusive!==Ce.inclusive||Re.position.length!==Ce.position.length)return!1;for(let je=0;je<Re.position.length;je++)if(!__PRIVATE_valueEquals(Re.position[je],Ce.position[je]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(Ce,je="asc"){this.field=Ce,this.dir=je}}function __PRIVATE_orderByEquals(Re,Ce){return Re.dir===Ce.dir&&Re.field.isEqual(Ce.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(Ce,je,Be){super(),this.field=Ce,this.op=je,this.value=Be}static create(Ce,je,Be){return Ce.isKeyField()?je==="in"||je==="not-in"?this.createKeyFieldInFilter(Ce,je,Be):new __PRIVATE_KeyFieldFilter(Ce,je,Be):je==="array-contains"?new __PRIVATE_ArrayContainsFilter(Ce,Be):je==="in"?new __PRIVATE_InFilter(Ce,Be):je==="not-in"?new __PRIVATE_NotInFilter(Ce,Be):je==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(Ce,Be):new FieldFilter(Ce,je,Be)}static createKeyFieldInFilter(Ce,je,Be){return je==="in"?new __PRIVATE_KeyFieldInFilter(Ce,Be):new __PRIVATE_KeyFieldNotInFilter(Ce,Be)}matches(Ce){const je=Ce.data.field(this.field);return this.op==="!="?je!==null&&this.matchesComparison(__PRIVATE_valueCompare(je,this.value)):je!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(je)&&this.matchesComparison(__PRIVATE_valueCompare(je,this.value))}matchesComparison(Ce){switch(this.op){case"<":return Ce<0;case"<=":return Ce<=0;case"==":return Ce===0;case"!=":return Ce!==0;case">":return Ce>0;case">=":return Ce>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(Ce,je){super(),this.filters=Ce,this.op=je,this.ae=null}static create(Ce,je){return new CompositeFilter(Ce,je)}matches(Ce){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find((je=>!je.matches(Ce)))===void 0:this.filters.find((je=>je.matches(Ce)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((Ce,je)=>Ce.concat(je.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(Re){return Re.op==="and"}function __PRIVATE_compositeFilterIsFlatConjunction(Re){return __PRIVATE_compositeFilterIsFlat(Re)&&__PRIVATE_compositeFilterIsConjunction(Re)}function __PRIVATE_compositeFilterIsFlat(Re){for(const Ce of Re.filters)if(Ce instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(Re){if(Re instanceof FieldFilter)return Re.field.canonicalString()+Re.op.toString()+canonicalId(Re.value);if(__PRIVATE_compositeFilterIsFlatConjunction(Re))return Re.filters.map((Ce=>__PRIVATE_canonifyFilter(Ce))).join(",");{const Ce=Re.filters.map((je=>__PRIVATE_canonifyFilter(je))).join(",");return`${Re.op}(${Ce})`}}function __PRIVATE_filterEquals(Re,Ce){return Re instanceof FieldFilter?(function(Be,De){return De instanceof FieldFilter&&Be.op===De.op&&Be.field.isEqual(De.field)&&__PRIVATE_valueEquals(Be.value,De.value)})(Re,Ce):Re instanceof CompositeFilter?(function(Be,De){return De instanceof CompositeFilter&&Be.op===De.op&&Be.filters.length===De.filters.length?Be.filters.reduce(((Fe,ke,Oe)=>Fe&&__PRIVATE_filterEquals(ke,De.filters[Oe])),!0):!1})(Re,Ce):void fail()}function __PRIVATE_stringifyFilter(Re){return Re instanceof FieldFilter?(function(je){return`${je.field.canonicalString()} ${je.op} ${canonicalId(je.value)}`})(Re):Re instanceof CompositeFilter?(function(je){return je.op.toString()+" {"+je.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"})(Re):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(Ce,je,Be){super(Ce,je,Be),this.key=DocumentKey.fromName(Be.referenceValue)}matches(Ce){const je=DocumentKey.comparator(Ce.key,this.key);return this.matchesComparison(je)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(Ce,je){super(Ce,"in",je),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",je)}matches(Ce){return this.keys.some((je=>je.isEqual(Ce.key)))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(Ce,je){super(Ce,"not-in",je),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",je)}matches(Ce){return!this.keys.some((je=>je.isEqual(Ce.key)))}}function __PRIVATE_extractDocumentKeysFromArrayValue(Re,Ce){var je;return(((je=Ce.arrayValue)===null||je===void 0?void 0:je.values)||[]).map((Be=>DocumentKey.fromName(Be.referenceValue)))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(Ce,je){super(Ce,"array-contains",je)}matches(Ce){const je=Ce.data.field(this.field);return isArray$2(je)&&__PRIVATE_arrayValueContains(je.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(Ce,je){super(Ce,"in",je)}matches(Ce){const je=Ce.data.field(this.field);return je!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,je)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(Ce,je){super(Ce,"not-in",je)}matches(Ce){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const je=Ce.data.field(this.field);return je!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,je)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(Ce,je){super(Ce,"array-contains-any",je)}matches(Ce){const je=Ce.data.field(this.field);return!(!isArray$2(je)||!je.arrayValue.values)&&je.arrayValue.values.some((Be=>__PRIVATE_arrayValueContains(this.value.arrayValue,Be)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(Ce,je=null,Be=[],De=[],Fe=null,ke=null,Oe=null){this.path=Ce,this.collectionGroup=je,this.orderBy=Be,this.filters=De,this.limit=Fe,this.startAt=ke,this.endAt=Oe,this.ue=null}}function __PRIVATE_newTarget(Re,Ce=null,je=[],Be=[],De=null,Fe=null,ke=null){return new __PRIVATE_TargetImpl(Re,Ce,je,Be,De,Fe,ke)}function __PRIVATE_canonifyTarget(Re){const Ce=__PRIVATE_debugCast(Re);if(Ce.ue===null){let je=Ce.path.canonicalString();Ce.collectionGroup!==null&&(je+="|cg:"+Ce.collectionGroup),je+="|f:",je+=Ce.filters.map((Be=>__PRIVATE_canonifyFilter(Be))).join(","),je+="|ob:",je+=Ce.orderBy.map((Be=>(function(Fe){return Fe.field.canonicalString()+Fe.dir})(Be))).join(","),__PRIVATE_isNullOrUndefined(Ce.limit)||(je+="|l:",je+=Ce.limit),Ce.startAt&&(je+="|lb:",je+=Ce.startAt.inclusive?"b:":"a:",je+=Ce.startAt.position.map((Be=>canonicalId(Be))).join(",")),Ce.endAt&&(je+="|ub:",je+=Ce.endAt.inclusive?"a:":"b:",je+=Ce.endAt.position.map((Be=>canonicalId(Be))).join(",")),Ce.ue=je}return Ce.ue}function __PRIVATE_targetEquals(Re,Ce){if(Re.limit!==Ce.limit||Re.orderBy.length!==Ce.orderBy.length)return!1;for(let je=0;je<Re.orderBy.length;je++)if(!__PRIVATE_orderByEquals(Re.orderBy[je],Ce.orderBy[je]))return!1;if(Re.filters.length!==Ce.filters.length)return!1;for(let je=0;je<Re.filters.length;je++)if(!__PRIVATE_filterEquals(Re.filters[je],Ce.filters[je]))return!1;return Re.collectionGroup===Ce.collectionGroup&&!!Re.path.isEqual(Ce.path)&&!!__PRIVATE_boundEquals(Re.startAt,Ce.startAt)&&__PRIVATE_boundEquals(Re.endAt,Ce.endAt)}function __PRIVATE_targetIsDocumentTarget(Re){return DocumentKey.isDocumentKey(Re.path)&&Re.collectionGroup===null&&Re.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(Ce,je=null,Be=[],De=[],Fe=null,ke="F",Oe=null,Me=null){this.path=Ce,this.collectionGroup=je,this.explicitOrderBy=Be,this.filters=De,this.limit=Fe,this.limitType=ke,this.startAt=Oe,this.endAt=Me,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(Re,Ce,je,Be,De,Fe,ke,Oe){return new __PRIVATE_QueryImpl(Re,Ce,je,Be,De,Fe,ke,Oe)}function __PRIVATE_newQueryForPath(Re){return new __PRIVATE_QueryImpl(Re)}function __PRIVATE_queryMatchesAllDocuments(Re){return Re.filters.length===0&&Re.limit===null&&Re.startAt==null&&Re.endAt==null&&(Re.explicitOrderBy.length===0||Re.explicitOrderBy.length===1&&Re.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(Re){return Re.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(Re){const Ce=__PRIVATE_debugCast(Re);if(Ce.ce===null){Ce.ce=[];const je=new Set;for(const Fe of Ce.explicitOrderBy)Ce.ce.push(Fe),je.add(Fe.field.canonicalString());const Be=Ce.explicitOrderBy.length>0?Ce.explicitOrderBy[Ce.explicitOrderBy.length-1].dir:"asc";(function(ke){let Oe=new SortedSet(FieldPath$1.comparator);return ke.filters.forEach((Me=>{Me.getFlattenedFilters().forEach((Ue=>{Ue.isInequality()&&(Oe=Oe.add(Ue.field))}))})),Oe})(Ce).forEach((Fe=>{je.has(Fe.canonicalString())||Fe.isKeyField()||Ce.ce.push(new OrderBy(Fe,Be))})),je.has(FieldPath$1.keyField().canonicalString())||Ce.ce.push(new OrderBy(FieldPath$1.keyField(),Be))}return Ce.ce}function __PRIVATE_queryToTarget(Re){const Ce=__PRIVATE_debugCast(Re);return Ce.le||(Ce.le=__PRIVATE__queryToTarget(Ce,__PRIVATE_queryNormalizedOrderBy(Re))),Ce.le}function __PRIVATE__queryToTarget(Re,Ce){if(Re.limitType==="F")return __PRIVATE_newTarget(Re.path,Re.collectionGroup,Ce,Re.filters,Re.limit,Re.startAt,Re.endAt);{Ce=Ce.map((De=>{const Fe=De.dir==="desc"?"asc":"desc";return new OrderBy(De.field,Fe)}));const je=Re.endAt?new Bound(Re.endAt.position,Re.endAt.inclusive):null,Be=Re.startAt?new Bound(Re.startAt.position,Re.startAt.inclusive):null;return __PRIVATE_newTarget(Re.path,Re.collectionGroup,Ce,Re.filters,Re.limit,je,Be)}}function __PRIVATE_queryWithAddedFilter(Re,Ce){const je=Re.filters.concat([Ce]);return new __PRIVATE_QueryImpl(Re.path,Re.collectionGroup,Re.explicitOrderBy.slice(),je,Re.limit,Re.limitType,Re.startAt,Re.endAt)}function __PRIVATE_queryWithLimit(Re,Ce,je){return new __PRIVATE_QueryImpl(Re.path,Re.collectionGroup,Re.explicitOrderBy.slice(),Re.filters.slice(),Ce,je,Re.startAt,Re.endAt)}function __PRIVATE_queryEquals(Re,Ce){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(Re),__PRIVATE_queryToTarget(Ce))&&Re.limitType===Ce.limitType}function __PRIVATE_canonifyQuery(Re){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(Re))}|lt:${Re.limitType}`}function __PRIVATE_stringifyQuery(Re){return`Query(target=${(function(je){let Be=je.path.canonicalString();return je.collectionGroup!==null&&(Be+=" collectionGroup="+je.collectionGroup),je.filters.length>0&&(Be+=`, filters: [${je.filters.map((De=>__PRIVATE_stringifyFilter(De))).join(", ")}]`),__PRIVATE_isNullOrUndefined(je.limit)||(Be+=", limit: "+je.limit),je.orderBy.length>0&&(Be+=`, orderBy: [${je.orderBy.map((De=>(function(ke){return`${ke.field.canonicalString()} (${ke.dir})`})(De))).join(", ")}]`),je.startAt&&(Be+=", startAt: ",Be+=je.startAt.inclusive?"b:":"a:",Be+=je.startAt.position.map((De=>canonicalId(De))).join(",")),je.endAt&&(Be+=", endAt: ",Be+=je.endAt.inclusive?"a:":"b:",Be+=je.endAt.position.map((De=>canonicalId(De))).join(",")),`Target(${Be})`})(__PRIVATE_queryToTarget(Re))}; limitType=${Re.limitType})`}function __PRIVATE_queryMatches(Re,Ce){return Ce.isFoundDocument()&&(function(Be,De){const Fe=De.key.path;return Be.collectionGroup!==null?De.key.hasCollectionId(Be.collectionGroup)&&Be.path.isPrefixOf(Fe):DocumentKey.isDocumentKey(Be.path)?Be.path.isEqual(Fe):Be.path.isImmediateParentOf(Fe)})(Re,Ce)&&(function(Be,De){for(const Fe of __PRIVATE_queryNormalizedOrderBy(Be))if(!Fe.field.isKeyField()&&De.data.field(Fe.field)===null)return!1;return!0})(Re,Ce)&&(function(Be,De){for(const Fe of Be.filters)if(!Fe.matches(De))return!1;return!0})(Re,Ce)&&(function(Be,De){return!(Be.startAt&&!(function(ke,Oe,Me){const Ue=__PRIVATE_boundCompareToDocument(ke,Oe,Me);return ke.inclusive?Ue<=0:Ue<0})(Be.startAt,__PRIVATE_queryNormalizedOrderBy(Be),De)||Be.endAt&&!(function(ke,Oe,Me){const Ue=__PRIVATE_boundCompareToDocument(ke,Oe,Me);return ke.inclusive?Ue>=0:Ue>0})(Be.endAt,__PRIVATE_queryNormalizedOrderBy(Be),De))})(Re,Ce)}function __PRIVATE_queryCollectionGroup(Re){return Re.collectionGroup||(Re.path.length%2==1?Re.path.lastSegment():Re.path.get(Re.path.length-2))}function __PRIVATE_newQueryComparator(Re){return(Ce,je)=>{let Be=!1;for(const De of __PRIVATE_queryNormalizedOrderBy(Re)){const Fe=__PRIVATE_compareDocs(De,Ce,je);if(Fe!==0)return Fe;Be=Be||De.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(Re,Ce,je){const Be=Re.field.isKeyField()?DocumentKey.comparator(Ce.key,je.key):(function(Fe,ke,Oe){const Me=ke.data.field(Fe),Ue=Oe.data.field(Fe);return Me!==null&&Ue!==null?__PRIVATE_valueCompare(Me,Ue):fail()})(Re.field,Ce,je);switch(Re.dir){case"asc":return Be;case"desc":return-1*Be;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(Ce,je){this.mapKeyFn=Ce,this.equalsFn=je,this.inner={},this.innerSize=0}get(Ce){const je=this.mapKeyFn(Ce),Be=this.inner[je];if(Be!==void 0){for(const[De,Fe]of Be)if(this.equalsFn(De,Ce))return Fe}}has(Ce){return this.get(Ce)!==void 0}set(Ce,je){const Be=this.mapKeyFn(Ce),De=this.inner[Be];if(De===void 0)return this.inner[Be]=[[Ce,je]],void this.innerSize++;for(let Fe=0;Fe<De.length;Fe++)if(this.equalsFn(De[Fe][0],Ce))return void(De[Fe]=[Ce,je]);De.push([Ce,je]),this.innerSize++}delete(Ce){const je=this.mapKeyFn(Ce),Be=this.inner[je];if(Be===void 0)return!1;for(let De=0;De<Be.length;De++)if(this.equalsFn(Be[De][0],Ce))return Be.length===1?delete this.inner[je]:Be.splice(De,1),this.innerSize--,!0;return!1}forEach(Ce){forEach(this.inner,((je,Be)=>{for(const[De,Fe]of Be)Ce(De,Fe)}))}isEmpty(){return isEmpty$3(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se$2=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return se$2}const oe$2=new SortedMap(DocumentKey.comparator);function documentMap(...Re){let Ce=oe$2;for(const je of Re)Ce=Ce.insert(je.key,je);return Ce}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(Re){let Ce=oe$2;return Re.forEach(((je,Be)=>Ce=Ce.insert(je,Be.overlayedDocument))),Ce}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap((Re=>Re.toString()),((Re,Ce)=>Re.isEqual(Ce)))}const _e=new SortedMap(DocumentKey.comparator),ae$1=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...Re){let Ce=ae$1;for(const je of Re)Ce=Ce.add(je);return Ce}const ue$2=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return ue$2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(Re,Ce){if(Re.useProto3Json){if(isNaN(Ce))return{doubleValue:"NaN"};if(Ce===1/0)return{doubleValue:"Infinity"};if(Ce===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(Ce)?"-0":Ce}}function __PRIVATE_toInteger(Re){return{integerValue:""+Re}}function toNumber$1(Re,Ce){return isSafeInteger(Ce)?__PRIVATE_toInteger(Ce):__PRIVATE_toDouble(Re,Ce)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(Re,Ce,je){return Re instanceof __PRIVATE_ServerTimestampTransform?(function(De,Fe){const ke={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:De.seconds,nanos:De.nanoseconds}}}};return Fe&&__PRIVATE_isServerTimestamp(Fe)&&(Fe=__PRIVATE_getPreviousValue(Fe)),Fe&&(ke.fields.__previous_value__=Fe),{mapValue:ke}})(je,Ce):Re instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Re,Ce):Re instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Re,Ce):(function(De,Fe){const ke=__PRIVATE_computeTransformOperationBaseValue(De,Fe),Oe=asNumber$1(ke)+asNumber$1(De.Pe);return isInteger(ke)&&isInteger(De.Pe)?__PRIVATE_toInteger(Oe):__PRIVATE_toDouble(De.serializer,Oe)})(Re,Ce)}function __PRIVATE_applyTransformOperationToRemoteDocument(Re,Ce,je){return Re instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(Re,Ce):Re instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(Re,Ce):je}function __PRIVATE_computeTransformOperationBaseValue(Re,Ce){return Re instanceof __PRIVATE_NumericIncrementTransformOperation?(function(Be){return isInteger(Be)||(function(Fe){return!!Fe&&"doubleValue"in Fe})(Be)})(Ce)?Ce:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(Ce){super(),this.elements=Ce}}function __PRIVATE_applyArrayUnionTransformOperation(Re,Ce){const je=__PRIVATE_coercedFieldValuesArray(Ce);for(const Be of Re.elements)je.some((De=>__PRIVATE_valueEquals(De,Be)))||je.push(Be);return{arrayValue:{values:je}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(Ce){super(),this.elements=Ce}}function __PRIVATE_applyArrayRemoveTransformOperation(Re,Ce){let je=__PRIVATE_coercedFieldValuesArray(Ce);for(const Be of Re.elements)je=je.filter((De=>!__PRIVATE_valueEquals(De,Be)));return{arrayValue:{values:je}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(Ce,je){super(),this.serializer=Ce,this.Pe=je}}function asNumber$1(Re){return __PRIVATE_normalizeNumber(Re.integerValue||Re.doubleValue)}function __PRIVATE_coercedFieldValuesArray(Re){return isArray$2(Re)&&Re.arrayValue.values?Re.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(Ce,je){this.field=Ce,this.transform=je}}function __PRIVATE_fieldTransformEquals(Re,Ce){return Re.field.isEqual(Ce.field)&&(function(Be,De){return Be instanceof __PRIVATE_ArrayUnionTransformOperation&&De instanceof __PRIVATE_ArrayUnionTransformOperation||Be instanceof __PRIVATE_ArrayRemoveTransformOperation&&De instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(Be.elements,De.elements,__PRIVATE_valueEquals):Be instanceof __PRIVATE_NumericIncrementTransformOperation&&De instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(Be.Pe,De.Pe):Be instanceof __PRIVATE_ServerTimestampTransform&&De instanceof __PRIVATE_ServerTimestampTransform})(Re.transform,Ce.transform)}class MutationResult{constructor(Ce,je){this.version=Ce,this.transformResults=je}}class Precondition{constructor(Ce,je){this.updateTime=Ce,this.exists=je}static none(){return new Precondition}static exists(Ce){return new Precondition(void 0,Ce)}static updateTime(Ce){return new Precondition(Ce)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(Ce){return this.exists===Ce.exists&&(this.updateTime?!!Ce.updateTime&&this.updateTime.isEqual(Ce.updateTime):!Ce.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(Re,Ce){return Re.updateTime!==void 0?Ce.isFoundDocument()&&Ce.version.isEqual(Re.updateTime):Re.exists===void 0||Re.exists===Ce.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(Re,Ce){if(!Re.hasLocalMutations||Ce&&Ce.fields.length===0)return null;if(Ce===null)return Re.isNoDocument()?new __PRIVATE_DeleteMutation(Re.key,Precondition.none()):new __PRIVATE_SetMutation(Re.key,Re.data,Precondition.none());{const je=Re.data,Be=ObjectValue.empty();let De=new SortedSet(FieldPath$1.comparator);for(let Fe of Ce.fields)if(!De.has(Fe)){let ke=je.field(Fe);ke===null&&Fe.length>1&&(Fe=Fe.popLast(),ke=je.field(Fe)),ke===null?Be.delete(Fe):Be.set(Fe,ke),De=De.add(Fe)}return new __PRIVATE_PatchMutation(Re.key,Be,new FieldMask(De.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(Re,Ce,je){Re instanceof __PRIVATE_SetMutation?(function(De,Fe,ke){const Oe=De.value.clone(),Me=__PRIVATE_serverTransformResults(De.fieldTransforms,Fe,ke.transformResults);Oe.setAll(Me),Fe.convertToFoundDocument(ke.version,Oe).setHasCommittedMutations()})(Re,Ce,je):Re instanceof __PRIVATE_PatchMutation?(function(De,Fe,ke){if(!__PRIVATE_preconditionIsValidForDocument(De.precondition,Fe))return void Fe.convertToUnknownDocument(ke.version);const Oe=__PRIVATE_serverTransformResults(De.fieldTransforms,Fe,ke.transformResults),Me=Fe.data;Me.setAll(__PRIVATE_getPatch(De)),Me.setAll(Oe),Fe.convertToFoundDocument(ke.version,Me).setHasCommittedMutations()})(Re,Ce,je):(function(De,Fe,ke){Fe.convertToNoDocument(ke.version).setHasCommittedMutations()})(0,Ce,je)}function __PRIVATE_mutationApplyToLocalView(Re,Ce,je,Be){return Re instanceof __PRIVATE_SetMutation?(function(Fe,ke,Oe,Me){if(!__PRIVATE_preconditionIsValidForDocument(Fe.precondition,ke))return Oe;const Ue=Fe.value.clone(),$e=__PRIVATE_localTransformResults(Fe.fieldTransforms,Me,ke);return Ue.setAll($e),ke.convertToFoundDocument(ke.version,Ue).setHasLocalMutations(),null})(Re,Ce,je,Be):Re instanceof __PRIVATE_PatchMutation?(function(Fe,ke,Oe,Me){if(!__PRIVATE_preconditionIsValidForDocument(Fe.precondition,ke))return Oe;const Ue=__PRIVATE_localTransformResults(Fe.fieldTransforms,Me,ke),$e=ke.data;return $e.setAll(__PRIVATE_getPatch(Fe)),$e.setAll(Ue),ke.convertToFoundDocument(ke.version,$e).setHasLocalMutations(),Oe===null?null:Oe.unionWith(Fe.fieldMask.fields).unionWith(Fe.fieldTransforms.map((He=>He.field)))})(Re,Ce,je,Be):(function(Fe,ke,Oe){return __PRIVATE_preconditionIsValidForDocument(Fe.precondition,ke)?(ke.convertToNoDocument(ke.version).setHasLocalMutations(),null):Oe})(Re,Ce,je)}function __PRIVATE_mutationExtractBaseValue(Re,Ce){let je=null;for(const Be of Re.fieldTransforms){const De=Ce.data.field(Be.field),Fe=__PRIVATE_computeTransformOperationBaseValue(Be.transform,De||null);Fe!=null&&(je===null&&(je=ObjectValue.empty()),je.set(Be.field,Fe))}return je||null}function __PRIVATE_mutationEquals(Re,Ce){return Re.type===Ce.type&&!!Re.key.isEqual(Ce.key)&&!!Re.precondition.isEqual(Ce.precondition)&&!!(function(Be,De){return Be===void 0&&De===void 0||!(!Be||!De)&&__PRIVATE_arrayEquals(Be,De,((Fe,ke)=>__PRIVATE_fieldTransformEquals(Fe,ke)))})(Re.fieldTransforms,Ce.fieldTransforms)&&(Re.type===0?Re.value.isEqual(Ce.value):Re.type!==1||Re.data.isEqual(Ce.data)&&Re.fieldMask.isEqual(Ce.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(Ce,je,Be,De=[]){super(),this.key=Ce,this.value=je,this.precondition=Be,this.fieldTransforms=De,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(Ce,je,Be,De,Fe=[]){super(),this.key=Ce,this.data=je,this.fieldMask=Be,this.precondition=De,this.fieldTransforms=Fe,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(Re){const Ce=new Map;return Re.fieldMask.fields.forEach((je=>{if(!je.isEmpty()){const Be=Re.data.field(je);Ce.set(je,Be)}})),Ce}function __PRIVATE_serverTransformResults(Re,Ce,je){const Be=new Map;__PRIVATE_hardAssert(Re.length===je.length);for(let De=0;De<je.length;De++){const Fe=Re[De],ke=Fe.transform,Oe=Ce.data.field(Fe.field);Be.set(Fe.field,__PRIVATE_applyTransformOperationToRemoteDocument(ke,Oe,je[De]))}return Be}function __PRIVATE_localTransformResults(Re,Ce,je){const Be=new Map;for(const De of Re){const Fe=De.transform,ke=je.data.field(De.field);Be.set(De.field,__PRIVATE_applyTransformOperationToLocalView(Fe,ke,Ce))}return Be}class __PRIVATE_DeleteMutation extends Mutation{constructor(Ce,je){super(),this.key=Ce,this.precondition=je,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(Ce,je){super(),this.key=Ce,this.precondition=je,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(Ce,je,Be,De){this.batchId=Ce,this.localWriteTime=je,this.baseMutations=Be,this.mutations=De}applyToRemoteDocument(Ce,je){const Be=je.mutationResults;for(let De=0;De<this.mutations.length;De++){const Fe=this.mutations[De];Fe.key.isEqual(Ce.key)&&__PRIVATE_mutationApplyToRemoteDocument(Fe,Ce,Be[De])}}applyToLocalView(Ce,je){for(const Be of this.baseMutations)Be.key.isEqual(Ce.key)&&(je=__PRIVATE_mutationApplyToLocalView(Be,Ce,je,this.localWriteTime));for(const Be of this.mutations)Be.key.isEqual(Ce.key)&&(je=__PRIVATE_mutationApplyToLocalView(Be,Ce,je,this.localWriteTime));return je}applyToLocalDocumentSet(Ce,je){const Be=__PRIVATE_newMutationMap();return this.mutations.forEach((De=>{const Fe=Ce.get(De.key),ke=Fe.overlayedDocument;let Oe=this.applyToLocalView(ke,Fe.mutatedFields);Oe=je.has(De.key)?null:Oe;const Me=__PRIVATE_calculateOverlayMutation(ke,Oe);Me!==null&&Be.set(De.key,Me),ke.isValidDocument()||ke.convertToNoDocument(SnapshotVersion.min())})),Be}keys(){return this.mutations.reduce(((Ce,je)=>Ce.add(je.key)),__PRIVATE_documentKeySet())}isEqual(Ce){return this.batchId===Ce.batchId&&__PRIVATE_arrayEquals(this.mutations,Ce.mutations,((je,Be)=>__PRIVATE_mutationEquals(je,Be)))&&__PRIVATE_arrayEquals(this.baseMutations,Ce.baseMutations,((je,Be)=>__PRIVATE_mutationEquals(je,Be)))}}class MutationBatchResult{constructor(Ce,je,Be,De){this.batch=Ce,this.commitVersion=je,this.mutationResults=Be,this.docVersions=De}static from(Ce,je,Be){__PRIVATE_hardAssert(Ce.mutations.length===Be.length);let De=(function(){return _e})();const Fe=Ce.mutations;for(let ke=0;ke<Fe.length;ke++)De=De.insert(Fe[ke].key,Be[ke].version);return new MutationBatchResult(Ce,je,Be,De)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(Ce,je){this.largestBatchId=Ce,this.mutation=je}getKey(){return this.mutation.key}isEqual(Ce){return Ce!==null&&this.mutation===Ce.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(Ce,je){this.count=Ce,this.unchangedNames=je}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce$1,le$2;function __PRIVATE_isPermanentError(Re){switch(Re){default:return fail();case C$1.CANCELLED:case C$1.UNKNOWN:case C$1.DEADLINE_EXCEEDED:case C$1.RESOURCE_EXHAUSTED:case C$1.INTERNAL:case C$1.UNAVAILABLE:case C$1.UNAUTHENTICATED:return!1;case C$1.INVALID_ARGUMENT:case C$1.NOT_FOUND:case C$1.ALREADY_EXISTS:case C$1.PERMISSION_DENIED:case C$1.FAILED_PRECONDITION:case C$1.ABORTED:case C$1.OUT_OF_RANGE:case C$1.UNIMPLEMENTED:case C$1.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(Re){if(Re===void 0)return __PRIVATE_logError("GRPC error has no .code"),C$1.UNKNOWN;switch(Re){case ce$1.OK:return C$1.OK;case ce$1.CANCELLED:return C$1.CANCELLED;case ce$1.UNKNOWN:return C$1.UNKNOWN;case ce$1.DEADLINE_EXCEEDED:return C$1.DEADLINE_EXCEEDED;case ce$1.RESOURCE_EXHAUSTED:return C$1.RESOURCE_EXHAUSTED;case ce$1.INTERNAL:return C$1.INTERNAL;case ce$1.UNAVAILABLE:return C$1.UNAVAILABLE;case ce$1.UNAUTHENTICATED:return C$1.UNAUTHENTICATED;case ce$1.INVALID_ARGUMENT:return C$1.INVALID_ARGUMENT;case ce$1.NOT_FOUND:return C$1.NOT_FOUND;case ce$1.ALREADY_EXISTS:return C$1.ALREADY_EXISTS;case ce$1.PERMISSION_DENIED:return C$1.PERMISSION_DENIED;case ce$1.FAILED_PRECONDITION:return C$1.FAILED_PRECONDITION;case ce$1.ABORTED:return C$1.ABORTED;case ce$1.OUT_OF_RANGE:return C$1.OUT_OF_RANGE;case ce$1.UNIMPLEMENTED:return C$1.UNIMPLEMENTED;case ce$1.DATA_LOSS:return C$1.DATA_LOSS;default:return fail()}}(le$2=ce$1||(ce$1={}))[le$2.OK=0]="OK",le$2[le$2.CANCELLED=1]="CANCELLED",le$2[le$2.UNKNOWN=2]="UNKNOWN",le$2[le$2.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le$2[le$2.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le$2[le$2.NOT_FOUND=5]="NOT_FOUND",le$2[le$2.ALREADY_EXISTS=6]="ALREADY_EXISTS",le$2[le$2.PERMISSION_DENIED=7]="PERMISSION_DENIED",le$2[le$2.UNAUTHENTICATED=16]="UNAUTHENTICATED",le$2[le$2.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le$2[le$2.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le$2[le$2.ABORTED=10]="ABORTED",le$2[le$2.OUT_OF_RANGE=11]="OUT_OF_RANGE",le$2[le$2.UNIMPLEMENTED=12]="UNIMPLEMENTED",le$2[le$2.INTERNAL=13]="INTERNAL",le$2[le$2.UNAVAILABLE=14]="UNAVAILABLE",le$2[le$2.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pe=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(Re){const Ce=__PRIVATE_newTextEncoder().encode(Re),je=new Md5;return je.update(Ce),new Uint8Array(je.digest())}function __PRIVATE_get64BitUints(Re){const Ce=new DataView(Re.buffer),je=Ce.getUint32(0,!0),Be=Ce.getUint32(4,!0),De=Ce.getUint32(8,!0),Fe=Ce.getUint32(12,!0);return[new Integer([je,Be],0),new Integer([De,Fe],0)]}class BloomFilter{constructor(Ce,je,Be){if(this.bitmap=Ce,this.padding=je,this.hashCount=Be,je<0||je>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${je}`);if(Be<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Be}`);if(Ce.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${Be}`);if(Ce.length===0&&je!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${je}`);this.Ie=8*Ce.length-je,this.Te=Integer.fromNumber(this.Ie)}Ee(Ce,je,Be){let De=Ce.add(je.multiply(Integer.fromNumber(Be)));return De.compare(Pe)===1&&(De=new Integer([De.getBits(0),De.getBits(1)],0)),De.modulo(this.Te).toNumber()}de(Ce){return(this.bitmap[Math.floor(Ce/8)]&1<<Ce%8)!=0}mightContain(Ce){if(this.Ie===0)return!1;const je=__PRIVATE_getMd5HashValue(Ce),[Be,De]=__PRIVATE_get64BitUints(je);for(let Fe=0;Fe<this.hashCount;Fe++){const ke=this.Ee(Be,De,Fe);if(!this.de(ke))return!1}return!0}static create(Ce,je,Be){const De=Ce%8==0?0:8-Ce%8,Fe=new Uint8Array(Math.ceil(Ce/8)),ke=new BloomFilter(Fe,De,je);return Be.forEach((Oe=>ke.insert(Oe))),ke}insert(Ce){if(this.Ie===0)return;const je=__PRIVATE_getMd5HashValue(Ce),[Be,De]=__PRIVATE_get64BitUints(je);for(let Fe=0;Fe<this.hashCount;Fe++){const ke=this.Ee(Be,De,Fe);this.Ae(ke)}}Ae(Ce){const je=Math.floor(Ce/8),Be=Ce%8;this.bitmap[je]|=1<<Be}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(Ce,je,Be,De,Fe){this.snapshotVersion=Ce,this.targetChanges=je,this.targetMismatches=Be,this.documentUpdates=De,this.resolvedLimboDocuments=Fe}static createSynthesizedRemoteEventForCurrentChange(Ce,je,Be){const De=new Map;return De.set(Ce,TargetChange.createSynthesizedTargetChangeForCurrentChange(Ce,je,Be)),new RemoteEvent(SnapshotVersion.min(),De,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(Ce,je,Be,De,Fe){this.resumeToken=Ce,this.current=je,this.addedDocuments=Be,this.modifiedDocuments=De,this.removedDocuments=Fe}static createSynthesizedTargetChangeForCurrentChange(Ce,je,Be){return new TargetChange(Be,je,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(Ce,je,Be,De){this.Re=Ce,this.removedTargetIds=je,this.key=Be,this.Ve=De}}class __PRIVATE_ExistenceFilterChange{constructor(Ce,je){this.targetId=Ce,this.me=je}}class __PRIVATE_WatchTargetChange{constructor(Ce,je,Be=ByteString.EMPTY_BYTE_STRING,De=null){this.state=Ce,this.targetIds=je,this.resumeToken=Be,this.cause=De}}class __PRIVATE_TargetState{constructor(){this.fe=0,this.ge=__PRIVATE_snapshotChangesMap(),this.pe=ByteString.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(Ce){Ce.approximateByteSize()>0&&(this.we=!0,this.pe=Ce)}Ce(){let Ce=__PRIVATE_documentKeySet(),je=__PRIVATE_documentKeySet(),Be=__PRIVATE_documentKeySet();return this.ge.forEach(((De,Fe)=>{switch(Fe){case 0:Ce=Ce.add(De);break;case 2:je=je.add(De);break;case 1:Be=Be.add(De);break;default:fail()}})),new TargetChange(this.pe,this.ye,Ce,je,Be)}ve(){this.we=!1,this.ge=__PRIVATE_snapshotChangesMap()}Fe(Ce,je){this.we=!0,this.ge=this.ge.insert(Ce,je)}Me(Ce){this.we=!0,this.ge=this.ge.remove(Ce)}xe(){this.fe+=1}Oe(){this.fe-=1,__PRIVATE_hardAssert(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class __PRIVATE_WatchChangeAggregator{constructor(Ce){this.Le=Ce,this.Be=new Map,this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator)}Ke(Ce){for(const je of Ce.Re)Ce.Ve&&Ce.Ve.isFoundDocument()?this.$e(je,Ce.Ve):this.Ue(je,Ce.key,Ce.Ve);for(const je of Ce.removedTargetIds)this.Ue(je,Ce.key,Ce.Ve)}We(Ce){this.forEachTarget(Ce,(je=>{const Be=this.Ge(je);switch(Ce.state){case 0:this.ze(je)&&Be.De(Ce.resumeToken);break;case 1:Be.Oe(),Be.Se||Be.ve(),Be.De(Ce.resumeToken);break;case 2:Be.Oe(),Be.Se||this.removeTarget(je);break;case 3:this.ze(je)&&(Be.Ne(),Be.De(Ce.resumeToken));break;case 4:this.ze(je)&&(this.je(je),Be.De(Ce.resumeToken));break;default:fail()}}))}forEachTarget(Ce,je){Ce.targetIds.length>0?Ce.targetIds.forEach(je):this.Be.forEach(((Be,De)=>{this.ze(De)&&je(De)}))}He(Ce){const je=Ce.targetId,Be=Ce.me.count,De=this.Je(je);if(De){const Fe=De.target;if(__PRIVATE_targetIsDocumentTarget(Fe))if(Be===0){const ke=new DocumentKey(Fe.path);this.Ue(je,ke,MutableDocument.newNoDocument(ke,SnapshotVersion.min()))}else __PRIVATE_hardAssert(Be===1);else{const ke=this.Ye(je);if(ke!==Be){const Oe=this.Ze(Ce),Me=Oe?this.Xe(Oe,Ce,ke):1;if(Me!==0){this.je(je);const Ue=Me===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(je,Ue)}}}}}Ze(Ce){const je=Ce.me.unchangedNames;if(!je||!je.bits)return null;const{bits:{bitmap:Be="",padding:De=0},hashCount:Fe=0}=je;let ke,Oe;try{ke=__PRIVATE_normalizeByteString(Be).toUint8Array()}catch(Me){if(Me instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+Me.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw Me}try{Oe=new BloomFilter(ke,De,Fe)}catch(Me){return __PRIVATE_logWarn(Me instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",Me),null}return Oe.Ie===0?null:Oe}Xe(Ce,je,Be){return je.me.count===Be-this.nt(Ce,je.targetId)?0:2}nt(Ce,je){const Be=this.Le.getRemoteKeysForTarget(je);let De=0;return Be.forEach((Fe=>{const ke=this.Le.tt(),Oe=`projects/${ke.projectId}/databases/${ke.database}/documents/${Fe.path.canonicalString()}`;Ce.mightContain(Oe)||(this.Ue(je,Fe,null),De++)})),De}rt(Ce){const je=new Map;this.Be.forEach(((Fe,ke)=>{const Oe=this.Je(ke);if(Oe){if(Fe.current&&__PRIVATE_targetIsDocumentTarget(Oe.target)){const Me=new DocumentKey(Oe.target.path);this.ke.get(Me)!==null||this.it(ke,Me)||this.Ue(ke,Me,MutableDocument.newNoDocument(Me,Ce))}Fe.be&&(je.set(ke,Fe.Ce()),Fe.ve())}}));let Be=__PRIVATE_documentKeySet();this.qe.forEach(((Fe,ke)=>{let Oe=!0;ke.forEachWhile((Me=>{const Ue=this.Je(Me);return!Ue||Ue.purpose==="TargetPurposeLimboResolution"||(Oe=!1,!1)})),Oe&&(Be=Be.add(Fe))})),this.ke.forEach(((Fe,ke)=>ke.setReadTime(Ce)));const De=new RemoteEvent(Ce,je,this.Qe,this.ke,Be);return this.ke=__PRIVATE_mutableDocumentMap(),this.qe=__PRIVATE_documentTargetMap(),this.Qe=new SortedMap(__PRIVATE_primitiveComparator),De}$e(Ce,je){if(!this.ze(Ce))return;const Be=this.it(Ce,je.key)?2:0;this.Ge(Ce).Fe(je.key,Be),this.ke=this.ke.insert(je.key,je),this.qe=this.qe.insert(je.key,this.st(je.key).add(Ce))}Ue(Ce,je,Be){if(!this.ze(Ce))return;const De=this.Ge(Ce);this.it(Ce,je)?De.Fe(je,1):De.Me(je),this.qe=this.qe.insert(je,this.st(je).delete(Ce)),Be&&(this.ke=this.ke.insert(je,Be))}removeTarget(Ce){this.Be.delete(Ce)}Ye(Ce){const je=this.Ge(Ce).Ce();return this.Le.getRemoteKeysForTarget(Ce).size+je.addedDocuments.size-je.removedDocuments.size}xe(Ce){this.Ge(Ce).xe()}Ge(Ce){let je=this.Be.get(Ce);return je||(je=new __PRIVATE_TargetState,this.Be.set(Ce,je)),je}st(Ce){let je=this.qe.get(Ce);return je||(je=new SortedSet(__PRIVATE_primitiveComparator),this.qe=this.qe.insert(Ce,je)),je}ze(Ce){const je=this.Je(Ce)!==null;return je||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",Ce),je}Je(Ce){const je=this.Be.get(Ce);return je&&je.Se?null:this.Le.ot(Ce)}je(Ce){this.Be.set(Ce,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(Ce).forEach((je=>{this.Ue(Ce,je,null)}))}it(Ce,je){return this.Le.getRemoteKeysForTarget(Ce).has(je)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const Ie={asc:"ASCENDING",desc:"DESCENDING"},Te$1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ee={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(Ce,je){this.databaseId=Ce,this.useProto3Json=je}}function __PRIVATE_toInt32Proto(Re,Ce){return Re.useProto3Json||__PRIVATE_isNullOrUndefined(Ce)?Ce:{value:Ce}}function toTimestamp(Re,Ce){return Re.useProto3Json?`${new Date(1e3*Ce.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+Ce.nanoseconds).slice(-9)}Z`:{seconds:""+Ce.seconds,nanos:Ce.nanoseconds}}function __PRIVATE_toBytes(Re,Ce){return Re.useProto3Json?Ce.toBase64():Ce.toUint8Array()}function __PRIVATE_toVersion(Re,Ce){return toTimestamp(Re,Ce.toTimestamp())}function __PRIVATE_fromVersion(Re){return __PRIVATE_hardAssert(!!Re),SnapshotVersion.fromTimestamp((function(je){const Be=__PRIVATE_normalizeTimestamp(je);return new Timestamp(Be.seconds,Be.nanos)})(Re))}function __PRIVATE_toResourceName(Re,Ce){return __PRIVATE_toResourcePath(Re,Ce).canonicalString()}function __PRIVATE_toResourcePath(Re,Ce){const je=(function(De){return new ResourcePath(["projects",De.projectId,"databases",De.database])})(Re).child("documents");return Ce===void 0?je:je.child(Ce)}function __PRIVATE_fromResourceName(Re){const Ce=ResourcePath.fromString(Re);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Ce)),Ce}function __PRIVATE_toName(Re,Ce){return __PRIVATE_toResourceName(Re.databaseId,Ce.path)}function fromName(Re,Ce){const je=__PRIVATE_fromResourceName(Ce);if(je.get(1)!==Re.databaseId.projectId)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+je.get(1)+" vs "+Re.databaseId.projectId);if(je.get(3)!==Re.databaseId.database)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+je.get(3)+" vs "+Re.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(je))}function __PRIVATE_toQueryPath(Re,Ce){return __PRIVATE_toResourceName(Re.databaseId,Ce)}function __PRIVATE_fromQueryPath(Re){const Ce=__PRIVATE_fromResourceName(Re);return Ce.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(Ce)}function __PRIVATE_getEncodedDatabaseId(Re){return new ResourcePath(["projects",Re.databaseId.projectId,"databases",Re.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(Re){return __PRIVATE_hardAssert(Re.length>4&&Re.get(4)==="documents"),Re.popFirst(5)}function __PRIVATE_toMutationDocument(Re,Ce,je){return{name:__PRIVATE_toName(Re,Ce),fields:je.value.mapValue.fields}}function __PRIVATE_fromWatchChange(Re,Ce){let je;if("targetChange"in Ce){Ce.targetChange;const Be=(function(Ue){return Ue==="NO_CHANGE"?0:Ue==="ADD"?1:Ue==="REMOVE"?2:Ue==="CURRENT"?3:Ue==="RESET"?4:fail()})(Ce.targetChange.targetChangeType||"NO_CHANGE"),De=Ce.targetChange.targetIds||[],Fe=(function(Ue,$e){return Ue.useProto3Json?(__PRIVATE_hardAssert($e===void 0||typeof $e=="string"),ByteString.fromBase64String($e||"")):(__PRIVATE_hardAssert($e===void 0||$e instanceof Buffer||$e instanceof Uint8Array),ByteString.fromUint8Array($e||new Uint8Array))})(Re,Ce.targetChange.resumeToken),ke=Ce.targetChange.cause,Oe=ke&&(function(Ue){const $e=Ue.code===void 0?C$1.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(Ue.code);return new FirestoreError($e,Ue.message||"")})(ke);je=new __PRIVATE_WatchTargetChange(Be,De,Fe,Oe||null)}else if("documentChange"in Ce){Ce.documentChange;const Be=Ce.documentChange;Be.document,Be.document.name,Be.document.updateTime;const De=fromName(Re,Be.document.name),Fe=__PRIVATE_fromVersion(Be.document.updateTime),ke=Be.document.createTime?__PRIVATE_fromVersion(Be.document.createTime):SnapshotVersion.min(),Oe=new ObjectValue({mapValue:{fields:Be.document.fields}}),Me=MutableDocument.newFoundDocument(De,Fe,ke,Oe),Ue=Be.targetIds||[],$e=Be.removedTargetIds||[];je=new __PRIVATE_DocumentWatchChange(Ue,$e,Me.key,Me)}else if("documentDelete"in Ce){Ce.documentDelete;const Be=Ce.documentDelete;Be.document;const De=fromName(Re,Be.document),Fe=Be.readTime?__PRIVATE_fromVersion(Be.readTime):SnapshotVersion.min(),ke=MutableDocument.newNoDocument(De,Fe),Oe=Be.removedTargetIds||[];je=new __PRIVATE_DocumentWatchChange([],Oe,ke.key,ke)}else if("documentRemove"in Ce){Ce.documentRemove;const Be=Ce.documentRemove;Be.document;const De=fromName(Re,Be.document),Fe=Be.removedTargetIds||[];je=new __PRIVATE_DocumentWatchChange([],Fe,De,null)}else{if(!("filter"in Ce))return fail();{Ce.filter;const Be=Ce.filter;Be.targetId;const{count:De=0,unchangedNames:Fe}=Be,ke=new ExistenceFilter(De,Fe),Oe=Be.targetId;je=new __PRIVATE_ExistenceFilterChange(Oe,ke)}}return je}function toMutation(Re,Ce){let je;if(Ce instanceof __PRIVATE_SetMutation)je={update:__PRIVATE_toMutationDocument(Re,Ce.key,Ce.value)};else if(Ce instanceof __PRIVATE_DeleteMutation)je={delete:__PRIVATE_toName(Re,Ce.key)};else if(Ce instanceof __PRIVATE_PatchMutation)je={update:__PRIVATE_toMutationDocument(Re,Ce.key,Ce.data),updateMask:__PRIVATE_toDocumentMask(Ce.fieldMask)};else{if(!(Ce instanceof __PRIVATE_VerifyMutation))return fail();je={verify:__PRIVATE_toName(Re,Ce.key)}}return Ce.fieldTransforms.length>0&&(je.updateTransforms=Ce.fieldTransforms.map((Be=>(function(Fe,ke){const Oe=ke.transform;if(Oe instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:ke.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(Oe instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:ke.field.canonicalString(),appendMissingElements:{values:Oe.elements}};if(Oe instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:ke.field.canonicalString(),removeAllFromArray:{values:Oe.elements}};if(Oe instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:ke.field.canonicalString(),increment:Oe.Pe};throw fail()})(0,Be)))),Ce.precondition.isNone||(je.currentDocument=(function(De,Fe){return Fe.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(De,Fe.updateTime)}:Fe.exists!==void 0?{exists:Fe.exists}:fail()})(Re,Ce.precondition)),je}function __PRIVATE_fromWriteResults(Re,Ce){return Re&&Re.length>0?(__PRIVATE_hardAssert(Ce!==void 0),Re.map((je=>(function(De,Fe){let ke=De.updateTime?__PRIVATE_fromVersion(De.updateTime):__PRIVATE_fromVersion(Fe);return ke.isEqual(SnapshotVersion.min())&&(ke=__PRIVATE_fromVersion(Fe)),new MutationResult(ke,De.transformResults||[])})(je,Ce)))):[]}function __PRIVATE_toDocumentsTarget(Re,Ce){return{documents:[__PRIVATE_toQueryPath(Re,Ce.path)]}}function __PRIVATE_toQueryTarget(Re,Ce){const je={structuredQuery:{}},Be=Ce.path;let De;Ce.collectionGroup!==null?(De=Be,je.structuredQuery.from=[{collectionId:Ce.collectionGroup,allDescendants:!0}]):(De=Be.popLast(),je.structuredQuery.from=[{collectionId:Be.lastSegment()}]),je.parent=__PRIVATE_toQueryPath(Re,De);const Fe=(function(Ue){if(Ue.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(Ue,"and"))})(Ce.filters);Fe&&(je.structuredQuery.where=Fe);const ke=(function(Ue){if(Ue.length!==0)return Ue.map(($e=>(function(Qe){return{field:__PRIVATE_toFieldPathReference(Qe.field),direction:__PRIVATE_toDirection(Qe.dir)}})($e)))})(Ce.orderBy);ke&&(je.structuredQuery.orderBy=ke);const Oe=__PRIVATE_toInt32Proto(Re,Ce.limit);return Oe!==null&&(je.structuredQuery.limit=Oe),Ce.startAt&&(je.structuredQuery.startAt=(function(Ue){return{before:Ue.inclusive,values:Ue.position}})(Ce.startAt)),Ce.endAt&&(je.structuredQuery.endAt=(function(Ue){return{before:!Ue.inclusive,values:Ue.position}})(Ce.endAt)),{_t:je,parent:De}}function __PRIVATE_convertQueryTargetToQuery(Re){let Ce=__PRIVATE_fromQueryPath(Re.parent);const je=Re.structuredQuery,Be=je.from?je.from.length:0;let De=null;if(Be>0){__PRIVATE_hardAssert(Be===1);const $e=je.from[0];$e.allDescendants?De=$e.collectionId:Ce=Ce.child($e.collectionId)}let Fe=[];je.where&&(Fe=(function(He){const Qe=__PRIVATE_fromFilter(He);return Qe instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(Qe)?Qe.getFilters():[Qe]})(je.where));let ke=[];je.orderBy&&(ke=(function(He){return He.map((Qe=>(function(qe){return new OrderBy(__PRIVATE_fromFieldPathReference(qe.field),(function(Xe){switch(Xe){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(qe.direction))})(Qe)))})(je.orderBy));let Oe=null;je.limit&&(Oe=(function(He){let Qe;return Qe=typeof He=="object"?He.value:He,__PRIVATE_isNullOrUndefined(Qe)?null:Qe})(je.limit));let Me=null;je.startAt&&(Me=(function(He){const Qe=!!He.before,We=He.values||[];return new Bound(We,Qe)})(je.startAt));let Ue=null;return je.endAt&&(Ue=(function(He){const Qe=!He.before,We=He.values||[];return new Bound(We,Qe)})(je.endAt)),__PRIVATE_newQuery(Ce,De,ke,Fe,Oe,"F",Me,Ue)}function __PRIVATE_toListenRequestLabels(Re,Ce){const je=(function(De){switch(De){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}})(Ce.purpose);return je==null?null:{"goog-listen-tags":je}}function __PRIVATE_fromFilter(Re){return Re.unaryFilter!==void 0?(function(je){switch(je.unaryFilter.op){case"IS_NAN":const Be=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(Be,"==",{doubleValue:NaN});case"IS_NULL":const De=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(De,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const Fe=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(Fe,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const ke=__PRIVATE_fromFieldPathReference(je.unaryFilter.field);return FieldFilter.create(ke,"!=",{nullValue:"NULL_VALUE"});default:return fail()}})(Re):Re.fieldFilter!==void 0?(function(je){return FieldFilter.create(__PRIVATE_fromFieldPathReference(je.fieldFilter.field),(function(De){switch(De){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}})(je.fieldFilter.op),je.fieldFilter.value)})(Re):Re.compositeFilter!==void 0?(function(je){return CompositeFilter.create(je.compositeFilter.filters.map((Be=>__PRIVATE_fromFilter(Be))),(function(De){switch(De){case"AND":return"and";case"OR":return"or";default:return fail()}})(je.compositeFilter.op))})(Re):fail()}function __PRIVATE_toDirection(Re){return Ie[Re]}function __PRIVATE_toOperatorName(Re){return Te$1[Re]}function __PRIVATE_toCompositeOperatorName(Re){return Ee[Re]}function __PRIVATE_toFieldPathReference(Re){return{fieldPath:Re.canonicalString()}}function __PRIVATE_fromFieldPathReference(Re){return FieldPath$1.fromServerFormat(Re.fieldPath)}function __PRIVATE_toFilter(Re){return Re instanceof FieldFilter?(function(je){if(je.op==="=="){if(__PRIVATE_isNanValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NULL"}}}else if(je.op==="!="){if(__PRIVATE_isNanValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(je.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(je.field),op:__PRIVATE_toOperatorName(je.op),value:je.value}}})(Re):Re instanceof CompositeFilter?(function(je){const Be=je.getFilters().map((De=>__PRIVATE_toFilter(De)));return Be.length===1?Be[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(je.op),filters:Be}}})(Re):fail()}function __PRIVATE_toDocumentMask(Re){const Ce=[];return Re.fields.forEach((je=>Ce.push(je.canonicalString()))),{fieldPaths:Ce}}function __PRIVATE_isValidResourceName(Re){return Re.length>=4&&Re.get(0)==="projects"&&Re.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(Ce,je,Be,De,Fe=SnapshotVersion.min(),ke=SnapshotVersion.min(),Oe=ByteString.EMPTY_BYTE_STRING,Me=null){this.target=Ce,this.targetId=je,this.purpose=Be,this.sequenceNumber=De,this.snapshotVersion=Fe,this.lastLimboFreeSnapshotVersion=ke,this.resumeToken=Oe,this.expectedCount=Me}withSequenceNumber(Ce){return new TargetData(this.target,this.targetId,this.purpose,Ce,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(Ce,je){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,je,this.lastLimboFreeSnapshotVersion,Ce,null)}withExpectedCount(Ce){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,Ce)}withLastLimboFreeSnapshotVersion(Ce){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,Ce,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(Ce){this.ct=Ce}}function __PRIVATE_fromBundledQuery(Re){const Ce=__PRIVATE_convertQueryTargetToQuery({parent:Re.parent,structuredQuery:Re.structuredQuery});return Re.limitType==="LAST"?__PRIVATE_queryWithLimit(Ce,Ce.limit,"L"):Ce}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(Ce,je){return this._n.add(je),PersistencePromise.resolve()}getCollectionParents(Ce,je){return PersistencePromise.resolve(this._n.getEntries(je))}addFieldIndex(Ce,je){return PersistencePromise.resolve()}deleteFieldIndex(Ce,je){return PersistencePromise.resolve()}deleteAllFieldIndexes(Ce){return PersistencePromise.resolve()}createTargetIndexes(Ce,je){return PersistencePromise.resolve()}getDocumentsMatchingTarget(Ce,je){return PersistencePromise.resolve(null)}getIndexType(Ce,je){return PersistencePromise.resolve(0)}getFieldIndexes(Ce,je){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(Ce){return PersistencePromise.resolve(null)}getMinOffset(Ce,je){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(Ce,je){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(Ce,je,Be){return PersistencePromise.resolve()}updateIndexEntries(Ce,je){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(Ce){const je=Ce.lastSegment(),Be=Ce.popLast(),De=this.index[je]||new SortedSet(ResourcePath.comparator),Fe=!De.has(Be);return this.index[je]=De.add(Be),Fe}has(Ce){const je=Ce.lastSegment(),Be=Ce.popLast(),De=this.index[je];return De&&De.has(Be)}getEntries(Ce){return(this.index[Ce]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(Ce){this.On=Ce}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Ln(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap((Ce=>Ce.toString()),((Ce,je)=>Ce.isEqual(je))),this.changesApplied=!1}addEntry(Ce){this.assertNotApplied(),this.changes.set(Ce.key,Ce)}removeEntry(Ce,je){this.assertNotApplied(),this.changes.set(Ce,MutableDocument.newInvalidDocument(Ce).setReadTime(je))}getEntry(Ce,je){this.assertNotApplied();const Be=this.changes.get(je);return Be!==void 0?PersistencePromise.resolve(Be):this.getFromCache(Ce,je)}getEntries(Ce,je){return this.getAllFromCache(Ce,je)}apply(Ce){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(Ce)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(Ce,je){this.overlayedDocument=Ce,this.mutatedFields=je}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(Ce,je,Be,De){this.remoteDocumentCache=Ce,this.mutationQueue=je,this.documentOverlayCache=Be,this.indexManager=De}getDocument(Ce,je){let Be=null;return this.documentOverlayCache.getOverlay(Ce,je).next((De=>(Be=De,this.remoteDocumentCache.getEntry(Ce,je)))).next((De=>(Be!==null&&__PRIVATE_mutationApplyToLocalView(Be.mutation,De,FieldMask.empty(),Timestamp.now()),De)))}getDocuments(Ce,je){return this.remoteDocumentCache.getEntries(Ce,je).next((Be=>this.getLocalViewOfDocuments(Ce,Be,__PRIVATE_documentKeySet()).next((()=>Be))))}getLocalViewOfDocuments(Ce,je,Be=__PRIVATE_documentKeySet()){const De=__PRIVATE_newOverlayMap();return this.populateOverlays(Ce,De,je).next((()=>this.computeViews(Ce,je,De,Be).next((Fe=>{let ke=documentMap();return Fe.forEach(((Oe,Me)=>{ke=ke.insert(Oe,Me.overlayedDocument)})),ke}))))}getOverlayedDocuments(Ce,je){const Be=__PRIVATE_newOverlayMap();return this.populateOverlays(Ce,Be,je).next((()=>this.computeViews(Ce,je,Be,__PRIVATE_documentKeySet())))}populateOverlays(Ce,je,Be){const De=[];return Be.forEach((Fe=>{je.has(Fe)||De.push(Fe)})),this.documentOverlayCache.getOverlays(Ce,De).next((Fe=>{Fe.forEach(((ke,Oe)=>{je.set(ke,Oe)}))}))}computeViews(Ce,je,Be,De){let Fe=__PRIVATE_mutableDocumentMap();const ke=__PRIVATE_newDocumentKeyMap(),Oe=(function(){return __PRIVATE_newDocumentKeyMap()})();return je.forEach(((Me,Ue)=>{const $e=Be.get(Ue.key);De.has(Ue.key)&&($e===void 0||$e.mutation instanceof __PRIVATE_PatchMutation)?Fe=Fe.insert(Ue.key,Ue):$e!==void 0?(ke.set(Ue.key,$e.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView($e.mutation,Ue,$e.mutation.getFieldMask(),Timestamp.now())):ke.set(Ue.key,FieldMask.empty())})),this.recalculateAndSaveOverlays(Ce,Fe).next((Me=>(Me.forEach(((Ue,$e)=>ke.set(Ue,$e))),je.forEach(((Ue,$e)=>{var He;return Oe.set(Ue,new OverlayedDocument($e,(He=ke.get(Ue))!==null&&He!==void 0?He:null))})),Oe)))}recalculateAndSaveOverlays(Ce,je){const Be=__PRIVATE_newDocumentKeyMap();let De=new SortedMap(((ke,Oe)=>ke-Oe)),Fe=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(Ce,je).next((ke=>{for(const Oe of ke)Oe.keys().forEach((Me=>{const Ue=je.get(Me);if(Ue===null)return;let $e=Be.get(Me)||FieldMask.empty();$e=Oe.applyToLocalView(Ue,$e),Be.set(Me,$e);const He=(De.get(Oe.batchId)||__PRIVATE_documentKeySet()).add(Me);De=De.insert(Oe.batchId,He)}))})).next((()=>{const ke=[],Oe=De.getReverseIterator();for(;Oe.hasNext();){const Me=Oe.getNext(),Ue=Me.key,$e=Me.value,He=__PRIVATE_newMutationMap();$e.forEach((Qe=>{if(!Fe.has(Qe)){const We=__PRIVATE_calculateOverlayMutation(je.get(Qe),Be.get(Qe));We!==null&&He.set(Qe,We),Fe=Fe.add(Qe)}})),ke.push(this.documentOverlayCache.saveOverlays(Ce,Ue,He))}return PersistencePromise.waitFor(ke)})).next((()=>Be))}recalculateAndSaveOverlaysForDocumentKeys(Ce,je){return this.remoteDocumentCache.getEntries(Ce,je).next((Be=>this.recalculateAndSaveOverlays(Ce,Be)))}getDocumentsMatchingQuery(Ce,je,Be,De){return(function(ke){return DocumentKey.isDocumentKey(ke.path)&&ke.collectionGroup===null&&ke.filters.length===0})(je)?this.getDocumentsMatchingDocumentQuery(Ce,je.path):__PRIVATE_isCollectionGroupQuery(je)?this.getDocumentsMatchingCollectionGroupQuery(Ce,je,Be,De):this.getDocumentsMatchingCollectionQuery(Ce,je,Be,De)}getNextDocuments(Ce,je,Be,De){return this.remoteDocumentCache.getAllFromCollectionGroup(Ce,je,Be,De).next((Fe=>{const ke=De-Fe.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(Ce,je,Be.largestBatchId,De-Fe.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let Oe=-1,Me=Fe;return ke.next((Ue=>PersistencePromise.forEach(Ue,(($e,He)=>(Oe<He.largestBatchId&&(Oe=He.largestBatchId),Fe.get($e)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(Ce,$e).next((Qe=>{Me=Me.insert($e,Qe)}))))).next((()=>this.populateOverlays(Ce,Ue,Fe))).next((()=>this.computeViews(Ce,Me,Ue,__PRIVATE_documentKeySet()))).next(($e=>({batchId:Oe,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap($e)})))))}))}getDocumentsMatchingDocumentQuery(Ce,je){return this.getDocument(Ce,new DocumentKey(je)).next((Be=>{let De=documentMap();return Be.isFoundDocument()&&(De=De.insert(Be.key,Be)),De}))}getDocumentsMatchingCollectionGroupQuery(Ce,je,Be,De){const Fe=je.collectionGroup;let ke=documentMap();return this.indexManager.getCollectionParents(Ce,Fe).next((Oe=>PersistencePromise.forEach(Oe,(Me=>{const Ue=(function(He,Qe){return new __PRIVATE_QueryImpl(Qe,null,He.explicitOrderBy.slice(),He.filters.slice(),He.limit,He.limitType,He.startAt,He.endAt)})(je,Me.child(Fe));return this.getDocumentsMatchingCollectionQuery(Ce,Ue,Be,De).next(($e=>{$e.forEach(((He,Qe)=>{ke=ke.insert(He,Qe)}))}))})).next((()=>ke))))}getDocumentsMatchingCollectionQuery(Ce,je,Be,De){let Fe;return this.documentOverlayCache.getOverlaysForCollection(Ce,je.path,Be.largestBatchId).next((ke=>(Fe=ke,this.remoteDocumentCache.getDocumentsMatchingQuery(Ce,je,Be,Fe,De)))).next((ke=>{Fe.forEach(((Me,Ue)=>{const $e=Ue.getKey();ke.get($e)===null&&(ke=ke.insert($e,MutableDocument.newInvalidDocument($e)))}));let Oe=documentMap();return ke.forEach(((Me,Ue)=>{const $e=Fe.get(Me);$e!==void 0&&__PRIVATE_mutationApplyToLocalView($e.mutation,Ue,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(je,Ue)&&(Oe=Oe.insert(Me,Ue))})),Oe}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(Ce){this.serializer=Ce,this.cr=new Map,this.lr=new Map}getBundleMetadata(Ce,je){return PersistencePromise.resolve(this.cr.get(je))}saveBundleMetadata(Ce,je){return this.cr.set(je.id,(function(De){return{id:De.id,version:De.version,createTime:__PRIVATE_fromVersion(De.createTime)}})(je)),PersistencePromise.resolve()}getNamedQuery(Ce,je){return PersistencePromise.resolve(this.lr.get(je))}saveNamedQuery(Ce,je){return this.lr.set(je.name,(function(De){return{name:De.name,query:__PRIVATE_fromBundledQuery(De.bundledQuery),readTime:__PRIVATE_fromVersion(De.readTime)}})(je)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(Ce,je){return PersistencePromise.resolve(this.overlays.get(je))}getOverlays(Ce,je){const Be=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(je,(De=>this.getOverlay(Ce,De).next((Fe=>{Fe!==null&&Be.set(De,Fe)})))).next((()=>Be))}saveOverlays(Ce,je,Be){return Be.forEach(((De,Fe)=>{this.ht(Ce,je,Fe)})),PersistencePromise.resolve()}removeOverlaysForBatchId(Ce,je,Be){const De=this.hr.get(Be);return De!==void 0&&(De.forEach((Fe=>this.overlays=this.overlays.remove(Fe))),this.hr.delete(Be)),PersistencePromise.resolve()}getOverlaysForCollection(Ce,je,Be){const De=__PRIVATE_newOverlayMap(),Fe=je.length+1,ke=new DocumentKey(je.child("")),Oe=this.overlays.getIteratorFrom(ke);for(;Oe.hasNext();){const Me=Oe.getNext().value,Ue=Me.getKey();if(!je.isPrefixOf(Ue.path))break;Ue.path.length===Fe&&Me.largestBatchId>Be&&De.set(Me.getKey(),Me)}return PersistencePromise.resolve(De)}getOverlaysForCollectionGroup(Ce,je,Be,De){let Fe=new SortedMap(((Ue,$e)=>Ue-$e));const ke=this.overlays.getIterator();for(;ke.hasNext();){const Ue=ke.getNext().value;if(Ue.getKey().getCollectionGroup()===je&&Ue.largestBatchId>Be){let $e=Fe.get(Ue.largestBatchId);$e===null&&($e=__PRIVATE_newOverlayMap(),Fe=Fe.insert(Ue.largestBatchId,$e)),$e.set(Ue.getKey(),Ue)}}const Oe=__PRIVATE_newOverlayMap(),Me=Fe.getIterator();for(;Me.hasNext()&&(Me.getNext().value.forEach(((Ue,$e)=>Oe.set(Ue,$e))),!(Oe.size()>=De)););return PersistencePromise.resolve(Oe)}ht(Ce,je,Be){const De=this.overlays.get(Be.key);if(De!==null){const ke=this.hr.get(De.largestBatchId).delete(Be.key);this.hr.set(De.largestBatchId,ke)}this.overlays=this.overlays.insert(Be.key,new Overlay(je,Be));let Fe=this.hr.get(je);Fe===void 0&&(Fe=__PRIVATE_documentKeySet(),this.hr.set(je,Fe)),this.hr.set(je,Fe.add(Be.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(Ce,je){const Be=new __PRIVATE_DocReference(Ce,je);this.Pr=this.Pr.add(Be),this.Tr=this.Tr.add(Be)}dr(Ce,je){Ce.forEach((Be=>this.addReference(Be,je)))}removeReference(Ce,je){this.Ar(new __PRIVATE_DocReference(Ce,je))}Rr(Ce,je){Ce.forEach((Be=>this.removeReference(Be,je)))}Vr(Ce){const je=new DocumentKey(new ResourcePath([])),Be=new __PRIVATE_DocReference(je,Ce),De=new __PRIVATE_DocReference(je,Ce+1),Fe=[];return this.Tr.forEachInRange([Be,De],(ke=>{this.Ar(ke),Fe.push(ke.key)})),Fe}mr(){this.Pr.forEach((Ce=>this.Ar(Ce)))}Ar(Ce){this.Pr=this.Pr.delete(Ce),this.Tr=this.Tr.delete(Ce)}gr(Ce){const je=new DocumentKey(new ResourcePath([])),Be=new __PRIVATE_DocReference(je,Ce),De=new __PRIVATE_DocReference(je,Ce+1);let Fe=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([Be,De],(ke=>{Fe=Fe.add(ke.key)})),Fe}containsKey(Ce){const je=new __PRIVATE_DocReference(Ce,0),Be=this.Pr.firstAfterOrEqual(je);return Be!==null&&Ce.isEqual(Be.key)}}class __PRIVATE_DocReference{constructor(Ce,je){this.key=Ce,this.pr=je}static Ir(Ce,je){return DocumentKey.comparator(Ce.key,je.key)||__PRIVATE_primitiveComparator(Ce.pr,je.pr)}static Er(Ce,je){return __PRIVATE_primitiveComparator(Ce.pr,je.pr)||DocumentKey.comparator(Ce.key,je.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(Ce,je){this.indexManager=Ce,this.referenceDelegate=je,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(Ce){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(Ce,je,Be,De){const Fe=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const ke=new MutationBatch(Fe,je,Be,De);this.mutationQueue.push(ke);for(const Oe of De)this.wr=this.wr.add(new __PRIVATE_DocReference(Oe.key,Fe)),this.indexManager.addToCollectionParentIndex(Ce,Oe.key.path.popLast());return PersistencePromise.resolve(ke)}lookupMutationBatch(Ce,je){return PersistencePromise.resolve(this.Sr(je))}getNextMutationBatchAfterBatchId(Ce,je){const Be=je+1,De=this.br(Be),Fe=De<0?0:De;return PersistencePromise.resolve(this.mutationQueue.length>Fe?this.mutationQueue[Fe]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(Ce){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(Ce,je){const Be=new __PRIVATE_DocReference(je,0),De=new __PRIVATE_DocReference(je,Number.POSITIVE_INFINITY),Fe=[];return this.wr.forEachInRange([Be,De],(ke=>{const Oe=this.Sr(ke.pr);Fe.push(Oe)})),PersistencePromise.resolve(Fe)}getAllMutationBatchesAffectingDocumentKeys(Ce,je){let Be=new SortedSet(__PRIVATE_primitiveComparator);return je.forEach((De=>{const Fe=new __PRIVATE_DocReference(De,0),ke=new __PRIVATE_DocReference(De,Number.POSITIVE_INFINITY);this.wr.forEachInRange([Fe,ke],(Oe=>{Be=Be.add(Oe.pr)}))})),PersistencePromise.resolve(this.Dr(Be))}getAllMutationBatchesAffectingQuery(Ce,je){const Be=je.path,De=Be.length+1;let Fe=Be;DocumentKey.isDocumentKey(Fe)||(Fe=Fe.child(""));const ke=new __PRIVATE_DocReference(new DocumentKey(Fe),0);let Oe=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile((Me=>{const Ue=Me.key.path;return!!Be.isPrefixOf(Ue)&&(Ue.length===De&&(Oe=Oe.add(Me.pr)),!0)}),ke),PersistencePromise.resolve(this.Dr(Oe))}Dr(Ce){const je=[];return Ce.forEach((Be=>{const De=this.Sr(Be);De!==null&&je.push(De)})),je}removeMutationBatch(Ce,je){__PRIVATE_hardAssert(this.Cr(je.batchId,"removed")===0),this.mutationQueue.shift();let Be=this.wr;return PersistencePromise.forEach(je.mutations,(De=>{const Fe=new __PRIVATE_DocReference(De.key,je.batchId);return Be=Be.delete(Fe),this.referenceDelegate.markPotentiallyOrphaned(Ce,De.key)})).next((()=>{this.wr=Be}))}Mn(Ce){}containsKey(Ce,je){const Be=new __PRIVATE_DocReference(je,0),De=this.wr.firstAfterOrEqual(Be);return PersistencePromise.resolve(je.isEqual(De&&De.key))}performConsistencyCheck(Ce){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(Ce,je){return this.br(Ce)}br(Ce){return this.mutationQueue.length===0?0:Ce-this.mutationQueue[0].batchId}Sr(Ce){const je=this.br(Ce);return je<0||je>=this.mutationQueue.length?null:this.mutationQueue[je]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(Ce){this.vr=Ce,this.docs=(function(){return new SortedMap(DocumentKey.comparator)})(),this.size=0}setIndexManager(Ce){this.indexManager=Ce}addEntry(Ce,je){const Be=je.key,De=this.docs.get(Be),Fe=De?De.size:0,ke=this.vr(je);return this.docs=this.docs.insert(Be,{document:je.mutableCopy(),size:ke}),this.size+=ke-Fe,this.indexManager.addToCollectionParentIndex(Ce,Be.path.popLast())}removeEntry(Ce){const je=this.docs.get(Ce);je&&(this.docs=this.docs.remove(Ce),this.size-=je.size)}getEntry(Ce,je){const Be=this.docs.get(je);return PersistencePromise.resolve(Be?Be.document.mutableCopy():MutableDocument.newInvalidDocument(je))}getEntries(Ce,je){let Be=__PRIVATE_mutableDocumentMap();return je.forEach((De=>{const Fe=this.docs.get(De);Be=Be.insert(De,Fe?Fe.document.mutableCopy():MutableDocument.newInvalidDocument(De))})),PersistencePromise.resolve(Be)}getDocumentsMatchingQuery(Ce,je,Be,De){let Fe=__PRIVATE_mutableDocumentMap();const ke=je.path,Oe=new DocumentKey(ke.child("")),Me=this.docs.getIteratorFrom(Oe);for(;Me.hasNext();){const{key:Ue,value:{document:$e}}=Me.getNext();if(!ke.isPrefixOf(Ue.path))break;Ue.path.length>ke.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument($e),Be)<=0||(De.has($e.key)||__PRIVATE_queryMatches(je,$e))&&(Fe=Fe.insert($e.key,$e.mutableCopy()))}return PersistencePromise.resolve(Fe)}getAllFromCollectionGroup(Ce,je,Be,De){fail()}Fr(Ce,je){return PersistencePromise.forEach(this.docs,(Be=>je(Be)))}newChangeBuffer(Ce){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(Ce){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(Ce){super(),this.ar=Ce}applyChanges(Ce){const je=[];return this.changes.forEach(((Be,De)=>{De.isValidDocument()?je.push(this.ar.addEntry(Ce,De)):this.ar.removeEntry(Be)})),PersistencePromise.waitFor(je)}getFromCache(Ce,je){return this.ar.getEntry(Ce,je)}getAllFromCache(Ce,je){return this.ar.getEntries(Ce,je)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(Ce){this.persistence=Ce,this.Mr=new ObjectMap((je=>__PRIVATE_canonifyTarget(je)),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Lr=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(Ce,je){return this.Mr.forEach(((Be,De)=>je(De))),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(Ce){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(Ce){return PersistencePromise.resolve(this.Or)}allocateTargetId(Ce){return this.highestTargetId=this.Lr.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(Ce,je,Be){return Be&&(this.lastRemoteSnapshotVersion=Be),je>this.Or&&(this.Or=je),PersistencePromise.resolve()}qn(Ce){this.Mr.set(Ce.target,Ce);const je=Ce.targetId;je>this.highestTargetId&&(this.Lr=new __PRIVATE_TargetIdGenerator(je),this.highestTargetId=je),Ce.sequenceNumber>this.Or&&(this.Or=Ce.sequenceNumber)}addTargetData(Ce,je){return this.qn(je),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(Ce,je){return this.qn(je),PersistencePromise.resolve()}removeTargetData(Ce,je){return this.Mr.delete(je.target),this.Nr.Vr(je.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(Ce,je,Be){let De=0;const Fe=[];return this.Mr.forEach(((ke,Oe)=>{Oe.sequenceNumber<=je&&Be.get(Oe.targetId)===null&&(this.Mr.delete(ke),Fe.push(this.removeMatchingKeysForTargetId(Ce,Oe.targetId)),De++)})),PersistencePromise.waitFor(Fe).next((()=>De))}getTargetCount(Ce){return PersistencePromise.resolve(this.targetCount)}getTargetData(Ce,je){const Be=this.Mr.get(je)||null;return PersistencePromise.resolve(Be)}addMatchingKeys(Ce,je,Be){return this.Nr.dr(je,Be),PersistencePromise.resolve()}removeMatchingKeys(Ce,je,Be){this.Nr.Rr(je,Be);const De=this.persistence.referenceDelegate,Fe=[];return De&&je.forEach((ke=>{Fe.push(De.markPotentiallyOrphaned(Ce,ke))})),PersistencePromise.waitFor(Fe)}removeMatchingKeysForTargetId(Ce,je){return this.Nr.Vr(je),PersistencePromise.resolve()}getMatchingKeysForTargetId(Ce,je){const Be=this.Nr.gr(je);return PersistencePromise.resolve(Be)}containsKey(Ce,je){return PersistencePromise.resolve(this.Nr.containsKey(je))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(Ce,je){this.Br={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=Ce(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=(function(De){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(De)})((Be=>this.referenceDelegate.Kr(Be))),this.serializer=new __PRIVATE_LocalSerializer(je),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(Ce){return this.indexManager}getDocumentOverlayCache(Ce){let je=this.overlays[Ce.toKey()];return je||(je=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[Ce.toKey()]=je),je}getMutationQueue(Ce,je){let Be=this.Br[Ce.toKey()];return Be||(Be=new __PRIVATE_MemoryMutationQueue(je,this.referenceDelegate),this.Br[Ce.toKey()]=Be),Be}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(Ce,je,Be){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",Ce);const De=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),Be(De).next((Fe=>this.referenceDelegate.Wr(De).next((()=>Fe)))).toPromise().then((Fe=>(De.raiseOnCommittedEvent(),Fe)))}Gr(Ce,je){return PersistencePromise.or(Object.values(this.Br).map((Be=>()=>Be.containsKey(Ce,je))))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(Ce){super(),this.currentSequenceNumber=Ce}}class __PRIVATE_MemoryEagerDelegate{constructor(Ce){this.persistence=Ce,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(Ce){return new __PRIVATE_MemoryEagerDelegate(Ce)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(Ce,je,Be){return this.zr.addReference(Be,je),this.Jr.delete(Be.toString()),PersistencePromise.resolve()}removeReference(Ce,je,Be){return this.zr.removeReference(Be,je),this.Jr.add(Be.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(Ce,je){return this.Jr.add(je.toString()),PersistencePromise.resolve()}removeTarget(Ce,je){this.zr.Vr(je.targetId).forEach((De=>this.Jr.add(De.toString())));const Be=this.persistence.getTargetCache();return Be.getMatchingKeysForTargetId(Ce,je.targetId).next((De=>{De.forEach((Fe=>this.Jr.add(Fe.toString())))})).next((()=>Be.removeTargetData(Ce,je)))}Ur(){this.jr=new Set}Wr(Ce){const je=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,(Be=>{const De=DocumentKey.fromPath(Be);return this.Yr(Ce,De).next((Fe=>{Fe||je.removeEntry(De,SnapshotVersion.min())}))})).next((()=>(this.jr=null,je.apply(Ce))))}updateLimboDocument(Ce,je){return this.Yr(Ce,je).next((Be=>{Be?this.Jr.delete(je.toString()):this.Jr.add(je.toString())}))}Kr(Ce){return 0}Yr(Ce,je){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(je)),()=>this.persistence.getTargetCache().containsKey(Ce,je),()=>this.persistence.Gr(Ce,je)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(Ce,je,Be,De){this.targetId=Ce,this.fromCache=je,this.qi=Be,this.Qi=De}static Ki(Ce,je){let Be=__PRIVATE_documentKeySet(),De=__PRIVATE_documentKeySet();for(const Fe of je.docChanges)switch(Fe.type){case 0:Be=Be.add(Fe.doc.key);break;case 1:De=De.add(Fe.doc.key)}return new __PRIVATE_LocalViewChanges(Ce,je.fromCache,Be,De)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(Ce){this._documentReadCount+=Ce}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=(function(){return isSafari()?8:__PRIVATE_getAndroidVersion(getUA())>0?6:4})()}initialize(Ce,je){this.zi=Ce,this.indexManager=je,this.$i=!0}getDocumentsMatchingQuery(Ce,je,Be,De){const Fe={result:null};return this.ji(Ce,je).next((ke=>{Fe.result=ke})).next((()=>{if(!Fe.result)return this.Hi(Ce,je,De,Be).next((ke=>{Fe.result=ke}))})).next((()=>{if(Fe.result)return;const ke=new QueryContext;return this.Ji(Ce,je,ke).next((Oe=>{if(Fe.result=Oe,this.Ui)return this.Yi(Ce,je,ke,Oe.size)}))})).next((()=>Fe.result))}Yi(Ce,je,Be,De){return Be.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(je),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(je),"scans",Be.documentReadCount,"local documents and returns",De,"documents as results."),Be.documentReadCount>this.Gi*De?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(je),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(Ce,__PRIVATE_queryToTarget(je))):PersistencePromise.resolve())}ji(Ce,je){if(__PRIVATE_queryMatchesAllDocuments(je))return PersistencePromise.resolve(null);let Be=__PRIVATE_queryToTarget(je);return this.indexManager.getIndexType(Ce,Be).next((De=>De===0?null:(je.limit!==null&&De===1&&(je=__PRIVATE_queryWithLimit(je,null,"F"),Be=__PRIVATE_queryToTarget(je)),this.indexManager.getDocumentsMatchingTarget(Ce,Be).next((Fe=>{const ke=__PRIVATE_documentKeySet(...Fe);return this.zi.getDocuments(Ce,ke).next((Oe=>this.indexManager.getMinOffset(Ce,Be).next((Me=>{const Ue=this.Zi(je,Oe);return this.Xi(je,Ue,ke,Me.readTime)?this.ji(Ce,__PRIVATE_queryWithLimit(je,null,"F")):this.es(Ce,Ue,je,Me)}))))})))))}Hi(Ce,je,Be,De){return __PRIVATE_queryMatchesAllDocuments(je)||De.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(Ce,Be).next((Fe=>{const ke=this.Zi(je,Fe);return this.Xi(je,ke,Be,De)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",De.toString(),__PRIVATE_stringifyQuery(je)),this.es(Ce,ke,je,__PRIVATE_newIndexOffsetSuccessorFromReadTime(De,-1)).next((Oe=>Oe)))}))}Zi(Ce,je){let Be=new SortedSet(__PRIVATE_newQueryComparator(Ce));return je.forEach(((De,Fe)=>{__PRIVATE_queryMatches(Ce,Fe)&&(Be=Be.add(Fe))})),Be}Xi(Ce,je,Be,De){if(Ce.limit===null)return!1;if(Be.size!==je.size)return!0;const Fe=Ce.limitType==="F"?je.last():je.first();return!!Fe&&(Fe.hasPendingWrites||Fe.version.compareTo(De)>0)}Ji(Ce,je,Be){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(je)),this.zi.getDocumentsMatchingQuery(Ce,je,IndexOffset.min(),Be)}es(Ce,je,Be,De){return this.zi.getDocumentsMatchingQuery(Ce,Be,De).next((Fe=>(je.forEach((ke=>{Fe=Fe.insert(ke.key,ke)})),Fe)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(Ce,je,Be,De){this.persistence=Ce,this.ts=je,this.serializer=De,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap((Fe=>__PRIVATE_canonifyTarget(Fe)),__PRIVATE_targetEquals),this.ss=new Map,this.os=Ce.getRemoteDocumentCache(),this.Qr=Ce.getTargetCache(),this.$r=Ce.getBundleCache(),this._s(Be)}_s(Ce){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(Ce),this.indexManager=this.persistence.getIndexManager(Ce),this.mutationQueue=this.persistence.getMutationQueue(Ce,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(Ce){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(je=>Ce.collect(je,this.ns)))}}function __PRIVATE_newLocalStore(Re,Ce,je,Be){return new __PRIVATE_LocalStoreImpl(Re,Ce,je,Be)}async function __PRIVATE_localStoreHandleUserChange(Re,Ce){const je=__PRIVATE_debugCast(Re);return await je.persistence.runTransaction("Handle user change","readonly",(Be=>{let De;return je.mutationQueue.getAllMutationBatches(Be).next((Fe=>(De=Fe,je._s(Ce),je.mutationQueue.getAllMutationBatches(Be)))).next((Fe=>{const ke=[],Oe=[];let Me=__PRIVATE_documentKeySet();for(const Ue of De){ke.push(Ue.batchId);for(const $e of Ue.mutations)Me=Me.add($e.key)}for(const Ue of Fe){Oe.push(Ue.batchId);for(const $e of Ue.mutations)Me=Me.add($e.key)}return je.localDocuments.getDocuments(Be,Me).next((Ue=>({us:Ue,removedBatchIds:ke,addedBatchIds:Oe})))}))}))}function __PRIVATE_localStoreAcknowledgeBatch(Re,Ce){const je=__PRIVATE_debugCast(Re);return je.persistence.runTransaction("Acknowledge batch","readwrite-primary",(Be=>{const De=Ce.batch.keys(),Fe=je.os.newChangeBuffer({trackRemovals:!0});return(function(Oe,Me,Ue,$e){const He=Ue.batch,Qe=He.keys();let We=PersistencePromise.resolve();return Qe.forEach((qe=>{We=We.next((()=>$e.getEntry(Me,qe))).next((Ke=>{const Xe=Ue.docVersions.get(qe);__PRIVATE_hardAssert(Xe!==null),Ke.version.compareTo(Xe)<0&&(He.applyToRemoteDocument(Ke,Ue),Ke.isValidDocument()&&(Ke.setReadTime(Ue.commitVersion),$e.addEntry(Ke)))}))})),We.next((()=>Oe.mutationQueue.removeMutationBatch(Me,He)))})(je,Be,Ce,Fe).next((()=>Fe.apply(Be))).next((()=>je.mutationQueue.performConsistencyCheck(Be))).next((()=>je.documentOverlayCache.removeOverlaysForBatchId(Be,De,Ce.batch.batchId))).next((()=>je.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Be,(function(Oe){let Me=__PRIVATE_documentKeySet();for(let Ue=0;Ue<Oe.mutationResults.length;++Ue)Oe.mutationResults[Ue].transformResults.length>0&&(Me=Me.add(Oe.batch.mutations[Ue].key));return Me})(Ce)))).next((()=>je.localDocuments.getDocuments(Be,De)))}))}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Re){const Ce=__PRIVATE_debugCast(Re);return Ce.persistence.runTransaction("Get last remote snapshot version","readonly",(je=>Ce.Qr.getLastRemoteSnapshotVersion(je)))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(Re,Ce){const je=__PRIVATE_debugCast(Re),Be=Ce.snapshotVersion;let De=je.ns;return je.persistence.runTransaction("Apply remote event","readwrite-primary",(Fe=>{const ke=je.os.newChangeBuffer({trackRemovals:!0});De=je.ns;const Oe=[];Ce.targetChanges.forEach((($e,He)=>{const Qe=De.get(He);if(!Qe)return;Oe.push(je.Qr.removeMatchingKeys(Fe,$e.removedDocuments,He).next((()=>je.Qr.addMatchingKeys(Fe,$e.addedDocuments,He))));let We=Qe.withSequenceNumber(Fe.currentSequenceNumber);Ce.targetMismatches.get(He)!==null?We=We.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):$e.resumeToken.approximateByteSize()>0&&(We=We.withResumeToken($e.resumeToken,Be)),De=De.insert(He,We),(function(Ke,Xe,Ye){return Ke.resumeToken.approximateByteSize()===0||Xe.snapshotVersion.toMicroseconds()-Ke.snapshotVersion.toMicroseconds()>=3e8?!0:Ye.addedDocuments.size+Ye.modifiedDocuments.size+Ye.removedDocuments.size>0})(Qe,We,$e)&&Oe.push(je.Qr.updateTargetData(Fe,We))}));let Me=__PRIVATE_mutableDocumentMap(),Ue=__PRIVATE_documentKeySet();if(Ce.documentUpdates.forEach(($e=>{Ce.resolvedLimboDocuments.has($e)&&Oe.push(je.persistence.referenceDelegate.updateLimboDocument(Fe,$e))})),Oe.push(__PRIVATE_populateDocumentChangeBuffer(Fe,ke,Ce.documentUpdates).next(($e=>{Me=$e.cs,Ue=$e.ls}))),!Be.isEqual(SnapshotVersion.min())){const $e=je.Qr.getLastRemoteSnapshotVersion(Fe).next((He=>je.Qr.setTargetsMetadata(Fe,Fe.currentSequenceNumber,Be)));Oe.push($e)}return PersistencePromise.waitFor(Oe).next((()=>ke.apply(Fe))).next((()=>je.localDocuments.getLocalViewOfDocuments(Fe,Me,Ue))).next((()=>Me))})).then((Fe=>(je.ns=De,Fe)))}function __PRIVATE_populateDocumentChangeBuffer(Re,Ce,je){let Be=__PRIVATE_documentKeySet(),De=__PRIVATE_documentKeySet();return je.forEach((Fe=>Be=Be.add(Fe))),Ce.getEntries(Re,Be).next((Fe=>{let ke=__PRIVATE_mutableDocumentMap();return je.forEach(((Oe,Me)=>{const Ue=Fe.get(Oe);Me.isFoundDocument()!==Ue.isFoundDocument()&&(De=De.add(Oe)),Me.isNoDocument()&&Me.version.isEqual(SnapshotVersion.min())?(Ce.removeEntry(Oe,Me.readTime),ke=ke.insert(Oe,Me)):!Ue.isValidDocument()||Me.version.compareTo(Ue.version)>0||Me.version.compareTo(Ue.version)===0&&Ue.hasPendingWrites?(Ce.addEntry(Me),ke=ke.insert(Oe,Me)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",Oe,". Current version:",Ue.version," Watch version:",Me.version)})),{cs:ke,ls:De}}))}function __PRIVATE_localStoreGetNextMutationBatch(Re,Ce){const je=__PRIVATE_debugCast(Re);return je.persistence.runTransaction("Get next mutation batch","readonly",(Be=>(Ce===void 0&&(Ce=-1),je.mutationQueue.getNextMutationBatchAfterBatchId(Be,Ce))))}function __PRIVATE_localStoreAllocateTarget(Re,Ce){const je=__PRIVATE_debugCast(Re);return je.persistence.runTransaction("Allocate target","readwrite",(Be=>{let De;return je.Qr.getTargetData(Be,Ce).next((Fe=>Fe?(De=Fe,PersistencePromise.resolve(De)):je.Qr.allocateTargetId(Be).next((ke=>(De=new TargetData(Ce,ke,"TargetPurposeListen",Be.currentSequenceNumber),je.Qr.addTargetData(Be,De).next((()=>De)))))))})).then((Be=>{const De=je.ns.get(Be.targetId);return(De===null||Be.snapshotVersion.compareTo(De.snapshotVersion)>0)&&(je.ns=je.ns.insert(Be.targetId,Be),je.rs.set(Ce,Be.targetId)),Be}))}async function __PRIVATE_localStoreReleaseTarget(Re,Ce,je){const Be=__PRIVATE_debugCast(Re),De=Be.ns.get(Ce),Fe=je?"readwrite":"readwrite-primary";try{je||await Be.persistence.runTransaction("Release target",Fe,(ke=>Be.persistence.referenceDelegate.removeTarget(ke,De)))}catch(ke){if(!__PRIVATE_isIndexedDbTransactionError(ke))throw ke;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${Ce}: ${ke}`)}Be.ns=Be.ns.remove(Ce),Be.rs.delete(De.target)}function __PRIVATE_localStoreExecuteQuery(Re,Ce,je){const Be=__PRIVATE_debugCast(Re);let De=SnapshotVersion.min(),Fe=__PRIVATE_documentKeySet();return Be.persistence.runTransaction("Execute query","readwrite",(ke=>(function(Me,Ue,$e){const He=__PRIVATE_debugCast(Me),Qe=He.rs.get($e);return Qe!==void 0?PersistencePromise.resolve(He.ns.get(Qe)):He.Qr.getTargetData(Ue,$e)})(Be,ke,__PRIVATE_queryToTarget(Ce)).next((Oe=>{if(Oe)return De=Oe.lastLimboFreeSnapshotVersion,Be.Qr.getMatchingKeysForTargetId(ke,Oe.targetId).next((Me=>{Fe=Me}))})).next((()=>Be.ts.getDocumentsMatchingQuery(ke,Ce,je?De:SnapshotVersion.min(),je?Fe:__PRIVATE_documentKeySet()))).next((Oe=>(__PRIVATE_setMaxReadTime(Be,__PRIVATE_queryCollectionGroup(Ce),Oe),{documents:Oe,hs:Fe})))))}function __PRIVATE_setMaxReadTime(Re,Ce,je){let Be=Re.ss.get(Ce)||SnapshotVersion.min();je.forEach(((De,Fe)=>{Fe.readTime.compareTo(Be)>0&&(Be=Fe.readTime)})),Re.ss.set(Ce,Be)}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(Ce){this.activeTargetIds=this.activeTargetIds.add(Ce)}Rs(Ce){this.activeTargetIds=this.activeTargetIds.delete(Ce)}ds(){const Ce={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(Ce)}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(Ce){}updateMutationState(Ce,je,Be){}addLocalQueryTarget(Ce){return this.no.As(Ce),this.ro[Ce]||"not-current"}updateQueryState(Ce,je,Be){this.ro[Ce]=je}removeLocalQueryTarget(Ce){this.no.Rs(Ce)}isLocalQueryTarget(Ce){return this.no.activeTargetIds.has(Ce)}clearQueryState(Ce){delete this.ro[Ce]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(Ce){return this.no.activeTargetIds.has(Ce)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(Ce,je,Be){}setOnlineState(Ce){}shutdown(){}writeSequenceNumber(Ce){}notifyBundleLoaded(Ce){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(Ce){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(Ce){this.uo.push(Ce)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const Ce of this.uo)Ce(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const Ce of this.uo)Ce(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ve=null;function __PRIVATE_generateUniqueDebugId(){return Ve===null?Ve=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ve++,"0x"+Ve.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me$1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(Ce){this.lo=Ce.lo,this.ho=Ce.ho}Po(Ce){this.Io=Ce}To(Ce){this.Eo=Ce}Ao(Ce){this.Ro=Ce}onMessage(Ce){this.Vo=Ce}close(){this.ho()}send(Ce){this.lo(Ce)}mo(){this.Io()}fo(){this.Eo()}po(Ce){this.Ro(Ce)}yo(Ce){this.Vo(Ce)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe$2="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(je){this.databaseInfo=je,this.databaseId=je.databaseId;const Be=je.ssl?"https":"http",De=encodeURIComponent(this.databaseId.projectId),Fe=encodeURIComponent(this.databaseId.database);this.wo=Be+"://"+je.host,this.So=`projects/${De}/databases/${Fe}`,this.bo=this.databaseId.database==="(default)"?`project_id=${De}`:`project_id=${De}&database_id=${Fe}`}get Do(){return!1}Co(je,Be,De,Fe,ke){const Oe=__PRIVATE_generateUniqueDebugId(),Me=this.vo(je,Be.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${je}' ${Oe}:`,Me,De);const Ue={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(Ue,Fe,ke),this.Mo(je,Me,Ue,De).then(($e=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${je}' ${Oe}: `,$e),$e)),($e=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${je}' ${Oe} failed with error: `,$e,"url: ",Me,"request:",De),$e}))}xo(je,Be,De,Fe,ke,Oe){return this.Co(je,Be,De,Fe,ke)}Fo(je,Be,De){je["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+b$1})(),je["Content-Type"]="text/plain",this.databaseInfo.appId&&(je["X-Firebase-GMPID"]=this.databaseInfo.appId),Be&&Be.headers.forEach(((Fe,ke)=>je[ke]=Fe)),De&&De.headers.forEach(((Fe,ke)=>je[ke]=Fe))}vo(je,Be){const De=me$1[je];return`${this.wo}/v1/${Be}:${De}`}terminate(){}}{constructor(Ce){super(Ce),this.forceLongPolling=Ce.forceLongPolling,this.autoDetectLongPolling=Ce.autoDetectLongPolling,this.useFetchStreams=Ce.useFetchStreams,this.longPollingOptions=Ce.longPollingOptions}Mo(Ce,je,Be,De){const Fe=__PRIVATE_generateUniqueDebugId();return new Promise(((ke,Oe)=>{const Me=new XhrIo;Me.setWithCredentials(!0),Me.listenOnce(EventType.COMPLETE,(()=>{try{switch(Me.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const $e=Me.getResponseJson();__PRIVATE_logDebug(fe$2,`XHR for RPC '${Ce}' ${Fe} received:`,JSON.stringify($e)),ke($e);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(fe$2,`RPC '${Ce}' ${Fe} timed out`),Oe(new FirestoreError(C$1.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const He=Me.getStatus();if(__PRIVATE_logDebug(fe$2,`RPC '${Ce}' ${Fe} failed with status:`,He,"response text:",Me.getResponseText()),He>0){let Qe=Me.getResponseJson();Array.isArray(Qe)&&(Qe=Qe[0]);const We=Qe?.error;if(We&&We.status&&We.message){const qe=(function(Xe){const Ye=Xe.toLowerCase().replace(/_/g,"-");return Object.values(C$1).indexOf(Ye)>=0?Ye:C$1.UNKNOWN})(We.status);Oe(new FirestoreError(qe,We.message))}else Oe(new FirestoreError(C$1.UNKNOWN,"Server responded with status "+Me.getStatus()))}else Oe(new FirestoreError(C$1.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(fe$2,`RPC '${Ce}' ${Fe} completed.`)}}));const Ue=JSON.stringify(De);__PRIVATE_logDebug(fe$2,`RPC '${Ce}' ${Fe} sending request:`,De),Me.send(je,"POST",Ue,Be,15)}))}Oo(Ce,je,Be){const De=__PRIVATE_generateUniqueDebugId(),Fe=[this.wo,"/","google.firestore.v1.Firestore","/",Ce,"/channel"],ke=createWebChannelTransport(),Oe=getStatEventTarget(),Me={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Ue=this.longPollingOptions.timeoutSeconds;Ue!==void 0&&(Me.longPollingTimeout=Math.round(1e3*Ue)),this.useFetchStreams&&(Me.xmlHttpFactory=new FetchXmlHttpFactory({})),this.Fo(Me.initMessageHeaders,je,Be),Me.encodeInitMessageHeaders=!0;const $e=Fe.join("");__PRIVATE_logDebug(fe$2,`Creating RPC '${Ce}' stream ${De}: ${$e}`,Me);const He=ke.createWebChannel($e,Me);let Qe=!1,We=!1;const qe=new __PRIVATE_StreamBridge({lo:Xe=>{We?__PRIVATE_logDebug(fe$2,`Not sending because RPC '${Ce}' stream ${De} is closed:`,Xe):(Qe||(__PRIVATE_logDebug(fe$2,`Opening RPC '${Ce}' stream ${De} transport.`),He.open(),Qe=!0),__PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} sending:`,Xe),He.send(Xe))},ho:()=>He.close()}),Ke=(Xe,Ye,Ze)=>{Xe.listen(Ye,(Je=>{try{Ze(Je)}catch(tr){setTimeout((()=>{throw tr}),0)}}))};return Ke(He,WebChannel.EventType.OPEN,(()=>{We||(__PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} transport opened.`),qe.mo())})),Ke(He,WebChannel.EventType.CLOSE,(()=>{We||(We=!0,__PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} transport closed`),qe.po())})),Ke(He,WebChannel.EventType.ERROR,(Xe=>{We||(We=!0,__PRIVATE_logWarn(fe$2,`RPC '${Ce}' stream ${De} transport errored:`,Xe),qe.po(new FirestoreError(C$1.UNAVAILABLE,"The operation could not be completed")))})),Ke(He,WebChannel.EventType.MESSAGE,(Xe=>{var Ye;if(!We){const Ze=Xe.data[0];__PRIVATE_hardAssert(!!Ze);const Je=Ze,tr=Je.error||((Ye=Je[0])===null||Ye===void 0?void 0:Ye.error);if(tr){__PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} received error:`,tr);const rr=tr.status;let ar=(function(cr){const mr=ce$1[cr];if(mr!==void 0)return __PRIVATE_mapCodeFromRpcCode(mr)})(rr),ir=tr.message;ar===void 0&&(ar=C$1.INTERNAL,ir="Unknown error status: "+rr+" with message "+tr.message),We=!0,qe.po(new FirestoreError(ar,ir)),He.close()}else __PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} received:`,Ze),qe.yo(Ze)}})),Ke(Oe,Event$1.STAT_EVENT,(Xe=>{Xe.stat===Stat.PROXY?__PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} detected buffering proxy`):Xe.stat===Stat.NOPROXY&&__PRIVATE_logDebug(fe$2,`RPC '${Ce}' stream ${De} detected no buffering proxy`)})),setTimeout((()=>{qe.fo()}),0),qe}}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(Re){return new JsonProtoSerializer(Re,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(Ce,je,Be=1e3,De=1.5,Fe=6e4){this.oi=Ce,this.timerId=je,this.No=Be,this.Lo=De,this.Bo=Fe,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(Ce){this.cancel();const je=Math.floor(this.ko+this.Uo()),Be=Math.max(0,Date.now()-this.Qo),De=Math.max(0,je-Be);De>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${De} ms (base delay: ${this.ko} ms, delay with jitter: ${je} ms, last attempt: ${Be} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,De,(()=>(this.Qo=Date.now(),Ce()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(Ce,je,Be,De,Fe,ke,Oe,Me){this.oi=Ce,this.Go=Be,this.zo=De,this.connection=Fe,this.authCredentialsProvider=ke,this.appCheckCredentialsProvider=Oe,this.listener=Me,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new __PRIVATE_ExponentialBackoff(Ce,je)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(Ce){this.s_(),this.stream.send(Ce)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(Ce,je){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,Ce!==4?this.Yo.reset():je&&je.code===C$1.RESOURCE_EXHAUSTED?(__PRIVATE_logError(je.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):je&&je.code===C$1.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=Ce,await this.listener.Ao(je)}__(){}auth(){this.state=1;const Ce=this.a_(this.jo),je=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([Be,De])=>{this.jo===je&&this.u_(Be,De)}),(Be=>{Ce((()=>{const De=new FirestoreError(C$1.UNKNOWN,"Fetching auth token failed: "+Be.message);return this.c_(De)}))}))}u_(Ce,je){const Be=this.a_(this.jo);this.stream=this.l_(Ce,je),this.stream.Po((()=>{Be((()=>this.listener.Po()))})),this.stream.To((()=>{Be((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((De=>{Be((()=>this.c_(De)))})),this.stream.onMessage((De=>{Be((()=>this.onMessage(De)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(Ce){return __PRIVATE_logDebug("PersistentStream",`close with error: ${Ce}`),this.stream=null,this.close(4,Ce)}a_(Ce){return je=>{this.oi.enqueueAndForget((()=>this.jo===Ce?je():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(Ce,je,Be,De,Fe,ke){super(Ce,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",je,Be,De,ke),this.serializer=Fe}l_(Ce,je){return this.connection.Oo("Listen",Ce,je)}onMessage(Ce){this.Yo.reset();const je=__PRIVATE_fromWatchChange(this.serializer,Ce),Be=(function(Fe){if(!("targetChange"in Fe))return SnapshotVersion.min();const ke=Fe.targetChange;return ke.targetIds&&ke.targetIds.length?SnapshotVersion.min():ke.readTime?__PRIVATE_fromVersion(ke.readTime):SnapshotVersion.min()})(Ce);return this.listener.h_(je,Be)}P_(Ce){const je={};je.database=__PRIVATE_getEncodedDatabaseId(this.serializer),je.addTarget=(function(Fe,ke){let Oe;const Me=ke.target;if(Oe=__PRIVATE_targetIsDocumentTarget(Me)?{documents:__PRIVATE_toDocumentsTarget(Fe,Me)}:{query:__PRIVATE_toQueryTarget(Fe,Me)._t},Oe.targetId=ke.targetId,ke.resumeToken.approximateByteSize()>0){Oe.resumeToken=__PRIVATE_toBytes(Fe,ke.resumeToken);const Ue=__PRIVATE_toInt32Proto(Fe,ke.expectedCount);Ue!==null&&(Oe.expectedCount=Ue)}else if(ke.snapshotVersion.compareTo(SnapshotVersion.min())>0){Oe.readTime=toTimestamp(Fe,ke.snapshotVersion.toTimestamp());const Ue=__PRIVATE_toInt32Proto(Fe,ke.expectedCount);Ue!==null&&(Oe.expectedCount=Ue)}return Oe})(this.serializer,Ce);const Be=__PRIVATE_toListenRequestLabels(this.serializer,Ce);Be&&(je.labels=Be),this.i_(je)}I_(Ce){const je={};je.database=__PRIVATE_getEncodedDatabaseId(this.serializer),je.removeTarget=Ce,this.i_(je)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(Ce,je,Be,De,Fe,ke){super(Ce,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",je,Be,De,ke),this.serializer=Fe,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(Ce,je){return this.connection.Oo("Write",Ce,je)}onMessage(Ce){if(__PRIVATE_hardAssert(!!Ce.streamToken),this.lastStreamToken=Ce.streamToken,this.T_){this.Yo.reset();const je=__PRIVATE_fromWriteResults(Ce.writeResults,Ce.commitTime),Be=__PRIVATE_fromVersion(Ce.commitTime);return this.listener.A_(Be,je)}return __PRIVATE_hardAssert(!Ce.writeResults||Ce.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const Ce={};Ce.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.i_(Ce)}d_(Ce){const je={streamToken:this.lastStreamToken,writes:Ce.map((Be=>toMutation(this.serializer,Be)))};this.i_(je)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(Ce,je,Be,De){super(),this.authCredentials=Ce,this.appCheckCredentials=je,this.connection=Be,this.serializer=De,this.m_=!1}f_(){if(this.m_)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.")}Co(Ce,je,Be,De){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([Fe,ke])=>this.connection.Co(Ce,__PRIVATE_toResourcePath(je,Be),De,Fe,ke))).catch((Fe=>{throw Fe.name==="FirebaseError"?(Fe.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),Fe):new FirestoreError(C$1.UNKNOWN,Fe.toString())}))}xo(Ce,je,Be,De,Fe){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([ke,Oe])=>this.connection.xo(Ce,__PRIVATE_toResourcePath(je,Be),De,ke,Oe,Fe))).catch((ke=>{throw ke.name==="FirebaseError"?(ke.code===C$1.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),ke):new FirestoreError(C$1.UNKNOWN,ke.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(Ce,je){this.asyncQueue=Ce,this.onlineStateHandler=je,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(Ce){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${Ce.toString()}`),this.S_("Offline")))}set(Ce){this.C_(),this.g_=0,Ce==="Online"&&(this.y_=!1),this.S_(Ce)}S_(Ce){Ce!==this.state&&(this.state=Ce,this.onlineStateHandler(Ce))}b_(Ce){const je=`Could not reach Cloud Firestore backend. ${Ce}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(__PRIVATE_logError(je),this.y_=!1):__PRIVATE_logDebug("OnlineStateTracker",je)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(Ce,je,Be,De,Fe){this.localStore=Ce,this.datastore=je,this.asyncQueue=Be,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=Fe,this.O_.io((ke=>{Be.enqueueAndForget((async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await(async function(Me){const Ue=__PRIVATE_debugCast(Me);Ue.M_.add(4),await __PRIVATE_disableNetworkInternal(Ue),Ue.N_.set("Unknown"),Ue.M_.delete(4),await __PRIVATE_enableNetworkInternal(Ue)})(this))}))})),this.N_=new __PRIVATE_OnlineStateTracker(Be,De)}}async function __PRIVATE_enableNetworkInternal(Re){if(__PRIVATE_canUseNetwork(Re))for(const Ce of Re.x_)await Ce(!0)}async function __PRIVATE_disableNetworkInternal(Re){for(const Ce of Re.x_)await Ce(!1)}function __PRIVATE_remoteStoreListen(Re,Ce){const je=__PRIVATE_debugCast(Re);je.F_.has(Ce.targetId)||(je.F_.set(Ce.targetId,Ce),__PRIVATE_shouldStartWatchStream(je)?__PRIVATE_startWatchStream(je):__PRIVATE_ensureWatchStream(je).Xo()&&__PRIVATE_sendWatchRequest(je,Ce))}function __PRIVATE_remoteStoreUnlisten(Re,Ce){const je=__PRIVATE_debugCast(Re),Be=__PRIVATE_ensureWatchStream(je);je.F_.delete(Ce),Be.Xo()&&__PRIVATE_sendUnwatchRequest(je,Ce),je.F_.size===0&&(Be.Xo()?Be.n_():__PRIVATE_canUseNetwork(je)&&je.N_.set("Unknown"))}function __PRIVATE_sendWatchRequest(Re,Ce){if(Re.L_.xe(Ce.targetId),Ce.resumeToken.approximateByteSize()>0||Ce.snapshotVersion.compareTo(SnapshotVersion.min())>0){const je=Re.remoteSyncer.getRemoteKeysForTarget(Ce.targetId).size;Ce=Ce.withExpectedCount(je)}__PRIVATE_ensureWatchStream(Re).P_(Ce)}function __PRIVATE_sendUnwatchRequest(Re,Ce){Re.L_.xe(Ce),__PRIVATE_ensureWatchStream(Re).I_(Ce)}function __PRIVATE_startWatchStream(Re){Re.L_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:Ce=>Re.remoteSyncer.getRemoteKeysForTarget(Ce),ot:Ce=>Re.F_.get(Ce)||null,tt:()=>Re.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(Re).start(),Re.N_.w_()}function __PRIVATE_shouldStartWatchStream(Re){return __PRIVATE_canUseNetwork(Re)&&!__PRIVATE_ensureWatchStream(Re).Zo()&&Re.F_.size>0}function __PRIVATE_canUseNetwork(Re){return __PRIVATE_debugCast(Re).M_.size===0}function __PRIVATE_cleanUpWatchStreamState(Re){Re.L_=void 0}async function __PRIVATE_onWatchStreamConnected(Re){Re.N_.set("Online")}async function __PRIVATE_onWatchStreamOpen(Re){Re.F_.forEach(((Ce,je)=>{__PRIVATE_sendWatchRequest(Re,Ce)}))}async function __PRIVATE_onWatchStreamClose(Re,Ce){__PRIVATE_cleanUpWatchStreamState(Re),__PRIVATE_shouldStartWatchStream(Re)?(Re.N_.D_(Ce),__PRIVATE_startWatchStream(Re)):Re.N_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(Re,Ce,je){if(Re.N_.set("Online"),Ce instanceof __PRIVATE_WatchTargetChange&&Ce.state===2&&Ce.cause)try{await(async function(De,Fe){const ke=Fe.cause;for(const Oe of Fe.targetIds)De.F_.has(Oe)&&(await De.remoteSyncer.rejectListen(Oe,ke),De.F_.delete(Oe),De.L_.removeTarget(Oe))})(Re,Ce)}catch(Be){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",Ce.targetIds.join(","),Be),await __PRIVATE_disableNetworkUntilRecovery(Re,Be)}else if(Ce instanceof __PRIVATE_DocumentWatchChange?Re.L_.Ke(Ce):Ce instanceof __PRIVATE_ExistenceFilterChange?Re.L_.He(Ce):Re.L_.We(Ce),!je.isEqual(SnapshotVersion.min()))try{const Be=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(Re.localStore);je.compareTo(Be)>=0&&await(function(Fe,ke){const Oe=Fe.L_.rt(ke);return Oe.targetChanges.forEach(((Me,Ue)=>{if(Me.resumeToken.approximateByteSize()>0){const $e=Fe.F_.get(Ue);$e&&Fe.F_.set(Ue,$e.withResumeToken(Me.resumeToken,ke))}})),Oe.targetMismatches.forEach(((Me,Ue)=>{const $e=Fe.F_.get(Me);if(!$e)return;Fe.F_.set(Me,$e.withResumeToken(ByteString.EMPTY_BYTE_STRING,$e.snapshotVersion)),__PRIVATE_sendUnwatchRequest(Fe,Me);const He=new TargetData($e.target,Me,Ue,$e.sequenceNumber);__PRIVATE_sendWatchRequest(Fe,He)})),Fe.remoteSyncer.applyRemoteEvent(Oe)})(Re,je)}catch(Be){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",Be),await __PRIVATE_disableNetworkUntilRecovery(Re,Be)}}async function __PRIVATE_disableNetworkUntilRecovery(Re,Ce,je){if(!__PRIVATE_isIndexedDbTransactionError(Ce))throw Ce;Re.M_.add(1),await __PRIVATE_disableNetworkInternal(Re),Re.N_.set("Offline"),je||(je=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(Re.localStore)),Re.asyncQueue.enqueueRetryable((async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await je(),Re.M_.delete(1),await __PRIVATE_enableNetworkInternal(Re)}))}function __PRIVATE_executeWithRecovery(Re,Ce){return Ce().catch((je=>__PRIVATE_disableNetworkUntilRecovery(Re,je,Ce)))}async function __PRIVATE_fillWritePipeline(Re){const Ce=__PRIVATE_debugCast(Re),je=__PRIVATE_ensureWriteStream(Ce);let Be=Ce.v_.length>0?Ce.v_[Ce.v_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(Ce);)try{const De=await __PRIVATE_localStoreGetNextMutationBatch(Ce.localStore,Be);if(De===null){Ce.v_.length===0&&je.n_();break}Be=De.batchId,__PRIVATE_addToWritePipeline(Ce,De)}catch(De){await __PRIVATE_disableNetworkUntilRecovery(Ce,De)}__PRIVATE_shouldStartWriteStream(Ce)&&__PRIVATE_startWriteStream(Ce)}function __PRIVATE_canAddToWritePipeline(Re){return __PRIVATE_canUseNetwork(Re)&&Re.v_.length<10}function __PRIVATE_addToWritePipeline(Re,Ce){Re.v_.push(Ce);const je=__PRIVATE_ensureWriteStream(Re);je.Xo()&&je.E_&&je.d_(Ce.mutations)}function __PRIVATE_shouldStartWriteStream(Re){return __PRIVATE_canUseNetwork(Re)&&!__PRIVATE_ensureWriteStream(Re).Zo()&&Re.v_.length>0}function __PRIVATE_startWriteStream(Re){__PRIVATE_ensureWriteStream(Re).start()}async function __PRIVATE_onWriteStreamOpen(Re){__PRIVATE_ensureWriteStream(Re).V_()}async function __PRIVATE_onWriteHandshakeComplete(Re){const Ce=__PRIVATE_ensureWriteStream(Re);for(const je of Re.v_)Ce.d_(je.mutations)}async function __PRIVATE_onMutationResult(Re,Ce,je){const Be=Re.v_.shift(),De=MutationBatchResult.from(Be,Ce,je);await __PRIVATE_executeWithRecovery(Re,(()=>Re.remoteSyncer.applySuccessfulWrite(De))),await __PRIVATE_fillWritePipeline(Re)}async function __PRIVATE_onWriteStreamClose(Re,Ce){Ce&&__PRIVATE_ensureWriteStream(Re).E_&&await(async function(Be,De){if((function(ke){return __PRIVATE_isPermanentError(ke)&&ke!==C$1.ABORTED})(De.code)){const Fe=Be.v_.shift();__PRIVATE_ensureWriteStream(Be).t_(),await __PRIVATE_executeWithRecovery(Be,(()=>Be.remoteSyncer.rejectFailedWrite(Fe.batchId,De))),await __PRIVATE_fillWritePipeline(Be)}})(Re,Ce),__PRIVATE_shouldStartWriteStream(Re)&&__PRIVATE_startWriteStream(Re)}async function __PRIVATE_remoteStoreHandleCredentialChange(Re,Ce){const je=__PRIVATE_debugCast(Re);je.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const Be=__PRIVATE_canUseNetwork(je);je.M_.add(3),await __PRIVATE_disableNetworkInternal(je),Be&&je.N_.set("Unknown"),await je.remoteSyncer.handleCredentialChange(Ce),je.M_.delete(3),await __PRIVATE_enableNetworkInternal(je)}async function __PRIVATE_remoteStoreApplyPrimaryState(Re,Ce){const je=__PRIVATE_debugCast(Re);Ce?(je.M_.delete(2),await __PRIVATE_enableNetworkInternal(je)):Ce||(je.M_.add(2),await __PRIVATE_disableNetworkInternal(je),je.N_.set("Unknown"))}function __PRIVATE_ensureWatchStream(Re){return Re.B_||(Re.B_=(function(je,Be,De){const Fe=__PRIVATE_debugCast(je);return Fe.f_(),new __PRIVATE_PersistentListenStream(Be,Fe.connection,Fe.authCredentials,Fe.appCheckCredentials,Fe.serializer,De)})(Re.datastore,Re.asyncQueue,{Po:__PRIVATE_onWatchStreamConnected.bind(null,Re),To:__PRIVATE_onWatchStreamOpen.bind(null,Re),Ao:__PRIVATE_onWatchStreamClose.bind(null,Re),h_:__PRIVATE_onWatchStreamChange.bind(null,Re)}),Re.x_.push((async Ce=>{Ce?(Re.B_.t_(),__PRIVATE_shouldStartWatchStream(Re)?__PRIVATE_startWatchStream(Re):Re.N_.set("Unknown")):(await Re.B_.stop(),__PRIVATE_cleanUpWatchStreamState(Re))}))),Re.B_}function __PRIVATE_ensureWriteStream(Re){return Re.k_||(Re.k_=(function(je,Be,De){const Fe=__PRIVATE_debugCast(je);return Fe.f_(),new __PRIVATE_PersistentWriteStream(Be,Fe.connection,Fe.authCredentials,Fe.appCheckCredentials,Fe.serializer,De)})(Re.datastore,Re.asyncQueue,{Po:()=>Promise.resolve(),To:__PRIVATE_onWriteStreamOpen.bind(null,Re),Ao:__PRIVATE_onWriteStreamClose.bind(null,Re),R_:__PRIVATE_onWriteHandshakeComplete.bind(null,Re),A_:__PRIVATE_onMutationResult.bind(null,Re)}),Re.x_.push((async Ce=>{Ce?(Re.k_.t_(),await __PRIVATE_fillWritePipeline(Re)):(await Re.k_.stop(),Re.v_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${Re.v_.length} pending writes`),Re.v_=[]))}))),Re.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(Ce,je,Be,De,Fe){this.asyncQueue=Ce,this.timerId=je,this.targetTimeMs=Be,this.op=De,this.removalCallback=Fe,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((ke=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(Ce,je,Be,De,Fe){const ke=Date.now()+Be,Oe=new DelayedOperation(Ce,je,ke,De,Fe);return Oe.start(Be),Oe}start(Ce){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),Ce)}skipDelay(){return this.handleDelayElapsed()}cancel(Ce){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(C$1.CANCELLED,"Operation cancelled"+(Ce?": "+Ce:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((Ce=>this.deferred.resolve(Ce)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(Re,Ce){if(__PRIVATE_logError("AsyncQueue",`${Ce}: ${Re}`),__PRIVATE_isIndexedDbTransactionError(Re))return new FirestoreError(C$1.UNAVAILABLE,`${Ce}: ${Re}`);throw Re}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(Ce){this.comparator=Ce?(je,Be)=>Ce(je,Be)||DocumentKey.comparator(je.key,Be.key):(je,Be)=>DocumentKey.comparator(je.key,Be.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(Ce){return new DocumentSet(Ce.comparator)}has(Ce){return this.keyedMap.get(Ce)!=null}get(Ce){return this.keyedMap.get(Ce)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(Ce){const je=this.keyedMap.get(Ce);return je?this.sortedSet.indexOf(je):-1}get size(){return this.sortedSet.size}forEach(Ce){this.sortedSet.inorderTraversal(((je,Be)=>(Ce(je),!1)))}add(Ce){const je=this.delete(Ce.key);return je.copy(je.keyedMap.insert(Ce.key,Ce),je.sortedSet.insert(Ce,null))}delete(Ce){const je=this.get(Ce);return je?this.copy(this.keyedMap.remove(Ce),this.sortedSet.remove(je)):this}isEqual(Ce){if(!(Ce instanceof DocumentSet)||this.size!==Ce.size)return!1;const je=this.sortedSet.getIterator(),Be=Ce.sortedSet.getIterator();for(;je.hasNext();){const De=je.getNext().key,Fe=Be.getNext().key;if(!De.isEqual(Fe))return!1}return!0}toString(){const Ce=[];return this.forEach((je=>{Ce.push(je.toString())})),Ce.length===0?"DocumentSet ()":`DocumentSet (
  `+Ce.join(`  
`)+`
)`}copy(Ce,je){const Be=new DocumentSet;return Be.comparator=this.comparator,Be.keyedMap=Ce,Be.sortedSet=je,Be}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.q_=new SortedMap(DocumentKey.comparator)}track(Ce){const je=Ce.doc.key,Be=this.q_.get(je);Be?Ce.type!==0&&Be.type===3?this.q_=this.q_.insert(je,Ce):Ce.type===3&&Be.type!==1?this.q_=this.q_.insert(je,{type:Be.type,doc:Ce.doc}):Ce.type===2&&Be.type===2?this.q_=this.q_.insert(je,{type:2,doc:Ce.doc}):Ce.type===2&&Be.type===0?this.q_=this.q_.insert(je,{type:0,doc:Ce.doc}):Ce.type===1&&Be.type===0?this.q_=this.q_.remove(je):Ce.type===1&&Be.type===2?this.q_=this.q_.insert(je,{type:1,doc:Be.doc}):Ce.type===0&&Be.type===1?this.q_=this.q_.insert(je,{type:2,doc:Ce.doc}):fail():this.q_=this.q_.insert(je,Ce)}Q_(){const Ce=[];return this.q_.inorderTraversal(((je,Be)=>{Ce.push(Be)})),Ce}}class ViewSnapshot{constructor(Ce,je,Be,De,Fe,ke,Oe,Me,Ue){this.query=Ce,this.docs=je,this.oldDocs=Be,this.docChanges=De,this.mutatedKeys=Fe,this.fromCache=ke,this.syncStateChanged=Oe,this.excludesMetadataChanges=Me,this.hasCachedResults=Ue}static fromInitialDocuments(Ce,je,Be,De,Fe){const ke=[];return je.forEach((Oe=>{ke.push({type:0,doc:Oe})})),new ViewSnapshot(Ce,je,DocumentSet.emptySet(je),ke,Be,De,!0,!1,Fe)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(Ce){if(!(this.fromCache===Ce.fromCache&&this.hasCachedResults===Ce.hasCachedResults&&this.syncStateChanged===Ce.syncStateChanged&&this.mutatedKeys.isEqual(Ce.mutatedKeys)&&__PRIVATE_queryEquals(this.query,Ce.query)&&this.docs.isEqual(Ce.docs)&&this.oldDocs.isEqual(Ce.oldDocs)))return!1;const je=this.docChanges,Be=Ce.docChanges;if(je.length!==Be.length)return!1;for(let De=0;De<je.length;De++)if(je[De].type!==Be[De].type||!je[De].doc.isEqual(Be[De].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((Ce=>Ce.G_()))}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap((Ce=>__PRIVATE_canonifyQuery(Ce)),__PRIVATE_queryEquals),this.onlineState="Unknown",this.z_=new Set}}async function __PRIVATE_eventManagerListen(Re,Ce){const je=__PRIVATE_debugCast(Re);let Be=3;const De=Ce.query;let Fe=je.queries.get(De);Fe?!Fe.W_()&&Ce.G_()&&(Be=2):(Fe=new __PRIVATE_QueryListenersInfo,Be=Ce.G_()?0:1);try{switch(Be){case 0:Fe.K_=await je.onListen(De,!0);break;case 1:Fe.K_=await je.onListen(De,!1);break;case 2:await je.onFirstRemoteStoreListen(De)}}catch(ke){const Oe=__PRIVATE_wrapInUserErrorIfRecoverable(ke,`Initialization of query '${__PRIVATE_stringifyQuery(Ce.query)}' failed`);return void Ce.onError(Oe)}je.queries.set(De,Fe),Fe.U_.push(Ce),Ce.j_(je.onlineState),Fe.K_&&Ce.H_(Fe.K_)&&__PRIVATE_raiseSnapshotsInSyncEvent(je)}async function __PRIVATE_eventManagerUnlisten(Re,Ce){const je=__PRIVATE_debugCast(Re),Be=Ce.query;let De=3;const Fe=je.queries.get(Be);if(Fe){const ke=Fe.U_.indexOf(Ce);ke>=0&&(Fe.U_.splice(ke,1),Fe.U_.length===0?De=Ce.G_()?0:1:!Fe.W_()&&Ce.G_()&&(De=2))}switch(De){case 0:return je.queries.delete(Be),je.onUnlisten(Be,!0);case 1:return je.queries.delete(Be),je.onUnlisten(Be,!1);case 2:return je.onLastRemoteStoreUnlisten(Be);default:return}}function __PRIVATE_eventManagerOnWatchChange(Re,Ce){const je=__PRIVATE_debugCast(Re);let Be=!1;for(const De of Ce){const Fe=De.query,ke=je.queries.get(Fe);if(ke){for(const Oe of ke.U_)Oe.H_(De)&&(Be=!0);ke.K_=De}}Be&&__PRIVATE_raiseSnapshotsInSyncEvent(je)}function __PRIVATE_eventManagerOnWatchError(Re,Ce,je){const Be=__PRIVATE_debugCast(Re),De=Be.queries.get(Ce);if(De)for(const Fe of De.U_)Fe.onError(je);Be.queries.delete(Ce)}function __PRIVATE_raiseSnapshotsInSyncEvent(Re){Re.z_.forEach((Ce=>{Ce.next()}))}var ge$2,pe$2;(pe$2=ge$2||(ge$2={})).J_="default",pe$2.Cache="cache";class __PRIVATE_QueryListener{constructor(Ce,je,Be){this.query=Ce,this.Y_=je,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=Be||{}}H_(Ce){if(!this.options.includeMetadataChanges){const Be=[];for(const De of Ce.docChanges)De.type!==3&&Be.push(De);Ce=new ViewSnapshot(Ce.query,Ce.docs,Ce.oldDocs,Be,Ce.mutatedKeys,Ce.fromCache,Ce.syncStateChanged,!0,Ce.hasCachedResults)}let je=!1;return this.Z_?this.ea(Ce)&&(this.Y_.next(Ce),je=!0):this.ta(Ce,this.onlineState)&&(this.na(Ce),je=!0),this.X_=Ce,je}onError(Ce){this.Y_.error(Ce)}j_(Ce){this.onlineState=Ce;let je=!1;return this.X_&&!this.Z_&&this.ta(this.X_,Ce)&&(this.na(this.X_),je=!0),je}ta(Ce,je){if(!Ce.fromCache||!this.G_())return!0;const Be=je!=="Offline";return(!this.options.ra||!Be)&&(!Ce.docs.isEmpty()||Ce.hasCachedResults||je==="Offline")}ea(Ce){if(Ce.docChanges.length>0)return!0;const je=this.X_&&this.X_.hasPendingWrites!==Ce.hasPendingWrites;return!(!Ce.syncStateChanged&&!je)&&this.options.includeMetadataChanges===!0}na(Ce){Ce=ViewSnapshot.fromInitialDocuments(Ce.query,Ce.docs,Ce.mutatedKeys,Ce.fromCache,Ce.hasCachedResults),this.Z_=!0,this.Y_.next(Ce)}G_(){return this.options.source!==ge$2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(Ce){this.key=Ce}}class __PRIVATE_RemovedLimboDocument{constructor(Ce){this.key=Ce}}class __PRIVATE_View{constructor(Ce,je){this.query=Ce,this.la=je,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.Ia=__PRIVATE_newQueryComparator(Ce),this.Ta=new DocumentSet(this.Ia)}get Ea(){return this.la}da(Ce,je){const Be=je?je.Aa:new __PRIVATE_DocumentChangeSet,De=je?je.Ta:this.Ta;let Fe=je?je.mutatedKeys:this.mutatedKeys,ke=De,Oe=!1;const Me=this.query.limitType==="F"&&De.size===this.query.limit?De.last():null,Ue=this.query.limitType==="L"&&De.size===this.query.limit?De.first():null;if(Ce.inorderTraversal((($e,He)=>{const Qe=De.get($e),We=__PRIVATE_queryMatches(this.query,He)?He:null,qe=!!Qe&&this.mutatedKeys.has(Qe.key),Ke=!!We&&(We.hasLocalMutations||this.mutatedKeys.has(We.key)&&We.hasCommittedMutations);let Xe=!1;Qe&&We?Qe.data.isEqual(We.data)?qe!==Ke&&(Be.track({type:3,doc:We}),Xe=!0):this.Ra(Qe,We)||(Be.track({type:2,doc:We}),Xe=!0,(Me&&this.Ia(We,Me)>0||Ue&&this.Ia(We,Ue)<0)&&(Oe=!0)):!Qe&&We?(Be.track({type:0,doc:We}),Xe=!0):Qe&&!We&&(Be.track({type:1,doc:Qe}),Xe=!0,(Me||Ue)&&(Oe=!0)),Xe&&(We?(ke=ke.add(We),Fe=Ke?Fe.add($e):Fe.delete($e)):(ke=ke.delete($e),Fe=Fe.delete($e)))})),this.query.limit!==null)for(;ke.size>this.query.limit;){const $e=this.query.limitType==="F"?ke.last():ke.first();ke=ke.delete($e.key),Fe=Fe.delete($e.key),Be.track({type:1,doc:$e})}return{Ta:ke,Aa:Be,Xi:Oe,mutatedKeys:Fe}}Ra(Ce,je){return Ce.hasLocalMutations&&je.hasCommittedMutations&&!je.hasLocalMutations}applyChanges(Ce,je,Be,De){const Fe=this.Ta;this.Ta=Ce.Ta,this.mutatedKeys=Ce.mutatedKeys;const ke=Ce.Aa.Q_();ke.sort((($e,He)=>(function(We,qe){const Ke=Xe=>{switch(Xe){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return Ke(We)-Ke(qe)})($e.type,He.type)||this.Ia($e.doc,He.doc))),this.Va(Be),De=De!=null&&De;const Oe=je&&!De?this.ma():[],Me=this.Pa.size===0&&this.current&&!De?1:0,Ue=Me!==this.ha;return this.ha=Me,ke.length!==0||Ue?{snapshot:new ViewSnapshot(this.query,Ce.Ta,Fe,ke,Ce.mutatedKeys,Me===0,Ue,!1,!!Be&&Be.resumeToken.approximateByteSize()>0),fa:Oe}:{fa:Oe}}j_(Ce){return this.current&&Ce==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(Ce){return!this.la.has(Ce)&&!!this.Ta.has(Ce)&&!this.Ta.get(Ce).hasLocalMutations}Va(Ce){Ce&&(Ce.addedDocuments.forEach((je=>this.la=this.la.add(je))),Ce.modifiedDocuments.forEach((je=>{})),Ce.removedDocuments.forEach((je=>this.la=this.la.delete(je))),this.current=Ce.current)}ma(){if(!this.current)return[];const Ce=this.Pa;this.Pa=__PRIVATE_documentKeySet(),this.Ta.forEach((Be=>{this.ga(Be.key)&&(this.Pa=this.Pa.add(Be.key))}));const je=[];return Ce.forEach((Be=>{this.Pa.has(Be)||je.push(new __PRIVATE_RemovedLimboDocument(Be))})),this.Pa.forEach((Be=>{Ce.has(Be)||je.push(new __PRIVATE_AddedLimboDocument(Be))})),je}pa(Ce){this.la=Ce.hs,this.Pa=__PRIVATE_documentKeySet();const je=this.da(Ce.documents);return this.applyChanges(je,!0)}ya(){return ViewSnapshot.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(Ce,je,Be){this.query=Ce,this.targetId=je,this.view=Be}}class LimboResolution{constructor(Ce){this.key=Ce,this.wa=!1}}class __PRIVATE_SyncEngineImpl{constructor(Ce,je,Be,De,Fe,ke){this.localStore=Ce,this.remoteStore=je,this.eventManager=Be,this.sharedClientState=De,this.currentUser=Fe,this.maxConcurrentLimboResolutions=ke,this.Sa={},this.ba=new ObjectMap((Oe=>__PRIVATE_canonifyQuery(Oe)),__PRIVATE_queryEquals),this.Da=new Map,this.Ca=new Set,this.va=new SortedMap(DocumentKey.comparator),this.Fa=new Map,this.Ma=new __PRIVATE_ReferenceSet,this.xa={},this.Oa=new Map,this.Na=__PRIVATE_TargetIdGenerator.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function __PRIVATE_syncEngineListen(Re,Ce,je=!0){const Be=__PRIVATE_ensureWatchCallbacks(Re);let De;const Fe=Be.ba.get(Ce);return Fe?(Be.sharedClientState.addLocalQueryTarget(Fe.targetId),De=Fe.view.ya()):De=await __PRIVATE_allocateTargetAndMaybeListen(Be,Ce,je,!0),De}async function __PRIVATE_triggerRemoteStoreListen(Re,Ce){const je=__PRIVATE_ensureWatchCallbacks(Re);await __PRIVATE_allocateTargetAndMaybeListen(je,Ce,!0,!1)}async function __PRIVATE_allocateTargetAndMaybeListen(Re,Ce,je,Be){const De=await __PRIVATE_localStoreAllocateTarget(Re.localStore,__PRIVATE_queryToTarget(Ce)),Fe=De.targetId,ke=je?Re.sharedClientState.addLocalQueryTarget(Fe):"not-current";let Oe;return Be&&(Oe=await __PRIVATE_initializeViewAndComputeSnapshot(Re,Ce,Fe,ke==="current",De.resumeToken)),Re.isPrimaryClient&&je&&__PRIVATE_remoteStoreListen(Re.remoteStore,De),Oe}async function __PRIVATE_initializeViewAndComputeSnapshot(Re,Ce,je,Be,De){Re.Ba=(He,Qe,We)=>(async function(Ke,Xe,Ye,Ze){let Je=Xe.view.da(Ye);Je.Xi&&(Je=await __PRIVATE_localStoreExecuteQuery(Ke.localStore,Xe.query,!1).then((({documents:ir})=>Xe.view.da(ir,Je))));const tr=Ze&&Ze.targetChanges.get(Xe.targetId),rr=Ze&&Ze.targetMismatches.get(Xe.targetId)!=null,ar=Xe.view.applyChanges(Je,Ke.isPrimaryClient,tr,rr);return __PRIVATE_updateTrackedLimbos(Ke,Xe.targetId,ar.fa),ar.snapshot})(Re,He,Qe,We);const Fe=await __PRIVATE_localStoreExecuteQuery(Re.localStore,Ce,!0),ke=new __PRIVATE_View(Ce,Fe.hs),Oe=ke.da(Fe.documents),Me=TargetChange.createSynthesizedTargetChangeForCurrentChange(je,Be&&Re.onlineState!=="Offline",De),Ue=ke.applyChanges(Oe,Re.isPrimaryClient,Me);__PRIVATE_updateTrackedLimbos(Re,je,Ue.fa);const $e=new __PRIVATE_QueryView(Ce,je,ke);return Re.ba.set(Ce,$e),Re.Da.has(je)?Re.Da.get(je).push(Ce):Re.Da.set(je,[Ce]),Ue.snapshot}async function __PRIVATE_syncEngineUnlisten(Re,Ce,je){const Be=__PRIVATE_debugCast(Re),De=Be.ba.get(Ce),Fe=Be.Da.get(De.targetId);if(Fe.length>1)return Be.Da.set(De.targetId,Fe.filter((ke=>!__PRIVATE_queryEquals(ke,Ce)))),void Be.ba.delete(Ce);Be.isPrimaryClient?(Be.sharedClientState.removeLocalQueryTarget(De.targetId),Be.sharedClientState.isActiveQueryTarget(De.targetId)||await __PRIVATE_localStoreReleaseTarget(Be.localStore,De.targetId,!1).then((()=>{Be.sharedClientState.clearQueryState(De.targetId),je&&__PRIVATE_remoteStoreUnlisten(Be.remoteStore,De.targetId),__PRIVATE_removeAndCleanupTarget(Be,De.targetId)})).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(Be,De.targetId),await __PRIVATE_localStoreReleaseTarget(Be.localStore,De.targetId,!0))}async function __PRIVATE_triggerRemoteStoreUnlisten(Re,Ce){const je=__PRIVATE_debugCast(Re),Be=je.ba.get(Ce),De=je.Da.get(Be.targetId);je.isPrimaryClient&&De.length===1&&(je.sharedClientState.removeLocalQueryTarget(Be.targetId),__PRIVATE_remoteStoreUnlisten(je.remoteStore,Be.targetId))}async function __PRIVATE_syncEngineWrite(Re,Ce,je){const Be=__PRIVATE_syncEngineEnsureWriteCallbacks(Re);try{const De=await(function(ke,Oe){const Me=__PRIVATE_debugCast(ke),Ue=Timestamp.now(),$e=Oe.reduce(((We,qe)=>We.add(qe.key)),__PRIVATE_documentKeySet());let He,Qe;return Me.persistence.runTransaction("Locally write mutations","readwrite",(We=>{let qe=__PRIVATE_mutableDocumentMap(),Ke=__PRIVATE_documentKeySet();return Me.os.getEntries(We,$e).next((Xe=>{qe=Xe,qe.forEach(((Ye,Ze)=>{Ze.isValidDocument()||(Ke=Ke.add(Ye))}))})).next((()=>Me.localDocuments.getOverlayedDocuments(We,qe))).next((Xe=>{He=Xe;const Ye=[];for(const Ze of Oe){const Je=__PRIVATE_mutationExtractBaseValue(Ze,He.get(Ze.key).overlayedDocument);Je!=null&&Ye.push(new __PRIVATE_PatchMutation(Ze.key,Je,__PRIVATE_extractFieldMask(Je.value.mapValue),Precondition.exists(!0)))}return Me.mutationQueue.addMutationBatch(We,Ue,Ye,Oe)})).next((Xe=>{Qe=Xe;const Ye=Xe.applyToLocalDocumentSet(He,Ke);return Me.documentOverlayCache.saveOverlays(We,Xe.batchId,Ye)}))})).then((()=>({batchId:Qe.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(He)})))})(Be.localStore,Ce);Be.sharedClientState.addPendingMutation(De.batchId),(function(ke,Oe,Me){let Ue=ke.xa[ke.currentUser.toKey()];Ue||(Ue=new SortedMap(__PRIVATE_primitiveComparator)),Ue=Ue.insert(Oe,Me),ke.xa[ke.currentUser.toKey()]=Ue})(Be,De.batchId,je),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,De.changes),await __PRIVATE_fillWritePipeline(Be.remoteStore)}catch(De){const Fe=__PRIVATE_wrapInUserErrorIfRecoverable(De,"Failed to persist write");je.reject(Fe)}}async function __PRIVATE_syncEngineApplyRemoteEvent(Re,Ce){const je=__PRIVATE_debugCast(Re);try{const Be=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(je.localStore,Ce);Ce.targetChanges.forEach(((De,Fe)=>{const ke=je.Fa.get(Fe);ke&&(__PRIVATE_hardAssert(De.addedDocuments.size+De.modifiedDocuments.size+De.removedDocuments.size<=1),De.addedDocuments.size>0?ke.wa=!0:De.modifiedDocuments.size>0?__PRIVATE_hardAssert(ke.wa):De.removedDocuments.size>0&&(__PRIVATE_hardAssert(ke.wa),ke.wa=!1))})),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(je,Be,Ce)}catch(Be){await __PRIVATE_ignoreIfPrimaryLeaseLoss(Be)}}function __PRIVATE_syncEngineApplyOnlineStateChange(Re,Ce,je){const Be=__PRIVATE_debugCast(Re);if(Be.isPrimaryClient&&je===0||!Be.isPrimaryClient&&je===1){const De=[];Be.ba.forEach(((Fe,ke)=>{const Oe=ke.view.j_(Ce);Oe.snapshot&&De.push(Oe.snapshot)})),(function(ke,Oe){const Me=__PRIVATE_debugCast(ke);Me.onlineState=Oe;let Ue=!1;Me.queries.forEach((($e,He)=>{for(const Qe of He.U_)Qe.j_(Oe)&&(Ue=!0)})),Ue&&__PRIVATE_raiseSnapshotsInSyncEvent(Me)})(Be.eventManager,Ce),De.length&&Be.Sa.h_(De),Be.onlineState=Ce,Be.isPrimaryClient&&Be.sharedClientState.setOnlineState(Ce)}}async function __PRIVATE_syncEngineRejectListen(Re,Ce,je){const Be=__PRIVATE_debugCast(Re);Be.sharedClientState.updateQueryState(Ce,"rejected",je);const De=Be.Fa.get(Ce),Fe=De&&De.key;if(Fe){let ke=new SortedMap(DocumentKey.comparator);ke=ke.insert(Fe,MutableDocument.newNoDocument(Fe,SnapshotVersion.min()));const Oe=__PRIVATE_documentKeySet().add(Fe),Me=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),ke,Oe);await __PRIVATE_syncEngineApplyRemoteEvent(Be,Me),Be.va=Be.va.remove(Fe),Be.Fa.delete(Ce),__PRIVATE_pumpEnqueuedLimboResolutions(Be)}else await __PRIVATE_localStoreReleaseTarget(Be.localStore,Ce,!1).then((()=>__PRIVATE_removeAndCleanupTarget(Be,Ce,je))).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(Re,Ce){const je=__PRIVATE_debugCast(Re),Be=Ce.batch.batchId;try{const De=await __PRIVATE_localStoreAcknowledgeBatch(je.localStore,Ce);__PRIVATE_processUserCallback(je,Be,null),__PRIVATE_triggerPendingWritesCallbacks(je,Be),je.sharedClientState.updateMutationState(Be,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(je,De)}catch(De){await __PRIVATE_ignoreIfPrimaryLeaseLoss(De)}}async function __PRIVATE_syncEngineRejectFailedWrite(Re,Ce,je){const Be=__PRIVATE_debugCast(Re);try{const De=await(function(ke,Oe){const Me=__PRIVATE_debugCast(ke);return Me.persistence.runTransaction("Reject batch","readwrite-primary",(Ue=>{let $e;return Me.mutationQueue.lookupMutationBatch(Ue,Oe).next((He=>(__PRIVATE_hardAssert(He!==null),$e=He.keys(),Me.mutationQueue.removeMutationBatch(Ue,He)))).next((()=>Me.mutationQueue.performConsistencyCheck(Ue))).next((()=>Me.documentOverlayCache.removeOverlaysForBatchId(Ue,$e,Oe))).next((()=>Me.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Ue,$e))).next((()=>Me.localDocuments.getDocuments(Ue,$e)))}))})(Be.localStore,Ce);__PRIVATE_processUserCallback(Be,Ce,je),__PRIVATE_triggerPendingWritesCallbacks(Be,Ce),Be.sharedClientState.updateMutationState(Ce,"rejected",je),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Be,De)}catch(De){await __PRIVATE_ignoreIfPrimaryLeaseLoss(De)}}function __PRIVATE_triggerPendingWritesCallbacks(Re,Ce){(Re.Oa.get(Ce)||[]).forEach((je=>{je.resolve()})),Re.Oa.delete(Ce)}function __PRIVATE_processUserCallback(Re,Ce,je){const Be=__PRIVATE_debugCast(Re);let De=Be.xa[Be.currentUser.toKey()];if(De){const Fe=De.get(Ce);Fe&&(je?Fe.reject(je):Fe.resolve(),De=De.remove(Ce)),Be.xa[Be.currentUser.toKey()]=De}}function __PRIVATE_removeAndCleanupTarget(Re,Ce,je=null){Re.sharedClientState.removeLocalQueryTarget(Ce);for(const Be of Re.Da.get(Ce))Re.ba.delete(Be),je&&Re.Sa.ka(Be,je);Re.Da.delete(Ce),Re.isPrimaryClient&&Re.Ma.Vr(Ce).forEach((Be=>{Re.Ma.containsKey(Be)||__PRIVATE_removeLimboTarget(Re,Be)}))}function __PRIVATE_removeLimboTarget(Re,Ce){Re.Ca.delete(Ce.path.canonicalString());const je=Re.va.get(Ce);je!==null&&(__PRIVATE_remoteStoreUnlisten(Re.remoteStore,je),Re.va=Re.va.remove(Ce),Re.Fa.delete(je),__PRIVATE_pumpEnqueuedLimboResolutions(Re))}function __PRIVATE_updateTrackedLimbos(Re,Ce,je){for(const Be of je)Be instanceof __PRIVATE_AddedLimboDocument?(Re.Ma.addReference(Be.key,Ce),__PRIVATE_trackLimboChange(Re,Be)):Be instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+Be.key),Re.Ma.removeReference(Be.key,Ce),Re.Ma.containsKey(Be.key)||__PRIVATE_removeLimboTarget(Re,Be.key)):fail()}function __PRIVATE_trackLimboChange(Re,Ce){const je=Ce.key,Be=je.path.canonicalString();Re.va.get(je)||Re.Ca.has(Be)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+je),Re.Ca.add(Be),__PRIVATE_pumpEnqueuedLimboResolutions(Re))}function __PRIVATE_pumpEnqueuedLimboResolutions(Re){for(;Re.Ca.size>0&&Re.va.size<Re.maxConcurrentLimboResolutions;){const Ce=Re.Ca.values().next().value;Re.Ca.delete(Ce);const je=new DocumentKey(ResourcePath.fromString(Ce)),Be=Re.Na.next();Re.Fa.set(Be,new LimboResolution(je)),Re.va=Re.va.insert(je,Be),__PRIVATE_remoteStoreListen(Re.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(je.path)),Be,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence.oe))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(Re,Ce,je){const Be=__PRIVATE_debugCast(Re),De=[],Fe=[],ke=[];Be.ba.isEmpty()||(Be.ba.forEach(((Oe,Me)=>{ke.push(Be.Ba(Me,Ce,je).then((Ue=>{var $e;if((Ue||je)&&Be.isPrimaryClient){const He=Ue?!Ue.fromCache:($e=je?.targetChanges.get(Me.targetId))===null||$e===void 0?void 0:$e.current;Be.sharedClientState.updateQueryState(Me.targetId,He?"current":"not-current")}if(Ue){De.push(Ue);const He=__PRIVATE_LocalViewChanges.Ki(Me.targetId,Ue);Fe.push(He)}})))})),await Promise.all(ke),Be.Sa.h_(De),await(async function(Me,Ue){const $e=__PRIVATE_debugCast(Me);try{await $e.persistence.runTransaction("notifyLocalViewChanges","readwrite",(He=>PersistencePromise.forEach(Ue,(Qe=>PersistencePromise.forEach(Qe.qi,(We=>$e.persistence.referenceDelegate.addReference(He,Qe.targetId,We))).next((()=>PersistencePromise.forEach(Qe.Qi,(We=>$e.persistence.referenceDelegate.removeReference(He,Qe.targetId,We)))))))))}catch(He){if(!__PRIVATE_isIndexedDbTransactionError(He))throw He;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+He)}for(const He of Ue){const Qe=He.targetId;if(!He.fromCache){const We=$e.ns.get(Qe),qe=We.snapshotVersion,Ke=We.withLastLimboFreeSnapshotVersion(qe);$e.ns=$e.ns.insert(Qe,Ke)}}})(Be.localStore,Fe))}async function __PRIVATE_syncEngineHandleCredentialChange(Re,Ce){const je=__PRIVATE_debugCast(Re);if(!je.currentUser.isEqual(Ce)){__PRIVATE_logDebug("SyncEngine","User change. New user:",Ce.toKey());const Be=await __PRIVATE_localStoreHandleUserChange(je.localStore,Ce);je.currentUser=Ce,(function(Fe,ke){Fe.Oa.forEach((Oe=>{Oe.forEach((Me=>{Me.reject(new FirestoreError(C$1.CANCELLED,ke))}))})),Fe.Oa.clear()})(je,"'waitForPendingWrites' promise is rejected due to a user change."),je.sharedClientState.handleUserChange(Ce,Be.removedBatchIds,Be.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(je,Be.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(Re,Ce){const je=__PRIVATE_debugCast(Re),Be=je.Fa.get(Ce);if(Be&&Be.wa)return __PRIVATE_documentKeySet().add(Be.key);{let De=__PRIVATE_documentKeySet();const Fe=je.Da.get(Ce);if(!Fe)return De;for(const ke of Fe){const Oe=je.ba.get(ke);De=De.unionWith(Oe.view.Ea)}return De}}function __PRIVATE_ensureWatchCallbacks(Re){const Ce=__PRIVATE_debugCast(Re);return Ce.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,Ce),Ce.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,Ce),Ce.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,Ce),Ce.Sa.h_=__PRIVATE_eventManagerOnWatchChange.bind(null,Ce.eventManager),Ce.Sa.ka=__PRIVATE_eventManagerOnWatchError.bind(null,Ce.eventManager),Ce}function __PRIVATE_syncEngineEnsureWriteCallbacks(Re){const Ce=__PRIVATE_debugCast(Re);return Ce.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,Ce),Ce.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,Ce),Ce}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(Ce){this.serializer=__PRIVATE_newSerializer(Ce.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(Ce),this.persistence=this.createPersistence(Ce),await this.persistence.start(),this.localStore=this.createLocalStore(Ce),this.gcScheduler=this.createGarbageCollectionScheduler(Ce,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(Ce,this.localStore)}createGarbageCollectionScheduler(Ce,je){return null}createIndexBackfillerScheduler(Ce,je){return null}createLocalStore(Ce){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,Ce.initialUser,this.serializer)}createPersistence(Ce){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(Ce){return new __PRIVATE_MemorySharedClientState}async terminate(){var Ce,je;(Ce=this.gcScheduler)===null||Ce===void 0||Ce.stop(),(je=this.indexBackfillerScheduler)===null||je===void 0||je.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class OnlineComponentProvider{async initialize(Ce,je){this.localStore||(this.localStore=Ce.localStore,this.sharedClientState=Ce.sharedClientState,this.datastore=this.createDatastore(je),this.remoteStore=this.createRemoteStore(je),this.eventManager=this.createEventManager(je),this.syncEngine=this.createSyncEngine(je,!Ce.synchronizeTabs),this.sharedClientState.onlineStateHandler=Be=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,Be,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(Ce){return(function(){return new __PRIVATE_EventManagerImpl})()}createDatastore(Ce){const je=__PRIVATE_newSerializer(Ce.databaseInfo.databaseId),Be=(function(Fe){return new __PRIVATE_WebChannelConnection(Fe)})(Ce.databaseInfo);return(function(Fe,ke,Oe,Me){return new __PRIVATE_DatastoreImpl(Fe,ke,Oe,Me)})(Ce.authCredentials,Ce.appCheckCredentials,Be,je)}createRemoteStore(Ce){return(function(Be,De,Fe,ke,Oe){return new __PRIVATE_RemoteStoreImpl(Be,De,Fe,ke,Oe)})(this.localStore,this.datastore,Ce.asyncQueue,(je=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,je,0)),(function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor})())}createSyncEngine(Ce,je){return(function(De,Fe,ke,Oe,Me,Ue,$e){const He=new __PRIVATE_SyncEngineImpl(De,Fe,ke,Oe,Me,Ue);return $e&&(He.La=!0),He})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,Ce.initialUser,Ce.maxConcurrentLimboResolutions,je)}async terminate(){var Ce;await(async function(Be){const De=__PRIVATE_debugCast(Be);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),De.M_.add(5),await __PRIVATE_disableNetworkInternal(De),De.O_.shutdown(),De.N_.set("Unknown")})(this.remoteStore),(Ce=this.datastore)===null||Ce===void 0||Ce.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(Ce){this.observer=Ce,this.muted=!1}next(Ce){this.observer.next&&this.Ka(this.observer.next,Ce)}error(Ce){this.observer.error?this.Ka(this.observer.error,Ce):__PRIVATE_logError("Uncaught Error in snapshot listener:",Ce.toString())}$a(){this.muted=!0}Ka(Ce,je){this.muted||setTimeout((()=>{this.muted||Ce(je)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(Ce,je,Be,De){this.authCredentials=Ce,this.appCheckCredentials=je,this.asyncQueue=Be,this.databaseInfo=De,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(Be,(async Fe=>{__PRIVATE_logDebug("FirestoreClient","Received user=",Fe.uid),await this.authCredentialListener(Fe),this.user=Fe})),this.appCheckCredentials.start(Be,(Fe=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",Fe),this.appCheckCredentialListener(Fe,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(Ce){this.authCredentialListener=Ce}setAppCheckTokenChangeListener(Ce){this.appCheckCredentialListener=Ce}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(C$1.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const Ce=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),Ce.resolve()}catch(je){const Be=__PRIVATE_wrapInUserErrorIfRecoverable(je,"Failed to shutdown persistence");Ce.reject(Be)}})),Ce.promise}}async function __PRIVATE_setOfflineComponentProvider(Re,Ce){Re.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const je=Re.configuration;await Ce.initialize(je);let Be=je.initialUser;Re.setCredentialChangeListener((async De=>{Be.isEqual(De)||(await __PRIVATE_localStoreHandleUserChange(Ce.localStore,De),Be=De)})),Ce.persistence.setDatabaseDeletedListener((()=>Re.terminate())),Re._offlineComponents=Ce}async function __PRIVATE_setOnlineComponentProvider(Re,Ce){Re.asyncQueue.verifyOperationInProgress();const je=await __PRIVATE_ensureOfflineComponents(Re);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await Ce.initialize(je,Re.configuration),Re.setCredentialChangeListener((Be=>__PRIVATE_remoteStoreHandleCredentialChange(Ce.remoteStore,Be))),Re.setAppCheckTokenChangeListener(((Be,De)=>__PRIVATE_remoteStoreHandleCredentialChange(Ce.remoteStore,De))),Re._onlineComponents=Ce}function __PRIVATE_canFallbackFromIndexedDbError(Re){return Re.name==="FirebaseError"?Re.code===C$1.FAILED_PRECONDITION||Re.code===C$1.UNIMPLEMENTED:!(typeof DOMException<"u"&&Re instanceof DOMException)||Re.code===22||Re.code===20||Re.code===11}async function __PRIVATE_ensureOfflineComponents(Re){if(!Re._offlineComponents)if(Re._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(Re,Re._uninitializedComponentsProvider._offline)}catch(Ce){const je=Ce;if(!__PRIVATE_canFallbackFromIndexedDbError(je))throw je;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+je),await __PRIVATE_setOfflineComponentProvider(Re,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(Re,new MemoryOfflineComponentProvider);return Re._offlineComponents}async function __PRIVATE_ensureOnlineComponents(Re){return Re._onlineComponents||(Re._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Re,Re._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(Re,new OnlineComponentProvider))),Re._onlineComponents}function __PRIVATE_getSyncEngine(Re){return __PRIVATE_ensureOnlineComponents(Re).then((Ce=>Ce.syncEngine))}async function __PRIVATE_getEventManager(Re){const Ce=await __PRIVATE_ensureOnlineComponents(Re),je=Ce.eventManager;return je.onListen=__PRIVATE_syncEngineListen.bind(null,Ce.syncEngine),je.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,Ce.syncEngine),je.onFirstRemoteStoreListen=__PRIVATE_triggerRemoteStoreListen.bind(null,Ce.syncEngine),je.onLastRemoteStoreUnlisten=__PRIVATE_triggerRemoteStoreUnlisten.bind(null,Ce.syncEngine),je}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(Re,Ce,je={}){const Be=new __PRIVATE_Deferred;return Re.asyncQueue.enqueueAndForget((async()=>(function(Fe,ke,Oe,Me,Ue){const $e=new __PRIVATE_AsyncObserver({next:Qe=>{ke.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(Fe,He)));const We=Qe.docs.has(Oe);!We&&Qe.fromCache?Ue.reject(new FirestoreError(C$1.UNAVAILABLE,"Failed to get document because the client is offline.")):We&&Qe.fromCache&&Me&&Me.source==="server"?Ue.reject(new FirestoreError(C$1.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Ue.resolve(Qe)},error:Qe=>Ue.reject(Qe)}),He=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(Oe.path),$e,{includeMetadataChanges:!0,ra:!0});return __PRIVATE_eventManagerListen(Fe,He)})(await __PRIVATE_getEventManager(Re),Re.asyncQueue,Ce,je,Be))),Be.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(Re,Ce,je={}){const Be=new __PRIVATE_Deferred;return Re.asyncQueue.enqueueAndForget((async()=>(function(Fe,ke,Oe,Me,Ue){const $e=new __PRIVATE_AsyncObserver({next:Qe=>{ke.enqueueAndForget((()=>__PRIVATE_eventManagerUnlisten(Fe,He))),Qe.fromCache&&Me.source==="server"?Ue.reject(new FirestoreError(C$1.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Ue.resolve(Qe)},error:Qe=>Ue.reject(Qe)}),He=new __PRIVATE_QueryListener(Oe,$e,{includeMetadataChanges:!0,ra:!0});return __PRIVATE_eventManagerListen(Fe,He)})(await __PRIVATE_getEventManager(Re),Re.asyncQueue,Ce,je,Be))),Be.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(Re){const Ce={};return Re.timeoutSeconds!==void 0&&(Ce.timeoutSeconds=Re.timeoutSeconds),Ce}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye$2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(Re,Ce,je){if(!je)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${Re}() cannot be called with an empty ${Ce}.`)}function __PRIVATE_validateIsNotUsedTogether(Re,Ce,je,Be){if(Ce===!0&&Be===!0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`${Re} and ${je} cannot be used together.`)}function __PRIVATE_validateDocumentPath(Re){if(!DocumentKey.isDocumentKey(Re))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${Re} has ${Re.length}.`)}function __PRIVATE_validateCollectionPath(Re){if(DocumentKey.isDocumentKey(Re))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${Re} has ${Re.length}.`)}function __PRIVATE_valueDescription(Re){if(Re===void 0)return"undefined";if(Re===null)return"null";if(typeof Re=="string")return Re.length>20&&(Re=`${Re.substring(0,20)}...`),JSON.stringify(Re);if(typeof Re=="number"||typeof Re=="boolean")return""+Re;if(typeof Re=="object"){if(Re instanceof Array)return"an array";{const Ce=(function(Be){return Be.constructor?Be.constructor.name:null})(Re);return Ce?`a custom ${Ce} object`:"an object"}}return typeof Re=="function"?"a function":fail()}function __PRIVATE_cast(Re,Ce){if("_delegate"in Re&&(Re=Re._delegate),!(Re instanceof Ce)){if(Ce.name===Re.constructor.name)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const je=__PRIVATE_valueDescription(Re);throw new FirestoreError(C$1.INVALID_ARGUMENT,`Expected type '${Ce.name}', but it was: ${je}`)}}return Re}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(Ce){var je,Be;if(Ce.host===void 0){if(Ce.ssl!==void 0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=Ce.host,this.ssl=(je=Ce.ssl)===null||je===void 0||je;if(this.credentials=Ce.credentials,this.ignoreUndefinedProperties=!!Ce.ignoreUndefinedProperties,this.localCache=Ce.localCache,Ce.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(Ce.cacheSizeBytes!==-1&&Ce.cacheSizeBytes<1048576)throw new FirestoreError(C$1.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=Ce.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",Ce.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",Ce.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!Ce.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:Ce.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!Ce.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((Be=Ce.experimentalLongPollingOptions)!==null&&Be!==void 0?Be:{}),(function(Fe){if(Fe.timeoutSeconds!==void 0){if(isNaN(Fe.timeoutSeconds))throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Fe.timeoutSeconds} (must not be NaN)`);if(Fe.timeoutSeconds<5)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Fe.timeoutSeconds} (minimum allowed value is 5)`);if(Fe.timeoutSeconds>30)throw new FirestoreError(C$1.INVALID_ARGUMENT,`invalid long polling timeout: ${Fe.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!Ce.useFetchStreams}isEqual(Ce){return this.host===Ce.host&&this.ssl===Ce.ssl&&this.credentials===Ce.credentials&&this.cacheSizeBytes===Ce.cacheSizeBytes&&this.experimentalForceLongPolling===Ce.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===Ce.experimentalAutoDetectLongPolling&&(function(Be,De){return Be.timeoutSeconds===De.timeoutSeconds})(this.experimentalLongPollingOptions,Ce.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===Ce.ignoreUndefinedProperties&&this.useFetchStreams===Ce.useFetchStreams}}class Firestore$1{constructor(Ce,je,Be,De){this._authCredentials=Ce,this._appCheckCredentials=je,this._databaseId=Be,this._app=De,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(Ce){if(this._settingsFrozen)throw new FirestoreError(C$1.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(Ce),Ce.credentials!==void 0&&(this._authCredentials=(function(Be){if(!Be)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(Be.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(Be.sessionIndex||"0",Be.iamToken||null,Be.authTokenFactory||null);case"provider":return Be.client;default:throw new FirestoreError(C$1.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(Ce.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(je){const Be=ye$2.get(je);Be&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),ye$2.delete(je),Be.terminate())})(this),Promise.resolve()}}function connectFirestoreEmulator(Re,Ce,je,Be={}){var De;const Fe=(Re=__PRIVATE_cast(Re,Firestore$1))._getSettings(),ke=`${Ce}:${je}`;if(Fe.host!=="firestore.googleapis.com"&&Fe.host!==ke&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),Re._setSettings(Object.assign(Object.assign({},Fe),{host:ke,ssl:!1})),Be.mockUserToken){let Oe,Me;if(typeof Be.mockUserToken=="string")Oe=Be.mockUserToken,Me=User.MOCK_USER;else{Oe=createMockUserToken(Be.mockUserToken,(De=Re._app)===null||De===void 0?void 0:De.options.projectId);const Ue=Be.mockUserToken.sub||Be.mockUserToken.user_id;if(!Ue)throw new FirestoreError(C$1.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");Me=new User(Ue)}Re._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(Oe,Me))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Query{constructor(Ce,je,Be){this.converter=je,this._query=Be,this.type="query",this.firestore=Ce}withConverter(Ce){return new Query(this.firestore,Ce,this._query)}}class DocumentReference{constructor(Ce,je,Be){this.converter=je,this._key=Be,this.type="document",this.firestore=Ce}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference(this.firestore,this.converter,this._key.path.popLast())}withConverter(Ce){return new DocumentReference(this.firestore,Ce,this._key)}}class CollectionReference extends Query{constructor(Ce,je,Be){super(Ce,je,__PRIVATE_newQueryForPath(Be)),this._path=Be,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const Ce=this._path.popLast();return Ce.isEmpty()?null:new DocumentReference(this.firestore,null,new DocumentKey(Ce))}withConverter(Ce){return new CollectionReference(this.firestore,Ce,this._path)}}function collection(Re,Ce,...je){if(Re=getModularInstance(Re),__PRIVATE_validateNonEmptyArgument("collection","path",Ce),Re instanceof Firestore$1){const Be=ResourcePath.fromString(Ce,...je);return __PRIVATE_validateCollectionPath(Be),new CollectionReference(Re,null,Be)}{if(!(Re instanceof DocumentReference||Re instanceof CollectionReference))throw new FirestoreError(C$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Be=Re._path.child(ResourcePath.fromString(Ce,...je));return __PRIVATE_validateCollectionPath(Be),new CollectionReference(Re.firestore,null,Be)}}function doc(Re,Ce,...je){if(Re=getModularInstance(Re),arguments.length===1&&(Ce=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",Ce),Re instanceof Firestore$1){const Be=ResourcePath.fromString(Ce,...je);return __PRIVATE_validateDocumentPath(Be),new DocumentReference(Re,null,new DocumentKey(Be))}{if(!(Re instanceof DocumentReference||Re instanceof CollectionReference))throw new FirestoreError(C$1.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const Be=Re._path.child(ResourcePath.fromString(Ce,...je));return __PRIVATE_validateDocumentPath(Be),new DocumentReference(Re.firestore,Re instanceof CollectionReference?Re.converter:null,new DocumentKey(Be))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this.hu=()=>{const je=getDocument();je&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+je.visibilityState),this.Yo.Wo()};const Ce=getDocument();Ce&&typeof Ce.addEventListener=="function"&&Ce.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(Ce){this.enqueue(Ce)}enqueueAndForgetEvenWhileRestricted(Ce){this.Pu(),this.Iu(Ce)}enterRestrictedMode(Ce){if(!this.ou){this.ou=!0,this.cu=Ce||!1;const je=getDocument();je&&typeof je.removeEventListener=="function"&&je.removeEventListener("visibilitychange",this.hu)}}enqueue(Ce){if(this.Pu(),this.ou)return new Promise((()=>{}));const je=new __PRIVATE_Deferred;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(Ce().then(je.resolve,je.reject),je.promise))).then((()=>je.promise))}enqueueRetryable(Ce){this.enqueueAndForget((()=>(this.su.push(Ce),this.Tu())))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(Ce){if(!__PRIVATE_isIndexedDbTransactionError(Ce))throw Ce;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+Ce)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(Ce){const je=this.iu.then((()=>(this.uu=!0,Ce().catch((Be=>{this.au=Be,this.uu=!1;const De=(function(ke){let Oe=ke.message||"";return ke.stack&&(Oe=ke.stack.includes(ke.message)?ke.stack:ke.message+`
`+ke.stack),Oe})(Be);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",De),Be})).then((Be=>(this.uu=!1,Be))))));return this.iu=je,je}enqueueAfterDelay(Ce,je,Be){this.Pu(),this.lu.indexOf(Ce)>-1&&(je=0);const De=DelayedOperation.createAndSchedule(this,Ce,je,Be,(Fe=>this.Eu(Fe)));return this._u.push(De),De}Pu(){this.au&&fail()}verifyOperationInProgress(){}async du(){let Ce;do Ce=this.iu,await Ce;while(Ce!==this.iu)}Au(Ce){for(const je of this._u)if(je.timerId===Ce)return!0;return!1}Ru(Ce){return this.du().then((()=>{this._u.sort(((je,Be)=>je.targetTimeMs-Be.targetTimeMs));for(const je of this._u)if(je.skipDelay(),Ce!=="all"&&je.timerId===Ce)break;return this.du()}))}Vu(Ce){this.lu.push(Ce)}Eu(Ce){const je=this._u.indexOf(Ce);this._u.splice(je,1)}}function __PRIVATE_isPartialObserver(Re){return(function(je,Be){if(typeof je!="object"||je===null)return!1;const De=je;for(const Fe of Be)if(Fe in De&&typeof De[Fe]=="function")return!0;return!1})(Re,["next","error","complete"])}class Firestore extends Firestore$1{constructor(Ce,je,Be,De){super(Ce,je,Be,De),this.type="firestore",this._queue=(function(){return new __PRIVATE_AsyncQueueImpl})(),this._persistenceKey=De?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}}function getFirestore(Re,Ce){const je=typeof Re=="object"?Re:getApp(),Be=typeof Re=="string"?Re:"(default)",De=_getProvider(je,"firestore").getImmediate({identifier:Be});if(!De._initialized){const Fe=getDefaultEmulatorHostnameAndPort("firestore");Fe&&connectFirestoreEmulator(De,...Fe)}return De}function ensureFirestoreConfigured(Re){return Re._firestoreClient||__PRIVATE_configureFirestore(Re),Re._firestoreClient.verifyNotTerminated(),Re._firestoreClient}function __PRIVATE_configureFirestore(Re){var Ce,je,Be;const De=Re._freezeSettings(),Fe=(function(Oe,Me,Ue,$e){return new DatabaseInfo(Oe,Me,Ue,$e.host,$e.ssl,$e.experimentalForceLongPolling,$e.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions($e.experimentalLongPollingOptions),$e.useFetchStreams)})(Re._databaseId,((Ce=Re._app)===null||Ce===void 0?void 0:Ce.options.appId)||"",Re._persistenceKey,De);Re._firestoreClient=new FirestoreClient(Re._authCredentials,Re._appCheckCredentials,Re._queue,Fe),!((je=De.localCache)===null||je===void 0)&&je._offlineComponentProvider&&(!((Be=De.localCache)===null||Be===void 0)&&Be._onlineComponentProvider)&&(Re._firestoreClient._uninitializedComponentsProvider={_offlineKind:De.localCache.kind,_offline:De.localCache._offlineComponentProvider,_online:De.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(Ce){this._byteString=Ce}static fromBase64String(Ce){try{return new Bytes(ByteString.fromBase64String(Ce))}catch(je){throw new FirestoreError(C$1.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+je)}}static fromUint8Array(Ce){return new Bytes(ByteString.fromUint8Array(Ce))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(Ce){return this._byteString.isEqual(Ce._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...Ce){for(let je=0;je<Ce.length;++je)if(Ce[je].length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(Ce)}isEqual(Ce){return this._internalPath.isEqual(Ce._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(Ce){this._methodName=Ce}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(Ce,je){if(!isFinite(Ce)||Ce<-90||Ce>90)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+Ce);if(!isFinite(je)||je<-180||je>180)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+je);this._lat=Ce,this._long=je}get latitude(){return this._lat}get longitude(){return this._long}isEqual(Ce){return this._lat===Ce._lat&&this._long===Ce._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(Ce){return __PRIVATE_primitiveComparator(this._lat,Ce._lat)||__PRIVATE_primitiveComparator(this._long,Ce._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se$1=/^__.*__$/;class ParsedSetData{constructor(Ce,je,Be){this.data=Ce,this.fieldMask=je,this.fieldTransforms=Be}toMutation(Ce,je){return this.fieldMask!==null?new __PRIVATE_PatchMutation(Ce,this.data,this.fieldMask,je,this.fieldTransforms):new __PRIVATE_SetMutation(Ce,this.data,je,this.fieldTransforms)}}class ParsedUpdateData{constructor(Ce,je,Be){this.data=Ce,this.fieldMask=je,this.fieldTransforms=Be}toMutation(Ce,je){return new __PRIVATE_PatchMutation(Ce,this.data,this.fieldMask,je,this.fieldTransforms)}}function __PRIVATE_isWrite(Re){switch(Re){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(Ce,je,Be,De,Fe,ke){this.settings=Ce,this.databaseId=je,this.serializer=Be,this.ignoreUndefinedProperties=De,Fe===void 0&&this.mu(),this.fieldTransforms=Fe||[],this.fieldMask=ke||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(Ce){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),Ce),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(Ce){var je;const Be=(je=this.path)===null||je===void 0?void 0:je.child(Ce),De=this.gu({path:Be,yu:!1});return De.wu(Ce),De}Su(Ce){var je;const Be=(je=this.path)===null||je===void 0?void 0:je.child(Ce),De=this.gu({path:Be,yu:!1});return De.mu(),De}bu(Ce){return this.gu({path:void 0,yu:!0})}Du(Ce){return __PRIVATE_createError(Ce,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(Ce){return this.fieldMask.find((je=>Ce.isPrefixOf(je)))!==void 0||this.fieldTransforms.find((je=>Ce.isPrefixOf(je.field)))!==void 0}mu(){if(this.path)for(let Ce=0;Ce<this.path.length;Ce++)this.wu(this.path.get(Ce))}wu(Ce){if(Ce.length===0)throw this.Du("Document fields must not be empty");if(__PRIVATE_isWrite(this.fu)&&Se$1.test(Ce))throw this.Du('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(Ce,je,Be){this.databaseId=Ce,this.ignoreUndefinedProperties=je,this.serializer=Be||__PRIVATE_newSerializer(Ce)}Fu(Ce,je,Be,De=!1){return new __PRIVATE_ParseContextImpl({fu:Ce,methodName:je,vu:Be,path:FieldPath$1.emptyPath(),yu:!1,Cu:De},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(Re){const Ce=Re._freezeSettings(),je=__PRIVATE_newSerializer(Re._databaseId);return new __PRIVATE_UserDataReader(Re._databaseId,!!Ce.ignoreUndefinedProperties,je)}function __PRIVATE_parseSetData(Re,Ce,je,Be,De,Fe={}){const ke=Re.Fu(Fe.merge||Fe.mergeFields?2:0,Ce,je,De);__PRIVATE_validatePlainObject("Data must be an object, but it was:",ke,Be);const Oe=__PRIVATE_parseObject(Be,ke);let Me,Ue;if(Fe.merge)Me=new FieldMask(ke.fieldMask),Ue=ke.fieldTransforms;else if(Fe.mergeFields){const $e=[];for(const He of Fe.mergeFields){const Qe=__PRIVATE_fieldPathFromArgument$1(Ce,He,je);if(!ke.contains(Qe))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Field '${Qe}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains($e,Qe)||$e.push(Qe)}Me=new FieldMask($e),Ue=ke.fieldTransforms.filter((He=>Me.covers(He.field)))}else Me=null,Ue=ke.fieldTransforms;return new ParsedSetData(new ObjectValue(Oe),Me,Ue)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue{_toFieldTransform(Ce){if(Ce.fu!==2)throw Ce.fu===1?Ce.Du(`${this._methodName}() can only appear at the top level of your update data`):Ce.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return Ce.fieldMask.push(Ce.path),null}isEqual(Ce){return Ce instanceof __PRIVATE_DeleteFieldValueImpl}}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue{_toFieldTransform(Ce){return new FieldTransform(Ce.path,new __PRIVATE_ServerTimestampTransform)}isEqual(Ce){return Ce instanceof __PRIVATE_ServerTimestampFieldValueImpl}}function __PRIVATE_parseUpdateData(Re,Ce,je,Be){const De=Re.Fu(1,Ce,je);__PRIVATE_validatePlainObject("Data must be an object, but it was:",De,Be);const Fe=[],ke=ObjectValue.empty();forEach(Be,((Me,Ue)=>{const $e=__PRIVATE_fieldPathFromDotSeparatedString(Ce,Me,je);Ue=getModularInstance(Ue);const He=De.Su($e);if(Ue instanceof __PRIVATE_DeleteFieldValueImpl)Fe.push($e);else{const Qe=__PRIVATE_parseData(Ue,He);Qe!=null&&(Fe.push($e),ke.set($e,Qe))}}));const Oe=new FieldMask(Fe);return new ParsedUpdateData(ke,Oe,De.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(Re,Ce,je,Be,De,Fe){const ke=Re.Fu(1,Ce,je),Oe=[__PRIVATE_fieldPathFromArgument$1(Ce,Be,je)],Me=[De];if(Fe.length%2!=0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Function ${Ce}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Qe=0;Qe<Fe.length;Qe+=2)Oe.push(__PRIVATE_fieldPathFromArgument$1(Ce,Fe[Qe])),Me.push(Fe[Qe+1]);const Ue=[],$e=ObjectValue.empty();for(let Qe=Oe.length-1;Qe>=0;--Qe)if(!__PRIVATE_fieldMaskContains(Ue,Oe[Qe])){const We=Oe[Qe];let qe=Me[Qe];qe=getModularInstance(qe);const Ke=ke.Su(We);if(qe instanceof __PRIVATE_DeleteFieldValueImpl)Ue.push(We);else{const Xe=__PRIVATE_parseData(qe,Ke);Xe!=null&&(Ue.push(We),$e.set(We,Xe))}}const He=new FieldMask(Ue);return new ParsedUpdateData($e,He,ke.fieldTransforms)}function __PRIVATE_parseQueryValue(Re,Ce,je,Be=!1){return __PRIVATE_parseData(je,Re.Fu(Be?4:3,Ce))}function __PRIVATE_parseData(Re,Ce){if(__PRIVATE_looksLikeJsonObject(Re=getModularInstance(Re)))return __PRIVATE_validatePlainObject("Unsupported field value:",Ce,Re),__PRIVATE_parseObject(Re,Ce);if(Re instanceof FieldValue)return(function(Be,De){if(!__PRIVATE_isWrite(De.fu))throw De.Du(`${Be._methodName}() can only be used with update() and set()`);if(!De.path)throw De.Du(`${Be._methodName}() is not currently supported inside arrays`);const Fe=Be._toFieldTransform(De);Fe&&De.fieldTransforms.push(Fe)})(Re,Ce),null;if(Re===void 0&&Ce.ignoreUndefinedProperties)return null;if(Ce.path&&Ce.fieldMask.push(Ce.path),Re instanceof Array){if(Ce.settings.yu&&Ce.fu!==4)throw Ce.Du("Nested arrays are not supported");return(function(Be,De){const Fe=[];let ke=0;for(const Oe of Be){let Me=__PRIVATE_parseData(Oe,De.bu(ke));Me==null&&(Me={nullValue:"NULL_VALUE"}),Fe.push(Me),ke++}return{arrayValue:{values:Fe}}})(Re,Ce)}return(function(Be,De){if((Be=getModularInstance(Be))===null)return{nullValue:"NULL_VALUE"};if(typeof Be=="number")return toNumber$1(De.serializer,Be);if(typeof Be=="boolean")return{booleanValue:Be};if(typeof Be=="string")return{stringValue:Be};if(Be instanceof Date){const Fe=Timestamp.fromDate(Be);return{timestampValue:toTimestamp(De.serializer,Fe)}}if(Be instanceof Timestamp){const Fe=new Timestamp(Be.seconds,1e3*Math.floor(Be.nanoseconds/1e3));return{timestampValue:toTimestamp(De.serializer,Fe)}}if(Be instanceof GeoPoint)return{geoPointValue:{latitude:Be.latitude,longitude:Be.longitude}};if(Be instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(De.serializer,Be._byteString)};if(Be instanceof DocumentReference){const Fe=De.databaseId,ke=Be.firestore._databaseId;if(!ke.isEqual(Fe))throw De.Du(`Document reference is for database ${ke.projectId}/${ke.database} but should be for database ${Fe.projectId}/${Fe.database}`);return{referenceValue:__PRIVATE_toResourceName(Be.firestore._databaseId||De.databaseId,Be._key.path)}}throw De.Du(`Unsupported field value: ${__PRIVATE_valueDescription(Be)}`)})(Re,Ce)}function __PRIVATE_parseObject(Re,Ce){const je={};return isEmpty$3(Re)?Ce.path&&Ce.path.length>0&&Ce.fieldMask.push(Ce.path):forEach(Re,((Be,De)=>{const Fe=__PRIVATE_parseData(De,Ce.pu(Be));Fe!=null&&(je[Be]=Fe)})),{mapValue:{fields:je}}}function __PRIVATE_looksLikeJsonObject(Re){return!(typeof Re!="object"||Re===null||Re instanceof Array||Re instanceof Date||Re instanceof Timestamp||Re instanceof GeoPoint||Re instanceof Bytes||Re instanceof DocumentReference||Re instanceof FieldValue)}function __PRIVATE_validatePlainObject(Re,Ce,je){if(!__PRIVATE_looksLikeJsonObject(je)||!(function(De){return typeof De=="object"&&De!==null&&(Object.getPrototypeOf(De)===Object.prototype||Object.getPrototypeOf(De)===null)})(je)){const Be=__PRIVATE_valueDescription(je);throw Be==="an object"?Ce.Du(Re+" a custom object"):Ce.Du(Re+" "+Be)}}function __PRIVATE_fieldPathFromArgument$1(Re,Ce,je){if((Ce=getModularInstance(Ce))instanceof FieldPath)return Ce._internalPath;if(typeof Ce=="string")return __PRIVATE_fieldPathFromDotSeparatedString(Re,Ce);throw __PRIVATE_createError("Field path arguments must be of type string or ",Re,!1,void 0,je)}const be$2=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(Re,Ce,je){if(Ce.search(be$2)>=0)throw __PRIVATE_createError(`Invalid field path (${Ce}). Paths must not contain '~', '*', '/', '[', or ']'`,Re,!1,void 0,je);try{return new FieldPath(...Ce.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${Ce}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,Re,!1,void 0,je)}}function __PRIVATE_createError(Re,Ce,je,Be,De){const Fe=Be&&!Be.isEmpty(),ke=De!==void 0;let Oe=`Function ${Ce}() called with invalid data`;je&&(Oe+=" (via `toFirestore()`)"),Oe+=". ";let Me="";return(Fe||ke)&&(Me+=" (found",Fe&&(Me+=` in field ${Be}`),ke&&(Me+=` in document ${De}`),Me+=")"),new FirestoreError(C$1.INVALID_ARGUMENT,Oe+Re+Me)}function __PRIVATE_fieldMaskContains(Re,Ce){return Re.some((je=>je.isEqual(Ce)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(Ce,je,Be,De,Fe){this._firestore=Ce,this._userDataWriter=je,this._key=Be,this._document=De,this._converter=Fe}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const Ce=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(Ce)}return this._userDataWriter.convertValue(this._document.data.value)}}get(Ce){if(this._document){const je=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",Ce));if(je!==null)return this._userDataWriter.convertValue(je)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(Re,Ce){return typeof Ce=="string"?__PRIVATE_fieldPathFromDotSeparatedString(Re,Ce):Ce instanceof FieldPath?Ce._internalPath:Ce._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(Re){if(Re.limitType==="L"&&Re.explicitOrderBy.length===0)throw new FirestoreError(C$1.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(Re,Ce,...je){let Be=[];Ce instanceof AppliableConstraint&&Be.push(Ce),Be=Be.concat(je),(function(Fe){const ke=Fe.filter((Me=>Me instanceof QueryCompositeFilterConstraint)).length,Oe=Fe.filter((Me=>Me instanceof QueryFieldFilterConstraint)).length;if(ke>1||ke>0&&Oe>0)throw new FirestoreError(C$1.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(Be);for(const De of Be)Re=De._apply(Re);return Re}class QueryFieldFilterConstraint extends QueryConstraint{constructor(Ce,je,Be){super(),this._field=Ce,this._op=je,this._value=Be,this.type="where"}static _create(Ce,je,Be){return new QueryFieldFilterConstraint(Ce,je,Be)}_apply(Ce){const je=this._parse(Ce);return __PRIVATE_validateNewFieldFilter(Ce._query,je),new Query(Ce.firestore,Ce.converter,__PRIVATE_queryWithAddedFilter(Ce._query,je))}_parse(Ce){const je=__PRIVATE_newUserDataReader(Ce.firestore);return(function(Fe,ke,Oe,Me,Ue,$e,He){let Qe;if(Ue.isKeyField()){if($e==="array-contains"||$e==="array-contains-any")throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid Query. You can't perform '${$e}' queries on documentId().`);if($e==="in"||$e==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(He,$e);const We=[];for(const qe of He)We.push(__PRIVATE_parseDocumentIdValue(Me,Fe,qe));Qe={arrayValue:{values:We}}}else Qe=__PRIVATE_parseDocumentIdValue(Me,Fe,He)}else $e!=="in"&&$e!=="not-in"&&$e!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(He,$e),Qe=__PRIVATE_parseQueryValue(Oe,ke,He,$e==="in"||$e==="not-in");return FieldFilter.create(Ue,$e,Qe)})(Ce._query,"where",je,Ce.firestore._databaseId,this._field,this._op,this._value)}}function where(Re,Ce,je){const Be=Ce,De=__PRIVATE_fieldPathFromArgument("where",Re);return QueryFieldFilterConstraint._create(De,Be,je)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(Ce,je){super(),this.type=Ce,this._queryConstraints=je}static _create(Ce,je){return new QueryCompositeFilterConstraint(Ce,je)}_parse(Ce){const je=this._queryConstraints.map((Be=>Be._parse(Ce))).filter((Be=>Be.getFilters().length>0));return je.length===1?je[0]:CompositeFilter.create(je,this._getOperator())}_apply(Ce){const je=this._parse(Ce);return je.getFilters().length===0?Ce:((function(De,Fe){let ke=De;const Oe=Fe.getFlattenedFilters();for(const Me of Oe)__PRIVATE_validateNewFieldFilter(ke,Me),ke=__PRIVATE_queryWithAddedFilter(ke,Me)})(Ce._query,je),new Query(Ce.firestore,Ce.converter,__PRIVATE_queryWithAddedFilter(Ce._query,je)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class QueryOrderByConstraint extends QueryConstraint{constructor(Ce,je){super(),this._field=Ce,this._direction=je,this.type="orderBy"}static _create(Ce,je){return new QueryOrderByConstraint(Ce,je)}_apply(Ce){const je=(function(De,Fe,ke){if(De.startAt!==null)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(De.endAt!==null)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(Fe,ke)})(Ce._query,this._field,this._direction);return new Query(Ce.firestore,Ce.converter,(function(De,Fe){const ke=De.explicitOrderBy.concat([Fe]);return new __PRIVATE_QueryImpl(De.path,De.collectionGroup,ke,De.filters.slice(),De.limit,De.limitType,De.startAt,De.endAt)})(Ce._query,je))}}function orderBy$1(Re,Ce="asc"){const je=Ce,Be=__PRIVATE_fieldPathFromArgument("orderBy",Re);return QueryOrderByConstraint._create(Be,je)}function __PRIVATE_parseDocumentIdValue(Re,Ce,je){if(typeof(je=getModularInstance(je))=="string"){if(je==="")throw new FirestoreError(C$1.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(Ce)&&je.indexOf("/")!==-1)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${je}' contains a '/' character.`);const Be=Ce.path.child(ResourcePath.fromString(je));if(!DocumentKey.isDocumentKey(Be))throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${Be}' is not because it has an odd number of segments (${Be.length}).`);return __PRIVATE_refValue(Re,new DocumentKey(Be))}if(je instanceof DocumentReference)return __PRIVATE_refValue(Re,je._key);throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(je)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(Re,Ce){if(!Array.isArray(Re)||Re.length===0)throw new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${Ce.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(Re,Ce){const je=(function(De,Fe){for(const ke of De)for(const Oe of ke.getFlattenedFilters())if(Fe.indexOf(Oe.op)>=0)return Oe.op;return null})(Re.filters,(function(De){switch(De){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(Ce.op));if(je!==null)throw je===Ce.op?new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${Ce.op.toString()}' filter.`):new FirestoreError(C$1.INVALID_ARGUMENT,`Invalid query. You cannot use '${Ce.op.toString()}' filters with '${je.toString()}' filters.`)}class AbstractUserDataWriter{convertValue(Ce,je="none"){switch(__PRIVATE_typeOrder(Ce)){case 0:return null;case 1:return Ce.booleanValue;case 2:return __PRIVATE_normalizeNumber(Ce.integerValue||Ce.doubleValue);case 3:return this.convertTimestamp(Ce.timestampValue);case 4:return this.convertServerTimestamp(Ce,je);case 5:return Ce.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(Ce.bytesValue));case 7:return this.convertReference(Ce.referenceValue);case 8:return this.convertGeoPoint(Ce.geoPointValue);case 9:return this.convertArray(Ce.arrayValue,je);case 10:return this.convertObject(Ce.mapValue,je);default:throw fail()}}convertObject(Ce,je){return this.convertObjectMap(Ce.fields,je)}convertObjectMap(Ce,je="none"){const Be={};return forEach(Ce,((De,Fe)=>{Be[De]=this.convertValue(Fe,je)})),Be}convertGeoPoint(Ce){return new GeoPoint(__PRIVATE_normalizeNumber(Ce.latitude),__PRIVATE_normalizeNumber(Ce.longitude))}convertArray(Ce,je){return(Ce.values||[]).map((Be=>this.convertValue(Be,je)))}convertServerTimestamp(Ce,je){switch(je){case"previous":const Be=__PRIVATE_getPreviousValue(Ce);return Be==null?null:this.convertValue(Be,je);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(Ce));default:return null}}convertTimestamp(Ce){const je=__PRIVATE_normalizeTimestamp(Ce);return new Timestamp(je.seconds,je.nanos)}convertDocumentKey(Ce,je){const Be=ResourcePath.fromString(Ce);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(Be));const De=new DatabaseId(Be.get(1),Be.get(3)),Fe=new DocumentKey(Be.popFirst(5));return De.isEqual(je)||__PRIVATE_logError(`Document ${Fe} contains a document reference within a different database (${De.projectId}/${De.database}) which is not supported. It will be treated as a reference in the current database (${je.projectId}/${je.database}) instead.`),Fe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(Re,Ce,je){let Be;return Be=Re?je&&(je.merge||je.mergeFields)?Re.toFirestore(Ce,je):Re.toFirestore(Ce):Ce,Be}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(Ce,je){this.hasPendingWrites=Ce,this.fromCache=je}isEqual(Ce){return this.hasPendingWrites===Ce.hasPendingWrites&&this.fromCache===Ce.fromCache}}class DocumentSnapshot extends DocumentSnapshot$1{constructor(Ce,je,Be,De,Fe,ke){super(Ce,je,Be,De,ke),this._firestore=Ce,this._firestoreImpl=Ce,this.metadata=Fe}exists(){return super.exists()}data(Ce={}){if(this._document){if(this._converter){const je=new QueryDocumentSnapshot(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(je,Ce)}return this._userDataWriter.convertValue(this._document.data.value,Ce.serverTimestamps)}}get(Ce,je={}){if(this._document){const Be=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",Ce));if(Be!==null)return this._userDataWriter.convertValue(Be,je.serverTimestamps)}}}class QueryDocumentSnapshot extends DocumentSnapshot{data(Ce={}){return super.data(Ce)}}class QuerySnapshot{constructor(Ce,je,Be,De){this._firestore=Ce,this._userDataWriter=je,this._snapshot=De,this.metadata=new SnapshotMetadata(De.hasPendingWrites,De.fromCache),this.query=Be}get docs(){const Ce=[];return this.forEach((je=>Ce.push(je))),Ce}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(Ce,je){this._snapshot.docs.forEach((Be=>{Ce.call(je,new QueryDocumentSnapshot(this._firestore,this._userDataWriter,Be.key,Be,new SnapshotMetadata(this._snapshot.mutatedKeys.has(Be.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(Ce={}){const je=!!Ce.includeMetadataChanges;if(je&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(C$1.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===je||(this._cachedChanges=(function(De,Fe){if(De._snapshot.oldDocs.isEmpty()){let ke=0;return De._snapshot.docChanges.map((Oe=>{const Me=new QueryDocumentSnapshot(De._firestore,De._userDataWriter,Oe.doc.key,Oe.doc,new SnapshotMetadata(De._snapshot.mutatedKeys.has(Oe.doc.key),De._snapshot.fromCache),De.query.converter);return Oe.doc,{type:"added",doc:Me,oldIndex:-1,newIndex:ke++}}))}{let ke=De._snapshot.oldDocs;return De._snapshot.docChanges.filter((Oe=>Fe||Oe.type!==3)).map((Oe=>{const Me=new QueryDocumentSnapshot(De._firestore,De._userDataWriter,Oe.doc.key,Oe.doc,new SnapshotMetadata(De._snapshot.mutatedKeys.has(Oe.doc.key),De._snapshot.fromCache),De.query.converter);let Ue=-1,$e=-1;return Oe.type!==0&&(Ue=ke.indexOf(Oe.doc.key),ke=ke.delete(Oe.doc.key)),Oe.type!==1&&(ke=ke.add(Oe.doc),$e=ke.indexOf(Oe.doc.key)),{type:__PRIVATE_resultChangeType(Oe.type),doc:Me,oldIndex:Ue,newIndex:$e}}))}})(this,je),this._cachedChangesIncludeMetadataChanges=je),this._cachedChanges}}function __PRIVATE_resultChangeType(Re){switch(Re){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(Re){Re=__PRIVATE_cast(Re,DocumentReference);const Ce=__PRIVATE_cast(Re.firestore,Firestore);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(Ce),Re._key).then((je=>__PRIVATE_convertToDocSnapshot(Ce,Re,je)))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(Ce){super(),this.firestore=Ce}convertBytes(Ce){return new Bytes(Ce)}convertReference(Ce){const je=this.convertDocumentKey(Ce,this.firestore._databaseId);return new DocumentReference(this.firestore,null,je)}}function getDocs(Re){Re=__PRIVATE_cast(Re,Query);const Ce=__PRIVATE_cast(Re.firestore,Firestore),je=ensureFirestoreConfigured(Ce),Be=new __PRIVATE_ExpUserDataWriter(Ce);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(Re._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(je,Re._query).then((De=>new QuerySnapshot(Ce,Be,Re,De)))}function setDoc(Re,Ce,je){Re=__PRIVATE_cast(Re,DocumentReference);const Be=__PRIVATE_cast(Re.firestore,Firestore),De=__PRIVATE_applyFirestoreDataConverter(Re.converter,Ce,je);return executeWrite(Be,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Be),"setDoc",Re._key,De,Re.converter!==null,je).toMutation(Re._key,Precondition.none())])}function updateDoc(Re,Ce,je,...Be){Re=__PRIVATE_cast(Re,DocumentReference);const De=__PRIVATE_cast(Re.firestore,Firestore),Fe=__PRIVATE_newUserDataReader(De);let ke;return ke=typeof(Ce=getModularInstance(Ce))=="string"||Ce instanceof FieldPath?__PRIVATE_parseUpdateVarargs(Fe,"updateDoc",Re._key,Ce,je,Be):__PRIVATE_parseUpdateData(Fe,"updateDoc",Re._key,Ce),executeWrite(De,[ke.toMutation(Re._key,Precondition.exists(!0))])}function deleteDoc(Re){return executeWrite(__PRIVATE_cast(Re.firestore,Firestore),[new __PRIVATE_DeleteMutation(Re._key,Precondition.none())])}function addDoc(Re,Ce){const je=__PRIVATE_cast(Re.firestore,Firestore),Be=doc(Re),De=__PRIVATE_applyFirestoreDataConverter(Re.converter,Ce);return executeWrite(je,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(Re.firestore),"addDoc",Be._key,De,Re.converter!==null,{}).toMutation(Be._key,Precondition.exists(!1))]).then((()=>Be))}function onSnapshot(Re,...Ce){var je,Be,De;Re=getModularInstance(Re);let Fe={includeMetadataChanges:!1,source:"default"},ke=0;typeof Ce[ke]!="object"||__PRIVATE_isPartialObserver(Ce[ke])||(Fe=Ce[ke],ke++);const Oe={includeMetadataChanges:Fe.includeMetadataChanges,source:Fe.source};if(__PRIVATE_isPartialObserver(Ce[ke])){const He=Ce[ke];Ce[ke]=(je=He.next)===null||je===void 0?void 0:je.bind(He),Ce[ke+1]=(Be=He.error)===null||Be===void 0?void 0:Be.bind(He),Ce[ke+2]=(De=He.complete)===null||De===void 0?void 0:De.bind(He)}let Me,Ue,$e;if(Re instanceof DocumentReference)Ue=__PRIVATE_cast(Re.firestore,Firestore),$e=__PRIVATE_newQueryForPath(Re._key.path),Me={next:He=>{Ce[ke]&&Ce[ke](__PRIVATE_convertToDocSnapshot(Ue,Re,He))},error:Ce[ke+1],complete:Ce[ke+2]};else{const He=__PRIVATE_cast(Re,Query);Ue=__PRIVATE_cast(He.firestore,Firestore),$e=He._query;const Qe=new __PRIVATE_ExpUserDataWriter(Ue);Me={next:We=>{Ce[ke]&&Ce[ke](new QuerySnapshot(Ue,Qe,He,We))},error:Ce[ke+1],complete:Ce[ke+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(Re._query)}return(function(Qe,We,qe,Ke){const Xe=new __PRIVATE_AsyncObserver(Ke),Ye=new __PRIVATE_QueryListener(We,Xe,qe);return Qe.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(Qe),Ye))),()=>{Xe.$a(),Qe.asyncQueue.enqueueAndForget((async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(Qe),Ye)))}})(ensureFirestoreConfigured(Ue),$e,Oe,Me)}function executeWrite(Re,Ce){return(function(Be,De){const Fe=new __PRIVATE_Deferred;return Be.asyncQueue.enqueueAndForget((async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(Be),De,Fe))),Fe.promise})(ensureFirestoreConfigured(Re),Ce)}function __PRIVATE_convertToDocSnapshot(Re,Ce,je){const Be=je.docs.get(Ce._key),De=new __PRIVATE_ExpUserDataWriter(Re);return new DocumentSnapshot(Re,De,Ce._key,Be,new SnapshotMetadata(je.hasPendingWrites,je.fromCache),Ce.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WriteBatch{constructor(Ce,je){this._firestore=Ce,this._commitHandler=je,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(Ce)}set(Ce,je,Be){this._verifyNotCommitted();const De=__PRIVATE_validateReference(Ce,this._firestore),Fe=__PRIVATE_applyFirestoreDataConverter(De.converter,je,Be),ke=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",De._key,Fe,De.converter!==null,Be);return this._mutations.push(ke.toMutation(De._key,Precondition.none())),this}update(Ce,je,Be,...De){this._verifyNotCommitted();const Fe=__PRIVATE_validateReference(Ce,this._firestore);let ke;return ke=typeof(je=getModularInstance(je))=="string"||je instanceof FieldPath?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",Fe._key,je,Be,De):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",Fe._key,je),this._mutations.push(ke.toMutation(Fe._key,Precondition.exists(!0))),this}delete(Ce){this._verifyNotCommitted();const je=__PRIVATE_validateReference(Ce,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(je._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(C$1.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function __PRIVATE_validateReference(Re,Ce){if((Re=getModularInstance(Re)).firestore!==Ce)throw new FirestoreError(C$1.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return Re}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function writeBatch(Re){return ensureFirestoreConfigured(Re=__PRIVATE_cast(Re,Firestore)),new WriteBatch(Re,(Ce=>executeWrite(Re,Ce)))}(function Re(Ce,je=!0){(function(De){b$1=De})(SDK_VERSION),_registerComponent(new Component("firestore",((Be,{instanceIdentifier:De,options:Fe})=>{const ke=Be.getProvider("app").getImmediate(),Oe=new Firestore(new __PRIVATE_FirebaseAuthCredentialsProvider(Be.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(Be.getProvider("app-check-internal")),(function(Ue,$e){if(!Object.prototype.hasOwnProperty.apply(Ue.options,["projectId"]))throw new FirestoreError(C$1.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(Ue.options.projectId,$e)})(ke,De),ke);return Fe=Object.assign({useFetchStreams:je},Fe),Oe._setSettings(Fe),Oe}),"PUBLIC").setMultipleInstances(!0)),registerVersion(S$1,"4.6.4",Ce),registerVersion(S$1,"4.6.4","esm2017")})();const index_esm$1=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter,Bytes,CollectionReference,DocumentReference,DocumentSnapshot,FieldPath,FieldValue,Firestore,FirestoreError,GeoPoint,Query,QueryCompositeFilterConstraint,QueryConstraint,QueryDocumentSnapshot,QueryFieldFilterConstraint,QueryOrderByConstraint,QuerySnapshot,SnapshotMetadata,Timestamp,WriteBatch,_AutoId:__PRIVATE_AutoId,_ByteString:ByteString,_DatabaseId:DatabaseId,_DocumentKey:DocumentKey,_EmptyAuthCredentialsProvider:__PRIVATE_EmptyAuthCredentialsProvider,_FieldPath:FieldPath$1,_cast:__PRIVATE_cast,_logWarn:__PRIVATE_logWarn,_validateIsNotUsedTogether:__PRIVATE_validateIsNotUsedTogether,addDoc,collection,connectFirestoreEmulator,deleteDoc,doc,ensureFirestoreConfigured,executeWrite,getDoc,getDocs,getFirestore,onSnapshot,orderBy:orderBy$1,query,serverTimestamp,setDoc,updateDoc,where,writeBatch},Symbol.toStringTag,{value:"Module"})),scriptRel="modulepreload",assetsURL=function(Re,Ce){return new URL(Re,Ce).href},seen={},__vitePreload=function Re(Ce,je,Be){let De=Promise.resolve();if(je&&je.length>0){let Ue=function($e){return Promise.all($e.map(He=>Promise.resolve(He).then(Qe=>({status:"fulfilled",value:Qe}),Qe=>({status:"rejected",reason:Qe}))))};const ke=document.getElementsByTagName("link"),Oe=document.querySelector("meta[property=csp-nonce]"),Me=Oe?.nonce||Oe?.getAttribute("nonce");De=Ue(je.map($e=>{if($e=assetsURL($e,Be),$e in seen)return;seen[$e]=!0;const He=$e.endsWith(".css"),Qe=He?'[rel="stylesheet"]':"";if(!!Be)for(let Ke=ke.length-1;Ke>=0;Ke--){const Xe=ke[Ke];if(Xe.href===$e&&(!He||Xe.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${$e}"]${Qe}`))return;const qe=document.createElement("link");if(qe.rel=He?"stylesheet":scriptRel,He||(qe.as="script"),qe.crossOrigin="",qe.href=$e,Me&&qe.setAttribute("nonce",Me),document.head.appendChild(qe),He)return new Promise((Ke,Xe)=>{qe.addEventListener("load",Ke),qe.addEventListener("error",()=>Xe(new Error(`Unable to preload CSS for ${$e}`)))})}))}function Fe(ke){const Oe=new Event("vite:preloadError",{cancelable:!0});if(Oe.payload=ke,window.dispatchEvent(Oe),!Oe.defaultPrevented)throw ke}return De.then(ke=>{for(const Oe of ke||[])Oe.status==="rejected"&&Fe(Oe.reason);return Ce().catch(Fe)})};var name$3="firebase",version$4="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$3,version$4,"app");function __rest(Re,Ce){var je={};for(var Be in Re)Object.prototype.hasOwnProperty.call(Re,Be)&&Ce.indexOf(Be)<0&&(je[Be]=Re[Be]);if(Re!=null&&typeof Object.getOwnPropertySymbols=="function")for(var De=0,Be=Object.getOwnPropertySymbols(Re);De<Be.length;De++)Ce.indexOf(Be[De])<0&&Object.prototype.propertyIsEnumerable.call(Re,Be[De])&&(je[Be[De]]=Re[Be[De]]);return je}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(Re,...Ce){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${Re}`,...Ce)}function _logError(Re,...Ce){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${Re}`,...Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(Re,...Ce){throw createErrorInternal(Re,...Ce)}function _createError(Re,...Ce){return createErrorInternal(Re,...Ce)}function _errorWithCustomMessage(Re,Ce,je){const Be=Object.assign(Object.assign({},prodErrorMap()),{[Ce]:je});return new ErrorFactory("auth","Firebase",Be).create(Ce,{appName:Re.name})}function _serverAppCurrentUserOperationNotSupportedError(Re){return _errorWithCustomMessage(Re,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _assertInstanceOf(Re,Ce,je){const Be=je;if(!(Ce instanceof Be))throw Be.name!==Ce.constructor.name&&_fail(Re,"argument-error"),_errorWithCustomMessage(Re,"argument-error",`Type of ${Ce.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function createErrorInternal(Re,...Ce){if(typeof Re!="string"){const je=Ce[0],Be=[...Ce.slice(1)];return Be[0]&&(Be[0].appName=Re.name),Re._errorFactory.create(je,...Be)}return _DEFAULT_AUTH_ERROR_FACTORY.create(Re,...Ce)}function _assert(Re,Ce,...je){if(!Re)throw createErrorInternal(Ce,...je)}function debugFail(Re){const Ce="INTERNAL ASSERTION FAILED: "+Re;throw _logError(Ce),new Error(Ce)}function debugAssert(Re,Ce){Re||debugFail(Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var Re;return typeof self<"u"&&((Re=self.location)===null||Re===void 0?void 0:Re.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var Re;return typeof self<"u"&&((Re=self.location)===null||Re===void 0?void 0:Re.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const Re=navigator;return Re.languages&&Re.languages[0]||Re.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(Ce,je){this.shortDelay=Ce,this.longDelay=je,debugAssert(je>Ce,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative$1()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(Re,Ce){debugAssert(Re.emulator,"Emulator should always be set here");const{url:je}=Re.emulator;return Ce?`${je}${Ce.startsWith("/")?Ce.slice(1):Ce}`:je}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(Ce,je,Be){this.fetchImpl=Ce,je&&(this.headersImpl=je),Be&&(this.responseImpl=Be)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(Re,Ce){return Re.tenantId&&!Ce.tenantId?Object.assign(Object.assign({},Ce),{tenantId:Re.tenantId}):Ce}async function _performApiRequest(Re,Ce,je,Be,De={}){return _performFetchWithErrorHandling(Re,De,async()=>{let Fe={},ke={};Be&&(Ce==="GET"?ke=Be:Fe={body:JSON.stringify(Be)});const Oe=querystring(Object.assign({key:Re.config.apiKey},ke)).slice(1),Me=await Re._getAdditionalHeaders();return Me["Content-Type"]="application/json",Re.languageCode&&(Me["X-Firebase-Locale"]=Re.languageCode),FetchProvider.fetch()(_getFinalTarget(Re,Re.config.apiHost,je,Oe),Object.assign({method:Ce,headers:Me,referrerPolicy:"no-referrer"},Fe))})}async function _performFetchWithErrorHandling(Re,Ce,je){Re._canInitEmulator=!1;const Be=Object.assign(Object.assign({},SERVER_ERROR_MAP),Ce);try{const De=new NetworkTimeout(Re),Fe=await Promise.race([je(),De.promise]);De.clearNetworkTimeout();const ke=await Fe.json();if("needConfirmation"in ke)throw _makeTaggedError(Re,"account-exists-with-different-credential",ke);if(Fe.ok&&!("errorMessage"in ke))return ke;{const Oe=Fe.ok?ke.errorMessage:ke.error.message,[Me,Ue]=Oe.split(" : ");if(Me==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(Re,"credential-already-in-use",ke);if(Me==="EMAIL_EXISTS")throw _makeTaggedError(Re,"email-already-in-use",ke);if(Me==="USER_DISABLED")throw _makeTaggedError(Re,"user-disabled",ke);const $e=Be[Me]||Me.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw _errorWithCustomMessage(Re,$e,Ue);_fail(Re,$e)}}catch(De){if(De instanceof FirebaseError)throw De;_fail(Re,"network-request-failed",{message:String(De)})}}async function _performSignInRequest(Re,Ce,je,Be,De={}){const Fe=await _performApiRequest(Re,Ce,je,Be,De);return"mfaPendingCredential"in Fe&&_fail(Re,"multi-factor-auth-required",{_serverResponse:Fe}),Fe}function _getFinalTarget(Re,Ce,je,Be){const De=`${Ce}${je}?${Be}`;return Re.config.emulator?_emulatorUrl(Re.config,De):`${Re.config.apiScheme}://${De}`}function _parseEnforcementState(Re){switch(Re){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(Ce){this.auth=Ce,this.timer=null,this.promise=new Promise((je,Be)=>{this.timer=setTimeout(()=>Be(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(Re,Ce,je){const Be={appName:Re.name};je.email&&(Be.email=je.email),je.phoneNumber&&(Be.phoneNumber=je.phoneNumber);const De=_createError(Re,Ce,Be);return De.customData._tokenResponse=je,De}function isEnterprise(Re){return Re!==void 0&&Re.enterprise!==void 0}class RecaptchaConfig{constructor(Ce){if(this.siteKey="",this.recaptchaEnforcementState=[],Ce.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=Ce.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=Ce.recaptchaEnforcementState}getProviderEnforcementState(Ce){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const je of this.recaptchaEnforcementState)if(je.provider&&je.provider===Ce)return _parseEnforcementState(je.enforcementState);return null}isProviderEnabled(Ce){return this.getProviderEnforcementState(Ce)==="ENFORCE"||this.getProviderEnforcementState(Ce)==="AUDIT"}}async function getRecaptchaConfig(Re,Ce){return _performApiRequest(Re,"GET","/v2/recaptchaConfig",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(Re,Ce){return _performApiRequest(Re,"POST","/v1/accounts:delete",Ce)}async function getAccountInfo(Re,Ce){return _performApiRequest(Re,"POST","/v1/accounts:lookup",Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(Re){if(Re)try{const Ce=new Date(Number(Re));if(!isNaN(Ce.getTime()))return Ce.toUTCString()}catch{}}async function getIdTokenResult(Re,Ce=!1){const je=getModularInstance(Re),Be=await je.getIdToken(Ce),De=_parseToken(Be);_assert(De&&De.exp&&De.auth_time&&De.iat,je.auth,"internal-error");const Fe=typeof De.firebase=="object"?De.firebase:void 0,ke=Fe?.sign_in_provider;return{claims:De,token:Be,authTime:utcTimestampToDateString(secondsStringToMilliseconds(De.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(De.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(De.exp)),signInProvider:ke||null,signInSecondFactor:Fe?.sign_in_second_factor||null}}function secondsStringToMilliseconds(Re){return Number(Re)*1e3}function _parseToken(Re){const[Ce,je,Be]=Re.split(".");if(Ce===void 0||je===void 0||Be===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const De=base64Decode(je);return De?JSON.parse(De):(_logError("Failed to decode base64 JWT payload"),null)}catch(De){return _logError("Caught error parsing JWT payload as JSON",De?.toString()),null}}function _tokenExpiresIn(Re){const Ce=_parseToken(Re);return _assert(Ce,"internal-error"),_assert(typeof Ce.exp<"u","internal-error"),_assert(typeof Ce.iat<"u","internal-error"),Number(Ce.exp)-Number(Ce.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(Re,Ce,je=!1){if(je)return Ce;try{return await Ce}catch(Be){throw Be instanceof FirebaseError&&isUserInvalidated(Be)&&Re.auth.currentUser===Re&&await Re.auth.signOut(),Be}}function isUserInvalidated({code:Re}){return Re==="auth/user-disabled"||Re==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(Ce){this.user=Ce,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(Ce){var je;if(Ce){const Be=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),Be}else{this.errorBackoff=3e4;const De=((je=this.user.stsTokenManager.expirationTime)!==null&&je!==void 0?je:0)-Date.now()-3e5;return Math.max(0,De)}}schedule(Ce=!1){if(!this.isRunning)return;const je=this.getInterval(Ce);this.timerId=setTimeout(async()=>{await this.iteration()},je)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ce){Ce?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(Ce,je){this.createdAt=Ce,this.lastLoginAt=je,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(Ce){this.createdAt=Ce.createdAt,this.lastLoginAt=Ce.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(Re){var Ce;const je=Re.auth,Be=await Re.getIdToken(),De=await _logoutIfInvalidated(Re,getAccountInfo(je,{idToken:Be}));_assert(De?.users.length,je,"internal-error");const Fe=De.users[0];Re._notifyReloadListener(Fe);const ke=!((Ce=Fe.providerUserInfo)===null||Ce===void 0)&&Ce.length?extractProviderData(Fe.providerUserInfo):[],Oe=mergeProviderData(Re.providerData,ke),Me=Re.isAnonymous,Ue=!(Re.email&&Fe.passwordHash)&&!Oe?.length,$e=Me?Ue:!1,He={uid:Fe.localId,displayName:Fe.displayName||null,photoURL:Fe.photoUrl||null,email:Fe.email||null,emailVerified:Fe.emailVerified||!1,phoneNumber:Fe.phoneNumber||null,tenantId:Fe.tenantId||null,providerData:Oe,metadata:new UserMetadata(Fe.createdAt,Fe.lastLoginAt),isAnonymous:$e};Object.assign(Re,He)}async function reload(Re){const Ce=getModularInstance(Re);await _reloadWithoutSaving(Ce),await Ce.auth._persistUserIfCurrent(Ce),Ce.auth._notifyListenersIfCurrent(Ce)}function mergeProviderData(Re,Ce){return[...Re.filter(Be=>!Ce.some(De=>De.providerId===Be.providerId)),...Ce]}function extractProviderData(Re){return Re.map(Ce=>{var{providerId:je}=Ce,Be=__rest(Ce,["providerId"]);return{providerId:je,uid:Be.rawId||"",displayName:Be.displayName||null,email:Be.email||null,phoneNumber:Be.phoneNumber||null,photoURL:Be.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(Re,Ce){const je=await _performFetchWithErrorHandling(Re,{},async()=>{const Be=querystring({grant_type:"refresh_token",refresh_token:Ce}).slice(1),{tokenApiHost:De,apiKey:Fe}=Re.config,ke=_getFinalTarget(Re,De,"/v1/token",`key=${Fe}`),Oe=await Re._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(ke,{method:"POST",headers:Oe,body:Be})});return{accessToken:je.access_token,expiresIn:je.expires_in,refreshToken:je.refresh_token}}async function revokeToken(Re,Ce){return _performApiRequest(Re,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(Ce){_assert(Ce.idToken,"internal-error"),_assert(typeof Ce.idToken<"u","internal-error"),_assert(typeof Ce.refreshToken<"u","internal-error");const je="expiresIn"in Ce&&typeof Ce.expiresIn<"u"?Number(Ce.expiresIn):_tokenExpiresIn(Ce.idToken);this.updateTokensAndExpiration(Ce.idToken,Ce.refreshToken,je)}updateFromIdToken(Ce){_assert(Ce.length!==0,"internal-error");const je=_tokenExpiresIn(Ce);this.updateTokensAndExpiration(Ce,null,je)}async getToken(Ce,je=!1){return!je&&this.accessToken&&!this.isExpired?this.accessToken:(_assert(this.refreshToken,Ce,"user-token-expired"),this.refreshToken?(await this.refresh(Ce,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(Ce,je){const{accessToken:Be,refreshToken:De,expiresIn:Fe}=await requestStsToken(Ce,je);this.updateTokensAndExpiration(Be,De,Number(Fe))}updateTokensAndExpiration(Ce,je,Be){this.refreshToken=je||null,this.accessToken=Ce||null,this.expirationTime=Date.now()+Be*1e3}static fromJSON(Ce,je){const{refreshToken:Be,accessToken:De,expirationTime:Fe}=je,ke=new StsTokenManager;return Be&&(_assert(typeof Be=="string","internal-error",{appName:Ce}),ke.refreshToken=Be),De&&(_assert(typeof De=="string","internal-error",{appName:Ce}),ke.accessToken=De),Fe&&(_assert(typeof Fe=="number","internal-error",{appName:Ce}),ke.expirationTime=Fe),ke}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(Ce){this.accessToken=Ce.accessToken,this.refreshToken=Ce.refreshToken,this.expirationTime=Ce.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(Re,Ce){_assert(typeof Re=="string"||typeof Re>"u","internal-error",{appName:Ce})}class UserImpl{constructor(Ce){var{uid:je,auth:Be,stsTokenManager:De}=Ce,Fe=__rest(Ce,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=je,this.auth=Be,this.stsTokenManager=De,this.accessToken=De.accessToken,this.displayName=Fe.displayName||null,this.email=Fe.email||null,this.emailVerified=Fe.emailVerified||!1,this.phoneNumber=Fe.phoneNumber||null,this.photoURL=Fe.photoURL||null,this.isAnonymous=Fe.isAnonymous||!1,this.tenantId=Fe.tenantId||null,this.providerData=Fe.providerData?[...Fe.providerData]:[],this.metadata=new UserMetadata(Fe.createdAt||void 0,Fe.lastLoginAt||void 0)}async getIdToken(Ce){const je=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,Ce));return _assert(je,this.auth,"internal-error"),this.accessToken!==je&&(this.accessToken=je,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),je}getIdTokenResult(Ce){return getIdTokenResult(this,Ce)}reload(){return reload(this)}_assign(Ce){this!==Ce&&(_assert(this.uid===Ce.uid,this.auth,"internal-error"),this.displayName=Ce.displayName,this.photoURL=Ce.photoURL,this.email=Ce.email,this.emailVerified=Ce.emailVerified,this.phoneNumber=Ce.phoneNumber,this.isAnonymous=Ce.isAnonymous,this.tenantId=Ce.tenantId,this.providerData=Ce.providerData.map(je=>Object.assign({},je)),this.metadata._copy(Ce.metadata),this.stsTokenManager._assign(Ce.stsTokenManager))}_clone(Ce){const je=new UserImpl(Object.assign(Object.assign({},this),{auth:Ce,stsTokenManager:this.stsTokenManager._clone()}));return je.metadata._copy(this.metadata),je}_onReload(Ce){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=Ce,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(Ce){this.reloadListener?this.reloadListener(Ce):this.reloadUserInfo=Ce}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(Ce,je=!1){let Be=!1;Ce.idToken&&Ce.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(Ce),Be=!0),je&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),Be&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(_isFirebaseServerApp(this.auth.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this.auth));const Ce=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:Ce})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(Ce=>Object.assign({},Ce)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(Ce,je){var Be,De,Fe,ke,Oe,Me,Ue,$e;const He=(Be=je.displayName)!==null&&Be!==void 0?Be:void 0,Qe=(De=je.email)!==null&&De!==void 0?De:void 0,We=(Fe=je.phoneNumber)!==null&&Fe!==void 0?Fe:void 0,qe=(ke=je.photoURL)!==null&&ke!==void 0?ke:void 0,Ke=(Oe=je.tenantId)!==null&&Oe!==void 0?Oe:void 0,Xe=(Me=je._redirectEventId)!==null&&Me!==void 0?Me:void 0,Ye=(Ue=je.createdAt)!==null&&Ue!==void 0?Ue:void 0,Ze=($e=je.lastLoginAt)!==null&&$e!==void 0?$e:void 0,{uid:Je,emailVerified:tr,isAnonymous:rr,providerData:ar,stsTokenManager:ir}=je;_assert(Je&&ir,Ce,"internal-error");const nr=StsTokenManager.fromJSON(this.name,ir);_assert(typeof Je=="string",Ce,"internal-error"),assertStringOrUndefined(He,Ce.name),assertStringOrUndefined(Qe,Ce.name),_assert(typeof tr=="boolean",Ce,"internal-error"),_assert(typeof rr=="boolean",Ce,"internal-error"),assertStringOrUndefined(We,Ce.name),assertStringOrUndefined(qe,Ce.name),assertStringOrUndefined(Ke,Ce.name),assertStringOrUndefined(Xe,Ce.name),assertStringOrUndefined(Ye,Ce.name),assertStringOrUndefined(Ze,Ce.name);const cr=new UserImpl({uid:Je,auth:Ce,email:Qe,emailVerified:tr,displayName:He,isAnonymous:rr,photoURL:qe,phoneNumber:We,tenantId:Ke,stsTokenManager:nr,createdAt:Ye,lastLoginAt:Ze});return ar&&Array.isArray(ar)&&(cr.providerData=ar.map(mr=>Object.assign({},mr))),Xe&&(cr._redirectEventId=Xe),cr}static async _fromIdTokenResponse(Ce,je,Be=!1){const De=new StsTokenManager;De.updateFromServerResponse(je);const Fe=new UserImpl({uid:je.localId,auth:Ce,stsTokenManager:De,isAnonymous:Be});return await _reloadWithoutSaving(Fe),Fe}static async _fromGetAccountInfoResponse(Ce,je,Be){const De=je.users[0];_assert(De.localId!==void 0,"internal-error");const Fe=De.providerUserInfo!==void 0?extractProviderData(De.providerUserInfo):[],ke=!(De.email&&De.passwordHash)&&!Fe?.length,Oe=new StsTokenManager;Oe.updateFromIdToken(Be);const Me=new UserImpl({uid:De.localId,auth:Ce,stsTokenManager:Oe,isAnonymous:ke}),Ue={uid:De.localId,displayName:De.displayName||null,photoURL:De.photoUrl||null,email:De.email||null,emailVerified:De.emailVerified||!1,phoneNumber:De.phoneNumber||null,tenantId:De.tenantId||null,providerData:Fe,metadata:new UserMetadata(De.createdAt,De.lastLoginAt),isAnonymous:!(De.email&&De.passwordHash)&&!Fe?.length};return Object.assign(Me,Ue),Me}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(Re){debugAssert(Re instanceof Function,"Expected a class definition");let Ce=instanceCache.get(Re);return Ce?(debugAssert(Ce instanceof Re,"Instance stored in cache mismatched with class"),Ce):(Ce=new Re,instanceCache.set(Re,Ce),Ce)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(Ce,je){this.storage[Ce]=je}async _get(Ce){const je=this.storage[Ce];return je===void 0?null:je}async _remove(Ce){delete this.storage[Ce]}_addListener(Ce,je){}_removeListener(Ce,je){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(Re,Ce,je){return`firebase:${Re}:${Ce}:${je}`}class PersistenceUserManager{constructor(Ce,je,Be){this.persistence=Ce,this.auth=je,this.userKey=Be;const{config:De,name:Fe}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,De.apiKey,Fe),this.fullPersistenceKey=_persistenceKeyName("persistence",De.apiKey,Fe),this.boundEventHandler=je._onStorageEvent.bind(je),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(Ce){return this.persistence._set(this.fullUserKey,Ce.toJSON())}async getCurrentUser(){const Ce=await this.persistence._get(this.fullUserKey);return Ce?UserImpl._fromJSON(this.auth,Ce):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(Ce){if(this.persistence===Ce)return;const je=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=Ce,je)return this.setCurrentUser(je)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(Ce,je,Be="authUser"){if(!je.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),Ce,Be);const De=(await Promise.all(je.map(async Ue=>{if(await Ue._isAvailable())return Ue}))).filter(Ue=>Ue);let Fe=De[0]||_getInstance(inMemoryPersistence);const ke=_persistenceKeyName(Be,Ce.config.apiKey,Ce.name);let Oe=null;for(const Ue of je)try{const $e=await Ue._get(ke);if($e){const He=UserImpl._fromJSON(Ce,$e);Ue!==Fe&&(Oe=He),Fe=Ue;break}}catch{}const Me=De.filter(Ue=>Ue._shouldAllowMigration);return!Fe._shouldAllowMigration||!Me.length?new PersistenceUserManager(Fe,Ce,Be):(Fe=Me[0],Oe&&await Fe._set(ke,Oe.toJSON()),await Promise.all(je.map(async Ue=>{if(Ue!==Fe)try{await Ue._remove(ke)}catch{}})),new PersistenceUserManager(Fe,Ce,Be))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(Re){const Ce=Re.toLowerCase();if(Ce.includes("opera/")||Ce.includes("opr/")||Ce.includes("opios/"))return"Opera";if(_isIEMobile(Ce))return"IEMobile";if(Ce.includes("msie")||Ce.includes("trident/"))return"IE";if(Ce.includes("edge/"))return"Edge";if(_isFirefox(Ce))return"Firefox";if(Ce.includes("silk/"))return"Silk";if(_isBlackBerry(Ce))return"Blackberry";if(_isWebOS(Ce))return"Webos";if(_isSafari(Ce))return"Safari";if((Ce.includes("chrome/")||_isChromeIOS(Ce))&&!Ce.includes("edge/"))return"Chrome";if(_isAndroid(Ce))return"Android";{const je=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,Be=Re.match(je);if(Be?.length===2)return Be[1]}return"Other"}function _isFirefox(Re=getUA()){return/firefox\//i.test(Re)}function _isSafari(Re=getUA()){const Ce=Re.toLowerCase();return Ce.includes("safari/")&&!Ce.includes("chrome/")&&!Ce.includes("crios/")&&!Ce.includes("android")}function _isChromeIOS(Re=getUA()){return/crios\//i.test(Re)}function _isIEMobile(Re=getUA()){return/iemobile/i.test(Re)}function _isAndroid(Re=getUA()){return/android/i.test(Re)}function _isBlackBerry(Re=getUA()){return/blackberry/i.test(Re)}function _isWebOS(Re=getUA()){return/webos/i.test(Re)}function _isIOS(Re=getUA()){return/iphone|ipad|ipod/i.test(Re)||/macintosh/i.test(Re)&&/mobile/i.test(Re)}function _isIOSStandalone(Re=getUA()){var Ce;return _isIOS(Re)&&!!(!((Ce=window.navigator)===null||Ce===void 0)&&Ce.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(Re=getUA()){return _isIOS(Re)||_isAndroid(Re)||_isWebOS(Re)||_isBlackBerry(Re)||/windows phone/i.test(Re)||_isIEMobile(Re)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(Re,Ce=[]){let je;switch(Re){case"Browser":je=_getBrowserName(getUA());break;case"Worker":je=`${_getBrowserName(getUA())}-${Re}`;break;default:je=Re}const Be=Ce.length?Ce.join(","):"FirebaseCore-web";return`${je}/JsCore/${SDK_VERSION}/${Be}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(Ce){this.auth=Ce,this.queue=[]}pushCallback(Ce,je){const Be=Fe=>new Promise((ke,Oe)=>{try{const Me=Ce(Fe);ke(Me)}catch(Me){Oe(Me)}});Be.onAbort=je,this.queue.push(Be);const De=this.queue.length-1;return()=>{this.queue[De]=()=>Promise.resolve()}}async runMiddleware(Ce){if(this.auth.currentUser===Ce)return;const je=[];try{for(const Be of this.queue)await Be(Ce),Be.onAbort&&je.push(Be.onAbort)}catch(Be){je.reverse();for(const De of je)try{De()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:Be?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(Re,Ce={}){return _performApiRequest(Re,"GET","/v2/passwordPolicy",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(Ce){var je,Be,De,Fe;const ke=Ce.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(je=ke.minPasswordLength)!==null&&je!==void 0?je:MINIMUM_MIN_PASSWORD_LENGTH,ke.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ke.maxPasswordLength),ke.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=ke.containsLowercaseCharacter),ke.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=ke.containsUppercaseCharacter),ke.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=ke.containsNumericCharacter),ke.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ke.containsNonAlphanumericCharacter),this.enforcementState=Ce.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(De=(Be=Ce.allowedNonAlphanumericCharacters)===null||Be===void 0?void 0:Be.join(""))!==null&&De!==void 0?De:"",this.forceUpgradeOnSignin=(Fe=Ce.forceUpgradeOnSignin)!==null&&Fe!==void 0?Fe:!1,this.schemaVersion=Ce.schemaVersion}validatePassword(Ce){var je,Be,De,Fe,ke,Oe;const Me={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(Ce,Me),this.validatePasswordCharacterOptions(Ce,Me),Me.isValid&&(Me.isValid=(je=Me.meetsMinPasswordLength)!==null&&je!==void 0?je:!0),Me.isValid&&(Me.isValid=(Be=Me.meetsMaxPasswordLength)!==null&&Be!==void 0?Be:!0),Me.isValid&&(Me.isValid=(De=Me.containsLowercaseLetter)!==null&&De!==void 0?De:!0),Me.isValid&&(Me.isValid=(Fe=Me.containsUppercaseLetter)!==null&&Fe!==void 0?Fe:!0),Me.isValid&&(Me.isValid=(ke=Me.containsNumericCharacter)!==null&&ke!==void 0?ke:!0),Me.isValid&&(Me.isValid=(Oe=Me.containsNonAlphanumericCharacter)!==null&&Oe!==void 0?Oe:!0),Me}validatePasswordLengthOptions(Ce,je){const Be=this.customStrengthOptions.minPasswordLength,De=this.customStrengthOptions.maxPasswordLength;Be&&(je.meetsMinPasswordLength=Ce.length>=Be),De&&(je.meetsMaxPasswordLength=Ce.length<=De)}validatePasswordCharacterOptions(Ce,je){this.updatePasswordCharacterOptionsStatuses(je,!1,!1,!1,!1);let Be;for(let De=0;De<Ce.length;De++)Be=Ce.charAt(De),this.updatePasswordCharacterOptionsStatuses(je,Be>="a"&&Be<="z",Be>="A"&&Be<="Z",Be>="0"&&Be<="9",this.allowedNonAlphanumericCharacters.includes(Be))}updatePasswordCharacterOptionsStatuses(Ce,je,Be,De,Fe){this.customStrengthOptions.containsLowercaseLetter&&(Ce.containsLowercaseLetter||(Ce.containsLowercaseLetter=je)),this.customStrengthOptions.containsUppercaseLetter&&(Ce.containsUppercaseLetter||(Ce.containsUppercaseLetter=Be)),this.customStrengthOptions.containsNumericCharacter&&(Ce.containsNumericCharacter||(Ce.containsNumericCharacter=De)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(Ce.containsNonAlphanumericCharacter||(Ce.containsNonAlphanumericCharacter=Fe))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(Ce,je,Be,De){this.app=Ce,this.heartbeatServiceProvider=je,this.appCheckServiceProvider=Be,this.config=De,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=Ce.name,this.clientVersion=De.sdkClientVersion}_initializeWithPersistence(Ce,je){return je&&(this._popupRedirectResolver=_getInstance(je)),this._initializationPromise=this.queue(async()=>{var Be,De;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,Ce),!this._deleted)){if(!((Be=this._popupRedirectResolver)===null||Be===void 0)&&Be._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(je),this.lastNotifiedUid=((De=this.currentUser)===null||De===void 0?void 0:De.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const Ce=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!Ce)){if(this.currentUser&&Ce&&this.currentUser.uid===Ce.uid){this._currentUser._assign(Ce),await this.currentUser.getIdToken();return}await this._updateCurrentUser(Ce,!0)}}async initializeCurrentUserFromIdToken(Ce){try{const je=await getAccountInfo(this,{idToken:Ce}),Be=await UserImpl._fromGetAccountInfoResponse(this,je,Ce);await this.directlySetCurrentUser(Be)}catch(je){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",je),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(Ce){var je;if(_isFirebaseServerApp(this.app)){const ke=this.app.settings.authIdToken;return ke?new Promise(Oe=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(ke).then(Oe,Oe))}):this.directlySetCurrentUser(null)}const Be=await this.assertedPersistence.getCurrentUser();let De=Be,Fe=!1;if(Ce&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const ke=(je=this.redirectUser)===null||je===void 0?void 0:je._redirectEventId,Oe=De?._redirectEventId,Me=await this.tryRedirectSignIn(Ce);(!ke||ke===Oe)&&Me?.user&&(De=Me.user,Fe=!0)}if(!De)return this.directlySetCurrentUser(null);if(!De._redirectEventId){if(Fe)try{await this.beforeStateQueue.runMiddleware(De)}catch(ke){De=Be,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(ke))}return De?this.reloadAndSetCurrentUserOrClear(De):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===De._redirectEventId?this.directlySetCurrentUser(De):this.reloadAndSetCurrentUserOrClear(De)}async tryRedirectSignIn(Ce){let je=null;try{je=await this._popupRedirectResolver._completeRedirectFn(this,Ce,!0)}catch{await this._setRedirectUser(null)}return je}async reloadAndSetCurrentUserOrClear(Ce){try{await _reloadWithoutSaving(Ce)}catch(je){if(je?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(Ce)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(Ce){if(_isFirebaseServerApp(this.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this));const je=Ce?getModularInstance(Ce):null;return je&&_assert(je.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(je&&je._clone(this))}async _updateCurrentUser(Ce,je=!1){if(!this._deleted)return Ce&&_assert(this.tenantId===Ce.tenantId,this,"tenant-id-mismatch"),je||await this.beforeStateQueue.runMiddleware(Ce),this.queue(async()=>{await this.directlySetCurrentUser(Ce),this.notifyAuthListeners()})}async signOut(){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(Ce){return _isFirebaseServerApp(this.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(Ce))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(Ce){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const je=this._getPasswordPolicyInternal();return je.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):je.validatePassword(Ce)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const Ce=await _getPasswordPolicy(this),je=new PasswordPolicyImpl(Ce);this.tenantId===null?this._projectPasswordPolicy=je:this._tenantPasswordPolicies[this.tenantId]=je}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(Ce){this._errorFactory=new ErrorFactory("auth","Firebase",Ce())}onAuthStateChanged(Ce,je,Be){return this.registerStateListener(this.authStateSubscription,Ce,je,Be)}beforeAuthStateChanged(Ce,je){return this.beforeStateQueue.pushCallback(Ce,je)}onIdTokenChanged(Ce,je,Be){return this.registerStateListener(this.idTokenSubscription,Ce,je,Be)}authStateReady(){return new Promise((Ce,je)=>{if(this.currentUser)Ce();else{const Be=this.onAuthStateChanged(()=>{Be(),Ce()},je)}})}async revokeAccessToken(Ce){if(this.currentUser){const je=await this.currentUser.getIdToken(),Be={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:Ce,idToken:je};this.tenantId!=null&&(Be.tenantId=this.tenantId),await revokeToken(this,Be)}}toJSON(){var Ce;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(Ce=this._currentUser)===null||Ce===void 0?void 0:Ce.toJSON()}}async _setRedirectUser(Ce,je){const Be=await this.getOrInitRedirectPersistenceManager(je);return Ce===null?Be.removeCurrentUser():Be.setCurrentUser(Ce)}async getOrInitRedirectPersistenceManager(Ce){if(!this.redirectPersistenceManager){const je=Ce&&_getInstance(Ce)||this._popupRedirectResolver;_assert(je,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(je._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(Ce){var je,Be;return this._isInitialized&&await this.queue(async()=>{}),((je=this._currentUser)===null||je===void 0?void 0:je._redirectEventId)===Ce?this._currentUser:((Be=this.redirectUser)===null||Be===void 0?void 0:Be._redirectEventId)===Ce?this.redirectUser:null}async _persistUserIfCurrent(Ce){if(Ce===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(Ce))}_notifyListenersIfCurrent(Ce){Ce===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var Ce,je;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const Be=(je=(Ce=this.currentUser)===null||Ce===void 0?void 0:Ce.uid)!==null&&je!==void 0?je:null;this.lastNotifiedUid!==Be&&(this.lastNotifiedUid=Be,this.authStateSubscription.next(this.currentUser))}registerStateListener(Ce,je,Be,De){if(this._deleted)return()=>{};const Fe=typeof je=="function"?je:je.next.bind(je);let ke=!1;const Oe=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(Oe,this,"internal-error"),Oe.then(()=>{ke||Fe(this.currentUser)}),typeof je=="function"){const Me=Ce.addObserver(je,Be,De);return()=>{ke=!0,Me()}}else{const Me=Ce.addObserver(je);return()=>{ke=!0,Me()}}}async directlySetCurrentUser(Ce){this.currentUser&&this.currentUser!==Ce&&this._currentUser._stopProactiveRefresh(),Ce&&this.isProactiveRefreshEnabled&&Ce._startProactiveRefresh(),this.currentUser=Ce,Ce?await this.assertedPersistence.setCurrentUser(Ce):await this.assertedPersistence.removeCurrentUser()}queue(Ce){return this.operations=this.operations.then(Ce,Ce),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(Ce){!Ce||this.frameworks.includes(Ce)||(this.frameworks.push(Ce),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var Ce;const je={"X-Client-Version":this.clientVersion};this.app.options.appId&&(je["X-Firebase-gmpid"]=this.app.options.appId);const Be=await((Ce=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||Ce===void 0?void 0:Ce.getHeartbeatsHeader());Be&&(je["X-Firebase-Client"]=Be);const De=await this._getAppCheckToken();return De&&(je["X-Firebase-AppCheck"]=De),je}async _getAppCheckToken(){var Ce;const je=await((Ce=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||Ce===void 0?void 0:Ce.getToken());return je?.error&&_logWarn(`Error while retrieving App Check token: ${je.error}`),je?.token}}function _castAuth(Re){return getModularInstance(Re)}class Subscription{constructor(Ce){this.auth=Ce,this.observer=null,this.addObserver=createSubscribe(je=>this.observer=je)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(Re){externalJSProvider=Re}function _loadJS(Re){return externalJSProvider.loadJS(Re)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(Re){return`__${Re}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(Ce){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(Ce)}async verify(Ce="verify",je=!1){async function Be(Fe){if(!je){if(Fe.tenantId==null&&Fe._agentRecaptchaConfig!=null)return Fe._agentRecaptchaConfig.siteKey;if(Fe.tenantId!=null&&Fe._tenantRecaptchaConfigs[Fe.tenantId]!==void 0)return Fe._tenantRecaptchaConfigs[Fe.tenantId].siteKey}return new Promise(async(ke,Oe)=>{getRecaptchaConfig(Fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Me=>{if(Me.recaptchaKey===void 0)Oe(new Error("recaptcha Enterprise site key undefined"));else{const Ue=new RecaptchaConfig(Me);return Fe.tenantId==null?Fe._agentRecaptchaConfig=Ue:Fe._tenantRecaptchaConfigs[Fe.tenantId]=Ue,ke(Ue.siteKey)}}).catch(Me=>{Oe(Me)})})}function De(Fe,ke,Oe){const Me=window.grecaptcha;isEnterprise(Me)?Me.enterprise.ready(()=>{Me.enterprise.execute(Fe,{action:Ce}).then(Ue=>{ke(Ue)}).catch(()=>{ke(FAKE_TOKEN)})}):Oe(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Fe,ke)=>{Be(this.auth).then(Oe=>{if(!je&&isEnterprise(window.grecaptcha))De(Oe,Fe,ke);else{if(typeof window>"u"){ke(new Error("RecaptchaVerifier is only supported in browser"));return}let Me=_recaptchaEnterpriseScriptUrl();Me.length!==0&&(Me+=Oe),_loadJS(Me).then(()=>{De(Oe,Fe,ke)}).catch(Ue=>{ke(Ue)})}}).catch(Oe=>{ke(Oe)})})}}async function injectRecaptchaFields(Re,Ce,je,Be=!1){const De=new RecaptchaEnterpriseVerifier(Re);let Fe;try{Fe=await De.verify(je)}catch{Fe=await De.verify(je,!0)}const ke=Object.assign({},Ce);return Be?Object.assign(ke,{captchaResp:Fe}):Object.assign(ke,{captchaResponse:Fe}),Object.assign(ke,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ke,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ke}async function handleRecaptchaFlow(Re,Ce,je,Be){var De;if(!((De=Re._getRecaptchaConfig())===null||De===void 0)&&De.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Fe=await injectRecaptchaFields(Re,Ce,je,je==="getOobCode");return Be(Re,Fe)}else return Be(Re,Ce).catch(async Fe=>{if(Fe.code==="auth/missing-recaptcha-token"){console.log(`${je} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const ke=await injectRecaptchaFields(Re,Ce,je,je==="getOobCode");return Be(Re,ke)}else return Promise.reject(Fe)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(Re,Ce){const je=_getProvider(Re,"auth");if(je.isInitialized()){const De=je.getImmediate(),Fe=je.getOptions();if(deepEqual(Fe,Ce??{}))return De;_fail(De,"already-initialized")}return je.initialize({options:Ce})}function _initializeAuthInstance(Re,Ce){const je=Ce?.persistence||[],Be=(Array.isArray(je)?je:[je]).map(_getInstance);Ce?.errorMap&&Re._updateErrorMap(Ce.errorMap),Re._initializeWithPersistence(Be,Ce?.popupRedirectResolver)}function connectAuthEmulator(Re,Ce,je){const Be=_castAuth(Re);_assert(Be._canInitEmulator,Be,"emulator-config-failed"),_assert(/^https?:\/\//.test(Ce),Be,"invalid-emulator-scheme");const De=!1,Fe=extractProtocol(Ce),{host:ke,port:Oe}=extractHostAndPort(Ce),Me=Oe===null?"":`:${Oe}`;Be.config.emulator={url:`${Fe}//${ke}${Me}/`},Be.settings.appVerificationDisabledForTesting=!0,Be.emulatorConfig=Object.freeze({host:ke,port:Oe,protocol:Fe.replace(":",""),options:Object.freeze({disableWarnings:De})}),emitEmulatorWarning()}function extractProtocol(Re){const Ce=Re.indexOf(":");return Ce<0?"":Re.substr(0,Ce+1)}function extractHostAndPort(Re){const Ce=extractProtocol(Re),je=/(\/\/)?([^?#/]+)/.exec(Re.substr(Ce.length));if(!je)return{host:"",port:null};const Be=je[2].split("@").pop()||"",De=/^(\[[^\]]+\])(:|$)/.exec(Be);if(De){const Fe=De[1];return{host:Fe,port:parsePort(Be.substr(Fe.length+1))}}else{const[Fe,ke]=Be.split(":");return{host:Fe,port:parsePort(ke)}}}function parsePort(Re){if(!Re)return null;const Ce=Number(Re);return isNaN(Ce)?null:Ce}function emitEmulatorWarning(){function Re(){const Ce=document.createElement("p"),je=Ce.style;Ce.innerText="Running in emulator mode. Do not use with production credentials.",je.position="fixed",je.width="100%",je.backgroundColor="#ffffff",je.border=".1em solid #000000",je.color="#b50000",je.bottom="0px",je.left="0px",je.margin="0px",je.zIndex="10000",je.textAlign="center",Ce.classList.add("firebase-emulator-warning"),document.body.appendChild(Ce)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",Re):Re())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(Ce,je){this.providerId=Ce,this.signInMethod=je}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(Ce){return debugFail("not implemented")}_linkToIdToken(Ce,je){return debugFail("not implemented")}_getReauthenticationResolver(Ce){return debugFail("not implemented")}}async function linkEmailPassword(Re,Ce){return _performApiRequest(Re,"POST","/v1/accounts:signUp",Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(Re,Ce){return _performSignInRequest(Re,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(Re,Ce))}async function sendOobCode(Re,Ce){return _performApiRequest(Re,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(Re,Ce))}async function sendEmailVerification$1(Re,Ce){return sendOobCode(Re,Ce)}async function sendPasswordResetEmail$1(Re,Ce){return sendOobCode(Re,Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(Re,Ce){return _performSignInRequest(Re,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Re,Ce))}async function signInWithEmailLinkForLinking(Re,Ce){return _performSignInRequest(Re,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(Ce,je,Be,De=null){super("password",Be),this._email=Ce,this._password=je,this._tenantId=De}static _fromEmailAndPassword(Ce,je){return new EmailAuthCredential(Ce,je,"password")}static _fromEmailAndCode(Ce,je,Be=null){return new EmailAuthCredential(Ce,je,"emailLink",Be)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(Ce){const je=typeof Ce=="string"?JSON.parse(Ce):Ce;if(je?.email&&je?.password){if(je.signInMethod==="password")return this._fromEmailAndPassword(je.email,je.password);if(je.signInMethod==="emailLink")return this._fromEmailAndCode(je.email,je.password,je.tenantId)}return null}async _getIdTokenResponse(Ce){switch(this.signInMethod){case"password":const je={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(Ce,je,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(Ce,{email:this._email,oobCode:this._password});default:_fail(Ce,"internal-error")}}async _linkToIdToken(Ce,je){switch(this.signInMethod){case"password":const Be={idToken:je,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(Ce,Be,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(Ce,{idToken:je,email:this._email,oobCode:this._password});default:_fail(Ce,"internal-error")}}_getReauthenticationResolver(Ce){return this._getIdTokenResponse(Ce)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(Re,Ce){return _performSignInRequest(Re,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(Ce){const je=new OAuthCredential(Ce.providerId,Ce.signInMethod);return Ce.idToken||Ce.accessToken?(Ce.idToken&&(je.idToken=Ce.idToken),Ce.accessToken&&(je.accessToken=Ce.accessToken),Ce.nonce&&!Ce.pendingToken&&(je.nonce=Ce.nonce),Ce.pendingToken&&(je.pendingToken=Ce.pendingToken)):Ce.oauthToken&&Ce.oauthTokenSecret?(je.accessToken=Ce.oauthToken,je.secret=Ce.oauthTokenSecret):_fail("argument-error"),je}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(Ce){const je=typeof Ce=="string"?JSON.parse(Ce):Ce,{providerId:Be,signInMethod:De}=je,Fe=__rest(je,["providerId","signInMethod"]);if(!Be||!De)return null;const ke=new OAuthCredential(Be,De);return ke.idToken=Fe.idToken||void 0,ke.accessToken=Fe.accessToken||void 0,ke.secret=Fe.secret,ke.nonce=Fe.nonce,ke.pendingToken=Fe.pendingToken||null,ke}_getIdTokenResponse(Ce){const je=this.buildRequest();return signInWithIdp(Ce,je)}_linkToIdToken(Ce,je){const Be=this.buildRequest();return Be.idToken=je,signInWithIdp(Ce,Be)}_getReauthenticationResolver(Ce){const je=this.buildRequest();return je.autoCreate=!1,signInWithIdp(Ce,je)}buildRequest(){const Ce={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)Ce.pendingToken=this.pendingToken;else{const je={};this.idToken&&(je.id_token=this.idToken),this.accessToken&&(je.access_token=this.accessToken),this.secret&&(je.oauth_token_secret=this.secret),je.providerId=this.providerId,this.nonce&&!this.pendingToken&&(je.nonce=this.nonce),Ce.postBody=querystring(je)}return Ce}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(Re){switch(Re){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(Re){const Ce=querystringDecode(extractQuerystring(Re)).link,je=Ce?querystringDecode(extractQuerystring(Ce)).deep_link_id:null,Be=querystringDecode(extractQuerystring(Re)).deep_link_id;return(Be?querystringDecode(extractQuerystring(Be)).link:null)||Be||je||Ce||Re}class ActionCodeURL{constructor(Ce){var je,Be,De,Fe,ke,Oe;const Me=querystringDecode(extractQuerystring(Ce)),Ue=(je=Me.apiKey)!==null&&je!==void 0?je:null,$e=(Be=Me.oobCode)!==null&&Be!==void 0?Be:null,He=parseMode((De=Me.mode)!==null&&De!==void 0?De:null);_assert(Ue&&$e&&He,"argument-error"),this.apiKey=Ue,this.operation=He,this.code=$e,this.continueUrl=(Fe=Me.continueUrl)!==null&&Fe!==void 0?Fe:null,this.languageCode=(ke=Me.languageCode)!==null&&ke!==void 0?ke:null,this.tenantId=(Oe=Me.tenantId)!==null&&Oe!==void 0?Oe:null}static parseLink(Ce){const je=parseDeepLink(Ce);try{return new ActionCodeURL(je)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(Ce,je){return EmailAuthCredential._fromEmailAndPassword(Ce,je)}static credentialWithLink(Ce,je){const Be=ActionCodeURL.parseLink(je);return _assert(Be,"argument-error"),EmailAuthCredential._fromEmailAndCode(Ce,Be.code,Be.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(Ce){this.providerId=Ce,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(Ce){this.defaultLanguageCode=Ce}setCustomParameters(Ce){return this.customParameters=Ce,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(Ce){return this.scopes.includes(Ce)||this.scopes.push(Ce),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(Ce){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:Ce})}static credentialFromResult(Ce){return FacebookAuthProvider.credentialFromTaggedObject(Ce)}static credentialFromError(Ce){return FacebookAuthProvider.credentialFromTaggedObject(Ce.customData||{})}static credentialFromTaggedObject({_tokenResponse:Ce}){if(!Ce||!("oauthAccessToken"in Ce)||!Ce.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(Ce.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(Ce,je){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:Ce,accessToken:je})}static credentialFromResult(Ce){return GoogleAuthProvider.credentialFromTaggedObject(Ce)}static credentialFromError(Ce){return GoogleAuthProvider.credentialFromTaggedObject(Ce.customData||{})}static credentialFromTaggedObject({_tokenResponse:Ce}){if(!Ce)return null;const{oauthIdToken:je,oauthAccessToken:Be}=Ce;if(!je&&!Be)return null;try{return GoogleAuthProvider.credential(je,Be)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(Ce){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:Ce})}static credentialFromResult(Ce){return GithubAuthProvider.credentialFromTaggedObject(Ce)}static credentialFromError(Ce){return GithubAuthProvider.credentialFromTaggedObject(Ce.customData||{})}static credentialFromTaggedObject({_tokenResponse:Ce}){if(!Ce||!("oauthAccessToken"in Ce)||!Ce.oauthAccessToken)return null;try{return GithubAuthProvider.credential(Ce.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(Ce,je){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:Ce,oauthTokenSecret:je})}static credentialFromResult(Ce){return TwitterAuthProvider.credentialFromTaggedObject(Ce)}static credentialFromError(Ce){return TwitterAuthProvider.credentialFromTaggedObject(Ce.customData||{})}static credentialFromTaggedObject({_tokenResponse:Ce}){if(!Ce)return null;const{oauthAccessToken:je,oauthTokenSecret:Be}=Ce;if(!je||!Be)return null;try{return TwitterAuthProvider.credential(je,Be)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp(Re,Ce){return _performSignInRequest(Re,"POST","/v1/accounts:signUp",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(Ce){this.user=Ce.user,this.providerId=Ce.providerId,this._tokenResponse=Ce._tokenResponse,this.operationType=Ce.operationType}static async _fromIdTokenResponse(Ce,je,Be,De=!1){const Fe=await UserImpl._fromIdTokenResponse(Ce,Be,De),ke=providerIdForResponse(Be);return new UserCredentialImpl({user:Fe,providerId:ke,_tokenResponse:Be,operationType:je})}static async _forOperation(Ce,je,Be){await Ce._updateTokensIfNecessary(Be,!0);const De=providerIdForResponse(Be);return new UserCredentialImpl({user:Ce,providerId:De,_tokenResponse:Be,operationType:je})}}function providerIdForResponse(Re){return Re.providerId?Re.providerId:"phoneNumber"in Re?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(Ce,je,Be,De){var Fe;super(je.code,je.message),this.operationType=Be,this.user=De,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:Ce.name,tenantId:(Fe=Ce.tenantId)!==null&&Fe!==void 0?Fe:void 0,_serverResponse:je.customData._serverResponse,operationType:Be}}static _fromErrorAndOperation(Ce,je,Be,De){return new MultiFactorError(Ce,je,Be,De)}}function _processCredentialSavingMfaContextIfNecessary(Re,Ce,je,Be){return(Ce==="reauthenticate"?je._getReauthenticationResolver(Re):je._getIdTokenResponse(Re)).catch(Fe=>{throw Fe.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(Re,Fe,Ce,Be):Fe})}async function _link$1(Re,Ce,je=!1){const Be=await _logoutIfInvalidated(Re,Ce._linkToIdToken(Re.auth,await Re.getIdToken()),je);return UserCredentialImpl._forOperation(Re,"link",Be)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(Re,Ce,je=!1){const{auth:Be}=Re;if(_isFirebaseServerApp(Be.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Be));const De="reauthenticate";try{const Fe=await _logoutIfInvalidated(Re,_processCredentialSavingMfaContextIfNecessary(Be,De,Ce,Re),je);_assert(Fe.idToken,Be,"internal-error");const ke=_parseToken(Fe.idToken);_assert(ke,Be,"internal-error");const{sub:Oe}=ke;return _assert(Re.uid===Oe,Be,"user-mismatch"),UserCredentialImpl._forOperation(Re,De,Fe)}catch(Fe){throw Fe?.code==="auth/user-not-found"&&_fail(Be,"user-mismatch"),Fe}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(Re,Ce,je=!1){if(_isFirebaseServerApp(Re.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Re));const Be="signIn",De=await _processCredentialSavingMfaContextIfNecessary(Re,Be,Ce),Fe=await UserCredentialImpl._fromIdTokenResponse(Re,Be,De);return je||await Re._updateCurrentUser(Fe.user),Fe}async function signInWithCredential(Re,Ce){return _signInWithCredential(_castAuth(Re),Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(Re){const Ce=_castAuth(Re);Ce._getPasswordPolicyInternal()&&await Ce._updatePasswordPolicy()}async function sendPasswordResetEmail(Re,Ce,je){const Be=_castAuth(Re);await handleRecaptchaFlow(Be,{requestType:"PASSWORD_RESET",email:Ce,clientType:"CLIENT_TYPE_WEB"},"getOobCode",sendPasswordResetEmail$1)}async function createUserWithEmailAndPassword(Re,Ce,je){if(_isFirebaseServerApp(Re.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Re));const Be=_castAuth(Re),ke=await handleRecaptchaFlow(Be,{returnSecureToken:!0,email:Ce,password:je,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp).catch(Me=>{throw Me.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Re),Me}),Oe=await UserCredentialImpl._fromIdTokenResponse(Be,"signIn",ke);return await Be._updateCurrentUser(Oe.user),Oe}function signInWithEmailAndPassword(Re,Ce,je){return _isFirebaseServerApp(Re.app)?Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Re)):signInWithCredential(getModularInstance(Re),EmailAuthProvider.credential(Ce,je)).catch(async Be=>{throw Be.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(Re),Be})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function createAuthUri(Re,Ce){return _performApiRequest(Re,"POST","/v1/accounts:createAuthUri",_addTidIfNecessary(Re,Ce))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fetchSignInMethodsForEmail(Re,Ce){const je=_isHttpOrHttps()?_getCurrentUrl():"http://localhost",Be={identifier:Ce,continueUri:je},{signinMethods:De}=await createAuthUri(getModularInstance(Re),Be);return De||[]}async function sendEmailVerification(Re,Ce){const je=getModularInstance(Re),De={requestType:"VERIFY_EMAIL",idToken:await Re.getIdToken()},{email:Fe}=await sendEmailVerification$1(je.auth,De);Fe!==Re.email&&await Re.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile$1(Re,Ce){return _performApiRequest(Re,"POST","/v1/accounts:update",Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function updateProfile(Re,{displayName:Ce,photoURL:je}){if(Ce===void 0&&je===void 0)return;const Be=getModularInstance(Re),Fe={idToken:await Be.getIdToken(),displayName:Ce,photoUrl:je,returnSecureToken:!0},ke=await _logoutIfInvalidated(Be,updateProfile$1(Be.auth,Fe));Be.displayName=ke.displayName||null,Be.photoURL=ke.photoUrl||null;const Oe=Be.providerData.find(({providerId:Me})=>Me==="password");Oe&&(Oe.displayName=Be.displayName,Oe.photoURL=Be.photoURL),await Be._updateTokensIfNecessary(ke)}function onIdTokenChanged(Re,Ce,je,Be){return getModularInstance(Re).onIdTokenChanged(Ce,je,Be)}function beforeAuthStateChanged(Re,Ce,je){return getModularInstance(Re).beforeAuthStateChanged(Ce,je)}function onAuthStateChanged(Re,Ce,je,Be){return getModularInstance(Re).onAuthStateChanged(Ce,je,Be)}function signOut(Re){return getModularInstance(Re).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(Ce,je){this.storageRetriever=Ce,this.type=je}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(Ce,je){return this.storage.setItem(Ce,JSON.stringify(je)),Promise.resolve()}_get(Ce){const je=this.storage.getItem(Ce);return Promise.resolve(je?JSON.parse(je):null)}_remove(Ce){return this.storage.removeItem(Ce),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const Re=getUA();return _isSafari(Re)||_isIOS(Re)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(Ce,je)=>this.onStorageEvent(Ce,je),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(Ce){for(const je of Object.keys(this.listeners)){const Be=this.storage.getItem(je),De=this.localCache[je];Be!==De&&Ce(je,De,Be)}}onStorageEvent(Ce,je=!1){if(!Ce.key){this.forAllChangedKeys((ke,Oe,Me)=>{this.notifyListeners(ke,Me)});return}const Be=Ce.key;if(je?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(Be);if(Ce.newValue!==ke)Ce.newValue!==null?this.storage.setItem(Be,Ce.newValue):this.storage.removeItem(Be);else if(this.localCache[Be]===Ce.newValue&&!je)return}const De=()=>{const ke=this.storage.getItem(Be);!je&&this.localCache[Be]===ke||this.notifyListeners(Be,ke)},Fe=this.storage.getItem(Be);_isIE10()&&Fe!==Ce.newValue&&Ce.newValue!==Ce.oldValue?setTimeout(De,IE10_LOCAL_STORAGE_SYNC_DELAY):De()}notifyListeners(Ce,je){this.localCache[Ce]=je;const Be=this.listeners[Ce];if(Be)for(const De of Array.from(Be))De(je&&JSON.parse(je))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((Ce,je,Be)=>{this.onStorageEvent(new StorageEvent("storage",{key:Ce,oldValue:je,newValue:Be}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(Ce,je){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[Ce]||(this.listeners[Ce]=new Set,this.localCache[Ce]=this.storage.getItem(Ce)),this.listeners[Ce].add(je)}_removeListener(Ce,je){this.listeners[Ce]&&(this.listeners[Ce].delete(je),this.listeners[Ce].size===0&&delete this.listeners[Ce]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(Ce,je){await super._set(Ce,je),this.localCache[Ce]=JSON.stringify(je)}async _get(Ce){const je=await super._get(Ce);return this.localCache[Ce]=JSON.stringify(je),je}async _remove(Ce){await super._remove(Ce),delete this.localCache[Ce]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(Ce,je){}_removeListener(Ce,je){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(Re){return Promise.all(Re.map(async Ce=>{try{return{fulfilled:!0,value:await Ce}}catch(je){return{fulfilled:!1,reason:je}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(Ce){this.eventTarget=Ce,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(Ce){const je=this.receivers.find(De=>De.isListeningto(Ce));if(je)return je;const Be=new Receiver(Ce);return this.receivers.push(Be),Be}isListeningto(Ce){return this.eventTarget===Ce}async handleEvent(Ce){const je=Ce,{eventId:Be,eventType:De,data:Fe}=je.data,ke=this.handlersMap[De];if(!ke?.size)return;je.ports[0].postMessage({status:"ack",eventId:Be,eventType:De});const Oe=Array.from(ke).map(async Ue=>Ue(je.origin,Fe)),Me=await _allSettled(Oe);je.ports[0].postMessage({status:"done",eventId:Be,eventType:De,response:Me})}_subscribe(Ce,je){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[Ce]||(this.handlersMap[Ce]=new Set),this.handlersMap[Ce].add(je)}_unsubscribe(Ce,je){this.handlersMap[Ce]&&je&&this.handlersMap[Ce].delete(je),(!je||this.handlersMap[Ce].size===0)&&delete this.handlersMap[Ce],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(Re="",Ce=10){let je="";for(let Be=0;Be<Ce;Be++)je+=Math.floor(Math.random()*10);return Re+je}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(Ce){this.target=Ce,this.handlers=new Set}removeMessageHandler(Ce){Ce.messageChannel&&(Ce.messageChannel.port1.removeEventListener("message",Ce.onMessage),Ce.messageChannel.port1.close()),this.handlers.delete(Ce)}async _send(Ce,je,Be=50){const De=typeof MessageChannel<"u"?new MessageChannel:null;if(!De)throw new Error("connection_unavailable");let Fe,ke;return new Promise((Oe,Me)=>{const Ue=_generateEventId("",20);De.port1.start();const $e=setTimeout(()=>{Me(new Error("unsupported_event"))},Be);ke={messageChannel:De,onMessage(He){const Qe=He;if(Qe.data.eventId===Ue)switch(Qe.data.status){case"ack":clearTimeout($e),Fe=setTimeout(()=>{Me(new Error("timeout"))},3e3);break;case"done":clearTimeout(Fe),Oe(Qe.data.response);break;default:clearTimeout($e),clearTimeout(Fe),Me(new Error("invalid_response"));break}}},this.handlers.add(ke),De.port1.addEventListener("message",ke.onMessage),this.target.postMessage({eventType:Ce,eventId:Ue,data:je},[De.port2])}).finally(()=>{ke&&this.removeMessageHandler(ke)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(Re){_window().location.href=Re}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var Re;return((Re=navigator?.serviceWorker)===null||Re===void 0?void 0:Re.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(Ce){this.request=Ce}toPromise(){return new Promise((Ce,je)=>{this.request.addEventListener("success",()=>{Ce(this.request.result)}),this.request.addEventListener("error",()=>{je(this.request.error)})})}}function getObjectStore(Re,Ce){return Re.transaction([DB_OBJECTSTORE_NAME],Ce?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const Re=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(Re).toPromise()}function _openDatabase(){const Re=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((Ce,je)=>{Re.addEventListener("error",()=>{je(Re.error)}),Re.addEventListener("upgradeneeded",()=>{const Be=Re.result;try{Be.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(De){je(De)}}),Re.addEventListener("success",async()=>{const Be=Re.result;Be.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?Ce(Be):(Be.close(),await _deleteDatabase(),Ce(await _openDatabase()))})})}async function _putObject(Re,Ce,je){const Be=getObjectStore(Re,!0).put({[DB_DATA_KEYPATH]:Ce,value:je});return new DBPromise(Be).toPromise()}async function getObject(Re,Ce){const je=getObjectStore(Re,!1).get(Ce),Be=await new DBPromise(je).toPromise();return Be===void 0?null:Be.value}function _deleteObject(Re,Ce){const je=getObjectStore(Re,!0).delete(Ce);return new DBPromise(je).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(Ce){let je=0;for(;;)try{const Be=await this._openDb();return await Ce(Be)}catch(Be){if(je++>_TRANSACTION_RETRY_COUNT)throw Be;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(Ce,je)=>({keyProcessed:(await this._poll()).includes(je.key)})),this.receiver._subscribe("ping",async(Ce,je)=>["keyChanged"])}async initializeSender(){var Ce,je;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const Be=await this.sender._send("ping",{},800);Be&&!((Ce=Be[0])===null||Ce===void 0)&&Ce.fulfilled&&!((je=Be[0])===null||je===void 0)&&je.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(Ce){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:Ce},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const Ce=await _openDatabase();return await _putObject(Ce,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(Ce,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(Ce){this.pendingWrites++;try{await Ce()}finally{this.pendingWrites--}}async _set(Ce,je){return this._withPendingWrite(async()=>(await this._withRetries(Be=>_putObject(Be,Ce,je)),this.localCache[Ce]=je,this.notifyServiceWorker(Ce)))}async _get(Ce){const je=await this._withRetries(Be=>getObject(Be,Ce));return this.localCache[Ce]=je,je}async _remove(Ce){return this._withPendingWrite(async()=>(await this._withRetries(je=>_deleteObject(je,Ce)),delete this.localCache[Ce],this.notifyServiceWorker(Ce)))}async _poll(){const Ce=await this._withRetries(De=>{const Fe=getObjectStore(De,!1).getAll();return new DBPromise(Fe).toPromise()});if(!Ce)return[];if(this.pendingWrites!==0)return[];const je=[],Be=new Set;if(Ce.length!==0)for(const{fbase_key:De,value:Fe}of Ce)Be.add(De),JSON.stringify(this.localCache[De])!==JSON.stringify(Fe)&&(this.notifyListeners(De,Fe),je.push(De));for(const De of Object.keys(this.localCache))this.localCache[De]&&!Be.has(De)&&(this.notifyListeners(De,null),je.push(De));return je}notifyListeners(Ce,je){this.localCache[Ce]=je;const Be=this.listeners[Ce];if(Be)for(const De of Array.from(Be))De(je)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(Ce,je){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[Ce]||(this.listeners[Ce]=new Set,this._get(Ce)),this.listeners[Ce].add(je)}_removeListener(Ce,je){this.listeners[Ce]&&(this.listeners[Ce].delete(je),this.listeners[Ce].size===0&&delete this.listeners[Ce]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(Re,Ce){return Ce?_getInstance(Ce):(_assert(Re._popupRedirectResolver,Re,"argument-error"),Re._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(Ce){super("custom","custom"),this.params=Ce}_getIdTokenResponse(Ce){return signInWithIdp(Ce,this._buildIdpRequest())}_linkToIdToken(Ce,je){return signInWithIdp(Ce,this._buildIdpRequest(je))}_getReauthenticationResolver(Ce){return signInWithIdp(Ce,this._buildIdpRequest())}_buildIdpRequest(Ce){const je={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return Ce&&(je.idToken=Ce),je}}function _signIn(Re){return _signInWithCredential(Re.auth,new IdpCredential(Re),Re.bypassAuthState)}function _reauth(Re){const{auth:Ce,user:je}=Re;return _assert(je,Ce,"internal-error"),_reauthenticate(je,new IdpCredential(Re),Re.bypassAuthState)}async function _link(Re){const{auth:Ce,user:je}=Re;return _assert(je,Ce,"internal-error"),_link$1(je,new IdpCredential(Re),Re.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(Ce,je,Be,De,Fe=!1){this.auth=Ce,this.resolver=Be,this.user=De,this.bypassAuthState=Fe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(je)?je:[je]}execute(){return new Promise(async(Ce,je)=>{this.pendingPromise={resolve:Ce,reject:je};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Be){this.reject(Be)}})}async onAuthEvent(Ce){const{urlResponse:je,sessionId:Be,postBody:De,tenantId:Fe,error:ke,type:Oe}=Ce;if(ke){this.reject(ke);return}const Me={auth:this.auth,requestUri:je,sessionId:Be,tenantId:Fe||void 0,postBody:De||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(Oe)(Me))}catch(Ue){this.reject(Ue)}}onError(Ce){this.reject(Ce)}getIdpTask(Ce){switch(Ce){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(Ce){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(Ce),this.unregisterAndCleanUp()}reject(Ce){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(Ce),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);async function signInWithPopup(Re,Ce,je){if(_isFirebaseServerApp(Re.app))return Promise.reject(_createError(Re,"operation-not-supported-in-this-environment"));const Be=_castAuth(Re);_assertInstanceOf(Re,Ce,FederatedAuthProvider);const De=_withDefaultResolver(Be,je);return new PopupOperation(Be,"signInViaPopup",Ce,De).executeNotNull()}class PopupOperation extends AbstractPopupRedirectOperation{constructor(Ce,je,Be,De,Fe){super(Ce,je,De,Fe),this.provider=Be,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const Ce=await this.execute();return _assert(Ce,this.auth,"internal-error"),Ce}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const Ce=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],Ce),this.authWindow.associatedEvent=Ce,this.resolver._originValidation(this.auth).catch(je=>{this.reject(je)}),this.resolver._isIframeWebStorageSupported(this.auth,je=>{je||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var Ce;return((Ce=this.authWindow)===null||Ce===void 0?void 0:Ce.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const Ce=()=>{var je,Be;if(!((Be=(je=this.authWindow)===null||je===void 0?void 0:je.window)===null||Be===void 0)&&Be.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(Ce,_POLL_WINDOW_CLOSE_TIMEOUT.get())};Ce()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(Ce,je,Be=!1){super(Ce,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],je,void 0,Be),this.eventId=null}async execute(){let Ce=redirectOutcomeMap.get(this.auth._key());if(!Ce){try{const Be=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;Ce=()=>Promise.resolve(Be)}catch(je){Ce=()=>Promise.reject(je)}redirectOutcomeMap.set(this.auth._key(),Ce)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),Ce()}async onAuthEvent(Ce){if(Ce.type==="signInViaRedirect")return super.onAuthEvent(Ce);if(Ce.type==="unknown"){this.resolve(null);return}if(Ce.eventId){const je=await this.auth._redirectUserForId(Ce.eventId);if(je)return this.user=je,super.onAuthEvent(Ce);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(Re,Ce){const je=pendingRedirectKey(Ce),Be=resolverPersistence(Re);if(!await Be._isAvailable())return!1;const De=await Be._get(je)==="true";return await Be._remove(je),De}function _overrideRedirectResult(Re,Ce){redirectOutcomeMap.set(Re._key(),Ce)}function resolverPersistence(Re){return _getInstance(Re._redirectPersistence)}function pendingRedirectKey(Re){return _persistenceKeyName(PENDING_REDIRECT_KEY,Re.config.apiKey,Re.name)}async function _getRedirectResult(Re,Ce,je=!1){if(_isFirebaseServerApp(Re.app))return Promise.reject(_serverAppCurrentUserOperationNotSupportedError(Re));const Be=_castAuth(Re),De=_withDefaultResolver(Be,Ce),ke=await new RedirectAction(Be,De,je).execute();return ke&&!je&&(delete ke.user._redirectEventId,await Be._persistUserIfCurrent(ke.user),await Be._setRedirectUser(null,Ce)),ke}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=600*1e3;class AuthEventManager{constructor(Ce){this.auth=Ce,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(Ce){this.consumers.add(Ce),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,Ce)&&(this.sendToConsumer(this.queuedRedirectEvent,Ce),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(Ce){this.consumers.delete(Ce)}onEvent(Ce){if(this.hasEventBeenHandled(Ce))return!1;let je=!1;return this.consumers.forEach(Be=>{this.isEventForConsumer(Ce,Be)&&(je=!0,this.sendToConsumer(Ce,Be),this.saveEventToCache(Ce))}),this.hasHandledPotentialRedirect||!isRedirectEvent(Ce)||(this.hasHandledPotentialRedirect=!0,je||(this.queuedRedirectEvent=Ce,je=!0)),je}sendToConsumer(Ce,je){var Be;if(Ce.error&&!isNullRedirectEvent(Ce)){const De=((Be=Ce.error.code)===null||Be===void 0?void 0:Be.split("auth/")[1])||"internal-error";je.onError(_createError(this.auth,De))}else je.onAuthEvent(Ce)}isEventForConsumer(Ce,je){const Be=je.eventId===null||!!Ce.eventId&&Ce.eventId===je.eventId;return je.filter.includes(Ce.type)&&Be}hasEventBeenHandled(Ce){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(Ce))}saveEventToCache(Ce){this.cachedEventUids.add(eventUid(Ce)),this.lastProcessedEventTime=Date.now()}}function eventUid(Re){return[Re.type,Re.eventId,Re.sessionId,Re.tenantId].filter(Ce=>Ce).join("-")}function isNullRedirectEvent({type:Re,error:Ce}){return Re==="unknown"&&Ce?.code==="auth/no-auth-event"}function isRedirectEvent(Re){switch(Re.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(Re);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(Re,Ce={}){return _performApiRequest(Re,"GET","/v1/projects",Ce)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(Re){if(Re.config.emulator)return;const{authorizedDomains:Ce}=await _getProjectConfig(Re);for(const je of Ce)try{if(matchDomain(je))return}catch{}_fail(Re,"unauthorized-domain")}function matchDomain(Re){const Ce=_getCurrentUrl(),{protocol:je,hostname:Be}=new URL(Ce);if(Re.startsWith("chrome-extension://")){const ke=new URL(Re);return ke.hostname===""&&Be===""?je==="chrome-extension:"&&Re.replace("chrome-extension://","")===Ce.replace("chrome-extension://",""):je==="chrome-extension:"&&ke.hostname===Be}if(!HTTP_REGEX.test(je))return!1;if(IP_ADDRESS_REGEX.test(Re))return Be===Re;const De=Re.replace(/\./g,"\\.");return new RegExp("^(.+\\."+De+"|"+De+")$","i").test(Be)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const Re=_window().___jsl;if(Re?.H){for(const Ce of Object.keys(Re.H))if(Re.H[Ce].r=Re.H[Ce].r||[],Re.H[Ce].L=Re.H[Ce].L||[],Re.H[Ce].r=[...Re.H[Ce].L],Re.CP)for(let je=0;je<Re.CP.length;je++)Re.CP[je]=null}}function loadGapi(Re){return new Promise((Ce,je)=>{var Be,De,Fe;function ke(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{Ce(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),je(_createError(Re,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((De=(Be=_window().gapi)===null||Be===void 0?void 0:Be.iframes)===null||De===void 0)&&De.Iframe)Ce(gapi.iframes.getContext());else if(!((Fe=_window().gapi)===null||Fe===void 0)&&Fe.load)ke();else{const Oe=_generateCallbackName("iframefcb");return _window()[Oe]=()=>{gapi.load?ke():je(_createError(Re,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${Oe}`).catch(Me=>je(Me))}}).catch(Ce=>{throw cachedGApiLoader=null,Ce})}let cachedGApiLoader=null;function _loadGapi(Re){return cachedGApiLoader=cachedGApiLoader||loadGapi(Re),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(Re){const Ce=Re.config;_assert(Ce.authDomain,Re,"auth-domain-config-required");const je=Ce.emulator?_emulatorUrl(Ce,EMULATED_IFRAME_PATH):`https://${Re.config.authDomain}/${IFRAME_PATH}`,Be={apiKey:Ce.apiKey,appName:Re.name,v:SDK_VERSION},De=EID_FROM_APIHOST.get(Re.config.apiHost);De&&(Be.eid=De);const Fe=Re._getFrameworks();return Fe.length&&(Be.fw=Fe.join(",")),`${je}?${querystring(Be).slice(1)}`}async function _openIframe(Re){const Ce=await _loadGapi(Re),je=_window().gapi;return _assert(je,Re,"internal-error"),Ce.open({where:document.body,url:getIframeUrl(Re),messageHandlersFilter:je.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},Be=>new Promise(async(De,Fe)=>{await Be.restyle({setHideOnLeave:!1});const ke=_createError(Re,"network-request-failed"),Oe=_window().setTimeout(()=>{Fe(ke)},PING_TIMEOUT.get());function Me(){_window().clearTimeout(Oe),De(Be)}Be.ping(Me).then(Me,()=>{Fe(ke)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(Ce){this.window=Ce,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(Re,Ce,je,Be=DEFAULT_WIDTH,De=DEFAULT_HEIGHT){const Fe=Math.max((window.screen.availHeight-De)/2,0).toString(),ke=Math.max((window.screen.availWidth-Be)/2,0).toString();let Oe="";const Me=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:Be.toString(),height:De.toString(),top:Fe,left:ke}),Ue=getUA().toLowerCase();je&&(Oe=_isChromeIOS(Ue)?TARGET_BLANK:je),_isFirefox(Ue)&&(Ce=Ce||FIREFOX_EMPTY_URL,Me.scrollbars="yes");const $e=Object.entries(Me).reduce((Qe,[We,qe])=>`${Qe}${We}=${qe},`,"");if(_isIOSStandalone(Ue)&&Oe!=="_self")return openAsNewWindowIOS(Ce||"",Oe),new AuthPopup(null);const He=window.open(Ce||"",Oe,$e);_assert(He,Re,"popup-blocked");try{He.focus()}catch{}return new AuthPopup(He)}function openAsNewWindowIOS(Re,Ce){const je=document.createElement("a");je.href=Re,je.target=Ce;const Be=document.createEvent("MouseEvent");Be.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),je.dispatchEvent(Be)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(Re,Ce,je,Be,De,Fe){_assert(Re.config.authDomain,Re,"auth-domain-config-required"),_assert(Re.config.apiKey,Re,"invalid-api-key");const ke={apiKey:Re.config.apiKey,appName:Re.name,authType:je,redirectUrl:Be,v:SDK_VERSION,eventId:De};if(Ce instanceof FederatedAuthProvider){Ce.setDefaultLanguage(Re.languageCode),ke.providerId=Ce.providerId||"",isEmpty$4(Ce.getCustomParameters())||(ke.customParameters=JSON.stringify(Ce.getCustomParameters()));for(const[$e,He]of Object.entries({}))ke[$e]=He}if(Ce instanceof BaseOAuthProvider){const $e=Ce.getScopes().filter(He=>He!=="");$e.length>0&&(ke.scopes=$e.join(","))}Re.tenantId&&(ke.tid=Re.tenantId);const Oe=ke;for(const $e of Object.keys(Oe))Oe[$e]===void 0&&delete Oe[$e];const Me=await Re._getAppCheckToken(),Ue=Me?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(Me)}`:"";return`${getHandlerBase(Re)}?${querystring(Oe).slice(1)}${Ue}`}function getHandlerBase({config:Re}){return Re.emulator?_emulatorUrl(Re,EMULATOR_WIDGET_PATH):`https://${Re.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(Ce,je,Be,De){var Fe;debugAssert((Fe=this.eventManagers[Ce._key()])===null||Fe===void 0?void 0:Fe.manager,"_initialize() not called before _openPopup()");const ke=await _getRedirectUrl(Ce,je,Be,_getCurrentUrl(),De);return _open(Ce,ke,_generateEventId())}async _openRedirect(Ce,je,Be,De){await this._originValidation(Ce);const Fe=await _getRedirectUrl(Ce,je,Be,_getCurrentUrl(),De);return _setWindowLocation(Fe),new Promise(()=>{})}_initialize(Ce){const je=Ce._key();if(this.eventManagers[je]){const{manager:De,promise:Fe}=this.eventManagers[je];return De?Promise.resolve(De):(debugAssert(Fe,"If manager is not set, promise should be"),Fe)}const Be=this.initAndGetManager(Ce);return this.eventManagers[je]={promise:Be},Be.catch(()=>{delete this.eventManagers[je]}),Be}async initAndGetManager(Ce){const je=await _openIframe(Ce),Be=new AuthEventManager(Ce);return je.register("authEvent",De=>(_assert(De?.authEvent,Ce,"invalid-auth-event"),{status:Be.onEvent(De.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[Ce._key()]={manager:Be},this.iframes[Ce._key()]=je,Be}_isIframeWebStorageSupported(Ce,je){this.iframes[Ce._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},De=>{var Fe;const ke=(Fe=De?.[0])===null||Fe===void 0?void 0:Fe[WEB_STORAGE_SUPPORT_KEY];ke!==void 0&&je(!!ke),_fail(Ce,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(Ce){const je=Ce._key();return this.originValidationPromises[je]||(this.originValidationPromises[je]=_validateOrigin(Ce)),this.originValidationPromises[je]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$2="@firebase/auth",version$3="1.7.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(Ce){this.auth=Ce,this.internalListeners=new Map}getUid(){var Ce;return this.assertAuthConfigured(),((Ce=this.auth.currentUser)===null||Ce===void 0?void 0:Ce.uid)||null}async getToken(Ce){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(Ce)}:null}addAuthTokenListener(Ce){if(this.assertAuthConfigured(),this.internalListeners.has(Ce))return;const je=this.auth.onIdTokenChanged(Be=>{Ce(Be?.stsTokenManager.accessToken||null)});this.internalListeners.set(Ce,je),this.updateProactiveRefresh()}removeAuthTokenListener(Ce){this.assertAuthConfigured();const je=this.internalListeners.get(Ce);je&&(this.internalListeners.delete(Ce),je(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(Re){switch(Re){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(Re){_registerComponent(new Component("auth",(Ce,{options:je})=>{const Be=Ce.getProvider("app").getImmediate(),De=Ce.getProvider("heartbeat"),Fe=Ce.getProvider("app-check-internal"),{apiKey:ke,authDomain:Oe}=Be.options;_assert(ke&&!ke.includes(":"),"invalid-api-key",{appName:Be.name});const Me={apiKey:ke,authDomain:Oe,clientPlatform:Re,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(Re)},Ue=new AuthImpl(Be,De,Fe,Me);return _initializeAuthInstance(Ue,je),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ce,je,Be)=>{Ce.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",Ce=>{const je=_castAuth(Ce.getProvider("auth").getImmediate());return(Be=>new AuthInterop(Be))(je)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$2,version$3,getVersionForPlatform(Re)),registerVersion(name$2,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=300,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=Re=>async Ce=>{const je=Ce&&await Ce.getIdTokenResult(),Be=je&&(new Date().getTime()-Date.parse(je.issuedAtTime))/1e3;if(Be&&Be>authIdTokenMaxAge)return;const De=je?.token;lastPostedIdToken!==De&&(lastPostedIdToken=De,await fetch(Re,{method:De?"POST":"DELETE",headers:De?{Authorization:`Bearer ${De}`}:{}}))};function getAuth(Re=getApp()){const Ce=_getProvider(Re,"auth");if(Ce.isInitialized())return Ce.getImmediate();const je=initializeAuth(Re,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),Be=getExperimentalSetting("authTokenSyncURL");if(Be&&typeof isSecureContext=="boolean"&&isSecureContext){const Fe=new URL(Be,location.origin);if(location.origin===Fe.origin){const ke=mintCookieFactory(Fe.toString());beforeAuthStateChanged(je,ke,()=>ke(je.currentUser)),onIdTokenChanged(je,Oe=>ke(Oe))}}const De=getDefaultEmulatorHost("auth");return De&&connectAuthEmulator(je,`http://${De}`),je}function getScriptParentElement(){var Re,Ce;return(Ce=(Re=document.getElementsByTagName("head"))===null||Re===void 0?void 0:Re[0])!==null&&Ce!==void 0?Ce:document}_setExternalJSProvider({loadJS(Re){return new Promise((Ce,je)=>{const Be=document.createElement("script");Be.setAttribute("src",Re),Be.onload=Ce,Be.onerror=De=>{const Fe=_createError("internal-error");Fe.customData=De,je(Fe)},Be.type="text/javascript",Be.charset="UTF-8",getScriptParentElement().appendChild(Be)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");const index_esm=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeURL,AuthCredential,EmailAuthCredential,EmailAuthProvider,FacebookAuthProvider,GithubAuthProvider,GoogleAuthProvider,OAuthCredential,TwitterAuthProvider,beforeAuthStateChanged,browserLocalPersistence,browserPopupRedirectResolver,browserSessionPersistence,connectAuthEmulator,createUserWithEmailAndPassword,fetchSignInMethodsForEmail,getAuth,getIdTokenResult,inMemoryPersistence,indexedDBLocalPersistence,initializeAuth,onAuthStateChanged,onIdTokenChanged,prodErrorMap,reload,sendEmailVerification,sendPasswordResetEmail,signInWithCredential,signInWithEmailAndPassword,signInWithPopup,signOut,updateProfile},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=120*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(Ce,je,Be=0){super(prependCode(Ce),`Firebase Storage: ${je} (${prependCode(Ce)})`),this.status_=Be,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(Ce){this.status_=Ce}_codeEquals(Ce){return prependCode(Ce)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(Ce){this.customData.serverResponse=Ce,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(Re){Re.UNKNOWN="unknown",Re.OBJECT_NOT_FOUND="object-not-found",Re.BUCKET_NOT_FOUND="bucket-not-found",Re.PROJECT_NOT_FOUND="project-not-found",Re.QUOTA_EXCEEDED="quota-exceeded",Re.UNAUTHENTICATED="unauthenticated",Re.UNAUTHORIZED="unauthorized",Re.UNAUTHORIZED_APP="unauthorized-app",Re.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",Re.INVALID_CHECKSUM="invalid-checksum",Re.CANCELED="canceled",Re.INVALID_EVENT_NAME="invalid-event-name",Re.INVALID_URL="invalid-url",Re.INVALID_DEFAULT_BUCKET="invalid-default-bucket",Re.NO_DEFAULT_BUCKET="no-default-bucket",Re.CANNOT_SLICE_BLOB="cannot-slice-blob",Re.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",Re.NO_DOWNLOAD_URL="no-download-url",Re.INVALID_ARGUMENT="invalid-argument",Re.INVALID_ARGUMENT_COUNT="invalid-argument-count",Re.APP_DELETED="app-deleted",Re.INVALID_ROOT_OPERATION="invalid-root-operation",Re.INVALID_FORMAT="invalid-format",Re.INTERNAL_ERROR="internal-error",Re.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(Re){return"storage/"+Re}function unknown(){const Re="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,Re)}function objectNotFound(Re){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+Re+"' does not exist.")}function quotaExceeded(Re){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+Re+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const Re="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,Re)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(Re){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+Re+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(Re){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+Re+"'.")}function invalidDefaultBucket(Re){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+Re+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(Re){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${Re} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument$1(Re){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,Re)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(Re){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+Re+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(Re,Ce){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+Re+"': "+Ce)}function internalError(Re){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+Re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(Ce,je){this.bucket=Ce,this.path_=je}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const Ce=encodeURIComponent;return"/b/"+Ce(this.bucket)+"/o/"+Ce(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(Ce,je){let Be;try{Be=Location.makeFromUrl(Ce,je)}catch{return new Location(Ce,"")}if(Be.path==="")return Be;throw invalidDefaultBucket(Ce)}static makeFromUrl(Ce,je){let Be=null;const De="([A-Za-z0-9.\\-_]+)";function Fe(tr){tr.path.charAt(tr.path.length-1)==="/"&&(tr.path_=tr.path_.slice(0,-1))}const ke="(/(.*))?$",Oe=new RegExp("^gs://"+De+ke,"i"),Me={bucket:1,path:3};function Ue(tr){tr.path_=decodeURIComponent(tr.path)}const $e="v[A-Za-z0-9_]+",He=je.replace(/[.]/g,"\\."),Qe="(/([^?#]*).*)?$",We=new RegExp(`^https?://${He}/${$e}/b/${De}/o${Qe}`,"i"),qe={bucket:1,path:3},Ke=je===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":je,Xe="([^?#]*)",Ye=new RegExp(`^https?://${Ke}/${De}/${Xe}`,"i"),Je=[{regex:Oe,indices:Me,postModify:Fe},{regex:We,indices:qe,postModify:Ue},{regex:Ye,indices:{bucket:1,path:2},postModify:Ue}];for(let tr=0;tr<Je.length;tr++){const rr=Je[tr],ar=rr.regex.exec(Ce);if(ar){const ir=ar[rr.indices.bucket];let nr=ar[rr.indices.path];nr||(nr=""),Be=new Location(ir,nr),rr.postModify(Be);break}}if(Be==null)throw invalidUrl(Ce);return Be}}class FailRequest{constructor(Ce){this.promise_=Promise.reject(Ce)}getPromise(){return this.promise_}cancel(Ce=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start(Re,Ce,je){let Be=1,De=null,Fe=null,ke=!1,Oe=0;function Me(){return Oe===2}let Ue=!1;function $e(...Xe){Ue||(Ue=!0,Ce.apply(null,Xe))}function He(Xe){De=setTimeout(()=>{De=null,Re(We,Me())},Xe)}function Qe(){Fe&&clearTimeout(Fe)}function We(Xe,...Ye){if(Ue){Qe();return}if(Xe){Qe(),$e.call(null,Xe,...Ye);return}if(Me()||ke){Qe(),$e.call(null,Xe,...Ye);return}Be<64&&(Be*=2);let Je;Oe===1?(Oe=2,Je=0):Je=(Be+Math.random())*1e3,He(Je)}let qe=!1;function Ke(Xe){qe||(qe=!0,Qe(),!Ue&&(De!==null?(Xe||(Oe=2),clearTimeout(De),He(0)):Xe||(Oe=1)))}return He(0),Fe=setTimeout(()=>{ke=!0,Ke(!0)},je),Ke}function stop(Re){Re(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(Re){return Re!==void 0}function isNonArrayObject(Re){return typeof Re=="object"&&!Array.isArray(Re)}function isString(Re){return typeof Re=="string"||Re instanceof String}function isNativeBlob(Re){return isNativeBlobDefined()&&Re instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(Re,Ce,je,Be){if(Be<Ce)throw invalidArgument$1(`Invalid value for '${Re}'. Expected ${Ce} or greater.`);if(Be>je)throw invalidArgument$1(`Invalid value for '${Re}'. Expected ${je} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(Re,Ce,je){let Be=Ce;return je==null&&(Be=`https://${Ce}`),`${je}://${Be}/v0${Re}`}function makeQueryString(Re){const Ce=encodeURIComponent;let je="?";for(const Be in Re)if(Re.hasOwnProperty(Be)){const De=Ce(Be)+"="+Ce(Re[Be]);je=je+De+"&"}return je=je.slice(0,-1),je}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(Re){Re[Re.NO_ERROR=0]="NO_ERROR",Re[Re.NETWORK_ERROR=1]="NETWORK_ERROR",Re[Re.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(Re,Ce){const je=Re>=500&&Re<600,De=[408,429].indexOf(Re)!==-1,Fe=Ce.indexOf(Re)!==-1;return je||De||Fe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(Ce,je,Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe=!0){this.url_=Ce,this.method_=je,this.headers_=Be,this.body_=De,this.successCodes_=Fe,this.additionalRetryCodes_=ke,this.callback_=Oe,this.errorCallback_=Me,this.timeout_=Ue,this.progressCallback_=$e,this.connectionFactory_=He,this.retry=Qe,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((We,qe)=>{this.resolve_=We,this.reject_=qe,this.start_()})}start_(){const Ce=(Be,De)=>{if(De){Be(!1,new RequestEndStatus(!1,null,!0));return}const Fe=this.connectionFactory_();this.pendingConnection_=Fe;const ke=Oe=>{const Me=Oe.loaded,Ue=Oe.lengthComputable?Oe.total:-1;this.progressCallback_!==null&&this.progressCallback_(Me,Ue)};this.progressCallback_!==null&&Fe.addUploadProgressListener(ke),Fe.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&Fe.removeUploadProgressListener(ke),this.pendingConnection_=null;const Oe=Fe.getErrorCode()===ErrorCode.NO_ERROR,Me=Fe.getStatus();if(!Oe||isRetryStatusCode(Me,this.additionalRetryCodes_)&&this.retry){const $e=Fe.getErrorCode()===ErrorCode.ABORT;Be(!1,new RequestEndStatus(!1,null,$e));return}const Ue=this.successCodes_.indexOf(Me)!==-1;Be(!0,new RequestEndStatus(Ue,Fe))})},je=(Be,De)=>{const Fe=this.resolve_,ke=this.reject_,Oe=De.connection;if(De.wasSuccessCode)try{const Me=this.callback_(Oe,Oe.getResponse());isJustDef(Me)?Fe(Me):Fe()}catch(Me){ke(Me)}else if(Oe!==null){const Me=unknown();Me.serverResponse=Oe.getErrorText(),this.errorCallback_?ke(this.errorCallback_(Oe,Me)):ke(Me)}else if(De.canceled){const Me=this.appDelete_?appDeleted():canceled();ke(Me)}else{const Me=retryLimitExceeded();ke(Me)}};this.canceled_?je(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start(Ce,je,this.timeout_)}getPromise(){return this.promise_}cancel(Ce){this.canceled_=!0,this.appDelete_=Ce||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(Ce,je,Be){this.wasSuccessCode=Ce,this.connection=je,this.canceled=!!Be}}function addAuthHeader_(Re,Ce){Ce!==null&&Ce.length>0&&(Re.Authorization="Firebase "+Ce)}function addVersionHeader_(Re,Ce){Re["X-Firebase-Storage-Version"]="webjs/"+(Ce??"AppManager")}function addGmpidHeader_(Re,Ce){Ce&&(Re["X-Firebase-GMPID"]=Ce)}function addAppCheckHeader_(Re,Ce){Ce!==null&&(Re["X-Firebase-AppCheck"]=Ce)}function makeRequest(Re,Ce,je,Be,De,Fe,ke=!0){const Oe=makeQueryString(Re.urlParams),Me=Re.url+Oe,Ue=Object.assign({},Re.headers);return addGmpidHeader_(Ue,Ce),addAuthHeader_(Ue,je),addVersionHeader_(Ue,Fe),addAppCheckHeader_(Ue,Be),new NetworkRequest(Me,Re.method,Ue,Re.body,Re.successCodes,Re.additionalRetryCodes,Re.handler,Re.errorHandler,Re.timeout,Re.progressCallback,De,ke)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...Re){const Ce=getBlobBuilder();if(Ce!==void 0){const je=new Ce;for(let Be=0;Be<Re.length;Be++)je.append(Re[Be]);return je.getBlob()}else{if(isNativeBlobDefined())return new Blob(Re);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(Re,Ce,je){return Re.webkitSlice?Re.webkitSlice(Ce,je):Re.mozSlice?Re.mozSlice(Ce,je):Re.slice?Re.slice(Ce,je):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(Re){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(Re)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(Ce,je){this.data=Ce,this.contentType=je||null}}function dataFromString(Re,Ce){switch(Re){case StringFormat.RAW:return new StringData(utf8Bytes_(Ce));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(Re,Ce));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(Ce),dataURLContentType_(Ce))}throw unknown()}function utf8Bytes_(Re){const Ce=[];for(let je=0;je<Re.length;je++){let Be=Re.charCodeAt(je);if(Be<=127)Ce.push(Be);else if(Be<=2047)Ce.push(192|Be>>6,128|Be&63);else if((Be&64512)===55296)if(!(je<Re.length-1&&(Re.charCodeAt(je+1)&64512)===56320))Ce.push(239,191,189);else{const Fe=Be,ke=Re.charCodeAt(++je);Be=65536|(Fe&1023)<<10|ke&1023,Ce.push(240|Be>>18,128|Be>>12&63,128|Be>>6&63,128|Be&63)}else(Be&64512)===56320?Ce.push(239,191,189):Ce.push(224|Be>>12,128|Be>>6&63,128|Be&63)}return new Uint8Array(Ce)}function percentEncodedBytes_(Re){let Ce;try{Ce=decodeURIComponent(Re)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(Ce)}function base64Bytes_(Re,Ce){switch(Re){case StringFormat.BASE64:{const De=Ce.indexOf("-")!==-1,Fe=Ce.indexOf("_")!==-1;if(De||Fe)throw invalidFormat(Re,"Invalid character '"+(De?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const De=Ce.indexOf("+")!==-1,Fe=Ce.indexOf("/")!==-1;if(De||Fe)throw invalidFormat(Re,"Invalid character '"+(De?"+":"/")+"' found: is it base64 encoded?");Ce=Ce.replace(/-/g,"+").replace(/_/g,"/");break}}let je;try{je=decodeBase64(Ce)}catch(De){throw De.message.includes("polyfill")?De:invalidFormat(Re,"Invalid character found")}const Be=new Uint8Array(je.length);for(let De=0;De<je.length;De++)Be[De]=je.charCodeAt(De);return Be}class DataURLParts{constructor(Ce){this.base64=!1,this.contentType=null;const je=Ce.match(/^data:([^,]+)?,/);if(je===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const Be=je[1]||null;Be!=null&&(this.base64=endsWith(Be,";base64"),this.contentType=this.base64?Be.substring(0,Be.length-7):Be),this.rest=Ce.substring(Ce.indexOf(",")+1)}}function dataURLBytes_(Re){const Ce=new DataURLParts(Re);return Ce.base64?base64Bytes_(StringFormat.BASE64,Ce.rest):percentEncodedBytes_(Ce.rest)}function dataURLContentType_(Re){return new DataURLParts(Re).contentType}function endsWith(Re,Ce){return Re.length>=Ce.length?Re.substring(Re.length-Ce.length)===Ce:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(Ce,je){let Be=0,De="";isNativeBlob(Ce)?(this.data_=Ce,Be=Ce.size,De=Ce.type):Ce instanceof ArrayBuffer?(je?this.data_=new Uint8Array(Ce):(this.data_=new Uint8Array(Ce.byteLength),this.data_.set(new Uint8Array(Ce))),Be=this.data_.length):Ce instanceof Uint8Array&&(je?this.data_=Ce:(this.data_=new Uint8Array(Ce.length),this.data_.set(Ce)),Be=Ce.length),this.size_=Be,this.type_=De}size(){return this.size_}type(){return this.type_}slice(Ce,je){if(isNativeBlob(this.data_)){const Be=this.data_,De=sliceBlob(Be,Ce,je);return De===null?null:new FbsBlob(De)}else{const Be=new Uint8Array(this.data_.buffer,Ce,je-Ce);return new FbsBlob(Be,!0)}}static getBlob(...Ce){if(isNativeBlobDefined()){const je=Ce.map(Be=>Be instanceof FbsBlob?Be.data_:Be);return new FbsBlob(getBlob$1.apply(null,je))}else{const je=Ce.map(ke=>isString(ke)?dataFromString(StringFormat.RAW,ke).data:ke.data_);let Be=0;je.forEach(ke=>{Be+=ke.byteLength});const De=new Uint8Array(Be);let Fe=0;return je.forEach(ke=>{for(let Oe=0;Oe<ke.length;Oe++)De[Fe++]=ke[Oe]}),new FbsBlob(De,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(Re){let Ce;try{Ce=JSON.parse(Re)}catch{return null}return isNonArrayObject(Ce)?Ce:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(Re){if(Re.length===0)return null;const Ce=Re.lastIndexOf("/");return Ce===-1?"":Re.slice(0,Ce)}function child(Re,Ce){const je=Ce.split("/").filter(Be=>Be.length>0).join("/");return Re.length===0?je:Re+"/"+je}function lastComponent(Re){const Ce=Re.lastIndexOf("/",Re.length-2);return Ce===-1?Re:Re.slice(Ce+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(Re,Ce){return Ce}class Mapping{constructor(Ce,je,Be,De){this.server=Ce,this.local=je||Ce,this.writable=!!Be,this.xform=De||noXform_}}let mappings_=null;function xformPath(Re){return!isString(Re)||Re.length<2?Re:lastComponent(Re)}function getMappings(){if(mappings_)return mappings_;const Re=[];Re.push(new Mapping("bucket")),Re.push(new Mapping("generation")),Re.push(new Mapping("metageneration")),Re.push(new Mapping("name","fullPath",!0));function Ce(Fe,ke){return xformPath(ke)}const je=new Mapping("name");je.xform=Ce,Re.push(je);function Be(Fe,ke){return ke!==void 0?Number(ke):ke}const De=new Mapping("size");return De.xform=Be,Re.push(De),Re.push(new Mapping("timeCreated")),Re.push(new Mapping("updated")),Re.push(new Mapping("md5Hash",null,!0)),Re.push(new Mapping("cacheControl",null,!0)),Re.push(new Mapping("contentDisposition",null,!0)),Re.push(new Mapping("contentEncoding",null,!0)),Re.push(new Mapping("contentLanguage",null,!0)),Re.push(new Mapping("contentType",null,!0)),Re.push(new Mapping("metadata","customMetadata",!0)),mappings_=Re,mappings_}function addRef(Re,Ce){function je(){const Be=Re.bucket,De=Re.fullPath,Fe=new Location(Be,De);return Ce._makeStorageReference(Fe)}Object.defineProperty(Re,"ref",{get:je})}function fromResource(Re,Ce,je){const Be={};Be.type="file";const De=je.length;for(let Fe=0;Fe<De;Fe++){const ke=je[Fe];Be[ke.local]=ke.xform(Be,Ce[ke.server])}return addRef(Be,Re),Be}function fromResourceString(Re,Ce,je){const Be=jsonObjectOrNull(Ce);return Be===null?null:fromResource(Re,Be,je)}function downloadUrlFromResourceString(Re,Ce,je,Be){const De=jsonObjectOrNull(Ce);if(De===null||!isString(De.downloadTokens))return null;const Fe=De.downloadTokens;if(Fe.length===0)return null;const ke=encodeURIComponent;return Fe.split(",").map(Ue=>{const $e=Re.bucket,He=Re.fullPath,Qe="/b/"+ke($e)+"/o/"+ke(He),We=makeUrl(Qe,je,Be),qe=makeQueryString({alt:"media",token:Ue});return We+qe})[0]}function toResourceString(Re,Ce){const je={},Be=Ce.length;for(let De=0;De<Be;De++){const Fe=Ce[De];Fe.writable&&(je[Fe.server]=Re[Fe.local])}return JSON.stringify(je)}class RequestInfo{constructor(Ce,je,Be,De){this.url=Ce,this.method=je,this.handler=Be,this.timeout=De,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(Re){if(!Re)throw unknown()}function metadataHandler(Re,Ce){function je(Be,De){const Fe=fromResourceString(Re,De,Ce);return handlerCheck(Fe!==null),Fe}return je}function downloadUrlHandler(Re,Ce){function je(Be,De){const Fe=fromResourceString(Re,De,Ce);return handlerCheck(Fe!==null),downloadUrlFromResourceString(Fe,De,Re.host,Re._protocol)}return je}function sharedErrorHandler(Re){function Ce(je,Be){let De;return je.getStatus()===401?je.getErrorText().includes("Firebase App Check token is invalid")?De=unauthorizedApp():De=unauthenticated():je.getStatus()===402?De=quotaExceeded(Re.bucket):je.getStatus()===403?De=unauthorized(Re.path):De=Be,De.status=je.getStatus(),De.serverResponse=Be.serverResponse,De}return Ce}function objectErrorHandler(Re){const Ce=sharedErrorHandler(Re);function je(Be,De){let Fe=Ce(Be,De);return Be.getStatus()===404&&(Fe=objectNotFound(Re.path)),Fe.serverResponse=De.serverResponse,Fe}return je}function getDownloadUrl(Re,Ce,je){const Be=Ce.fullServerUrl(),De=makeUrl(Be,Re.host,Re._protocol),Fe="GET",ke=Re.maxOperationRetryTime,Oe=new RequestInfo(De,Fe,downloadUrlHandler(Re,je),ke);return Oe.errorHandler=objectErrorHandler(Ce),Oe}function determineContentType_(Re,Ce){return Re&&Re.contentType||Ce&&Ce.type()||"application/octet-stream"}function metadataForUpload_(Re,Ce,je){const Be=Object.assign({},je);return Be.fullPath=Re.path,Be.size=Ce.size(),Be.contentType||(Be.contentType=determineContentType_(null,Ce)),Be}function multipartUpload(Re,Ce,je,Be,De){const Fe=Ce.bucketOnlyServerUrl(),ke={"X-Goog-Upload-Protocol":"multipart"};function Oe(){let Je="";for(let tr=0;tr<2;tr++)Je=Je+Math.random().toString().slice(2);return Je}const Me=Oe();ke["Content-Type"]="multipart/related; boundary="+Me;const Ue=metadataForUpload_(Ce,Be,De),$e=toResourceString(Ue,je),He="--"+Me+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+$e+`\r
--`+Me+`\r
Content-Type: `+Ue.contentType+`\r
\r
`,Qe=`\r
--`+Me+"--",We=FbsBlob.getBlob(He,Be,Qe);if(We===null)throw cannotSliceBlob();const qe={name:Ue.fullPath},Ke=makeUrl(Fe,Re.host,Re._protocol),Xe="POST",Ye=Re.maxUploadRetryTime,Ze=new RequestInfo(Ke,Xe,metadataHandler(Re,je),Ye);return Ze.urlParams=qe,Ze.headers=ke,Ze.body=We.uploadData(),Ze.errorHandler=sharedErrorHandler(Ce),Ze}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(Ce=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,Ce()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,Ce()}),this.xhr_.addEventListener("load",()=>{Ce()})})}send(Ce,je,Be,De){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(je,Ce,!0),De!==void 0)for(const Fe in De)De.hasOwnProperty(Fe)&&this.xhr_.setRequestHeader(Fe,De[Fe].toString());return Be!==void 0?this.xhr_.send(Be):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(Ce){return this.xhr_.getResponseHeader(Ce)}addUploadProgressListener(Ce){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",Ce)}removeUploadProgressListener(Ce){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",Ce)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(Ce,je){this._service=Ce,je instanceof Location?this._location=je:this._location=Location.makeFromUrl(je,Ce.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(Ce,je){return new Reference(Ce,je)}get root(){const Ce=new Location(this._location.bucket,"");return this._newRef(this._service,Ce)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const Ce=parent(this._location.path);if(Ce===null)return null;const je=new Location(this._location.bucket,Ce);return new Reference(this._service,je)}_throwIfRoot(Ce){if(this._location.path==="")throw invalidRootOperation(Ce)}}function uploadBytes$1(Re,Ce,je){Re._throwIfRoot("uploadBytes");const Be=multipartUpload(Re.storage,Re._location,getMappings(),new FbsBlob(Ce,!0),je);return Re.storage.makeRequestWithTokens(Be,newTextConnection).then(De=>({metadata:De,ref:Re}))}function getDownloadURL$1(Re){Re._throwIfRoot("getDownloadURL");const Ce=getDownloadUrl(Re.storage,Re._location,getMappings());return Re.storage.makeRequestWithTokens(Ce,newTextConnection).then(je=>{if(je===null)throw noDownloadURL();return je})}function _getChild$1(Re,Ce){const je=child(Re._location.path,Ce),Be=new Location(Re._location.bucket,je);return new Reference(Re.storage,Be)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(Re){return/^[A-Za-z]+:\/\//.test(Re)}function refFromURL(Re,Ce){return new Reference(Re,Ce)}function refFromPath(Re,Ce){if(Re instanceof FirebaseStorageImpl){const je=Re;if(je._bucket==null)throw noDefaultBucket();const Be=new Reference(je,je._bucket);return Ce!=null?refFromPath(Be,Ce):Be}else return Ce!==void 0?_getChild$1(Re,Ce):Re}function ref$1(Re,Ce){if(Ce&&isUrl(Ce)){if(Re instanceof FirebaseStorageImpl)return refFromURL(Re,Ce);throw invalidArgument$1("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(Re,Ce)}function extractBucket(Re,Ce){const je=Ce?.[CONFIG_STORAGE_BUCKET_KEY];return je==null?null:Location.makeFromBucketSpec(je,Re)}function connectStorageEmulator$1(Re,Ce,je,Be={}){Re.host=`${Ce}:${je}`,Re._protocol="http";const{mockUserToken:De}=Be;De&&(Re._overrideAuthToken=typeof De=="string"?De:createMockUserToken(De,Re.app.options.projectId))}class FirebaseStorageImpl{constructor(Ce,je,Be,De,Fe){this.app=Ce,this._authProvider=je,this._appCheckProvider=Be,this._url=De,this._firebaseVersion=Fe,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,De!=null?this._bucket=Location.makeFromBucketSpec(De,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(Ce){this._host=Ce,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,Ce):this._bucket=extractBucket(Ce,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(Ce){validateNumber("time",0,Number.POSITIVE_INFINITY,Ce),this._maxUploadRetryTime=Ce}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(Ce){validateNumber("time",0,Number.POSITIVE_INFINITY,Ce),this._maxOperationRetryTime=Ce}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const Ce=this._authProvider.getImmediate({optional:!0});if(Ce){const je=await Ce.getToken();if(je!==null)return je.accessToken}return null}async _getAppCheckToken(){const Ce=this._appCheckProvider.getImmediate({optional:!0});return Ce?(await Ce.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(Ce=>Ce.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(Ce){return new Reference(this,Ce)}_makeRequest(Ce,je,Be,De,Fe=!0){if(this._deleted)return new FailRequest(appDeleted());{const ke=makeRequest(Ce,this._appId,Be,De,je,this._firebaseVersion,Fe);return this._requests.add(ke),ke.getPromise().then(()=>this._requests.delete(ke),()=>this._requests.delete(ke)),ke}}async makeRequestWithTokens(Ce,je){const[Be,De]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(Ce,je,Be,De).getPromise()}}const name$1="@firebase/storage",version$2="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(Re,Ce,je){return Re=getModularInstance(Re),uploadBytes$1(Re,Ce,je)}function getDownloadURL(Re){return Re=getModularInstance(Re),getDownloadURL$1(Re)}function ref(Re,Ce){return Re=getModularInstance(Re),ref$1(Re,Ce)}function getStorage(Re=getApp(),Ce){Re=getModularInstance(Re);const Be=_getProvider(Re,STORAGE_TYPE).getImmediate({identifier:Ce}),De=getDefaultEmulatorHostnameAndPort("storage");return De&&connectStorageEmulator(Be,...De),Be}function connectStorageEmulator(Re,Ce,je,Be={}){connectStorageEmulator$1(Re,Ce,je,Be)}function factory(Re,{instanceIdentifier:Ce}){const je=Re.getProvider("app").getImmediate(),Be=Re.getProvider("auth-internal"),De=Re.getProvider("app-check-internal");return new FirebaseStorageImpl(je,Be,De,Ce,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name$1,version$2,""),registerVersion(name$1,version$2,"esm2017")}registerStorage();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LONG_TYPE="type.googleapis.com/google.protobuf.Int64Value",UNSIGNED_LONG_TYPE="type.googleapis.com/google.protobuf.UInt64Value";function mapValues(Re,Ce){const je={};for(const Be in Re)Re.hasOwnProperty(Be)&&(je[Be]=Ce(Re[Be]));return je}function encode(Re){if(Re==null)return null;if(Re instanceof Number&&(Re=Re.valueOf()),typeof Re=="number"&&isFinite(Re)||Re===!0||Re===!1||Object.prototype.toString.call(Re)==="[object String]")return Re;if(Re instanceof Date)return Re.toISOString();if(Array.isArray(Re))return Re.map(Ce=>encode(Ce));if(typeof Re=="function"||typeof Re=="object")return mapValues(Re,Ce=>encode(Ce));throw new Error("Data cannot be encoded in JSON: "+Re)}function decode(Re){if(Re==null)return Re;if(Re["@type"])switch(Re["@type"]){case LONG_TYPE:case UNSIGNED_LONG_TYPE:{const Ce=Number(Re.value);if(isNaN(Ce))throw new Error("Data cannot be decoded from JSON: "+Re);return Ce}default:throw new Error("Data cannot be decoded from JSON: "+Re)}return Array.isArray(Re)?Re.map(Ce=>decode(Ce)):typeof Re=="function"||typeof Re=="object"?mapValues(Re,Ce=>decode(Ce)):Re}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FUNCTIONS_TYPE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const errorCodeMap={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FunctionsError extends FirebaseError{constructor(Ce,je,Be){super(`${FUNCTIONS_TYPE}/${Ce}`,je||""),this.details=Be}}function codeForHTTPStatus(Re){if(Re>=200&&Re<300)return"ok";switch(Re){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function _errorForResponse(Re,Ce){let je=codeForHTTPStatus(Re),Be=je,De;try{const Fe=Ce&&Ce.error;if(Fe){const ke=Fe.status;if(typeof ke=="string"){if(!errorCodeMap[ke])return new FunctionsError("internal","internal");je=errorCodeMap[ke],Be=ke}const Oe=Fe.message;typeof Oe=="string"&&(Be=Oe),De=Fe.details,De!==void 0&&(De=decode(De))}}catch{}return je==="ok"?null:new FunctionsError(je,Be,De)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ContextProvider{constructor(Ce,je,Be){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=Ce.getImmediate({optional:!0}),this.messaging=je.getImmediate({optional:!0}),this.auth||Ce.get().then(De=>this.auth=De,()=>{}),this.messaging||je.get().then(De=>this.messaging=De,()=>{}),this.appCheck||Be.get().then(De=>this.appCheck=De,()=>{})}async getAuthToken(){if(this.auth)try{const Ce=await this.auth.getToken();return Ce?.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(Ce){if(this.appCheck){const je=Ce?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return je.error?null:je.token}return null}async getContext(Ce){const je=await this.getAuthToken(),Be=await this.getMessagingToken(),De=await this.getAppCheckToken(Ce);return{authToken:je,messagingToken:Be,appCheckToken:De}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_REGION="us-central1";function failAfter(Re){let Ce=null;return{promise:new Promise((je,Be)=>{Ce=setTimeout(()=>{Be(new FunctionsError("deadline-exceeded","deadline-exceeded"))},Re)}),cancel:()=>{Ce&&clearTimeout(Ce)}}}class FunctionsService{constructor(Ce,je,Be,De,Fe=DEFAULT_REGION,ke){this.app=Ce,this.fetchImpl=ke,this.emulatorOrigin=null,this.contextProvider=new ContextProvider(je,Be,De),this.cancelAllRequests=new Promise(Oe=>{this.deleteService=()=>Promise.resolve(Oe())});try{const Oe=new URL(Fe);this.customDomain=Oe.origin,this.region=DEFAULT_REGION}catch{this.customDomain=null,this.region=Fe}}_delete(){return this.deleteService()}_url(Ce){const je=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${je}/${this.region}/${Ce}`:this.customDomain!==null?`${this.customDomain}/${Ce}`:`https://${this.region}-${je}.cloudfunctions.net/${Ce}`}}function connectFunctionsEmulator$1(Re,Ce,je){Re.emulatorOrigin=`http://${Ce}:${je}`}function httpsCallable$1(Re,Ce,je){return(Be=>call(Re,Ce,Be,{}))}async function postJSON(Re,Ce,je,Be){je["Content-Type"]="application/json";let De;try{De=await Be(Re,{method:"POST",body:JSON.stringify(Ce),headers:je})}catch{return{status:0,json:null}}let Fe=null;try{Fe=await De.json()}catch{}return{status:De.status,json:Fe}}function call(Re,Ce,je,Be){const De=Re._url(Ce);return callAtURL(Re,De,je,Be)}async function callAtURL(Re,Ce,je,Be){je=encode(je);const De={data:je},Fe={},ke=await Re.contextProvider.getContext(Be.limitedUseAppCheckTokens);ke.authToken&&(Fe.Authorization="Bearer "+ke.authToken),ke.messagingToken&&(Fe["Firebase-Instance-ID-Token"]=ke.messagingToken),ke.appCheckToken!==null&&(Fe["X-Firebase-AppCheck"]=ke.appCheckToken);const Oe=Be.timeout||7e4,Me=failAfter(Oe),Ue=await Promise.race([postJSON(Ce,De,Fe,Re.fetchImpl),Me.promise,Re.cancelAllRequests]);if(Me.cancel(),!Ue)throw new FunctionsError("cancelled","Firebase Functions instance was deleted.");const $e=_errorForResponse(Ue.status,Ue.json);if($e)throw $e;if(!Ue.json)throw new FunctionsError("internal","Response is not valid JSON object.");let He=Ue.json.data;if(typeof He>"u"&&(He=Ue.json.result),typeof He>"u")throw new FunctionsError("internal","Response is missing data field.");return{data:decode(He)}}const name="@firebase/functions",version$1="0.11.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AUTH_INTERNAL_NAME="auth-internal",APP_CHECK_INTERNAL_NAME="app-check-internal",MESSAGING_INTERNAL_NAME="messaging-internal";function registerFunctions(Re,Ce){const je=(Be,{instanceIdentifier:De})=>{const Fe=Be.getProvider("app").getImmediate(),ke=Be.getProvider(AUTH_INTERNAL_NAME),Oe=Be.getProvider(MESSAGING_INTERNAL_NAME),Me=Be.getProvider(APP_CHECK_INTERNAL_NAME);return new FunctionsService(Fe,ke,Oe,Me,De,Re)};_registerComponent(new Component(FUNCTIONS_TYPE,je,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version$1,Ce),registerVersion(name,version$1,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getFunctions(Re=getApp(),Ce=DEFAULT_REGION){const Be=_getProvider(getModularInstance(Re),FUNCTIONS_TYPE).getImmediate({identifier:Ce}),De=getDefaultEmulatorHostnameAndPort("functions");return De&&connectFunctionsEmulator(Be,...De),Be}function connectFunctionsEmulator(Re,Ce,je){connectFunctionsEmulator$1(getModularInstance(Re),Ce,je)}function httpsCallable(Re,Ce,je){return httpsCallable$1(getModularInstance(Re),Ce)}registerFunctions(fetch.bind(self));const __vite_import_meta_env__$2={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_OCR_FUNCTION_URL:"https://ocrfromimage-rg2uh6cnqq-el.a.run.app"},firebaseConfig={apiKey:"AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",authDomain:"stockpilotv1.firebaseapp.com",databaseURL:"https://stockpilotv1-default-rtdb.firebaseio.com",projectId:"stockpilotv1",storageBucket:"stockpilotv1.firebasestorage.app",messagingSenderId:"30934537475",appId:"1:30934537475:web:84a2f76609dbb1db290536",measurementId:"G-SENFJ2HSBW"},app=initializeApp(firebaseConfig);typeof window<"u"&&__vite_import_meta_env__$2?.VITE_ENABLE_APPCHECK==="true"&&(async()=>{try{const{initializeAppCheck:Re,ReCaptchaV3Provider:Ce}=await __vitePreload(async()=>{const{initializeAppCheck:Be,ReCaptchaV3Provider:De}=await import("./index.esm-jpTUeuRZ.js");return{initializeAppCheck:Be,ReCaptchaV3Provider:De}},[],import.meta.url),je=__vite_import_meta_env__$2?.VITE_RECAPTCHA_V3_SITE_KEY;if(!je){console.warn("[AppCheck] VITE_RECAPTCHA_V3_SITE_KEY missing; skipping App Check init.");return}Re(app,{provider:new Ce(je),isTokenAutoRefreshEnabled:!0}),console.info("[AppCheck] Initialized with reCAPTCHA v3")}catch(Re){console.warn("App Check init skipped:",Re?.message||Re)}})();const auth$2=getAuth(app),db$2=getFirestore(app),storage=getStorage(app),functions=getFunctions(app,"asia-south1"),debounce$4=(Re,Ce)=>{let je;return(...Be)=>{je&&clearTimeout(je),je=setTimeout(()=>Re(...Be),Ce)}},generateCustId=()=>`CUST-${Math.floor(1e3+Math.random()*9e3)}`,CustomerForm=({customer:Re,onChange:Ce,userId:je})=>{const[Be,De]=reactExports.useState([]),[Fe,ke]=reactExports.useState(!1),Oe=async He=>{if(!je||!He)return;const Qe=collection(db$2,"businesses",je,"customers"),We=await getDocs(Qe),qe=[],Ke=He.toLowerCase();We.forEach(Ye=>{const Ze=Ye.data();(Ze.name&&Ze.name.toLowerCase().includes(Ke)||Ze.phone&&Ze.phone.includes(He))&&qe.push({id:Ye.id,...Ze})}),De(qe),ke(!0)},Me=reactExports.useCallback(debounce$4(He=>Oe(He),300),[]),Ue=async He=>{const{name:Qe,value:We}=He.target;Qe==="name"&&(We.length>1?Me(We):(De([]),ke(!1))),Ce(qe=>({...qe,[Qe]:We,custId:qe?.custId||generateCustId()}))},$e=He=>{De([]),ke(!1),Ce({...He,custId:He?.custId||generateCustId()})};return jsxRuntimeExports.jsx("div",{className:"p-4 md:p-6 rounded-xl mb-6 space-y-4 bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1 relative",htmlFor:"name",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Customer Name"}),jsxRuntimeExports.jsx("input",{id:"name",type:"text",name:"name",value:Re?.name||"",onChange:Ue,placeholder:"Enter customer name",className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",autoComplete:"off",onBlur:()=>setTimeout(()=>ke(!1),150),onFocus:()=>{Be.length>0&&ke(!0)}}),Fe&&Be.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-2 p-2 rounded bg-white/5 backdrop-blur-xl border border-white/10",children:[jsxRuntimeExports.jsx("div",{className:"font-medium mb-1",children:"Select Customer"}),jsxRuntimeExports.jsx("ul",{className:"border border-white/10 rounded bg-[#0B0F14]/70 backdrop-blur-xl shadow-[0_8px_30px_rgba(0,0,0,0.35)] max-h-40 overflow-y-auto z-10 w-full",children:Be.map(He=>jsxRuntimeExports.jsxs("li",{onClick:()=>$e(He),className:"p-2 hover:bg-white/10 cursor-pointer border-b border-white/10 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-base",children:[" ",He.name," ",jsxRuntimeExports.jsxs("span",{className:"text-xs text-white/60",children:[" ",He.custId]})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70 mt-1",children:[" ",He.phone||"No Phone","   ",He.address||"No Address"]})]},He.custId||He.id))})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"phone",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{id:"phone",type:"tel",name:"phone",value:Re?.phone||"",onChange:Ue,placeholder:"Enter phone number",className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"email",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Email Address"}),jsxRuntimeExports.jsx("input",{id:"email",type:"email",name:"email",value:Re?.email||"",onChange:Ue,placeholder:"Enter email address",className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",htmlFor:"address",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Customer Address"}),jsxRuntimeExports.jsx("input",{id:"address",type:"text",name:"address",value:Re?.address||"",onChange:Ue,placeholder:"Enter customer address",className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]})})},BillingCart=({selectedProducts:Re=[],onUpdateCart:Ce,settings:je})=>{const[Be,De]=reactExports.useState([]),{includeGST:Fe,gstRate:ke,enableCGST:Oe,enableSGST:Me,enableIGST:Ue,includeCGST:$e,includeSGST:He,includeIGST:Qe,cgstRate:We,sgstRate:qe,igstRate:Ke}=je||{},Xe=()=>{De([...Be,{id:"manual",name:"",sku:"",brand:"",category:"",unit:"",quantity:1,price:0,discount:0}])},Ye=(ir,nr,cr)=>{const mr=[...Be];mr[ir][nr]=nr==="quantity"||nr==="price"||nr==="discount"?parseFloat(cr)||0:cr,De(mr)},Ze=ir=>{const nr=[...Be];nr.splice(ir,1),De(nr)},Je=ir=>((ir.price-ir.price*ir.discount/100)*ir.quantity).toFixed(2),tr=Be.reduce((ir,nr)=>ir+(nr.price-nr.price*nr.discount/100)*nr.quantity,0),rr=(Fe&&ke?tr*ke/100:0)+($e&&We?tr*We/100:0)+(He&&qe?tr*qe/100:0)+(Qe&&Ke?tr*Ke/100:0),ar=tr+rr;return reactExports.useEffect(()=>{const ir=Re.filter(nr=>!Be.some(cr=>cr.sku===nr.sku)).map(nr=>({id:nr.id,name:nr.productName||"",sku:nr.sku||"",brand:nr.brand||"",category:nr.category||"",unit:nr.unit||"",quantity:1,price:nr.sellingPrice||0,discount:0}));ir.length>0&&De(nr=>[...nr,...ir])},[Re]),reactExports.useEffect(()=>{if(console.log("Updated Cart Items:",Be),Ce&&Be.length>0){const ir={gst:Fe&&ke?tr*ke/100:0,cgst:$e&&We?tr*We/100:0,sgst:He&&qe?tr*qe/100:0,igst:Qe&&Ke?tr*Ke/100:0};Ce(Be,{subtotal:tr,taxBreakdown:ir,finalTotal:ar})}},[Be]),jsxRuntimeExports.jsxs("div",{className:"space-y-6 px-4 pt-4 md:px-6 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:Xe,className:"px-4 py-2 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)] transition",children:"+ Add Item"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border border-white/10 bg-white/5 backdrop-blur-xl rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{className:"text-left bg-white/10",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Discount (%)"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Subtotal"}),jsxRuntimeExports.jsx("th",{className:"p-2 md:p-3 text-xs md:text-sm font-semibold text-white/80 border-b border-white/10",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Be.map((ir,nr)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:ir.name||"",onChange:cr=>Ye(nr,"name",cr.target.value),className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:ir.sku||"",onChange:cr=>Ye(nr,"sku",cr.target.value),className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:ir.brand||"",onChange:cr=>Ye(nr,"brand",cr.target.value),className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:ir.category||"",onChange:cr=>Ye(nr,"category",cr.target.value),className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"text",value:ir.unit||"",onChange:cr=>Ye(nr,"unit",cr.target.value),className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:ir.quantity||0,onChange:cr=>Ye(nr,"quantity",cr.target.value),className:"w-16 px-2 py-1 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:ir.price||0,onChange:cr=>Ye(nr,"price",cr.target.value),className:"w-20 px-2 py-1 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("input",{type:"number",value:ir.discount||0,onChange:cr=>Ye(nr,"discount",cr.target.value),className:"w-20 px-2 py-1 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("td",{className:"p-2 md:p-3 text-white/90",children:Je(ir)}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>Ze(nr),className:"text-rose-300 hover:text-rose-200 underline",children:"Remove"})})]},nr))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 text-right space-y-2 text-sm md:text-base bg-white/5 backdrop-blur-xl border border-white/10 rounded-xl p-4 md:p-6",children:[jsxRuntimeExports.jsxs("p",{children:["Total Items: ",Be.length]}),jsxRuntimeExports.jsxs("p",{children:["Total Quantity: ",Be.reduce((ir,nr)=>ir+nr.quantity,0)]}),jsxRuntimeExports.jsxs("p",{children:["Total Before Discount: ",Be.reduce((ir,nr)=>ir+nr.price*nr.quantity,0).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:["Total Discount: ",Be.reduce((ir,nr)=>ir+nr.price*nr.discount*nr.quantity/100,0).toFixed(2)]}),Fe&&ke>0&&jsxRuntimeExports.jsxs("p",{children:["GST (",ke,"%): ",(tr*ke/100).toFixed(2)]}),$e&&We>0&&jsxRuntimeExports.jsxs("p",{children:["CGST (",We,"%): ",(tr*We/100).toFixed(2)]}),He&&qe>0&&jsxRuntimeExports.jsxs("p",{children:["SGST (",qe,"%): ",(tr*qe/100).toFixed(2)]}),Qe&&Ke>0&&jsxRuntimeExports.jsxs("p",{children:["IGST (",Ke,"%): ",(tr*Ke/100).toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["Final Total: ",ar.toFixed(2)]})]})]})},InvoiceSettings=({settings:Re,onChange:Ce})=>{const je=Be=>{const{name:De,type:Fe,checked:ke,value:Oe}=Be.target;let Me=Oe;Fe==="number"&&(Me=parseFloat(Oe||0)),Ce({...Re,[De]:Fe==="checkbox"?ke:Me})};return jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-6 rounded-xl space-y-6 mb-6 bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-white",children:"Invoice Settings"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeGST",checked:Re.includeGST,onChange:je,className:"accent-emerald-400"}),"Include GST",Re.includeGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"gstRate",value:Re.gstRate||"",onChange:je,className:"px-2 py-1 rounded w-20 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"% GST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeCGST",checked:Re.includeCGST,onChange:je,className:"accent-emerald-400"}),"Include CGST",Re.includeCGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"cgstRate",value:Re.cgstRate||"",onChange:je,className:"px-2 py-1 rounded w-20 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"% CGST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeSGST",checked:Re.includeSGST,onChange:je,className:"accent-emerald-400"}),"Include SGST",Re.includeSGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"sgstRate",value:Re.sgstRate||"",onChange:je,className:"px-2 py-1 rounded w-20 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"% SGST"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"includeIGST",checked:Re.includeIGST,onChange:je,className:"accent-emerald-400"}),"Include IGST",Re.includeIGST&&jsxRuntimeExports.jsx("input",{type:"number",name:"igstRate",value:Re.igstRate||"",onChange:je,className:"px-2 py-1 rounded w-20 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"% IGST"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Invoice Type"}),jsxRuntimeExports.jsxs("select",{name:"invoiceType",value:Re.invoiceType,onChange:je,className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Invoice Type"}),jsxRuntimeExports.jsx("option",{value:"retail",children:"Retail"}),jsxRuntimeExports.jsx("option",{value:"tax",children:"Tax"}),jsxRuntimeExports.jsx("option",{value:"quote",children:"Quote"}),jsxRuntimeExports.jsx("option",{value:"estimation",children:"Estimation"})]})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Payment Mode"}),jsxRuntimeExports.jsxs("select",{name:"paymentMode",value:Re.paymentMode,onChange:je,className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Payment Mode"}),jsxRuntimeExports.jsx("option",{value:"cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"upi",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"card",children:"Card"}),jsxRuntimeExports.jsx("option",{value:"split",children:"Split"}),jsxRuntimeExports.jsx("option",{value:"credit",children:"Credit"}),jsxRuntimeExports.jsx("option",{value:"advance",children:"Advance"})]})]}),Re.paymentMode==="split"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Cash Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitCash",value:Re.splitPayment?.cash||"",onChange:Be=>Ce({...Re,splitPayment:{...Re.splitPayment,cash:parseFloat(Be.target.value||0)}}),className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:""})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"UPI Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitUPI",value:Re.splitPayment?.upi||"",onChange:Be=>Ce({...Re,splitPayment:{...Re.splitPayment,upi:parseFloat(Be.target.value||0)}}),className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:""})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Card Amount"}),jsxRuntimeExports.jsx("input",{type:"number",name:"splitCard",value:Re.splitPayment?.card||"",onChange:Be=>Ce({...Re,splitPayment:{...Re.splitPayment,card:parseFloat(Be.target.value||0)}}),className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:""})]})]}),Re.paymentMode==="credit"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Credit Due Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"creditDueDate",value:Re.creditDueDate||"",onChange:je,className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Credit Note"}),jsxRuntimeExports.jsx("input",{type:"text",name:"creditNote",value:Re.creditNote||"",onChange:je,className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"Optional note or reference"})]})]}),Re.paymentMode==="advance"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Advance Paid"}),jsxRuntimeExports.jsx("input",{type:"number",name:"advancePaid",value:Re.advancePaid||"",onChange:je,className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("label",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("span",{className:"mb-1 font-medium text-white/80",children:"Expected Payment Completion Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"advanceDueDate",value:Re.advanceDueDate||"",onChange:je,className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]})]})]})},ProductSearch=({onSelect:Re})=>{const[Ce,je]=reactExports.useState(""),[Be,De]=reactExports.useState([]),[Fe,ke]=reactExports.useState([]),Oe=reactExports.useRef(null),[Me,Ue]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{try{const He=auth$2.currentUser?.uid;if(!He)return;const We=(await getDocs(collection(db$2,"businesses",He,"products"))).docs.map(qe=>({id:qe.id,...qe.data()}));ke(We)}catch(He){console.error("Failed to load inventory:",He)}})()},[]),reactExports.useEffect(()=>{const $e=Ce.toLowerCase(),He=Fe.filter(Qe=>Qe.productName?.toLowerCase().includes($e)||Qe.sku?.toLowerCase().includes($e)||Qe.brand?.toLowerCase().includes($e)||Qe.category?.toLowerCase().includes($e));De($e?He:[])},[Ce,Fe]),reactExports.useEffect(()=>{const $e=()=>{if(!Oe.current)return;const He=Oe.current.getBoundingClientRect();Ue({left:He.left,top:He.bottom+8,width:He.width})};return Be.length>0&&($e(),window.addEventListener("scroll",$e,!0),window.addEventListener("resize",$e)),()=>{window.removeEventListener("scroll",$e,!0),window.removeEventListener("resize",$e)}},[Be.length,Ce]),jsxRuntimeExports.jsxs("div",{className:"relative z-[999] mb-6 px-4 md:px-0 text-white",children:[jsxRuntimeExports.jsx("input",{ref:Oe,type:"text",value:Ce,onChange:$e=>je($e.target.value),placeholder:"Search product by name, SKU, brand, category...",className:"w-full px-4 py-2 rounded-xl text-sm md:text-base bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 shadow-[0_6px_20px_rgba(0,0,0,0.25)]"}),Be.length>0&&Me&&reactDomExports.createPortal(jsxRuntimeExports.jsx("ul",{style:{position:"fixed",left:Me.left,top:Me.top,width:Me.width,maxHeight:"16rem"},className:"mt-2 overflow-y-auto z-[2000] rounded-xl border border-white/10 bg-[#0B0F14]/70 backdrop-blur-xl shadow-[0_12px_40px_rgba(0,0,0,0.45)]",children:Be.map($e=>jsxRuntimeExports.jsxs("li",{onClick:()=>{Re($e),je(""),De([])},className:"p-3 hover:bg-white/10 cursor-pointer flex items-center gap-4 border-b border-white/10",children:[$e.imageUrl&&jsxRuntimeExports.jsx("img",{src:$e.imageUrl,alt:$e.productName,className:"w-10 h-10 object-cover rounded ring-1 ring-white/20"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:$e.productName}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-white/60",children:["SKU: ",$e.sku||"N/A"," | Brand: ",$e.brand||"N/A"," | Category: ",$e.category||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"text-sm text-white/70",children:["Selling Price: ",$e.sellingPrice||"0.00"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-white/60",children:["Unit: ",$e.unit||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-emerald-300",children:["In Stock: ",$e.quantity]})]})]},$e.id))}),document.body)]})};var html2pdf$1={exports:{}};function _typeof(Re){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ce){return typeof Ce}:function(Ce){return Ce&&typeof Symbol=="function"&&Ce.constructor===Symbol&&Ce!==Symbol.prototype?"symbol":typeof Ce},_typeof(Re)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Re,Ce){for(var je=new u16(31),Be=0;Be<31;++Be)je[Be]=Ce+=1<<Re[Be-1];for(var De=new i32(je[30]),Be=1;Be<30;++Be)for(var Fe=je[Be];Fe<je[Be+1];++Fe)De[Fe]=Fe-je[Be]<<5|Be;return{b:je,r:De}},_a$1=freb(fleb,2),fl=_a$1.b,revfl=_a$1.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),fd=_b.b,revfd=_b.r,rev=new u16(32768);for(var i$3=0;i$3<32768;++i$3){var x$3=(i$3&43690)>>1|(i$3&21845)<<1;x$3=(x$3&52428)>>2|(x$3&13107)<<2,x$3=(x$3&61680)>>4|(x$3&3855)<<4,rev[i$3]=((x$3&65280)>>8|(x$3&255)<<8)>>1}var hMap=(function(Re,Ce,je){for(var Be=Re.length,De=0,Fe=new u16(Ce);De<Be;++De)Re[De]&&++Fe[Re[De]-1];var ke=new u16(Ce);for(De=1;De<Ce;++De)ke[De]=ke[De-1]+Fe[De-1]<<1;var Oe;if(je){Oe=new u16(1<<Ce);var Me=15-Ce;for(De=0;De<Be;++De)if(Re[De])for(var Ue=De<<4|Re[De],$e=Ce-Re[De],He=ke[Re[De]-1]++<<$e,Qe=He|(1<<$e)-1;He<=Qe;++He)Oe[rev[He]>>Me]=Ue}else for(Oe=new u16(Be),De=0;De<Be;++De)Re[De]&&(Oe[De]=rev[ke[Re[De]-1]++]>>15-Re[De]);return Oe}),flt=new u8(288);for(var i$3=0;i$3<144;++i$3)flt[i$3]=8;for(var i$3=144;i$3<256;++i$3)flt[i$3]=9;for(var i$3=256;i$3<280;++i$3)flt[i$3]=7;for(var i$3=280;i$3<288;++i$3)flt[i$3]=8;var fdt=new u8(32);for(var i$3=0;i$3<32;++i$3)fdt[i$3]=5;var flm=hMap(flt,9,0),flrm=hMap(flt,9,1),fdm=hMap(fdt,5,0),fdrm=hMap(fdt,5,1),max$2=function(Re){for(var Ce=Re[0],je=1;je<Re.length;++je)Re[je]>Ce&&(Ce=Re[je]);return Ce},bits=function(Re,Ce,je){var Be=Ce/8|0;return(Re[Be]|Re[Be+1]<<8)>>(Ce&7)&je},bits16=function(Re,Ce){var je=Ce/8|0;return(Re[je]|Re[je+1]<<8|Re[je+2]<<16)>>(Ce&7)},shft=function(Re){return(Re+7)/8|0},slc=function(Re,Ce,je){return(je==null||je>Re.length)&&(je=Re.length),new u8(Re.subarray(Ce,je))},ec=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],err=function(Re,Ce,je){var Be=new Error(Ce||ec[Re]);if(Be.code=Re,Error.captureStackTrace&&Error.captureStackTrace(Be,err),!je)throw Be;return Be},inflt=function(Re,Ce,je,Be){var De=Re.length,Fe=0;if(!De||Ce.f&&!Ce.l)return je||new u8(0);var ke=!je,Oe=ke||Ce.i!=2,Me=Ce.i;ke&&(je=new u8(De*3));var Ue=function(fn){var nn=je.length;if(fn>nn){var bn=new u8(Math.max(nn*2,fn));bn.set(je),je=bn}},$e=Ce.f||0,He=Ce.p||0,Qe=Ce.b||0,We=Ce.l,qe=Ce.d,Ke=Ce.m,Xe=Ce.n,Ye=De*8;do{if(!We){$e=bits(Re,He,1);var Ze=bits(Re,He+1,3);if(He+=3,Ze)if(Ze==1)We=flrm,qe=fdrm,Ke=9,Xe=5;else if(Ze==2){var ar=bits(Re,He,31)+257,ir=bits(Re,He+10,15)+4,nr=ar+bits(Re,He+5,31)+1;He+=14;for(var cr=new u8(nr),mr=new u8(19),fr=0;fr<ir;++fr)mr[clim[fr]]=bits(Re,He+fr*3,7);He+=ir*3;for(var or=max$2(mr),yr=(1<<or)-1,Cr=hMap(mr,or,1),fr=0;fr<nr;){var jr=Cr[bits(Re,He,yr)];He+=jr&15;var Je=jr>>4;if(Je<16)cr[fr++]=Je;else{var vr=0,Tr=0;for(Je==16?(Tr=3+bits(Re,He,3),He+=2,vr=cr[fr-1]):Je==17?(Tr=3+bits(Re,He,7),He+=3):Je==18&&(Tr=11+bits(Re,He,127),He+=7);Tr--;)cr[fr++]=vr}}var wr=cr.subarray(0,ar),Er=cr.subarray(ar);Ke=max$2(wr),Xe=max$2(Er),We=hMap(wr,Ke,1),qe=hMap(Er,Xe,1)}else err(1);else{var Je=shft(He)+4,tr=Re[Je-4]|Re[Je-3]<<8,rr=Je+tr;if(rr>De){Me&&err(0);break}Oe&&Ue(Qe+tr),je.set(Re.subarray(Je,rr),Qe),Ce.b=Qe+=tr,Ce.p=He=rr*8,Ce.f=$e;continue}if(He>Ye){Me&&err(0);break}}Oe&&Ue(Qe+131072);for(var Pr=(1<<Ke)-1,Mr=(1<<Xe)-1,_r=He;;_r=He){var vr=We[bits16(Re,He)&Pr],Ir=vr>>4;if(He+=vr&15,He>Ye){Me&&err(0);break}if(vr||err(2),Ir<256)je[Qe++]=Ir;else if(Ir==256){_r=He,We=null;break}else{var Dr=Ir-254;if(Ir>264){var fr=Ir-257,Or=fleb[fr];Dr=bits(Re,He,(1<<Or)-1)+fl[fr],He+=Or}var br=qe[bits16(Re,He)&Mr],Ur=br>>4;br||err(3),He+=br&15;var Er=fd[Ur];if(Ur>3){var Or=fdeb[Ur];Er+=bits16(Re,He)&(1<<Or)-1,He+=Or}if(He>Ye){Me&&err(0);break}Oe&&Ue(Qe+131072);var Qr=Qe+Dr;if(Qe<Er){var zr=Fe-Er,Gr=Math.min(Er,Qr);for(zr+Qe<0&&err(3);Qe<Gr;++Qe)je[Qe]=Be[zr+Qe]}for(;Qe<Qr;++Qe)je[Qe]=je[Qe-Er]}}Ce.l=We,Ce.p=_r,Ce.b=Qe,Ce.f=$e,We&&($e=1,Ce.m=Ke,Ce.d=qe,Ce.n=Xe)}while(!$e);return Qe!=je.length&&ke?slc(je,0,Qe):je.subarray(0,Qe)},wbits=function(Re,Ce,je){je<<=Ce&7;var Be=Ce/8|0;Re[Be]|=je,Re[Be+1]|=je>>8},wbits16=function(Re,Ce,je){je<<=Ce&7;var Be=Ce/8|0;Re[Be]|=je,Re[Be+1]|=je>>8,Re[Be+2]|=je>>16},hTree=function(Re,Ce){for(var je=[],Be=0;Be<Re.length;++Be)Re[Be]&&je.push({s:Be,f:Re[Be]});var De=je.length,Fe=je.slice();if(!De)return{t:et$1,l:0};if(De==1){var ke=new u8(je[0].s+1);return ke[je[0].s]=1,{t:ke,l:1}}je.sort(function(rr,ar){return rr.f-ar.f}),je.push({s:-1,f:25001});var Oe=je[0],Me=je[1],Ue=0,$e=1,He=2;for(je[0]={s:-1,f:Oe.f+Me.f,l:Oe,r:Me};$e!=De-1;)Oe=je[je[Ue].f<je[He].f?Ue++:He++],Me=je[Ue!=$e&&je[Ue].f<je[He].f?Ue++:He++],je[$e++]={s:-1,f:Oe.f+Me.f,l:Oe,r:Me};for(var Qe=Fe[0].s,Be=1;Be<De;++Be)Fe[Be].s>Qe&&(Qe=Fe[Be].s);var We=new u16(Qe+1),qe=ln$1(je[$e-1],We,0);if(qe>Ce){var Be=0,Ke=0,Xe=qe-Ce,Ye=1<<Xe;for(Fe.sort(function(ar,ir){return We[ir.s]-We[ar.s]||ar.f-ir.f});Be<De;++Be){var Ze=Fe[Be].s;if(We[Ze]>Ce)Ke+=Ye-(1<<qe-We[Ze]),We[Ze]=Ce;else break}for(Ke>>=Xe;Ke>0;){var Je=Fe[Be].s;We[Je]<Ce?Ke-=1<<Ce-We[Je]++-1:++Be}for(;Be>=0&&Ke;--Be){var tr=Fe[Be].s;We[tr]==Ce&&(--We[tr],++Ke)}qe=Ce}return{t:new u8(We),l:qe}},ln$1=function(Re,Ce,je){return Re.s==-1?Math.max(ln$1(Re.l,Ce,je+1),ln$1(Re.r,Ce,je+1)):Ce[Re.s]=je},lc=function(Re){for(var Ce=Re.length;Ce&&!Re[--Ce];);for(var je=new u16(++Ce),Be=0,De=Re[0],Fe=1,ke=function(Me){je[Be++]=Me},Oe=1;Oe<=Ce;++Oe)if(Re[Oe]==De&&Oe!=Ce)++Fe;else{if(!De&&Fe>2){for(;Fe>138;Fe-=138)ke(32754);Fe>2&&(ke(Fe>10?Fe-11<<5|28690:Fe-3<<5|12305),Fe=0)}else if(Fe>3){for(ke(De),--Fe;Fe>6;Fe-=6)ke(8304);Fe>2&&(ke(Fe-3<<5|8208),Fe=0)}for(;Fe--;)ke(De);Fe=1,De=Re[Oe]}return{c:je.subarray(0,Be),n:Ce}},clen=function(Re,Ce){for(var je=0,Be=0;Be<Ce.length;++Be)je+=Re[Be]*Ce[Be];return je},wfblk=function(Re,Ce,je){var Be=je.length,De=shft(Ce+2);Re[De]=Be&255,Re[De+1]=Be>>8,Re[De+2]=Re[De]^255,Re[De+3]=Re[De+1]^255;for(var Fe=0;Fe<Be;++Fe)Re[De+Fe+4]=je[Fe];return(De+4+Be)*8},wblk=function(Re,Ce,je,Be,De,Fe,ke,Oe,Me,Ue,$e){wbits(Ce,$e++,je),++De[256];for(var He=hTree(De,15),Qe=He.t,We=He.l,qe=hTree(Fe,15),Ke=qe.t,Xe=qe.l,Ye=lc(Qe),Ze=Ye.c,Je=Ye.n,tr=lc(Ke),rr=tr.c,ar=tr.n,ir=new u16(19),nr=0;nr<Ze.length;++nr)++ir[Ze[nr]&31];for(var nr=0;nr<rr.length;++nr)++ir[rr[nr]&31];for(var cr=hTree(ir,7),mr=cr.t,fr=cr.l,or=19;or>4&&!mr[clim[or-1]];--or);var yr=Ue+5<<3,Cr=clen(De,flt)+clen(Fe,fdt)+ke,jr=clen(De,Qe)+clen(Fe,Ke)+ke+14+3*or+clen(ir,mr)+2*ir[16]+3*ir[17]+7*ir[18];if(Me>=0&&yr<=Cr&&yr<=jr)return wfblk(Ce,$e,Re.subarray(Me,Me+Ue));var vr,Tr,wr,Er;if(wbits(Ce,$e,1+(jr<Cr)),$e+=2,jr<Cr){vr=hMap(Qe,We,0),Tr=Qe,wr=hMap(Ke,Xe,0),Er=Ke;var Pr=hMap(mr,fr,0);wbits(Ce,$e,Je-257),wbits(Ce,$e+5,ar-1),wbits(Ce,$e+10,or-4),$e+=14;for(var nr=0;nr<or;++nr)wbits(Ce,$e+3*nr,mr[clim[nr]]);$e+=3*or;for(var Mr=[Ze,rr],_r=0;_r<2;++_r)for(var Ir=Mr[_r],nr=0;nr<Ir.length;++nr){var Dr=Ir[nr]&31;wbits(Ce,$e,Pr[Dr]),$e+=mr[Dr],Dr>15&&(wbits(Ce,$e,Ir[nr]>>5&127),$e+=Ir[nr]>>12)}}else vr=flm,Tr=flt,wr=fdm,Er=fdt;for(var nr=0;nr<Oe;++nr){var Or=Be[nr];if(Or>255){var Dr=Or>>18&31;wbits16(Ce,$e,vr[Dr+257]),$e+=Tr[Dr+257],Dr>7&&(wbits(Ce,$e,Or>>23&31),$e+=fleb[Dr]);var br=Or&31;wbits16(Ce,$e,wr[br]),$e+=Er[br],br>3&&(wbits16(Ce,$e,Or>>5&8191),$e+=fdeb[br])}else wbits16(Ce,$e,vr[Or]),$e+=Tr[Or]}return wbits16(Ce,$e,vr[256]),$e+Tr[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Re,Ce,je,Be,De,Fe){var ke=Fe.z||Re.length,Oe=new u8(Be+ke+5*(1+Math.ceil(ke/7e3))+De),Me=Oe.subarray(Be,Oe.length-De),Ue=Fe.l,$e=(Fe.r||0)&7;if(Ce){$e&&(Me[0]=Fe.r>>3);for(var He=deo[Ce-1],Qe=He>>13,We=He&8191,qe=(1<<je)-1,Ke=Fe.p||new u16(32768),Xe=Fe.h||new u16(qe+1),Ye=Math.ceil(je/3),Ze=2*Ye,Je=function(hn){return(Re[hn]^Re[hn+1]<<Ye^Re[hn+2]<<Ze)&qe},tr=new i32(25e3),rr=new u16(288),ar=new u16(32),ir=0,nr=0,cr=Fe.i||0,mr=0,fr=Fe.w||0,or=0;cr+2<ke;++cr){var yr=Je(cr),Cr=cr&32767,jr=Xe[yr];if(Ke[Cr]=jr,Xe[yr]=Cr,fr<=cr){var vr=ke-cr;if((ir>7e3||mr>24576)&&(vr>423||!Ue)){$e=wblk(Re,Me,0,tr,rr,ar,nr,mr,or,cr-or,$e),mr=ir=nr=0,or=cr;for(var Tr=0;Tr<286;++Tr)rr[Tr]=0;for(var Tr=0;Tr<30;++Tr)ar[Tr]=0}var wr=2,Er=0,Pr=We,Mr=Cr-jr&32767;if(vr>2&&yr==Je(cr-Mr))for(var _r=Math.min(Qe,vr)-1,Ir=Math.min(32767,cr),Dr=Math.min(258,vr);Mr<=Ir&&--Pr&&Cr!=jr;){if(Re[cr+wr]==Re[cr+wr-Mr]){for(var Or=0;Or<Dr&&Re[cr+Or]==Re[cr+Or-Mr];++Or);if(Or>wr){if(wr=Or,Er=Mr,Or>_r)break;for(var br=Math.min(Mr,Or-2),Ur=0,Tr=0;Tr<br;++Tr){var Qr=cr-Mr+Tr&32767,zr=Ke[Qr],Gr=Qr-zr&32767;Gr>Ur&&(Ur=Gr,jr=Qr)}}}Cr=jr,jr=Ke[Cr],Mr+=Cr-jr&32767}if(Er){tr[mr++]=268435456|revfl[wr]<<18|revfd[Er];var fn=revfl[wr]&31,nn=revfd[Er]&31;nr+=fleb[fn]+fdeb[nn],++rr[257+fn],++ar[nn],fr=cr+wr,++ir}else tr[mr++]=Re[cr],++rr[Re[cr]]}}for(cr=Math.max(cr,fr);cr<ke;++cr)tr[mr++]=Re[cr],++rr[Re[cr]];$e=wblk(Re,Me,Ue,tr,rr,ar,nr,mr,or,cr-or,$e),Ue||(Fe.r=$e&7|Me[$e/8|0]<<3,$e-=7,Fe.h=Xe,Fe.p=Ke,Fe.i=cr,Fe.w=fr)}else{for(var cr=Fe.w||0;cr<ke+Ue;cr+=65535){var bn=cr+65535;bn>=ke&&(Me[$e/8|0]=Ue,bn=ke),$e=wfblk(Me,$e+1,Re.subarray(cr,bn))}Fe.i=ke}return slc(Oe,0,Be+shft($e)+De)},adler=function(){var Re=1,Ce=0;return{p:function(je){for(var Be=Re,De=Ce,Fe=je.length|0,ke=0;ke!=Fe;){for(var Oe=Math.min(ke+2655,Fe);ke<Oe;++ke)De+=Be+=je[ke];Be=(Be&65535)+15*(Be>>16),De=(De&65535)+15*(De>>16)}Re=Be,Ce=De},d:function(){return Re%=65521,Ce%=65521,(Re&255)<<24|(Re&65280)<<8|(Ce&255)<<8|Ce>>8}}},dopt=function(Re,Ce,je,Be,De){if(!De&&(De={l:1},Ce.dictionary)){var Fe=Ce.dictionary.subarray(-32768),ke=new u8(Fe.length+Re.length);ke.set(Fe),ke.set(Re,Fe.length),Re=ke,De.w=Fe.length}return dflt(Re,Ce.level==null?6:Ce.level,Ce.mem==null?De.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Re.length)))*1.5):20:12+Ce.mem,je,Be,De)},wbytes=function(Re,Ce,je){for(;je;++Ce)Re[Ce]=je,je>>>=8},zlh=function(Re,Ce){var je=Ce.level,Be=je==0?0:je<6?1:je==9?3:2;if(Re[0]=120,Re[1]=Be<<6|(Ce.dictionary&&32),Re[1]|=31-(Re[0]<<8|Re[1])%31,Ce.dictionary){var De=adler();De.p(Ce.dictionary),wbytes(Re,2,De.d())}},zls=function(Re,Ce){return((Re[0]&15)!=8||Re[0]>>4>7||(Re[0]<<8|Re[1])%31)&&err(6,"invalid zlib data"),(Re[1]>>5&1)==1&&err(6,"invalid zlib data: "+(Re[1]&32?"need":"unexpected")+" dictionary"),(Re[1]>>3&4)+2};function zlibSync(Re,Ce){Ce||(Ce={});var je=adler();je.p(Re);var Be=dopt(Re,Ce,Ce.dictionary?6:2,4);return zlh(Be,Ce),wbytes(Be,Be.length-4,je.d()),Be}function unzlibSync(Re,Ce){return inflt(Re.subarray(zls(Re),-4),{i:2},Ce,Ce)}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch(Re){}var n$1=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function i$2(){n$1.console&&typeof n$1.console.log=="function"&&n$1.console.log.apply(n$1.console,arguments)}var a$2={log:i$2,warn:function(Re){n$1.console&&(typeof n$1.console.warn=="function"?n$1.console.warn.apply(n$1.console,arguments):i$2.call(null,arguments))},error:function(Re){n$1.console&&(typeof n$1.console.error=="function"?n$1.console.error.apply(n$1.console,arguments):i$2(Re))}};function o$1(Re,Ce,je){var Be=new XMLHttpRequest;Be.open("GET",Re),Be.responseType="blob",Be.onload=function(){l$1(Be.response,Ce,je)},Be.onerror=function(){a$2.error("could not download file")},Be.send()}function s$2(Re){var Ce=new XMLHttpRequest;Ce.open("HEAD",Re,!1);try{Ce.send()}catch{}return Ce.status>=200&&Ce.status<=299}function c$3(Re){try{Re.dispatchEvent(new MouseEvent("click"))}catch{var Ce=document.createEvent("MouseEvents");Ce.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Re.dispatchEvent(Ce)}}var u$2,h$1,l$1=n$1.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==n$1?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Re,Ce,je){var Be=n$1.URL||n$1.webkitURL,De=document.createElement("a");Ce=Ce||Re.name||"download",De.download=Ce,De.rel="noopener",typeof Re=="string"?(De.href=Re,De.origin!==location.origin?s$2(De.href)?o$1(Re,Ce,je):c$3(De,De.target="_blank"):c$3(De)):(De.href=Be.createObjectURL(Re),setTimeout((function(){Be.revokeObjectURL(De.href)}),4e4),setTimeout((function(){c$3(De)}),0))}:"msSaveOrOpenBlob"in navigator?function(Re,Ce,je){if(Ce=Ce||Re.name||"download",typeof Re=="string")if(s$2(Re))o$1(Re,Ce,je);else{var Be=document.createElement("a");Be.href=Re,Be.target="_blank",setTimeout((function(){c$3(Be)}))}else navigator.msSaveOrOpenBlob((function(De,Fe){return Fe===void 0?Fe={autoBom:!1}:_typeof(Fe)!=="object"&&(a$2.warn("Deprecated: Expected third argument to be a object"),Fe={autoBom:!Fe}),Fe.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(De.type)?new Blob(["\uFEFF",De],{type:De.type}):De})(Re,je),Ce)}:function(Re,Ce,je,Be){if((Be=Be||open("","_blank"))&&(Be.document.title=Be.document.body.innerText="downloading..."),typeof Re=="string")return o$1(Re,Ce,je);var De=Re.type==="application/octet-stream",Fe=/constructor/i.test(n$1.HTMLElement)||n$1.safari,ke=/CriOS\/[\d]+/.test(navigator.userAgent);if((ke||De&&Fe)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Oe=new FileReader;Oe.onloadend=function(){var $e=Oe.result;$e=ke?$e:$e.replace(/^data:[^;]*;/,"data:attachment/file;"),Be?Be.location.href=$e:location=$e,Be=null},Oe.readAsDataURL(Re)}else{var Me=n$1.URL||n$1.webkitURL,Ue=Me.createObjectURL(Re);Be?Be.location=Ue:location.href=Ue,Be=null,setTimeout((function(){Me.revokeObjectURL(Ue)}),4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function f$2(Re){var Ce;Re=Re||"",this.ok=!1,Re.charAt(0)=="#"&&(Re=Re.substr(1,6)),Re={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Re=(Re=Re.replace(/ /g,"")).toLowerCase()]||Re;for(var je=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Oe){return[parseInt(Oe[1]),parseInt(Oe[2]),parseInt(Oe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Oe){return[parseInt(Oe[1],16),parseInt(Oe[2],16),parseInt(Oe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Oe){return[parseInt(Oe[1]+Oe[1],16),parseInt(Oe[2]+Oe[2],16),parseInt(Oe[3]+Oe[3],16)]}}],Be=0;Be<je.length;Be++){var De=je[Be].re,Fe=je[Be].process,ke=De.exec(Re);ke&&(Ce=Fe(ke),this.r=Ce[0],this.g=Ce[1],this.b=Ce[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Oe=this.r.toString(16),Me=this.g.toString(16),Ue=this.b.toString(16);return Oe.length==1&&(Oe="0"+Oe),Me.length==1&&(Me="0"+Me),Ue.length==1&&(Ue="0"+Ue),"#"+Oe+Me+Ue}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function d$1(Re,Ce){var je=Re[0],Be=Re[1],De=Re[2],Fe=Re[3];je=g$1(je,Be,De,Fe,Ce[0],7,-680876936),Fe=g$1(Fe,je,Be,De,Ce[1],12,-389564586),De=g$1(De,Fe,je,Be,Ce[2],17,606105819),Be=g$1(Be,De,Fe,je,Ce[3],22,-1044525330),je=g$1(je,Be,De,Fe,Ce[4],7,-176418897),Fe=g$1(Fe,je,Be,De,Ce[5],12,1200080426),De=g$1(De,Fe,je,Be,Ce[6],17,-1473231341),Be=g$1(Be,De,Fe,je,Ce[7],22,-45705983),je=g$1(je,Be,De,Fe,Ce[8],7,1770035416),Fe=g$1(Fe,je,Be,De,Ce[9],12,-1958414417),De=g$1(De,Fe,je,Be,Ce[10],17,-42063),Be=g$1(Be,De,Fe,je,Ce[11],22,-1990404162),je=g$1(je,Be,De,Fe,Ce[12],7,1804603682),Fe=g$1(Fe,je,Be,De,Ce[13],12,-40341101),De=g$1(De,Fe,je,Be,Ce[14],17,-1502002290),je=m$1(je,Be=g$1(Be,De,Fe,je,Ce[15],22,1236535329),De,Fe,Ce[1],5,-165796510),Fe=m$1(Fe,je,Be,De,Ce[6],9,-1069501632),De=m$1(De,Fe,je,Be,Ce[11],14,643717713),Be=m$1(Be,De,Fe,je,Ce[0],20,-373897302),je=m$1(je,Be,De,Fe,Ce[5],5,-701558691),Fe=m$1(Fe,je,Be,De,Ce[10],9,38016083),De=m$1(De,Fe,je,Be,Ce[15],14,-660478335),Be=m$1(Be,De,Fe,je,Ce[4],20,-405537848),je=m$1(je,Be,De,Fe,Ce[9],5,568446438),Fe=m$1(Fe,je,Be,De,Ce[14],9,-1019803690),De=m$1(De,Fe,je,Be,Ce[3],14,-187363961),Be=m$1(Be,De,Fe,je,Ce[8],20,1163531501),je=m$1(je,Be,De,Fe,Ce[13],5,-1444681467),Fe=m$1(Fe,je,Be,De,Ce[2],9,-51403784),De=m$1(De,Fe,je,Be,Ce[7],14,1735328473),je=v(je,Be=m$1(Be,De,Fe,je,Ce[12],20,-1926607734),De,Fe,Ce[5],4,-378558),Fe=v(Fe,je,Be,De,Ce[8],11,-2022574463),De=v(De,Fe,je,Be,Ce[11],16,1839030562),Be=v(Be,De,Fe,je,Ce[14],23,-35309556),je=v(je,Be,De,Fe,Ce[1],4,-1530992060),Fe=v(Fe,je,Be,De,Ce[4],11,1272893353),De=v(De,Fe,je,Be,Ce[7],16,-155497632),Be=v(Be,De,Fe,je,Ce[10],23,-1094730640),je=v(je,Be,De,Fe,Ce[13],4,681279174),Fe=v(Fe,je,Be,De,Ce[0],11,-358537222),De=v(De,Fe,je,Be,Ce[3],16,-722521979),Be=v(Be,De,Fe,je,Ce[6],23,76029189),je=v(je,Be,De,Fe,Ce[9],4,-640364487),Fe=v(Fe,je,Be,De,Ce[12],11,-421815835),De=v(De,Fe,je,Be,Ce[15],16,530742520),je=b(je,Be=v(Be,De,Fe,je,Ce[2],23,-995338651),De,Fe,Ce[0],6,-198630844),Fe=b(Fe,je,Be,De,Ce[7],10,1126891415),De=b(De,Fe,je,Be,Ce[14],15,-1416354905),Be=b(Be,De,Fe,je,Ce[5],21,-57434055),je=b(je,Be,De,Fe,Ce[12],6,1700485571),Fe=b(Fe,je,Be,De,Ce[3],10,-1894986606),De=b(De,Fe,je,Be,Ce[10],15,-1051523),Be=b(Be,De,Fe,je,Ce[1],21,-2054922799),je=b(je,Be,De,Fe,Ce[8],6,1873313359),Fe=b(Fe,je,Be,De,Ce[15],10,-30611744),De=b(De,Fe,je,Be,Ce[6],15,-1560198380),Be=b(Be,De,Fe,je,Ce[13],21,1309151649),je=b(je,Be,De,Fe,Ce[4],6,-145523070),Fe=b(Fe,je,Be,De,Ce[11],10,-1120210379),De=b(De,Fe,je,Be,Ce[2],15,718787259),Be=b(Be,De,Fe,je,Ce[9],21,-343485551),Re[0]=_$1(je,Re[0]),Re[1]=_$1(Be,Re[1]),Re[2]=_$1(De,Re[2]),Re[3]=_$1(Fe,Re[3])}function p$1(Re,Ce,je,Be,De,Fe){return Ce=_$1(_$1(Ce,Re),_$1(Be,Fe)),_$1(Ce<<De|Ce>>>32-De,je)}function g$1(Re,Ce,je,Be,De,Fe,ke){return p$1(Ce&je|~Ce&Be,Re,Ce,De,Fe,ke)}function m$1(Re,Ce,je,Be,De,Fe,ke){return p$1(Ce&Be|je&~Be,Re,Ce,De,Fe,ke)}function v(Re,Ce,je,Be,De,Fe,ke){return p$1(Ce^je^Be,Re,Ce,De,Fe,ke)}function b(Re,Ce,je,Be,De,Fe,ke){return p$1(je^(Ce|~Be),Re,Ce,De,Fe,ke)}function y$3(Re){var Ce,je=Re.length,Be=[1732584193,-271733879,-1732584194,271733878];for(Ce=64;Ce<=Re.length;Ce+=64)d$1(Be,w$1(Re.substring(Ce-64,Ce)));Re=Re.substring(Ce-64);var De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(Ce=0;Ce<Re.length;Ce++)De[Ce>>2]|=Re.charCodeAt(Ce)<<(Ce%4<<3);if(De[Ce>>2]|=128<<(Ce%4<<3),Ce>55)for(d$1(Be,De),Ce=0;Ce<16;Ce++)De[Ce]=0;return De[14]=8*je,d$1(Be,De),Be}function w$1(Re){var Ce,je=[];for(Ce=0;Ce<64;Ce+=4)je[Ce>>2]=Re.charCodeAt(Ce)+(Re.charCodeAt(Ce+1)<<8)+(Re.charCodeAt(Ce+2)<<16)+(Re.charCodeAt(Ce+3)<<24);return je}u$2=n$1.atob.bind(n$1),h$1=n$1.btoa.bind(n$1);var N$1="0123456789abcdef".split("");function L$1(Re){for(var Ce="",je=0;je<4;je++)Ce+=N$1[Re>>8*je+4&15]+N$1[Re>>8*je&15];return Ce}function A$1(Re){return String.fromCharCode((255&Re)>>0,(65280&Re)>>8,(16711680&Re)>>16,(4278190080&Re)>>24)}function x$2(Re){return y$3(Re).map(A$1).join("")}var S=(function(Re){for(var Ce=0;Ce<Re.length;Ce++)Re[Ce]=L$1(Re[Ce]);return Re.join("")})(y$3("hello"))!="5d41402abc4b2a76b9719d911017c592";function _$1(Re,Ce){if(S){var je=(65535&Re)+(65535&Ce);return(Re>>16)+(Ce>>16)+(je>>16)<<16|65535&je}return Re+Ce&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function P$3(Re,Ce){var je,Be,De,Fe;if(Re!==je){for(var ke=(De=Re,Fe=1+(256/Re.length>>0),new Array(Fe+1).join(De)),Oe=[],Me=0;Me<256;Me++)Oe[Me]=Me;var Ue=0;for(Me=0;Me<256;Me++){var $e=Oe[Me];Ue=(Ue+$e+ke.charCodeAt(Me))%256,Oe[Me]=Oe[Ue],Oe[Ue]=$e}je=Re,Be=Oe}else Oe=Be;var He=Ce.length,Qe=0,We=0,qe="";for(Me=0;Me<He;Me++)We=(We+($e=Oe[Qe=(Qe+1)%256]))%256,Oe[Qe]=Oe[We],Oe[We]=$e,ke=Oe[(Oe[Qe]+Oe[We])%256],qe+=String.fromCharCode(Ce.charCodeAt(Me)^ke);return qe}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k$2={print:4,modify:8,copy:16,"annot-forms":32};function I$1(Re,Ce,je,Be){this.v=1,this.r=2;var De=192;Re.forEach((function(Oe){if(k$2.perm!==void 0)throw new Error("Invalid permission: "+Oe);De+=k$2[Oe]})),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var Fe=(Ce+this.padding).substr(0,32),ke=(je+this.padding).substr(0,32);this.O=this.processOwnerPassword(Fe,ke),this.P=-(1+(255^De)),this.encryptionKey=x$2(Fe+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Be)).substr(0,5),this.U=P$3(this.encryptionKey,this.padding)}function F$2(Re){if(/[^\u0000-\u00ff]/.test(Re))throw new Error("Invalid PDF Name Object: "+Re+", Only accept ASCII characters.");for(var Ce="",je=Re.length,Be=0;Be<je;Be++){var De=Re.charCodeAt(Be);De<33||De===35||De===37||De===40||De===41||De===47||De===60||De===62||De===91||De===93||De===123||De===125||De>126?Ce+="#"+("0"+De.toString(16)).slice(-2):Ce+=Re[Be]}return Ce}function C(Re){if(_typeof(Re)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var Ce={};this.subscribe=function(je,Be,De){if(De=De||!1,typeof je!="string"||typeof Be!="function"||typeof De!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");Ce.hasOwnProperty(je)||(Ce[je]={});var Fe=Math.random().toString(35);return Ce[je][Fe]=[Be,!!De],Fe},this.unsubscribe=function(je){for(var Be in Ce)if(Ce[Be][je])return delete Ce[Be][je],Object.keys(Ce[Be]).length===0&&delete Ce[Be],!0;return!1},this.publish=function(je){if(Ce.hasOwnProperty(je)){var Be=Array.prototype.slice.call(arguments,1),De=[];for(var Fe in Ce[je]){var ke=Ce[je][Fe];try{ke[0].apply(Re,Be)}catch(Oe){n$1.console&&a$2.error("jsPDF PubSub Error",Oe.message,Oe)}ke[1]&&De.push(Fe)}De.length&&De.forEach(this.unsubscribe)}},this.getTopics=function(){return Ce}}function j$2(Re){if(!(this instanceof j$2))return new j$2(Re);var Ce="opacity,stroke-opacity".split(",");for(var je in Re)Re.hasOwnProperty(je)&&Ce.indexOf(je)>=0&&(this[je]=Re[je]);this.id="",this.objectNumber=-1}function O(Re,Ce){this.gState=Re,this.matrix=Ce,this.id="",this.objectNumber=-1}function B$1(Re,Ce,je,Be,De){if(!(this instanceof B$1))return new B$1(Re,Ce,je,Be,De);this.type=Re==="axial"?2:3,this.coords=Ce,this.colors=je,O.call(this,Be,De)}function M$1(Re,Ce,je,Be,De){if(!(this instanceof M$1))return new M$1(Re,Ce,je,Be,De);this.boundingBox=Re,this.xStep=Ce,this.yStep=je,this.stream="",this.cloneIndex=0,O.call(this,Be,De)}function E(Re){var Ce,je=typeof arguments[0]=="string"?arguments[0]:"p",Be=arguments[1],De=arguments[2],Fe=arguments[3],ke=[],Oe=1,Me=16,Ue="S",$e=null;_typeof(Re=Re||{})==="object"&&(je=Re.orientation,Be=Re.unit||Be,De=Re.format||De,Fe=Re.compress||Re.compressPdf||Fe,($e=Re.encryption||null)!==null&&($e.userPassword=$e.userPassword||"",$e.ownerPassword=$e.ownerPassword||"",$e.userPermissions=$e.userPermissions||[]),Oe=typeof Re.userUnit=="number"?Math.abs(Re.userUnit):1,Re.precision!==void 0&&(Ce=Re.precision),Re.floatPrecision!==void 0&&(Me=Re.floatPrecision),Ue=Re.defaultPathOperation||"S"),ke=Re.filters||(Fe===!0?["FlateEncode"]:ke),Be=Be||"mm",je=(""+(je||"P")).toLowerCase();var He=Re.putOnlyUsedFonts||!1,Qe={},We={internal:{},__private__:{}};We.__private__.PubSub=C;var qe="1.3",Ke=We.__private__.getPdfVersion=function(){return qe};We.__private__.setPdfVersion=function(Rr){qe=Rr};var Xe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};We.__private__.getPageFormats=function(){return Xe};var Ye=We.__private__.getPageFormat=function(Rr){return Xe[Rr]};De=De||"a4";var Ze={COMPAT:"compat",ADVANCED:"advanced"},Je=Ze.COMPAT;function tr(){this.saveGraphicsState(),Zr(new Li(an,0,0,-an,0,jo()*an).toString()+" cm"),this.setFontSize(this.getFontSize()/an),Ue="n",Je=Ze.ADVANCED}function rr(){this.restoreGraphicsState(),Ue="S",Je=Ze.COMPAT}var ar=We.__private__.combineFontStyleAndFontWeight=function(Rr,Kr){if(Rr=="bold"&&Kr=="normal"||Rr=="bold"&&Kr==400||Rr=="normal"&&Kr=="italic"||Rr=="bold"&&Kr=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return Kr&&(Rr=Kr==400||Kr==="normal"?Rr==="italic"?"italic":"normal":Kr!=700&&Kr!=="bold"||Rr!=="normal"?(Kr==700?"bold":Kr)+""+Rr:"bold"),Rr};We.advancedAPI=function(Rr){var Kr=Je===Ze.COMPAT;return Kr&&tr.call(this),typeof Rr!="function"||(Rr(this),Kr&&rr.call(this)),this},We.compatAPI=function(Rr){var Kr=Je===Ze.ADVANCED;return Kr&&rr.call(this),typeof Rr!="function"||(Rr(this),Kr&&tr.call(this)),this},We.isAdvancedAPI=function(){return Je===Ze.ADVANCED};var ir,nr=function(Rr){if(Je!==Ze.ADVANCED)throw new Error(Rr+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},cr=We.roundToPrecision=We.__private__.roundToPrecision=function(Rr,Kr){var xn=Ce||Kr;if(isNaN(Rr)||isNaN(xn))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Rr.toFixed(xn).replace(/0+$/,"")};ir=We.hpf=We.__private__.hpf=typeof Me=="number"?function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.hpf");return cr(Rr,Me)}:Me==="smart"?function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.hpf");return cr(Rr,Rr>-1&&Rr<1?16:5)}:function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.hpf");return cr(Rr,16)};var mr=We.f2=We.__private__.f2=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.f2");return cr(Rr,2)},fr=We.__private__.f3=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.f3");return cr(Rr,3)},or=We.scale=We.__private__.scale=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.scale");return Je===Ze.COMPAT?Rr*an:Je===Ze.ADVANCED?Rr:void 0},yr=function(Rr){return Je===Ze.COMPAT?jo()-Rr:Je===Ze.ADVANCED?Rr:void 0},Cr=function(Rr){return or(yr(Rr))};We.__private__.setPrecision=We.setPrecision=function(Rr){typeof parseInt(Rr,10)=="number"&&(Ce=parseInt(Rr,10))};var jr,vr="00000000000000000000000000000000",Tr=We.__private__.getFileId=function(){return vr},wr=We.__private__.setFileId=function(Rr){return vr=Rr!==void 0&&/^[a-fA-F0-9]{32}$/.test(Rr)?Rr.toUpperCase():vr.split("").map((function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))})).join(""),$e!==null&&(na=new I$1($e.userPermissions,$e.userPassword,$e.ownerPassword,vr)),vr};We.setFileId=function(Rr){return wr(Rr),this},We.getFileId=function(){return Tr()};var Er=We.__private__.convertDateToPDFDate=function(Rr){var Kr=Rr.getTimezoneOffset(),xn=Kr<0?"+":"-",_n=Math.floor(Math.abs(Kr/60)),Fn=Math.abs(Kr%60),si=[xn,Dr(_n),"'",Dr(Fn),"'"].join("");return["D:",Rr.getFullYear(),Dr(Rr.getMonth()+1),Dr(Rr.getDate()),Dr(Rr.getHours()),Dr(Rr.getMinutes()),Dr(Rr.getSeconds()),si].join("")},Pr=We.__private__.convertPDFDateToDate=function(Rr){var Kr=parseInt(Rr.substr(2,4),10),xn=parseInt(Rr.substr(6,2),10)-1,_n=parseInt(Rr.substr(8,2),10),Fn=parseInt(Rr.substr(10,2),10),si=parseInt(Rr.substr(12,2),10),Ri=parseInt(Rr.substr(14,2),10);return new Date(Kr,xn,_n,Fn,si,Ri,0)},Mr=We.__private__.setCreationDate=function(Rr){var Kr;if(Rr===void 0&&(Rr=new Date),Rr instanceof Date)Kr=Er(Rr);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Rr))throw new Error("Invalid argument passed to jsPDF.setCreationDate");Kr=Rr}return jr=Kr},_r=We.__private__.getCreationDate=function(Rr){var Kr=jr;return Rr==="jsDate"&&(Kr=Pr(jr)),Kr};We.setCreationDate=function(Rr){return Mr(Rr),this},We.getCreationDate=function(Rr){return _r(Rr)};var Ir,Dr=We.__private__.padd2=function(Rr){return("0"+parseInt(Rr)).slice(-2)},Or=We.__private__.padd2Hex=function(Rr){return("00"+(Rr=Rr.toString())).substr(Rr.length)},br=0,Ur=[],Qr=[],zr=0,Gr=[],fn=[],nn=!1,bn=Qr,hn=function(){br=0,zr=0,Qr=[],Ur=[],Gr=[],on=ra(),cn=ra()};We.__private__.setCustomOutputDestination=function(Rr){nn=!0,bn=Rr};var yn=function(Rr){nn||(bn=Rr)};We.__private__.resetCustomOutputDestination=function(){nn=!1,bn=Qr};var Zr=We.__private__.out=function(Rr){return Rr=Rr.toString(),zr+=Rr.length+1,bn.push(Rr),bn},Rn=We.__private__.write=function(Rr){return Zr(arguments.length===1?Rr.toString():Array.prototype.join.call(arguments," "))},ri=We.__private__.getArrayBuffer=function(Rr){for(var Kr=Rr.length,xn=new ArrayBuffer(Kr),_n=new Uint8Array(xn);Kr--;)_n[Kr]=Rr.charCodeAt(Kr);return xn},Yn=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];We.__private__.getStandardFonts=function(){return Yn};var ti=Re.fontSize||16;We.__private__.setFontSize=We.setFontSize=function(Rr){return ti=Je===Ze.ADVANCED?Rr/an:Rr,this};var ei,Gn=We.__private__.getFontSize=We.getFontSize=function(){return Je===Ze.COMPAT?ti:ti*an},Ei=Re.R2L||!1;We.__private__.setR2L=We.setR2L=function(Rr){return Ei=Rr,this},We.__private__.getR2L=We.getR2L=function(){return Ei};var Ci,Fi=We.__private__.setZoomMode=function(Rr){var Kr=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Rr))ei=Rr;else if(isNaN(Rr)){if(Kr.indexOf(Rr)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Rr+'" is not recognized.');ei=Rr}else ei=parseInt(Rr,10)};We.__private__.getZoomMode=function(){return ei};var Si,Ti=We.__private__.setPageMode=function(Rr){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Rr)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Rr+'" is not recognized.');Ci=Rr};We.__private__.getPageMode=function(){return Ci};var ji=We.__private__.setLayoutMode=function(Rr){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Rr)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Rr+'" is not recognized.');Si=Rr};We.__private__.getLayoutMode=function(){return Si},We.__private__.setDisplayMode=We.setDisplayMode=function(Rr,Kr,xn){return Fi(Rr),ji(Kr),Ti(xn),this};var wi={title:"",subject:"",author:"",keywords:"",creator:""};We.__private__.getDocumentProperty=function(Rr){if(Object.keys(wi).indexOf(Rr)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return wi[Rr]},We.__private__.getDocumentProperties=function(){return wi},We.__private__.setDocumentProperties=We.setProperties=We.setDocumentProperties=function(Rr){for(var Kr in wi)wi.hasOwnProperty(Kr)&&Rr[Kr]&&(wi[Kr]=Rr[Kr]);return this},We.__private__.setDocumentProperty=function(Rr,Kr){if(Object.keys(wi).indexOf(Rr)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return wi[Rr]=Kr};var En,an,On,Mn,ui,Vn={},yi={},jn=[],vn={},Ni={},xi={},Gi={},ki=null,Ai=0,hi=[],Bi=new C(We),Zi=Re.hotfixes||[],ds={},oa={},Wa=[],Li=function Rr(Kr,xn,_n,Fn,si,Ri){if(!(this instanceof Rr))return new Rr(Kr,xn,_n,Fn,si,Ri);isNaN(Kr)&&(Kr=1),isNaN(xn)&&(xn=0),isNaN(_n)&&(_n=0),isNaN(Fn)&&(Fn=1),isNaN(si)&&(si=0),isNaN(Ri)&&(Ri=0),this._matrix=[Kr,xn,_n,Fn,si,Ri]};Object.defineProperty(Li.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Rr){this._matrix[0]=Rr}}),Object.defineProperty(Li.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Rr){this._matrix[1]=Rr}}),Object.defineProperty(Li.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Rr){this._matrix[2]=Rr}}),Object.defineProperty(Li.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Rr){this._matrix[3]=Rr}}),Object.defineProperty(Li.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Rr){this._matrix[4]=Rr}}),Object.defineProperty(Li.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Rr){this._matrix[5]=Rr}}),Object.defineProperty(Li.prototype,"a",{get:function(){return this._matrix[0]},set:function(Rr){this._matrix[0]=Rr}}),Object.defineProperty(Li.prototype,"b",{get:function(){return this._matrix[1]},set:function(Rr){this._matrix[1]=Rr}}),Object.defineProperty(Li.prototype,"c",{get:function(){return this._matrix[2]},set:function(Rr){this._matrix[2]=Rr}}),Object.defineProperty(Li.prototype,"d",{get:function(){return this._matrix[3]},set:function(Rr){this._matrix[3]=Rr}}),Object.defineProperty(Li.prototype,"e",{get:function(){return this._matrix[4]},set:function(Rr){this._matrix[4]=Rr}}),Object.defineProperty(Li.prototype,"f",{get:function(){return this._matrix[5]},set:function(Rr){this._matrix[5]=Rr}}),Object.defineProperty(Li.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Li.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Li.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Li.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Li.prototype.join=function(Rr){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(ir).join(Rr)},Li.prototype.multiply=function(Rr){var Kr=Rr.sx*this.sx+Rr.shy*this.shx,xn=Rr.sx*this.shy+Rr.shy*this.sy,_n=Rr.shx*this.sx+Rr.sy*this.shx,Fn=Rr.shx*this.shy+Rr.sy*this.sy,si=Rr.tx*this.sx+Rr.ty*this.shx+this.tx,Ri=Rr.tx*this.shy+Rr.ty*this.sy+this.ty;return new Li(Kr,xn,_n,Fn,si,Ri)},Li.prototype.decompose=function(){var Rr=this.sx,Kr=this.shy,xn=this.shx,_n=this.sy,Fn=this.tx,si=this.ty,Ri=Math.sqrt(Rr*Rr+Kr*Kr),Vi=(Rr/=Ri)*xn+(Kr/=Ri)*_n;xn-=Rr*Vi,_n-=Kr*Vi;var dr=Math.sqrt(xn*xn+_n*_n);return Vi/=dr,Rr*(_n/=dr)<Kr*(xn/=dr)&&(Rr=-Rr,Kr=-Kr,Vi=-Vi,Ri=-Ri),{scale:new Li(Ri,0,0,dr,0,0),translate:new Li(1,0,0,1,Fn,si),rotate:new Li(Rr,Kr,-Kr,Rr,0,0),skew:new Li(1,0,Vi,1,0,0)}},Li.prototype.toString=function(Rr){return this.join(" ")},Li.prototype.inversed=function(){var Rr=this.sx,Kr=this.shy,xn=this.shx,_n=this.sy,Fn=this.tx,si=this.ty,Ri=1/(Rr*_n-Kr*xn),Vi=_n*Ri,dr=-Kr*Ri,Fr=-xn*Ri,$r=Rr*Ri;return new Li(Vi,dr,Fr,$r,-Vi*Fn-Fr*si,-dr*Fn-$r*si)},Li.prototype.applyToPoint=function(Rr){var Kr=Rr.x*this.sx+Rr.y*this.shx+this.tx,xn=Rr.x*this.shy+Rr.y*this.sy+this.ty;return new bc(Kr,xn)},Li.prototype.applyToRectangle=function(Rr){var Kr=this.applyToPoint(Rr),xn=this.applyToPoint(new bc(Rr.x+Rr.w,Rr.y+Rr.h));return new zc(Kr.x,Kr.y,xn.x-Kr.x,xn.y-Kr.y)},Li.prototype.clone=function(){var Rr=this.sx,Kr=this.shy,xn=this.shx,_n=this.sy,Fn=this.tx,si=this.ty;return new Li(Rr,Kr,xn,_n,Fn,si)},We.Matrix=Li;var Qs=We.matrixMult=function(Rr,Kr){return Kr.multiply(Rr)},Fs=new Li(1,0,0,1,0,0);We.unitMatrix=We.identityMatrix=Fs;var Xs=function(Rr,Kr){if(!Ni[Rr]){var xn=(Kr instanceof B$1?"Sh":"P")+(Object.keys(vn).length+1).toString(10);Kr.id=xn,Ni[Rr]=xn,vn[xn]=Kr,Bi.publish("addPattern",Kr)}};We.ShadingPattern=B$1,We.TilingPattern=M$1,We.addShadingPattern=function(Rr,Kr){return nr("addShadingPattern()"),Xs(Rr,Kr),this},We.beginTilingPattern=function(Rr){nr("beginTilingPattern()"),nc(Rr.boundingBox[0],Rr.boundingBox[1],Rr.boundingBox[2]-Rr.boundingBox[0],Rr.boundingBox[3]-Rr.boundingBox[1],Rr.matrix)},We.endTilingPattern=function(Rr,Kr){nr("endTilingPattern()"),Kr.stream=fn[Ir].join(`
`),Xs(Rr,Kr),Bi.publish("endTilingPattern",Kr),Wa.pop().restore()};var Yi=We.__private__.newObject=function(){var Rr=ra();return qr(Rr,!0),Rr},ra=We.__private__.newObjectDeferred=function(){return br++,Ur[br]=function(){return zr},br},qr=function(Rr,Kr){return Kr=typeof Kr=="boolean"&&Kr,Ur[Rr]=zr,Kr&&Zr(Rr+" 0 obj"),Rr},pn=We.__private__.newAdditionalObject=function(){var Rr={objId:ra(),content:""};return Gr.push(Rr),Rr},on=ra(),cn=ra(),mn=We.__private__.decodeColorString=function(Rr){var Kr=Rr.split(" ");if(Kr.length!==2||Kr[1]!=="g"&&Kr[1]!=="G")Kr.length===5&&(Kr[4]==="k"||Kr[4]==="K")&&(Kr=[(1-Kr[0])*(1-Kr[3]),(1-Kr[1])*(1-Kr[3]),(1-Kr[2])*(1-Kr[3]),"r"]);else{var xn=parseFloat(Kr[0]);Kr=[xn,xn,xn,"r"]}for(var _n="#",Fn=0;Fn<3;Fn++)_n+=("0"+Math.floor(255*parseFloat(Kr[Fn])).toString(16)).slice(-2);return _n},gn=We.__private__.encodeColorString=function(Rr){var Kr;typeof Rr=="string"&&(Rr={ch1:Rr});var xn=Rr.ch1,_n=Rr.ch2,Fn=Rr.ch3,si=Rr.ch4,Ri=Rr.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xn=="string"&&xn.charAt(0)!=="#"){var Vi=new f$2(xn);if(Vi.ok)xn=Vi.toHex();else if(!/^\d*\.?\d*$/.test(xn))throw new Error('Invalid color "'+xn+'" passed to jsPDF.encodeColorString.')}if(typeof xn=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xn)&&(xn="#"+xn[1]+xn[1]+xn[2]+xn[2]+xn[3]+xn[3]),typeof xn=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xn)){var dr=parseInt(xn.substr(1),16);xn=dr>>16&255,_n=dr>>8&255,Fn=255&dr}if(_n===void 0||si===void 0&&xn===_n&&_n===Fn)if(typeof xn=="string")Kr=xn+" "+Ri[0];else switch(Rr.precision){case 2:Kr=mr(xn/255)+" "+Ri[0];break;case 3:default:Kr=fr(xn/255)+" "+Ri[0]}else if(si===void 0||_typeof(si)==="object"){if(si&&!isNaN(si.a)&&si.a===0)return Kr=["1.","1.","1.",Ri[1]].join(" ");if(typeof xn=="string")Kr=[xn,_n,Fn,Ri[1]].join(" ");else switch(Rr.precision){case 2:Kr=[mr(xn/255),mr(_n/255),mr(Fn/255),Ri[1]].join(" ");break;default:case 3:Kr=[fr(xn/255),fr(_n/255),fr(Fn/255),Ri[1]].join(" ")}}else if(typeof xn=="string")Kr=[xn,_n,Fn,si,Ri[2]].join(" ");else switch(Rr.precision){case 2:Kr=[mr(xn),mr(_n),mr(Fn),mr(si),Ri[2]].join(" ");break;case 3:default:Kr=[fr(xn),fr(_n),fr(Fn),fr(si),Ri[2]].join(" ")}return Kr},Un=We.__private__.getFilters=function(){return ke},Jn=We.__private__.putStream=function(Rr){var Kr=(Rr=Rr||{}).data||"",xn=Rr.filters||Un(),_n=Rr.alreadyAppliedFilters||[],Fn=Rr.addLength1||!1,si=Kr.length,Ri=Rr.objectId,Vi=function(os){return os};if($e!==null&&Ri===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");$e!==null&&(Vi=na.encryptor(Ri,0));var dr={};xn===!0&&(xn=["FlateEncode"]);var Fr=Rr.additionalKeyValues||[],$r=(dr=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(Kr,xn):{data:Kr,reverseChain:[]}).reverseChain+(Array.isArray(_n)?_n.join(" "):_n.toString());if(dr.data.length!==0&&(Fr.push({key:"Length",value:dr.data.length}),Fn===!0&&Fr.push({key:"Length1",value:si})),$r.length!=0)if($r.split("/").length-1==1)Fr.push({key:"Filter",value:$r});else{Fr.push({key:"Filter",value:"["+$r+"]"});for(var en=0;en<Fr.length;en+=1)if(Fr[en].key==="DecodeParms"){for(var In=[],Hn=0;Hn<dr.reverseChain.split("/").length-1;Hn+=1)In.push("null");In.push(Fr[en].value),Fr[en].value="["+In.join(" ")+"]"}}Zr("<<");for(var oi=0;oi<Fr.length;oi++)Zr("/"+Fr[oi].key+" "+Fr[oi].value);Zr(">>"),dr.data.length!==0&&(Zr("stream"),Zr(Vi(dr.data)),Zr("endstream"))},Dn=We.__private__.putPage=function(Rr){var Kr=Rr.number,xn=Rr.data,_n=Rr.objId,Fn=Rr.contentsObjId;qr(_n,!0),Zr("<</Type /Page"),Zr("/Parent "+Rr.rootDictionaryObjId+" 0 R"),Zr("/Resources "+Rr.resourceDictionaryObjId+" 0 R"),Zr("/MediaBox ["+parseFloat(ir(Rr.mediaBox.bottomLeftX))+" "+parseFloat(ir(Rr.mediaBox.bottomLeftY))+" "+ir(Rr.mediaBox.topRightX)+" "+ir(Rr.mediaBox.topRightY)+"]"),Rr.cropBox!==null&&Zr("/CropBox ["+ir(Rr.cropBox.bottomLeftX)+" "+ir(Rr.cropBox.bottomLeftY)+" "+ir(Rr.cropBox.topRightX)+" "+ir(Rr.cropBox.topRightY)+"]"),Rr.bleedBox!==null&&Zr("/BleedBox ["+ir(Rr.bleedBox.bottomLeftX)+" "+ir(Rr.bleedBox.bottomLeftY)+" "+ir(Rr.bleedBox.topRightX)+" "+ir(Rr.bleedBox.topRightY)+"]"),Rr.trimBox!==null&&Zr("/TrimBox ["+ir(Rr.trimBox.bottomLeftX)+" "+ir(Rr.trimBox.bottomLeftY)+" "+ir(Rr.trimBox.topRightX)+" "+ir(Rr.trimBox.topRightY)+"]"),Rr.artBox!==null&&Zr("/ArtBox ["+ir(Rr.artBox.bottomLeftX)+" "+ir(Rr.artBox.bottomLeftY)+" "+ir(Rr.artBox.topRightX)+" "+ir(Rr.artBox.topRightY)+"]"),typeof Rr.userUnit=="number"&&Rr.userUnit!==1&&Zr("/UserUnit "+Rr.userUnit),Bi.publish("putPage",{objId:_n,pageContext:hi[Kr],pageNumber:Kr,page:xn}),Zr("/Contents "+Fn+" 0 R"),Zr(">>"),Zr("endobj");var si=xn.join(`
`);return Je===Ze.ADVANCED&&(si+=`
Q`),qr(Fn,!0),Jn({data:si,filters:Un(),objectId:Fn}),Zr("endobj"),_n},zn=We.__private__.putPages=function(){var Rr,Kr,xn=[];for(Rr=1;Rr<=Ai;Rr++)hi[Rr].objId=ra(),hi[Rr].contentsObjId=ra();for(Rr=1;Rr<=Ai;Rr++)xn.push(Dn({number:Rr,data:fn[Rr],objId:hi[Rr].objId,contentsObjId:hi[Rr].contentsObjId,mediaBox:hi[Rr].mediaBox,cropBox:hi[Rr].cropBox,bleedBox:hi[Rr].bleedBox,trimBox:hi[Rr].trimBox,artBox:hi[Rr].artBox,userUnit:hi[Rr].userUnit,rootDictionaryObjId:on,resourceDictionaryObjId:cn}));qr(on,!0),Zr("<</Type /Pages");var _n="/Kids [";for(Kr=0;Kr<Ai;Kr++)_n+=xn[Kr]+" 0 R ";Zr(_n+"]"),Zr("/Count "+Ai),Zr(">>"),Zr("endobj"),Bi.publish("postPutPages")},qn=function(Rr){Bi.publish("putFont",{font:Rr,out:Zr,newObject:Yi,putStream:Jn}),Rr.isAlreadyPutted!==!0&&(Rr.objectNumber=Yi(),Zr("<<"),Zr("/Type /Font"),Zr("/BaseFont /"+F$2(Rr.postScriptName)),Zr("/Subtype /Type1"),typeof Rr.encoding=="string"&&Zr("/Encoding /"+Rr.encoding),Zr("/FirstChar 32"),Zr("/LastChar 255"),Zr(">>"),Zr("endobj"))},vi=function(){for(var Rr in Vn)Vn.hasOwnProperty(Rr)&&(He===!1||He===!0&&Qe.hasOwnProperty(Rr))&&qn(Vn[Rr])},Ii=function(Rr){Rr.objectNumber=Yi();var Kr=[];Kr.push({key:"Type",value:"/XObject"}),Kr.push({key:"Subtype",value:"/Form"}),Kr.push({key:"BBox",value:"["+[ir(Rr.x),ir(Rr.y),ir(Rr.x+Rr.width),ir(Rr.y+Rr.height)].join(" ")+"]"}),Kr.push({key:"Matrix",value:"["+Rr.matrix.toString()+"]"});var xn=Rr.pages[1].join(`
`);Jn({data:xn,additionalKeyValues:Kr,objectId:Rr.objectNumber}),Zr("endobj")},zi=function(){for(var Rr in ds)ds.hasOwnProperty(Rr)&&Ii(ds[Rr])},Pi=function(Rr,Kr){var xn,_n=[],Fn=1/(Kr-1);for(xn=0;xn<1;xn+=Fn)_n.push(xn);if(_n.push(1),Rr[0].offset!=0){var si={offset:0,color:Rr[0].color};Rr.unshift(si)}if(Rr[Rr.length-1].offset!=1){var Ri={offset:1,color:Rr[Rr.length-1].color};Rr.push(Ri)}for(var Vi="",dr=0,Fr=0;Fr<_n.length;Fr++){for(xn=_n[Fr];xn>Rr[dr+1].offset;)dr++;var $r=Rr[dr].offset,en=(xn-$r)/(Rr[dr+1].offset-$r),In=Rr[dr].color,Hn=Rr[dr+1].color;Vi+=Or(Math.round((1-en)*In[0]+en*Hn[0]).toString(16))+Or(Math.round((1-en)*In[1]+en*Hn[1]).toString(16))+Or(Math.round((1-en)*In[2]+en*Hn[2]).toString(16))}return Vi.trim()},Ui=function(Rr,Kr){Kr||(Kr=21);var xn=Yi(),_n=Pi(Rr.colors,Kr),Fn=[];Fn.push({key:"FunctionType",value:"0"}),Fn.push({key:"Domain",value:"[0.0 1.0]"}),Fn.push({key:"Size",value:"["+Kr+"]"}),Fn.push({key:"BitsPerSample",value:"8"}),Fn.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fn.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Jn({data:_n,additionalKeyValues:Fn,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:xn}),Zr("endobj"),Rr.objectNumber=Yi(),Zr("<< /ShadingType "+Rr.type),Zr("/ColorSpace /DeviceRGB");var si="/Coords ["+ir(parseFloat(Rr.coords[0]))+" "+ir(parseFloat(Rr.coords[1]))+" ";Rr.type===2?si+=ir(parseFloat(Rr.coords[2]))+" "+ir(parseFloat(Rr.coords[3])):si+=ir(parseFloat(Rr.coords[2]))+" "+ir(parseFloat(Rr.coords[3]))+" "+ir(parseFloat(Rr.coords[4]))+" "+ir(parseFloat(Rr.coords[5])),Zr(si+="]"),Rr.matrix&&Zr("/Matrix ["+Rr.matrix.toString()+"]"),Zr("/Function "+xn+" 0 R"),Zr("/Extend [true true]"),Zr(">>"),Zr("endobj")},ss=function(Rr,Kr){var xn=ra(),_n=Yi();Kr.push({resourcesOid:xn,objectOid:_n}),Rr.objectNumber=_n;var Fn=[];Fn.push({key:"Type",value:"/Pattern"}),Fn.push({key:"PatternType",value:"1"}),Fn.push({key:"PaintType",value:"1"}),Fn.push({key:"TilingType",value:"1"}),Fn.push({key:"BBox",value:"["+Rr.boundingBox.map(ir).join(" ")+"]"}),Fn.push({key:"XStep",value:ir(Rr.xStep)}),Fn.push({key:"YStep",value:ir(Rr.yStep)}),Fn.push({key:"Resources",value:xn+" 0 R"}),Rr.matrix&&Fn.push({key:"Matrix",value:"["+Rr.matrix.toString()+"]"}),Jn({data:Rr.stream,additionalKeyValues:Fn,objectId:Rr.objectNumber}),Zr("endobj")},gs=function(Rr){var Kr;for(Kr in vn)vn.hasOwnProperty(Kr)&&(vn[Kr]instanceof B$1?Ui(vn[Kr]):vn[Kr]instanceof M$1&&ss(vn[Kr],Rr))},ws=function(Rr){for(var Kr in Rr.objectNumber=Yi(),Zr("<<"),Rr)switch(Kr){case"opacity":Zr("/ca "+mr(Rr[Kr]));break;case"stroke-opacity":Zr("/CA "+mr(Rr[Kr]))}Zr(">>"),Zr("endobj")},ys=function(){var Rr;for(Rr in xi)xi.hasOwnProperty(Rr)&&ws(xi[Rr])},eo=function(){for(var Rr in Zr("/XObject <<"),ds)ds.hasOwnProperty(Rr)&&ds[Rr].objectNumber>=0&&Zr("/"+Rr+" "+ds[Rr].objectNumber+" 0 R");Bi.publish("putXobjectDict"),Zr(">>")},wo=function(){na.oid=Yi(),Zr("<<"),Zr("/Filter /Standard"),Zr("/V "+na.v),Zr("/R "+na.r),Zr("/U <"+na.toHexString(na.U)+">"),Zr("/O <"+na.toHexString(na.O)+">"),Zr("/P "+na.P),Zr(">>"),Zr("endobj")},oo=function(){for(var Rr in Zr("/Font <<"),Vn)Vn.hasOwnProperty(Rr)&&(He===!1||He===!0&&Qe.hasOwnProperty(Rr))&&Zr("/"+Rr+" "+Vn[Rr].objectNumber+" 0 R");Zr(">>")},Eo=function(){if(Object.keys(vn).length>0){for(var Rr in Zr("/Shading <<"),vn)vn.hasOwnProperty(Rr)&&vn[Rr]instanceof B$1&&vn[Rr].objectNumber>=0&&Zr("/"+Rr+" "+vn[Rr].objectNumber+" 0 R");Bi.publish("putShadingPatternDict"),Zr(">>")}},co=function(Rr){if(Object.keys(vn).length>0){for(var Kr in Zr("/Pattern <<"),vn)vn.hasOwnProperty(Kr)&&vn[Kr]instanceof We.TilingPattern&&vn[Kr].objectNumber>=0&&vn[Kr].objectNumber<Rr&&Zr("/"+Kr+" "+vn[Kr].objectNumber+" 0 R");Bi.publish("putTilingPatternDict"),Zr(">>")}},Na=function(){if(Object.keys(xi).length>0){var Rr;for(Rr in Zr("/ExtGState <<"),xi)xi.hasOwnProperty(Rr)&&xi[Rr].objectNumber>=0&&Zr("/"+Rr+" "+xi[Rr].objectNumber+" 0 R");Bi.publish("putGStateDict"),Zr(">>")}},la=function(Rr){qr(Rr.resourcesOid,!0),Zr("<<"),Zr("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),oo(),Eo(),co(Rr.objectOid),Na(),eo(),Zr(">>"),Zr("endobj")},uo=function(){var Rr=[];vi(),ys(),zi(),gs(Rr),Bi.publish("putResources"),Rr.forEach(la),la({resourcesOid:cn,objectOid:Number.MAX_SAFE_INTEGER}),Bi.publish("postPutResources")},$c=function(){Bi.publish("putAdditionalObjects");for(var Rr=0;Rr<Gr.length;Rr++){var Kr=Gr[Rr];qr(Kr.objId,!0),Zr(Kr.content),Zr("endobj")}Bi.publish("postPutAdditionalObjects")},mc=function(Rr){yi[Rr.fontName]=yi[Rr.fontName]||{},yi[Rr.fontName][Rr.fontStyle]=Rr.id},sl=function(Rr,Kr,xn,_n,Fn){var si={id:"F"+(Object.keys(Vn).length+1).toString(10),postScriptName:Rr,fontName:Kr,fontStyle:xn,encoding:_n,isStandardFont:Fn||!1,metadata:{}};return Bi.publish("addFont",{font:si,instance:this}),Vn[si.id]=si,mc(si),si.id},Bl=function(Rr){for(var Kr=0,xn=Yn.length;Kr<xn;Kr++){var _n=sl.call(this,Rr[Kr][0],Rr[Kr][1],Rr[Kr][2],Yn[Kr][3],!0);He===!1&&(Qe[_n]=!0);var Fn=Rr[Kr][0].split("-");mc({id:_n,fontName:Fn[0],fontStyle:Fn[1]||""})}Bi.publish("addFonts",{fonts:Vn,dictionary:yi})},xo=function(Rr){return Rr.foo=function(){try{return Rr.apply(this,arguments)}catch(_n){var Kr=_n.stack||"";~Kr.indexOf(" at ")&&(Kr=Kr.split(" at ")[1]);var xn="Error in function "+Kr.split(`
`)[0].split("<")[0]+": "+_n.message;if(!n$1.console)throw new Error(xn);n$1.console.error(xn,_n),n$1.alert&&alert(xn)}},Rr.foo.bar=Rr,Rr.foo},Da=function(Rr,Kr){var xn,_n,Fn,si,Ri,Vi,dr,Fr,$r;if(Fn=(Kr=Kr||{}).sourceEncoding||"Unicode",Ri=Kr.outputEncoding,(Kr.autoencode||Ri)&&Vn[En].metadata&&Vn[En].metadata[Fn]&&Vn[En].metadata[Fn].encoding&&(si=Vn[En].metadata[Fn].encoding,!Ri&&Vn[En].encoding&&(Ri=Vn[En].encoding),!Ri&&si.codePages&&(Ri=si.codePages[0]),typeof Ri=="string"&&(Ri=si[Ri]),Ri)){for(dr=!1,Vi=[],xn=0,_n=Rr.length;xn<_n;xn++)(Fr=Ri[Rr.charCodeAt(xn)])?Vi.push(String.fromCharCode(Fr)):Vi.push(Rr[xn]),Vi[xn].charCodeAt(0)>>8&&(dr=!0);Rr=Vi.join("")}for(xn=Rr.length;dr===void 0&&xn!==0;)Rr.charCodeAt(xn-1)>>8&&(dr=!0),xn--;if(!dr)return Rr;for(Vi=Kr.noBOM?[]:[254,255],xn=0,_n=Rr.length;xn<_n;xn++){if(($r=(Fr=Rr.charCodeAt(xn))>>8)>>8)throw new Error("Character at position "+xn+" of string '"+Rr+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vi.push($r),Vi.push(Fr-($r<<8))}return String.fromCharCode.apply(void 0,Vi)},ks=We.__private__.pdfEscape=We.pdfEscape=function(Rr,Kr){return Da(Rr,Kr).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vo=We.__private__.beginPage=function(Rr){fn[++Ai]=[],hi[Ai]={objId:0,contentsObjId:0,userUnit:Number(Oe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Rr[0]),topRightY:Number(Rr[1])}},hl(Ai),yn(fn[Ir])},Xl=function(Rr,Kr){var xn,_n,Fn;switch(je=Kr||je,typeof Rr=="string"&&(xn=Ye(Rr.toLowerCase()),Array.isArray(xn)&&(_n=xn[0],Fn=xn[1])),Array.isArray(Rr)&&(_n=Rr[0]*an,Fn=Rr[1]*an),isNaN(_n)&&(_n=De[0],Fn=De[1]),(_n>14400||Fn>14400)&&(a$2.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),_n=Math.min(14400,_n),Fn=Math.min(14400,Fn)),De=[_n,Fn],je.substr(0,1)){case"l":Fn>_n&&(De=[Fn,_n]);break;case"p":_n>Fn&&(De=[Fn,_n])}vo(De),fu(Fl),Zr(Va),vc!==0&&Zr(vc+" J"),yc!==0&&Zr(yc+" j"),Bi.publish("addPage",{pageNumber:Ai})},Jl=function(Rr){Rr>0&&Rr<=Ai&&(fn.splice(Rr,1),hi.splice(Rr,1),Ai--,Ir>Ai&&(Ir=Ai),this.setPage(Ir))},hl=function(Rr){Rr>0&&Rr<=Ai&&(Ir=Rr)},Ws=We.__private__.getNumberOfPages=We.getNumberOfPages=function(){return fn.length-1},Zl=function(Rr,Kr,xn){var _n,Fn=void 0;return xn=xn||{},Rr=Rr!==void 0?Rr:Vn[En].fontName,Kr=Kr!==void 0?Kr:Vn[En].fontStyle,_n=Rr.toLowerCase(),yi[_n]!==void 0&&yi[_n][Kr]!==void 0?Fn=yi[_n][Kr]:yi[Rr]!==void 0&&yi[Rr][Kr]!==void 0?Fn=yi[Rr][Kr]:xn.disableWarning===!1&&a$2.warn("Unable to look up font label for font '"+Rr+"', '"+Kr+"'. Refer to getFontList() for available fonts."),Fn||xn.noFallback||(Fn=yi.times[Kr])==null&&(Fn=yi.times.normal),Fn},Qo=We.__private__.putInfo=function(){var Rr=Yi(),Kr=function(_n){return _n};for(var xn in $e!==null&&(Kr=na.encryptor(Rr,0)),Zr("<<"),Zr("/Producer ("+ks(Kr("jsPDF "+E.version))+")"),wi)wi.hasOwnProperty(xn)&&wi[xn]&&Zr("/"+xn.substr(0,1).toUpperCase()+xn.substr(1)+" ("+ks(Kr(wi[xn]))+")");Zr("/CreationDate ("+ks(Kr(jr))+")"),Zr(">>"),Zr("endobj")},zo=We.__private__.putCatalog=function(Rr){var Kr=(Rr=Rr||{}).rootDictionaryObjId||on;switch(Yi(),Zr("<<"),Zr("/Type /Catalog"),Zr("/Pages "+Kr+" 0 R"),ei||(ei="fullwidth"),ei){case"fullwidth":Zr("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Zr("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Zr("/OpenAction [3 0 R /Fit]");break;case"original":Zr("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xn=""+ei;xn.substr(xn.length-1)==="%"&&(ei=parseInt(ei)/100),typeof ei=="number"&&Zr("/OpenAction [3 0 R /XYZ null null "+mr(ei)+"]")}switch(Si||(Si="continuous"),Si){case"continuous":Zr("/PageLayout /OneColumn");break;case"single":Zr("/PageLayout /SinglePage");break;case"two":case"twoleft":Zr("/PageLayout /TwoColumnLeft");break;case"tworight":Zr("/PageLayout /TwoColumnRight")}Ci&&Zr("/PageMode /"+Ci),Bi.publish("putCatalog"),Zr(">>"),Zr("endobj")},Gu=We.__private__.putTrailer=function(){Zr("trailer"),Zr("<<"),Zr("/Size "+(br+1)),Zr("/Root "+br+" 0 R"),Zr("/Info "+(br-1)+" 0 R"),$e!==null&&Zr("/Encrypt "+na.oid+" 0 R"),Zr("/ID [ <"+vr+"> <"+vr+"> ]"),Zr(">>")},Vc=We.__private__.putHeader=function(){Zr("%PDF-"+qe),Zr("%")},du=We.__private__.putXRef=function(){var Rr="0000000000";Zr("xref"),Zr("0 "+(br+1)),Zr("0000000000 65535 f ");for(var Kr=1;Kr<=br;Kr++)typeof Ur[Kr]=="function"?Zr((Rr+Ur[Kr]()).slice(-10)+" 00000 n "):Ur[Kr]!==void 0?Zr((Rr+Ur[Kr]).slice(-10)+" 00000 n "):Zr("0000000000 00000 n ")},Nl=We.__private__.buildDocument=function(){hn(),yn(Qr),Bi.publish("buildDocument"),Vc(),zn(),$c(),uo(),$e!==null&&wo(),Qo(),zo();var Rr=zr;return du(),Gu(),Zr("startxref"),Zr(""+Rr),Zr("%%EOF"),yn(fn[Ir]),Qr.join(`
`)},gc=We.__private__.getBlob=function(Rr){return new Blob([ri(Rr)],{type:"application/pdf"})},al=We.output=We.__private__.output=xo((function(Rr,Kr){switch(typeof(Kr=Kr||{})=="string"?Kr={filename:Kr}:Kr.filename=Kr.filename||"generated.pdf",Rr){case void 0:return Nl();case"save":We.save(Kr.filename);break;case"arraybuffer":return ri(Nl());case"blob":return gc(Nl());case"bloburi":case"bloburl":if(n$1.URL!==void 0&&typeof n$1.URL.createObjectURL=="function")return n$1.URL&&n$1.URL.createObjectURL(gc(Nl()))||void 0;a$2.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xn="",_n=Nl();try{xn=h$1(_n)}catch{xn=h$1(unescape(encodeURIComponent(_n)))}return"data:application/pdf;filename="+Kr.filename+";base64,"+xn;case"pdfobjectnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var Fn="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",si=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';Kr.pdfObjectUrl&&(Fn=Kr.pdfObjectUrl,si="");var Ri='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Fn+'"'+si+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(Kr)+");<\/script></body></html>",Vi=n$1.open();return Vi!==null&&Vi.document.write(Ri),Vi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(n$1)==="[object Window]"){var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(Kr.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+Kr.filename+'" width="500px" height="400px" /></body></html>',Fr=n$1.open();if(Fr!==null){Fr.document.write(dr);var $r=this;Fr.document.documentElement.querySelector("#pdfViewer").onload=function(){Fr.document.title=Kr.filename,Fr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open($r.output("bloburl"))}}return Fr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(n$1)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var en='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",Kr)+'"></iframe></body></html>',In=n$1.open();if(In!==null&&(In.document.write(en),In.document.title=Kr.filename),In||typeof safari>"u")return In;break;case"datauri":case"dataurl":return n$1.document.location.href=this.output("datauristring",Kr);default:return null}})),fo=function(Rr){return Array.isArray(Zi)===!0&&Zi.indexOf(Rr)>-1};switch(Be){case"pt":an=1;break;case"mm":an=72/25.4;break;case"cm":an=72/2.54;break;case"in":an=72;break;case"px":an=fo("px_scaling")==1?.75:96/72;break;case"pc":case"em":an=12;break;case"ex":an=6;break;default:if(typeof Be!="number")throw new Error("Invalid unit: "+Be);an=Be}var na=null;Mr(),wr();var Dl=function(Rr){return $e!==null?na.encryptor(Rr,0):function(Kr){return Kr}},Al=We.__private__.getPageInfo=We.getPageInfo=function(Rr){if(isNaN(Rr)||Rr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hi[Rr].objId,pageNumber:Rr,pageContext:hi[Rr]}},ts=We.__private__.getPageInfoByObjId=function(Rr){if(isNaN(Rr)||Rr%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var Kr in hi)if(hi[Kr].objId===Rr)break;return Al(Kr)},pl=We.__private__.getCurrentPageInfo=We.getCurrentPageInfo=function(){return{objId:hi[Ir].objId,pageNumber:Ir,pageContext:hi[Ir]}};We.addPage=function(){return Xl.apply(this,arguments),this},We.setPage=function(){return hl.apply(this,arguments),yn.call(this,fn[Ir]),this},We.insertPage=function(Rr){return this.addPage(),this.movePage(Ir,Rr),this},We.movePage=function(Rr,Kr){var xn,_n;if(Rr>Kr){xn=fn[Rr],_n=hi[Rr];for(var Fn=Rr;Fn>Kr;Fn--)fn[Fn]=fn[Fn-1],hi[Fn]=hi[Fn-1];fn[Kr]=xn,hi[Kr]=_n,this.setPage(Kr)}else if(Rr<Kr){xn=fn[Rr],_n=hi[Rr];for(var si=Rr;si<Kr;si++)fn[si]=fn[si+1],hi[si]=hi[si+1];fn[Kr]=xn,hi[Kr]=_n,this.setPage(Kr)}return this},We.deletePage=function(){return Jl.apply(this,arguments),this},We.__private__.text=We.text=function(Rr,Kr,xn,_n,Fn){var si,Ri,Vi,dr,Fr,$r,en,In,Hn,oi=(_n=_n||{}).scope||this;if(typeof Rr=="number"&&typeof Kr=="number"&&(typeof xn=="string"||Array.isArray(xn))){var os=xn;xn=Kr,Kr=Rr,Rr=os}if(arguments[3]instanceof Li?(nr("The transform parameter of text() with a Matrix value"),Hn=Fn):(Vi=arguments[4],dr=arguments[5],_typeof(en=arguments[3])==="object"&&en!==null||(typeof Vi=="string"&&(dr=Vi,Vi=null),typeof en=="string"&&(dr=en,en=null),typeof en=="number"&&(Vi=en,en=null),_n={flags:en,angle:Vi,align:dr})),isNaN(Kr)||isNaN(xn)||Rr==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Rr.length===0)return oi;var _s="",As=!1,Bs=typeof _n.lineHeightFactor=="number"?_n.lineHeightFactor:Rs,Cs=oi.internal.scaleFactor;function wl(Es){return Es=Es.split("	").join(Array(_n.TabLen||9).join(" ")),ks(Es,en)}function Js(Es){for(var Ss,ca=Es.concat(),pa=[],_l=ca.length;_l--;)typeof(Ss=ca.shift())=="string"?pa.push(Ss):Array.isArray(Es)&&(Ss.length===1||Ss[1]===void 0&&Ss[2]===void 0)?pa.push(Ss[0]):pa.push([Ss[0],Ss[1],Ss[2]]);return pa}function Os(Es,Ss){var ca;if(typeof Es=="string")ca=Ss(Es)[0];else if(Array.isArray(Es)){for(var pa,_l,Zc=Es.concat(),ac=[],Cc=Zc.length;Cc--;)typeof(pa=Zc.shift())=="string"?ac.push(Ss(pa)[0]):Array.isArray(pa)&&typeof pa[0]=="string"&&(_l=Ss(pa[0],pa[1],pa[2]),ac.push([_l[0],_l[1],_l[2]]));ca=ac}return ca}var Ml=!1,Aa=!0;if(typeof Rr=="string")Ml=!0;else if(Array.isArray(Rr)){var Kc=Rr.concat();Ri=[];for(var Go,ba=Kc.length;ba--;)(typeof(Go=Kc.shift())!="string"||Array.isArray(Go)&&typeof Go[0]!="string")&&(Aa=!1);Ml=Aa}if(Ml===!1)throw new Error('Type of text must be string or Array. "'+Rr+'" is not recognized.');typeof Rr=="string"&&(Rr=Rr.match(/[\r?\n]/)?Rr.split(/\r\n|\r|\n/g):[Rr]);var Ms=ti/oi.internal.scaleFactor,Gc=Ms*(Bs-1);switch(_n.baseline){case"bottom":xn-=Gc;break;case"top":xn+=Ms-Gc;break;case"hanging":xn+=Ms-2*Gc;break;case"middle":xn+=Ms/2-Gc}if(($r=_n.maxWidth||0)>0&&(typeof Rr=="string"?Rr=oi.splitTextToSize(Rr,$r):Object.prototype.toString.call(Rr)==="[object Array]"&&(Rr=Rr.reduce((function(Es,Ss){return Es.concat(oi.splitTextToSize(Ss,$r))}),[]))),si={text:Rr,x:Kr,y:xn,options:_n,mutex:{pdfEscape:ks,activeFontKey:En,fonts:Vn,activeFontSize:ti}},Bi.publish("preProcessText",si),Rr=si.text,Vi=(_n=si.options).angle,!(Hn instanceof Li)&&Vi&&typeof Vi=="number"){Vi*=Math.PI/180,_n.rotationDirection===0&&(Vi=-Vi),Je===Ze.ADVANCED&&(Vi=-Vi);var qc=Math.cos(Vi),hu=Math.sin(Vi);Hn=new Li(qc,hu,-hu,qc,0,0)}else Vi&&Vi instanceof Li&&(Hn=Vi);Je!==Ze.ADVANCED||Hn||(Hn=Fs),(Fr=_n.charSpace||To)!==void 0&&(_s+=ir(or(Fr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(In=_n.horizontalScale)!==void 0&&(_s+=ir(100*In)+` Tz
`),_n.lang;var Oo=-1,Ju=_n.renderingMode!==void 0?_n.renderingMode:_n.stroke,Zu=oi.internal.getCurrentPageInfo().pageContext;switch(Ju){case 0:case!1:case"fill":Oo=0;break;case 1:case!0:case"stroke":Oo=1;break;case 2:case"fillThenStroke":Oo=2;break;case 3:case"invisible":Oo=3;break;case 4:case"fillAndAddForClipping":Oo=4;break;case 5:case"strokeAndAddPathForClipping":Oo=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Oo=6;break;case 7:case"addToPathForClipping":Oo=7}var _d=Zu.usedRenderingMode!==void 0?Zu.usedRenderingMode:-1;Oo!==-1?_s+=Oo+` Tr
`:_d!==-1&&(_s+=`0 Tr
`),Oo!==-1&&(Zu.usedRenderingMode=Oo),dr=_n.align||"left";var wa,da=ti*Bs,Mo=oi.internal.pageSize.getWidth(),Ta=Vn[En];Fr=_n.charSpace||To,$r=_n.maxWidth||0,en=Object.assign({autoencode:!0,noBOM:!0},_n.flags);var Po=[],Ec=function(Es){return oi.getStringUnitWidth(Es,{font:Ta,charSpace:Fr,fontSize:ti,doKerning:!1})*ti/Cs};if(Object.prototype.toString.call(Rr)==="[object Array]"){var Io;Ri=Js(Rr),dr!=="left"&&(wa=Ri.map(Ec));var Ka,Sc=0;if(dr==="right"){Kr-=wa[0],Rr=[],ba=Ri.length;for(var qo=0;qo<ba;qo++)qo===0?(Ka=Co(Kr),Io=$a(xn)):(Ka=or(Sc-wa[qo]),Io=-da),Rr.push([Ri[qo],Ka,Io]),Sc=wa[qo]}else if(dr==="center"){Kr-=wa[0]/2,Rr=[],ba=Ri.length;for(var Lo=0;Lo<ba;Lo++)Lo===0?(Ka=Co(Kr),Io=$a(xn)):(Ka=or((Sc-wa[Lo])/2),Io=-da),Rr.push([Ri[Lo],Ka,Io]),Sc=wa[Lo]}else if(dr==="left"){Rr=[],ba=Ri.length;for(var Ao=0;Ao<ba;Ao++)Rr.push(Ri[Ao])}else if(dr==="justify"&&Ta.encoding==="Identity-H"){Rr=[],ba=Ri.length,$r=$r!==0?$r:Mo;for(var Ll=0,ja=0;ja<ba;ja++)if(Io=ja===0?$a(xn):-da,Ka=ja===0?Co(Kr):Ll,ja<ba-1){var Yo=or(($r-wa[ja])/(Ri[ja].split(" ").length-1)),Oa=Ri[ja].split(" ");Rr.push([Oa[0]+" ",Ka,Io]),Ll=0;for(var Xo=1;Xo<Oa.length;Xo++){var Au=(Ec(Oa[Xo-1]+" "+Oa[Xo])-Ec(Oa[Xo]))*Cs+Yo;Xo==Oa.length-1?Rr.push([Oa[Xo],Au,0]):Rr.push([Oa[Xo]+" ",Au,0]),Ll-=Au}}else Rr.push([Ri[ja],Ka,Io]);Rr.push(["",Ll,0])}else{if(dr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Rr=[],ba=Ri.length,$r=$r!==0?$r:Mo,ja=0;ja<ba;ja++)Io=ja===0?$a(xn):-da,Ka=ja===0?Co(Kr):0,ja<ba-1?Po.push(ir(or(($r-wa[ja])/(Ri[ja].split(" ").length-1)))):Po.push(0),Rr.push([Ri[ja],Ka,Io])}}var Ha=typeof _n.R2L=="boolean"?_n.R2L:Ei;Ha===!0&&(Rr=Os(Rr,(function(Es,Ss,ca){return[Es.split("").reverse().join(""),Ss,ca]}))),si={text:Rr,x:Kr,y:xn,options:_n,mutex:{pdfEscape:ks,activeFontKey:En,fonts:Vn,activeFontSize:ti}},Bi.publish("postProcessText",si),Rr=si.text,As=si.mutex.isHex||!1;var pu=Vn[En].encoding;pu!=="WinAnsiEncoding"&&pu!=="StandardEncoding"||(Rr=Os(Rr,(function(Es,Ss,ca){return[wl(Es),Ss,ca]}))),Ri=Js(Rr),Rr=[];for(var Yc,Xc,Ul,mu=0,gu=1,Rc=Array.isArray(Ri[0])?gu:mu,sc="",Jc=function(Es,Ss,ca){var pa="";return ca instanceof Li?(ca=typeof _n.angle=="number"?Qs(ca,new Li(1,0,0,1,Es,Ss)):Qs(new Li(1,0,0,1,Es,Ss),ca),Je===Ze.ADVANCED&&(ca=Qs(new Li(1,0,0,-1,0,0),ca)),pa=ca.join(" ")+` Tm
`):pa=ir(Es)+" "+ir(Ss)+` Td
`,pa},Ea=0;Ea<Ri.length;Ea++){switch(sc="",Rc){case gu:Ul=(As?"<":"(")+Ri[Ea][0]+(As?">":")"),Yc=parseFloat(Ri[Ea][1]),Xc=parseFloat(Ri[Ea][2]);break;case mu:Ul=(As?"<":"(")+Ri[Ea]+(As?">":")"),Yc=Co(Kr),Xc=$a(xn)}Po!==void 0&&Po[Ea]!==void 0&&(sc=Po[Ea]+` Tw
`),Ea===0?Rr.push(sc+Jc(Yc,Xc,Hn)+Ul):Rc===mu?Rr.push(sc+Ul):Rc===gu&&Rr.push(sc+Jc(Yc,Xc,Hn)+Ul)}Rr=Rc===mu?Rr.join(` Tj
T* `):Rr.join(` Tj
`),Rr+=` Tj
`;var Jo=`BT
/`;return Jo+=En+" "+ti+` Tf
`,Jo+=ir(ti*Bs)+` TL
`,Jo+=bl+`
`,Jo+=_s,Jo+=Rr,Zr(Jo+="ET"),Qe[En]=!0,oi};var qu=We.__private__.clip=We.clip=function(Rr){return Zr(Rr==="evenodd"?"W*":"W"),this};We.clipEvenOdd=function(){return qu("evenodd")},We.__private__.discardPath=We.discardPath=function(){return Zr("n"),this};var So=We.__private__.isValidStyle=function(Rr){var Kr=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Rr)!==-1&&(Kr=!0),Kr};We.__private__.setDefaultPathOperation=We.setDefaultPathOperation=function(Rr){return So(Rr)&&(Ue=Rr),this};var Wo=We.__private__.getStyle=We.getStyle=function(Rr){var Kr=Ue;switch(Rr){case"D":case"S":Kr="S";break;case"F":Kr="f";break;case"FD":case"DF":Kr="B";break;case"f":case"f*":case"B":case"B*":Kr=Rr}return Kr},ko=We.close=function(){return Zr("h"),this};We.stroke=function(){return Zr("S"),this},We.fill=function(Rr){return ml("f",Rr),this},We.fillEvenOdd=function(Rr){return ml("f*",Rr),this},We.fillStroke=function(Rr){return ml("B",Rr),this},We.fillStrokeEvenOdd=function(Rr){return ml("B*",Rr),this};var ml=function(Rr,Kr){_typeof(Kr)==="object"?xl(Kr,Rr):Zr(Rr)},ya=function(Rr){Rr===null||Je===Ze.ADVANCED&&Rr===void 0||(Rr=Wo(Rr),Zr(Rr))};function gl(Rr,Kr,xn,_n,Fn){var si=new M$1(Kr||this.boundingBox,xn||this.xStep,_n||this.yStep,this.gState,Fn||this.matrix);si.stream=this.stream;var Ri=Rr+"$$"+this.cloneIndex+++"$$";return Xs(Ri,si),si}var xl=function(Rr,Kr){var xn=Ni[Rr.key],_n=vn[xn];if(_n instanceof B$1)Zr("q"),Zr(Hc(Kr)),_n.gState&&We.setGState(_n.gState),Zr(Rr.matrix.toString()+" cm"),Zr("/"+xn+" sh"),Zr("Q");else if(_n instanceof M$1){var Fn=new Li(1,0,0,-1,0,jo());Rr.matrix&&(Fn=Fn.multiply(Rr.matrix||Fs),xn=gl.call(_n,Rr.key,Rr.boundingBox,Rr.xStep,Rr.yStep,Fn).id),Zr("q"),Zr("/Pattern cs"),Zr("/"+xn+" scn"),_n.gState&&We.setGState(_n.gState),Zr(Kr),Zr("Q")}},Hc=function(Rr){switch(Rr){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ko=We.moveTo=function(Rr,Kr){return Zr(ir(or(Rr))+" "+ir(Cr(Kr))+" m"),this},Ro=We.lineTo=function(Rr,Kr){return Zr(ir(or(Rr))+" "+ir(Cr(Kr))+" l"),this},vl=We.curveTo=function(Rr,Kr,xn,_n,Fn,si){return Zr([ir(or(Rr)),ir(Cr(Kr)),ir(or(xn)),ir(Cr(_n)),ir(or(Fn)),ir(Cr(si)),"c"].join(" ")),this};We.__private__.line=We.line=function(Rr,Kr,xn,_n,Fn){if(isNaN(Rr)||isNaN(Kr)||isNaN(xn)||isNaN(_n)||!So(Fn))throw new Error("Invalid arguments passed to jsPDF.line");return Je===Ze.COMPAT?this.lines([[xn-Rr,_n-Kr]],Rr,Kr,[1,1],Fn||"S"):this.lines([[xn-Rr,_n-Kr]],Rr,Kr,[1,1]).stroke()},We.__private__.lines=We.lines=function(Rr,Kr,xn,_n,Fn,si){var Ri,Vi,dr,Fr,$r,en,In,Hn,oi,os,_s,As;if(typeof Rr=="number"&&(As=xn,xn=Kr,Kr=Rr,Rr=As),_n=_n||[1,1],si=si||!1,isNaN(Kr)||isNaN(xn)||!Array.isArray(Rr)||!Array.isArray(_n)||!So(Fn)||typeof si!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ko(Kr,xn),Ri=_n[0],Vi=_n[1],Fr=Rr.length,os=Kr,_s=xn,dr=0;dr<Fr;dr++)($r=Rr[dr]).length===2?(os=$r[0]*Ri+os,_s=$r[1]*Vi+_s,Ro(os,_s)):(en=$r[0]*Ri+os,In=$r[1]*Vi+_s,Hn=$r[2]*Ri+os,oi=$r[3]*Vi+_s,os=$r[4]*Ri+os,_s=$r[5]*Vi+_s,vl(en,In,Hn,oi,os,_s));return si&&ko(),ya(Fn),this},We.path=function(Rr){for(var Kr=0;Kr<Rr.length;Kr++){var xn=Rr[Kr],_n=xn.c;switch(xn.op){case"m":Ko(_n[0],_n[1]);break;case"l":Ro(_n[0],_n[1]);break;case"c":vl.apply(this,_n);break;case"h":ko()}}return this},We.__private__.rect=We.rect=function(Rr,Kr,xn,_n,Fn){if(isNaN(Rr)||isNaN(Kr)||isNaN(xn)||isNaN(_n)||!So(Fn))throw new Error("Invalid arguments passed to jsPDF.rect");return Je===Ze.COMPAT&&(_n=-_n),Zr([ir(or(Rr)),ir(Cr(Kr)),ir(or(xn)),ir(or(_n)),"re"].join(" ")),ya(Fn),this},We.__private__.triangle=We.triangle=function(Rr,Kr,xn,_n,Fn,si,Ri){if(isNaN(Rr)||isNaN(Kr)||isNaN(xn)||isNaN(_n)||isNaN(Fn)||isNaN(si)||!So(Ri))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xn-Rr,_n-Kr],[Fn-xn,si-_n],[Rr-Fn,Kr-si]],Rr,Kr,[1,1],Ri,!0),this},We.__private__.roundedRect=We.roundedRect=function(Rr,Kr,xn,_n,Fn,si,Ri){if(isNaN(Rr)||isNaN(Kr)||isNaN(xn)||isNaN(_n)||isNaN(Fn)||isNaN(si)||!So(Ri))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Vi=4/3*(Math.SQRT2-1);return Fn=Math.min(Fn,.5*xn),si=Math.min(si,.5*_n),this.lines([[xn-2*Fn,0],[Fn*Vi,0,Fn,si-si*Vi,Fn,si],[0,_n-2*si],[0,si*Vi,-Fn*Vi,si,-Fn,si],[2*Fn-xn,0],[-Fn*Vi,0,-Fn,-si*Vi,-Fn,-si],[0,2*si-_n],[0,-si*Vi,Fn*Vi,-si,Fn,-si]],Rr+Fn,Kr,[1,1],Ri,!0),this},We.__private__.ellipse=We.ellipse=function(Rr,Kr,xn,_n,Fn){if(isNaN(Rr)||isNaN(Kr)||isNaN(xn)||isNaN(_n)||!So(Fn))throw new Error("Invalid arguments passed to jsPDF.ellipse");var si=4/3*(Math.SQRT2-1)*xn,Ri=4/3*(Math.SQRT2-1)*_n;return Ko(Rr+xn,Kr),vl(Rr+xn,Kr-Ri,Rr+si,Kr-_n,Rr,Kr-_n),vl(Rr-si,Kr-_n,Rr-xn,Kr-Ri,Rr-xn,Kr),vl(Rr-xn,Kr+Ri,Rr-si,Kr+_n,Rr,Kr+_n),vl(Rr+si,Kr+_n,Rr+xn,Kr+Ri,Rr+xn,Kr),ya(Fn),this},We.__private__.circle=We.circle=function(Rr,Kr,xn,_n){if(isNaN(Rr)||isNaN(Kr)||isNaN(xn)||!So(_n))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Rr,Kr,xn,xn,_n)},We.setFont=function(Rr,Kr,xn){return xn&&(Kr=ar(Kr,xn)),En=Zl(Rr,Kr,{disableWarning:!1}),this};var Fa=We.__private__.getFont=We.getFont=function(){return Vn[Zl.apply(We,arguments)]};We.__private__.getFontList=We.getFontList=function(){var Rr,Kr,xn={};for(Rr in yi)if(yi.hasOwnProperty(Rr))for(Kr in xn[Rr]=[],yi[Rr])yi[Rr].hasOwnProperty(Kr)&&xn[Rr].push(Kr);return xn},We.addFont=function(Rr,Kr,xn,_n,Fn){var si=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&si.indexOf(arguments[3])!==-1?Fn=arguments[3]:arguments[3]&&si.indexOf(arguments[3])==-1&&(xn=ar(xn,_n)),Fn=Fn||"Identity-H",sl.call(this,Rr,Kr,xn,Fn)};var Rs,Fl=Re.lineWidth||.200025,yl=We.__private__.getLineWidth=We.getLineWidth=function(){return Fl},fu=We.__private__.setLineWidth=We.setLineWidth=function(Rr){return Fl=Rr,Zr(ir(or(Rr))+" w"),this};We.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Rr,Kr){if(Rr=Rr||[],Kr=Kr||0,isNaN(Kr)||!Array.isArray(Rr))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Rr=Rr.map((function(xn){return ir(or(xn))})).join(" "),Kr=ir(or(Kr)),Zr("["+Rr+"] "+Kr+" d"),this};var ha=We.__private__.getLineHeight=We.getLineHeight=function(){return ti*Rs};We.__private__.getLineHeight=We.getLineHeight=function(){return ti*Rs};var xc=We.__private__.setLineHeightFactor=We.setLineHeightFactor=function(Rr){return typeof(Rr=Rr||1.15)=="number"&&(Rs=Rr),this},ho=We.__private__.getLineHeightFactor=We.getLineHeightFactor=function(){return Rs};xc(Re.lineHeight);var Co=We.__private__.getHorizontalCoordinate=function(Rr){return or(Rr)},$a=We.__private__.getVerticalCoordinate=function(Rr){return Je===Ze.ADVANCED?Rr:hi[Ir].mediaBox.topRightY-hi[Ir].mediaBox.bottomLeftY-or(Rr)},Yu=We.__private__.getHorizontalCoordinateString=We.getHorizontalCoordinateString=function(Rr){return ir(Co(Rr))},tc=We.__private__.getVerticalCoordinateString=We.getVerticalCoordinateString=function(Rr){return ir($a(Rr))},Va=Re.strokeColor||"0 G";We.__private__.getStrokeColor=We.getDrawColor=function(){return mn(Va)},We.__private__.setStrokeColor=We.setDrawColor=function(Rr,Kr,xn,_n){return Va=gn({ch1:Rr,ch2:Kr,ch3:xn,ch4:_n,pdfColorType:"draw",precision:2}),Zr(Va),this};var ol=Re.fillColor||"0 g";We.__private__.getFillColor=We.getFillColor=function(){return mn(ol)},We.__private__.setFillColor=We.setFillColor=function(Rr,Kr,xn,_n){return ol=gn({ch1:Rr,ch2:Kr,ch3:xn,ch4:_n,pdfColorType:"fill",precision:2}),Zr(ol),this};var bl=Re.textColor||"0 g",Qc=We.__private__.getTextColor=We.getTextColor=function(){return mn(bl)};We.__private__.setTextColor=We.setTextColor=function(Rr,Kr,xn,_n){return bl=gn({ch1:Rr,ch2:Kr,ch3:xn,ch4:_n,pdfColorType:"text",precision:3}),this};var To=Re.charSpace,kl=We.__private__.getCharSpace=We.getCharSpace=function(){return parseFloat(To||0)};We.__private__.setCharSpace=We.setCharSpace=function(Rr){if(isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return To=Rr,this};var vc=0;We.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},We.__private__.setLineCap=We.setLineCap=function(Rr){var Kr=We.CapJoinStyles[Rr];if(Kr===void 0)throw new Error("Line cap style of '"+Rr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vc=Kr,Zr(Kr+" J"),this};var yc=0;We.__private__.setLineJoin=We.setLineJoin=function(Rr){var Kr=We.CapJoinStyles[Rr];if(Kr===void 0)throw new Error("Line join style of '"+Rr+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yc=Kr,Zr(Kr+" j"),this},We.__private__.setLineMiterLimit=We.__private__.setMiterLimit=We.setLineMiterLimit=We.setMiterLimit=function(Rr){if(Rr=Rr||0,isNaN(Rr))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Zr(ir(or(Rr))+" M"),this},We.GState=j$2,We.setGState=function(Rr){(Rr=typeof Rr=="string"?xi[Gi[Rr]]:rc(null,Rr)).equals(ki)||(Zr("/"+Rr.id+" gs"),ki=Rr)};var rc=function(Rr,Kr){if(!Rr||!Gi[Rr]){var xn=!1;for(var _n in xi)if(xi.hasOwnProperty(_n)&&xi[_n].equals(Kr)){xn=!0;break}if(xn)Kr=xi[_n];else{var Fn="GS"+(Object.keys(xi).length+1).toString(10);xi[Fn]=Kr,Kr.id=Fn}return Rr&&(Gi[Rr]=Kr.id),Bi.publish("addGState",Kr),Kr}};We.addGState=function(Rr,Kr){return rc(Rr,Kr),this},We.saveGraphicsState=function(){return Zr("q"),jn.push({key:En,size:ti,color:bl}),this},We.restoreGraphicsState=function(){Zr("Q");var Rr=jn.pop();return En=Rr.key,ti=Rr.size,bl=Rr.color,ki=null,this},We.setCurrentTransformationMatrix=function(Rr){return Zr(Rr.toString()+" cm"),this},We.comment=function(Rr){return Zr("#"+Rr),this};var bc=function(Rr,Kr){var xn=Rr||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return xn},set:function(si){isNaN(si)||(xn=parseFloat(si))}});var _n=Kr||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return _n},set:function(si){isNaN(si)||(_n=parseFloat(si))}});var Fn="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fn},set:function(si){Fn=si.toString()}}),this},zc=function(Rr,Kr,xn,_n){bc.call(this,Rr,Kr),this.type="rect";var Fn=xn||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fn},set:function(Ri){isNaN(Ri)||(Fn=parseFloat(Ri))}});var si=_n||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return si},set:function(Ri){isNaN(Ri)||(si=parseFloat(Ri))}}),this},wc=function(){this.page=Ai,this.currentPage=Ir,this.pages=fn.slice(0),this.pagesContext=hi.slice(0),this.x=On,this.y=Mn,this.matrix=ui,this.width=ic(Ir),this.height=jo(Ir),this.outputDestination=bn,this.id="",this.objectNumber=-1};wc.prototype.restore=function(){Ai=this.page,Ir=this.currentPage,hi=this.pagesContext,fn=this.pages,On=this.x,Mn=this.y,ui=this.matrix,_c(Ir,this.width),Wc(Ir,this.height),bn=this.outputDestination};var nc=function(Rr,Kr,xn,_n,Fn){Wa.push(new wc),Ai=Ir=0,fn=[],On=Rr,Mn=Kr,ui=Fn,vo([xn,_n])},Xu=function(Rr){if(oa[Rr])Wa.pop().restore();else{var Kr=new wc,xn="Xo"+(Object.keys(ds).length+1).toString(10);Kr.id=xn,oa[Rr]=xn,ds[xn]=Kr,Bi.publish("addFormObject",Kr),Wa.pop().restore()}};for(var Ol in We.beginFormObject=function(Rr,Kr,xn,_n,Fn){return nc(Rr,Kr,xn,_n,Fn),this},We.endFormObject=function(Rr){return Xu(Rr),this},We.doFormObject=function(Rr,Kr){var xn=ds[oa[Rr]];return Zr("q"),Zr(Kr.toString()+" cm"),Zr("/"+xn.id+" Do"),Zr("Q"),this},We.getFormObject=function(Rr){var Kr=ds[oa[Rr]];return{x:Kr.x,y:Kr.y,width:Kr.width,height:Kr.height,matrix:Kr.matrix}},We.save=function(Rr,Kr){return Rr=Rr||"generated.pdf",(Kr=Kr||{}).returnPromise=Kr.returnPromise||!1,Kr.returnPromise===!1?(l$1(gc(Nl()),Rr),typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),this):new Promise((function(xn,_n){try{var Fn=l$1(gc(Nl()),Rr);typeof l$1.unload=="function"&&n$1.setTimeout&&setTimeout(l$1.unload,911),xn(Fn)}catch(si){_n(si.message)}}))},E.API)E.API.hasOwnProperty(Ol)&&(Ol==="events"&&E.API.events.length?(function(Rr,Kr){var xn,_n,Fn;for(Fn=Kr.length-1;Fn!==-1;Fn--)xn=Kr[Fn][0],_n=Kr[Fn][1],Rr.subscribe.apply(Rr,[xn].concat(typeof _n=="function"?[_n]:_n))})(Bi,E.API.events):We[Ol]=E.API[Ol]);var ic=We.getPageWidth=function(Rr){return(hi[Rr=Rr||Ir].mediaBox.topRightX-hi[Rr].mediaBox.bottomLeftX)/an},_c=We.setPageWidth=function(Rr,Kr){hi[Rr].mediaBox.topRightX=Kr*an+hi[Rr].mediaBox.bottomLeftX},jo=We.getPageHeight=function(Rr){return(hi[Rr=Rr||Ir].mediaBox.topRightY-hi[Rr].mediaBox.bottomLeftY)/an},Wc=We.setPageHeight=function(Rr,Kr){hi[Rr].mediaBox.topRightY=Kr*an+hi[Rr].mediaBox.bottomLeftY};return We.internal={pdfEscape:ks,getStyle:Wo,getFont:Fa,getFontSize:Gn,getCharSpace:kl,getTextColor:Qc,getLineHeight:ha,getLineHeightFactor:ho,getLineWidth:yl,write:Rn,getHorizontalCoordinate:Co,getVerticalCoordinate:$a,getCoordinateString:Yu,getVerticalCoordinateString:tc,collections:{},newObject:Yi,newAdditionalObject:pn,newObjectDeferred:ra,newObjectDeferredBegin:qr,getFilters:Un,putStream:Jn,events:Bi,scaleFactor:an,pageSize:{getWidth:function(){return ic(Ir)},setWidth:function(Rr){_c(Ir,Rr)},getHeight:function(){return jo(Ir)},setHeight:function(Rr){Wc(Ir,Rr)}},encryptionOptions:$e,encryption:na,getEncryptor:Dl,output:al,getNumberOfPages:Ws,pages:fn,out:Zr,f2:mr,f3:fr,getPageInfo:Al,getPageInfoByObjId:ts,getCurrentPageInfo:pl,getPDFVersion:Ke,Point:bc,Rectangle:zc,Matrix:Li,hasHotfix:fo},Object.defineProperty(We.internal.pageSize,"width",{get:function(){return ic(Ir)},set:function(Rr){_c(Ir,Rr)},enumerable:!0,configurable:!0}),Object.defineProperty(We.internal.pageSize,"height",{get:function(){return jo(Ir)},set:function(Rr){Wc(Ir,Rr)},enumerable:!0,configurable:!0}),Bl.call(We,Yn),En="F1",Xl(De,je),Bi.publish("initialized"),We}I$1.prototype.lsbFirstWord=function(Re){return String.fromCharCode(Re>>0&255,Re>>8&255,Re>>16&255,Re>>24&255)},I$1.prototype.toHexString=function(Re){return Re.split("").map((function(Ce){return("0"+(255&Ce.charCodeAt(0)).toString(16)).slice(-2)})).join("")},I$1.prototype.hexToBytes=function(Re){for(var Ce=[],je=0;je<Re.length;je+=2)Ce.push(String.fromCharCode(parseInt(Re.substr(je,2),16)));return Ce.join("")},I$1.prototype.processOwnerPassword=function(Re,Ce){return P$3(x$2(Ce).substr(0,5),Re)},I$1.prototype.encryptor=function(Re,Ce){var je=x$2(this.encryptionKey+String.fromCharCode(255&Re,Re>>8&255,Re>>16&255,255&Ce,Ce>>8&255)).substr(0,10);return function(Be){return P$3(je,Be)}},j$2.prototype.equals=function(Re){var Ce,je="id,objectNumber,equals";if(!Re||_typeof(Re)!==_typeof(this))return!1;var Be=0;for(Ce in this)if(!(je.indexOf(Ce)>=0)){if(this.hasOwnProperty(Ce)&&!Re.hasOwnProperty(Ce)||this[Ce]!==Re[Ce])return!1;Be++}for(Ce in Re)Re.hasOwnProperty(Ce)&&je.indexOf(Ce)<0&&Be--;return Be===0},E.API={events:[]},E.version="3.0.1";var q$1=E.API,D=1,R=function(Re){return Re.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},T=function(Re){return Re.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U$2=function(Re){return Re.toFixed(2)},z$1=function(Re){return Re.toFixed(5)};q$1.__acroform__={};var H=function(Re,Ce){Re.prototype=Object.create(Ce.prototype),Re.prototype.constructor=Re},W$2=function(Re){return Re*D},V$2=function(Re){var Ce=new ut,je=At$1.internal.getHeight(Re)||0,Be=At$1.internal.getWidth(Re)||0;return Ce.BBox=[0,0,Number(U$2(Be)),Number(U$2(je))],Ce},G$1=q$1.__acroform__.setBit=function(Re,Ce){if(Re=Re||0,Ce=Ce||0,isNaN(Re)||isNaN(Ce))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Re|=1<<Ce},Y$1=q$1.__acroform__.clearBit=function(Re,Ce){if(Re=Re||0,Ce=Ce||0,isNaN(Re)||isNaN(Ce))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Re&=~(1<<Ce)},J$2=q$1.__acroform__.getBit=function(Re,Ce){if(isNaN(Re)||isNaN(Ce))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(Re&1<<Ce)==0?0:1},X$1=q$1.__acroform__.getBitForPdf=function(Re,Ce){if(isNaN(Re)||isNaN(Ce))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return J$2(Re,Ce-1)},K$1=q$1.__acroform__.setBitForPdf=function(Re,Ce){if(isNaN(Re)||isNaN(Ce))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return G$1(Re,Ce-1)},Z$1=q$1.__acroform__.clearBitForPdf=function(Re,Ce){if(isNaN(Re)||isNaN(Ce))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y$1(Re,Ce-1)},$$2=q$1.__acroform__.calculateCoordinates=function(Re,Ce){var je=Ce.internal.getHorizontalCoordinate,Be=Ce.internal.getVerticalCoordinate,De=Re[0],Fe=Re[1],ke=Re[2],Oe=Re[3],Me={};return Me.lowerLeft_X=je(De)||0,Me.lowerLeft_Y=Be(Fe+Oe)||0,Me.upperRight_X=je(De+ke)||0,Me.upperRight_Y=Be(Fe)||0,[Number(U$2(Me.lowerLeft_X)),Number(U$2(Me.lowerLeft_Y)),Number(U$2(Me.upperRight_X)),Number(U$2(Me.upperRight_Y))]},Q$1=function(Re){if(Re.appearanceStreamContent)return Re.appearanceStreamContent;if(Re.V||Re.DV){var Ce=[],je=Re._V||Re.DV,Be=tt$1(Re,je),De=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id;Ce.push("/Tx BMC"),Ce.push("q"),Ce.push("BT"),Ce.push(Re.scope.__private__.encodeColorString(Re.color)),Ce.push("/"+De+" "+U$2(Be.fontSize)+" Tf"),Ce.push("1 0 0 1 0 0 Tm"),Ce.push(Be.text),Ce.push("ET"),Ce.push("Q"),Ce.push("EMC");var Fe=V$2(Re);return Fe.scope=Re.scope,Fe.stream=Ce.join(`
`),Fe}},tt$1=function(Re,Ce){var je=Re.fontSize===0?Re.maxFontSize:Re.fontSize,Be={text:"",fontSize:""},De=(Ce=(Ce=Ce.substr(0,1)=="("?Ce.substr(1):Ce).substr(Ce.length-1)==")"?Ce.substr(0,Ce.length-1):Ce).split(" ");De=Re.multiline?De.map((function(fr){return fr.split(`
`)})):De.map((function(fr){return[fr]}));var Fe=je,ke=At$1.internal.getHeight(Re)||0;ke=ke<0?-ke:ke;var Oe=At$1.internal.getWidth(Re)||0;Oe=Oe<0?-Oe:Oe;var Me=function(fr,or,yr){if(fr+1<De.length){var Cr=or+" "+De[fr+1][0];return et(Cr,Re,yr).width<=Oe-4}return!1};Fe++;e:for(;Fe>0;){Ce="",Fe--;var Ue,$e,He=et("3",Re,Fe).height,Qe=Re.multiline?ke-Fe:(ke-He)/2,We=Qe+=2,qe=0,Ke=0,Xe=0;if(Fe<=0){Ce=`(...) Tj
`,Ce+="% Width of Text: "+et(Ce,Re,Fe=12).width+", FieldWidth:"+Oe+`
`;break}for(var Ye="",Ze=0,Je=0;Je<De.length;Je++)if(De.hasOwnProperty(Je)){var tr=!1;if(De[Je].length!==1&&Xe!==De[Je].length-1){if((He+2)*(Ze+2)+2>ke)continue e;Ye+=De[Je][Xe],tr=!0,Ke=Je,Je--}else{Ye=(Ye+=De[Je][Xe]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var rr=parseInt(Je),ar=Me(rr,Ye,Fe),ir=Je>=De.length-1;if(ar&&!ir){Ye+=" ",Xe=0;continue}if(ar||ir){if(ir)Ke=rr;else if(Re.multiline&&(He+2)*(Ze+2)+2>ke)continue e}else{if(!Re.multiline||(He+2)*(Ze+2)+2>ke)continue e;Ke=rr}}for(var nr="",cr=qe;cr<=Ke;cr++){var mr=De[cr];if(Re.multiline){if(cr===Ke){nr+=mr[Xe]+" ",Xe=(Xe+1)%mr.length;continue}if(cr===qe){nr+=mr[mr.length-1]+" ";continue}}nr+=mr[0]+" "}switch(nr=nr.substr(nr.length-1)==" "?nr.substr(0,nr.length-1):nr,$e=et(nr,Re,Fe).width,Re.textAlign){case"right":Ue=Oe-$e-2;break;case"center":Ue=(Oe-$e)/2;break;case"left":default:Ue=2}Ce+=U$2(Ue)+" "+U$2(We)+` Td
`,Ce+="("+R(nr)+`) Tj
`,Ce+=-U$2(Ue)+` 0 Td
`,We=-(Fe+2),$e=0,qe=tr?Ke:Ke+1,Ze++,Ye=""}break}return Be.text=Ce,Be.fontSize=Fe,Be},et=function(Re,Ce,je){var Be=Ce.scope.internal.getFont(Ce.fontName,Ce.fontStyle),De=Ce.scope.getStringUnitWidth(Re,{font:Be,fontSize:parseFloat(je),charSpace:0})*parseFloat(je);return{height:Ce.scope.getStringUnitWidth("3",{font:Be,fontSize:parseFloat(je),charSpace:0})*parseFloat(je)*1.5,width:De}},rt$1={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nt$1=function(Re,Ce){var je={type:"reference",object:Re};Ce.internal.getPageInfo(Re.page).pageContext.annotations.find((function(Be){return Be.type===je.type&&Be.object===je.object}))===void 0&&Ce.internal.getPageInfo(Re.page).pageContext.annotations.push(je)},it=function(Re,Ce){for(var je in Re)if(Re.hasOwnProperty(je)){var Be=je,De=Re[je];Ce.internal.newObjectDeferredBegin(De.objId,!0),_typeof(De)==="object"&&typeof De.putStream=="function"&&De.putStream(),delete Re[Be]}},at$1=function(Re,Ce){if(Ce.scope=Re,Re.internal!==void 0&&(Re.internal.acroformPlugin===void 0||Re.internal.acroformPlugin.isInitialized===!1)){if(lt$1.FieldNum=0,Re.internal.acroformPlugin=JSON.parse(JSON.stringify(rt$1)),Re.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Re.internal.scaleFactor,Re.internal.acroformPlugin.acroFormDictionaryRoot=new ht$1,Re.internal.acroformPlugin.acroFormDictionaryRoot.scope=Re,Re.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Re.internal.events.subscribe("postPutResources",(function(){(function(je){je.internal.events.unsubscribe(je.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete je.internal.acroformPlugin.acroFormDictionaryRoot._eventID,je.internal.acroformPlugin.printedOut=!0})(Re)})),Re.internal.events.subscribe("buildDocument",(function(){(function(je){je.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Be=je.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var De in Be)if(Be.hasOwnProperty(De)){var Fe=Be[De];Fe.objId=void 0,Fe.hasAnnotation&&nt$1(Fe,je)}})(Re)})),Re.internal.events.subscribe("putCatalog",(function(){(function(je){if(je.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");je.internal.write("/AcroForm "+je.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Re)})),Re.internal.events.subscribe("postPutPages",(function(je){(function(Be,De){var Fe=!Be;for(var ke in Be||(De.internal.newObjectDeferredBegin(De.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),De.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Be=Be||De.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Be.hasOwnProperty(ke)){var Oe=Be[ke],Me=[],Ue=Oe.Rect;if(Oe.Rect&&(Oe.Rect=$$2(Oe.Rect,De)),De.internal.newObjectDeferredBegin(Oe.objId,!0),Oe.DA=At$1.createDefaultAppearanceStream(Oe),_typeof(Oe)==="object"&&typeof Oe.getKeyValueListForStream=="function"&&(Me=Oe.getKeyValueListForStream()),Oe.Rect=Ue,Oe.hasAppearanceStream&&!Oe.appearanceStreamContent){var $e=Q$1(Oe);Me.push({key:"AP",value:"<</N "+$e+">>"}),De.internal.acroformPlugin.xForms.push($e)}if(Oe.appearanceStreamContent){var He="";for(var Qe in Oe.appearanceStreamContent)if(Oe.appearanceStreamContent.hasOwnProperty(Qe)){var We=Oe.appearanceStreamContent[Qe];if(He+="/"+Qe+" ",He+="<<",Object.keys(We).length>=1||Array.isArray(We)){for(var ke in We)if(We.hasOwnProperty(ke)){var qe=We[ke];typeof qe=="function"&&(qe=qe.call(De,Oe)),He+="/"+ke+" "+qe+" ",De.internal.acroformPlugin.xForms.indexOf(qe)>=0||De.internal.acroformPlugin.xForms.push(qe)}}else typeof(qe=We)=="function"&&(qe=qe.call(De,Oe)),He+="/"+ke+" "+qe,De.internal.acroformPlugin.xForms.indexOf(qe)>=0||De.internal.acroformPlugin.xForms.push(qe);He+=">>"}Me.push({key:"AP",value:`<<
`+He+">>"})}De.internal.putStream({additionalKeyValues:Me,objectId:Oe.objId}),De.internal.out("endobj")}Fe&&it(De.internal.acroformPlugin.xForms,De)})(je,Re)})),Re.internal.acroformPlugin.isInitialized=!0}},ot=q$1.__acroform__.arrayToPdfArray=function(Re,Ce,je){var Be=function(ke){return ke};if(Array.isArray(Re)){for(var De="[",Fe=0;Fe<Re.length;Fe++)switch(Fe!==0&&(De+=" "),_typeof(Re[Fe])){case"boolean":case"number":case"object":De+=Re[Fe].toString();break;case"string":Re[Fe].substr(0,1)!=="/"?(Ce!==void 0&&je&&(Be=je.internal.getEncryptor(Ce)),De+="("+R(Be(Re[Fe].toString()))+")"):De+=Re[Fe].toString()}return De+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st$1=function(Re,Ce,je){var Be=function(De){return De};return Ce!==void 0&&je&&(Be=je.internal.getEncryptor(Ce)),(Re=Re||"").toString(),Re="("+R(Be(Re))+")"},ct=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Re){this._objId=Re}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ct.prototype.toString=function(){return this.objId+" 0 R"},ct.prototype.putStream=function(){var Re=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Re,objectId:this.objId}),this.scope.internal.out("endobj")},ct.prototype.getKeyValueListForStream=function(){var Re=[],Ce=Object.getOwnPropertyNames(this).filter((function(Fe){return Fe!="content"&&Fe!="appearanceStreamContent"&&Fe!="scope"&&Fe!="objId"&&Fe.substring(0,1)!="_"}));for(var je in Ce)if(Object.getOwnPropertyDescriptor(this,Ce[je]).configurable===!1){var Be=Ce[je],De=this[Be];De&&(Array.isArray(De)?Re.push({key:Be,value:ot(De,this.objId,this.scope)}):De instanceof ct?(De.scope=this.scope,Re.push({key:Be,value:De.objId+" 0 R"})):typeof De!="function"&&Re.push({key:Be,value:De}))}return Re};var ut=function(){ct.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Re,Ce=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return Ce},set:function(je){Ce=je}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(je){Re=je.trim()},get:function(){return Re||null}})};H(ut,ct);var ht$1=function(){ct.call(this);var Re,Ce=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return Ce.length>0?Ce:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return Ce}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Re){var je=function(Be){return Be};return this.scope&&(je=this.scope.internal.getEncryptor(this.objId)),"("+R(je(Re))+")"}},set:function(je){Re=je}})};H(ht$1,ct);var lt$1=function Re(){ct.call(this);var Ce=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return Ce},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');Ce=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!X$1(Ce,3)},set:function(Ye){Ye?this.F=K$1(Ce,3):this.F=Z$1(Ce,3)}});var je=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return je},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');je=Ye}});var Be=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Be.length!==0)return Be},set:function(Ye){Be=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[0])?0:Be[0]},set:function(Ye){Be[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[1])?0:Be[1]},set:function(Ye){Be[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[2])?0:Be[2]},set:function(Ye){Be[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Be||isNaN(Be[3])?0:Be[3]},set:function(Ye){Be[3]=Ye}});var De="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return De},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":De=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var Fe=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!Fe||Fe.length<1){if(this instanceof yt$1)return;Fe="FieldObject"+Re.FieldNum++}var Ye=function(Ze){return Ze};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+R(Ye(Fe))+")"},set:function(Ye){Fe=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return Fe},set:function(Ye){Fe=Ye}});var ke="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return ke},set:function(Ye){ke=Ye}});var Oe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Ye){Oe=Ye}});var Me=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(Ye){Me=Ye}});var Ue=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return Ue===void 0?50/D:Ue},set:function(Ye){Ue=Ye}});var $e="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return $e},set:function(Ye){$e=Ye}});var He="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!He||this instanceof yt$1||this instanceof Nt$1))return st$1(He,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),He=Ye}});var Qe=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Qe)return this instanceof mt$1?Qe:st$1(Qe,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),Qe=this instanceof mt$1?Ye:Ye.substr(0,1)==="("?T(Ye.substr(1,Ye.length-2)):T(Ye)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T(Qe.substr(1,Qe.length-1)):Qe},set:function(Ye){Ye=Ye.toString(),Qe=this instanceof mt$1?"/"+Ye:Ye}});var We=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(We)return We},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(We)return this instanceof mt$1?We:st$1(We,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt$1?Ye:Ye.substr(0,1)==="("?T(Ye.substr(1,Ye.length-2)):T(Ye)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt$1?T(We.substr(1,We.length-1)):We},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt$1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var qe,Ke=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ke},set:function(Ye){Ye=!!Ye,Ke=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(qe)return qe},set:function(Ye){qe=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,1)},set:function(Ye){Ye?this.Ff=K$1(this.Ff,1):this.Ff=Z$1(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,2)},set:function(Ye){Ye?this.Ff=K$1(this.Ff,2):this.Ff=Z$1(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,3)},set:function(Ye){Ye?this.Ff=K$1(this.Ff,3):this.Ff=Z$1(this.Ff,3)}});var Xe=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Xe!==null)return Xe},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');Xe=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(Xe){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:Xe=2;break;case"center":case 1:Xe=1;break;case"left":case 0:default:Xe=0}}})};H(lt$1,ct);var ft=function(){lt$1.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Re=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(je){Re=je}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(je){Re=je}});var Ce=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(Ce,this.objId,this.scope)},set:function(je){var Be,De;De=[],typeof(Be=je)=="string"&&(De=(function(Fe,ke,Oe){Oe||(Oe=1);for(var Me,Ue=[];Me=ke.exec(Fe);)Ue.push(Me[Oe]);return Ue})(Be,/\((.*?)\)/g)),Ce=De}}),this.getOptions=function(){return Ce},this.setOptions=function(je){Ce=je,this.sort&&Ce.sort()},this.addOption=function(je){je=(je=je||"").toString(),Ce.push(je),this.sort&&Ce.sort()},this.removeOption=function(je,Be){for(Be=Be||!1,je=(je=je||"").toString();Ce.indexOf(je)!==-1&&(Ce.splice(Ce.indexOf(je),1),Be!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,18)},set:function(je){je?this.Ff=K$1(this.Ff,18):this.Ff=Z$1(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,19)},set:function(je){this.combo===!0&&(je?this.Ff=K$1(this.Ff,19):this.Ff=Z$1(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,20)},set:function(je){je?(this.Ff=K$1(this.Ff,20),Ce.sort()):this.Ff=Z$1(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,22)},set:function(je){je?this.Ff=K$1(this.Ff,22):this.Ff=Z$1(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(je){je?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,27)},set:function(je){je?this.Ff=K$1(this.Ff,27):this.Ff=Z$1(this.Ff,27)}}),this.hasAppearanceStream=!1};H(ft,lt$1);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};H(dt,ft);var pt$1=function(){dt.call(this),this.combo=!0};H(pt$1,dt);var gt$1=function(){pt$1.call(this),this.edit=!0};H(gt$1,pt$1);var mt$1=function(){lt$1.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,15)},set:function(je){je?this.Ff=K$1(this.Ff,15):this.Ff=Z$1(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,16)},set:function(je){je?this.Ff=K$1(this.Ff,16):this.Ff=Z$1(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,17)},set:function(je){je?this.Ff=K$1(this.Ff,17):this.Ff=Z$1(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(je){je?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Re,Ce={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var je=function(Fe){return Fe};if(this.scope&&(je=this.scope.internal.getEncryptor(this.objId)),Object.keys(Ce).length!==0){var Be,De=[];for(Be in De.push("<<"),Ce)De.push("/"+Be+" ("+R(je(Ce[Be]))+")");return De.push(">>"),De.join(`
`)}},set:function(je){_typeof(je)==="object"&&(Ce=je)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ce.CA||""},set:function(je){typeof je=="string"&&(Ce.CA=je)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Re},set:function(je){Re=je}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Re.substr(1,Re.length-1)},set:function(je){Re="/"+je}})};H(mt$1,lt$1);var vt$1=function(){mt$1.call(this),this.pushButton=!0};H(vt$1,mt$1);var bt$1=function(){mt$1.call(this),this.radio=!0,this.pushButton=!1;var Re=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(Ce){Re=Ce!==void 0?Ce:[]}})};H(bt$1,mt$1);var yt$1=function(){var Re,Ce;lt$1.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Re},set:function(De){Re=De}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return Ce},set:function(De){Ce=De}});var je,Be={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var De=function(Oe){return Oe};this.scope&&(De=this.scope.internal.getEncryptor(this.objId));var Fe,ke=[];for(Fe in ke.push("<<"),Be)ke.push("/"+Fe+" ("+R(De(Be[Fe]))+")");return ke.push(">>"),ke.join(`
`)},set:function(De){_typeof(De)==="object"&&(Be=De)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Be.CA||""},set:function(De){typeof De=="string"&&(Be.CA=De)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return je},set:function(De){je=De}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return je.substr(1,je.length-1)},set:function(De){je="/"+De}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=At$1.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};H(yt$1,lt$1),bt$1.prototype.setAppearance=function(Re){if(!("createAppearanceStream"in Re)||!("getCA"in Re))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var Ce in this.Kids)if(this.Kids.hasOwnProperty(Ce)){var je=this.Kids[Ce];je.appearanceStreamContent=Re.createAppearanceStream(je.optionName),je.caption=Re.getCA()}},bt$1.prototype.createOption=function(Re){var Ce=new yt$1;return Ce.Parent=this,Ce.optionName=Re,this.Kids.push(Ce),xt$1.call(this.scope,Ce),Ce};var wt$1=function(){mt$1.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=At$1.CheckBox.createAppearanceStream()};H(wt$1,mt$1);var Nt$1=function(){lt$1.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,13)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,13):this.Ff=Z$1(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,21)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,21):this.Ff=Z$1(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,23)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,23):this.Ff=Z$1(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,24)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,24):this.Ff=Z$1(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,25)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,25):this.Ff=Z$1(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,26)},set:function(Ce){Ce?this.Ff=K$1(this.Ff,26):this.Ff=Z$1(this.Ff,26)}});var Re=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(Ce){Re=Ce}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Ce){Number.isInteger(Ce)&&(Re=Ce)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};H(Nt$1,lt$1);var Lt$1=function(){Nt$1.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!X$1(this.Ff,14)},set:function(Re){Re?this.Ff=K$1(this.Ff,14):this.Ff=Z$1(this.Ff,14)}}),this.password=!0};H(Lt$1,Nt$1);var At$1={CheckBox:{createAppearanceStream:function(){return{N:{On:At$1.CheckBox.YesNormal},D:{On:At$1.CheckBox.YesPushDown,Off:At$1.CheckBox.OffPushDown}}},YesPushDown:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[],Be=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,De=Re.scope.__private__.encodeColorString(Re.color),Fe=tt$1(Re,Re.caption);return je.push("0.749023 g"),je.push("0 0 "+U$2(At$1.internal.getWidth(Re))+" "+U$2(At$1.internal.getHeight(Re))+" re"),je.push("f"),je.push("BMC"),je.push("q"),je.push("0 0 1 rg"),je.push("/"+Be+" "+U$2(Fe.fontSize)+" Tf "+De),je.push("BT"),je.push(Fe.text),je.push("ET"),je.push("Q"),je.push("EMC"),Ce.stream=je.join(`
`),Ce},YesNormal:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,Be=Re.scope.__private__.encodeColorString(Re.color),De=[],Fe=At$1.internal.getHeight(Re),ke=At$1.internal.getWidth(Re),Oe=tt$1(Re,Re.caption);return De.push("1 g"),De.push("0 0 "+U$2(ke)+" "+U$2(Fe)+" re"),De.push("f"),De.push("q"),De.push("0 0 1 rg"),De.push("0 0 "+U$2(ke-1)+" "+U$2(Fe-1)+" re"),De.push("W"),De.push("n"),De.push("0 g"),De.push("BT"),De.push("/"+je+" "+U$2(Oe.fontSize)+" Tf "+Be),De.push(Oe.text),De.push("ET"),De.push("Q"),Ce.stream=De.join(`
`),Ce},OffPushDown:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[];return je.push("0.749023 g"),je.push("0 0 "+U$2(At$1.internal.getWidth(Re))+" "+U$2(At$1.internal.getHeight(Re))+" re"),je.push("f"),Ce.stream=je.join(`
`),Ce}},RadioButton:{Circle:{createAppearanceStream:function(Re){var Ce={D:{Off:At$1.RadioButton.Circle.OffPushDown},N:{}};return Ce.N[Re]=At$1.RadioButton.Circle.YesNormal,Ce.D[Re]=At$1.RadioButton.Circle.YesPushDown,Ce},getCA:function(){return"l"},YesNormal:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[],Be=At$1.internal.getWidth(Re)<=At$1.internal.getHeight(Re)?At$1.internal.getWidth(Re)/4:At$1.internal.getHeight(Re)/4;Be=Number((.9*Be).toFixed(5));var De=At$1.internal.Bezier_C,Fe=Number((Be*De).toFixed(5));return je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Re)/2)+" "+z$1(At$1.internal.getHeight(Re)/2)+" cm"),je.push(Be+" 0 m"),je.push(Be+" "+Fe+" "+Fe+" "+Be+" 0 "+Be+" c"),je.push("-"+Fe+" "+Be+" -"+Be+" "+Fe+" -"+Be+" 0 c"),je.push("-"+Be+" -"+Fe+" -"+Fe+" -"+Be+" 0 -"+Be+" c"),je.push(Fe+" -"+Be+" "+Be+" -"+Fe+" "+Be+" 0 c"),je.push("f"),je.push("Q"),Ce.stream=je.join(`
`),Ce},YesPushDown:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[],Be=At$1.internal.getWidth(Re)<=At$1.internal.getHeight(Re)?At$1.internal.getWidth(Re)/4:At$1.internal.getHeight(Re)/4;Be=Number((.9*Be).toFixed(5));var De=Number((2*Be).toFixed(5)),Fe=Number((De*At$1.internal.Bezier_C).toFixed(5)),ke=Number((Be*At$1.internal.Bezier_C).toFixed(5));return je.push("0.749023 g"),je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Re)/2)+" "+z$1(At$1.internal.getHeight(Re)/2)+" cm"),je.push(De+" 0 m"),je.push(De+" "+Fe+" "+Fe+" "+De+" 0 "+De+" c"),je.push("-"+Fe+" "+De+" -"+De+" "+Fe+" -"+De+" 0 c"),je.push("-"+De+" -"+Fe+" -"+Fe+" -"+De+" 0 -"+De+" c"),je.push(Fe+" -"+De+" "+De+" -"+Fe+" "+De+" 0 c"),je.push("f"),je.push("Q"),je.push("0 g"),je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Re)/2)+" "+z$1(At$1.internal.getHeight(Re)/2)+" cm"),je.push(Be+" 0 m"),je.push(Be+" "+ke+" "+ke+" "+Be+" 0 "+Be+" c"),je.push("-"+ke+" "+Be+" -"+Be+" "+ke+" -"+Be+" 0 c"),je.push("-"+Be+" -"+ke+" -"+ke+" -"+Be+" 0 -"+Be+" c"),je.push(ke+" -"+Be+" "+Be+" -"+ke+" "+Be+" 0 c"),je.push("f"),je.push("Q"),Ce.stream=je.join(`
`),Ce},OffPushDown:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[],Be=At$1.internal.getWidth(Re)<=At$1.internal.getHeight(Re)?At$1.internal.getWidth(Re)/4:At$1.internal.getHeight(Re)/4;Be=Number((.9*Be).toFixed(5));var De=Number((2*Be).toFixed(5)),Fe=Number((De*At$1.internal.Bezier_C).toFixed(5));return je.push("0.749023 g"),je.push("q"),je.push("1 0 0 1 "+z$1(At$1.internal.getWidth(Re)/2)+" "+z$1(At$1.internal.getHeight(Re)/2)+" cm"),je.push(De+" 0 m"),je.push(De+" "+Fe+" "+Fe+" "+De+" 0 "+De+" c"),je.push("-"+Fe+" "+De+" -"+De+" "+Fe+" -"+De+" 0 c"),je.push("-"+De+" -"+Fe+" -"+Fe+" -"+De+" 0 -"+De+" c"),je.push(Fe+" -"+De+" "+De+" -"+Fe+" "+De+" 0 c"),je.push("f"),je.push("Q"),Ce.stream=je.join(`
`),Ce}},Cross:{createAppearanceStream:function(Re){var Ce={D:{Off:At$1.RadioButton.Cross.OffPushDown},N:{}};return Ce.N[Re]=At$1.RadioButton.Cross.YesNormal,Ce.D[Re]=At$1.RadioButton.Cross.YesPushDown,Ce},getCA:function(){return"8"},YesNormal:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[],Be=At$1.internal.calculateCross(Re);return je.push("q"),je.push("1 1 "+U$2(At$1.internal.getWidth(Re)-2)+" "+U$2(At$1.internal.getHeight(Re)-2)+" re"),je.push("W"),je.push("n"),je.push(U$2(Be.x1.x)+" "+U$2(Be.x1.y)+" m"),je.push(U$2(Be.x2.x)+" "+U$2(Be.x2.y)+" l"),je.push(U$2(Be.x4.x)+" "+U$2(Be.x4.y)+" m"),je.push(U$2(Be.x3.x)+" "+U$2(Be.x3.y)+" l"),je.push("s"),je.push("Q"),Ce.stream=je.join(`
`),Ce},YesPushDown:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=At$1.internal.calculateCross(Re),Be=[];return Be.push("0.749023 g"),Be.push("0 0 "+U$2(At$1.internal.getWidth(Re))+" "+U$2(At$1.internal.getHeight(Re))+" re"),Be.push("f"),Be.push("q"),Be.push("1 1 "+U$2(At$1.internal.getWidth(Re)-2)+" "+U$2(At$1.internal.getHeight(Re)-2)+" re"),Be.push("W"),Be.push("n"),Be.push(U$2(je.x1.x)+" "+U$2(je.x1.y)+" m"),Be.push(U$2(je.x2.x)+" "+U$2(je.x2.y)+" l"),Be.push(U$2(je.x4.x)+" "+U$2(je.x4.y)+" m"),Be.push(U$2(je.x3.x)+" "+U$2(je.x3.y)+" l"),Be.push("s"),Be.push("Q"),Ce.stream=Be.join(`
`),Ce},OffPushDown:function(Re){var Ce=V$2(Re);Ce.scope=Re.scope;var je=[];return je.push("0.749023 g"),je.push("0 0 "+U$2(At$1.internal.getWidth(Re))+" "+U$2(At$1.internal.getHeight(Re))+" re"),je.push("f"),Ce.stream=je.join(`
`),Ce}}},createDefaultAppearanceStream:function(Re){var Ce=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,je=Re.scope.__private__.encodeColorString(Re.color);return"/"+Ce+" "+Re.fontSize+" Tf "+je}};At$1.internal={Bezier_C:.551915024494,calculateCross:function(Re){var Ce=At$1.internal.getWidth(Re),je=At$1.internal.getHeight(Re),Be=Math.min(Ce,je);return{x1:{x:(Ce-Be)/2,y:(je-Be)/2+Be},x2:{x:(Ce-Be)/2+Be,y:(je-Be)/2},x3:{x:(Ce-Be)/2,y:(je-Be)/2},x4:{x:(Ce-Be)/2+Be,y:(je-Be)/2+Be}}}},At$1.internal.getWidth=function(Re){var Ce=0;return _typeof(Re)==="object"&&(Ce=W$2(Re.Rect[2])),Ce},At$1.internal.getHeight=function(Re){var Ce=0;return _typeof(Re)==="object"&&(Ce=W$2(Re.Rect[3])),Ce};var xt$1=q$1.addField=function(Re){if(at$1(this,Re),!(Re instanceof lt$1))throw new Error("Invalid argument passed to jsPDF.addField.");var Ce;return(Ce=Re).scope.internal.acroformPlugin.printedOut&&(Ce.scope.internal.acroformPlugin.printedOut=!1,Ce.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),Ce.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(Ce),Re.page=Re.scope.internal.getCurrentPageInfo().pageNumber,this};q$1.AcroFormChoiceField=ft,q$1.AcroFormListBox=dt,q$1.AcroFormComboBox=pt$1,q$1.AcroFormEditBox=gt$1,q$1.AcroFormButton=mt$1,q$1.AcroFormPushButton=vt$1,q$1.AcroFormRadioButton=bt$1,q$1.AcroFormCheckBox=wt$1,q$1.AcroFormTextField=Nt$1,q$1.AcroFormPasswordField=Lt$1,q$1.AcroFormAppearance=At$1,q$1.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt$1,EditBox:gt$1,Button:mt$1,PushButton:vt$1,RadioButton:bt$1,CheckBox:wt$1,TextField:Nt$1,PasswordField:Lt$1,Appearance:At$1};var St=E.AcroForm;function _t$1(Re){return Re.reduce((function(Ce,je,Be){return Ce[je]=Be,Ce}),{})}(function(Re){Re.__addimage__={};var Ce="UNKNOWN",je={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Be=Re.__addimage__.getImageFileTypeByImageData=function(fr,or){var yr,Cr,jr,vr,Tr,wr=Ce;if((or=or||Ce)==="RGBA"||fr.data!==void 0&&fr.data instanceof Uint8ClampedArray&&"height"in fr&&"width"in fr)return"RGBA";if(ar(fr))for(Tr in je)for(jr=je[Tr],yr=0;yr<jr.length;yr+=1){for(vr=!0,Cr=0;Cr<jr[yr].length;Cr+=1)if(jr[yr][Cr]!==void 0&&jr[yr][Cr]!==fr[Cr]){vr=!1;break}if(vr===!0){wr=Tr;break}}else for(Tr in je)for(jr=je[Tr],yr=0;yr<jr.length;yr+=1){for(vr=!0,Cr=0;Cr<jr[yr].length;Cr+=1)if(jr[yr][Cr]!==void 0&&jr[yr][Cr]!==fr.charCodeAt(Cr)){vr=!1;break}if(vr===!0){wr=Tr;break}}return wr===Ce&&or!==Ce&&(wr=or),wr},De=function fr(or){for(var yr=this.internal.write,Cr=this.internal.putStream,jr=(0,this.internal.getFilters)();jr.indexOf("FlateEncode")!==-1;)jr.splice(jr.indexOf("FlateEncode"),1);or.objectId=this.internal.newObject();var vr=[];if(vr.push({key:"Type",value:"/XObject"}),vr.push({key:"Subtype",value:"/Image"}),vr.push({key:"Width",value:or.width}),vr.push({key:"Height",value:or.height}),or.colorSpace===Xe.INDEXED?vr.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(or.palette.length/3-1)+" "+("sMask"in or&&or.sMask!==void 0?or.objectId+2:or.objectId+1)+" 0 R]"}):(vr.push({key:"ColorSpace",value:"/"+or.colorSpace}),or.colorSpace===Xe.DEVICE_CMYK&&vr.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),vr.push({key:"BitsPerComponent",value:or.bitsPerComponent}),"decodeParameters"in or&&or.decodeParameters!==void 0&&vr.push({key:"DecodeParms",value:"<<"+or.decodeParameters+">>"}),"transparency"in or&&Array.isArray(or.transparency)){for(var Tr="",wr=0,Er=or.transparency.length;wr<Er;wr++)Tr+=or.transparency[wr]+" "+or.transparency[wr]+" ";vr.push({key:"Mask",value:"["+Tr+"]"})}or.sMask!==void 0&&vr.push({key:"SMask",value:or.objectId+1+" 0 R"});var Pr=or.filter!==void 0?["/"+or.filter]:void 0;if(Cr({data:or.data,additionalKeyValues:vr,alreadyAppliedFilters:Pr,objectId:or.objectId}),yr("endobj"),"sMask"in or&&or.sMask!==void 0){var Mr="/Predictor "+or.predictor+" /Colors 1 /BitsPerComponent "+or.bitsPerComponent+" /Columns "+or.width,_r={width:or.width,height:or.height,colorSpace:"DeviceGray",bitsPerComponent:or.bitsPerComponent,decodeParameters:Mr,data:or.sMask};"filter"in or&&(_r.filter=or.filter),fr.call(this,_r)}if(or.colorSpace===Xe.INDEXED){var Ir=this.internal.newObject();Cr({data:nr(new Uint8Array(or.palette)),objectId:Ir}),yr("endobj")}},Fe=function(){var fr=this.internal.collections.addImage_images;for(var or in fr)De.call(this,fr[or])},ke=function(){var fr,or=this.internal.collections.addImage_images,yr=this.internal.write;for(var Cr in or)yr("/I"+(fr=or[Cr]).index,fr.objectId,"0","R")},Oe=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",Fe),this.internal.events.subscribe("putXobjectDict",ke))},Me=function(){var fr=this.internal.collections.addImage_images;return Oe.call(this),fr},Ue=function(){return Object.keys(this.internal.collections.addImage_images).length},$e=function(fr){return typeof Re["process"+fr.toUpperCase()]=="function"},He=function(fr){return _typeof(fr)==="object"&&fr.nodeType===1},Qe=function(fr,or){if(fr.nodeName==="IMG"&&fr.hasAttribute("src")){var yr=""+fr.getAttribute("src");if(yr.indexOf("data:image/")===0)return u$2(unescape(yr).split("base64,").pop());var Cr=Re.loadFile(yr,!0);if(Cr!==void 0)return Cr}if(fr.nodeName==="CANVAS"){if(fr.width===0||fr.height===0)throw new Error("Given canvas must have data. Canvas width: "+fr.width+", height: "+fr.height);var jr;switch(or){case"PNG":jr="image/png";break;case"WEBP":jr="image/webp";break;case"JPEG":case"JPG":default:jr="image/jpeg"}return u$2(fr.toDataURL(jr,1).split("base64,").pop())}},We=function(fr){var or=this.internal.collections.addImage_images;if(or){for(var yr in or)if(fr===or[yr].alias)return or[yr]}},qe=function(fr,or,yr){return fr||or||(fr=-96,or=-96),fr<0&&(fr=-1*yr.width*72/fr/this.internal.scaleFactor),or<0&&(or=-1*yr.height*72/or/this.internal.scaleFactor),fr===0&&(fr=or*yr.width/yr.height),or===0&&(or=fr*yr.height/yr.width),[fr,or]},Ke=function(fr,or,yr,Cr,jr,vr){var Tr=qe.call(this,yr,Cr,jr),wr=this.internal.getCoordinateString,Er=this.internal.getVerticalCoordinateString,Pr=Me.call(this);if(yr=Tr[0],Cr=Tr[1],Pr[jr.index]=jr,vr){vr*=Math.PI/180;var Mr=Math.cos(vr),_r=Math.sin(vr),Ir=function(Or){return Or.toFixed(4)},Dr=[Ir(Mr),Ir(_r),Ir(-1*_r),Ir(Mr),0,0,"cm"]}this.internal.write("q"),vr?(this.internal.write([1,"0","0",1,wr(fr),Er(or+Cr),"cm"].join(" ")),this.internal.write(Dr.join(" ")),this.internal.write([wr(yr),"0","0",wr(Cr),"0","0","cm"].join(" "))):this.internal.write([wr(yr),"0","0",wr(Cr),wr(fr),Er(or+Cr),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+jr.index+" Do"),this.internal.write("Q")},Xe=Re.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Re.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Ye=Re.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Ze=Re.__addimage__.sHashCode=function(fr){var or,yr,Cr=0;if(typeof fr=="string")for(yr=fr.length,or=0;or<yr;or++)Cr=(Cr<<5)-Cr+fr.charCodeAt(or),Cr|=0;else if(ar(fr))for(yr=fr.byteLength/2,or=0;or<yr;or++)Cr=(Cr<<5)-Cr+fr[or],Cr|=0;return Cr},Je=Re.__addimage__.validateStringAsBase64=function(fr){(fr=fr||"").toString().trim();var or=!0;return fr.length===0&&(or=!1),fr.length%4!=0&&(or=!1),/^[A-Za-z0-9+/]+$/.test(fr.substr(0,fr.length-2))===!1&&(or=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(fr.substr(-2))===!1&&(or=!1),or},tr=Re.__addimage__.extractImageFromDataUrl=function(fr){if(fr==null||!(fr=fr.trim()).startsWith("data:"))return null;var or=fr.indexOf(",");return or<0?null:fr.substring(0,or).trim().endsWith("base64")?fr.substring(or+1):null},rr=Re.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};Re.__addimage__.isArrayBuffer=function(fr){return rr()&&fr instanceof ArrayBuffer};var ar=Re.__addimage__.isArrayBufferView=function(fr){return rr()&&typeof Uint32Array<"u"&&(fr instanceof Int8Array||fr instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&fr instanceof Uint8ClampedArray||fr instanceof Int16Array||fr instanceof Uint16Array||fr instanceof Int32Array||fr instanceof Uint32Array||fr instanceof Float32Array||fr instanceof Float64Array)},ir=Re.__addimage__.binaryStringToUint8Array=function(fr){for(var or=fr.length,yr=new Uint8Array(or),Cr=0;Cr<or;Cr++)yr[Cr]=fr.charCodeAt(Cr);return yr},nr=Re.__addimage__.arrayBufferToBinaryString=function(fr){for(var or="",yr=ar(fr)?fr:new Uint8Array(fr),Cr=0;Cr<yr.length;Cr+=8192)or+=String.fromCharCode.apply(null,yr.subarray(Cr,Cr+8192));return or};Re.addImage=function(){var fr,or,yr,Cr,jr,vr,Tr,wr,Er;if(typeof arguments[1]=="number"?(or=Ce,yr=arguments[1],Cr=arguments[2],jr=arguments[3],vr=arguments[4],Tr=arguments[5],wr=arguments[6],Er=arguments[7]):(or=arguments[1],yr=arguments[2],Cr=arguments[3],jr=arguments[4],vr=arguments[5],Tr=arguments[6],wr=arguments[7],Er=arguments[8]),_typeof(fr=arguments[0])==="object"&&!He(fr)&&"imageData"in fr){var Pr=fr;fr=Pr.imageData,or=Pr.format||or||Ce,yr=Pr.x||yr||0,Cr=Pr.y||Cr||0,jr=Pr.w||Pr.width||jr,vr=Pr.h||Pr.height||vr,Tr=Pr.alias||Tr,wr=Pr.compression||wr,Er=Pr.rotation||Pr.angle||Er}var Mr=this.internal.getFilters();if(wr===void 0&&Mr.indexOf("FlateEncode")!==-1&&(wr="SLOW"),isNaN(yr)||isNaN(Cr))throw new Error("Invalid coordinates passed to jsPDF.addImage");Oe.call(this);var _r=cr.call(this,fr,or,Tr,wr);return Ke.call(this,yr,Cr,jr,vr,_r,Er),this};var cr=function(fr,or,yr,Cr){var jr,vr,Tr;if(typeof fr=="string"&&Be(fr)===Ce){fr=unescape(fr);var wr=mr(fr,!1);(wr!==""||(wr=Re.loadFile(fr,!0))!==void 0)&&(fr=wr)}if(He(fr)&&(fr=Qe(fr,or)),or=Be(fr,or),!$e(or))throw new Error("addImage does not support files of type '"+or+"', please ensure that a plugin for '"+or+"' support is added.");if(((Tr=yr)==null||Tr.length===0)&&(yr=(function(Er){return typeof Er=="string"||ar(Er)?Ze(Er):ar(Er.data)?Ze(Er.data):null})(fr)),(jr=We.call(this,yr))||(rr()&&(fr instanceof Uint8Array||or==="RGBA"||(vr=fr,fr=ir(fr))),jr=this["process"+or.toUpperCase()](fr,Ue.call(this),yr,(function(Er){return Er&&typeof Er=="string"&&(Er=Er.toUpperCase()),Er in Re.image_compression?Er:Ye.NONE})(Cr),vr)),!jr)throw new Error("An unknown error occurred whilst processing the image.");return jr},mr=Re.__addimage__.convertBase64ToBinaryString=function(fr,or){or=typeof or!="boolean"||or;var yr,Cr="";if(typeof fr=="string"){var jr;yr=(jr=tr(fr))!==null&&jr!==void 0?jr:fr;try{Cr=u$2(yr)}catch(vr){if(or)throw Je(yr)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+vr.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Cr};Re.getImageProperties=function(fr){var or,yr,Cr="";if(He(fr)&&(fr=Qe(fr)),typeof fr=="string"&&Be(fr)===Ce&&((Cr=mr(fr,!1))===""&&(Cr=Re.loadFile(fr)||""),fr=Cr),yr=Be(fr),!$e(yr))throw new Error("addImage does not support files of type '"+yr+"', please ensure that a plugin for '"+yr+"' support is added.");if(!rr()||fr instanceof Uint8Array||(fr=ir(fr)),!(or=this["process"+yr.toUpperCase()](fr)))throw new Error("An unknown error occurred whilst processing the image");return or.fileType=yr,or}})(E.API),(function(Re){var Ce=function(je){if(je!==void 0&&je!="")return!0};E.API.events.push(["addPage",function(je){this.internal.getPageInfo(je.pageNumber).pageContext.annotations=[]}]),Re.events.push(["putPage",function(je){for(var Be,De,Fe,ke=this.internal.getCoordinateString,Oe=this.internal.getVerticalCoordinateString,Me=this.internal.getPageInfoByObjId(je.objId),Ue=je.pageContext.annotations,$e=!1,He=0;He<Ue.length&&!$e;He++)switch((Be=Ue[He]).type){case"link":(Ce(Be.options.url)||Ce(Be.options.pageNumber))&&($e=!0);break;case"reference":case"text":case"freetext":$e=!0}if($e!=0){this.internal.write("/Annots [");for(var Qe=0;Qe<Ue.length;Qe++){Be=Ue[Qe];var We=this.internal.pdfEscape,qe=this.internal.getEncryptor(je.objId);switch(Be.type){case"reference":this.internal.write(" "+Be.object.objId+" 0 R ");break;case"text":var Ke=this.internal.newAdditionalObject(),Xe=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(Ke.objId),Ze=Be.title||"Note";Fe="<</Type /Annot /Subtype /Text "+(De="/Rect ["+ke(Be.bounds.x)+" "+Oe(Be.bounds.y+Be.bounds.h)+" "+ke(Be.bounds.x+Be.bounds.w)+" "+Oe(Be.bounds.y)+"] ")+"/Contents ("+We(Ye(Be.contents))+")",Fe+=" /Popup "+Xe.objId+" 0 R",Fe+=" /P "+Me.objId+" 0 R",Fe+=" /T ("+We(Ye(Ze))+") >>",Ke.content=Fe;var Je=Ke.objId+" 0 R";Fe="<</Type /Annot /Subtype /Popup "+(De="/Rect ["+ke(Be.bounds.x+30)+" "+Oe(Be.bounds.y+Be.bounds.h)+" "+ke(Be.bounds.x+Be.bounds.w+30)+" "+Oe(Be.bounds.y)+"] ")+" /Parent "+Je,Be.open&&(Fe+=" /Open true"),Fe+=" >>",Xe.content=Fe,this.internal.write(Ke.objId,"0 R",Xe.objId,"0 R");break;case"freetext":De="/Rect ["+ke(Be.bounds.x)+" "+Oe(Be.bounds.y)+" "+ke(Be.bounds.x+Be.bounds.w)+" "+Oe(Be.bounds.y+Be.bounds.h)+"] ";var tr=Be.color||"#000000";Fe="<</Type /Annot /Subtype /FreeText "+De+"/Contents ("+We(qe(Be.contents))+")",Fe+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+tr+")",Fe+=" /Border [0 0 0]",Fe+=" >>",this.internal.write(Fe);break;case"link":if(Be.options.name){var rr=this.annotations._nameMap[Be.options.name];Be.options.pageNumber=rr.page,Be.options.top=rr.y}else Be.options.top||(Be.options.top=0);if(De="/Rect ["+Be.finalBounds.x+" "+Be.finalBounds.y+" "+Be.finalBounds.w+" "+Be.finalBounds.h+"] ",Fe="",Be.options.url)Fe="<</Type /Annot /Subtype /Link "+De+"/Border [0 0 0] /A <</S /URI /URI ("+We(qe(Be.options.url))+") >>";else if(Be.options.pageNumber)switch(Fe="<</Type /Annot /Subtype /Link "+De+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Be.options.pageNumber).objId+" 0 R",Be.options.magFactor=Be.options.magFactor||"XYZ",Be.options.magFactor){case"Fit":Fe+=" /Fit]";break;case"FitH":Fe+=" /FitH "+Be.options.top+"]";break;case"FitV":Be.options.left=Be.options.left||0,Fe+=" /FitV "+Be.options.left+"]";break;case"XYZ":default:var ar=Oe(Be.options.top);Be.options.left=Be.options.left||0,Be.options.zoom===void 0&&(Be.options.zoom=0),Fe+=" /XYZ "+Be.options.left+" "+ar+" "+Be.options.zoom+"]"}Fe!=""&&(Fe+=" >>",this.internal.write(Fe))}}this.internal.write("]")}}]),Re.createAnnotation=function(je){var Be=this.internal.getCurrentPageInfo();switch(je.type){case"link":this.link(je.bounds.x,je.bounds.y,je.bounds.w,je.bounds.h,je);break;case"text":case"freetext":Be.pageContext.annotations.push(je)}},Re.link=function(je,Be,De,Fe,ke){var Oe=this.internal.getCurrentPageInfo(),Me=this.internal.getCoordinateString,Ue=this.internal.getVerticalCoordinateString;Oe.pageContext.annotations.push({finalBounds:{x:Me(je),y:Ue(Be),w:Me(je+De),h:Ue(Be+Fe)},options:ke,type:"link"})},Re.textWithLink=function(je,Be,De,Fe){var ke,Oe,Me=this.getTextWidth(je),Ue=this.internal.getLineHeight()/this.internal.scaleFactor;if(Fe.maxWidth!==void 0){Oe=Fe.maxWidth;var $e=this.splitTextToSize(je,Oe).length;ke=Math.ceil(Ue*$e)}else Oe=Me,ke=Ue;return this.text(je,Be,De,Fe),De+=.2*Ue,Fe.align==="center"&&(Be-=Me/2),Fe.align==="right"&&(Be-=Me),this.link(Be,De-Ue,Oe,ke,Fe),Me},Re.getTextWidth=function(je){var Be=this.internal.getFontSize();return this.getStringUnitWidth(je)*Be/this.internal.scaleFactor}})(E.API),(function(Re){var Ce={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},je={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Be={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},De=[1570,1571,1573,1575];Re.__arabicParser__={};var Fe=Re.__arabicParser__.isInArabicSubstitutionA=function(Ke){return Ce[Ke.charCodeAt(0)]!==void 0},ke=Re.__arabicParser__.isArabicLetter=function(Ke){return typeof Ke=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ke)},Oe=Re.__arabicParser__.isArabicEndLetter=function(Ke){return ke(Ke)&&Fe(Ke)&&Ce[Ke.charCodeAt(0)].length<=2},Me=Re.__arabicParser__.isArabicAlfLetter=function(Ke){return ke(Ke)&&De.indexOf(Ke.charCodeAt(0))>=0};Re.__arabicParser__.arabicLetterHasIsolatedForm=function(Ke){return ke(Ke)&&Fe(Ke)&&Ce[Ke.charCodeAt(0)].length>=1};var Ue=Re.__arabicParser__.arabicLetterHasFinalForm=function(Ke){return ke(Ke)&&Fe(Ke)&&Ce[Ke.charCodeAt(0)].length>=2};Re.__arabicParser__.arabicLetterHasInitialForm=function(Ke){return ke(Ke)&&Fe(Ke)&&Ce[Ke.charCodeAt(0)].length>=3};var $e=Re.__arabicParser__.arabicLetterHasMedialForm=function(Ke){return ke(Ke)&&Fe(Ke)&&Ce[Ke.charCodeAt(0)].length==4},He=Re.__arabicParser__.resolveLigatures=function(Ke){var Xe=0,Ye=je,Ze="",Je=0;for(Xe=0;Xe<Ke.length;Xe+=1)Ye[Ke.charCodeAt(Xe)]!==void 0?(Je++,typeof(Ye=Ye[Ke.charCodeAt(Xe)])=="number"&&(Ze+=String.fromCharCode(Ye),Ye=je,Je=0),Xe===Ke.length-1&&(Ye=je,Ze+=Ke.charAt(Xe-(Je-1)),Xe-=Je-1,Je=0)):(Ye=je,Ze+=Ke.charAt(Xe-Je),Xe-=Je,Je=0);return Ze};Re.__arabicParser__.isArabicDiacritic=function(Ke){return Ke!==void 0&&Be[Ke.charCodeAt(0)]!==void 0};var Qe=Re.__arabicParser__.getCorrectForm=function(Ke,Xe,Ye){return ke(Ke)?Fe(Ke)===!1?-1:!Ue(Ke)||!ke(Xe)&&!ke(Ye)||!ke(Ye)&&Oe(Xe)||Oe(Ke)&&!ke(Xe)||Oe(Ke)&&Me(Xe)||Oe(Ke)&&Oe(Xe)?0:$e(Ke)&&ke(Xe)&&!Oe(Xe)&&ke(Ye)&&Ue(Ye)?3:Oe(Ke)||!ke(Ye)?1:2:-1},We=function(Ke){var Xe=0,Ye=0,Ze=0,Je="",tr="",rr="",ar=(Ke=Ke||"").split("\\s+"),ir=[];for(Xe=0;Xe<ar.length;Xe+=1){for(ir.push(""),Ye=0;Ye<ar[Xe].length;Ye+=1)Je=ar[Xe][Ye],tr=ar[Xe][Ye-1],rr=ar[Xe][Ye+1],ke(Je)?(Ze=Qe(Je,tr,rr),ir[Xe]+=Ze!==-1?String.fromCharCode(Ce[Je.charCodeAt(0)][Ze]):Je):ir[Xe]+=Je;ir[Xe]=He(ir[Xe])}return ir.join(" ")},qe=Re.__arabicParser__.processArabic=Re.processArabic=function(){var Ke,Xe=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(Xe)){var Ze=0;for(Ye=[],Ze=0;Ze<Xe.length;Ze+=1)Array.isArray(Xe[Ze])?Ye.push([We(Xe[Ze][0]),Xe[Ze][1],Xe[Ze][2]]):Ye.push([We(Xe[Ze])]);Ke=Ye}else Ke=We(Xe);return typeof arguments[0]=="string"?Ke:(arguments[0].text=Ke,arguments[0])};Re.events.push(["preProcessText",qe])})(E.API),E.API.autoPrint=function(Re){var Ce;switch((Re=Re||{}).variant=Re.variant||"non-conform",Re.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",(function(){Ce=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){this.internal.out("/OpenAction "+Ce+" 0 R")}))}return this},(function(Re){var Ce=function(){var je=void 0;Object.defineProperty(this,"pdf",{get:function(){return je},set:function(Oe){je=Oe}});var Be=150;Object.defineProperty(this,"width",{get:function(){return Be},set:function(Oe){Be=isNaN(Oe)||Number.isInteger(Oe)===!1||Oe<0?150:Oe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Be+1)}});var De=300;Object.defineProperty(this,"height",{get:function(){return De},set:function(Oe){De=isNaN(Oe)||Number.isInteger(Oe)===!1||Oe<0?300:Oe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=De+1)}});var Fe=[];Object.defineProperty(this,"childNodes",{get:function(){return Fe},set:function(Oe){Fe=Oe}});var ke={};Object.defineProperty(this,"style",{get:function(){return ke},set:function(Oe){ke=Oe}}),Object.defineProperty(this,"parentNode",{})};Ce.prototype.getContext=function(je,Be){var De;if((je=je||"2d")!=="2d")return null;for(De in Be)this.pdf.context2d.hasOwnProperty(De)&&(this.pdf.context2d[De]=Be[De]);return this.pdf.context2d._canvas=this,this.pdf.context2d},Ce.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Re.events.push(["initialized",function(){this.canvas=new Ce,this.canvas.pdf=this}])})(E.API),(function(Re){var Ce={left:0,top:0,bottom:0,right:0},je=!1,Be=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},Ce),this.internal.__cell__.margins.width=this.getPageWidth(),De.call(this))},De=function(){this.internal.__cell__.lastCell=new Fe,this.internal.__cell__.pages=1},Fe=function(){var Me=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Me},set:function(Ke){Me=Ke}});var Ue=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ue},set:function(Ke){Ue=Ke}});var $e=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return $e},set:function(Ke){$e=Ke}});var He=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return He},set:function(Ke){He=Ke}});var Qe=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return Qe},set:function(Ke){Qe=Ke}});var We=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return We},set:function(Ke){We=Ke}});var qe=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return qe},set:function(Ke){qe=Ke}}),this};Fe.prototype.clone=function(){return new Fe(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},Fe.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Re.setHeaderFunction=function(Me){return Be.call(this),this.internal.__cell__.headerFunction=typeof Me=="function"?Me:void 0,this},Re.getTextDimensions=function(Me,Ue){Be.call(this);var $e=(Ue=Ue||{}).fontSize||this.getFontSize(),He=Ue.font||this.getFont(),Qe=Ue.scaleFactor||this.internal.scaleFactor,We=0,qe=0,Ke=0,Xe=this;if(!Array.isArray(Me)&&typeof Me!="string"){if(typeof Me!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Me=String(Me)}var Ye=Ue.maxWidth;Ye>0?typeof Me=="string"?Me=this.splitTextToSize(Me,Ye):Object.prototype.toString.call(Me)==="[object Array]"&&(Me=Me.reduce((function(Je,tr){return Je.concat(Xe.splitTextToSize(tr,Ye))}),[])):Me=Array.isArray(Me)?Me:[Me];for(var Ze=0;Ze<Me.length;Ze++)We<(Ke=this.getStringUnitWidth(Me[Ze],{font:He})*$e)&&(We=Ke);return We!==0&&(qe=Me.length),{w:We/=Qe,h:Math.max((qe*$e*this.getLineHeightFactor()-$e*(this.getLineHeightFactor()-1))/Qe,0)}},Re.cellAddPage=function(){Be.call(this),this.addPage();var Me=this.internal.__cell__.margins||Ce;return this.internal.__cell__.lastCell=new Fe(Me.left,Me.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var ke=Re.cell=function(){var Me;Me=arguments[0]instanceof Fe?arguments[0]:new Fe(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),Be.call(this);var Ue=this.internal.__cell__.lastCell,$e=this.internal.__cell__.padding,He=this.internal.__cell__.margins||Ce,Qe=this.internal.__cell__.tableHeaderRow,We=this.internal.__cell__.printHeaders;return Ue.lineNumber!==void 0&&(Ue.lineNumber===Me.lineNumber?(Me.x=(Ue.x||0)+(Ue.width||0),Me.y=Ue.y||0):Ue.y+Ue.height+Me.height+He.bottom>this.getPageHeight()?(this.cellAddPage(),Me.y=He.top,We&&Qe&&(this.printHeaderRow(Me.lineNumber,!0),Me.y+=Qe[0].height)):Me.y=Ue.y+Ue.height||Me.y),Me.text[0]!==void 0&&(this.rect(Me.x,Me.y,Me.width,Me.height,je===!0?"FD":void 0),Me.align==="right"?this.text(Me.text,Me.x+Me.width-$e,Me.y+$e,{align:"right",baseline:"top"}):Me.align==="center"?this.text(Me.text,Me.x+Me.width/2,Me.y+$e,{align:"center",baseline:"top",maxWidth:Me.width-$e-$e}):this.text(Me.text,Me.x+$e,Me.y+$e,{align:"left",baseline:"top",maxWidth:Me.width-$e-$e})),this.internal.__cell__.lastCell=Me,this};Re.table=function(Me,Ue,$e,He,Qe){if(Be.call(this),!$e)throw new Error("No data for PDF table.");var We,qe,Ke,Xe,Ye=[],Ze=[],Je=[],tr={},rr={},ar=[],ir=[],nr=(Qe=Qe||{}).autoSize||!1,cr=Qe.printHeaders!==!1,mr=Qe.css&&Qe.css["font-size"]!==void 0?16*Qe.css["font-size"]:Qe.fontSize||12,fr=Qe.margins||Object.assign({width:this.getPageWidth()},Ce),or=typeof Qe.padding=="number"?Qe.padding:3,yr=Qe.headerBackgroundColor||"#c8c8c8",Cr=Qe.headerTextColor||"#000";if(De.call(this),this.internal.__cell__.printHeaders=cr,this.internal.__cell__.margins=fr,this.internal.__cell__.table_font_size=mr,this.internal.__cell__.padding=or,this.internal.__cell__.headerBackgroundColor=yr,this.internal.__cell__.headerTextColor=Cr,this.setFontSize(mr),He==null)Ze=Ye=Object.keys($e[0]),Je=Ye.map((function(){return"left"}));else if(Array.isArray(He)&&_typeof(He[0])==="object")for(Ye=He.map((function(Pr){return Pr.name})),Ze=He.map((function(Pr){return Pr.prompt||Pr.name||""})),Je=He.map((function(Pr){return Pr.align||"left"})),We=0;We<He.length;We+=1)rr[He[We].name]=He[We].width*(19.049976/25.4);else Array.isArray(He)&&typeof He[0]=="string"&&(Ze=Ye=He,Je=Ye.map((function(){return"left"})));if(nr||Array.isArray(He)&&typeof He[0]=="string")for(We=0;We<Ye.length;We+=1){for(tr[Xe=Ye[We]]=$e.map((function(Pr){return Pr[Xe]})),this.setFont(void 0,"bold"),ar.push(this.getTextDimensions(Ze[We],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),qe=tr[Xe],this.setFont(void 0,"normal"),Ke=0;Ke<qe.length;Ke+=1)ar.push(this.getTextDimensions(qe[Ke],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);rr[Xe]=Math.max.apply(null,ar)+or+or,ar=[]}if(cr){var jr={};for(We=0;We<Ye.length;We+=1)jr[Ye[We]]={},jr[Ye[We]].text=Ze[We],jr[Ye[We]].align=Je[We];var vr=Oe.call(this,jr,rr);ir=Ye.map((function(Pr){return new Fe(Me,Ue,rr[Pr],vr,jr[Pr].text,void 0,jr[Pr].align)})),this.setTableHeaderRow(ir),this.printHeaderRow(1,!1)}var Tr=He.reduce((function(Pr,Mr){return Pr[Mr.name]=Mr.align,Pr}),{});for(We=0;We<$e.length;We+=1){"rowStart"in Qe&&Qe.rowStart instanceof Function&&Qe.rowStart({row:We,data:$e[We]},this);var wr=Oe.call(this,$e[We],rr);for(Ke=0;Ke<Ye.length;Ke+=1){var Er=$e[We][Ye[Ke]];"cellStart"in Qe&&Qe.cellStart instanceof Function&&Qe.cellStart({row:We,col:Ke,data:Er},this),ke.call(this,new Fe(Me,Ue,rr[Ye[Ke]],wr,Er,We+2,Tr[Ye[Ke]]))}}return this.internal.__cell__.table_x=Me,this.internal.__cell__.table_y=Ue,this};var Oe=function(Me,Ue){var $e=this.internal.__cell__.padding,He=this.internal.__cell__.table_font_size,Qe=this.internal.scaleFactor;return Object.keys(Me).map((function(We){var qe=Me[We];return this.splitTextToSize(qe.hasOwnProperty("text")?qe.text:qe,Ue[We]-$e-$e)}),this).map((function(We){return this.getLineHeightFactor()*We.length*He/Qe+$e+$e}),this).reduce((function(We,qe){return Math.max(We,qe)}),0)};Re.setTableHeaderRow=function(Me){Be.call(this),this.internal.__cell__.tableHeaderRow=Me},Re.printHeaderRow=function(Me,Ue){if(Be.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var $e;if(je=!0,typeof this.internal.__cell__.headerFunction=="function"){var He=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new Fe(He[0],He[1],He[2],He[3],void 0,-1)}this.setFont(void 0,"bold");for(var Qe=[],We=0;We<this.internal.__cell__.tableHeaderRow.length;We+=1){$e=this.internal.__cell__.tableHeaderRow[We].clone(),Ue&&($e.y=this.internal.__cell__.margins.top||0,Qe.push($e)),$e.lineNumber=Me;var qe=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),ke.call(this,$e),this.setTextColor(qe)}Qe.length>0&&this.setTableHeaderRow(Qe),this.setFont(void 0,"normal"),je=!1}})(E.API);var Pt$1={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],It$1=_t$1(kt),Ft=[100,200,300,400,500,600,700,800,900],Ct$1=_t$1(Ft);function jt(Re){var Ce=Re.family.replace(/"|'/g,"").toLowerCase(),je=(function(Fe){return Pt$1[Fe=Fe||"normal"]?Fe:"normal"})(Re.style),Be=(function(Fe){if(!Fe)return 400;if(typeof Fe=="number")return Fe>=100&&Fe<=900&&Fe%100==0?Fe:400;if(/^\d00$/.test(Fe))return parseInt(Fe);switch(Fe){case"bold":return 700;case"normal":default:return 400}})(Re.weight),De=(function(Fe){return typeof It$1[Fe=Fe||"normal"]=="number"?Fe:"normal"})(Re.stretch);return{family:Ce,style:je,weight:Be,stretch:De,src:Re.src||[],ref:Re.ref||{name:Ce,style:[De,je,Be].join(" ")}}}function Ot$1(Re,Ce,je,Be){var De;for(De=je;De>=0&&De<Ce.length;De+=Be)if(Re[Ce[De]])return Re[Ce[De]];for(De=je;De>=0&&De<Ce.length;De-=Be)if(Re[Ce[De]])return Re[Ce[De]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt$1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Et$1(Re){return[Re.stretch,Re.style,Re.weight,Re.family].join(" ")}function qt$1(Re,Ce,je){for(var Be=(je=je||{}).defaultFontFamily||"times",De=Object.assign({},Bt,je.genericFontFamilies||{}),Fe=null,ke=null,Oe=0;Oe<Ce.length;++Oe)if(De[(Fe=jt(Ce[Oe])).family]&&(Fe.family=De[Fe.family]),Re.hasOwnProperty(Fe.family)){ke=Re[Fe.family];break}if(!(ke=ke||Re[Be]))throw new Error("Could not find a font-family for the rule '"+Et$1(Fe)+"' and default family '"+Be+"'.");if(ke=(function(Me,Ue){if(Ue[Me])return Ue[Me];var $e=It$1[Me],He=$e<=It$1.normal?-1:1,Qe=Ot$1(Ue,kt,$e,He);if(!Qe)throw new Error("Could not find a matching font-stretch value for "+Me);return Qe})(Fe.stretch,ke),ke=(function(Me,Ue){if(Ue[Me])return Ue[Me];for(var $e=Pt$1[Me],He=0;He<$e.length;++He)if(Ue[$e[He]])return Ue[$e[He]];throw new Error("Could not find a matching font-style for "+Me)})(Fe.style,ke),!(ke=(function(Me,Ue){if(Ue[Me])return Ue[Me];if(Me===400&&Ue[500])return Ue[500];if(Me===500&&Ue[400])return Ue[400];var $e=Ct$1[Me],He=Ot$1(Ue,Ft,$e,Me<400?-1:1);if(!He)throw new Error("Could not find a matching font-weight for value "+Me);return He})(Fe.weight,ke)))throw new Error("Failed to resolve a font for the rule '"+Et$1(Fe)+"'.");return ke}function Dt(Re){return Re.trimLeft()}function Rt(Re,Ce){for(var je=0;je<Re.length;){if(Re.charAt(je)===Ce)return[Re.substring(0,je),Re.substring(je+1)];je+=1}return null}function Tt(Re){var Ce=Re.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return Ce===null?null:[Ce[0],Re.substring(Ce[0].length)]}var Ut,zt,Ht,Wt$1=["times"];(function(Re){var Ce,je,Be,De,Fe,ke,Oe,Me,Ue,$e=function(_r){return _r=_r||{},this.isStrokeTransparent=_r.isStrokeTransparent||!1,this.strokeOpacity=_r.strokeOpacity||1,this.strokeStyle=_r.strokeStyle||"#000000",this.fillStyle=_r.fillStyle||"#000000",this.isFillTransparent=_r.isFillTransparent||!1,this.fillOpacity=_r.fillOpacity||1,this.font=_r.font||"10px sans-serif",this.textBaseline=_r.textBaseline||"alphabetic",this.textAlign=_r.textAlign||"left",this.lineWidth=_r.lineWidth||1,this.lineJoin=_r.lineJoin||"miter",this.lineCap=_r.lineCap||"butt",this.path=_r.path||[],this.transform=_r.transform!==void 0?_r.transform.clone():new Me,this.globalCompositeOperation=_r.globalCompositeOperation||"normal",this.globalAlpha=_r.globalAlpha||1,this.clip_path=_r.clip_path||[],this.currentPoint=_r.currentPoint||new ke,this.miterLimit=_r.miterLimit||10,this.lastPoint=_r.lastPoint||new ke,this.lineDashOffset=_r.lineDashOffset||0,this.lineDash=_r.lineDash||[],this.margin=_r.margin||[0,0,0,0],this.prevPageLastElemOffset=_r.prevPageLastElemOffset||0,this.ignoreClearRect=typeof _r.ignoreClearRect!="boolean"||_r.ignoreClearRect,this};Re.events.push(["initialized",function(){this.context2d=new He(this),Ce=this.internal.f2,je=this.internal.getCoordinateString,Be=this.internal.getVerticalCoordinateString,De=this.internal.getHorizontalCoordinate,Fe=this.internal.getVerticalCoordinate,ke=this.internal.Point,Oe=this.internal.Rectangle,Me=this.internal.Matrix,Ue=new $e}]);var He=function(_r){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Ir=_r;Object.defineProperty(this,"pdf",{get:function(){return Ir}});var Dr=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Dr},set:function(yn){Dr=!!yn}});var Or=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Or},set:function(yn){Or=!!yn}});var br=0;Object.defineProperty(this,"posX",{get:function(){return br},set:function(yn){isNaN(yn)||(br=yn)}});var Ur=0;Object.defineProperty(this,"posY",{get:function(){return Ur},set:function(yn){isNaN(yn)||(Ur=yn)}}),Object.defineProperty(this,"margin",{get:function(){return Ue.margin},set:function(yn){var Zr;typeof yn=="number"?Zr=[yn,yn,yn,yn]:((Zr=new Array(4))[0]=yn[0],Zr[1]=yn.length>=2?yn[1]:Zr[0],Zr[2]=yn.length>=3?yn[2]:Zr[0],Zr[3]=yn.length>=4?yn[3]:Zr[1]),Ue.margin=Zr}});var Qr=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Qr},set:function(yn){Qr=yn}});var zr=0;Object.defineProperty(this,"lastBreak",{get:function(){return zr},set:function(yn){zr=yn}});var Gr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Gr},set:function(yn){Gr=yn}}),Object.defineProperty(this,"ctx",{get:function(){return Ue},set:function(yn){yn instanceof $e&&(Ue=yn)}}),Object.defineProperty(this,"path",{get:function(){return Ue.path},set:function(yn){Ue.path=yn}});var fn=[];Object.defineProperty(this,"ctxStack",{get:function(){return fn},set:function(yn){fn=yn}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(yn){var Zr;Zr=Qe(yn),this.ctx.fillStyle=Zr.style,this.ctx.isFillTransparent=Zr.a===0,this.ctx.fillOpacity=Zr.a,this.pdf.setFillColor(Zr.r,Zr.g,Zr.b,{a:Zr.a}),this.pdf.setTextColor(Zr.r,Zr.g,Zr.b,{a:Zr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(yn){var Zr=Qe(yn);this.ctx.strokeStyle=Zr.style,this.ctx.isStrokeTransparent=Zr.a===0,this.ctx.strokeOpacity=Zr.a,Zr.a===0?this.pdf.setDrawColor(255,255,255):(Zr.a,this.pdf.setDrawColor(Zr.r,Zr.g,Zr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(yn){["butt","round","square"].indexOf(yn)!==-1&&(this.ctx.lineCap=yn,this.pdf.setLineCap(yn))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(yn){isNaN(yn)||(this.ctx.lineWidth=yn,this.pdf.setLineWidth(yn))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(yn){["bevel","round","miter"].indexOf(yn)!==-1&&(this.ctx.lineJoin=yn,this.pdf.setLineJoin(yn))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(yn){isNaN(yn)||(this.ctx.miterLimit=yn,this.pdf.setMiterLimit(yn))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(yn){this.ctx.textBaseline=yn}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(yn){["right","end","center","left","start"].indexOf(yn)!==-1&&(this.ctx.textAlign=yn)}});var nn=null;function bn(yn,Zr){if(nn===null){var Rn=(function(ri){var Yn=[];return Object.keys(ri).forEach((function(ti){ri[ti].forEach((function(ei){var Gn=null;switch(ei){case"bold":Gn={family:ti,weight:"bold"};break;case"italic":Gn={family:ti,style:"italic"};break;case"bolditalic":Gn={family:ti,weight:"bold",style:"italic"};break;case"":case"normal":Gn={family:ti}}Gn!==null&&(Gn.ref={name:ti,style:ei},Yn.push(Gn))}))})),Yn})(yn.getFontList());nn=(function(ri){for(var Yn={},ti=0;ti<ri.length;++ti){var ei=jt(ri[ti]),Gn=ei.family,Ei=ei.stretch,Ci=ei.style,Fi=ei.weight;Yn[Gn]=Yn[Gn]||{},Yn[Gn][Ei]=Yn[Gn][Ei]||{},Yn[Gn][Ei][Ci]=Yn[Gn][Ei][Ci]||{},Yn[Gn][Ei][Ci][Fi]=ei}return Yn})(Rn.concat(Zr))}return nn}var hn=null;Object.defineProperty(this,"fontFaces",{get:function(){return hn},set:function(yn){nn=null,hn=yn}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(yn){var Zr;if(this.ctx.font=yn,(Zr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(yn))!==null){var Rn=Zr[1];Zr[2];var ri=Zr[3],Yn=Zr[4];Zr[5];var ti=Zr[6],ei=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Yn)[2];Yn=Math.floor(ei==="px"?parseFloat(Yn)*this.pdf.internal.scaleFactor:ei==="em"?parseFloat(Yn)*this.pdf.getFontSize():parseFloat(Yn)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Yn);var Gn=(function(wi){var En,an,On=[],Mn=wi.trim();if(Mn==="")return Wt$1;if(Mn in Mt$1)return[Mt$1[Mn]];for(;Mn!=="";){switch(an=null,En=(Mn=Dt(Mn)).charAt(0)){case'"':case"'":an=Rt(Mn.substring(1),En);break;default:an=Tt(Mn)}if(an===null||(On.push(an[0]),(Mn=Dt(an[1]))!==""&&Mn.charAt(0)!==","))return Wt$1;Mn=Mn.replace(/^,/,"")}return On})(ti);if(this.fontFaces){var Ei=qt$1(bn(this.pdf,this.fontFaces),Gn.map((function(wi){return{family:wi,stretch:"normal",weight:ri,style:Rn}})));this.pdf.setFont(Ei.ref.name,Ei.ref.style)}else{var Ci="";(ri==="bold"||parseInt(ri,10)>=700||Rn==="bold")&&(Ci="bold"),Rn==="italic"&&(Ci+="italic"),Ci.length===0&&(Ci="normal");for(var Fi="",Si={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ti=0;Ti<Gn.length;Ti++){if(this.pdf.internal.getFont(Gn[Ti],Ci,{noFallback:!0,disableWarning:!0})!==void 0){Fi=Gn[Ti];break}if(Ci==="bolditalic"&&this.pdf.internal.getFont(Gn[Ti],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Fi=Gn[Ti],Ci="bold";else if(this.pdf.internal.getFont(Gn[Ti],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Fi=Gn[Ti],Ci="normal";break}}if(Fi===""){for(var ji=0;ji<Gn.length;ji++)if(Si[Gn[ji]]){Fi=Si[Gn[ji]];break}}Fi=Fi===""?"Times":Fi,this.pdf.setFont(Fi,Ci)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(yn){this.ctx.globalCompositeOperation=yn}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(yn){this.ctx.globalAlpha=yn}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(yn){this.ctx.lineDashOffset=yn,Mr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(yn){this.ctx.lineDash=yn,Mr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(yn){this.ctx.ignoreClearRect=!!yn}})};He.prototype.setLineDash=function(_r){this.lineDash=_r},He.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},He.prototype.fill=function(){tr.call(this,"fill",!1)},He.prototype.stroke=function(){tr.call(this,"stroke",!1)},He.prototype.beginPath=function(){this.path=[{type:"begin"}]},He.prototype.moveTo=function(_r,Ir){if(isNaN(_r)||isNaN(Ir))throw a$2.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Dr=this.ctx.transform.applyToPoint(new ke(_r,Ir));this.path.push({type:"mt",x:Dr.x,y:Dr.y}),this.ctx.lastPoint=new ke(_r,Ir)},He.prototype.closePath=function(){var _r=new ke(0,0),Ir=0;for(Ir=this.path.length-1;Ir!==-1;Ir--)if(this.path[Ir].type==="begin"&&_typeof(this.path[Ir+1])==="object"&&typeof this.path[Ir+1].x=="number"){_r=new ke(this.path[Ir+1].x,this.path[Ir+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new ke(_r.x,_r.y)},He.prototype.lineTo=function(_r,Ir){if(isNaN(_r)||isNaN(Ir))throw a$2.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Dr=this.ctx.transform.applyToPoint(new ke(_r,Ir));this.path.push({type:"lt",x:Dr.x,y:Dr.y}),this.ctx.lastPoint=new ke(Dr.x,Dr.y)},He.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),tr.call(this,null,!0)},He.prototype.quadraticCurveTo=function(_r,Ir,Dr,Or){if(isNaN(Dr)||isNaN(Or)||isNaN(_r)||isNaN(Ir))throw a$2.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var br=this.ctx.transform.applyToPoint(new ke(Dr,Or)),Ur=this.ctx.transform.applyToPoint(new ke(_r,Ir));this.path.push({type:"qct",x1:Ur.x,y1:Ur.y,x:br.x,y:br.y}),this.ctx.lastPoint=new ke(br.x,br.y)},He.prototype.bezierCurveTo=function(_r,Ir,Dr,Or,br,Ur){if(isNaN(br)||isNaN(Ur)||isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or))throw a$2.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Qr=this.ctx.transform.applyToPoint(new ke(br,Ur)),zr=this.ctx.transform.applyToPoint(new ke(_r,Ir)),Gr=this.ctx.transform.applyToPoint(new ke(Dr,Or));this.path.push({type:"bct",x1:zr.x,y1:zr.y,x2:Gr.x,y2:Gr.y,x:Qr.x,y:Qr.y}),this.ctx.lastPoint=new ke(Qr.x,Qr.y)},He.prototype.arc=function(_r,Ir,Dr,Or,br,Ur){if(isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or)||isNaN(br))throw a$2.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ur=!!Ur,!this.ctx.transform.isIdentity){var Qr=this.ctx.transform.applyToPoint(new ke(_r,Ir));_r=Qr.x,Ir=Qr.y;var zr=this.ctx.transform.applyToPoint(new ke(0,Dr)),Gr=this.ctx.transform.applyToPoint(new ke(0,0));Dr=Math.sqrt(Math.pow(zr.x-Gr.x,2)+Math.pow(zr.y-Gr.y,2))}Math.abs(br-Or)>=2*Math.PI&&(Or=0,br=2*Math.PI),this.path.push({type:"arc",x:_r,y:Ir,radius:Dr,startAngle:Or,endAngle:br,counterclockwise:Ur})},He.prototype.arcTo=function(_r,Ir,Dr,Or,br){throw new Error("arcTo not implemented.")},He.prototype.rect=function(_r,Ir,Dr,Or){if(isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or))throw a$2.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(_r,Ir),this.lineTo(_r+Dr,Ir),this.lineTo(_r+Dr,Ir+Or),this.lineTo(_r,Ir+Or),this.lineTo(_r,Ir),this.lineTo(_r+Dr,Ir),this.lineTo(_r,Ir)},He.prototype.fillRect=function(_r,Ir,Dr,Or){if(isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or))throw a$2.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!We.call(this)){var br={};this.lineCap!=="butt"&&(br.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(br.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(_r,Ir,Dr,Or),this.fill(),br.hasOwnProperty("lineCap")&&(this.lineCap=br.lineCap),br.hasOwnProperty("lineJoin")&&(this.lineJoin=br.lineJoin)}},He.prototype.strokeRect=function(_r,Ir,Dr,Or){if(isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or))throw a$2.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");qe.call(this)||(this.beginPath(),this.rect(_r,Ir,Dr,Or),this.stroke())},He.prototype.clearRect=function(_r,Ir,Dr,Or){if(isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or))throw a$2.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(_r,Ir,Dr,Or))},He.prototype.save=function(_r){_r=typeof _r!="boolean"||_r;for(var Ir=this.pdf.internal.getCurrentPageInfo().pageNumber,Dr=0;Dr<this.pdf.internal.getNumberOfPages();Dr++)this.pdf.setPage(Dr+1),this.pdf.internal.out("q");if(this.pdf.setPage(Ir),_r){this.ctx.fontSize=this.pdf.internal.getFontSize();var Or=new $e(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Or}},He.prototype.restore=function(_r){_r=typeof _r!="boolean"||_r;for(var Ir=this.pdf.internal.getCurrentPageInfo().pageNumber,Dr=0;Dr<this.pdf.internal.getNumberOfPages();Dr++)this.pdf.setPage(Dr+1),this.pdf.internal.out("Q");this.pdf.setPage(Ir),_r&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},He.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Qe=function(_r){var Ir,Dr,Or,br;if(_r.isCanvasGradient===!0&&(_r=_r.getColor()),!_r)return{r:0,g:0,b:0,a:0,style:_r};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(_r))Ir=0,Dr=0,Or=0,br=0;else{var Ur=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(_r);if(Ur!==null)Ir=parseInt(Ur[1]),Dr=parseInt(Ur[2]),Or=parseInt(Ur[3]),br=1;else if((Ur=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(_r))!==null)Ir=parseInt(Ur[1]),Dr=parseInt(Ur[2]),Or=parseInt(Ur[3]),br=parseFloat(Ur[4]);else{if(br=1,typeof _r=="string"&&_r.charAt(0)!=="#"){var Qr=new f$2(_r);_r=Qr.ok?Qr.toHex():"#000000"}_r.length===4?(Ir=_r.substring(1,2),Ir+=Ir,Dr=_r.substring(2,3),Dr+=Dr,Or=_r.substring(3,4),Or+=Or):(Ir=_r.substring(1,3),Dr=_r.substring(3,5),Or=_r.substring(5,7)),Ir=parseInt(Ir,16),Dr=parseInt(Dr,16),Or=parseInt(Or,16)}}return{r:Ir,g:Dr,b:Or,a:br,style:_r}},We=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},qe=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};He.prototype.fillText=function(_r,Ir,Dr,Or){if(isNaN(Ir)||isNaN(Dr)||typeof _r!="string")throw a$2.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Or=isNaN(Or)?void 0:Or,!We.call(this)){var br=wr(this.ctx.transform.rotation),Ur=this.ctx.transform.scaleX;or.call(this,{text:_r,x:Ir,y:Dr,scale:Ur,angle:br,align:this.textAlign,maxWidth:Or})}},He.prototype.strokeText=function(_r,Ir,Dr,Or){if(isNaN(Ir)||isNaN(Dr)||typeof _r!="string")throw a$2.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!qe.call(this)){Or=isNaN(Or)?void 0:Or;var br=wr(this.ctx.transform.rotation),Ur=this.ctx.transform.scaleX;or.call(this,{text:_r,x:Ir,y:Dr,scale:Ur,renderingMode:"stroke",angle:br,align:this.textAlign,maxWidth:Or})}},He.prototype.measureText=function(_r){if(typeof _r!="string")throw a$2.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Ir=this.pdf,Dr=this.pdf.internal.scaleFactor,Or=Ir.internal.getFontSize(),br=Ir.getStringUnitWidth(_r)*Or/Ir.internal.scaleFactor,Ur=function(Qr){var zr=(Qr=Qr||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return zr}}),this};return new Ur({width:br*=Math.round(96*Dr/72*1e4)/1e4})},He.prototype.scale=function(_r,Ir){if(isNaN(_r)||isNaN(Ir))throw a$2.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Dr=new Me(_r,0,0,Ir,0,0);this.ctx.transform=this.ctx.transform.multiply(Dr)},He.prototype.rotate=function(_r){if(isNaN(_r))throw a$2.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Ir=new Me(Math.cos(_r),Math.sin(_r),-Math.sin(_r),Math.cos(_r),0,0);this.ctx.transform=this.ctx.transform.multiply(Ir)},He.prototype.translate=function(_r,Ir){if(isNaN(_r)||isNaN(Ir))throw a$2.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Dr=new Me(1,0,0,1,_r,Ir);this.ctx.transform=this.ctx.transform.multiply(Dr)},He.prototype.transform=function(_r,Ir,Dr,Or,br,Ur){if(isNaN(_r)||isNaN(Ir)||isNaN(Dr)||isNaN(Or)||isNaN(br)||isNaN(Ur))throw a$2.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Qr=new Me(_r,Ir,Dr,Or,br,Ur);this.ctx.transform=this.ctx.transform.multiply(Qr)},He.prototype.setTransform=function(_r,Ir,Dr,Or,br,Ur){_r=isNaN(_r)?1:_r,Ir=isNaN(Ir)?0:Ir,Dr=isNaN(Dr)?0:Dr,Or=isNaN(Or)?1:Or,br=isNaN(br)?0:br,Ur=isNaN(Ur)?0:Ur,this.ctx.transform=new Me(_r,Ir,Dr,Or,br,Ur)};var Ke=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};He.prototype.drawImage=function(_r,Ir,Dr,Or,br,Ur,Qr,zr,Gr){var fn=this.pdf.getImageProperties(_r),nn=1,bn=1,hn=1,yn=1;Or!==void 0&&zr!==void 0&&(hn=zr/Or,yn=Gr/br,nn=fn.width/Or*zr/Or,bn=fn.height/br*Gr/br),Ur===void 0&&(Ur=Ir,Qr=Dr,Ir=0,Dr=0),Or!==void 0&&zr===void 0&&(zr=Or,Gr=br),Or===void 0&&zr===void 0&&(zr=fn.width,Gr=fn.height);for(var Zr,Rn=this.ctx.transform.decompose(),ri=wr(Rn.rotate.shx),Yn=new Me,ti=(Yn=(Yn=(Yn=Yn.multiply(Rn.translate)).multiply(Rn.skew)).multiply(Rn.scale)).applyToRectangle(new Oe(Ur-Ir*hn,Qr-Dr*yn,Or*nn,br*bn)),ei=Xe.call(this,ti),Gn=[],Ei=0;Ei<ei.length;Ei+=1)Gn.indexOf(ei[Ei])===-1&&Gn.push(ei[Ei]);if(Je(Gn),this.autoPaging)for(var Ci=Gn[0],Fi=Gn[Gn.length-1],Si=Ci;Si<Fi+1;Si++){this.pdf.setPage(Si);var Ti=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ji=Si===1?this.posY+this.margin[0]:this.margin[0],wi=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],En=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],an=Si===1?0:wi+(Si-2)*En;if(this.ctx.clip_path.length!==0){var On=this.path;Zr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Zr,this.posX+this.margin[3],-an+ji+this.ctx.prevPageLastElemOffset),rr.call(this,"fill",!0),this.path=On}var Mn=JSON.parse(JSON.stringify(ti));Mn=Ze([Mn],this.posX+this.margin[3],-an+ji+this.ctx.prevPageLastElemOffset)[0];var ui=(Si>Ci||Si<Fi)&&Ke.call(this);ui&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ti,En,null).clip().discardPath()),this.pdf.addImage(_r,"JPEG",Mn.x,Mn.y,Mn.w,Mn.h,null,null,ri),ui&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(_r,"JPEG",ti.x,ti.y,ti.w,ti.h,null,null,ri)};var Xe=function(_r,Ir,Dr){var Or=[];Ir=Ir||this.pdf.internal.pageSize.width,Dr=Dr||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var br=this.posY+this.ctx.prevPageLastElemOffset;switch(_r.type){default:case"mt":case"lt":Or.push(Math.floor((_r.y+br)/Dr)+1);break;case"arc":Or.push(Math.floor((_r.y+br-_r.radius)/Dr)+1),Or.push(Math.floor((_r.y+br+_r.radius)/Dr)+1);break;case"qct":var Ur=Er(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_r.x1,_r.y1,_r.x,_r.y);Or.push(Math.floor((Ur.y+br)/Dr)+1),Or.push(Math.floor((Ur.y+Ur.h+br)/Dr)+1);break;case"bct":var Qr=Pr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,_r.x1,_r.y1,_r.x2,_r.y2,_r.x,_r.y);Or.push(Math.floor((Qr.y+br)/Dr)+1),Or.push(Math.floor((Qr.y+Qr.h+br)/Dr)+1);break;case"rect":Or.push(Math.floor((_r.y+br)/Dr)+1),Or.push(Math.floor((_r.y+_r.h+br)/Dr)+1)}for(var zr=0;zr<Or.length;zr+=1)for(;this.pdf.internal.getNumberOfPages()<Or[zr];)Ye.call(this);return Or},Ye=function(){var _r=this.fillStyle,Ir=this.strokeStyle,Dr=this.font,Or=this.lineCap,br=this.lineWidth,Ur=this.lineJoin;this.pdf.addPage(),this.fillStyle=_r,this.strokeStyle=Ir,this.font=Dr,this.lineCap=Or,this.lineWidth=br,this.lineJoin=Ur},Ze=function(_r,Ir,Dr){for(var Or=0;Or<_r.length;Or++)switch(_r[Or].type){case"bct":_r[Or].x2+=Ir,_r[Or].y2+=Dr;case"qct":_r[Or].x1+=Ir,_r[Or].y1+=Dr;case"mt":case"lt":case"arc":default:_r[Or].x+=Ir,_r[Or].y+=Dr}return _r},Je=function(_r){return _r.sort((function(Ir,Dr){return Ir-Dr}))},tr=function(_r,Ir){for(var Dr,Or,br=this.fillStyle,Ur=this.strokeStyle,Qr=this.lineCap,zr=this.lineWidth,Gr=Math.abs(zr*this.ctx.transform.scaleX),fn=this.lineJoin,nn=JSON.parse(JSON.stringify(this.path)),bn=JSON.parse(JSON.stringify(this.path)),hn=[],yn=0;yn<bn.length;yn++)if(bn[yn].x!==void 0)for(var Zr=Xe.call(this,bn[yn]),Rn=0;Rn<Zr.length;Rn+=1)hn.indexOf(Zr[Rn])===-1&&hn.push(Zr[Rn]);for(var ri=0;ri<hn.length;ri++)for(;this.pdf.internal.getNumberOfPages()<hn[ri];)Ye.call(this);if(Je(hn),this.autoPaging)for(var Yn=hn[0],ti=hn[hn.length-1],ei=Yn;ei<ti+1;ei++){this.pdf.setPage(ei),this.fillStyle=br,this.strokeStyle=Ur,this.lineCap=Qr,this.lineWidth=Gr,this.lineJoin=fn;var Gn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ei=ei===1?this.posY+this.margin[0]:this.margin[0],Ci=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Fi=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Si=ei===1?0:Ci+(ei-2)*Fi;if(this.ctx.clip_path.length!==0){var Ti=this.path;Dr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Dr,this.posX+this.margin[3],-Si+Ei+this.ctx.prevPageLastElemOffset),rr.call(this,_r,!0),this.path=Ti}if(Or=JSON.parse(JSON.stringify(nn)),this.path=Ze(Or,this.posX+this.margin[3],-Si+Ei+this.ctx.prevPageLastElemOffset),Ir===!1||ei===0){var ji=(ei>Yn||ei<ti)&&Ke.call(this);ji&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gn,Fi,null).clip().discardPath()),rr.call(this,_r,Ir),ji&&this.pdf.restoreGraphicsState()}this.lineWidth=zr}else this.lineWidth=Gr,rr.call(this,_r,Ir),this.lineWidth=zr;this.path=nn},rr=function(_r,Ir){if((_r!=="stroke"||Ir||!qe.call(this))&&(_r==="stroke"||Ir||!We.call(this))){for(var Dr,Or,br=[],Ur=this.path,Qr=0;Qr<Ur.length;Qr++){var zr=Ur[Qr];switch(zr.type){case"begin":br.push({begin:!0});break;case"close":br.push({close:!0});break;case"mt":br.push({start:zr,deltas:[],abs:[]});break;case"lt":var Gr=br.length;if(Ur[Qr-1]&&!isNaN(Ur[Qr-1].x)&&(Dr=[zr.x-Ur[Qr-1].x,zr.y-Ur[Qr-1].y],Gr>0)){for(;Gr>=0;Gr--)if(br[Gr-1].close!==!0&&br[Gr-1].begin!==!0){br[Gr-1].deltas.push(Dr),br[Gr-1].abs.push(zr);break}}break;case"bct":Dr=[zr.x1-Ur[Qr-1].x,zr.y1-Ur[Qr-1].y,zr.x2-Ur[Qr-1].x,zr.y2-Ur[Qr-1].y,zr.x-Ur[Qr-1].x,zr.y-Ur[Qr-1].y],br[br.length-1].deltas.push(Dr);break;case"qct":var fn=Ur[Qr-1].x+2/3*(zr.x1-Ur[Qr-1].x),nn=Ur[Qr-1].y+2/3*(zr.y1-Ur[Qr-1].y),bn=zr.x+2/3*(zr.x1-zr.x),hn=zr.y+2/3*(zr.y1-zr.y),yn=zr.x,Zr=zr.y;Dr=[fn-Ur[Qr-1].x,nn-Ur[Qr-1].y,bn-Ur[Qr-1].x,hn-Ur[Qr-1].y,yn-Ur[Qr-1].x,Zr-Ur[Qr-1].y],br[br.length-1].deltas.push(Dr);break;case"arc":br.push({deltas:[],abs:[],arc:!0}),Array.isArray(br[br.length-1].abs)&&br[br.length-1].abs.push(zr)}}Or=Ir?null:_r==="stroke"?"stroke":"fill";for(var Rn=!1,ri=0;ri<br.length;ri++)if(br[ri].arc)for(var Yn=br[ri].abs,ti=0;ti<Yn.length;ti++){var ei=Yn[ti];ei.type==="arc"?nr.call(this,ei.x,ei.y,ei.radius,ei.startAngle,ei.endAngle,ei.counterclockwise,void 0,Ir,!Rn):yr.call(this,ei.x,ei.y),Rn=!0}else if(br[ri].close===!0)this.pdf.internal.out("h"),Rn=!1;else if(br[ri].begin!==!0){var Gn=br[ri].start.x,Ei=br[ri].start.y;Cr.call(this,br[ri].deltas,Gn,Ei),Rn=!0}Or&&cr.call(this,Or),Ir&&mr.call(this)}},ar=function(_r){var Ir=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Dr=Ir*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return _r-Dr;case"top":return _r+Ir-Dr;case"hanging":return _r+Ir-2*Dr;case"middle":return _r+Ir/2-Dr;case"ideographic":return _r;case"alphabetic":default:return _r}},ir=function(_r){return _r+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};He.prototype.createLinearGradient=function(){var _r=function(){};return _r.colorStops=[],_r.addColorStop=function(Ir,Dr){this.colorStops.push([Ir,Dr])},_r.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},_r.isCanvasGradient=!0,_r},He.prototype.createPattern=function(){return this.createLinearGradient()},He.prototype.createRadialGradient=function(){return this.createLinearGradient()};var nr=function(_r,Ir,Dr,Or,br,Ur,Qr,zr,Gr){for(var fn=vr.call(this,Dr,Or,br,Ur),nn=0;nn<fn.length;nn++){var bn=fn[nn];nn===0&&(Gr?fr.call(this,bn.x1+_r,bn.y1+Ir):yr.call(this,bn.x1+_r,bn.y1+Ir)),jr.call(this,_r,Ir,bn.x2,bn.y2,bn.x3,bn.y3,bn.x4,bn.y4)}zr?mr.call(this):cr.call(this,Qr)},cr=function(_r){switch(_r){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},mr=function(){this.pdf.clip(),this.pdf.discardPath()},fr=function(_r,Ir){this.pdf.internal.out(je(_r)+" "+Be(Ir)+" m")},or=function(_r){var Ir;switch(_r.align){case"right":case"end":Ir="right";break;case"center":Ir="center";break;case"left":case"start":default:Ir="left"}var Dr=this.pdf.getTextDimensions(_r.text),Or=ar.call(this,_r.y),br=ir.call(this,Or)-Dr.h,Ur=this.ctx.transform.applyToPoint(new ke(_r.x,Or)),Qr=this.ctx.transform.decompose(),zr=new Me;zr=(zr=(zr=zr.multiply(Qr.translate)).multiply(Qr.skew)).multiply(Qr.scale);for(var Gr,fn,nn,bn=this.ctx.transform.applyToRectangle(new Oe(_r.x,Or,Dr.w,Dr.h)),hn=zr.applyToRectangle(new Oe(_r.x,br,Dr.w,Dr.h)),yn=Xe.call(this,hn),Zr=[],Rn=0;Rn<yn.length;Rn+=1)Zr.indexOf(yn[Rn])===-1&&Zr.push(yn[Rn]);if(Je(Zr),this.autoPaging)for(var ri=Zr[0],Yn=Zr[Zr.length-1],ti=ri;ti<Yn+1;ti++){this.pdf.setPage(ti);var ei=ti===1?this.posY+this.margin[0]:this.margin[0],Gn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ei=this.pdf.internal.pageSize.height-this.margin[2],Ci=Ei-this.margin[0],Fi=this.pdf.internal.pageSize.width-this.margin[1],Si=Fi-this.margin[3],Ti=ti===1?0:Gn+(ti-2)*Ci;if(this.ctx.clip_path.length!==0){var ji=this.path;Gr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Ze(Gr,this.posX+this.margin[3],-1*Ti+ei),rr.call(this,"fill",!0),this.path=ji}var wi=Ze([JSON.parse(JSON.stringify(hn))],this.posX+this.margin[3],-Ti+ei+this.ctx.prevPageLastElemOffset)[0];_r.scale>=.01&&(fn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fn*_r.scale),nn=this.lineWidth,this.lineWidth=nn*_r.scale);var En=this.autoPaging!=="text";if(En||wi.y+wi.h<=Ei){if(En||wi.y>=ei&&wi.x<=Fi){var an=En?_r.text:this.pdf.splitTextToSize(_r.text,_r.maxWidth||Fi-wi.x)[0],On=Ze([JSON.parse(JSON.stringify(bn))],this.posX+this.margin[3],-Ti+ei+this.ctx.prevPageLastElemOffset)[0],Mn=En&&(ti>ri||ti<Yn)&&Ke.call(this);Mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Si,Ci,null).clip().discardPath()),this.pdf.text(an,On.x,On.y,{angle:_r.angle,align:Ir,renderingMode:_r.renderingMode}),Mn&&this.pdf.restoreGraphicsState()}}else wi.y<Ei&&(this.ctx.prevPageLastElemOffset+=Ei-wi.y);_r.scale>=.01&&(this.pdf.setFontSize(fn),this.lineWidth=nn)}else _r.scale>=.01&&(fn=this.pdf.internal.getFontSize(),this.pdf.setFontSize(fn*_r.scale),nn=this.lineWidth,this.lineWidth=nn*_r.scale),this.pdf.text(_r.text,Ur.x+this.posX,Ur.y+this.posY,{angle:_r.angle,align:Ir,renderingMode:_r.renderingMode,maxWidth:_r.maxWidth}),_r.scale>=.01&&(this.pdf.setFontSize(fn),this.lineWidth=nn)},yr=function(_r,Ir,Dr,Or){Dr=Dr||0,Or=Or||0,this.pdf.internal.out(je(_r+Dr)+" "+Be(Ir+Or)+" l")},Cr=function(_r,Ir,Dr){return this.pdf.lines(_r,Ir,Dr,null,null)},jr=function(_r,Ir,Dr,Or,br,Ur,Qr,zr){this.pdf.internal.out([Ce(De(Dr+_r)),Ce(Fe(Or+Ir)),Ce(De(br+_r)),Ce(Fe(Ur+Ir)),Ce(De(Qr+_r)),Ce(Fe(zr+Ir)),"c"].join(" "))},vr=function(_r,Ir,Dr,Or){for(var br=2*Math.PI,Ur=Math.PI/2;Ir>Dr;)Ir-=br;var Qr=Math.abs(Dr-Ir);Qr<br&&Or&&(Qr=br-Qr);for(var zr=[],Gr=Or?-1:1,fn=Ir;Qr>1e-5;){var nn=fn+Gr*Math.min(Qr,Ur);zr.push(Tr.call(this,_r,fn,nn)),Qr-=Math.abs(nn-fn),fn=nn}return zr},Tr=function(_r,Ir,Dr){var Or=(Dr-Ir)/2,br=_r*Math.cos(Or),Ur=_r*Math.sin(Or),Qr=br,zr=-Ur,Gr=Qr*Qr+zr*zr,fn=Gr+Qr*br+zr*Ur,nn=4/3*(Math.sqrt(2*Gr*fn)-fn)/(Qr*Ur-zr*br),bn=Qr-nn*zr,hn=zr+nn*Qr,yn=bn,Zr=-hn,Rn=Or+Ir,ri=Math.cos(Rn),Yn=Math.sin(Rn);return{x1:_r*Math.cos(Ir),y1:_r*Math.sin(Ir),x2:bn*ri-hn*Yn,y2:bn*Yn+hn*ri,x3:yn*ri-Zr*Yn,y3:yn*Yn+Zr*ri,x4:_r*Math.cos(Dr),y4:_r*Math.sin(Dr)}},wr=function(_r){return 180*_r/Math.PI},Er=function(_r,Ir,Dr,Or,br,Ur){var Qr=_r+.5*(Dr-_r),zr=Ir+.5*(Or-Ir),Gr=br+.5*(Dr-br),fn=Ur+.5*(Or-Ur),nn=Math.min(_r,br,Qr,Gr),bn=Math.max(_r,br,Qr,Gr),hn=Math.min(Ir,Ur,zr,fn),yn=Math.max(Ir,Ur,zr,fn);return new Oe(nn,hn,bn-nn,yn-hn)},Pr=function(_r,Ir,Dr,Or,br,Ur,Qr,zr){var Gr,fn,nn,bn,hn,yn,Zr,Rn,ri,Yn,ti,ei,Gn,Ei,Ci=Dr-_r,Fi=Or-Ir,Si=br-Dr,Ti=Ur-Or,ji=Qr-br,wi=zr-Ur;for(fn=0;fn<41;fn++)ri=(Zr=(nn=_r+(Gr=fn/40)*Ci)+Gr*((hn=Dr+Gr*Si)-nn))+Gr*(hn+Gr*(br+Gr*ji-hn)-Zr),Yn=(Rn=(bn=Ir+Gr*Fi)+Gr*((yn=Or+Gr*Ti)-bn))+Gr*(yn+Gr*(Ur+Gr*wi-yn)-Rn),fn==0?(ti=ri,ei=Yn,Gn=ri,Ei=Yn):(ti=Math.min(ti,ri),ei=Math.min(ei,Yn),Gn=Math.max(Gn,ri),Ei=Math.max(Ei,Yn));return new Oe(Math.round(ti),Math.round(ei),Math.round(Gn-ti),Math.round(Ei-ei))},Mr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var _r,Ir,Dr=(_r=this.ctx.lineDash,Ir=this.ctx.lineDashOffset,JSON.stringify({lineDash:_r,lineDashOffset:Ir}));this.prevLineDash!==Dr&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Dr)}}})(E.API),(function(Re){var Ce=function(Fe){var ke,Oe,Me,Ue,$e,He,Qe,We,qe,Ke;for(Oe=[],Me=0,Ue=(Fe+=ke="\0\0\0\0".slice(Fe.length%4||4)).length;Ue>Me;Me+=4)($e=(Fe.charCodeAt(Me)<<24)+(Fe.charCodeAt(Me+1)<<16)+(Fe.charCodeAt(Me+2)<<8)+Fe.charCodeAt(Me+3))!==0?(He=($e=(($e=(($e=(($e=($e-(Ke=$e%85))/85)-(qe=$e%85))/85)-(We=$e%85))/85)-(Qe=$e%85))/85)%85,Oe.push(He+33,Qe+33,We+33,qe+33,Ke+33)):Oe.push(122);return(function(Xe,Ye){for(var Ze=Ye;Ze>0;Ze--)Xe.pop()})(Oe,ke.length),String.fromCharCode.apply(String,Oe)+"~>"},je=function(Fe){var ke,Oe,Me,Ue,$e,He=String,Qe="length",We=255,qe="charCodeAt",Ke="slice",Xe="replace";for(Fe[Ke](-2),Fe=Fe[Ke](0,-2)[Xe](/\s/g,"")[Xe]("z","!!!!!"),Me=[],Ue=0,$e=(Fe+=ke="uuuuu"[Ke](Fe[Qe]%5||5))[Qe];$e>Ue;Ue+=5)Oe=52200625*(Fe[qe](Ue)-33)+614125*(Fe[qe](Ue+1)-33)+7225*(Fe[qe](Ue+2)-33)+85*(Fe[qe](Ue+3)-33)+(Fe[qe](Ue+4)-33),Me.push(We&Oe>>24,We&Oe>>16,We&Oe>>8,We&Oe);return(function(Ye,Ze){for(var Je=Ze;Je>0;Je--)Ye.pop()})(Me,ke[Qe]),He.fromCharCode.apply(He,Me)},Be=function(Fe){var ke=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Fe=Fe.replace(/\s/g,"")).indexOf(">")!==-1&&(Fe=Fe.substr(0,Fe.indexOf(">"))),Fe.length%2&&(Fe+="0"),ke.test(Fe)===!1)return"";for(var Oe="",Me=0;Me<Fe.length;Me+=2)Oe+=String.fromCharCode("0x"+(Fe[Me]+Fe[Me+1]));return Oe},De=function(Fe){for(var ke=new Uint8Array(Fe.length),Oe=Fe.length;Oe--;)ke[Oe]=Fe.charCodeAt(Oe);return Fe=(ke=zlibSync(ke)).reduce((function(Me,Ue){return Me+String.fromCharCode(Ue)}),"")};Re.processDataByFilters=function(Fe,ke){var Oe=0,Me=Fe||"",Ue=[];for(typeof(ke=ke||[])=="string"&&(ke=[ke]),Oe=0;Oe<ke.length;Oe+=1)switch(ke[Oe]){case"ASCII85Decode":case"/ASCII85Decode":Me=je(Me),Ue.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":Me=Ce(Me),Ue.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":Me=Be(Me),Ue.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":Me=Me.split("").map((function($e){return("0"+$e.charCodeAt().toString(16)).slice(-2)})).join("")+">",Ue.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":Me=De(Me),Ue.push("/FlateDecode");break;default:throw new Error('The filter: "'+ke[Oe]+'" is not implemented')}return{data:Me,reverseChain:Ue.reverse().join(" ")}}})(E.API),(function(Re){Re.loadFile=function(Ce,je,Be){return(function(De,Fe,ke){Fe=Fe!==!1,ke=typeof ke=="function"?ke:function(){};var Oe=void 0;try{Oe=(function(Me,Ue,$e){var He=new XMLHttpRequest,Qe=0,We=function(qe){var Ke=qe.length,Xe=[],Ye=String.fromCharCode;for(Qe=0;Qe<Ke;Qe+=1)Xe.push(Ye(255&qe.charCodeAt(Qe)));return Xe.join("")};if(He.open("GET",Me,!Ue),He.overrideMimeType("text/plain; charset=x-user-defined"),Ue===!1&&(He.onload=function(){He.status===200?$e(We(this.responseText)):$e(void 0)}),He.send(null),Ue&&He.status===200)return We(He.responseText)})(De,Fe,ke)}catch{}return Oe})(Ce,je,Be)},Re.loadImageFile=Re.loadFile})(E.API),(function(Re){function Ce(){return(n$1.html2canvas?Promise.resolve(n$1.html2canvas):__vitePreload(()=>import("./html2canvas.esm-B0tyYwQk.js"),[],import.meta.url)).catch((function(ke){return Promise.reject(new Error("Could not load html2canvas: "+ke))})).then((function(ke){return ke.default?ke.default:ke}))}function je(){return(n$1.DOMPurify?Promise.resolve(n$1.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[],import.meta.url)).catch((function(ke){return Promise.reject(new Error("Could not load dompurify: "+ke))})).then((function(ke){return ke.default?ke.default:ke}))}var Be=function(ke){var Oe=_typeof(ke);return Oe==="undefined"?"undefined":Oe==="string"||ke instanceof String?"string":Oe==="number"||ke instanceof Number?"number":Oe==="function"||ke instanceof Function?"function":ke&&ke.constructor===Array?"array":ke&&ke.nodeType===1?"element":Oe==="object"?"object":"unknown"},De=function(ke,Oe){var Me=document.createElement(ke);for(var Ue in Oe.className&&(Me.className=Oe.className),Oe.innerHTML&&Oe.dompurify&&(Me.innerHTML=Oe.dompurify.sanitize(Oe.innerHTML)),Oe.style)Me.style[Ue]=Oe.style[Ue];return Me},Fe=function ke(Oe){var Me=Object.assign(ke.convert(Promise.resolve()),JSON.parse(JSON.stringify(ke.template))),Ue=ke.convert(Promise.resolve(),Me);return Ue=(Ue=Ue.setProgress(1,ke,1,[ke])).set(Oe)};(Fe.prototype=Object.create(Promise.prototype)).constructor=Fe,Fe.convert=function(ke,Oe){return ke.__proto__=Oe||Fe.prototype,ke},Fe.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Fe.prototype.from=function(ke,Oe){return this.then((function(){switch(Oe=Oe||(function(Me){switch(Be(Me)){case"string":return"string";case"element":return Me.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(ke)){case"string":return this.then(je).then((function(Me){return this.set({src:De("div",{innerHTML:ke,dompurify:Me})})}));case"element":return this.set({src:ke});case"canvas":return this.set({canvas:ke});case"img":return this.set({img:ke});default:return this.error("Unknown source type.")}}))},Fe.prototype.to=function(ke){switch(ke){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Fe.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then((function(){var ke={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Oe=(function Me(Ue,$e){for(var He=Ue.nodeType===3?document.createTextNode(Ue.nodeValue):Ue.cloneNode(!1),Qe=Ue.firstChild;Qe;Qe=Qe.nextSibling)$e!==!0&&Qe.nodeType===1&&Qe.nodeName==="SCRIPT"||He.appendChild(Me(Qe,$e));return Ue.nodeType===1&&(Ue.nodeName==="CANVAS"?(He.width=Ue.width,He.height=Ue.height,He.getContext("2d").drawImage(Ue,0,0)):Ue.nodeName!=="TEXTAREA"&&Ue.nodeName!=="SELECT"||(He.value=Ue.value),He.addEventListener("load",(function(){He.scrollTop=Ue.scrollTop,He.scrollLeft=Ue.scrollLeft}),!0)),He})(this.prop.src,this.opt.html2canvas.javascriptEnabled);Oe.tagName==="BODY"&&(ke.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=De("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=De("div",{className:"html2pdf__container",style:ke}),this.prop.container.appendChild(Oe),this.prop.container.firstChild.appendChild(De("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"}))},Fe.prototype.toCanvas=function(){var ke=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ke).then(Ce).then((function(Oe){var Me=Object.assign({},this.opt.html2canvas);return delete Me.onrendered,Oe(this.prop.container,Me)})).then((function(Oe){(this.opt.html2canvas.onrendered||function(){})(Oe),this.prop.canvas=Oe,document.body.removeChild(this.prop.overlay)}))},Fe.prototype.toContext2d=function(){var ke=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(ke).then(Ce).then((function(Oe){var Me=this.opt.jsPDF,Ue=this.opt.fontFaces,$e=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,He=Object.assign({async:!0,allowTaint:!0,scale:$e,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete He.onrendered,Me.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,Me.context2d.posX=this.opt.x,Me.context2d.posY=this.opt.y,Me.context2d.margin=this.opt.margin,Me.context2d.fontFaces=Ue,Ue)for(var Qe=0;Qe<Ue.length;++Qe){var We=Ue[Qe],qe=We.src.find((function(Ke){return Ke.format==="truetype"}));qe&&Me.addFont(qe.url,We.ref.name,We.ref.style)}return He.windowHeight=He.windowHeight||0,He.windowHeight=He.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):He.windowHeight,Me.context2d.save(!0),Oe(this.prop.container,He)})).then((function(Oe){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Oe),this.prop.canvas=Oe,document.body.removeChild(this.prop.overlay)}))},Fe.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then((function(){var ke=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=ke}))},Fe.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then((function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF}))},Fe.prototype.output=function(ke,Oe,Me){return(Me=Me||"pdf").toLowerCase()==="img"||Me.toLowerCase()==="image"?this.outputImg(ke,Oe):this.outputPdf(ke,Oe)},Fe.prototype.outputPdf=function(ke,Oe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){return this.prop.pdf.output(ke,Oe)}))},Fe.prototype.outputImg=function(ke){return this.thenList([function(){return this.prop.img||this.toImg()}]).then((function(){switch(ke){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+ke+'" is not supported.'}}))},Fe.prototype.save=function(ke){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(ke?{filename:ke}:null).then((function(){this.prop.pdf.save(this.opt.filename)}))},Fe.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then((function(){this.prop.callback(this.prop.pdf)}))},Fe.prototype.set=function(ke){if(Be(ke)!=="object")return this;var Oe=Object.keys(ke||{}).map((function(Me){if(Me in Fe.template.prop)return function(){this.prop[Me]=ke[Me]};switch(Me){case"margin":return this.setMargin.bind(this,ke.margin);case"jsPDF":return function(){return this.opt.jsPDF=ke.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,ke.pageSize);default:return function(){this.opt[Me]=ke[Me]}}}),this);return this.then((function(){return this.thenList(Oe)}))},Fe.prototype.get=function(ke,Oe){return this.then((function(){var Me=ke in Fe.template.prop?this.prop[ke]:this.opt[ke];return Oe?Oe(Me):Me}))},Fe.prototype.setMargin=function(ke){return this.then((function(){switch(Be(ke)){case"number":ke=[ke,ke,ke,ke];case"array":if(ke.length===2&&(ke=[ke[0],ke[1],ke[0],ke[1]]),ke.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=ke})).then(this.setPageSize)},Fe.prototype.setPageSize=function(ke){function Oe(Me,Ue){return Math.floor(Me*Ue/72*96)}return this.then((function(){(ke=ke||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(ke.inner={width:ke.width-this.opt.margin[1]-this.opt.margin[3],height:ke.height-this.opt.margin[0]-this.opt.margin[2]},ke.inner.px={width:Oe(ke.inner.width,ke.k),height:Oe(ke.inner.height,ke.k)},ke.inner.ratio=ke.inner.height/ke.inner.width),this.prop.pageSize=ke}))},Fe.prototype.setProgress=function(ke,Oe,Me,Ue){return ke!=null&&(this.progress.val=ke),Oe!=null&&(this.progress.state=Oe),Me!=null&&(this.progress.n=Me),Ue!=null&&(this.progress.stack=Ue),this.progress.ratio=this.progress.val/this.progress.state,this},Fe.prototype.updateProgress=function(ke,Oe,Me,Ue){return this.setProgress(ke?this.progress.val+ke:null,Oe||null,Me?this.progress.n+Me:null,Ue?this.progress.stack.concat(Ue):null)},Fe.prototype.then=function(ke,Oe){var Me=this;return this.thenCore(ke,Oe,(function(Ue,$e){return Me.updateProgress(null,null,1,[Ue]),Promise.prototype.then.call(this,(function(He){return Me.updateProgress(null,Ue),He})).then(Ue,$e).then((function(He){return Me.updateProgress(1),He}))}))},Fe.prototype.thenCore=function(ke,Oe,Me){Me=Me||Promise.prototype.then,ke&&(ke=ke.bind(this)),Oe&&(Oe=Oe.bind(this));var Ue=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:Fe.convert(Object.assign({},this),Promise.prototype),$e=Me.call(Ue,ke,Oe);return Fe.convert($e,this.__proto__)},Fe.prototype.thenExternal=function(ke,Oe){return Promise.prototype.then.call(this,ke,Oe)},Fe.prototype.thenList=function(ke){var Oe=this;return ke.forEach((function(Me){Oe=Oe.thenCore(Me)})),Oe},Fe.prototype.catch=function(ke){ke&&(ke=ke.bind(this));var Oe=Promise.prototype.catch.call(this,ke);return Fe.convert(Oe,this)},Fe.prototype.catchExternal=function(ke){return Promise.prototype.catch.call(this,ke)},Fe.prototype.error=function(ke){return this.then((function(){throw new Error(ke)}))},Fe.prototype.using=Fe.prototype.set,Fe.prototype.saveAs=Fe.prototype.save,Fe.prototype.export=Fe.prototype.output,Fe.prototype.run=Fe.prototype.then,E.getPageSize=function(ke,Oe,Me){if(_typeof(ke)==="object"){var Ue=ke;ke=Ue.orientation,Oe=Ue.unit||Oe,Me=Ue.format||Me}Oe=Oe||"mm",Me=Me||"a4",ke=(""+(ke||"P")).toLowerCase();var $e,He=(""+Me).toLowerCase(),Qe={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Oe){case"pt":$e=1;break;case"mm":$e=72/25.4;break;case"cm":$e=72/2.54;break;case"in":$e=72;break;case"px":$e=.75;break;case"pc":case"em":$e=12;break;case"ex":$e=6;break;default:throw"Invalid unit: "+Oe}var We,qe=0,Ke=0;if(Qe.hasOwnProperty(He))qe=Qe[He][1]/$e,Ke=Qe[He][0]/$e;else try{qe=Me[1],Ke=Me[0]}catch{throw new Error("Invalid format: "+Me)}if(ke==="p"||ke==="portrait")ke="p",Ke>qe&&(We=Ke,Ke=qe,qe=We);else{if(ke!=="l"&&ke!=="landscape")throw"Invalid orientation: "+ke;ke="l",qe>Ke&&(We=Ke,Ke=qe,qe=We)}return{width:Ke,height:qe,unit:Oe,k:$e,orientation:ke}},Re.html=function(ke,Oe){(Oe=Oe||{}).callback=Oe.callback||function(){},Oe.html2canvas=Oe.html2canvas||{},Oe.html2canvas.canvas=Oe.html2canvas.canvas||this.canvas,Oe.jsPDF=Oe.jsPDF||this,Oe.fontFaces=Oe.fontFaces?Oe.fontFaces.map(jt):null;var Me=new Fe(Oe);return Oe.worker?Me:Me.from(ke).doCallback()}})(E.API),E.API.addJS=function(Re){return Ht=Re,this.internal.events.subscribe("postPutResources",(function(){Ut=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ut+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ht+")"),this.internal.out(">>"),this.internal.out("endobj")})),this.internal.events.subscribe("putCatalog",(function(){Ut!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Ut+" 0 R>>")})),this},(function(Re){var Ce;Re.events.push(["postPutResources",function(){var je=this,Be=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var De=je.outline.render().split(/\r\n/),Fe=0;Fe<De.length;Fe++){var ke=De[Fe],Oe=Be.exec(ke);if(Oe!=null){var Me=Oe[1];je.internal.newObjectDeferredBegin(Me,!1)}je.internal.write(ke)}if(this.outline.createNamedDestinations){var Ue=this.internal.pages.length,$e=[];for(Fe=0;Fe<Ue;Fe++){var He=je.internal.newObject();$e.push(He);var Qe=je.internal.getPageInfo(Fe+1);je.internal.write("<< /D["+Qe.objId+" 0 R /XYZ null null null]>> endobj")}var We=je.internal.newObject();for(je.internal.write("<< /Names [ "),Fe=0;Fe<$e.length;Fe++)je.internal.write("(page_"+(Fe+1)+")"+$e[Fe]+" 0 R");je.internal.write(" ] >>","endobj"),Ce=je.internal.newObject(),je.internal.write("<< /Dests "+We+" 0 R"),je.internal.write(">>","endobj")}}]),Re.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+Ce+" 0 R"))}]),Re.events.push(["initialized",function(){var je=this;je.outline={createNamedDestinations:!1,root:{children:[]}},je.outline.add=function(Be,De,Fe){var ke={title:De,options:Fe,children:[]};return Be==null&&(Be=this.root),Be.children.push(ke),ke},je.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=je,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},je.outline.genIds_r=function(Be){Be.id=je.internal.newObjectDeferred();for(var De=0;De<Be.children.length;De++)this.genIds_r(Be.children[De])},je.outline.renderRoot=function(Be){this.objStart(Be),this.line("/Type /Outlines"),Be.children.length>0&&(this.line("/First "+this.makeRef(Be.children[0])),this.line("/Last "+this.makeRef(Be.children[Be.children.length-1]))),this.line("/Count "+this.count_r({count:0},Be)),this.objEnd()},je.outline.renderItems=function(Be){for(var De=this.ctx.pdf.internal.getVerticalCoordinateString,Fe=0;Fe<Be.children.length;Fe++){var ke=Be.children[Fe];this.objStart(ke),this.line("/Title "+this.makeString(ke.title)),this.line("/Parent "+this.makeRef(Be)),Fe>0&&this.line("/Prev "+this.makeRef(Be.children[Fe-1])),Fe<Be.children.length-1&&this.line("/Next "+this.makeRef(Be.children[Fe+1])),ke.children.length>0&&(this.line("/First "+this.makeRef(ke.children[0])),this.line("/Last "+this.makeRef(ke.children[ke.children.length-1])));var Oe=this.count=this.count_r({count:0},ke);if(Oe>0&&this.line("/Count "+Oe),ke.options&&ke.options.pageNumber){var Me=je.internal.getPageInfo(ke.options.pageNumber);this.line("/Dest ["+Me.objId+" 0 R /XYZ 0 "+De(0)+" 0]")}this.objEnd()}for(var Ue=0;Ue<Be.children.length;Ue++)this.renderItems(Be.children[Ue])},je.outline.line=function(Be){this.ctx.val+=Be+`\r
`},je.outline.makeRef=function(Be){return Be.id+" 0 R"},je.outline.makeString=function(Be){return"("+je.internal.pdfEscape(Be)+")"},je.outline.objStart=function(Be){this.ctx.val+=`\r
`+Be.id+` 0 obj\r
<<\r
`},je.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},je.outline.count_r=function(Be,De){for(var Fe=0;Fe<De.children.length;Fe++)Be.count++,this.count_r(Be,De.children[Fe]);return Be.count}}])})(E.API),(function(Re){var Ce=[192,193,194,195,196,197,198,199];Re.processJPEG=function(je,Be,De,Fe,ke,Oe){var Me,Ue=this.decode.DCT_DECODE,$e=null;if(typeof je=="string"||this.__addimage__.isArrayBuffer(je)||this.__addimage__.isArrayBufferView(je)){switch(je=ke||je,je=this.__addimage__.isArrayBuffer(je)?new Uint8Array(je):je,(Me=(function(He){for(var Qe,We=256*He.charCodeAt(4)+He.charCodeAt(5),qe=He.length,Ke={width:0,height:0,numcomponents:1},Xe=4;Xe<qe;Xe+=2){if(Xe+=We,Ce.indexOf(He.charCodeAt(Xe+1))!==-1){Qe=256*He.charCodeAt(Xe+5)+He.charCodeAt(Xe+6),Ke={width:256*He.charCodeAt(Xe+7)+He.charCodeAt(Xe+8),height:Qe,numcomponents:He.charCodeAt(Xe+9)};break}We=256*He.charCodeAt(Xe+2)+He.charCodeAt(Xe+3)}return Ke})(je=this.__addimage__.isArrayBufferView(je)?this.__addimage__.arrayBufferToBinaryString(je):je)).numcomponents){case 1:Oe=this.color_spaces.DEVICE_GRAY;break;case 4:Oe=this.color_spaces.DEVICE_CMYK;break;case 3:Oe=this.color_spaces.DEVICE_RGB}$e={data:je,width:Me.width,height:Me.height,colorSpace:Oe,bitsPerComponent:8,filter:Ue,index:Be,alias:De}}return $e}})(E.API);var Vt$1,Gt$1,Yt,Jt,Xt$1,Kt=(function(){var Re,Ce,je;function Be(Fe){var ke,Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je;for(this.data=Fe,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},He=null;;){switch(ke=this.readUInt32(),qe=(function(){var tr,rr;for(rr=[],tr=0;tr<4;++tr)rr.push(String.fromCharCode(this.data[this.pos++]));return rr}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(ke);break;case"fcTL":He&&this.animation.frames.push(He),this.pos+=4,He={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},$e=this.readUInt16(),Ue=this.readUInt16()||100,He.delay=1e3*$e/Ue,He.disposeOp=this.data[this.pos++],He.blendOp=this.data[this.pos++],He.data=[];break;case"IDAT":case"fdAT":for(qe==="fdAT"&&(this.pos+=4,ke-=4),Fe=He?.data||this.imgData,Ye=0;0<=ke?Ye<ke:Ye>ke;0<=ke?++Ye:--Ye)Fe.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(Me=this.palette.length/3,this.transparency.indexed=this.read(ke),this.transparency.indexed.length>Me)throw new Error("More transparent colors than palette size");if((Ke=Me-this.transparency.indexed.length)>0)for(Ze=0;0<=Ke?Ze<Ke:Ze>Ke;0<=Ke?++Ze:--Ze)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(ke)[0];break;case 2:this.transparency.rgb=this.read(ke)}break;case"tEXt":Qe=(Xe=this.read(ke)).indexOf(0),We=String.fromCharCode.apply(String,Xe.slice(0,Qe)),this.text[We]=String.fromCharCode.apply(String,Xe.slice(Qe+1));break;case"IEND":return He&&this.animation.frames.push(He),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(Je=this.colorType)===4||Je===6,Oe=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*Oe,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=ke}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}Be.prototype.read=function(Fe){var ke,Oe;for(Oe=[],ke=0;0<=Fe?ke<Fe:ke>Fe;0<=Fe?++ke:--ke)Oe.push(this.data[this.pos++]);return Oe},Be.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},Be.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},Be.prototype.decodePixels=function(Fe){var ke=this.pixelBitlength/8,Oe=new Uint8Array(this.width*this.height*ke),Me=0,Ue=this;if(Fe==null&&(Fe=this.imgData),Fe.length===0)return new Uint8Array(0);function $e(He,Qe,We,qe){var Ke,Xe,Ye,Ze,Je,tr,rr,ar,ir,nr,cr,mr,fr,or,yr,Cr,jr,vr,Tr,wr,Er,Pr=Math.ceil((Ue.width-He)/We),Mr=Math.ceil((Ue.height-Qe)/qe),_r=Ue.width==Pr&&Ue.height==Mr;for(or=ke*Pr,mr=_r?Oe:new Uint8Array(or*Mr),tr=Fe.length,fr=0,Xe=0;fr<Mr&&Me<tr;){switch(Fe[Me++]){case 0:for(Ze=jr=0;jr<or;Ze=jr+=1)mr[Xe++]=Fe[Me++];break;case 1:for(Ze=vr=0;vr<or;Ze=vr+=1)Ke=Fe[Me++],Je=Ze<ke?0:mr[Xe-ke],mr[Xe++]=(Ke+Je)%256;break;case 2:for(Ze=Tr=0;Tr<or;Ze=Tr+=1)Ke=Fe[Me++],Ye=(Ze-Ze%ke)/ke,yr=fr&&mr[(fr-1)*or+Ye*ke+Ze%ke],mr[Xe++]=(yr+Ke)%256;break;case 3:for(Ze=wr=0;wr<or;Ze=wr+=1)Ke=Fe[Me++],Ye=(Ze-Ze%ke)/ke,Je=Ze<ke?0:mr[Xe-ke],yr=fr&&mr[(fr-1)*or+Ye*ke+Ze%ke],mr[Xe++]=(Ke+Math.floor((Je+yr)/2))%256;break;case 4:for(Ze=Er=0;Er<or;Ze=Er+=1)Ke=Fe[Me++],Ye=(Ze-Ze%ke)/ke,Je=Ze<ke?0:mr[Xe-ke],fr===0?yr=Cr=0:(yr=mr[(fr-1)*or+Ye*ke+Ze%ke],Cr=Ye&&mr[(fr-1)*or+(Ye-1)*ke+Ze%ke]),rr=Je+yr-Cr,ar=Math.abs(rr-Je),nr=Math.abs(rr-yr),cr=Math.abs(rr-Cr),ir=ar<=nr&&ar<=cr?Je:nr<=cr?yr:Cr,mr[Xe++]=(Ke+ir)%256;break;default:throw new Error("Invalid filter algorithm: "+Fe[Me-1])}if(!_r){var Ir=((Qe+fr*qe)*Ue.width+He)*ke,Dr=fr*or;for(Ze=0;Ze<Pr;Ze+=1){for(var Or=0;Or<ke;Or+=1)Oe[Ir++]=mr[Dr++];Ir+=(We-1)*ke}}fr++}}return Fe=unzlibSync(Fe),Ue.interlaceMethod==1?($e(0,0,8,8),$e(4,0,8,8),$e(0,4,4,8),$e(2,0,4,4),$e(0,2,2,4),$e(1,0,2,2),$e(0,1,1,2)):$e(0,0,1,1),Oe},Be.prototype.decodePalette=function(){var Fe,ke,Oe,Me,Ue,$e,He,Qe,We;for(Oe=this.palette,$e=this.transparency.indexed||[],Ue=new Uint8Array(($e.length||0)+Oe.length),Me=0,Fe=0,ke=He=0,Qe=Oe.length;He<Qe;ke=He+=3)Ue[Me++]=Oe[ke],Ue[Me++]=Oe[ke+1],Ue[Me++]=Oe[ke+2],Ue[Me++]=(We=$e[Fe++])!=null?We:255;return Ue},Be.prototype.copyToImageData=function(Fe,ke){var Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye;if(Me=this.colors,Ke=null,Oe=this.hasAlphaChannel,this.palette.length&&(Ke=(Ye=this._decodedPalette)!=null?Ye:this._decodedPalette=this.decodePalette(),Me=4,Oe=!0),qe=(Ue=Fe.data||Fe).length,He=Ke||ke,$e=Qe=0,Me===1)for(;$e<qe;)We=Ke?4*ke[$e/4]:Qe,Xe=He[We++],Ue[$e++]=Xe,Ue[$e++]=Xe,Ue[$e++]=Xe,Ue[$e++]=Oe?He[We++]:255,Qe=We;else for(;$e<qe;)We=Ke?4*ke[$e/4]:Qe,Ue[$e++]=He[We++],Ue[$e++]=He[We++],Ue[$e++]=He[We++],Ue[$e++]=Oe?He[We++]:255,Qe=We},Be.prototype.decode=function(){var Fe;return Fe=new Uint8Array(this.width*this.height*4),this.copyToImageData(Fe,this.decodePixels()),Fe};var De=function(){if(Object.prototype.toString.call(n$1)==="[object Window]"){try{Ce=n$1.document.createElement("canvas"),je=Ce.getContext("2d")}catch{return!1}return!0}return!1};return De(),Re=function(Fe){var ke;if(De()===!0)return je.width=Fe.width,je.height=Fe.height,je.clearRect(0,0,Fe.width,Fe.height),je.putImageData(Fe,0,0),(ke=new Image).src=Ce.toDataURL(),ke;throw new Error("This method requires a Browser with Canvas-capability.")},Be.prototype.decodeFrames=function(Fe){var ke,Oe,Me,Ue,$e,He,Qe,We;if(this.animation){for(We=[],Oe=$e=0,He=(Qe=this.animation.frames).length;$e<He;Oe=++$e)ke=Qe[Oe],Me=Fe.createImageData(ke.width,ke.height),Ue=this.decodePixels(new Uint8Array(ke.data)),this.copyToImageData(Me,Ue),ke.imageData=Me,We.push(ke.image=Re(Me));return We}},Be.prototype.renderFrame=function(Fe,ke){var Oe,Me,Ue;return Oe=(Me=this.animation.frames)[ke],Ue=Me[ke-1],ke===0&&Fe.clearRect(0,0,this.width,this.height),Ue?.disposeOp===1?Fe.clearRect(Ue.xOffset,Ue.yOffset,Ue.width,Ue.height):Ue?.disposeOp===2&&Fe.putImageData(Ue.imageData,Ue.xOffset,Ue.yOffset),Oe.blendOp===0&&Fe.clearRect(Oe.xOffset,Oe.yOffset,Oe.width,Oe.height),Fe.drawImage(Oe.image,Oe.xOffset,Oe.yOffset)},Be.prototype.animate=function(Fe){var ke,Oe,Me,Ue,$e,He,Qe=this;return Oe=0,He=this.animation,Ue=He.numFrames,Me=He.frames,$e=He.numPlays,(ke=function(){var We,qe;if(We=Oe++%Ue,qe=Me[We],Qe.renderFrame(Fe,We),Ue>1&&Oe/Ue<$e)return Qe.animation._timeout=setTimeout(ke,qe.delay)})()},Be.prototype.stopAnimation=function(){var Fe;return clearTimeout((Fe=this.animation)!=null?Fe._timeout:void 0)},Be.prototype.render=function(Fe){var ke,Oe;return Fe._png&&Fe._png.stopAnimation(),Fe._png=this,Fe.width=this.width,Fe.height=this.height,ke=Fe.getContext("2d"),this.animation?(this.decodeFrames(ke),this.animate(ke)):(Oe=ke.createImageData(this.width,this.height),this.copyToImageData(Oe,this.decodePixels()),ke.putImageData(Oe,0,0))},Be})();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Zt(Re){var Ce=0;if(Re[Ce++]!==71||Re[Ce++]!==73||Re[Ce++]!==70||Re[Ce++]!==56||(Re[Ce++]+1&253)!=56||Re[Ce++]!==97)throw new Error("Invalid GIF 87a/89a header.");var je=Re[Ce++]|Re[Ce++]<<8,Be=Re[Ce++]|Re[Ce++]<<8,De=Re[Ce++],Fe=De>>7,ke=1<<(7&De)+1;Re[Ce++],Re[Ce++];var Oe=null,Me=null;Fe&&(Oe=Ce,Me=ke,Ce+=3*ke);var Ue=!0,$e=[],He=0,Qe=null,We=0,qe=null;for(this.width=je,this.height=Be;Ue&&Ce<Re.length;)switch(Re[Ce++]){case 33:switch(Re[Ce++]){case 255:if(Re[Ce]!==11||Re[Ce+1]==78&&Re[Ce+2]==69&&Re[Ce+3]==84&&Re[Ce+4]==83&&Re[Ce+5]==67&&Re[Ce+6]==65&&Re[Ce+7]==80&&Re[Ce+8]==69&&Re[Ce+9]==50&&Re[Ce+10]==46&&Re[Ce+11]==48&&Re[Ce+12]==3&&Re[Ce+13]==1&&Re[Ce+16]==0)Ce+=14,qe=Re[Ce++]|Re[Ce++]<<8,Ce++;else for(Ce+=12;;){if(!((fr=Re[Ce++])>=0))throw Error("Invalid block size");if(fr===0)break;Ce+=fr}break;case 249:if(Re[Ce++]!==4||Re[Ce+4]!==0)throw new Error("Invalid graphics extension block.");var Ke=Re[Ce++];He=Re[Ce++]|Re[Ce++]<<8,Qe=Re[Ce++],(1&Ke)==0&&(Qe=null),We=Ke>>2&7,Ce++;break;case 254:for(;;){if(!((fr=Re[Ce++])>=0))throw Error("Invalid block size");if(fr===0)break;Ce+=fr}break;default:throw new Error("Unknown graphic control label: 0x"+Re[Ce-1].toString(16))}break;case 44:var Xe=Re[Ce++]|Re[Ce++]<<8,Ye=Re[Ce++]|Re[Ce++]<<8,Ze=Re[Ce++]|Re[Ce++]<<8,Je=Re[Ce++]|Re[Ce++]<<8,tr=Re[Ce++],rr=tr>>6&1,ar=1<<(7&tr)+1,ir=Oe,nr=Me,cr=!1;tr>>7&&(cr=!0,ir=Ce,nr=ar,Ce+=3*ar);var mr=Ce;for(Ce++;;){var fr;if(!((fr=Re[Ce++])>=0))throw Error("Invalid block size");if(fr===0)break;Ce+=fr}$e.push({x:Xe,y:Ye,width:Ze,height:Je,has_local_palette:cr,palette_offset:ir,palette_size:nr,data_offset:mr,data_length:Ce-mr,transparent_index:Qe,interlaced:!!rr,delay:He,disposal:We});break;case 59:Ue=!1;break;default:throw new Error("Unknown gif block: 0x"+Re[Ce-1].toString(16))}this.numFrames=function(){return $e.length},this.loopCount=function(){return qe},this.frameInfo=function(or){if(or<0||or>=$e.length)throw new Error("Frame index out of range.");return $e[or]},this.decodeAndBlitFrameBGRA=function(or,yr){var Cr=this.frameInfo(or),jr=Cr.width*Cr.height,vr=new Uint8Array(jr);$t(Re,Cr.data_offset,vr,jr);var Tr=Cr.palette_offset,wr=Cr.transparent_index;wr===null&&(wr=256);var Er=Cr.width,Pr=je-Er,Mr=Er,_r=4*(Cr.y*je+Cr.x),Ir=4*((Cr.y+Cr.height)*je+Cr.x),Dr=_r,Or=4*Pr;Cr.interlaced===!0&&(Or+=4*je*7);for(var br=8,Ur=0,Qr=vr.length;Ur<Qr;++Ur){var zr=vr[Ur];if(Mr===0&&(Mr=Er,(Dr+=Or)>=Ir&&(Or=4*Pr+4*je*(br-1),Dr=_r+(Er+Pr)*(br<<1),br>>=1)),zr===wr)Dr+=4;else{var Gr=Re[Tr+3*zr],fn=Re[Tr+3*zr+1],nn=Re[Tr+3*zr+2];yr[Dr++]=nn,yr[Dr++]=fn,yr[Dr++]=Gr,yr[Dr++]=255}--Mr}},this.decodeAndBlitFrameRGBA=function(or,yr){var Cr=this.frameInfo(or),jr=Cr.width*Cr.height,vr=new Uint8Array(jr);$t(Re,Cr.data_offset,vr,jr);var Tr=Cr.palette_offset,wr=Cr.transparent_index;wr===null&&(wr=256);var Er=Cr.width,Pr=je-Er,Mr=Er,_r=4*(Cr.y*je+Cr.x),Ir=4*((Cr.y+Cr.height)*je+Cr.x),Dr=_r,Or=4*Pr;Cr.interlaced===!0&&(Or+=4*je*7);for(var br=8,Ur=0,Qr=vr.length;Ur<Qr;++Ur){var zr=vr[Ur];if(Mr===0&&(Mr=Er,(Dr+=Or)>=Ir&&(Or=4*Pr+4*je*(br-1),Dr=_r+(Er+Pr)*(br<<1),br>>=1)),zr===wr)Dr+=4;else{var Gr=Re[Tr+3*zr],fn=Re[Tr+3*zr+1],nn=Re[Tr+3*zr+2];yr[Dr++]=Gr,yr[Dr++]=fn,yr[Dr++]=nn,yr[Dr++]=255}--Mr}}}function $t(Re,Ce,je,Be){for(var De=Re[Ce++],Fe=1<<De,ke=Fe+1,Oe=ke+1,Me=De+1,Ue=(1<<Me)-1,$e=0,He=0,Qe=0,We=Re[Ce++],qe=new Int32Array(4096),Ke=null;;){for(;$e<16&&We!==0;)He|=Re[Ce++]<<$e,$e+=8,We===1?We=Re[Ce++]:--We;if($e<Me)break;var Xe=He&Ue;if(He>>=Me,$e-=Me,Xe!==Fe){if(Xe===ke)break;for(var Ye=Xe<Oe?Xe:Ke,Ze=0,Je=Ye;Je>Fe;)Je=qe[Je]>>8,++Ze;var tr=Je;if(Qe+Ze+(Ye!==Xe?1:0)>Be)return void a$2.log("Warning, gif stream longer than expected.");je[Qe++]=tr;var rr=Qe+=Ze;for(Ye!==Xe&&(je[Qe++]=tr),Je=Ye;Ze--;)Je=qe[Je],je[--rr]=255&Je,Je>>=8;Ke!==null&&Oe<4096&&(qe[Oe++]=Ke<<8|tr,Oe>=Ue+1&&Me<12&&(++Me,Ue=Ue<<1|1)),Ke=Xe}else Oe=ke+1,Ue=(1<<(Me=De+1))-1,Ke=null}return Qe!==Be&&a$2.log("Warning, gif stream shorter than expected."),je}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Qt$1(Re){var Ce,je,Be,De,Fe,ke=Math.floor,Oe=new Array(64),Me=new Array(64),Ue=new Array(64),$e=new Array(64),He=new Array(65535),Qe=new Array(65535),We=new Array(64),qe=new Array(64),Ke=[],Xe=0,Ye=7,Ze=new Array(64),Je=new Array(64),tr=new Array(64),rr=new Array(256),ar=new Array(2048),ir=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],nr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],cr=[0,1,2,3,4,5,6,7,8,9,10,11],mr=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],fr=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],or=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],yr=[0,1,2,3,4,5,6,7,8,9,10,11],Cr=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],jr=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function vr(_r,Ir){for(var Dr=0,Or=0,br=new Array,Ur=1;Ur<=16;Ur++){for(var Qr=1;Qr<=_r[Ur];Qr++)br[Ir[Or]]=[],br[Ir[Or]][0]=Dr,br[Ir[Or]][1]=Ur,Or++,Dr++;Dr*=2}return br}function Tr(_r){for(var Ir=_r[0],Dr=_r[1]-1;Dr>=0;)Ir&1<<Dr&&(Xe|=1<<Ye),Dr--,--Ye<0&&(Xe==255?(wr(255),wr(0)):wr(Xe),Ye=7,Xe=0)}function wr(_r){Ke.push(_r)}function Er(_r){wr(_r>>8&255),wr(255&_r)}function Pr(_r,Ir,Dr,Or,br){for(var Ur,Qr=br[0],zr=br[240],Gr=(function(Yn,ti){var ei,Gn,Ei,Ci,Fi,Si,Ti,ji,wi,En,an=0;for(wi=0;wi<8;++wi){ei=Yn[an],Gn=Yn[an+1],Ei=Yn[an+2],Ci=Yn[an+3],Fi=Yn[an+4],Si=Yn[an+5],Ti=Yn[an+6];var On=ei+(ji=Yn[an+7]),Mn=ei-ji,ui=Gn+Ti,Vn=Gn-Ti,yi=Ei+Si,jn=Ei-Si,vn=Ci+Fi,Ni=Ci-Fi,xi=On+vn,Gi=On-vn,ki=ui+yi,Ai=ui-yi;Yn[an]=xi+ki,Yn[an+4]=xi-ki;var hi=.707106781*(Ai+Gi);Yn[an+2]=Gi+hi,Yn[an+6]=Gi-hi;var Bi=.382683433*((xi=Ni+jn)-(Ai=Vn+Mn)),Zi=.5411961*xi+Bi,ds=1.306562965*Ai+Bi,oa=.707106781*(ki=jn+Vn),Wa=Mn+oa,Li=Mn-oa;Yn[an+5]=Li+Zi,Yn[an+3]=Li-Zi,Yn[an+1]=Wa+ds,Yn[an+7]=Wa-ds,an+=8}for(an=0,wi=0;wi<8;++wi){ei=Yn[an],Gn=Yn[an+8],Ei=Yn[an+16],Ci=Yn[an+24],Fi=Yn[an+32],Si=Yn[an+40],Ti=Yn[an+48];var Qs=ei+(ji=Yn[an+56]),Fs=ei-ji,Xs=Gn+Ti,Yi=Gn-Ti,ra=Ei+Si,qr=Ei-Si,pn=Ci+Fi,on=Ci-Fi,cn=Qs+pn,mn=Qs-pn,gn=Xs+ra,Un=Xs-ra;Yn[an]=cn+gn,Yn[an+32]=cn-gn;var Jn=.707106781*(Un+mn);Yn[an+16]=mn+Jn,Yn[an+48]=mn-Jn;var Dn=.382683433*((cn=on+qr)-(Un=Yi+Fs)),zn=.5411961*cn+Dn,qn=1.306562965*Un+Dn,vi=.707106781*(gn=qr+Yi),Ii=Fs+vi,zi=Fs-vi;Yn[an+40]=zi+zn,Yn[an+24]=zi-zn,Yn[an+8]=Ii+qn,Yn[an+56]=Ii-qn,an++}for(wi=0;wi<64;++wi)En=Yn[wi]*ti[wi],We[wi]=En>0?En+.5|0:En-.5|0;return We})(_r,Ir),fn=0;fn<64;++fn)qe[ir[fn]]=Gr[fn];var nn=qe[0]-Dr;Dr=qe[0],nn==0?Tr(Or[0]):(Tr(Or[Qe[Ur=32767+nn]]),Tr(He[Ur]));for(var bn=63;bn>0&&qe[bn]==0;)bn--;if(bn==0)return Tr(Qr),Dr;for(var hn,yn=1;yn<=bn;){for(var Zr=yn;qe[yn]==0&&yn<=bn;)++yn;var Rn=yn-Zr;if(Rn>=16){hn=Rn>>4;for(var ri=1;ri<=hn;++ri)Tr(zr);Rn&=15}Ur=32767+qe[yn],Tr(br[(Rn<<4)+Qe[Ur]]),Tr(He[Ur]),yn++}return bn!=63&&Tr(Qr),Dr}function Mr(_r){_r=Math.min(Math.max(_r,1),100),Fe!=_r&&((function(Ir){for(var Dr=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Or=0;Or<64;Or++){var br=ke((Dr[Or]*Ir+50)/100);br=Math.min(Math.max(br,1),255),Oe[ir[Or]]=br}for(var Ur=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Qr=0;Qr<64;Qr++){var zr=ke((Ur[Qr]*Ir+50)/100);zr=Math.min(Math.max(zr,1),255),Me[ir[Qr]]=zr}for(var Gr=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],fn=0,nn=0;nn<8;nn++)for(var bn=0;bn<8;bn++)Ue[fn]=1/(Oe[ir[fn]]*Gr[nn]*Gr[bn]*8),$e[fn]=1/(Me[ir[fn]]*Gr[nn]*Gr[bn]*8),fn++})(_r<50?Math.floor(5e3/_r):Math.floor(200-2*_r)),Fe=_r)}this.encode=function(_r,Ir){Ir&&Mr(Ir),Ke=new Array,Xe=0,Ye=7,Er(65496),Er(65504),Er(16),wr(74),wr(70),wr(73),wr(70),wr(0),wr(1),wr(1),wr(0),Er(1),Er(1),wr(0),wr(0),(function(){Er(65499),Er(132),wr(0);for(var Gn=0;Gn<64;Gn++)wr(Oe[Gn]);wr(1);for(var Ei=0;Ei<64;Ei++)wr(Me[Ei])})(),(function(Gn,Ei){Er(65472),Er(17),wr(8),Er(Ei),Er(Gn),wr(3),wr(1),wr(17),wr(0),wr(2),wr(17),wr(1),wr(3),wr(17),wr(1)})(_r.width,_r.height),(function(){Er(65476),Er(418),wr(0);for(var Gn=0;Gn<16;Gn++)wr(nr[Gn+1]);for(var Ei=0;Ei<=11;Ei++)wr(cr[Ei]);wr(16);for(var Ci=0;Ci<16;Ci++)wr(mr[Ci+1]);for(var Fi=0;Fi<=161;Fi++)wr(fr[Fi]);wr(1);for(var Si=0;Si<16;Si++)wr(or[Si+1]);for(var Ti=0;Ti<=11;Ti++)wr(yr[Ti]);wr(17);for(var ji=0;ji<16;ji++)wr(Cr[ji+1]);for(var wi=0;wi<=161;wi++)wr(jr[wi])})(),Er(65498),Er(12),wr(3),wr(1),wr(0),wr(2),wr(17),wr(3),wr(17),wr(0),wr(63),wr(0);var Dr=0,Or=0,br=0;Xe=0,Ye=7,this.encode.displayName="_encode_";for(var Ur,Qr,zr,Gr,fn,nn,bn,hn,yn,Zr=_r.data,Rn=_r.width,ri=_r.height,Yn=4*Rn,ti=0;ti<ri;){for(Ur=0;Ur<Yn;){for(fn=Yn*ti+Ur,bn=-1,hn=0,yn=0;yn<64;yn++)nn=fn+(hn=yn>>3)*Yn+(bn=4*(7&yn)),ti+hn>=ri&&(nn-=Yn*(ti+1+hn-ri)),Ur+bn>=Yn&&(nn-=Ur+bn-Yn+4),Qr=Zr[nn++],zr=Zr[nn++],Gr=Zr[nn++],Ze[yn]=(ar[Qr]+ar[zr+256>>0]+ar[Gr+512>>0]>>16)-128,Je[yn]=(ar[Qr+768>>0]+ar[zr+1024>>0]+ar[Gr+1280>>0]>>16)-128,tr[yn]=(ar[Qr+1280>>0]+ar[zr+1536>>0]+ar[Gr+1792>>0]>>16)-128;Dr=Pr(Ze,Ue,Dr,Ce,Be),Or=Pr(Je,$e,Or,je,De),br=Pr(tr,$e,br,je,De),Ur+=32}ti+=8}if(Ye>=0){var ei=[];ei[1]=Ye+1,ei[0]=(1<<Ye+1)-1,Tr(ei)}return Er(65497),new Uint8Array(Ke)},Re=Re||50,(function(){for(var _r=String.fromCharCode,Ir=0;Ir<256;Ir++)rr[Ir]=_r(Ir)})(),Ce=vr(nr,cr),je=vr(or,yr),Be=vr(mr,fr),De=vr(Cr,jr),(function(){for(var _r=1,Ir=2,Dr=1;Dr<=15;Dr++){for(var Or=_r;Or<Ir;Or++)Qe[32767+Or]=Dr,He[32767+Or]=[],He[32767+Or][1]=Dr,He[32767+Or][0]=Or;for(var br=-(Ir-1);br<=-_r;br++)Qe[32767+br]=Dr,He[32767+br]=[],He[32767+br][1]=Dr,He[32767+br][0]=Ir-1+br;_r<<=1,Ir<<=1}})(),(function(){for(var _r=0;_r<256;_r++)ar[_r]=19595*_r,ar[_r+256>>0]=38470*_r,ar[_r+512>>0]=7471*_r+32768,ar[_r+768>>0]=-11059*_r,ar[_r+1024>>0]=-21709*_r,ar[_r+1280>>0]=32768*_r+8421375,ar[_r+1536>>0]=-27439*_r,ar[_r+1792>>0]=-5329*_r})(),Mr(Re)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function te(Re,Ce){if(this.pos=0,this.buffer=Re,this.datav=new DataView(Re.buffer),this.is_with_alpha=!!Ce,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function ee(Re){function Ce(nr){if(!nr)throw Error("assert :P")}function je(nr,cr,mr){for(var fr=0;4>fr;fr++)if(nr[cr+fr]!=mr.charCodeAt(fr))return!0;return!1}function Be(nr,cr,mr,fr,or){for(var yr=0;yr<or;yr++)nr[cr+yr]=mr[fr+yr]}function De(nr,cr,mr,fr){for(var or=0;or<fr;or++)nr[cr+or]=mr}function Fe(nr){return new Int32Array(nr)}function ke(nr,cr){for(var mr=[],fr=0;fr<nr;fr++)mr.push(new cr);return mr}function Oe(nr,cr){var mr=[];return(function fr(or,yr,Cr){for(var jr=Cr[yr],vr=0;vr<jr&&(or.push(Cr.length>yr+1?[]:new cr),!(Cr.length<yr+1));vr++)fr(or[vr],yr+1,Cr)})(mr,0,nr),mr}var Me=function(){var nr=this;function cr(lr,xr){for(var Br=1<<xr-1>>>0;lr&Br;)Br>>>=1;return Br?(lr&Br-1)+Br:lr}function mr(lr,xr,Br,Lr,Wr){Ce(!(Lr%Br));do lr[xr+(Lr-=Br)]=Wr;while(0<Lr)}function fr(lr,xr,Br,Lr,Wr){if(Ce(2328>=Wr),512>=Wr)var Yr=Fe(512);else if((Yr=Fe(Wr))==null)return 0;return(function(Jr,tn,sn,An,Sn,Wn){var Qn,kn,ai=tn,ii=1<<sn,Cn=Fe(16),Bn=Fe(16);for(Ce(Sn!=0),Ce(An!=null),Ce(Jr!=null),Ce(0<sn),kn=0;kn<Sn;++kn){if(15<An[kn])return 0;++Cn[An[kn]]}if(Cn[0]==Sn)return 0;for(Bn[1]=0,Qn=1;15>Qn;++Qn){if(Cn[Qn]>1<<Qn)return 0;Bn[Qn+1]=Bn[Qn]+Cn[Qn]}for(kn=0;kn<Sn;++kn)Qn=An[kn],0<An[kn]&&(Wn[Bn[Qn]++]=kn);if(Bn[15]==1)return(An=new or).g=0,An.value=Wn[0],mr(Jr,ai,1,ii,An),ii;var ci,mi=-1,di=ii-1,Ki=0,$i=1,es=1,Hi=1<<sn;for(kn=0,Qn=1,Sn=2;Qn<=sn;++Qn,Sn<<=1){if($i+=es<<=1,0>(es-=Cn[Qn]))return 0;for(;0<Cn[Qn];--Cn[Qn])(An=new or).g=Qn,An.value=Wn[kn++],mr(Jr,ai+Ki,Sn,Hi,An),Ki=cr(Ki,Qn)}for(Qn=sn+1,Sn=2;15>=Qn;++Qn,Sn<<=1){if($i+=es<<=1,0>(es-=Cn[Qn]))return 0;for(;0<Cn[Qn];--Cn[Qn]){if(An=new or,(Ki&di)!=mi){for(ai+=Hi,ci=1<<(mi=Qn)-sn;15>mi&&!(0>=(ci-=Cn[mi]));)++mi,ci<<=1;ii+=Hi=1<<(ci=mi-sn),Jr[tn+(mi=Ki&di)].g=ci+sn,Jr[tn+mi].value=ai-tn-mi}An.g=Qn-sn,An.value=Wn[kn++],mr(Jr,ai+(Ki>>sn),Sn,Hi,An),Ki=cr(Ki,Qn)}}return $i!=2*Bn[15]-1?0:ii})(lr,xr,Br,Lr,Wr,Yr)}function or(){this.value=this.g=0}function yr(){this.value=this.g=0}function Cr(){this.G=ke(5,or),this.H=Fe(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=ke(ba,yr)}function jr(lr,xr,Br,Lr){Ce(lr!=null),Ce(xr!=null),Ce(2147483648>Lr),lr.Ca=254,lr.I=0,lr.b=-8,lr.Ka=0,lr.oa=xr,lr.pa=Br,lr.Jd=xr,lr.Yc=Br+Lr,lr.Zc=4<=Lr?Br+Lr-4+1:Br,Ur(lr)}function vr(lr,xr){for(var Br=0;0<xr--;)Br|=zr(lr,128)<<xr;return Br}function Tr(lr,xr){var Br=vr(lr,xr);return Qr(lr)?-Br:Br}function wr(lr,xr,Br,Lr){var Wr,Yr=0;for(Ce(lr!=null),Ce(xr!=null),Ce(4294967288>Lr),lr.Sb=Lr,lr.Ra=0,lr.u=0,lr.h=0,4<Lr&&(Lr=4),Wr=0;Wr<Lr;++Wr)Yr+=xr[Br+Wr]<<8*Wr;lr.Ra=Yr,lr.bb=Lr,lr.oa=xr,lr.pa=Br}function Er(lr){for(;8<=lr.u&&lr.bb<lr.Sb;)lr.Ra>>>=8,lr.Ra+=lr.oa[lr.pa+lr.bb]<<qc-8>>>0,++lr.bb,lr.u-=8;Dr(lr)&&(lr.h=1,lr.u=0)}function Pr(lr,xr){if(Ce(0<=xr),!lr.h&&xr<=Gc){var Br=Ir(lr)&Ms[xr];return lr.u+=xr,Er(lr),Br}return lr.h=1,lr.u=0}function Mr(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function _r(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Ir(lr){return lr.Ra>>>(lr.u&qc-1)>>>0}function Dr(lr){return Ce(lr.bb<=lr.Sb),lr.h||lr.bb==lr.Sb&&lr.u>qc}function Or(lr,xr){lr.u=xr,lr.h=Dr(lr)}function br(lr){lr.u>=hu&&(Ce(lr.u>=hu),Er(lr))}function Ur(lr){Ce(lr!=null&&lr.oa!=null),lr.pa<lr.Zc?(lr.I=(lr.oa[lr.pa++]|lr.I<<8)>>>0,lr.b+=8):(Ce(lr!=null&&lr.oa!=null),lr.pa<lr.Yc?(lr.b+=8,lr.I=lr.oa[lr.pa++]|lr.I<<8):lr.Ka?lr.b=0:(lr.I<<=8,lr.b+=8,lr.Ka=1))}function Qr(lr){return vr(lr,1)}function zr(lr,xr){var Br=lr.Ca;0>lr.b&&Ur(lr);var Lr=lr.b,Wr=Br*xr>>>8,Yr=(lr.I>>>Lr>Wr)+0;for(Yr?(Br-=Wr,lr.I-=Wr+1<<Lr>>>0):Br=Wr+1,Lr=Br,Wr=0;256<=Lr;)Wr+=8,Lr>>=8;return Lr=7^Wr+Oo[Lr],lr.b-=Lr,lr.Ca=(Br<<Lr)-1,Yr}function Gr(lr,xr,Br){lr[xr+0]=Br>>24&255,lr[xr+1]=Br>>16&255,lr[xr+2]=Br>>8&255,lr[xr+3]=Br>>0&255}function fn(lr,xr){return lr[xr+0]<<0|lr[xr+1]<<8}function nn(lr,xr){return fn(lr,xr)|lr[xr+2]<<16}function bn(lr,xr){return fn(lr,xr)|fn(lr,xr+2)<<16}function hn(lr,xr){var Br=1<<xr;return Ce(lr!=null),Ce(0<xr),lr.X=Fe(Br),lr.X==null?0:(lr.Mb=32-xr,lr.Xa=xr,1)}function yn(lr,xr){Ce(lr!=null),Ce(xr!=null),Ce(lr.Xa==xr.Xa),Be(xr.X,0,lr.X,0,1<<xr.Xa)}function Zr(){this.X=[],this.Xa=this.Mb=0}function Rn(lr,xr,Br,Lr){Ce(Br!=null),Ce(Lr!=null);var Wr=Br[0],Yr=Lr[0];return Wr==0&&(Wr=(lr*Yr+xr/2)/xr),Yr==0&&(Yr=(xr*Wr+lr/2)/lr),0>=Wr||0>=Yr?0:(Br[0]=Wr,Lr[0]=Yr,1)}function ri(lr,xr){return lr+(1<<xr)-1>>>xr}function Yn(lr,xr){return((4278255360&lr)+(4278255360&xr)>>>0&4278255360)+((16711935&lr)+(16711935&xr)>>>0&16711935)>>>0}function ti(lr,xr){nr[xr]=function(Br,Lr,Wr,Yr,Jr,tn,sn){var An;for(An=0;An<Jr;++An){var Sn=nr[lr](tn[sn+An-1],Wr,Yr+An);tn[sn+An]=Yn(Br[Lr+An],Sn)}}}function ei(){this.ud=this.hd=this.jd=0}function Gn(lr,xr){return((4278124286&(lr^xr))>>>1)+(lr&xr)>>>0}function Ei(lr){return 0<=lr&&256>lr?lr:0>lr?0:255<lr?255:void 0}function Ci(lr,xr){return Ei(lr+(lr-xr+.5>>1))}function Fi(lr,xr,Br){return Math.abs(xr-Br)-Math.abs(lr-Br)}function Si(lr,xr,Br,Lr,Wr,Yr,Jr){for(Lr=Yr[Jr-1],Br=0;Br<Wr;++Br)Yr[Jr+Br]=Lr=Yn(lr[xr+Br],Lr)}function Ti(lr,xr,Br,Lr,Wr){var Yr;for(Yr=0;Yr<Br;++Yr){var Jr=lr[xr+Yr],tn=Jr>>8&255,sn=16711935&(sn=(sn=16711935&Jr)+((tn<<16)+tn));Lr[Wr+Yr]=(4278255360&Jr)+sn>>>0}}function ji(lr,xr){xr.jd=lr>>0&255,xr.hd=lr>>8&255,xr.ud=lr>>16&255}function wi(lr,xr,Br,Lr,Wr,Yr){var Jr;for(Jr=0;Jr<Lr;++Jr){var tn=xr[Br+Jr],sn=tn>>>8,An=tn,Sn=255&(Sn=(Sn=tn>>>16)+((lr.jd<<24>>24)*(sn<<24>>24)>>>5));An=255&(An=(An=An+((lr.hd<<24>>24)*(sn<<24>>24)>>>5))+((lr.ud<<24>>24)*(Sn<<24>>24)>>>5)),Wr[Yr+Jr]=(4278255360&tn)+(Sn<<16)+An}}function En(lr,xr,Br,Lr,Wr){nr[xr]=function(Yr,Jr,tn,sn,An,Sn,Wn,Qn,kn){for(sn=Wn;sn<Qn;++sn)for(Wn=0;Wn<kn;++Wn)An[Sn++]=Wr(tn[Lr(Yr[Jr++])])},nr[lr]=function(Yr,Jr,tn,sn,An,Sn,Wn){var Qn=8>>Yr.b,kn=Yr.Ea,ai=Yr.K[0],ii=Yr.w;if(8>Qn)for(Yr=(1<<Yr.b)-1,ii=(1<<Qn)-1;Jr<tn;++Jr){var Cn,Bn=0;for(Cn=0;Cn<kn;++Cn)Cn&Yr||(Bn=Lr(sn[An++])),Sn[Wn++]=Wr(ai[Bn&ii]),Bn>>=Qn}else nr["VP8LMapColor"+Br](sn,An,ai,ii,Sn,Wn,Jr,tn,kn)}}function an(lr,xr,Br,Lr,Wr){for(Br=xr+Br;xr<Br;){var Yr=lr[xr++];Lr[Wr++]=Yr>>16&255,Lr[Wr++]=Yr>>8&255,Lr[Wr++]=Yr>>0&255}}function On(lr,xr,Br,Lr,Wr){for(Br=xr+Br;xr<Br;){var Yr=lr[xr++];Lr[Wr++]=Yr>>16&255,Lr[Wr++]=Yr>>8&255,Lr[Wr++]=Yr>>0&255,Lr[Wr++]=Yr>>24&255}}function Mn(lr,xr,Br,Lr,Wr){for(Br=xr+Br;xr<Br;){var Yr=(Jr=lr[xr++])>>16&240|Jr>>12&15,Jr=Jr>>0&240|Jr>>28&15;Lr[Wr++]=Yr,Lr[Wr++]=Jr}}function ui(lr,xr,Br,Lr,Wr){for(Br=xr+Br;xr<Br;){var Yr=(Jr=lr[xr++])>>16&248|Jr>>13&7,Jr=Jr>>5&224|Jr>>3&31;Lr[Wr++]=Yr,Lr[Wr++]=Jr}}function Vn(lr,xr,Br,Lr,Wr){for(Br=xr+Br;xr<Br;){var Yr=lr[xr++];Lr[Wr++]=Yr>>0&255,Lr[Wr++]=Yr>>8&255,Lr[Wr++]=Yr>>16&255}}function yi(lr,xr,Br,Lr,Wr,Yr){if(Yr==0)for(Br=xr+Br;xr<Br;)Gr(Lr,((Yr=lr[xr++])[0]>>24|Yr[1]>>8&65280|Yr[2]<<8&16711680|Yr[3]<<24)>>>0),Wr+=32;else Be(Lr,Wr,lr,xr,Br)}function jn(lr,xr){nr[xr][0]=nr[lr+"0"],nr[xr][1]=nr[lr+"1"],nr[xr][2]=nr[lr+"2"],nr[xr][3]=nr[lr+"3"],nr[xr][4]=nr[lr+"4"],nr[xr][5]=nr[lr+"5"],nr[xr][6]=nr[lr+"6"],nr[xr][7]=nr[lr+"7"],nr[xr][8]=nr[lr+"8"],nr[xr][9]=nr[lr+"9"],nr[xr][10]=nr[lr+"10"],nr[xr][11]=nr[lr+"11"],nr[xr][12]=nr[lr+"12"],nr[xr][13]=nr[lr+"13"],nr[xr][14]=nr[lr+"0"],nr[xr][15]=nr[lr+"0"]}function vn(lr){return lr==Rd||lr==eu||lr==Tc||lr==jc}function Ni(){this.eb=[],this.size=this.A=this.fb=0}function xi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Gi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ni,this.f.kb=new xi,this.sd=null}function ki(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ai(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function hi(lr){return alert("todo:WebPSamplerProcessPlane"),lr.T}function Bi(lr,xr){var Br=lr.T,Lr=xr.ba.f.RGBA,Wr=Lr.eb,Yr=Lr.fb+lr.ka*Lr.A,Jr=mo[xr.ba.S],tn=lr.y,sn=lr.O,An=lr.f,Sn=lr.N,Wn=lr.ea,Qn=lr.W,kn=xr.cc,ai=xr.dc,ii=xr.Mc,Cn=xr.Nc,Bn=lr.ka,ci=lr.ka+lr.T,mi=lr.U,di=mi+1>>1;for(Bn==0?Jr(tn,sn,null,null,An,Sn,Wn,Qn,An,Sn,Wn,Qn,Wr,Yr,null,null,mi):(Jr(xr.ec,xr.fc,tn,sn,kn,ai,ii,Cn,An,Sn,Wn,Qn,Wr,Yr-Lr.A,Wr,Yr,mi),++Br);Bn+2<ci;Bn+=2)kn=An,ai=Sn,ii=Wn,Cn=Qn,Sn+=lr.Rc,Qn+=lr.Rc,Yr+=2*Lr.A,Jr(tn,(sn+=2*lr.fa)-lr.fa,tn,sn,kn,ai,ii,Cn,An,Sn,Wn,Qn,Wr,Yr-Lr.A,Wr,Yr,mi);return sn+=lr.fa,lr.j+ci<lr.o?(Be(xr.ec,xr.fc,tn,sn,mi),Be(xr.cc,xr.dc,An,Sn,di),Be(xr.Mc,xr.Nc,Wn,Qn,di),Br--):1&ci||Jr(tn,sn,null,null,An,Sn,Wn,Qn,An,Sn,Wn,Qn,Wr,Yr+Lr.A,null,null,mi),Br}function Zi(lr,xr,Br){var Lr=lr.F,Wr=[lr.J];if(Lr!=null){var Yr=lr.U,Jr=xr.ba.S,tn=Jr==vu||Jr==Tc;xr=xr.ba.f.RGBA;var sn=[0],An=lr.ka;sn[0]=lr.T,lr.Kb&&(An==0?--sn[0]:(--An,Wr[0]-=lr.width),lr.j+lr.ka+lr.T==lr.o&&(sn[0]=lr.o-lr.j-An));var Sn=xr.eb;An=xr.fb+An*xr.A,lr=Ss(Lr,Wr[0],lr.width,Yr,sn,Sn,An+(tn?0:3),xr.A),Ce(Br==sn),lr&&vn(Jr)&&Jo(Sn,An,tn,Yr,sn,xr.A)}return 0}function ds(lr){var xr=lr.ma,Br=xr.ba.S,Lr=11>Br,Wr=Br==ed||Br==Sd||Br==vu||Br==Sl||Br==12||vn(Br);if(xr.memory=null,xr.Ib=null,xr.Jb=null,xr.Nd=null,!Aa(xr.Oa,lr,Wr?11:12))return 0;if(Wr&&vn(Br)&&Ri(),lr.da)alert("todo:use_scaling");else{if(Lr){if(xr.Ib=hi,lr.Kb){if(Br=lr.U+1>>1,xr.memory=Fe(lr.U+2*Br),xr.memory==null)return 0;xr.ec=xr.memory,xr.fc=0,xr.cc=xr.ec,xr.dc=xr.fc+lr.U,xr.Mc=xr.cc,xr.Nc=xr.dc+Br,xr.Ib=Bi,Ri()}}else alert("todo:EmitYUV");Wr&&(xr.Jb=Zi,Lr&&Fn())}if(Lr&&!ah){for(lr=0;256>lr;++lr)Fh[lr]=89858*(lr-128)+qa>>uc,Td[lr]=-22014*(lr-128)+qa,Cf[lr]=-45773*(lr-128),Ya[lr]=113618*(lr-128)+qa>>uc;for(lr=Vl;lr<ef;++lr)xr=76283*(lr-16)+qa>>uc,jd[lr-Vl]=Bs(xr,255),Tf[lr-Vl]=Bs(xr+8>>4,15);ah=1}return 1}function oa(lr){var xr=lr.ma,Br=lr.U,Lr=lr.T;return Ce(!(1&lr.ka)),0>=Br||0>=Lr?0:(Br=xr.Ib(lr,xr),xr.Jb!=null&&xr.Jb(lr,xr,Br),xr.Dc+=Br,1)}function Wa(lr){lr.ma.memory=null}function Li(lr,xr,Br,Lr){return Pr(lr,8)!=47?0:(xr[0]=Pr(lr,14)+1,Br[0]=Pr(lr,14)+1,Lr[0]=Pr(lr,1),Pr(lr,3)!=0?0:!lr.h)}function Qs(lr,xr){if(4>lr)return lr+1;var Br=lr-2>>1;return(2+(1&lr)<<Br)+Pr(xr,Br)+1}function Fs(lr,xr){return 120<xr?xr-120:1<=(Br=((Br=Pc[xr-1])>>4)*lr+(8-(15&Br)))?Br:1;var Br}function Xs(lr,xr,Br){var Lr=Ir(Br),Wr=lr[xr+=255&Lr].g-8;return 0<Wr&&(Or(Br,Br.u+8),Lr=Ir(Br),xr+=lr[xr].value,xr+=Lr&(1<<Wr)-1),Or(Br,Br.u+lr[xr].g),lr[xr].value}function Yi(lr,xr,Br){return Br.g+=lr.g,Br.value+=lr.value<<xr>>>0,Ce(8>=Br.g),lr.g}function ra(lr,xr,Br){var Lr=lr.xc;return Ce((xr=Lr==0?0:lr.vc[lr.md*(Br>>Lr)+(xr>>Lr)])<lr.Wb),lr.Ya[xr]}function qr(lr,xr,Br,Lr){var Wr=lr.ab,Yr=lr.c*xr,Jr=lr.C;xr=Jr+xr;var tn=Br,sn=Lr;for(Lr=lr.Ta,Br=lr.Ua;0<Wr--;){var An=lr.gc[Wr],Sn=Jr,Wn=xr,Qn=tn,kn=sn,ai=(sn=Lr,tn=Br,An.Ea);switch(Ce(Sn<Wn),Ce(Wn<=An.nc),An.hc){case 2:_d(Qn,kn,(Wn-Sn)*ai,sn,tn);break;case 0:var ii=Sn,Cn=Wn,Bn=sn,ci=tn,mi=(Hi=An).Ea;ii==0&&(Ju(Qn,kn,null,null,1,Bn,ci),Si(Qn,kn+1,0,0,mi-1,Bn,ci+1),kn+=mi,ci+=mi,++ii);for(var di=1<<Hi.b,Ki=di-1,$i=ri(mi,Hi.b),es=Hi.K,Hi=Hi.w+(ii>>Hi.b)*$i;ii<Cn;){var Vs=es,Ks=Hi,bs=1;for(Zu(Qn,kn,Bn,ci-mi,1,Bn,ci);bs<mi;){var _i=(bs&~Ki)+di;_i>mi&&(_i=mi),(0,Po[Vs[Ks++]>>8&15])(Qn,kn+ +bs,Bn,ci+bs-mi,_i-bs,Bn,ci+bs),bs=_i}kn+=mi,ci+=mi,++ii&Ki||(Hi+=$i)}Wn!=An.nc&&Be(sn,tn-ai,sn,tn+(Wn-Sn-1)*ai,ai);break;case 1:for(ai=Qn,Cn=kn,mi=(Qn=An.Ea)-(ci=Qn&~(Bn=(kn=1<<An.b)-1)),ii=ri(Qn,An.b),di=An.K,An=An.w+(Sn>>An.b)*ii;Sn<Wn;){for(Ki=di,$i=An,es=new ei,Hi=Cn+ci,Vs=Cn+Qn;Cn<Hi;)ji(Ki[$i++],es),Ec(es,ai,Cn,kn,sn,tn),Cn+=kn,tn+=kn;Cn<Vs&&(ji(Ki[$i++],es),Ec(es,ai,Cn,mi,sn,tn),Cn+=mi,tn+=mi),++Sn&Bn||(An+=ii)}break;case 3:if(Qn==sn&&kn==tn&&0<An.b){for(Cn=sn,Qn=ai=tn+(Wn-Sn)*ai-(ci=(Wn-Sn)*ri(An.Ea,An.b)),kn=sn,Bn=tn,ii=[],ci=(mi=ci)-1;0<=ci;--ci)ii[ci]=kn[Bn+ci];for(ci=mi-1;0<=ci;--ci)Cn[Qn+ci]=ii[ci];wa(An,Sn,Wn,sn,ai,sn,tn)}else wa(An,Sn,Wn,Qn,kn,sn,tn)}tn=Lr,sn=Br}sn!=Br&&Be(Lr,Br,tn,sn,Yr)}function pn(lr,xr){var Br=lr.V,Lr=lr.Ba+lr.c*lr.C,Wr=xr-lr.C;if(Ce(xr<=lr.l.o),Ce(16>=Wr),0<Wr){var Yr=lr.l,Jr=lr.Ta,tn=lr.Ua,sn=Yr.width;if(qr(lr,Wr,Br,Lr),Wr=tn=[tn],Ce((Br=lr.C)<(Lr=xr)),Ce(Yr.v<Yr.va),Lr>Yr.o&&(Lr=Yr.o),Br<Yr.j){var An=Yr.j-Br;Br=Yr.j,Wr[0]+=An*sn}if(Br>=Lr?Br=0:(Wr[0]+=4*Yr.v,Yr.ka=Br-Yr.j,Yr.U=Yr.va-Yr.v,Yr.T=Lr-Br,Br=1),Br){if(tn=tn[0],11>(Br=lr.ca).S){var Sn=Br.f.RGBA,Wn=(Lr=Br.S,Wr=Yr.U,Yr=Yr.T,An=Sn.eb,Sn.A),Qn=Yr;for(Sn=Sn.fb+lr.Ma*Sn.A;0<Qn--;){var kn=Jr,ai=tn,ii=Wr,Cn=An,Bn=Sn;switch(Lr){case Bo:Io(kn,ai,ii,Cn,Bn);break;case ed:Ka(kn,ai,ii,Cn,Bn);break;case Rd:Ka(kn,ai,ii,Cn,Bn),Jo(Cn,Bn,0,ii,1,0);break;case Uo:Lo(kn,ai,ii,Cn,Bn);break;case Sd:yi(kn,ai,ii,Cn,Bn,1);break;case eu:yi(kn,ai,ii,Cn,Bn,1),Jo(Cn,Bn,0,ii,1,0);break;case vu:yi(kn,ai,ii,Cn,Bn,0);break;case Tc:yi(kn,ai,ii,Cn,Bn,0),Jo(Cn,Bn,1,ii,1,0);break;case Sl:Sc(kn,ai,ii,Cn,Bn);break;case jc:Sc(kn,ai,ii,Cn,Bn),Es(Cn,Bn,ii,1,0);break;case qd:qo(kn,ai,ii,Cn,Bn);break;default:Ce(0)}tn+=sn,Sn+=Wn}lr.Ma+=Yr}else alert("todo:EmitRescaledRowsYUVA");Ce(lr.Ma<=Br.height)}}lr.C=xr,Ce(lr.C<=lr.i)}function on(lr){var xr;if(0<lr.ua)return 0;for(xr=0;xr<lr.Wb;++xr){var Br=lr.Ya[xr].G,Lr=lr.Ya[xr].H;if(0<Br[1][Lr[1]+0].g||0<Br[2][Lr[2]+0].g||0<Br[3][Lr[3]+0].g)return 0}return 1}function cn(lr,xr,Br,Lr,Wr,Yr){if(lr.Z!=0){var Jr=lr.qd,tn=lr.rd;for(Ce($l[lr.Z]!=null);xr<Br;++xr)$l[lr.Z](Jr,tn,Lr,Wr,Lr,Wr,Yr),Jr=Lr,tn=Wr,Wr+=Yr;lr.qd=Jr,lr.rd=tn}}function mn(lr,xr){var Br=lr.l.ma,Lr=Br.Z==0||Br.Z==1?lr.l.j:lr.C;if(Lr=lr.C<Lr?Lr:lr.C,Ce(xr<=lr.l.o),xr>Lr){var Wr=lr.l.width,Yr=Br.ca,Jr=Br.tb+Wr*Lr,tn=lr.V,sn=lr.Ba+lr.c*Lr,An=lr.gc;Ce(lr.ab==1),Ce(An[0].hc==3),Mo(An[0],Lr,xr,tn,sn,Yr,Jr),cn(Br,Lr,xr,Yr,Jr,Wr)}lr.C=lr.Ma=xr}function gn(lr,xr,Br,Lr,Wr,Yr,Jr){var tn=lr.$/Lr,sn=lr.$%Lr,An=lr.m,Sn=lr.s,Wn=Br+lr.$,Qn=Wn;Wr=Br+Lr*Wr;var kn=Br+Lr*Yr,ai=280+Sn.ua,ii=lr.Pb?tn:16777216,Cn=0<Sn.ua?Sn.Wa:null,Bn=Sn.wc,ci=Wn<kn?ra(Sn,sn,tn):null;Ce(lr.C<Yr),Ce(kn<=Wr);var mi=!1;e:for(;;){for(;mi||Wn<kn;){var di=0;if(tn>=ii){var Ki=Wn-Br;Ce((ii=lr).Pb),ii.wd=ii.m,ii.xd=Ki,0<ii.s.ua&&yn(ii.s.Wa,ii.s.vb),ii=tn+nh}if(sn&Bn||(ci=ra(Sn,sn,tn)),Ce(ci!=null),ci.Qb&&(xr[Wn]=ci.qb,mi=!0),!mi)if(br(An),ci.jc){di=An,Ki=xr;var $i=Wn,es=ci.pd[Ir(di)&ba-1];Ce(ci.jc),256>es.g?(Or(di,di.u+es.g),Ki[$i]=es.value,di=0):(Or(di,di.u+es.g-256),Ce(256<=es.value),di=es.value),di==0&&(mi=!0)}else di=Xs(ci.G[0],ci.H[0],An);if(An.h)break;if(mi||256>di){if(!mi)if(ci.nd)xr[Wn]=(ci.qb|di<<8)>>>0;else{if(br(An),mi=Xs(ci.G[1],ci.H[1],An),br(An),Ki=Xs(ci.G[2],ci.H[2],An),$i=Xs(ci.G[3],ci.H[3],An),An.h)break;xr[Wn]=($i<<24|mi<<16|di<<8|Ki)>>>0}if(mi=!1,++Wn,++sn>=Lr&&(sn=0,++tn,Jr!=null&&tn<=Yr&&!(tn%16)&&Jr(lr,tn),Cn!=null))for(;Qn<Wn;)di=xr[Qn++],Cn.X[(506832829*di&4294967295)>>>Cn.Mb]=di}else if(280>di){if(di=Qs(di-256,An),Ki=Xs(ci.G[4],ci.H[4],An),br(An),Ki=Fs(Lr,Ki=Qs(Ki,An)),An.h)break;if(Wn-Br<Ki||Wr-Wn<di)break e;for($i=0;$i<di;++$i)xr[Wn+$i]=xr[Wn+$i-Ki];for(Wn+=di,sn+=di;sn>=Lr;)sn-=Lr,++tn,Jr!=null&&tn<=Yr&&!(tn%16)&&Jr(lr,tn);if(Ce(Wn<=Wr),sn&Bn&&(ci=ra(Sn,sn,tn)),Cn!=null)for(;Qn<Wn;)di=xr[Qn++],Cn.X[(506832829*di&4294967295)>>>Cn.Mb]=di}else{if(!(di<ai))break e;for(mi=di-280,Ce(Cn!=null);Qn<Wn;)di=xr[Qn++],Cn.X[(506832829*di&4294967295)>>>Cn.Mb]=di;di=Wn,Ce(!(mi>>>(Ki=Cn).Xa)),xr[di]=Ki.X[mi],mi=!0}mi||Ce(An.h==Dr(An))}if(lr.Pb&&An.h&&Wn<Wr)Ce(lr.m.h),lr.a=5,lr.m=lr.wd,lr.$=lr.xd,0<lr.s.ua&&yn(lr.s.vb,lr.s.Wa);else{if(An.h)break e;Jr?.(lr,tn>Yr?Yr:tn),lr.a=0,lr.$=Wn-Br}return 1}return lr.a=3,0}function Un(lr){Ce(lr!=null),lr.vc=null,lr.yc=null,lr.Ya=null;var xr=lr.Wa;xr!=null&&(xr.X=null),lr.vb=null,Ce(lr!=null)}function Jn(){var lr=new Xu;return lr==null?null:(lr.a=0,lr.xb=rd,jn("Predictor","VP8LPredictors"),jn("Predictor","VP8LPredictors_C"),jn("PredictorAdd","VP8LPredictorsAdd"),jn("PredictorAdd","VP8LPredictorsAdd_C"),_d=Ti,Ec=wi,Io=an,Ka=On,Sc=Mn,qo=ui,Lo=Vn,nr.VP8LMapColor32b=da,nr.VP8LMapColor8b=Ta,lr)}function Dn(lr,xr,Br,Lr,Wr){var Yr=1,Jr=[lr],tn=[xr],sn=Lr.m,An=Lr.s,Sn=null,Wn=0;e:for(;;){if(Br)for(;Yr&&Pr(sn,1);){var Qn=Jr,kn=tn,ai=Lr,ii=1,Cn=ai.m,Bn=ai.gc[ai.ab],ci=Pr(Cn,2);if(ai.Oc&1<<ci)Yr=0;else{switch(ai.Oc|=1<<ci,Bn.hc=ci,Bn.Ea=Qn[0],Bn.nc=kn[0],Bn.K=[null],++ai.ab,Ce(4>=ai.ab),ci){case 0:case 1:Bn.b=Pr(Cn,3)+2,ii=Dn(ri(Bn.Ea,Bn.b),ri(Bn.nc,Bn.b),0,ai,Bn.K),Bn.K=Bn.K[0];break;case 3:var mi,di=Pr(Cn,8)+1,Ki=16<di?0:4<di?1:2<di?2:3;if(Qn[0]=ri(Bn.Ea,Ki),Bn.b=Ki,mi=ii=Dn(di,1,0,ai,Bn.K)){var $i,es=di,Hi=Bn,Vs=1<<(8>>Hi.b),Ks=Fe(Vs);if(Ks==null)mi=0;else{var bs=Hi.K[0],_i=Hi.w;for(Ks[0]=Hi.K[0][0],$i=1;$i<1*es;++$i)Ks[$i]=Yn(bs[_i+$i],Ks[$i-1]);for(;$i<4*Vs;++$i)Ks[$i]=0;Hi.K[0]=null,Hi.K[0]=Ks,mi=1}}ii=mi;break;case 2:break;default:Ce(0)}Yr=ii}}if(Jr=Jr[0],tn=tn[0],Yr&&Pr(sn,1)&&!(Yr=1<=(Wn=Pr(sn,4))&&11>=Wn)){Lr.a=3;break e}var Zs;if(Zs=Yr)t:{var Gs,fs,Ps,ns=Lr,ls=Jr,Ts=tn,Ns=Wn,go=Br,Xa=ns.m,Ma=ns.s,ia=[null],Ia=1,Zo=0,qs=bu[Ns];r:for(;;){if(go&&Pr(Xa,1)){var La=Pr(Xa,3)+2,Hl=ri(ls,La),dc=ri(Ts,La),Eu=Hl*dc;if(!Dn(Hl,dc,0,ns,ia))break r;for(ia=ia[0],Ma.xc=La,Gs=0;Gs<Eu;++Gs){var nu=ia[Gs]>>8&65535;ia[Gs]=nu,nu>=Ia&&(Ia=nu+1)}}if(Xa.h)break r;for(fs=0;5>fs;++fs){var ma=ll[fs];!fs&&0<Ns&&(ma+=1<<Ns),Zo<ma&&(Zo=ma)}var Pd=ke(Ia*qs,or),tf=Ia,Vo=ke(tf,Cr);if(Vo==null)var Sa=null;else Ce(65536>=tf),Sa=Vo;var Su=Fe(Zo);if(Sa==null||Su==null||Pd==null){ns.a=1;break r}var Dc=Pd;for(Gs=Ps=0;Gs<Ia;++Gs){var el=Sa[Gs],iu=el.G,tl=el.H,sd=0,ad=1,Ru=0;for(fs=0;5>fs;++fs){ma=ll[fs],iu[fs]=Dc,tl[fs]=Ps,!fs&&0<Ns&&(ma+=1<<Ns);i:{var Id,od=ma,Cu=ns,Tu=Su,Pf=Dc,lh=Ps,ld=0,Ql=Cu.m,If=Pr(Ql,1);if(De(Tu,0,0,od),If){var Bf=Pr(Ql,1)+1,Nf=Pr(Ql,1),rf=Pr(Ql,Nf==0?1:8);Tu[rf]=1,Bf==2&&(Tu[rf=Pr(Ql,8)]=1);var ju=1}else{var Bd=Fe(19),Df=Pr(Ql,4)+4;if(19<Df){Cu.a=3;var Nd=0;break i}for(Id=0;Id<Df;++Id)Bd[Cl[Id]]=Pr(Ql,3);var nf=void 0,yo=void 0,sf=Cu,ch=Bd,Fc=od,Dd=Tu,af=0,zl=sf.m,cd=8,Ff=ke(128,or);n:for(;fr(Ff,0,7,ch,19);){if(Pr(zl,1)){var uh=2+2*Pr(zl,3);if((nf=2+Pr(zl,uh))>Fc)break n}else nf=Fc;for(yo=0;yo<Fc&&nf--;){br(zl);var kf=Ff[0+(127&Ir(zl))];Or(zl,zl.u+kf.g);var su=kf.value;if(16>su)Dd[yo++]=su,su!=0&&(cd=su);else{var dh=su==16,Fd=su-16,of=Rl[Fd],Ja=Pr(zl,Yd[Fd])+of;if(yo+Ja>Fc)break n;for(var ud=dh?cd:0;0<Ja--;)Dd[yo++]=ud}}af=1;break n}af||(sf.a=3),ju=af}(ju=ju&&!Ql.h)&&(ld=fr(Pf,lh,8,Tu,od)),ju&&ld!=0?Nd=ld:(Cu.a=3,Nd=0)}if(Nd==0)break r;if(ad&&yu[fs]==1&&(ad=Dc[Ps].g==0),sd+=Dc[Ps].g,Ps+=Nd,3>=fs){var Pu,lf=Su[0];for(Pu=1;Pu<ma;++Pu)Su[Pu]>lf&&(lf=Su[Pu]);Ru+=lf}}if(el.nd=ad,el.Qb=0,ad&&(el.qb=(iu[3][tl[3]+0].value<<24|iu[1][tl[1]+0].value<<16|iu[2][tl[2]+0].value)>>>0,sd==0&&256>iu[0][tl[0]+0].value&&(el.Qb=1,el.qb+=iu[0][tl[0]+0].value<<8)),el.jc=!el.Qb&&6>Ru,el.jc){var dd,Wl=el;for(dd=0;dd<ba;++dd){var fc=dd,kc=Wl.pd[fc],kd=Wl.G[0][Wl.H[0]+fc];256<=kd.value?(kc.g=kd.g+256,kc.value=kd.value):(kc.g=0,kc.value=0,fc>>=Yi(kd,8,kc),fc>>=Yi(Wl.G[1][Wl.H[1]+fc],16,kc),fc>>=Yi(Wl.G[2][Wl.H[2]+fc],0,kc),Yi(Wl.G[3][Wl.H[3]+fc],24,kc))}}}Ma.vc=ia,Ma.Wb=Ia,Ma.Ya=Sa,Ma.yc=Pd,Zs=1;break t}Zs=0}if(!(Yr=Zs)){Lr.a=3;break e}if(0<Wn){if(An.ua=1<<Wn,!hn(An.Wa,Wn)){Lr.a=1,Yr=0;break e}}else An.ua=0;var Od=Lr,Of=Jr,fh=tn,Mf=Od.s,Lf=Mf.xc;if(Od.c=Of,Od.i=fh,Mf.md=ri(Of,Lf),Mf.wc=Lf==0?-1:(1<<Lf)-1,Br){Lr.xb=sh;break e}if((Sn=Fe(Jr*tn))==null){Lr.a=1,Yr=0;break e}Yr=(Yr=gn(Lr,Sn,0,Jr,tn,tn,null))&&!sn.h;break e}return Yr?(Wr!=null?Wr[0]=Sn:(Ce(Sn==null),Ce(Br)),Lr.$=0,Br||Un(An)):Un(An),Yr}function zn(lr,xr){var Br=lr.c*lr.i,Lr=Br+xr+16*xr;return Ce(lr.c<=xr),lr.V=Fe(Lr),lr.V==null?(lr.Ta=null,lr.Ua=0,lr.a=1,0):(lr.Ta=lr.V,lr.Ua=lr.Ba+Br+xr,1)}function qn(lr,xr){var Br=lr.C,Lr=xr-Br,Wr=lr.V,Yr=lr.Ba+lr.c*Br;for(Ce(xr<=lr.l.o);0<Lr;){var Jr=16<Lr?16:Lr,tn=lr.l.ma,sn=lr.l.width,An=sn*Jr,Sn=tn.ca,Wn=tn.tb+sn*Br,Qn=lr.Ta,kn=lr.Ua;qr(lr,Jr,Wr,Yr),ca(Qn,kn,Sn,Wn,An),cn(tn,Br,Br+Jr,Sn,Wn,sn),Lr-=Jr,Wr+=Jr*lr.c,Br+=Jr}Ce(Br==xr),lr.C=lr.Ma=xr}function vi(){this.ub=this.yd=this.td=this.Rb=0}function Ii(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function zi(){this.Fb=this.Bb=this.Cb=0,this.Zb=Fe(4),this.Lb=Fe(4)}function Pi(){this.Yb=(function(){var lr=[];return(function xr(Br,Lr,Wr){for(var Yr=Wr[Lr],Jr=0;Jr<Yr&&(Br.push(Wr.length>Lr+1?[]:0),!(Wr.length<Lr+1));Jr++)xr(Br[Jr],Lr+1,Wr)})(lr,0,[3,11]),lr})()}function Ui(){this.jb=Fe(3),this.Wc=Oe([4,8],Pi),this.Xc=Oe([4,17],Pi)}function ss(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new Fe(4),this.od=new Fe(4)}function gs(){this.ld=this.La=this.dd=this.tc=0}function ws(){this.Na=this.la=0}function ys(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function eo(){this.ad=Fe(384),this.Za=0,this.Ob=Fe(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function wo(){this.uc=this.M=this.Nb=0,this.wa=Array(new gs),this.Y=0,this.ya=Array(new eo),this.aa=0,this.l=new co}function oo(){this.y=Fe(16),this.f=Fe(8),this.ea=Fe(8)}function Eo(){this.cb=this.a=0,this.sc="",this.m=new Mr,this.Od=new vi,this.Kc=new Ii,this.ed=new ss,this.Qa=new zi,this.Ic=this.$c=this.Aa=0,this.D=new wo,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=ke(8,Mr),this.ia=0,this.pb=ke(4,ys),this.Pa=new Ui,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new oo),this.Hd=0,this.rb=Array(new ws),this.sb=0,this.wa=Array(new gs),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new eo),this.L=this.aa=0,this.gd=Oe([4,2],gs),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function co(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Na(){var lr=new Eo;return lr!=null&&(lr.a=0,lr.sc="OK",lr.cb=0,lr.Xb=0,Ga||(Ga=mc)),lr}function la(lr,xr,Br){return lr.a==0&&(lr.a=xr,lr.sc=Br,lr.cb=0),0}function uo(lr,xr,Br){return 3<=Br&&lr[xr+0]==157&&lr[xr+1]==1&&lr[xr+2]==42}function $c(lr,xr){if(lr==null)return 0;if(lr.a=0,lr.sc="OK",xr==null)return la(lr,2,"null VP8Io passed to VP8GetHeaders()");var Br=xr.data,Lr=xr.w,Wr=xr.ha;if(4>Wr)return la(lr,7,"Truncated header.");var Yr=Br[Lr+0]|Br[Lr+1]<<8|Br[Lr+2]<<16,Jr=lr.Od;if(Jr.Rb=!(1&Yr),Jr.td=Yr>>1&7,Jr.yd=Yr>>4&1,Jr.ub=Yr>>5,3<Jr.td)return la(lr,3,"Incorrect keyframe parameters.");if(!Jr.yd)return la(lr,4,"Frame not displayable.");Lr+=3,Wr-=3;var tn=lr.Kc;if(Jr.Rb){if(7>Wr)return la(lr,7,"cannot parse picture header");if(!uo(Br,Lr,Wr))return la(lr,3,"Bad code word");tn.c=16383&(Br[Lr+4]<<8|Br[Lr+3]),tn.Td=Br[Lr+4]>>6,tn.i=16383&(Br[Lr+6]<<8|Br[Lr+5]),tn.Ud=Br[Lr+6]>>6,Lr+=7,Wr-=7,lr.za=tn.c+15>>4,lr.Ub=tn.i+15>>4,xr.width=tn.c,xr.height=tn.i,xr.Da=0,xr.j=0,xr.v=0,xr.va=xr.width,xr.o=xr.height,xr.da=0,xr.ib=xr.width,xr.hb=xr.height,xr.U=xr.width,xr.T=xr.height,De((Yr=lr.Pa).jb,0,255,Yr.jb.length),Ce((Yr=lr.Qa)!=null),Yr.Cb=0,Yr.Bb=0,Yr.Fb=1,De(Yr.Zb,0,0,Yr.Zb.length),De(Yr.Lb,0,0,Yr.Lb)}if(Jr.ub>Wr)return la(lr,7,"bad partition length");jr(Yr=lr.m,Br,Lr,Jr.ub),Lr+=Jr.ub,Wr-=Jr.ub,Jr.Rb&&(tn.Ld=Qr(Yr),tn.Kd=Qr(Yr)),tn=lr.Qa;var sn,An=lr.Pa;if(Ce(Yr!=null),Ce(tn!=null),tn.Cb=Qr(Yr),tn.Cb){if(tn.Bb=Qr(Yr),Qr(Yr)){for(tn.Fb=Qr(Yr),sn=0;4>sn;++sn)tn.Zb[sn]=Qr(Yr)?Tr(Yr,7):0;for(sn=0;4>sn;++sn)tn.Lb[sn]=Qr(Yr)?Tr(Yr,6):0}if(tn.Bb)for(sn=0;3>sn;++sn)An.jb[sn]=Qr(Yr)?vr(Yr,8):255}else tn.Bb=0;if(Yr.Ka)return la(lr,3,"cannot parse segment header");if((tn=lr.ed).zd=Qr(Yr),tn.Tb=vr(Yr,6),tn.wb=vr(Yr,3),tn.Pc=Qr(Yr),tn.Pc&&Qr(Yr)){for(An=0;4>An;++An)Qr(Yr)&&(tn.vd[An]=Tr(Yr,6));for(An=0;4>An;++An)Qr(Yr)&&(tn.od[An]=Tr(Yr,6))}if(lr.L=tn.Tb==0?0:tn.zd?1:2,Yr.Ka)return la(lr,3,"cannot parse filter header");var Sn=Wr;if(Wr=sn=Lr,Lr=sn+Sn,tn=Sn,lr.Xb=(1<<vr(lr.m,2))-1,Sn<3*(An=lr.Xb))Br=7;else{for(sn+=3*An,tn-=3*An,Sn=0;Sn<An;++Sn){var Wn=Br[Wr+0]|Br[Wr+1]<<8|Br[Wr+2]<<16;Wn>tn&&(Wn=tn),jr(lr.Jc[+Sn],Br,sn,Wn),sn+=Wn,tn-=Wn,Wr+=3}jr(lr.Jc[+An],Br,sn,tn),Br=sn<Lr?0:5}if(Br!=0)return la(lr,Br,"cannot parse partitions");for(Br=vr(sn=lr.m,7),Wr=Qr(sn)?Tr(sn,4):0,Lr=Qr(sn)?Tr(sn,4):0,tn=Qr(sn)?Tr(sn,4):0,An=Qr(sn)?Tr(sn,4):0,sn=Qr(sn)?Tr(sn,4):0,Sn=lr.Qa,Wn=0;4>Wn;++Wn){if(Sn.Cb){var Qn=Sn.Zb[Wn];Sn.Fb||(Qn+=Br)}else{if(0<Wn){lr.pb[Wn]=lr.pb[0];continue}Qn=Br}var kn=lr.pb[Wn];kn.Sc[0]=Cd[Bs(Qn+Wr,127)],kn.Sc[1]=tu[Bs(Qn+0,127)],kn.Eb[0]=2*Cd[Bs(Qn+Lr,127)],kn.Eb[1]=101581*tu[Bs(Qn+tn,127)]>>16,8>kn.Eb[1]&&(kn.Eb[1]=8),kn.Qc[0]=Cd[Bs(Qn+An,117)],kn.Qc[1]=tu[Bs(Qn+sn,127)],kn.lc=Qn+sn}if(!Jr.Rb)return la(lr,4,"Not a key frame.");for(Qr(Yr),Jr=lr.Pa,Br=0;4>Br;++Br){for(Wr=0;8>Wr;++Wr)for(Lr=0;3>Lr;++Lr)for(tn=0;11>tn;++tn)An=zr(Yr,wu[Br][Wr][Lr][tn])?vr(Yr,8):oc[Br][Wr][Lr][tn],Jr.Wc[Br][Wr].Yb[Lr][tn]=An;for(Wr=0;17>Wr;++Wr)Jr.Xc[Br][Wr]=Jr.Wc[Br][ih[Wr]]}return lr.kc=Qr(Yr),lr.kc&&(lr.Bd=vr(Yr,8)),lr.cb=1}function mc(lr,xr,Br,Lr,Wr,Yr,Jr){var tn=xr[Wr].Yb[Br];for(Br=0;16>Wr;++Wr){if(!zr(lr,tn[Br+0]))return Wr;for(;!zr(lr,tn[Br+1]);)if(tn=xr[++Wr].Yb[0],Br=0,Wr==16)return 16;var sn=xr[Wr+1].Yb;if(zr(lr,tn[Br+2])){var An=lr,Sn=0;if(zr(An,(Qn=tn)[(Wn=Br)+3]))if(zr(An,Qn[Wn+6])){for(tn=0,Wn=2*(Sn=zr(An,Qn[Wn+8]))+(Qn=zr(An,Qn[Wn+9+Sn])),Sn=0,Qn=Pa[Wn];Qn[tn];++tn)Sn+=Sn+zr(An,Qn[tn]);Sn+=3+(8<<Wn)}else zr(An,Qn[Wn+7])?(Sn=7+2*zr(An,165),Sn+=zr(An,145)):Sn=5+zr(An,159);else Sn=zr(An,Qn[Wn+4])?3+zr(An,Qn[Wn+5]):2;tn=sn[2]}else Sn=1,tn=sn[1];sn=Jr+zs[Wr],0>(An=lr).b&&Ur(An);var Wn,Qn=An.b,kn=(Wn=An.Ca>>1)-(An.I>>Qn)>>31;--An.b,An.Ca+=kn,An.Ca|=1,An.I-=(Wn+1&kn)<<Qn,Yr[sn]=((Sn^kn)-kn)*Lr[(0<Wr)+0]}return 16}function sl(lr){var xr=lr.rb[lr.sb-1];xr.la=0,xr.Na=0,De(lr.zc,0,0,lr.zc.length),lr.ja=0}function Bl(lr,xr){if(lr==null)return 0;if(xr==null)return la(lr,2,"NULL VP8Io parameter in VP8Decode().");if(!lr.cb&&!$c(lr,xr))return 0;if(Ce(lr.cb),xr.ac==null||xr.ac(xr)){xr.ob&&(lr.L=0);var Br=Nc[lr.L];if(lr.L==2?(lr.yb=0,lr.zb=0):(lr.yb=xr.v-Br>>4,lr.zb=xr.j-Br>>4,0>lr.yb&&(lr.yb=0),0>lr.zb&&(lr.zb=0)),lr.Va=xr.o+15+Br>>4,lr.Hb=xr.va+15+Br>>4,lr.Hb>lr.za&&(lr.Hb=lr.za),lr.Va>lr.Ub&&(lr.Va=lr.Ub),0<lr.L){var Lr=lr.ed;for(Br=0;4>Br;++Br){var Wr;if(lr.Qa.Cb){var Yr=lr.Qa.Lb[Br];lr.Qa.Fb||(Yr+=Lr.Tb)}else Yr=Lr.Tb;for(Wr=0;1>=Wr;++Wr){var Jr=lr.gd[Br][Wr],tn=Yr;if(Lr.Pc&&(tn+=Lr.vd[0],Wr&&(tn+=Lr.od[0])),0<(tn=0>tn?0:63<tn?63:tn)){var sn=tn;0<Lr.wb&&(sn=4<Lr.wb?sn>>2:sn>>1)>9-Lr.wb&&(sn=9-Lr.wb),1>sn&&(sn=1),Jr.dd=sn,Jr.tc=2*tn+sn,Jr.ld=40<=tn?2:15<=tn?1:0}else Jr.tc=0;Jr.La=Wr}}}Br=0}else la(lr,6,"Frame setup failed"),Br=lr.a;if(Br=Br==0){if(Br){lr.$c=0,0<lr.Aa||(lr.Ic=jf);e:{Br=lr.Ic,Lr=4*(sn=lr.za);var An=32*sn,Sn=sn+1,Wn=0<lr.L?sn*(0<lr.Aa?2:1):0,Qn=(lr.Aa==2?2:1)*sn;if((Jr=Lr+832+(Wr=3*(16*Br+Nc[lr.L])/2*An)+(Yr=lr.Fa!=null&&0<lr.Fa.length?lr.Kc.c*lr.Kc.i:0))!=Jr)Br=0;else{if(Jr>lr.Vb){if(lr.Vb=0,lr.Ec=Fe(Jr),lr.Fc=0,lr.Ec==null){Br=la(lr,1,"no memory during frame initialization.");break e}lr.Vb=Jr}Jr=lr.Ec,tn=lr.Fc,lr.Ac=Jr,lr.Bc=tn,tn+=Lr,lr.Gd=ke(An,oo),lr.Hd=0,lr.rb=ke(Sn+1,ws),lr.sb=1,lr.wa=Wn?ke(Wn,gs):null,lr.Y=0,lr.D.Nb=0,lr.D.wa=lr.wa,lr.D.Y=lr.Y,0<lr.Aa&&(lr.D.Y+=sn),Ce(!0),lr.oc=Jr,lr.pc=tn,tn+=832,lr.ya=ke(Qn,eo),lr.aa=0,lr.D.ya=lr.ya,lr.D.aa=lr.aa,lr.Aa==2&&(lr.D.aa+=sn),lr.R=16*sn,lr.B=8*sn,sn=(An=Nc[lr.L])*lr.R,An=An/2*lr.B,lr.sa=Jr,lr.ta=tn+sn,lr.qa=lr.sa,lr.ra=lr.ta+16*Br*lr.R+An,lr.Ha=lr.qa,lr.Ia=lr.ra+8*Br*lr.B+An,lr.$c=0,tn+=Wr,lr.mb=Yr?Jr:null,lr.nb=Yr?tn:null,Ce(tn+Yr<=lr.Fc+lr.Vb),sl(lr),De(lr.Ac,lr.Bc,0,Lr),Br=1}}if(Br){if(xr.ka=0,xr.y=lr.sa,xr.O=lr.ta,xr.f=lr.qa,xr.N=lr.ra,xr.ea=lr.Ha,xr.Vd=lr.Ia,xr.fa=lr.R,xr.Rc=lr.B,xr.F=null,xr.J=0,!Cc){for(Br=-255;255>=Br;++Br)pa[255+Br]=0>Br?-Br:Br;for(Br=-1020;1020>=Br;++Br)_l[1020+Br]=-128>Br?-128:127<Br?127:Br;for(Br=-112;112>=Br;++Br)Zc[112+Br]=-16>Br?-16:15<Br?15:Br;for(Br=-255;510>=Br;++Br)ac[255+Br]=0>Br?0:255<Br?255:Br;Cc=1}Ao=Qo,Ll=Jl,Yo=hl,Oa=Ws,Xo=Zl,ja=Xl,Au=ol,Ha=bl,pu=kl,Yc=vc,Xc=Qc,Ul=To,mu=yc,gu=rc,Rc=ho,sc=Co,Jc=$a,Ea=Yu,$o[0]=So,$o[1]=Gu,$o[2]=pl,$o[3]=qu,$o[4]=Wo,$o[5]=ml,$o[6]=ko,$o[7]=ya,$o[8]=xl,$o[9]=gl,Ic[0]=fo,Ic[1]=du,Ic[2]=Nl,Ic[3]=gc,Ic[4]=na,Ic[5]=Dl,Ic[6]=Al,No[0]=vl,No[1]=Vc,No[2]=Hc,No[3]=Ko,No[4]=Rs,No[5]=Fa,No[6]=Fl,Br=1}else Br=0}Br&&(Br=(function(kn,ai){for(kn.M=0;kn.M<kn.Va;++kn.M){var ii,Cn=kn.Jc[kn.M&kn.Xb],Bn=kn.m,ci=kn;for(ii=0;ii<ci.za;++ii){var mi=Bn,di=ci,Ki=di.Ac,$i=di.Bc+4*ii,es=di.zc,Hi=di.ya[di.aa+ii];if(di.Qa.Bb?Hi.$b=zr(mi,di.Pa.jb[0])?2+zr(mi,di.Pa.jb[2]):zr(mi,di.Pa.jb[1]):Hi.$b=0,di.kc&&(Hi.Ad=zr(mi,di.Bd)),Hi.Za=!zr(mi,145)+0,Hi.Za){var Vs=Hi.Ob,Ks=0;for(di=0;4>di;++di){var bs,_i=es[0+di];for(bs=0;4>bs;++bs){_i=Rf[Ki[$i+bs]][_i];for(var Zs=ru[zr(mi,_i[0])];0<Zs;)Zs=ru[2*Zs+zr(mi,_i[Zs])];_i=-Zs,Ki[$i+bs]=_i}Be(Vs,Ks,Ki,$i,4),Ks+=4,es[0+di]=_i}}else _i=zr(mi,156)?zr(mi,128)?1:3:zr(mi,163)?2:0,Hi.Ob[0]=_i,De(Ki,$i,_i,4),De(es,0,_i,4);Hi.Dd=zr(mi,142)?zr(mi,114)?zr(mi,183)?1:3:2:0}if(ci.m.Ka)return la(kn,7,"Premature end-of-partition0 encountered.");for(;kn.ja<kn.za;++kn.ja){if(ci=Cn,mi=(Bn=kn).rb[Bn.sb-1],Ki=Bn.rb[Bn.sb+Bn.ja],ii=Bn.ya[Bn.aa+Bn.ja],$i=Bn.kc?ii.Ad:0)mi.la=Ki.la=0,ii.Za||(mi.Na=Ki.Na=0),ii.Hc=0,ii.Gc=0,ii.ia=0;else{var Gs,fs;if(mi=Ki,Ki=ci,$i=Bn.Pa.Xc,es=Bn.ya[Bn.aa+Bn.ja],Hi=Bn.pb[es.$b],di=es.ad,Vs=0,Ks=Bn.rb[Bn.sb-1],_i=bs=0,De(di,Vs,0,384),es.Za)var Ps=0,ns=$i[3];else{Zs=Fe(16);var ls=mi.Na+Ks.Na;if(ls=Ga(Ki,$i[1],ls,Hi.Eb,0,Zs,0),mi.Na=Ks.Na=(0<ls)+0,1<ls)Ao(Zs,0,di,Vs);else{var Ts=Zs[0]+3>>3;for(Zs=0;256>Zs;Zs+=16)di[Vs+Zs]=Ts}Ps=1,ns=$i[0]}var Ns=15&mi.la,go=15&Ks.la;for(Zs=0;4>Zs;++Zs){var Xa=1&go;for(Ts=fs=0;4>Ts;++Ts)Ns=Ns>>1|(Xa=(ls=Ga(Ki,ns,ls=Xa+(1&Ns),Hi.Sc,Ps,di,Vs))>Ps)<<7,fs=fs<<2|(3<ls?3:1<ls?2:di[Vs+0]!=0),Vs+=16;Ns>>=4,go=go>>1|Xa<<7,bs=(bs<<8|fs)>>>0}for(ns=Ns,Ps=go>>4,Gs=0;4>Gs;Gs+=2){for(fs=0,Ns=mi.la>>4+Gs,go=Ks.la>>4+Gs,Zs=0;2>Zs;++Zs){for(Xa=1&go,Ts=0;2>Ts;++Ts)ls=Xa+(1&Ns),Ns=Ns>>1|(Xa=0<(ls=Ga(Ki,$i[2],ls,Hi.Qc,0,di,Vs)))<<3,fs=fs<<2|(3<ls?3:1<ls?2:di[Vs+0]!=0),Vs+=16;Ns>>=2,go=go>>1|Xa<<5}_i|=fs<<4*Gs,ns|=Ns<<4<<Gs,Ps|=(240&go)<<Gs}mi.la=ns,Ks.la=Ps,es.Hc=bs,es.Gc=_i,es.ia=43690&_i?0:Hi.ia,$i=!(bs|_i)}if(0<Bn.L&&(Bn.wa[Bn.Y+Bn.ja]=Bn.gd[ii.$b][ii.Za],Bn.wa[Bn.Y+Bn.ja].La|=!$i),ci.Ka)return la(kn,7,"Premature end-of-file encountered.")}if(sl(kn),Bn=ai,ci=1,ii=(Cn=kn).D,mi=0<Cn.L&&Cn.M>=Cn.zb&&Cn.M<=Cn.Va,Cn.Aa==0)e:{if(ii.M=Cn.M,ii.uc=mi,Os(Cn,ii),ci=1,ii=(fs=Cn.D).Nb,mi=(_i=Nc[Cn.L])*Cn.R,Ki=_i/2*Cn.B,Zs=16*ii*Cn.R,Ts=8*ii*Cn.B,$i=Cn.sa,es=Cn.ta-mi+Zs,Hi=Cn.qa,di=Cn.ra-Ki+Ts,Vs=Cn.Ha,Ks=Cn.Ia-Ki+Ts,go=(Ns=fs.M)==0,bs=Ns>=Cn.Va-1,Cn.Aa==2&&Os(Cn,fs),fs.uc)for(Xa=(ls=Cn).D.M,Ce(ls.D.uc),fs=ls.yb;fs<ls.Hb;++fs){Ps=fs,ns=Xa;var Ma=(ia=(ma=ls).D).Nb;Gs=ma.R;var ia=ia.wa[ia.Y+Ps],Ia=ma.sa,Zo=ma.ta+16*Ma*Gs+16*Ps,qs=ia.dd,La=ia.tc;if(La!=0)if(Ce(3<=La),ma.L==1)0<Ps&&sc(Ia,Zo,Gs,La+4),ia.La&&Ea(Ia,Zo,Gs,La),0<ns&&Rc(Ia,Zo,Gs,La+4),ia.La&&Jc(Ia,Zo,Gs,La);else{var Hl=ma.B,dc=ma.qa,Eu=ma.ra+8*Ma*Hl+8*Ps,nu=ma.Ha,ma=ma.Ia+8*Ma*Hl+8*Ps;Ma=ia.ld,0<Ps&&(Ha(Ia,Zo,Gs,La+4,qs,Ma),Yc(dc,Eu,nu,ma,Hl,La+4,qs,Ma)),ia.La&&(Ul(Ia,Zo,Gs,La,qs,Ma),gu(dc,Eu,nu,ma,Hl,La,qs,Ma)),0<ns&&(Au(Ia,Zo,Gs,La+4,qs,Ma),pu(dc,Eu,nu,ma,Hl,La+4,qs,Ma)),ia.La&&(Xc(Ia,Zo,Gs,La,qs,Ma),mu(dc,Eu,nu,ma,Hl,La,qs,Ma))}}if(Cn.ia&&alert("todo:DitherRow"),Bn.put!=null){if(fs=16*Ns,Ns=16*(Ns+1),go?(Bn.y=Cn.sa,Bn.O=Cn.ta+Zs,Bn.f=Cn.qa,Bn.N=Cn.ra+Ts,Bn.ea=Cn.Ha,Bn.W=Cn.Ia+Ts):(fs-=_i,Bn.y=$i,Bn.O=es,Bn.f=Hi,Bn.N=di,Bn.ea=Vs,Bn.W=Ks),bs||(Ns-=_i),Ns>Bn.o&&(Ns=Bn.o),Bn.F=null,Bn.J=null,Cn.Fa!=null&&0<Cn.Fa.length&&fs<Ns&&(Bn.J=Wc(Cn,Bn,fs,Ns-fs),Bn.F=Cn.mb,Bn.F==null&&Bn.F.length==0)){ci=la(Cn,3,"Could not decode alpha data.");break e}fs<Bn.j&&(_i=Bn.j-fs,fs=Bn.j,Ce(!(1&_i)),Bn.O+=Cn.R*_i,Bn.N+=Cn.B*(_i>>1),Bn.W+=Cn.B*(_i>>1),Bn.F!=null&&(Bn.J+=Bn.width*_i)),fs<Ns&&(Bn.O+=Bn.v,Bn.N+=Bn.v>>1,Bn.W+=Bn.v>>1,Bn.F!=null&&(Bn.J+=Bn.v),Bn.ka=fs-Bn.j,Bn.U=Bn.va-Bn.v,Bn.T=Ns-fs,ci=Bn.put(Bn))}ii+1!=Cn.Ic||bs||(Be(Cn.sa,Cn.ta-mi,$i,es+16*Cn.R,mi),Be(Cn.qa,Cn.ra-Ki,Hi,di+8*Cn.B,Ki),Be(Cn.Ha,Cn.Ia-Ki,Vs,Ks+8*Cn.B,Ki))}if(!ci)return la(kn,6,"Output aborted.")}return 1})(lr,xr)),xr.bc!=null&&xr.bc(xr),Br&=1}return Br?(lr.cb=0,Br):0}function xo(lr,xr,Br,Lr,Wr){Wr=lr[xr+Br+32*Lr]+(Wr>>3),lr[xr+Br+32*Lr]=-256&Wr?0>Wr?0:255:Wr}function Da(lr,xr,Br,Lr,Wr,Yr){xo(lr,xr,0,Br,Lr+Wr),xo(lr,xr,1,Br,Lr+Yr),xo(lr,xr,2,Br,Lr-Yr),xo(lr,xr,3,Br,Lr-Wr)}function ks(lr){return(20091*lr>>16)+lr}function vo(lr,xr,Br,Lr){var Wr,Yr=0,Jr=Fe(16);for(Wr=0;4>Wr;++Wr){var tn=lr[xr+0]+lr[xr+8],sn=lr[xr+0]-lr[xr+8],An=(35468*lr[xr+4]>>16)-ks(lr[xr+12]),Sn=ks(lr[xr+4])+(35468*lr[xr+12]>>16);Jr[Yr+0]=tn+Sn,Jr[Yr+1]=sn+An,Jr[Yr+2]=sn-An,Jr[Yr+3]=tn-Sn,Yr+=4,xr++}for(Wr=Yr=0;4>Wr;++Wr)tn=(lr=Jr[Yr+0]+4)+Jr[Yr+8],sn=lr-Jr[Yr+8],An=(35468*Jr[Yr+4]>>16)-ks(Jr[Yr+12]),xo(Br,Lr,0,0,tn+(Sn=ks(Jr[Yr+4])+(35468*Jr[Yr+12]>>16))),xo(Br,Lr,1,0,sn+An),xo(Br,Lr,2,0,sn-An),xo(Br,Lr,3,0,tn-Sn),Yr++,Lr+=32}function Xl(lr,xr,Br,Lr){var Wr=lr[xr+0]+4,Yr=35468*lr[xr+4]>>16,Jr=ks(lr[xr+4]),tn=35468*lr[xr+1]>>16;Da(Br,Lr,0,Wr+Jr,lr=ks(lr[xr+1]),tn),Da(Br,Lr,1,Wr+Yr,lr,tn),Da(Br,Lr,2,Wr-Yr,lr,tn),Da(Br,Lr,3,Wr-Jr,lr,tn)}function Jl(lr,xr,Br,Lr,Wr){vo(lr,xr,Br,Lr),Wr&&vo(lr,xr+16,Br,Lr+4)}function hl(lr,xr,Br,Lr){Ll(lr,xr+0,Br,Lr,1),Ll(lr,xr+32,Br,Lr+128,1)}function Ws(lr,xr,Br,Lr){var Wr;for(lr=lr[xr+0]+4,Wr=0;4>Wr;++Wr)for(xr=0;4>xr;++xr)xo(Br,Lr,xr,Wr,lr)}function Zl(lr,xr,Br,Lr){lr[xr+0]&&Oa(lr,xr+0,Br,Lr),lr[xr+16]&&Oa(lr,xr+16,Br,Lr+4),lr[xr+32]&&Oa(lr,xr+32,Br,Lr+128),lr[xr+48]&&Oa(lr,xr+48,Br,Lr+128+4)}function Qo(lr,xr,Br,Lr){var Wr,Yr=Fe(16);for(Wr=0;4>Wr;++Wr){var Jr=lr[xr+0+Wr]+lr[xr+12+Wr],tn=lr[xr+4+Wr]+lr[xr+8+Wr],sn=lr[xr+4+Wr]-lr[xr+8+Wr],An=lr[xr+0+Wr]-lr[xr+12+Wr];Yr[0+Wr]=Jr+tn,Yr[8+Wr]=Jr-tn,Yr[4+Wr]=An+sn,Yr[12+Wr]=An-sn}for(Wr=0;4>Wr;++Wr)Jr=(lr=Yr[0+4*Wr]+3)+Yr[3+4*Wr],tn=Yr[1+4*Wr]+Yr[2+4*Wr],sn=Yr[1+4*Wr]-Yr[2+4*Wr],An=lr-Yr[3+4*Wr],Br[Lr+0]=Jr+tn>>3,Br[Lr+16]=An+sn>>3,Br[Lr+32]=Jr-tn>>3,Br[Lr+48]=An-sn>>3,Lr+=64}function zo(lr,xr,Br){var Lr,Wr=xr-32,Yr=po,Jr=255-lr[Wr-1];for(Lr=0;Lr<Br;++Lr){var tn,sn=Yr,An=Jr+lr[xr-1];for(tn=0;tn<Br;++tn)lr[xr+tn]=sn[An+lr[Wr+tn]];xr+=32}}function Gu(lr,xr){zo(lr,xr,4)}function Vc(lr,xr){zo(lr,xr,8)}function du(lr,xr){zo(lr,xr,16)}function Nl(lr,xr){var Br;for(Br=0;16>Br;++Br)Be(lr,xr+32*Br,lr,xr-32,16)}function gc(lr,xr){var Br;for(Br=16;0<Br;--Br)De(lr,xr,lr[xr-1],16),xr+=32}function al(lr,xr,Br){var Lr;for(Lr=0;16>Lr;++Lr)De(xr,Br+32*Lr,lr,16)}function fo(lr,xr){var Br,Lr=16;for(Br=0;16>Br;++Br)Lr+=lr[xr-1+32*Br]+lr[xr+Br-32];al(Lr>>5,lr,xr)}function na(lr,xr){var Br,Lr=8;for(Br=0;16>Br;++Br)Lr+=lr[xr-1+32*Br];al(Lr>>4,lr,xr)}function Dl(lr,xr){var Br,Lr=8;for(Br=0;16>Br;++Br)Lr+=lr[xr+Br-32];al(Lr>>4,lr,xr)}function Al(lr,xr){al(128,lr,xr)}function ts(lr,xr,Br){return lr+2*xr+Br+2>>2}function pl(lr,xr){var Br,Lr=xr-32;for(Lr=new Uint8Array([ts(lr[Lr-1],lr[Lr+0],lr[Lr+1]),ts(lr[Lr+0],lr[Lr+1],lr[Lr+2]),ts(lr[Lr+1],lr[Lr+2],lr[Lr+3]),ts(lr[Lr+2],lr[Lr+3],lr[Lr+4])]),Br=0;4>Br;++Br)Be(lr,xr+32*Br,Lr,0,Lr.length)}function qu(lr,xr){var Br=lr[xr-1],Lr=lr[xr-1+32],Wr=lr[xr-1+64],Yr=lr[xr-1+96];Gr(lr,xr+0,16843009*ts(lr[xr-1-32],Br,Lr)),Gr(lr,xr+32,16843009*ts(Br,Lr,Wr)),Gr(lr,xr+64,16843009*ts(Lr,Wr,Yr)),Gr(lr,xr+96,16843009*ts(Wr,Yr,Yr))}function So(lr,xr){var Br,Lr=4;for(Br=0;4>Br;++Br)Lr+=lr[xr+Br-32]+lr[xr-1+32*Br];for(Lr>>=3,Br=0;4>Br;++Br)De(lr,xr+32*Br,Lr,4)}function Wo(lr,xr){var Br=lr[xr-1+0],Lr=lr[xr-1+32],Wr=lr[xr-1+64],Yr=lr[xr-1-32],Jr=lr[xr+0-32],tn=lr[xr+1-32],sn=lr[xr+2-32],An=lr[xr+3-32];lr[xr+0+96]=ts(Lr,Wr,lr[xr-1+96]),lr[xr+1+96]=lr[xr+0+64]=ts(Br,Lr,Wr),lr[xr+2+96]=lr[xr+1+64]=lr[xr+0+32]=ts(Yr,Br,Lr),lr[xr+3+96]=lr[xr+2+64]=lr[xr+1+32]=lr[xr+0+0]=ts(Jr,Yr,Br),lr[xr+3+64]=lr[xr+2+32]=lr[xr+1+0]=ts(tn,Jr,Yr),lr[xr+3+32]=lr[xr+2+0]=ts(sn,tn,Jr),lr[xr+3+0]=ts(An,sn,tn)}function ko(lr,xr){var Br=lr[xr+1-32],Lr=lr[xr+2-32],Wr=lr[xr+3-32],Yr=lr[xr+4-32],Jr=lr[xr+5-32],tn=lr[xr+6-32],sn=lr[xr+7-32];lr[xr+0+0]=ts(lr[xr+0-32],Br,Lr),lr[xr+1+0]=lr[xr+0+32]=ts(Br,Lr,Wr),lr[xr+2+0]=lr[xr+1+32]=lr[xr+0+64]=ts(Lr,Wr,Yr),lr[xr+3+0]=lr[xr+2+32]=lr[xr+1+64]=lr[xr+0+96]=ts(Wr,Yr,Jr),lr[xr+3+32]=lr[xr+2+64]=lr[xr+1+96]=ts(Yr,Jr,tn),lr[xr+3+64]=lr[xr+2+96]=ts(Jr,tn,sn),lr[xr+3+96]=ts(tn,sn,sn)}function ml(lr,xr){var Br=lr[xr-1+0],Lr=lr[xr-1+32],Wr=lr[xr-1+64],Yr=lr[xr-1-32],Jr=lr[xr+0-32],tn=lr[xr+1-32],sn=lr[xr+2-32],An=lr[xr+3-32];lr[xr+0+0]=lr[xr+1+64]=Yr+Jr+1>>1,lr[xr+1+0]=lr[xr+2+64]=Jr+tn+1>>1,lr[xr+2+0]=lr[xr+3+64]=tn+sn+1>>1,lr[xr+3+0]=sn+An+1>>1,lr[xr+0+96]=ts(Wr,Lr,Br),lr[xr+0+64]=ts(Lr,Br,Yr),lr[xr+0+32]=lr[xr+1+96]=ts(Br,Yr,Jr),lr[xr+1+32]=lr[xr+2+96]=ts(Yr,Jr,tn),lr[xr+2+32]=lr[xr+3+96]=ts(Jr,tn,sn),lr[xr+3+32]=ts(tn,sn,An)}function ya(lr,xr){var Br=lr[xr+0-32],Lr=lr[xr+1-32],Wr=lr[xr+2-32],Yr=lr[xr+3-32],Jr=lr[xr+4-32],tn=lr[xr+5-32],sn=lr[xr+6-32],An=lr[xr+7-32];lr[xr+0+0]=Br+Lr+1>>1,lr[xr+1+0]=lr[xr+0+64]=Lr+Wr+1>>1,lr[xr+2+0]=lr[xr+1+64]=Wr+Yr+1>>1,lr[xr+3+0]=lr[xr+2+64]=Yr+Jr+1>>1,lr[xr+0+32]=ts(Br,Lr,Wr),lr[xr+1+32]=lr[xr+0+96]=ts(Lr,Wr,Yr),lr[xr+2+32]=lr[xr+1+96]=ts(Wr,Yr,Jr),lr[xr+3+32]=lr[xr+2+96]=ts(Yr,Jr,tn),lr[xr+3+64]=ts(Jr,tn,sn),lr[xr+3+96]=ts(tn,sn,An)}function gl(lr,xr){var Br=lr[xr-1+0],Lr=lr[xr-1+32],Wr=lr[xr-1+64],Yr=lr[xr-1+96];lr[xr+0+0]=Br+Lr+1>>1,lr[xr+2+0]=lr[xr+0+32]=Lr+Wr+1>>1,lr[xr+2+32]=lr[xr+0+64]=Wr+Yr+1>>1,lr[xr+1+0]=ts(Br,Lr,Wr),lr[xr+3+0]=lr[xr+1+32]=ts(Lr,Wr,Yr),lr[xr+3+32]=lr[xr+1+64]=ts(Wr,Yr,Yr),lr[xr+3+64]=lr[xr+2+64]=lr[xr+0+96]=lr[xr+1+96]=lr[xr+2+96]=lr[xr+3+96]=Yr}function xl(lr,xr){var Br=lr[xr-1+0],Lr=lr[xr-1+32],Wr=lr[xr-1+64],Yr=lr[xr-1+96],Jr=lr[xr-1-32],tn=lr[xr+0-32],sn=lr[xr+1-32],An=lr[xr+2-32];lr[xr+0+0]=lr[xr+2+32]=Br+Jr+1>>1,lr[xr+0+32]=lr[xr+2+64]=Lr+Br+1>>1,lr[xr+0+64]=lr[xr+2+96]=Wr+Lr+1>>1,lr[xr+0+96]=Yr+Wr+1>>1,lr[xr+3+0]=ts(tn,sn,An),lr[xr+2+0]=ts(Jr,tn,sn),lr[xr+1+0]=lr[xr+3+32]=ts(Br,Jr,tn),lr[xr+1+32]=lr[xr+3+64]=ts(Lr,Br,Jr),lr[xr+1+64]=lr[xr+3+96]=ts(Wr,Lr,Br),lr[xr+1+96]=ts(Yr,Wr,Lr)}function Hc(lr,xr){var Br;for(Br=0;8>Br;++Br)Be(lr,xr+32*Br,lr,xr-32,8)}function Ko(lr,xr){var Br;for(Br=0;8>Br;++Br)De(lr,xr,lr[xr-1],8),xr+=32}function Ro(lr,xr,Br){var Lr;for(Lr=0;8>Lr;++Lr)De(xr,Br+32*Lr,lr,8)}function vl(lr,xr){var Br,Lr=8;for(Br=0;8>Br;++Br)Lr+=lr[xr+Br-32]+lr[xr-1+32*Br];Ro(Lr>>4,lr,xr)}function Fa(lr,xr){var Br,Lr=4;for(Br=0;8>Br;++Br)Lr+=lr[xr+Br-32];Ro(Lr>>3,lr,xr)}function Rs(lr,xr){var Br,Lr=4;for(Br=0;8>Br;++Br)Lr+=lr[xr-1+32*Br];Ro(Lr>>3,lr,xr)}function Fl(lr,xr){Ro(128,lr,xr)}function yl(lr,xr,Br){var Lr=lr[xr-Br],Wr=lr[xr+0],Yr=3*(Wr-Lr)+Ed[1020+lr[xr-2*Br]-lr[xr+Br]],Jr=xu[112+(Yr+4>>3)];lr[xr-Br]=po[255+Lr+xu[112+(Yr+3>>3)]],lr[xr+0]=po[255+Wr-Jr]}function fu(lr,xr,Br,Lr){var Wr=lr[xr+0],Yr=lr[xr+Br];return El[255+lr[xr-2*Br]-lr[xr-Br]]>Lr||El[255+Yr-Wr]>Lr}function ha(lr,xr,Br,Lr){return 4*El[255+lr[xr-Br]-lr[xr+0]]+El[255+lr[xr-2*Br]-lr[xr+Br]]<=Lr}function xc(lr,xr,Br,Lr,Wr){var Yr=lr[xr-3*Br],Jr=lr[xr-2*Br],tn=lr[xr-Br],sn=lr[xr+0],An=lr[xr+Br],Sn=lr[xr+2*Br],Wn=lr[xr+3*Br];return 4*El[255+tn-sn]+El[255+Jr-An]>Lr?0:El[255+lr[xr-4*Br]-Yr]<=Wr&&El[255+Yr-Jr]<=Wr&&El[255+Jr-tn]<=Wr&&El[255+Wn-Sn]<=Wr&&El[255+Sn-An]<=Wr&&El[255+An-sn]<=Wr}function ho(lr,xr,Br,Lr){var Wr=2*Lr+1;for(Lr=0;16>Lr;++Lr)ha(lr,xr+Lr,Br,Wr)&&yl(lr,xr+Lr,Br)}function Co(lr,xr,Br,Lr){var Wr=2*Lr+1;for(Lr=0;16>Lr;++Lr)ha(lr,xr+Lr*Br,1,Wr)&&yl(lr,xr+Lr*Br,1)}function $a(lr,xr,Br,Lr){var Wr;for(Wr=3;0<Wr;--Wr)ho(lr,xr+=4*Br,Br,Lr)}function Yu(lr,xr,Br,Lr){var Wr;for(Wr=3;0<Wr;--Wr)Co(lr,xr+=4,Br,Lr)}function tc(lr,xr,Br,Lr,Wr,Yr,Jr,tn){for(Yr=2*Yr+1;0<Wr--;){if(xc(lr,xr,Br,Yr,Jr))if(fu(lr,xr,Br,tn))yl(lr,xr,Br);else{var sn=lr,An=xr,Sn=Br,Wn=sn[An-2*Sn],Qn=sn[An-Sn],kn=sn[An+0],ai=sn[An+Sn],ii=sn[An+2*Sn],Cn=27*(ci=Ed[1020+3*(kn-Qn)+Ed[1020+Wn-ai]])+63>>7,Bn=18*ci+63>>7,ci=9*ci+63>>7;sn[An-3*Sn]=po[255+sn[An-3*Sn]+ci],sn[An-2*Sn]=po[255+Wn+Bn],sn[An-Sn]=po[255+Qn+Cn],sn[An+0]=po[255+kn-Cn],sn[An+Sn]=po[255+ai-Bn],sn[An+2*Sn]=po[255+ii-ci]}xr+=Lr}}function Va(lr,xr,Br,Lr,Wr,Yr,Jr,tn){for(Yr=2*Yr+1;0<Wr--;){if(xc(lr,xr,Br,Yr,Jr))if(fu(lr,xr,Br,tn))yl(lr,xr,Br);else{var sn=lr,An=xr,Sn=Br,Wn=sn[An-Sn],Qn=sn[An+0],kn=sn[An+Sn],ai=xu[112+((ii=3*(Qn-Wn))+4>>3)],ii=xu[112+(ii+3>>3)],Cn=ai+1>>1;sn[An-2*Sn]=po[255+sn[An-2*Sn]+Cn],sn[An-Sn]=po[255+Wn+ii],sn[An+0]=po[255+Qn-ai],sn[An+Sn]=po[255+kn-Cn]}xr+=Lr}}function ol(lr,xr,Br,Lr,Wr,Yr){tc(lr,xr,Br,1,16,Lr,Wr,Yr)}function bl(lr,xr,Br,Lr,Wr,Yr){tc(lr,xr,1,Br,16,Lr,Wr,Yr)}function Qc(lr,xr,Br,Lr,Wr,Yr){var Jr;for(Jr=3;0<Jr;--Jr)Va(lr,xr+=4*Br,Br,1,16,Lr,Wr,Yr)}function To(lr,xr,Br,Lr,Wr,Yr){var Jr;for(Jr=3;0<Jr;--Jr)Va(lr,xr+=4,1,Br,16,Lr,Wr,Yr)}function kl(lr,xr,Br,Lr,Wr,Yr,Jr,tn){tc(lr,xr,Wr,1,8,Yr,Jr,tn),tc(Br,Lr,Wr,1,8,Yr,Jr,tn)}function vc(lr,xr,Br,Lr,Wr,Yr,Jr,tn){tc(lr,xr,1,Wr,8,Yr,Jr,tn),tc(Br,Lr,1,Wr,8,Yr,Jr,tn)}function yc(lr,xr,Br,Lr,Wr,Yr,Jr,tn){Va(lr,xr+4*Wr,Wr,1,8,Yr,Jr,tn),Va(Br,Lr+4*Wr,Wr,1,8,Yr,Jr,tn)}function rc(lr,xr,Br,Lr,Wr,Yr,Jr,tn){Va(lr,xr+4,1,Wr,8,Yr,Jr,tn),Va(Br,Lr+4,1,Wr,8,Yr,Jr,tn)}function bc(){this.ba=new Gi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ai,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function zc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wc(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function nc(){this.ua=0,this.Wa=new Zr,this.vb=new Zr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Cr,this.yc=new or}function Xu(){this.xb=this.a=0,this.l=new co,this.ca=new Gi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new _r,this.Pb=0,this.wd=new _r,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new nc,this.ab=0,this.gc=ke(4,wc),this.Oc=0}function Ol(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new co,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ic(lr,xr,Br,Lr,Wr,Yr,Jr){for(lr=lr==null?0:lr[xr+0],xr=0;xr<Jr;++xr)Wr[Yr+xr]=lr+Br[Lr+xr]&255,lr=Wr[Yr+xr]}function _c(lr,xr,Br,Lr,Wr,Yr,Jr){var tn;if(lr==null)ic(null,null,Br,Lr,Wr,Yr,Jr);else for(tn=0;tn<Jr;++tn)Wr[Yr+tn]=lr[xr+tn]+Br[Lr+tn]&255}function jo(lr,xr,Br,Lr,Wr,Yr,Jr){if(lr==null)ic(null,null,Br,Lr,Wr,Yr,Jr);else{var tn,sn=lr[xr+0],An=sn,Sn=sn;for(tn=0;tn<Jr;++tn)An=Sn+(sn=lr[xr+tn])-An,Sn=Br[Lr+tn]+(-256&An?0>An?0:255:An)&255,An=sn,Wr[Yr+tn]=Sn}}function Wc(lr,xr,Br,Lr){var Wr=xr.width,Yr=xr.o;if(Ce(lr!=null&&xr!=null),0>Br||0>=Lr||Br+Lr>Yr)return null;if(!lr.Cc){if(lr.ga==null){var Jr;if(lr.ga=new Ol,(Jr=lr.ga==null)||(Jr=xr.width*xr.o,Ce(lr.Gb.length==0),lr.Gb=Fe(Jr),lr.Uc=0,lr.Gb==null?Jr=0:(lr.mb=lr.Gb,lr.nb=lr.Uc,lr.rc=null,Jr=1),Jr=!Jr),!Jr){Jr=lr.ga;var tn=lr.Fa,sn=lr.P,An=lr.qc,Sn=lr.mb,Wn=lr.nb,Qn=sn+1,kn=An-1,ai=Jr.l;if(Ce(tn!=null&&Sn!=null&&xr!=null),$l[0]=null,$l[1]=ic,$l[2]=_c,$l[3]=jo,Jr.ca=Sn,Jr.tb=Wn,Jr.c=xr.width,Jr.i=xr.height,Ce(0<Jr.c&&0<Jr.i),1>=An)xr=0;else if(Jr.$a=tn[sn+0]>>0&3,Jr.Z=tn[sn+0]>>2&3,Jr.Lc=tn[sn+0]>>4&3,sn=tn[sn+0]>>6&3,0>Jr.$a||1<Jr.$a||4<=Jr.Z||1<Jr.Lc||sn)xr=0;else if(ai.put=oa,ai.ac=ds,ai.bc=Wa,ai.ma=Jr,ai.width=xr.width,ai.height=xr.height,ai.Da=xr.Da,ai.v=xr.v,ai.va=xr.va,ai.j=xr.j,ai.o=xr.o,Jr.$a)e:{Ce(Jr.$a==1),xr=Jn();t:for(;;){if(xr==null){xr=0;break e}if(Ce(Jr!=null),Jr.mc=xr,xr.c=Jr.c,xr.i=Jr.i,xr.l=Jr.l,xr.l.ma=Jr,xr.l.width=Jr.c,xr.l.height=Jr.i,xr.a=0,wr(xr.m,tn,Qn,kn),!Dn(Jr.c,Jr.i,1,xr,null)||(xr.ab==1&&xr.gc[0].hc==3&&on(xr.s)?(Jr.ic=1,tn=xr.c*xr.i,xr.Ta=null,xr.Ua=0,xr.V=Fe(tn),xr.Ba=0,xr.V==null?(xr.a=1,xr=0):xr=1):(Jr.ic=0,xr=zn(xr,Jr.c)),!xr))break t;xr=1;break e}Jr.mc=null,xr=0}else xr=kn>=Jr.c*Jr.i;Jr=!xr}if(Jr)return null;lr.ga.Lc!=1?lr.Ga=0:Lr=Yr-Br}Ce(lr.ga!=null),Ce(Br+Lr<=Yr);e:{if(xr=(tn=lr.ga).c,Yr=tn.l.o,tn.$a==0){if(Qn=lr.rc,kn=lr.Vc,ai=lr.Fa,sn=lr.P+1+Br*xr,An=lr.mb,Sn=lr.nb+Br*xr,Ce(sn<=lr.P+lr.qc),tn.Z!=0)for(Ce($l[tn.Z]!=null),Jr=0;Jr<Lr;++Jr)$l[tn.Z](Qn,kn,ai,sn,An,Sn,xr),Qn=An,kn=Sn,Sn+=xr,sn+=xr;else for(Jr=0;Jr<Lr;++Jr)Be(An,Sn,ai,sn,xr),Qn=An,kn=Sn,Sn+=xr,sn+=xr;lr.rc=Qn,lr.Vc=kn}else{if(Ce(tn.mc!=null),xr=Br+Lr,Ce((Jr=tn.mc)!=null),Ce(xr<=Jr.i),Jr.C>=xr)xr=1;else if(tn.ic||Fn(),tn.ic){tn=Jr.V,Qn=Jr.Ba,kn=Jr.c;var ii=Jr.i,Cn=(ai=1,sn=Jr.$/kn,An=Jr.$%kn,Sn=Jr.m,Wn=Jr.s,Jr.$),Bn=kn*ii,ci=kn*xr,mi=Wn.wc,di=Cn<ci?ra(Wn,An,sn):null;Ce(Cn<=Bn),Ce(xr<=ii),Ce(on(Wn));t:for(;;){for(;!Sn.h&&Cn<ci;){if(An&mi||(di=ra(Wn,An,sn)),Ce(di!=null),br(Sn),256>(ii=Xs(di.G[0],di.H[0],Sn)))tn[Qn+Cn]=ii,++Cn,++An>=kn&&(An=0,++sn<=xr&&!(sn%16)&&mn(Jr,sn));else{if(!(280>ii)){ai=0;break t}ii=Qs(ii-256,Sn);var Ki,$i=Xs(di.G[4],di.H[4],Sn);if(br(Sn),!(Cn>=($i=Fs(kn,$i=Qs($i,Sn)))&&Bn-Cn>=ii)){ai=0;break t}for(Ki=0;Ki<ii;++Ki)tn[Qn+Cn+Ki]=tn[Qn+Cn+Ki-$i];for(Cn+=ii,An+=ii;An>=kn;)An-=kn,++sn<=xr&&!(sn%16)&&mn(Jr,sn);Cn<ci&&An&mi&&(di=ra(Wn,An,sn))}Ce(Sn.h==Dr(Sn))}mn(Jr,sn>xr?xr:sn);break t}!ai||Sn.h&&Cn<Bn?(ai=0,Jr.a=Sn.h?5:3):Jr.$=Cn,xr=ai}else xr=gn(Jr,Jr.V,Jr.Ba,Jr.c,Jr.i,xr,qn);if(!xr){Lr=0;break e}}Br+Lr>=Yr&&(lr.Cc=1),Lr=1}if(!Lr)return null;if(lr.Cc&&((Lr=lr.ga)!=null&&(Lr.mc=null),lr.ga=null,0<lr.Ga))return alert("todo:WebPDequantizeLevels"),null}return lr.nb+Br*Wr}function Rr(lr,xr,Br,Lr,Wr,Yr){for(;0<Wr--;){var Jr,tn=lr,sn=xr+(Br?1:0),An=lr,Sn=xr+(Br?0:3);for(Jr=0;Jr<Lr;++Jr){var Wn=An[Sn+4*Jr];Wn!=255&&(Wn*=32897,tn[sn+4*Jr+0]=tn[sn+4*Jr+0]*Wn>>23,tn[sn+4*Jr+1]=tn[sn+4*Jr+1]*Wn>>23,tn[sn+4*Jr+2]=tn[sn+4*Jr+2]*Wn>>23)}xr+=Yr}}function Kr(lr,xr,Br,Lr,Wr){for(;0<Lr--;){var Yr;for(Yr=0;Yr<Br;++Yr){var Jr=lr[xr+2*Yr+0],tn=15&(An=lr[xr+2*Yr+1]),sn=4369*tn,An=(240&An|An>>4)*sn>>16;lr[xr+2*Yr+0]=(240&Jr|Jr>>4)*sn>>16&240|(15&Jr|Jr<<4)*sn>>16>>4&15,lr[xr+2*Yr+1]=240&An|tn}xr+=Wr}}function xn(lr,xr,Br,Lr,Wr,Yr,Jr,tn){var sn,An,Sn=255;for(An=0;An<Wr;++An){for(sn=0;sn<Lr;++sn){var Wn=lr[xr+sn];Yr[Jr+4*sn]=Wn,Sn&=Wn}xr+=Br,Jr+=tn}return Sn!=255}function _n(lr,xr,Br,Lr,Wr){var Yr;for(Yr=0;Yr<Wr;++Yr)Br[Lr+Yr]=lr[xr+Yr]>>8}function Fn(){Jo=Rr,Es=Kr,Ss=xn,ca=_n}function si(lr,xr,Br){nr[lr]=function(Lr,Wr,Yr,Jr,tn,sn,An,Sn,Wn,Qn,kn,ai,ii,Cn,Bn,ci,mi){var di,Ki=mi-1>>1,$i=tn[sn+0]|An[Sn+0]<<16,es=Wn[Qn+0]|kn[ai+0]<<16;Ce(Lr!=null);var Hi=3*$i+es+131074>>2;for(xr(Lr[Wr+0],255&Hi,Hi>>16,ii,Cn),Yr!=null&&(Hi=3*es+$i+131074>>2,xr(Yr[Jr+0],255&Hi,Hi>>16,Bn,ci)),di=1;di<=Ki;++di){var Vs=tn[sn+di]|An[Sn+di]<<16,Ks=Wn[Qn+di]|kn[ai+di]<<16,bs=$i+Vs+es+Ks+524296,_i=bs+2*(Vs+es)>>3;Hi=_i+$i>>1,$i=(bs=bs+2*($i+Ks)>>3)+Vs>>1,xr(Lr[Wr+2*di-1],255&Hi,Hi>>16,ii,Cn+(2*di-1)*Br),xr(Lr[Wr+2*di-0],255&$i,$i>>16,ii,Cn+(2*di-0)*Br),Yr!=null&&(Hi=bs+es>>1,$i=_i+Ks>>1,xr(Yr[Jr+2*di-1],255&Hi,Hi>>16,Bn,ci+(2*di-1)*Br),xr(Yr[Jr+2*di+0],255&$i,$i>>16,Bn,ci+(2*di+0)*Br)),$i=Vs,es=Ks}1&mi||(Hi=3*$i+es+131074>>2,xr(Lr[Wr+mi-1],255&Hi,Hi>>16,ii,Cn+(mi-1)*Br),Yr!=null&&(Hi=3*es+$i+131074>>2,xr(Yr[Jr+mi-1],255&Hi,Hi>>16,Bn,ci+(mi-1)*Br)))}}function Ri(){mo[Bo]=Bc,mo[ed]=cl,mo[Uo]=cc,mo[Sd]=Xd,mo[vu]=Jd,mo[Sl]=nd,mo[qd]=Zd,mo[Rd]=cl,mo[eu]=Xd,mo[Tc]=Jd,mo[jc]=nd}function Vi(lr){return lr&-16384?0>lr?0:255:lr>>Dh}function dr(lr,xr){return Vi((19077*lr>>8)+(26149*xr>>8)-14234)}function Fr(lr,xr,Br){return Vi((19077*lr>>8)-(6419*xr>>8)-(13320*Br>>8)+8708)}function $r(lr,xr){return Vi((19077*lr>>8)+(33050*xr>>8)-17685)}function en(lr,xr,Br,Lr,Wr){Lr[Wr+0]=dr(lr,Br),Lr[Wr+1]=Fr(lr,xr,Br),Lr[Wr+2]=$r(lr,xr)}function In(lr,xr,Br,Lr,Wr){Lr[Wr+0]=$r(lr,xr),Lr[Wr+1]=Fr(lr,xr,Br),Lr[Wr+2]=dr(lr,Br)}function Hn(lr,xr,Br,Lr,Wr){var Yr=Fr(lr,xr,Br);xr=Yr<<3&224|$r(lr,xr)>>3,Lr[Wr+0]=248&dr(lr,Br)|Yr>>5,Lr[Wr+1]=xr}function oi(lr,xr,Br,Lr,Wr){var Yr=240&$r(lr,xr)|15;Lr[Wr+0]=240&dr(lr,Br)|Fr(lr,xr,Br)>>4,Lr[Wr+1]=Yr}function os(lr,xr,Br,Lr,Wr){Lr[Wr+0]=255,en(lr,xr,Br,Lr,Wr+1)}function _s(lr,xr,Br,Lr,Wr){In(lr,xr,Br,Lr,Wr),Lr[Wr+3]=255}function As(lr,xr,Br,Lr,Wr){en(lr,xr,Br,Lr,Wr),Lr[Wr+3]=255}function Bs(lr,xr){return 0>lr?0:lr>xr?xr:lr}function Cs(lr,xr,Br){nr[lr]=function(Lr,Wr,Yr,Jr,tn,sn,An,Sn,Wn){for(var Qn=Sn+(-2&Wn)*Br;Sn!=Qn;)xr(Lr[Wr+0],Yr[Jr+0],tn[sn+0],An,Sn),xr(Lr[Wr+1],Yr[Jr+0],tn[sn+0],An,Sn+Br),Wr+=2,++Jr,++sn,Sn+=2*Br;1&Wn&&xr(Lr[Wr+0],Yr[Jr+0],tn[sn+0],An,Sn)}}function wl(lr,xr,Br){return Br==0?lr==0?xr==0?6:5:xr==0?4:0:Br}function Js(lr,xr,Br,Lr,Wr){switch(lr>>>30){case 3:Ll(xr,Br,Lr,Wr,0);break;case 2:ja(xr,Br,Lr,Wr);break;case 1:Oa(xr,Br,Lr,Wr)}}function Os(lr,xr){var Br,Lr,Wr=xr.M,Yr=xr.Nb,Jr=lr.oc,tn=lr.pc+40,sn=lr.oc,An=lr.pc+584,Sn=lr.oc,Wn=lr.pc+600;for(Br=0;16>Br;++Br)Jr[tn+32*Br-1]=129;for(Br=0;8>Br;++Br)sn[An+32*Br-1]=129,Sn[Wn+32*Br-1]=129;for(0<Wr?Jr[tn-1-32]=sn[An-1-32]=Sn[Wn-1-32]=129:(De(Jr,tn-32-1,127,21),De(sn,An-32-1,127,9),De(Sn,Wn-32-1,127,9)),Lr=0;Lr<lr.za;++Lr){var Qn=xr.ya[xr.aa+Lr];if(0<Lr){for(Br=-1;16>Br;++Br)Be(Jr,tn+32*Br-4,Jr,tn+32*Br+12,4);for(Br=-1;8>Br;++Br)Be(sn,An+32*Br-4,sn,An+32*Br+4,4),Be(Sn,Wn+32*Br-4,Sn,Wn+32*Br+4,4)}var kn=lr.Gd,ai=lr.Hd+Lr,ii=Qn.ad,Cn=Qn.Hc;if(0<Wr&&(Be(Jr,tn-32,kn[ai].y,0,16),Be(sn,An-32,kn[ai].f,0,8),Be(Sn,Wn-32,kn[ai].ea,0,8)),Qn.Za){var Bn=Jr,ci=tn-32+16;for(0<Wr&&(Lr>=lr.za-1?De(Bn,ci,kn[ai].y[15],4):Be(Bn,ci,kn[ai+1].y,0,4)),Br=0;4>Br;Br++)Bn[ci+128+Br]=Bn[ci+256+Br]=Bn[ci+384+Br]=Bn[ci+0+Br];for(Br=0;16>Br;++Br,Cn<<=2)Bn=Jr,ci=tn+_u[Br],$o[Qn.Ob[Br]](Bn,ci),Js(Cn,ii,16*+Br,Bn,ci)}else if(Bn=wl(Lr,Wr,Qn.Ob[0]),Ic[Bn](Jr,tn),Cn!=0)for(Br=0;16>Br;++Br,Cn<<=2)Js(Cn,ii,16*+Br,Jr,tn+_u[Br]);for(Br=Qn.Gc,Bn=wl(Lr,Wr,Qn.Dd),No[Bn](sn,An),No[Bn](Sn,Wn),Cn=ii,Bn=sn,ci=An,255&(Qn=Br>>0)&&(170&Qn?Yo(Cn,256,Bn,ci):Xo(Cn,256,Bn,ci)),Qn=Sn,Cn=Wn,255&(Br>>=8)&&(170&Br?Yo(ii,320,Qn,Cn):Xo(ii,320,Qn,Cn)),Wr<lr.Ub-1&&(Be(kn[ai].y,0,Jr,tn+480,16),Be(kn[ai].f,0,sn,An+224,8),Be(kn[ai].ea,0,Sn,Wn+224,8)),Br=8*Yr*lr.B,kn=lr.sa,ai=lr.ta+16*Lr+16*Yr*lr.R,ii=lr.qa,Qn=lr.ra+8*Lr+Br,Cn=lr.Ha,Bn=lr.Ia+8*Lr+Br,Br=0;16>Br;++Br)Be(kn,ai+Br*lr.R,Jr,tn+32*Br,16);for(Br=0;8>Br;++Br)Be(ii,Qn+Br*lr.B,sn,An+32*Br,8),Be(Cn,Bn+Br*lr.B,Sn,Wn+32*Br,8)}}function Ml(lr,xr,Br,Lr,Wr,Yr,Jr,tn,sn){var An=[0],Sn=[0],Wn=0,Qn=sn!=null?sn.kd:0,kn=sn??new zc;if(lr==null||12>Br)return 7;kn.data=lr,kn.w=xr,kn.ha=Br,xr=[xr],Br=[Br],kn.gb=[kn.gb];e:{var ai=xr,ii=Br,Cn=kn.gb;if(Ce(lr!=null),Ce(ii!=null),Ce(Cn!=null),Cn[0]=0,12<=ii[0]&&!je(lr,ai[0],"RIFF")){if(je(lr,ai[0]+8,"WEBP")){Cn=3;break e}var Bn=bn(lr,ai[0]+4);if(12>Bn||4294967286<Bn){Cn=3;break e}if(Qn&&Bn>ii[0]-8){Cn=7;break e}Cn[0]=Bn,ai[0]+=12,ii[0]-=12}Cn=0}if(Cn!=0)return Cn;for(Bn=0<kn.gb[0],Br=Br[0];;){e:{var ci=lr;ii=xr,Cn=Br;var mi=An,di=Sn,Ki=ai=[0];if((Hi=Wn=[Wn])[0]=0,8>Cn[0])Cn=7;else{if(!je(ci,ii[0],"VP8X")){if(bn(ci,ii[0]+4)!=10){Cn=3;break e}if(18>Cn[0]){Cn=7;break e}var $i=bn(ci,ii[0]+8),es=1+nn(ci,ii[0]+12);if(2147483648<=es*(ci=1+nn(ci,ii[0]+15))){Cn=3;break e}Ki!=null&&(Ki[0]=$i),mi!=null&&(mi[0]=es),di!=null&&(di[0]=ci),ii[0]+=18,Cn[0]-=18,Hi[0]=1}Cn=0}}if(Wn=Wn[0],ai=ai[0],Cn!=0)return Cn;if(ii=!!(2&ai),!Bn&&Wn)return 3;if(Yr!=null&&(Yr[0]=!!(16&ai)),Jr!=null&&(Jr[0]=ii),tn!=null&&(tn[0]=0),Jr=An[0],ai=Sn[0],Wn&&ii&&sn==null){Cn=0;break}if(4>Br){Cn=7;break}if(Bn&&Wn||!Bn&&!Wn&&!je(lr,xr[0],"ALPH")){Br=[Br],kn.na=[kn.na],kn.P=[kn.P],kn.Sa=[kn.Sa];e:{$i=lr,Cn=xr,Bn=Br;var Hi=kn.gb;mi=kn.na,di=kn.P,Ki=kn.Sa,es=22,Ce($i!=null),Ce(Bn!=null),ci=Cn[0];var Vs=Bn[0];for(Ce(mi!=null),Ce(Ki!=null),mi[0]=null,di[0]=null,Ki[0]=0;;){if(Cn[0]=ci,Bn[0]=Vs,8>Vs){Cn=7;break e}var Ks=bn($i,ci+4);if(4294967286<Ks){Cn=3;break e}var bs=8+Ks+1&-2;if(es+=bs,0<Hi&&es>Hi){Cn=3;break e}if(!je($i,ci,"VP8 ")||!je($i,ci,"VP8L")){Cn=0;break e}if(Vs[0]<bs){Cn=7;break e}je($i,ci,"ALPH")||(mi[0]=$i,di[0]=ci+8,Ki[0]=Ks),ci+=bs,Vs-=bs}}if(Br=Br[0],kn.na=kn.na[0],kn.P=kn.P[0],kn.Sa=kn.Sa[0],Cn!=0)break}Br=[Br],kn.Ja=[kn.Ja],kn.xa=[kn.xa];e:if(Hi=lr,Cn=xr,Bn=Br,mi=kn.gb[0],di=kn.Ja,Ki=kn.xa,$i=Cn[0],ci=!je(Hi,$i,"VP8 "),es=!je(Hi,$i,"VP8L"),Ce(Hi!=null),Ce(Bn!=null),Ce(di!=null),Ce(Ki!=null),8>Bn[0])Cn=7;else{if(ci||es){if(Hi=bn(Hi,$i+4),12<=mi&&Hi>mi-12){Cn=3;break e}if(Qn&&Hi>Bn[0]-8){Cn=7;break e}di[0]=Hi,Cn[0]+=8,Bn[0]-=8,Ki[0]=es}else Ki[0]=5<=Bn[0]&&Hi[$i+0]==47&&!(Hi[$i+4]>>5),di[0]=Bn[0];Cn=0}if(Br=Br[0],kn.Ja=kn.Ja[0],kn.xa=kn.xa[0],xr=xr[0],Cn!=0)break;if(4294967286<kn.Ja)return 3;if(tn==null||ii||(tn[0]=kn.xa?2:1),Jr=[Jr],ai=[ai],kn.xa){if(5>Br){Cn=7;break}tn=Jr,Qn=ai,ii=Yr,lr==null||5>Br?lr=0:5<=Br&&lr[xr+0]==47&&!(lr[xr+4]>>5)?(Bn=[0],Hi=[0],mi=[0],wr(di=new _r,lr,xr,Br),Li(di,Bn,Hi,mi)?(tn!=null&&(tn[0]=Bn[0]),Qn!=null&&(Qn[0]=Hi[0]),ii!=null&&(ii[0]=mi[0]),lr=1):lr=0):lr=0}else{if(10>Br){Cn=7;break}tn=ai,lr==null||10>Br||!uo(lr,xr+3,Br-3)?lr=0:(Qn=lr[xr+0]|lr[xr+1]<<8|lr[xr+2]<<16,ii=16383&(lr[xr+7]<<8|lr[xr+6]),lr=16383&(lr[xr+9]<<8|lr[xr+8]),1&Qn||3<(Qn>>1&7)||!(Qn>>4&1)||Qn>>5>=kn.Ja||!ii||!lr?lr=0:(Jr&&(Jr[0]=ii),tn&&(tn[0]=lr),lr=1))}if(!lr||(Jr=Jr[0],ai=ai[0],Wn&&(An[0]!=Jr||Sn[0]!=ai)))return 3;sn!=null&&(sn[0]=kn,sn.offset=xr-sn.w,Ce(4294967286>xr-sn.w),Ce(sn.offset==sn.ha-Br));break}return Cn==0||Cn==7&&Wn&&sn==null?(Yr!=null&&(Yr[0]|=kn.na!=null&&0<kn.na.length),Lr!=null&&(Lr[0]=Jr),Wr!=null&&(Wr[0]=ai),0):Cn}function Aa(lr,xr,Br){var Lr=xr.width,Wr=xr.height,Yr=0,Jr=0,tn=Lr,sn=Wr;if(xr.Da=lr!=null&&0<lr.Da,xr.Da&&(tn=lr.cd,sn=lr.bd,Yr=lr.v,Jr=lr.j,11>Br||(Yr&=-2,Jr&=-2),0>Yr||0>Jr||0>=tn||0>=sn||Yr+tn>Lr||Jr+sn>Wr))return 0;if(xr.v=Yr,xr.j=Jr,xr.va=Yr+tn,xr.o=Jr+sn,xr.U=tn,xr.T=sn,xr.da=lr!=null&&0<lr.da,xr.da){if(!Rn(tn,sn,Br=[lr.ib],Yr=[lr.hb]))return 0;xr.ib=Br[0],xr.hb=Yr[0]}return xr.ob=lr!=null&&lr.ob,xr.Kb=lr==null||!lr.Sd,xr.da&&(xr.ob=xr.ib<3*Lr/4&&xr.hb<3*Wr/4,xr.Kb=0),1}function Kc(lr){if(lr==null)return 2;if(11>lr.S){var xr=lr.f.RGBA;xr.fb+=(lr.height-1)*xr.A,xr.A=-xr.A}else xr=lr.f.kb,lr=lr.height,xr.O+=(lr-1)*xr.fa,xr.fa=-xr.fa,xr.N+=(lr-1>>1)*xr.Ab,xr.Ab=-xr.Ab,xr.W+=(lr-1>>1)*xr.Db,xr.Db=-xr.Db,xr.F!=null&&(xr.J+=(lr-1)*xr.lb,xr.lb=-xr.lb);return 0}function Go(lr,xr,Br,Lr){if(Lr==null||0>=lr||0>=xr)return 2;if(Br!=null){if(Br.Da){var Wr=Br.cd,Yr=Br.bd,Jr=-2&Br.v,tn=-2&Br.j;if(0>Jr||0>tn||0>=Wr||0>=Yr||Jr+Wr>lr||tn+Yr>xr)return 2;lr=Wr,xr=Yr}if(Br.da){if(!Rn(lr,xr,Wr=[Br.ib],Yr=[Br.hb]))return 2;lr=Wr[0],xr=Yr[0]}}Lr.width=lr,Lr.height=xr;e:{var sn=Lr.width,An=Lr.height;if(lr=Lr.S,0>=sn||0>=An||!(lr>=Bo&&13>lr))lr=2;else{if(0>=Lr.Rd&&Lr.sd==null){Jr=Yr=Wr=xr=0;var Sn=(tn=sn*oh[lr])*An;if(11>lr||(Yr=(An+1)/2*(xr=(sn+1)/2),lr==12&&(Jr=(Wr=sn)*An)),(An=Fe(Sn+2*Yr+Jr))==null){lr=1;break e}Lr.sd=An,11>lr?((sn=Lr.f.RGBA).eb=An,sn.fb=0,sn.A=tn,sn.size=Sn):((sn=Lr.f.kb).y=An,sn.O=0,sn.fa=tn,sn.Fd=Sn,sn.f=An,sn.N=0+Sn,sn.Ab=xr,sn.Cd=Yr,sn.ea=An,sn.W=0+Sn+Yr,sn.Db=xr,sn.Ed=Yr,lr==12&&(sn.F=An,sn.J=0+Sn+2*Yr),sn.Tc=Jr,sn.lb=Wr)}if(xr=1,Wr=Lr.S,Yr=Lr.width,Jr=Lr.height,Wr>=Bo&&13>Wr)if(11>Wr)lr=Lr.f.RGBA,xr&=(tn=Math.abs(lr.A))*(Jr-1)+Yr<=lr.size,xr&=tn>=Yr*oh[Wr],xr&=lr.eb!=null;else{lr=Lr.f.kb,tn=(Yr+1)/2,Sn=(Jr+1)/2,sn=Math.abs(lr.fa),An=Math.abs(lr.Ab);var Wn=Math.abs(lr.Db),Qn=Math.abs(lr.lb),kn=Qn*(Jr-1)+Yr;xr&=sn*(Jr-1)+Yr<=lr.Fd,xr&=An*(Sn-1)+tn<=lr.Cd,xr=(xr&=Wn*(Sn-1)+tn<=lr.Ed)&sn>=Yr&An>=tn&Wn>=tn,xr&=lr.y!=null,xr&=lr.f!=null,xr&=lr.ea!=null,Wr==12&&(xr&=Qn>=Yr,xr&=kn<=lr.Tc,xr&=lr.F!=null)}else xr=0;lr=xr?0:2}}return lr!=0||Br!=null&&Br.fd&&(lr=Kc(Lr)),lr}var ba=64,Ms=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Gc=24,qc=32,hu=8,Oo=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ti("Predictor0","PredictorAdd0"),nr.Predictor0=function(){return 4278190080},nr.Predictor1=function(lr){return lr},nr.Predictor2=function(lr,xr,Br){return xr[Br+0]},nr.Predictor3=function(lr,xr,Br){return xr[Br+1]},nr.Predictor4=function(lr,xr,Br){return xr[Br-1]},nr.Predictor5=function(lr,xr,Br){return Gn(Gn(lr,xr[Br+1]),xr[Br+0])},nr.Predictor6=function(lr,xr,Br){return Gn(lr,xr[Br-1])},nr.Predictor7=function(lr,xr,Br){return Gn(lr,xr[Br+0])},nr.Predictor8=function(lr,xr,Br){return Gn(xr[Br-1],xr[Br+0])},nr.Predictor9=function(lr,xr,Br){return Gn(xr[Br+0],xr[Br+1])},nr.Predictor10=function(lr,xr,Br){return Gn(Gn(lr,xr[Br-1]),Gn(xr[Br+0],xr[Br+1]))},nr.Predictor11=function(lr,xr,Br){var Lr=xr[Br+0];return 0>=Fi(Lr>>24&255,lr>>24&255,(xr=xr[Br-1])>>24&255)+Fi(Lr>>16&255,lr>>16&255,xr>>16&255)+Fi(Lr>>8&255,lr>>8&255,xr>>8&255)+Fi(255&Lr,255&lr,255&xr)?Lr:lr},nr.Predictor12=function(lr,xr,Br){var Lr=xr[Br+0];return(Ei((lr>>24&255)+(Lr>>24&255)-((xr=xr[Br-1])>>24&255))<<24|Ei((lr>>16&255)+(Lr>>16&255)-(xr>>16&255))<<16|Ei((lr>>8&255)+(Lr>>8&255)-(xr>>8&255))<<8|Ei((255&lr)+(255&Lr)-(255&xr)))>>>0},nr.Predictor13=function(lr,xr,Br){var Lr=xr[Br-1];return(Ci((lr=Gn(lr,xr[Br+0]))>>24&255,Lr>>24&255)<<24|Ci(lr>>16&255,Lr>>16&255)<<16|Ci(lr>>8&255,Lr>>8&255)<<8|Ci(lr>>0&255,Lr>>0&255))>>>0};var Ju=nr.PredictorAdd0;nr.PredictorAdd1=Si,ti("Predictor2","PredictorAdd2"),ti("Predictor3","PredictorAdd3"),ti("Predictor4","PredictorAdd4"),ti("Predictor5","PredictorAdd5"),ti("Predictor6","PredictorAdd6"),ti("Predictor7","PredictorAdd7"),ti("Predictor8","PredictorAdd8"),ti("Predictor9","PredictorAdd9"),ti("Predictor10","PredictorAdd10"),ti("Predictor11","PredictorAdd11"),ti("Predictor12","PredictorAdd12"),ti("Predictor13","PredictorAdd13");var Zu=nr.PredictorAdd2;En("ColorIndexInverseTransform","MapARGB","32b",(function(lr){return lr>>8&255}),(function(lr){return lr})),En("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",(function(lr){return lr}),(function(lr){return lr>>8&255}));var _d,wa=nr.ColorIndexInverseTransform,da=nr.MapARGB,Mo=nr.VP8LColorIndexInverseTransformAlpha,Ta=nr.MapAlpha,Po=nr.VP8LPredictorsAdd=[];Po.length=16,(nr.VP8LPredictors=[]).length=16,(nr.VP8LPredictorsAdd_C=[]).length=16,(nr.VP8LPredictors_C=[]).length=16;var Ec,Io,Ka,Sc,qo,Lo,Ao,Ll,ja,Yo,Oa,Xo,Au,Ha,pu,Yc,Xc,Ul,mu,gu,Rc,sc,Jc,Ea,Jo,Es,Ss,ca,pa=Fe(511),_l=Fe(2041),Zc=Fe(225),ac=Fe(767),Cc=0,Ed=_l,xu=Zc,po=ac,El=pa,Bo=0,ed=1,Uo=2,Sd=3,vu=4,Sl=5,qd=6,Rd=7,eu=8,Tc=9,jc=10,Yd=[2,3,7],Rl=[3,3,11],ll=[280,256,256,256,40],yu=[0,1,1,1,0],Cl=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Pc=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bu=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],nh=8,Cd=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ga=null,Pa=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],zs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ru=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],oc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Rf=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ih=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ic=[],$o=[],No=[],sh=1,rd=2,$l=[],mo=[];si("UpsampleRgbLinePair",en,3),si("UpsampleBgrLinePair",In,3),si("UpsampleRgbaLinePair",As,4),si("UpsampleBgraLinePair",_s,4),si("UpsampleArgbLinePair",os,4),si("UpsampleRgba4444LinePair",oi,2),si("UpsampleRgb565LinePair",Hn,2);var Bc=nr.UpsampleRgbLinePair,cc=nr.UpsampleBgrLinePair,cl=nr.UpsampleRgbaLinePair,Xd=nr.UpsampleBgraLinePair,Jd=nr.UpsampleArgbLinePair,nd=nr.UpsampleRgba4444LinePair,Zd=nr.UpsampleRgb565LinePair,uc=16,qa=1<<uc-1,Vl=-227,ef=482,Dh=6,ah=0,Fh=Fe(256),Ya=Fe(256),Cf=Fe(256),Td=Fe(256),jd=Fe(ef-Vl),Tf=Fe(ef-Vl);Cs("YuvToRgbRow",en,3),Cs("YuvToBgrRow",In,3),Cs("YuvToRgbaRow",As,4),Cs("YuvToBgraRow",_s,4),Cs("YuvToArgbRow",os,4),Cs("YuvToRgba4444Row",oi,2),Cs("YuvToRgb565Row",Hn,2);var _u=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Nc=[0,2,8],kh=[8,7,6,4,4,2,2,2,1,1,1,1],jf=1;this.WebPDecodeRGBA=function(lr,xr,Br,Lr,Wr){var Yr=ed,Jr=new bc,tn=new Gi;Jr.ba=tn,tn.S=Yr,tn.width=[tn.width],tn.height=[tn.height];var sn=tn.width,An=tn.height,Sn=new ki;if(Sn==null||lr==null)var Wn=2;else Ce(Sn!=null),Wn=Ml(lr,xr,Br,Sn.width,Sn.height,Sn.Pd,Sn.Qd,Sn.format,null);if(Wn!=0?sn=0:(sn!=null&&(sn[0]=Sn.width[0]),An!=null&&(An[0]=Sn.height[0]),sn=1),sn){tn.width=tn.width[0],tn.height=tn.height[0],Lr!=null&&(Lr[0]=tn.width),Wr!=null&&(Wr[0]=tn.height);e:{if(Lr=new co,(Wr=new zc).data=lr,Wr.w=xr,Wr.ha=Br,Wr.kd=1,xr=[0],Ce(Wr!=null),((lr=Ml(Wr.data,Wr.w,Wr.ha,null,null,null,xr,null,Wr))==0||lr==7)&&xr[0]&&(lr=4),(xr=lr)==0){if(Ce(Jr!=null),Lr.data=Wr.data,Lr.w=Wr.w+Wr.offset,Lr.ha=Wr.ha-Wr.offset,Lr.put=oa,Lr.ac=ds,Lr.bc=Wa,Lr.ma=Jr,Wr.xa){if((lr=Jn())==null){Jr=1;break e}if((function(Qn,kn){var ai=[0],ii=[0],Cn=[0];t:for(;;){if(Qn==null)return 0;if(kn==null)return Qn.a=2,0;if(Qn.l=kn,Qn.a=0,wr(Qn.m,kn.data,kn.w,kn.ha),!Li(Qn.m,ai,ii,Cn)){Qn.a=3;break t}if(Qn.xb=rd,kn.width=ai[0],kn.height=ii[0],!Dn(ai[0],ii[0],1,Qn,null))break t;return 1}return Ce(Qn.a!=0),0})(lr,Lr)){if(Lr=(xr=Go(Lr.width,Lr.height,Jr.Oa,Jr.ba))==0){t:{Lr=lr;r:for(;;){if(Lr==null){Lr=0;break t}if(Ce(Lr.s.yc!=null),Ce(Lr.s.Ya!=null),Ce(0<Lr.s.Wb),Ce((Br=Lr.l)!=null),Ce((Wr=Br.ma)!=null),Lr.xb!=0){if(Lr.ca=Wr.ba,Lr.tb=Wr.tb,Ce(Lr.ca!=null),!Aa(Wr.Oa,Br,Sd)){Lr.a=2;break r}if(!zn(Lr,Br.width)||Br.da)break r;if((Br.da||vn(Lr.ca.S))&&Fn(),11>Lr.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Lr.ca.f.kb.F!=null&&Fn()),Lr.Pb&&0<Lr.s.ua&&Lr.s.vb.X==null&&!hn(Lr.s.vb,Lr.s.Wa.Xa)){Lr.a=1;break r}Lr.xb=0}if(!gn(Lr,Lr.V,Lr.Ba,Lr.c,Lr.i,Br.o,pn))break r;Wr.Dc=Lr.Ma,Lr=1;break t}Ce(Lr.a!=0),Lr=0}Lr=!Lr}Lr&&(xr=lr.a)}else xr=lr.a}else{if((lr=new Na)==null){Jr=1;break e}if(lr.Fa=Wr.na,lr.P=Wr.P,lr.qc=Wr.Sa,$c(lr,Lr)){if((xr=Go(Lr.width,Lr.height,Jr.Oa,Jr.ba))==0){if(lr.Aa=0,Br=Jr.Oa,Ce((Wr=lr)!=null),Br!=null){if(0<(sn=0>(sn=Br.Md)?0:100<sn?255:255*sn/100)){for(An=Sn=0;4>An;++An)12>(Wn=Wr.pb[An]).lc&&(Wn.ia=sn*kh[0>Wn.lc?0:Wn.lc]>>3),Sn|=Wn.ia;Sn&&(alert("todo:VP8InitRandom"),Wr.ia=1)}Wr.Ga=Br.Id,100<Wr.Ga?Wr.Ga=100:0>Wr.Ga&&(Wr.Ga=0)}Bl(lr,Lr)||(xr=lr.a)}}else xr=lr.a}xr==0&&Jr.Oa!=null&&Jr.Oa.fd&&(xr=Kc(Jr.ba))}Jr=xr}Yr=Jr!=0?null:11>Yr?tn.f.RGBA.eb:tn.f.kb.y}else Yr=null;return Yr};var oh=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function Ue(nr,cr){for(var mr="",fr=0;fr<4;fr++)mr+=String.fromCharCode(nr[cr++]);return mr}function $e(nr,cr){return(nr[cr+0]<<0|nr[cr+1]<<8|nr[cr+2]<<16)>>>0}function He(nr,cr){return(nr[cr+0]<<0|nr[cr+1]<<8|nr[cr+2]<<16|nr[cr+3]<<24)>>>0}new Me;var Qe=[0],We=[0],qe=[],Ke=new Me,Xe=Re,Ye=(function(nr,cr){var mr={},fr=0,or=!1,yr=0,Cr=0;if(mr.frames=[],!(function(Ir,Dr,Or,br){for(var Ur=0;Ur<br;Ur++)if(Ir[Dr+Ur]!=Or.charCodeAt(Ur))return!0;return!1})(nr,cr,"RIFF",4)){for(He(nr,cr+=4),cr+=8;cr<nr.length;){var jr=Ue(nr,cr),vr=He(nr,cr+=4);cr+=4;var Tr=vr+(1&vr);switch(jr){case"VP8 ":case"VP8L":mr.frames[fr]===void 0&&(mr.frames[fr]={}),(Pr=mr.frames[fr]).src_off=or?Cr:cr-8,Pr.src_size=yr+vr+8,fr++,or&&(or=!1,yr=0,Cr=0);break;case"VP8X":(Pr=mr.header={}).feature_flags=nr[cr];var wr=cr+4;Pr.canvas_width=1+$e(nr,wr),wr+=3,Pr.canvas_height=1+$e(nr,wr),wr+=3;break;case"ALPH":or=!0,yr=Tr+8,Cr=cr-8;break;case"ANIM":(Pr=mr.header).bgcolor=He(nr,cr),wr=cr+4,Pr.loop_count=(Mr=nr)[(_r=wr)+0]<<0|Mr[_r+1]<<8,wr+=2;break;case"ANMF":var Er,Pr;(Pr=mr.frames[fr]={}).offset_x=2*$e(nr,cr),cr+=3,Pr.offset_y=2*$e(nr,cr),cr+=3,Pr.width=1+$e(nr,cr),cr+=3,Pr.height=1+$e(nr,cr),cr+=3,Pr.duration=$e(nr,cr),cr+=3,Er=nr[cr++],Pr.dispose=1&Er,Pr.blend=Er>>1&1}jr!="ANMF"&&(cr+=Tr)}var Mr,_r;return mr}})(Xe,0);Ye.response=Xe,Ye.rgbaoutput=!0,Ye.dataurl=!1;var Ze=Ye.header?Ye.header:null,Je=Ye.frames?Ye.frames:null;if(Ze){Ze.loop_counter=Ze.loop_count,Qe=[Ze.canvas_height],We=[Ze.canvas_width];for(var tr=0;tr<Je.length&&Je[tr].blend!=0;tr++);}var rr=Je[0],ar=Ke.WebPDecodeRGBA(Xe,rr.src_off,rr.src_size,We,Qe);rr.rgba=ar,rr.imgwidth=We[0],rr.imgheight=Qe[0];for(var ir=0;ir<We[0]*Qe[0]*4;ir++)qe[ir]=ar[ir];return this.width=We,this.height=Qe,this.data=qe,this}(function(Re){var Ce=function(){return typeof zlibSync=="function"},je=function(Qe,We,qe,Ke){var Xe=4,Ye=ke;switch(Ke){case Re.image_compression.FAST:Xe=1,Ye=Fe;break;case Re.image_compression.MEDIUM:Xe=6,Ye=Oe;break;case Re.image_compression.SLOW:Xe=9,Ye=Me}Qe=Be(Qe,We,qe,Ye);var Ze=zlibSync(Qe,{level:Xe});return Re.__addimage__.arrayBufferToBinaryString(Ze)},Be=function(Qe,We,qe,Ke){for(var Xe,Ye,Ze,Je=Qe.length/We,tr=new Uint8Array(Qe.length+Je),rr=$e(),ar=0;ar<Je;ar+=1){if(Ze=ar*We,Xe=Qe.subarray(Ze,Ze+We),Ke)tr.set(Ke(Xe,qe,Ye),Ze+ar);else{for(var ir,nr=rr.length,cr=[];ir<nr;ir+=1)cr[ir]=rr[ir](Xe,qe,Ye);var mr=He(cr.concat());tr.set(cr[mr],Ze+ar)}Ye=Xe}return tr},De=function(Qe){var We=Array.apply([],Qe);return We.unshift(0),We},Fe=function(Qe,We){var qe,Ke=[],Xe=Qe.length;Ke[0]=1;for(var Ye=0;Ye<Xe;Ye+=1)qe=Qe[Ye-We]||0,Ke[Ye+1]=Qe[Ye]-qe+256&255;return Ke},ke=function(Qe,We,qe){var Ke,Xe=[],Ye=Qe.length;Xe[0]=2;for(var Ze=0;Ze<Ye;Ze+=1)Ke=qe&&qe[Ze]||0,Xe[Ze+1]=Qe[Ze]-Ke+256&255;return Xe},Oe=function(Qe,We,qe){var Ke,Xe,Ye=[],Ze=Qe.length;Ye[0]=3;for(var Je=0;Je<Ze;Je+=1)Ke=Qe[Je-We]||0,Xe=qe&&qe[Je]||0,Ye[Je+1]=Qe[Je]+256-(Ke+Xe>>>1)&255;return Ye},Me=function(Qe,We,qe){var Ke,Xe,Ye,Ze,Je=[],tr=Qe.length;Je[0]=4;for(var rr=0;rr<tr;rr+=1)Ke=Qe[rr-We]||0,Xe=qe&&qe[rr]||0,Ye=qe&&qe[rr-We]||0,Ze=Ue(Ke,Xe,Ye),Je[rr+1]=Qe[rr]-Ze+256&255;return Je},Ue=function(Qe,We,qe){if(Qe===We&&We===qe)return Qe;var Ke=Math.abs(We-qe),Xe=Math.abs(Qe-qe),Ye=Math.abs(Qe+We-qe-qe);return Ke<=Xe&&Ke<=Ye?Qe:Xe<=Ye?We:qe},$e=function(){return[De,Fe,ke,Oe,Me]},He=function(Qe){var We=Qe.map((function(qe){return qe.reduce((function(Ke,Xe){return Ke+Math.abs(Xe)}),0)}));return We.indexOf(Math.min.apply(null,We))};Re.processPNG=function(Qe,We,qe,Ke){var Xe,Ye,Ze,Je,tr,rr,ar,ir,nr,cr,mr,fr,or,yr,Cr,jr=this.decode.FLATE_DECODE,vr="";if(this.__addimage__.isArrayBuffer(Qe)&&(Qe=new Uint8Array(Qe)),this.__addimage__.isArrayBufferView(Qe)){if(Qe=(Ze=new Kt(Qe)).imgData,Ye=Ze.bits,Xe=Ze.colorSpace,tr=Ze.colors,[4,6].indexOf(Ze.colorType)!==-1){if(Ze.bits===8){nr=(ir=Ze.pixelBitlength==32?new Uint32Array(Ze.decodePixels().buffer):Ze.pixelBitlength==16?new Uint16Array(Ze.decodePixels().buffer):new Uint8Array(Ze.decodePixels().buffer)).length,mr=new Uint8Array(nr*Ze.colors),cr=new Uint8Array(nr);var Tr,wr=Ze.pixelBitlength-Ze.bits;for(yr=0,Cr=0;yr<nr;yr++){for(or=ir[yr],Tr=0;Tr<wr;)mr[Cr++]=or>>>Tr&255,Tr+=Ze.bits;cr[yr]=or>>>Tr&255}}if(Ze.bits===16){nr=(ir=new Uint32Array(Ze.decodePixels().buffer)).length,mr=new Uint8Array(nr*(32/Ze.pixelBitlength)*Ze.colors),cr=new Uint8Array(nr*(32/Ze.pixelBitlength)),fr=Ze.colors>1,yr=0,Cr=0;for(var Er=0;yr<nr;)or=ir[yr++],mr[Cr++]=or>>>0&255,fr&&(mr[Cr++]=or>>>16&255,or=ir[yr++],mr[Cr++]=or>>>0&255),cr[Er++]=or>>>16&255;Ye=8}Ke!==Re.image_compression.NONE&&Ce()?(Qe=je(mr,Ze.width*Ze.colors,Ze.colors,Ke),ar=je(cr,Ze.width,1,Ke)):(Qe=mr,ar=cr,jr=void 0)}if(Ze.colorType===3&&(Xe=this.color_spaces.INDEXED,rr=Ze.palette,Ze.transparency.indexed)){var Pr=Ze.transparency.indexed,Mr=0;for(yr=0,nr=Pr.length;yr<nr;++yr)Mr+=Pr[yr];if((Mr/=255)===nr-1&&Pr.indexOf(0)!==-1)Je=[Pr.indexOf(0)];else if(Mr!==nr){for(ir=Ze.decodePixels(),cr=new Uint8Array(ir.length),yr=0,nr=ir.length;yr<nr;yr++)cr[yr]=Pr[ir[yr]];ar=je(cr,Ze.width,1)}}var _r=(function(Ir){var Dr;switch(Ir){case Re.image_compression.FAST:Dr=11;break;case Re.image_compression.MEDIUM:Dr=13;break;case Re.image_compression.SLOW:Dr=14;break;default:Dr=12}return Dr})(Ke);return jr===this.decode.FLATE_DECODE&&(vr="/Predictor "+_r+" "),vr+="/Colors "+tr+" /BitsPerComponent "+Ye+" /Columns "+Ze.width,(this.__addimage__.isArrayBuffer(Qe)||this.__addimage__.isArrayBufferView(Qe))&&(Qe=this.__addimage__.arrayBufferToBinaryString(Qe)),(ar&&this.__addimage__.isArrayBuffer(ar)||this.__addimage__.isArrayBufferView(ar))&&(ar=this.__addimage__.arrayBufferToBinaryString(ar)),{alias:qe,data:Qe,index:We,filter:jr,decodeParameters:vr,transparency:Je,palette:rr,sMask:ar,predictor:_r,width:Ze.width,height:Ze.height,bitsPerComponent:Ye,colorSpace:Xe}}}})(E.API),(function(Re){Re.processGIF89A=function(Ce,je,Be,De){var Fe=new Zt(Ce),ke=Fe.width,Oe=Fe.height,Me=[];Fe.decodeAndBlitFrameRGBA(0,Me);var Ue={data:Me,width:ke,height:Oe},$e=new Qt$1(100).encode(Ue,100);return Re.processJPEG.call(this,$e,je,Be,De)},Re.processGIF87A=Re.processGIF89A})(E.API),te.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Re=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Re);for(var Ce=0;Ce<Re;Ce++){var je=this.datav.getUint8(this.pos++,!0),Be=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0);this.palette[Ce]={red:De,green:Be,blue:je,quad:Fe}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},te.prototype.parseBGR=function(){this.pos=this.offset;try{var Re="bit"+this.bitPP,Ce=this.width*this.height*4;this.data=new Uint8Array(Ce),this[Re]()}catch(je){a$2.log("bit decode error:"+je)}},te.prototype.bit1=function(){var Re,Ce=Math.ceil(this.width/8),je=Ce%4;for(Re=this.height-1;Re>=0;Re--){for(var Be=this.bottom_up?Re:this.height-1-Re,De=0;De<Ce;De++)for(var Fe=this.datav.getUint8(this.pos++,!0),ke=Be*this.width*4+8*De*4,Oe=0;Oe<8&&8*De+Oe<this.width;Oe++){var Me=this.palette[Fe>>7-Oe&1];this.data[ke+4*Oe]=Me.blue,this.data[ke+4*Oe+1]=Me.green,this.data[ke+4*Oe+2]=Me.red,this.data[ke+4*Oe+3]=255}je!==0&&(this.pos+=4-je)}},te.prototype.bit4=function(){for(var Re=Math.ceil(this.width/2),Ce=Re%4,je=this.height-1;je>=0;je--){for(var Be=this.bottom_up?je:this.height-1-je,De=0;De<Re;De++){var Fe=this.datav.getUint8(this.pos++,!0),ke=Be*this.width*4+2*De*4,Oe=Fe>>4,Me=15&Fe,Ue=this.palette[Oe];if(this.data[ke]=Ue.blue,this.data[ke+1]=Ue.green,this.data[ke+2]=Ue.red,this.data[ke+3]=255,2*De+1>=this.width)break;Ue=this.palette[Me],this.data[ke+4]=Ue.blue,this.data[ke+4+1]=Ue.green,this.data[ke+4+2]=Ue.red,this.data[ke+4+3]=255}Ce!==0&&(this.pos+=4-Ce)}},te.prototype.bit8=function(){for(var Re=this.width%4,Ce=this.height-1;Ce>=0;Ce--){for(var je=this.bottom_up?Ce:this.height-1-Ce,Be=0;Be<this.width;Be++){var De=this.datav.getUint8(this.pos++,!0),Fe=je*this.width*4+4*Be;if(De<this.palette.length){var ke=this.palette[De];this.data[Fe]=ke.red,this.data[Fe+1]=ke.green,this.data[Fe+2]=ke.blue,this.data[Fe+3]=255}else this.data[Fe]=255,this.data[Fe+1]=255,this.data[Fe+2]=255,this.data[Fe+3]=255}Re!==0&&(this.pos+=4-Re)}},te.prototype.bit15=function(){for(var Re=this.width%3,Ce=parseInt("11111",2),je=this.height-1;je>=0;je--){for(var Be=this.bottom_up?je:this.height-1-je,De=0;De<this.width;De++){var Fe=this.datav.getUint16(this.pos,!0);this.pos+=2;var ke=(Fe&Ce)/Ce*255|0,Oe=(Fe>>5&Ce)/Ce*255|0,Me=(Fe>>10&Ce)/Ce*255|0,Ue=Fe>>15?255:0,$e=Be*this.width*4+4*De;this.data[$e]=Me,this.data[$e+1]=Oe,this.data[$e+2]=ke,this.data[$e+3]=Ue}this.pos+=Re}},te.prototype.bit16=function(){for(var Re=this.width%3,Ce=parseInt("11111",2),je=parseInt("111111",2),Be=this.height-1;Be>=0;Be--){for(var De=this.bottom_up?Be:this.height-1-Be,Fe=0;Fe<this.width;Fe++){var ke=this.datav.getUint16(this.pos,!0);this.pos+=2;var Oe=(ke&Ce)/Ce*255|0,Me=(ke>>5&je)/je*255|0,Ue=(ke>>11)/Ce*255|0,$e=De*this.width*4+4*Fe;this.data[$e]=Ue,this.data[$e+1]=Me,this.data[$e+2]=Oe,this.data[$e+3]=255}this.pos+=Re}},te.prototype.bit24=function(){for(var Re=this.height-1;Re>=0;Re--){for(var Ce=this.bottom_up?Re:this.height-1-Re,je=0;je<this.width;je++){var Be=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),ke=Ce*this.width*4+4*je;this.data[ke]=Fe,this.data[ke+1]=De,this.data[ke+2]=Be,this.data[ke+3]=255}this.pos+=this.width%4}},te.prototype.bit32=function(){for(var Re=this.height-1;Re>=0;Re--)for(var Ce=this.bottom_up?Re:this.height-1-Re,je=0;je<this.width;je++){var Be=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Fe=this.datav.getUint8(this.pos++,!0),ke=this.datav.getUint8(this.pos++,!0),Oe=Ce*this.width*4+4*je;this.data[Oe]=Fe,this.data[Oe+1]=De,this.data[Oe+2]=Be,this.data[Oe+3]=ke}},te.prototype.getData=function(){return this.data},(function(Re){Re.processBMP=function(Ce,je,Be,De){var Fe=new te(Ce,!1),ke=Fe.width,Oe=Fe.height,Me={data:Fe.getData(),width:ke,height:Oe},Ue=new Qt$1(100).encode(Me,100);return Re.processJPEG.call(this,Ue,je,Be,De)}})(E.API),ee.prototype.getData=function(){return this.data},(function(Re){Re.processWEBP=function(Ce,je,Be,De){var Fe=new ee(Ce),ke=Fe.width,Oe=Fe.height,Me={data:Fe.getData(),width:ke,height:Oe},Ue=new Qt$1(100).encode(Me,100);return Re.processJPEG.call(this,Ue,je,Be,De)}})(E.API),E.API.processRGBA=function(Re,Ce,je){for(var Be=Re.data,De=Be.length,Fe=new Uint8Array(De/4*3),ke=new Uint8Array(De/4),Oe=0,Me=0,Ue=0;Ue<De;Ue+=4){var $e=Be[Ue],He=Be[Ue+1],Qe=Be[Ue+2],We=Be[Ue+3];Fe[Oe++]=$e,Fe[Oe++]=He,Fe[Oe++]=Qe,ke[Me++]=We}var qe=this.__addimage__.arrayBufferToBinaryString(Fe);return{alpha:this.__addimage__.arrayBufferToBinaryString(ke),data:qe,index:Ce,alias:je,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Re.width,height:Re.height}},E.API.setLanguage=function(Re){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Re]!==void 0&&(this.internal.languageSettings.languageCode=Re,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")})),this.internal.languageSettings.isSubscribed=!0)),this},Vt$1=E.API,Gt$1=Vt$1.getCharWidthsArray=function(Re,Ce){var je,Be,De=(Ce=Ce||{}).font||this.internal.getFont(),Fe=Ce.fontSize||this.internal.getFontSize(),ke=Ce.charSpace||this.internal.getCharSpace(),Oe=Ce.widths?Ce.widths:De.metadata.Unicode.widths,Me=Oe.fof?Oe.fof:1,Ue=Ce.kerning?Ce.kerning:De.metadata.Unicode.kerning,$e=Ue.fof?Ue.fof:1,He=Ce.doKerning!==!1,Qe=0,We=Re.length,qe=0,Ke=Oe[0]||Me,Xe=[];for(je=0;je<We;je++)Be=Re.charCodeAt(je),typeof De.metadata.widthOfString=="function"?Xe.push((De.metadata.widthOfGlyph(De.metadata.characterToGlyph(Be))+ke*(1e3/Fe)||0)/1e3):(Qe=He&&_typeof(Ue[Be])==="object"&&!isNaN(parseInt(Ue[Be][qe],10))?Ue[Be][qe]/$e:0,Xe.push((Oe[Be]||Ke)/Me+Qe)),qe=Be;return Xe},Yt=Vt$1.getStringUnitWidth=function(Re,Ce){var je=(Ce=Ce||{}).fontSize||this.internal.getFontSize(),Be=Ce.font||this.internal.getFont(),De=Ce.charSpace||this.internal.getCharSpace();return Vt$1.processArabic&&(Re=Vt$1.processArabic(Re)),typeof Be.metadata.widthOfString=="function"?Be.metadata.widthOfString(Re,je,De)/je:Gt$1.apply(this,arguments).reduce((function(Fe,ke){return Fe+ke}),0)},Jt=function(Re,Ce,je,Be){for(var De=[],Fe=0,ke=Re.length,Oe=0;Fe!==ke&&Oe+Ce[Fe]<je;)Oe+=Ce[Fe],Fe++;De.push(Re.slice(0,Fe));var Me=Fe;for(Oe=0;Fe!==ke;)Oe+Ce[Fe]>Be&&(De.push(Re.slice(Me,Fe)),Oe=0,Me=Fe),Oe+=Ce[Fe],Fe++;return Me!==Fe&&De.push(Re.slice(Me,Fe)),De},Xt$1=function(Re,Ce,je){je||(je={});var Be,De,Fe,ke,Oe,Me,Ue,$e=[],He=[$e],Qe=je.textIndent||0,We=0,qe=0,Ke=Re.split(" "),Xe=Gt$1.apply(this,[" ",je])[0];if(Me=je.lineIndent===-1?Ke[0].length+2:je.lineIndent||0){var Ye=Array(Me).join(" "),Ze=[];Ke.map((function(tr){(tr=tr.split(/\s*\n/)).length>1?Ze=Ze.concat(tr.map((function(rr,ar){return(ar&&rr.length?`
`:"")+rr}))):Ze.push(tr[0])})),Ke=Ze,Me=Yt.apply(this,[Ye,je])}for(Fe=0,ke=Ke.length;Fe<ke;Fe++){var Je=0;if(Be=Ke[Fe],Me&&Be[0]==`
`&&(Be=Be.substr(1),Je=1),Qe+We+(qe=(De=Gt$1.apply(this,[Be,je])).reduce((function(tr,rr){return tr+rr}),0))>Ce||Je){if(qe>Ce){for(Oe=Jt.apply(this,[Be,De,Ce-(Qe+We),Ce]),$e.push(Oe.shift()),$e=[Oe.pop()];Oe.length;)He.push([Oe.shift()]);qe=De.slice(Be.length-($e[0]?$e[0].length:0)).reduce((function(tr,rr){return tr+rr}),0)}else $e=[Be];He.push($e),Qe=qe+Me,We=Xe}else $e.push(Be),Qe+=We+qe,We=Xe}return Ue=Me?function(tr,rr){return(rr?Ye:"")+tr.join(" ")}:function(tr){return tr.join(" ")},He.map(Ue)},Vt$1.splitTextToSize=function(Re,Ce,je){var Be,De=(je=je||{}).fontSize||this.internal.getFontSize(),Fe=(function($e){if($e.widths&&$e.kerning)return{widths:$e.widths,kerning:$e.kerning};var He=this.internal.getFont($e.fontName,$e.fontStyle);return He.metadata.Unicode?{widths:He.metadata.Unicode.widths||{0:1},kerning:He.metadata.Unicode.kerning||{}}:{font:He.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,je);Be=Array.isArray(Re)?Re:String(Re).split(/\r?\n/);var ke=1*this.internal.scaleFactor*Ce/De;Fe.textIndent=je.textIndent?1*je.textIndent*this.internal.scaleFactor/De:0,Fe.lineIndent=je.lineIndent;var Oe,Me,Ue=[];for(Oe=0,Me=Be.length;Oe<Me;Oe++)Ue=Ue.concat(Xt$1.apply(this,[Be[Oe],ke,Fe]));return Ue},(function(Re){Re.__fontmetrics__=Re.__fontmetrics__||{};for(var Ce="klmnopqrstuvwxyz",je={},Be={},De=0;De<Ce.length;De++)je[Ce[De]]="0123456789abcdef"[De],Be["0123456789abcdef"[De]]=Ce[De];var Fe=function(He){return"0x"+parseInt(He,10).toString(16)},ke=Re.__fontmetrics__.compress=function(He){var Qe,We,qe,Ke,Xe=["{"];for(var Ye in He){if(Qe=He[Ye],isNaN(parseInt(Ye,10))?We="'"+Ye+"'":(Ye=parseInt(Ye,10),We=(We=Fe(Ye).slice(2)).slice(0,-1)+Be[We.slice(-1)]),typeof Qe=="number")Qe<0?(qe=Fe(Qe).slice(3),Ke="-"):(qe=Fe(Qe).slice(2),Ke=""),qe=Ke+qe.slice(0,-1)+Be[qe.slice(-1)];else{if(_typeof(Qe)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Qe)+".");qe=ke(Qe)}Xe.push(We+qe)}return Xe.push("}"),Xe.join("")},Oe=Re.__fontmetrics__.uncompress=function(He){if(typeof He!="string")throw new Error("Invalid argument passed to uncompress.");for(var Qe,We,qe,Ke,Xe={},Ye=1,Ze=Xe,Je=[],tr="",rr="",ar=He.length-1,ir=1;ir<ar;ir+=1)(Ke=He[ir])=="'"?Qe?(qe=Qe.join(""),Qe=void 0):Qe=[]:Qe?Qe.push(Ke):Ke=="{"?(Je.push([Ze,qe]),Ze={},qe=void 0):Ke=="}"?((We=Je.pop())[0][We[1]]=Ze,qe=void 0,Ze=We[0]):Ke=="-"?Ye=-1:qe===void 0?je.hasOwnProperty(Ke)?(tr+=je[Ke],qe=parseInt(tr,16)*Ye,Ye=1,tr=""):tr+=Ke:je.hasOwnProperty(Ke)?(rr+=je[Ke],Ze[qe]=parseInt(rr,16)*Ye,Ye=1,qe=void 0,rr=""):rr+=Ke;return Xe},Me={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Oe("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ue={Unicode:{Courier:Me,"Courier-Bold":Me,"Courier-BoldOblique":Me,"Courier-Oblique":Me,Helvetica:Me,"Helvetica-Bold":Me,"Helvetica-BoldOblique":Me,"Helvetica-Oblique":Me,"Times-Roman":Me,"Times-Bold":Me,"Times-BoldItalic":Me,"Times-Italic":Me}},$e={Unicode:{"Courier-Oblique":Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Oe("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Oe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Oe("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Oe("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Oe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Oe("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Oe("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Oe("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Oe("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Oe("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Oe("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Re.events.push(["addFont",function(He){var Qe=He.font,We=$e.Unicode[Qe.postScriptName];We&&(Qe.metadata.Unicode={},Qe.metadata.Unicode.widths=We.widths,Qe.metadata.Unicode.kerning=We.kerning);var qe=Ue.Unicode[Qe.postScriptName];qe&&(Qe.metadata.Unicode.encoding=qe,Qe.encoding=qe.codePages[0])}])})(E.API),(function(Re){var Ce=function(je){for(var Be=je.length,De=new Uint8Array(Be),Fe=0;Fe<Be;Fe++)De[Fe]=je.charCodeAt(Fe);return De};Re.API.events.push(["addFont",function(je){var Be=void 0,De=je.font,Fe=je.instance;if(!De.isStandardFont){if(Fe===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+De.postScriptName+"').");if(typeof(Be=Fe.existsFileInVFS(De.postScriptName)===!1?Fe.loadFile(De.postScriptName):Fe.getFileFromVFS(De.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+De.postScriptName+"').");(function(ke,Oe){Oe=/^\x00\x01\x00\x00/.test(Oe)?Ce(Oe):Ce(u$2(Oe)),ke.metadata=Re.API.TTFFont.open(Oe),ke.metadata.Unicode=ke.metadata.Unicode||{encoding:{},kerning:{},widths:[]},ke.metadata.glyIdsUsed=[0]})(De,Be)}}])})(E),(function(Re){function Ce(){return(n$1.canvg?Promise.resolve(n$1.canvg):__vitePreload(()=>import("./index.es-ZKmfirEV.js"),[],import.meta.url)).catch((function(je){return Promise.reject(new Error("Could not load canvg: "+je))})).then((function(je){return je.default?je.default:je}))}E.API.addSvgAsImage=function(je,Be,De,Fe,ke,Oe,Me,Ue){if(isNaN(Be)||isNaN(De))throw a$2.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Fe)||isNaN(ke))throw a$2.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var $e=document.createElement("canvas");$e.width=Fe,$e.height=ke;var He=$e.getContext("2d");He.fillStyle="#fff",He.fillRect(0,0,$e.width,$e.height);var Qe={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},We=this;return Ce().then((function(qe){return qe.fromString(He,je,Qe)}),(function(){return Promise.reject(new Error("Could not load canvg."))})).then((function(qe){return qe.render(Qe)})).then((function(){We.addImage($e.toDataURL("image/jpeg",1),Be,De,Fe,ke,Me,Ue)}))}})(),E.API.putTotalPages=function(Re){var Ce,je=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(Ce=new RegExp(Re,"g"),je=this.internal.getNumberOfPages()):(Ce=new RegExp(this.pdfEscape16(Re,this.internal.getFont()),"g"),je=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Be=1;Be<=this.internal.getNumberOfPages();Be++)for(var De=0;De<this.internal.pages[Be].length;De++)this.internal.pages[Be][De]=this.internal.pages[Be][De].replace(Ce,je);return this},E.API.viewerPreferences=function(Re,Ce){var je;Re=Re||{},Ce=Ce||!1;var Be,De,Fe,ke={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Oe=Object.keys(ke),Me=[],Ue=0,$e=0,He=0;function Qe(qe,Ke){var Xe,Ye=!1;for(Xe=0;Xe<qe.length;Xe+=1)qe[Xe]===Ke&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(ke)),this.internal.viewerpreferences.isSubscribed=!1),je=this.internal.viewerpreferences.configuration,Re==="reset"||Ce===!0){var We=Oe.length;for(He=0;He<We;He+=1)je[Oe[He]].value=je[Oe[He]].defaultValue,je[Oe[He]].explicitSet=!1}if(_typeof(Re)==="object"){for(De in Re)if(Fe=Re[De],Qe(Oe,De)&&Fe!==void 0){if(je[De].type==="boolean"&&typeof Fe=="boolean")je[De].value=Fe;else if(je[De].type==="name"&&Qe(je[De].valueSet,Fe))je[De].value=Fe;else if(je[De].type==="integer"&&Number.isInteger(Fe))je[De].value=Fe;else if(je[De].type==="array"){for(Ue=0;Ue<Fe.length;Ue+=1)if(Be=!0,Fe[Ue].length===1&&typeof Fe[Ue][0]=="number")Me.push(String(Fe[Ue]-1));else if(Fe[Ue].length>1){for($e=0;$e<Fe[Ue].length;$e+=1)typeof Fe[Ue][$e]!="number"&&(Be=!1);Be===!0&&Me.push([Fe[Ue][0]-1,Fe[Ue][1]-1].join(" "))}je[De].value="["+Me.join(" ")+"]"}else je[De].value=je[De].defaultValue;je[De].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",(function(){var qe,Ke=[];for(qe in je)je[qe].explicitSet===!0&&(je[qe].type==="name"?Ke.push("/"+qe+" /"+je[qe].value):Ke.push("/"+qe+" "+je[qe].value));Ke.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ke.join(`
`)+`
>>`)})),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=je,this},(function(Re){var Ce=function(){var Be='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',De=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),Fe=unescape(encodeURIComponent(Be)),ke=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Oe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Me=unescape(encodeURIComponent("</x:xmpmeta>")),Ue=Fe.length+ke.length+Oe.length+De.length+Me.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+Ue+" >>"),this.internal.write("stream"),this.internal.write(De+Fe+ke+Oe+Me),this.internal.write("endstream"),this.internal.write("endobj")},je=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Re.addMetadata=function(Be,De){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Be,namespaceuri:De||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",je),this.internal.events.subscribe("postPutResources",Ce)),this}})(E.API),(function(Re){var Ce=Re.API,je=Ce.pdfEscape16=function(Fe,ke){for(var Oe,Me=ke.metadata.Unicode.widths,Ue=["","0","00","000","0000"],$e=[""],He=0,Qe=Fe.length;He<Qe;++He){if(Oe=ke.metadata.characterToGlyph(Fe.charCodeAt(He)),ke.metadata.glyIdsUsed.push(Oe),ke.metadata.toUnicode[Oe]=Fe.charCodeAt(He),Me.indexOf(Oe)==-1&&(Me.push(Oe),Me.push([parseInt(ke.metadata.widthOfGlyph(Oe),10)])),Oe=="0")return $e.join("");Oe=Oe.toString(16),$e.push(Ue[4-Oe.length],Oe)}return $e.join("")},Be=function(Fe){var ke,Oe,Me,Ue,$e,He,Qe;for($e=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Me=[],He=0,Qe=(Oe=Object.keys(Fe).sort((function(We,qe){return We-qe}))).length;He<Qe;He++)ke=Oe[He],Me.length>=100&&($e+=`
`+Me.length+` beginbfchar
`+Me.join(`
`)+`
endbfchar`,Me=[]),Fe[ke]!==void 0&&Fe[ke]!==null&&typeof Fe[ke].toString=="function"&&(Ue=("0000"+Fe[ke].toString(16)).slice(-4),ke=("0000"+(+ke).toString(16)).slice(-4),Me.push("<"+ke+"><"+Ue+">"));return Me.length&&($e+=`
`+Me.length+` beginbfchar
`+Me.join(`
`)+`
endbfchar
`),$e+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};Ce.events.push(["putFont",function(Fe){(function(ke){var Oe=ke.font,Me=ke.out,Ue=ke.newObject,$e=ke.putStream;if(Oe.metadata instanceof Re.API.TTFFont&&Oe.encoding==="Identity-H"){for(var He=Oe.metadata.Unicode.widths,Qe=Oe.metadata.subset.encode(Oe.metadata.glyIdsUsed,1),We="",qe=0;qe<Qe.length;qe++)We+=String.fromCharCode(Qe[qe]);var Ke=Ue();$e({data:We,addLength1:!0,objectId:Ke}),Me("endobj");var Xe=Ue();$e({data:Be(Oe.metadata.toUnicode),addLength1:!0,objectId:Xe}),Me("endobj");var Ye=Ue();Me("<<"),Me("/Type /FontDescriptor"),Me("/FontName /"+F$2(Oe.fontName)),Me("/FontFile2 "+Ke+" 0 R"),Me("/FontBBox "+Re.API.PDFObject.convert(Oe.metadata.bbox)),Me("/Flags "+Oe.metadata.flags),Me("/StemV "+Oe.metadata.stemV),Me("/ItalicAngle "+Oe.metadata.italicAngle),Me("/Ascent "+Oe.metadata.ascender),Me("/Descent "+Oe.metadata.decender),Me("/CapHeight "+Oe.metadata.capHeight),Me(">>"),Me("endobj");var Ze=Ue();Me("<<"),Me("/Type /Font"),Me("/BaseFont /"+F$2(Oe.fontName)),Me("/FontDescriptor "+Ye+" 0 R"),Me("/W "+Re.API.PDFObject.convert(He)),Me("/CIDToGIDMap /Identity"),Me("/DW 1000"),Me("/Subtype /CIDFontType2"),Me("/CIDSystemInfo"),Me("<<"),Me("/Supplement 0"),Me("/Registry (Adobe)"),Me("/Ordering ("+Oe.encoding+")"),Me(">>"),Me(">>"),Me("endobj"),Oe.objectNumber=Ue(),Me("<<"),Me("/Type /Font"),Me("/Subtype /Type0"),Me("/ToUnicode "+Xe+" 0 R"),Me("/BaseFont /"+F$2(Oe.fontName)),Me("/Encoding /"+Oe.encoding),Me("/DescendantFonts ["+Ze+" 0 R]"),Me(">>"),Me("endobj"),Oe.isAlreadyPutted=!0}})(Fe)}]),Ce.events.push(["putFont",function(Fe){(function(ke){var Oe=ke.font,Me=ke.out,Ue=ke.newObject,$e=ke.putStream;if(Oe.metadata instanceof Re.API.TTFFont&&Oe.encoding==="WinAnsiEncoding"){for(var He=Oe.metadata.rawData,Qe="",We=0;We<He.length;We++)Qe+=String.fromCharCode(He[We]);var qe=Ue();$e({data:Qe,addLength1:!0,objectId:qe}),Me("endobj");var Ke=Ue();$e({data:Be(Oe.metadata.toUnicode),addLength1:!0,objectId:Ke}),Me("endobj");var Xe=Ue();Me("<<"),Me("/Descent "+Oe.metadata.decender),Me("/CapHeight "+Oe.metadata.capHeight),Me("/StemV "+Oe.metadata.stemV),Me("/Type /FontDescriptor"),Me("/FontFile2 "+qe+" 0 R"),Me("/Flags 96"),Me("/FontBBox "+Re.API.PDFObject.convert(Oe.metadata.bbox)),Me("/FontName /"+F$2(Oe.fontName)),Me("/ItalicAngle "+Oe.metadata.italicAngle),Me("/Ascent "+Oe.metadata.ascender),Me(">>"),Me("endobj"),Oe.objectNumber=Ue();for(var Ye=0;Ye<Oe.metadata.hmtx.widths.length;Ye++)Oe.metadata.hmtx.widths[Ye]=parseInt(Oe.metadata.hmtx.widths[Ye]*(1e3/Oe.metadata.head.unitsPerEm));Me("<</Subtype/TrueType/Type/Font/ToUnicode "+Ke+" 0 R/BaseFont/"+F$2(Oe.fontName)+"/FontDescriptor "+Xe+" 0 R/Encoding/"+Oe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Re.API.PDFObject.convert(Oe.metadata.hmtx.widths)+">>"),Me("endobj"),Oe.isAlreadyPutted=!0}})(Fe)}]);var De=function(Fe){var ke,Oe=Fe.text||"",Me=Fe.x,Ue=Fe.y,$e=Fe.options||{},He=Fe.mutex||{},Qe=He.pdfEscape,We=He.activeFontKey,qe=He.fonts,Ke=We,Xe="",Ye=0,Ze="",Je=qe[Ke].encoding;if(qe[Ke].encoding!=="Identity-H")return{text:Oe,x:Me,y:Ue,options:$e,mutex:He};for(Ze=Oe,Ke=We,Array.isArray(Oe)&&(Ze=Oe[0]),Ye=0;Ye<Ze.length;Ye+=1)qe[Ke].metadata.hasOwnProperty("cmap")&&(ke=qe[Ke].metadata.cmap.unicode.codeMap[Ze[Ye].charCodeAt(0)]),ke||Ze[Ye].charCodeAt(0)<256&&qe[Ke].metadata.hasOwnProperty("Unicode")?Xe+=Ze[Ye]:Xe+="";var tr="";return parseInt(Ke.slice(1))<14||Je==="WinAnsiEncoding"?tr=Qe(Xe,Ke).split("").map((function(rr){return rr.charCodeAt(0).toString(16)})).join(""):Je==="Identity-H"&&(tr=je(Xe,qe[Ke])),He.isHex=!0,{text:tr,x:Me,y:Ue,options:$e,mutex:He}};Ce.events.push(["postProcessText",function(Fe){var ke=Fe.text||"",Oe=[],Me={text:ke,x:Fe.x,y:Fe.y,options:Fe.options,mutex:Fe.mutex};if(Array.isArray(ke)){var Ue=0;for(Ue=0;Ue<ke.length;Ue+=1)Array.isArray(ke[Ue])&&ke[Ue].length===3?Oe.push([De(Object.assign({},Me,{text:ke[Ue][0]})).text,ke[Ue][1],ke[Ue][2]]):Oe.push(De(Object.assign({},Me,{text:ke[Ue]})).text);Fe.text=Oe}else Fe.text=De(Object.assign({},Me,{text:ke})).text}])})(E),(function(Re){var Ce=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Re.existsFileInVFS=function(je){return Ce.call(this),this.internal.vFS[je]!==void 0},Re.addFileToVFS=function(je,Be){return Ce.call(this),this.internal.vFS[je]=Be,this},Re.getFileFromVFS=function(je){return Ce.call(this),this.internal.vFS[je]!==void 0?this.internal.vFS[je]:null}})(E.API),(function(Re){Re.__bidiEngine__=Re.prototype.__bidiEngine__=function(Be){var De,Fe,ke,Oe,Me,Ue,$e,He=Ce,Qe=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],We=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],qe={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ke={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Xe=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Ze=!1,Je=0;this.__bidiEngine__={};var tr=function(fr){var or=fr.charCodeAt(),yr=or>>8,Cr=Ke[yr];return Cr!==void 0?He[256*Cr+(255&or)]:yr===252||yr===253?"AL":Ye.test(yr)?"L":yr===8?"R":"N"},rr=function(fr){for(var or,yr=0;yr<fr.length;yr++){if((or=tr(fr.charAt(yr)))==="L")return!1;if(or==="R")return!0}return!1},ar=function(fr,or,yr,Cr){var jr,vr,Tr,wr,Er=or[Cr];switch(Er){case"L":case"R":Ze=!1;break;case"N":case"AN":break;case"EN":Ze&&(Er="AN");break;case"AL":Ze=!0,Er="R";break;case"WS":Er="N";break;case"CS":Cr<1||Cr+1>=or.length||(jr=yr[Cr-1])!=="EN"&&jr!=="AN"||(vr=or[Cr+1])!=="EN"&&vr!=="AN"?Er="N":Ze&&(vr="AN"),Er=vr===jr?vr:"N";break;case"ES":Er=(jr=Cr>0?yr[Cr-1]:"B")==="EN"&&Cr+1<or.length&&or[Cr+1]==="EN"?"EN":"N";break;case"ET":if(Cr>0&&yr[Cr-1]==="EN"){Er="EN";break}if(Ze){Er="N";break}for(Tr=Cr+1,wr=or.length;Tr<wr&&or[Tr]==="ET";)Tr++;Er=Tr<wr&&or[Tr]==="EN"?"EN":"N";break;case"NSM":if(ke&&!Oe){for(wr=or.length,Tr=Cr+1;Tr<wr&&or[Tr]==="NSM";)Tr++;if(Tr<wr){var Pr=fr[Cr],Mr=Pr>=1425&&Pr<=2303||Pr===64286;if(jr=or[Tr],Mr&&(jr==="R"||jr==="AL")){Er="R";break}}}Er=Cr<1||(jr=or[Cr-1])==="B"?"N":yr[Cr-1];break;case"B":Ze=!1,De=!0,Er=Je;break;case"S":Fe=!0,Er="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Ze=!1;break;case"BN":Er="N"}return Er},ir=function(fr,or,yr){var Cr=fr.split("");return yr&&nr(Cr,yr,{hiLevel:Je}),Cr.reverse(),or&&or.reverse(),Cr.join("")},nr=function(fr,or,yr){var Cr,jr,vr,Tr,wr,Er=-1,Pr=fr.length,Mr=0,_r=[],Ir=Je?We:Qe,Dr=[];for(Ze=!1,De=!1,Fe=!1,jr=0;jr<Pr;jr++)Dr[jr]=tr(fr[jr]);for(vr=0;vr<Pr;vr++){if(wr=Mr,_r[vr]=ar(fr,Dr,_r,vr),Cr=240&(Mr=Ir[wr][qe[_r[vr]]]),Mr&=15,or[vr]=Tr=Ir[Mr][5],Cr>0)if(Cr===16){for(jr=Er;jr<vr;jr++)or[jr]=1;Er=-1}else Er=-1;if(Ir[Mr][6])Er===-1&&(Er=vr);else if(Er>-1){for(jr=Er;jr<vr;jr++)or[jr]=Tr;Er=-1}Dr[vr]==="B"&&(or[vr]=0),yr.hiLevel|=Tr}Fe&&(function(Or,br,Ur){for(var Qr=0;Qr<Ur;Qr++)if(Or[Qr]==="S"){br[Qr]=Je;for(var zr=Qr-1;zr>=0&&Or[zr]==="WS";zr--)br[zr]=Je}})(Dr,or,Pr)},cr=function(fr,or,yr,Cr,jr){if(!(jr.hiLevel<fr)){if(fr===1&&Je===1&&!De)return or.reverse(),void(yr&&yr.reverse());for(var vr,Tr,wr,Er,Pr=or.length,Mr=0;Mr<Pr;){if(Cr[Mr]>=fr){for(wr=Mr+1;wr<Pr&&Cr[wr]>=fr;)wr++;for(Er=Mr,Tr=wr-1;Er<Tr;Er++,Tr--)vr=or[Er],or[Er]=or[Tr],or[Tr]=vr,yr&&(vr=yr[Er],yr[Er]=yr[Tr],yr[Tr]=vr);Mr=wr}Mr++}}},mr=function(fr,or,yr){var Cr=fr.split(""),jr={hiLevel:Je};return yr||(yr=[]),nr(Cr,yr,jr),(function(vr,Tr,wr){if(wr.hiLevel!==0&&$e)for(var Er,Pr=0;Pr<vr.length;Pr++)Tr[Pr]===1&&(Er=Xe.indexOf(vr[Pr]))>=0&&(vr[Pr]=Xe[Er+1])})(Cr,yr,jr),cr(2,Cr,or,yr,jr),cr(1,Cr,or,yr,jr),Cr.join("")};return this.__bidiEngine__.doBidiReorder=function(fr,or,yr){if((function(jr,vr){if(vr)for(var Tr=0;Tr<jr.length;Tr++)vr[Tr]=Tr;Oe===void 0&&(Oe=rr(jr)),Ue===void 0&&(Ue=rr(jr))})(fr,or),ke||!Me||Ue)if(ke&&Me&&Oe^Ue)Je=Oe?1:0,fr=ir(fr,or,yr);else if(!ke&&Me&&Ue)Je=Oe?1:0,fr=mr(fr,or,yr),fr=ir(fr,or);else if(!ke||Oe||Me||Ue){if(ke&&!Me&&Oe^Ue)fr=ir(fr,or),Oe?(Je=0,fr=mr(fr,or,yr)):(Je=1,fr=mr(fr,or,yr),fr=ir(fr,or));else if(ke&&Oe&&!Me&&Ue)Je=1,fr=mr(fr,or,yr),fr=ir(fr,or);else if(!ke&&!Me&&Oe^Ue){var Cr=$e;Oe?(Je=1,fr=mr(fr,or,yr),Je=0,$e=!1,fr=mr(fr,or,yr),$e=Cr):(Je=0,fr=mr(fr,or,yr),fr=ir(fr,or),Je=1,$e=!1,fr=mr(fr,or,yr),$e=Cr,fr=ir(fr,or))}}else Je=0,fr=mr(fr,or,yr);else Je=Oe?1:0,fr=mr(fr,or,yr);return fr},this.__bidiEngine__.setOptions=function(fr){fr&&(ke=fr.isInputVisual,Me=fr.isOutputVisual,Oe=fr.isInputRtl,Ue=fr.isOutputRtl,$e=fr.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Be),this.__bidiEngine__};var Ce=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],je=new Re.__bidiEngine__({isInputVisual:!0});Re.API.events.push(["postProcessText",function(Be){var De=Be.text;Be.x,Be.y;var Fe=Be.options||{};Be.mutex,Fe.lang;var ke=[];if(Fe.isInputVisual=typeof Fe.isInputVisual!="boolean"||Fe.isInputVisual,je.setOptions(Fe),Object.prototype.toString.call(De)==="[object Array]"){var Oe=0;for(ke=[],Oe=0;Oe<De.length;Oe+=1)Object.prototype.toString.call(De[Oe])==="[object Array]"?ke.push([je.doBidiReorder(De[Oe][0]),De[Oe][1],De[Oe][2]]):ke.push([je.doBidiReorder(De[Oe])]);Be.text=ke}else Be.text=je.doBidiReorder(De);je.setOptions({isInputVisual:!0})}])})(E),E.API.TTFFont=(function(){function Re(Ce){var je;if(this.rawData=Ce,je=this.contents=new ne$1(Ce),this.contents.pos=4,je.readString(4)==="ttcf")throw new Error("TTCF not supported.");je.pos=0,this.parse(),this.subset=new Le(this),this.registerTTF()}return Re.open=function(Ce){return new Re(Ce)},Re.prototype.parse=function(){return this.directory=new ie(this.contents),this.head=new se$1(this),this.name=new pe$1(this),this.cmap=new ue$1(this),this.toUnicode={},this.hhea=new he$1(this),this.maxp=new ge$1(this),this.hmtx=new me(this),this.post=new fe$1(this),this.os2=new le$1(this),this.loca=new Ne(this),this.glyf=new be$1(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Re.prototype.registerTTF=function(){var Ce,je,Be,De,Fe;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var ke,Oe,Me,Ue;for(Ue=[],ke=0,Oe=(Me=this.bbox).length;ke<Oe;ke++)Ce=Me[ke],Ue.push(Math.round(Ce*this.scaleFactor));return Ue}).call(this),this.stemV=0,this.post.exists?(Be=255&(De=this.post.italic_angle),(32768&(je=De>>16))!=0&&(je=-(1+(65535^je))),this.italicAngle=+(je+"."+Be)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(Fe=this.familyClass)===1||Fe===2||Fe===3||Fe===4||Fe===5||Fe===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Re.prototype.characterToGlyph=function(Ce){var je;return((je=this.cmap.unicode)!=null?je.codeMap[Ce]:void 0)||0},Re.prototype.widthOfGlyph=function(Ce){var je;return je=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(Ce).advance*je},Re.prototype.widthOfString=function(Ce,je,Be){var De,Fe,ke,Oe;for(ke=0,Fe=0,Oe=(Ce=""+Ce).length;0<=Oe?Fe<Oe:Fe>Oe;Fe=0<=Oe?++Fe:--Fe)De=Ce.charCodeAt(Fe),ke+=this.widthOfGlyph(this.characterToGlyph(De))+Be*(1e3/je)||0;return ke*(je/1e3)},Re.prototype.lineHeight=function(Ce,je){var Be;return je==null&&(je=!1),Be=je?this.lineGap:0,(this.ascender+Be-this.decender)/1e3*Ce},Re})();var re$2,ne$1=(function(){function Re(Ce){this.data=Ce??[],this.pos=0,this.length=this.data.length}return Re.prototype.readByte=function(){return this.data[this.pos++]},Re.prototype.writeByte=function(Ce){return this.data[this.pos++]=Ce},Re.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Re.prototype.writeUInt32=function(Ce){return this.writeByte(Ce>>>24&255),this.writeByte(Ce>>16&255),this.writeByte(Ce>>8&255),this.writeByte(255&Ce)},Re.prototype.readInt32=function(){var Ce;return(Ce=this.readUInt32())>=2147483648?Ce-4294967296:Ce},Re.prototype.writeInt32=function(Ce){return Ce<0&&(Ce+=4294967296),this.writeUInt32(Ce)},Re.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Re.prototype.writeUInt16=function(Ce){return this.writeByte(Ce>>8&255),this.writeByte(255&Ce)},Re.prototype.readInt16=function(){var Ce;return(Ce=this.readUInt16())>=32768?Ce-65536:Ce},Re.prototype.writeInt16=function(Ce){return Ce<0&&(Ce+=65536),this.writeUInt16(Ce)},Re.prototype.readString=function(Ce){var je,Be;for(Be=[],je=0;0<=Ce?je<Ce:je>Ce;je=0<=Ce?++je:--je)Be[je]=String.fromCharCode(this.readByte());return Be.join("")},Re.prototype.writeString=function(Ce){var je,Be,De;for(De=[],je=0,Be=Ce.length;0<=Be?je<Be:je>Be;je=0<=Be?++je:--je)De.push(this.writeByte(Ce.charCodeAt(je)));return De},Re.prototype.readShort=function(){return this.readInt16()},Re.prototype.writeShort=function(Ce){return this.writeInt16(Ce)},Re.prototype.readLongLong=function(){var Ce,je,Be,De,Fe,ke,Oe,Me;return Ce=this.readByte(),je=this.readByte(),Be=this.readByte(),De=this.readByte(),Fe=this.readByte(),ke=this.readByte(),Oe=this.readByte(),Me=this.readByte(),128&Ce?-1*(72057594037927940*(255^Ce)+281474976710656*(255^je)+1099511627776*(255^Be)+4294967296*(255^De)+16777216*(255^Fe)+65536*(255^ke)+256*(255^Oe)+(255^Me)+1):72057594037927940*Ce+281474976710656*je+1099511627776*Be+4294967296*De+16777216*Fe+65536*ke+256*Oe+Me},Re.prototype.writeLongLong=function(Ce){var je,Be;return je=Math.floor(Ce/4294967296),Be=4294967295&Ce,this.writeByte(je>>24&255),this.writeByte(je>>16&255),this.writeByte(je>>8&255),this.writeByte(255&je),this.writeByte(Be>>24&255),this.writeByte(Be>>16&255),this.writeByte(Be>>8&255),this.writeByte(255&Be)},Re.prototype.readInt=function(){return this.readInt32()},Re.prototype.writeInt=function(Ce){return this.writeInt32(Ce)},Re.prototype.read=function(Ce){var je,Be;for(je=[],Be=0;0<=Ce?Be<Ce:Be>Ce;Be=0<=Ce?++Be:--Be)je.push(this.readByte());return je},Re.prototype.write=function(Ce){var je,Be,De,Fe;for(Fe=[],Be=0,De=Ce.length;Be<De;Be++)je=Ce[Be],Fe.push(this.writeByte(je));return Fe},Re})(),ie=(function(){var Re;function Ce(je){var Be,De,Fe;for(this.scalarType=je.readInt(),this.tableCount=je.readShort(),this.searchRange=je.readShort(),this.entrySelector=je.readShort(),this.rangeShift=je.readShort(),this.tables={},De=0,Fe=this.tableCount;0<=Fe?De<Fe:De>Fe;De=0<=Fe?++De:--De)Be={tag:je.readString(4),checksum:je.readInt(),offset:je.readInt(),length:je.readInt()},this.tables[Be.tag]=Be}return Ce.prototype.encode=function(je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe,We,qe,Ke;for(Ke in We=Object.keys(je).length,Me=Math.log(2),He=16*Math.floor(Math.log(We)/Me),ke=Math.floor(He/Me),$e=16*We-He,(De=new ne$1).writeInt(this.scalarType),De.writeShort(We),De.writeShort(He),De.writeShort(ke),De.writeShort($e),Fe=16*We,Ue=De.pos+Fe,Oe=null,qe=[],je)for(Qe=je[Ke],De.writeString(Ke),De.writeInt(Re(Qe)),De.writeInt(Ue),De.writeInt(Qe.length),qe=qe.concat(Qe),Ke==="head"&&(Oe=Ue),Ue+=Qe.length;Ue%4;)qe.push(0),Ue++;return De.write(qe),Be=2981146554-Re(De.data),De.pos=Oe+8,De.writeUInt32(Be),De.data},Re=function(je){var Be,De,Fe,ke;for(je=ve.call(je);je.length%4;)je.push(0);for(Fe=new ne$1(je),De=0,Be=0,ke=je.length;Be<ke;Be=Be+=4)De+=Fe.readUInt32();return 4294967295&De},Ce})(),ae={}.hasOwnProperty,oe$1=function(Re,Ce){for(var je in Ce)ae.call(Ce,je)&&(Re[je]=Ce[je]);function Be(){this.constructor=Re}return Be.prototype=Ce.prototype,Re.prototype=new Be,Re.__super__=Ce.prototype,Re};re$2=(function(){function Re(Ce){var je;this.file=Ce,je=this.file.directory.tables[this.tag],this.exists=!!je,je&&(this.offset=je.offset,this.length=je.length,this.parse(this.file.contents))}return Re.prototype.parse=function(){},Re.prototype.encode=function(){},Re.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Re})();var se$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="head",Ce.prototype.parse=function(je){return je.pos=this.offset,this.version=je.readInt(),this.revision=je.readInt(),this.checkSumAdjustment=je.readInt(),this.magicNumber=je.readInt(),this.flags=je.readShort(),this.unitsPerEm=je.readShort(),this.created=je.readLongLong(),this.modified=je.readLongLong(),this.xMin=je.readShort(),this.yMin=je.readShort(),this.xMax=je.readShort(),this.yMax=je.readShort(),this.macStyle=je.readShort(),this.lowestRecPPEM=je.readShort(),this.fontDirectionHint=je.readShort(),this.indexToLocFormat=je.readShort(),this.glyphDataFormat=je.readShort()},Ce.prototype.encode=function(je){var Be;return(Be=new ne$1).writeInt(this.version),Be.writeInt(this.revision),Be.writeInt(this.checkSumAdjustment),Be.writeInt(this.magicNumber),Be.writeShort(this.flags),Be.writeShort(this.unitsPerEm),Be.writeLongLong(this.created),Be.writeLongLong(this.modified),Be.writeShort(this.xMin),Be.writeShort(this.yMin),Be.writeShort(this.xMax),Be.writeShort(this.yMax),Be.writeShort(this.macStyle),Be.writeShort(this.lowestRecPPEM),Be.writeShort(this.fontDirectionHint),Be.writeShort(je),Be.writeShort(this.glyphDataFormat),Be.data},Ce})(),ce=(function(){function Re(Ce,je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je;switch(this.platformID=Ce.readUInt16(),this.encodingID=Ce.readShort(),this.offset=je+Ce.readInt(),He=Ce.pos,Ce.pos=this.offset,this.format=Ce.readUInt16(),this.length=Ce.readUInt16(),this.language=Ce.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Me=0;Me<256;++Me)this.codeMap[Me]=Ce.readByte();break;case 4:for(We=Ce.readUInt16(),Qe=We/2,Ce.pos+=6,Fe=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Ce.readUInt16());return rr})(),Ce.pos+=2,Ke=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Ce.readUInt16());return rr})(),Ue=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Ce.readUInt16());return rr})(),$e=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=Qe?tr<Qe:tr>Qe;Me=0<=Qe?++tr:--tr)rr.push(Ce.readUInt16());return rr})(),De=(this.length-Ce.pos+this.offset)/2,Oe=(function(){var tr,rr;for(rr=[],Me=tr=0;0<=De?tr<De:tr>De;Me=0<=De?++tr:--tr)rr.push(Ce.readUInt16());return rr})(),Me=Ye=0,Je=Fe.length;Ye<Je;Me=++Ye)for(Xe=Fe[Me],Be=Ze=qe=Ke[Me];qe<=Xe?Ze<=Xe:Ze>=Xe;Be=qe<=Xe?++Ze:--Ze)$e[Me]===0?ke=Be+Ue[Me]:(ke=Oe[$e[Me]/2+(Be-qe)-(Qe-Me)]||0)!==0&&(ke+=Ue[Me]),this.codeMap[Be]=65535&ke}Ce.pos=He}return Re.encode=function(Ce,je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr,ar,ir,nr,cr,mr,fr,or,yr,Cr,jr,vr,Tr,wr,Er,Pr,Mr,_r,Ir,Dr,Or,br,Ur,Qr,zr,Gr,fn,nn;switch(Cr=new ne$1,ke=Object.keys(Ce).sort((function(bn,hn){return bn-hn})),je){case"macroman":for(Ke=0,Xe=(function(){var bn=[];for(qe=0;qe<256;++qe)bn.push(0);return bn})(),Ze={0:0},Fe={},jr=0,Er=ke.length;jr<Er;jr++)Ze[zr=Ce[De=ke[jr]]]==null&&(Ze[zr]=++Ke),Fe[De]={old:Ce[De],new:Ze[Ce[De]]},Xe[De]=Ze[Ce[De]];return Cr.writeUInt16(1),Cr.writeUInt16(0),Cr.writeUInt32(12),Cr.writeUInt16(0),Cr.writeUInt16(262),Cr.writeUInt16(0),Cr.write(Xe),{charMap:Fe,subtable:Cr.data,maxGlyphID:Ke+1};case"unicode":for(or=[],He=[],Je=0,Ze={},Be={},Ye=Ue=null,vr=0,Pr=ke.length;vr<Pr;vr++)Ze[rr=Ce[De=ke[vr]]]==null&&(Ze[rr]=++Je),Be[De]={old:rr,new:Ze[rr]},Oe=Ze[rr]-De,Ye!=null&&Oe===Ue||(Ye&&He.push(Ye),or.push(De),Ue=Oe),Ye=De;for(Ye&&He.push(Ye),He.push(65535),or.push(65535),mr=2*(cr=or.length),nr=2*Math.pow(Math.log(cr)/Math.LN2,2),Qe=Math.log(nr/2)/Math.LN2,ir=2*cr-nr,Me=[],ar=[],We=[],qe=Tr=0,Mr=or.length;Tr<Mr;qe=++Tr){if(fr=or[qe],$e=He[qe],fr===65535){Me.push(0),ar.push(0);break}if(fr-(yr=Be[fr].new)>=32768)for(Me.push(0),ar.push(2*(We.length+cr-qe)),De=wr=fr;fr<=$e?wr<=$e:wr>=$e;De=fr<=$e?++wr:--wr)We.push(Be[De].new);else Me.push(yr-fr),ar.push(0)}for(Cr.writeUInt16(3),Cr.writeUInt16(1),Cr.writeUInt32(12),Cr.writeUInt16(4),Cr.writeUInt16(16+8*cr+2*We.length),Cr.writeUInt16(0),Cr.writeUInt16(mr),Cr.writeUInt16(nr),Cr.writeUInt16(Qe),Cr.writeUInt16(ir),Ur=0,_r=He.length;Ur<_r;Ur++)De=He[Ur],Cr.writeUInt16(De);for(Cr.writeUInt16(0),Qr=0,Ir=or.length;Qr<Ir;Qr++)De=or[Qr],Cr.writeUInt16(De);for(Gr=0,Dr=Me.length;Gr<Dr;Gr++)Oe=Me[Gr],Cr.writeUInt16(Oe);for(fn=0,Or=ar.length;fn<Or;fn++)tr=ar[fn],Cr.writeUInt16(tr);for(nn=0,br=We.length;nn<br;nn++)Ke=We[nn],Cr.writeUInt16(Ke);return{charMap:Be,subtable:Cr.data,maxGlyphID:Je+1}}},Re})(),ue$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="cmap",Ce.prototype.parse=function(je){var Be,De,Fe;for(je.pos=this.offset,this.version=je.readUInt16(),Fe=je.readUInt16(),this.tables=[],this.unicode=null,De=0;0<=Fe?De<Fe:De>Fe;De=0<=Fe?++De:--De)Be=new ce(je,this.offset),this.tables.push(Be),Be.isUnicode&&this.unicode==null&&(this.unicode=Be);return!0},Ce.encode=function(je,Be){var De,Fe;return Be==null&&(Be="macroman"),De=ce.encode(je,Be),(Fe=new ne$1).writeUInt16(0),Fe.writeUInt16(1),De.table=Fe.data.concat(De.subtable),De},Ce})(),he$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="hhea",Ce.prototype.parse=function(je){return je.pos=this.offset,this.version=je.readInt(),this.ascender=je.readShort(),this.decender=je.readShort(),this.lineGap=je.readShort(),this.advanceWidthMax=je.readShort(),this.minLeftSideBearing=je.readShort(),this.minRightSideBearing=je.readShort(),this.xMaxExtent=je.readShort(),this.caretSlopeRise=je.readShort(),this.caretSlopeRun=je.readShort(),this.caretOffset=je.readShort(),je.pos+=8,this.metricDataFormat=je.readShort(),this.numberOfMetrics=je.readUInt16()},Ce})(),le$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="OS/2",Ce.prototype.parse=function(je){if(je.pos=this.offset,this.version=je.readUInt16(),this.averageCharWidth=je.readShort(),this.weightClass=je.readUInt16(),this.widthClass=je.readUInt16(),this.type=je.readShort(),this.ySubscriptXSize=je.readShort(),this.ySubscriptYSize=je.readShort(),this.ySubscriptXOffset=je.readShort(),this.ySubscriptYOffset=je.readShort(),this.ySuperscriptXSize=je.readShort(),this.ySuperscriptYSize=je.readShort(),this.ySuperscriptXOffset=je.readShort(),this.ySuperscriptYOffset=je.readShort(),this.yStrikeoutSize=je.readShort(),this.yStrikeoutPosition=je.readShort(),this.familyClass=je.readShort(),this.panose=(function(){var Be,De;for(De=[],Be=0;Be<10;++Be)De.push(je.readByte());return De})(),this.charRange=(function(){var Be,De;for(De=[],Be=0;Be<4;++Be)De.push(je.readInt());return De})(),this.vendorID=je.readString(4),this.selection=je.readShort(),this.firstCharIndex=je.readShort(),this.lastCharIndex=je.readShort(),this.version>0&&(this.ascent=je.readShort(),this.descent=je.readShort(),this.lineGap=je.readShort(),this.winAscent=je.readShort(),this.winDescent=je.readShort(),this.codePageRange=(function(){var Be,De;for(De=[],Be=0;Be<2;Be=++Be)De.push(je.readInt());return De})(),this.version>1))return this.xHeight=je.readShort(),this.capHeight=je.readShort(),this.defaultChar=je.readShort(),this.breakChar=je.readShort(),this.maxContext=je.readShort()},Ce})(),fe$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="post",Ce.prototype.parse=function(je){var Be,De,Fe;switch(je.pos=this.offset,this.format=je.readInt(),this.italicAngle=je.readInt(),this.underlinePosition=je.readShort(),this.underlineThickness=je.readShort(),this.isFixedPitch=je.readInt(),this.minMemType42=je.readInt(),this.maxMemType42=je.readInt(),this.minMemType1=je.readInt(),this.maxMemType1=je.readInt(),this.format){case 65536:break;case 131072:var ke;for(De=je.readUInt16(),this.glyphNameIndex=[],ke=0;0<=De?ke<De:ke>De;ke=0<=De?++ke:--ke)this.glyphNameIndex.push(je.readUInt16());for(this.names=[],Fe=[];je.pos<this.offset+this.length;)Be=je.readByte(),Fe.push(this.names.push(je.readString(Be)));return Fe;case 151552:return De=je.readUInt16(),this.offsets=je.read(De);case 196608:break;case 262144:return this.map=(function(){var Oe,Me,Ue;for(Ue=[],ke=Oe=0,Me=this.file.maxp.numGlyphs;0<=Me?Oe<Me:Oe>Me;ke=0<=Me?++Oe:--Oe)Ue.push(je.readUInt32());return Ue}).call(this)}},Ce})(),de$1=function(Re,Ce){this.raw=Re,this.length=Re.length,this.platformID=Ce.platformID,this.encodingID=Ce.encodingID,this.languageID=Ce.languageID},pe$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="name",Ce.prototype.parse=function(je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe,We;for(je.pos=this.offset,je.readShort(),Be=je.readShort(),Me=je.readShort(),De=[],ke=0;0<=Be?ke<Be:ke>Be;ke=0<=Be?++ke:--ke)De.push({platformID:je.readShort(),encodingID:je.readShort(),languageID:je.readShort(),nameID:je.readShort(),length:je.readShort(),offset:this.offset+Me+je.readShort()});for(Ue={},ke=He=0,Qe=De.length;He<Qe;ke=++He)Fe=De[ke],je.pos=Fe.offset,$e=je.readString(Fe.length),Oe=new de$1($e,Fe),Ue[We=Fe.nameID]==null&&(Ue[We]=[]),Ue[Fe.nameID].push(Oe);this.strings=Ue,this.copyright=Ue[0],this.fontFamily=Ue[1],this.fontSubfamily=Ue[2],this.uniqueSubfamily=Ue[3],this.fontName=Ue[4],this.version=Ue[5];try{this.postscriptName=Ue[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Ue[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Ue[7],this.manufacturer=Ue[8],this.designer=Ue[9],this.description=Ue[10],this.vendorUrl=Ue[11],this.designerUrl=Ue[12],this.license=Ue[13],this.licenseUrl=Ue[14],this.preferredFamily=Ue[15],this.preferredSubfamily=Ue[17],this.compatibleFull=Ue[18],this.sampleText=Ue[19]},Ce})(),ge$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="maxp",Ce.prototype.parse=function(je){return je.pos=this.offset,this.version=je.readInt(),this.numGlyphs=je.readUInt16(),this.maxPoints=je.readUInt16(),this.maxContours=je.readUInt16(),this.maxCompositePoints=je.readUInt16(),this.maxComponentContours=je.readUInt16(),this.maxZones=je.readUInt16(),this.maxTwilightPoints=je.readUInt16(),this.maxStorage=je.readUInt16(),this.maxFunctionDefs=je.readUInt16(),this.maxInstructionDefs=je.readUInt16(),this.maxStackElements=je.readUInt16(),this.maxSizeOfInstructions=je.readUInt16(),this.maxComponentElements=je.readUInt16(),this.maxComponentDepth=je.readUInt16()},Ce})(),me=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="hmtx",Ce.prototype.parse=function(je){var Be,De,Fe,ke,Oe,Me,Ue;for(je.pos=this.offset,this.metrics=[],Be=0,Me=this.file.hhea.numberOfMetrics;0<=Me?Be<Me:Be>Me;Be=0<=Me?++Be:--Be)this.metrics.push({advance:je.readUInt16(),lsb:je.readInt16()});for(Fe=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var $e,He;for(He=[],Be=$e=0;0<=Fe?$e<Fe:$e>Fe;Be=0<=Fe?++$e:--$e)He.push(je.readInt16());return He})(),this.widths=(function(){var $e,He,Qe,We;for(We=[],$e=0,He=(Qe=this.metrics).length;$e<He;$e++)ke=Qe[$e],We.push(ke.advance);return We}).call(this),De=this.widths[this.widths.length-1],Ue=[],Be=Oe=0;0<=Fe?Oe<Fe:Oe>Fe;Be=0<=Fe?++Oe:--Oe)Ue.push(this.widths.push(De));return Ue},Ce.prototype.forGlyph=function(je){return je in this.metrics?this.metrics[je]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[je-this.metrics.length]}},Ce})(),ve=[].slice,be$1=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="glyf",Ce.prototype.parse=function(){return this.cache={}},Ce.prototype.glyphFor=function(je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe;return je in this.cache?this.cache[je]:(ke=this.file.loca,Be=this.file.contents,De=ke.indexOf(je),(Fe=ke.lengthOf(je))===0?this.cache[je]=null:(Be.pos=this.offset+De,Oe=(Me=new ne$1(Be.read(Fe))).readShort(),$e=Me.readShort(),Qe=Me.readShort(),Ue=Me.readShort(),He=Me.readShort(),this.cache[je]=Oe===-1?new we(Me,$e,Qe,Ue,He):new ye$1(Me,Oe,$e,Qe,Ue,He),this.cache[je]))},Ce.prototype.encode=function(je,Be,De){var Fe,ke,Oe,Me,Ue;for(Oe=[],ke=[],Me=0,Ue=Be.length;Me<Ue;Me++)Fe=je[Be[Me]],ke.push(Oe.length),Fe&&(Oe=Oe.concat(Fe.encode(De)));return ke.push(Oe.length),{table:Oe,offsets:ke}},Ce})(),ye$1=(function(){function Re(Ce,je,Be,De,Fe,ke){this.raw=Ce,this.numberOfContours=je,this.xMin=Be,this.yMin=De,this.xMax=Fe,this.yMax=ke,this.compound=!1}return Re.prototype.encode=function(){return this.raw.data},Re})(),we=(function(){function Re(Ce,je,Be,De,Fe){var ke,Oe;for(this.raw=Ce,this.xMin=je,this.yMin=Be,this.xMax=De,this.yMax=Fe,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],ke=this.raw;Oe=ke.readShort(),this.glyphOffsets.push(ke.pos),this.glyphIDs.push(ke.readUInt16()),32&Oe;)ke.pos+=1&Oe?4:2,128&Oe?ke.pos+=8:64&Oe?ke.pos+=4:8&Oe&&(ke.pos+=2)}return Re.prototype.encode=function(){var Ce,je,Be;for(je=new ne$1(ve.call(this.raw.data)),Ce=0,Be=this.glyphIDs.length;Ce<Be;++Ce)je.pos=this.glyphOffsets[Ce];return je.data},Re})(),Ne=(function(Re){function Ce(){return Ce.__super__.constructor.apply(this,arguments)}return oe$1(Ce,re$2),Ce.prototype.tag="loca",Ce.prototype.parse=function(je){var Be,De;return je.pos=this.offset,Be=this.file.head.indexToLocFormat,this.offsets=Be===0?(function(){var Fe,ke;for(ke=[],De=0,Fe=this.length;De<Fe;De+=2)ke.push(2*je.readUInt16());return ke}).call(this):(function(){var Fe,ke;for(ke=[],De=0,Fe=this.length;De<Fe;De+=4)ke.push(je.readUInt32());return ke}).call(this)},Ce.prototype.indexOf=function(je){return this.offsets[je]},Ce.prototype.lengthOf=function(je){return this.offsets[je+1]-this.offsets[je]},Ce.prototype.encode=function(je,Be){for(var De=new Uint32Array(this.offsets.length),Fe=0,ke=0,Oe=0;Oe<De.length;++Oe)if(De[Oe]=Fe,ke<Be.length&&Be[ke]==Oe){++ke,De[Oe]=Fe;var Me=this.offsets[Oe],Ue=this.offsets[Oe+1]-Me;Ue>0&&(Fe+=Ue)}for(var $e=new Array(4*De.length),He=0;He<De.length;++He)$e[4*He+3]=255&De[He],$e[4*He+2]=(65280&De[He])>>8,$e[4*He+1]=(16711680&De[He])>>16,$e[4*He]=(4278190080&De[He])>>24;return $e},Ce})(),Le=(function(){function Re(Ce){this.font=Ce,this.subset={},this.unicodes={},this.next=33}return Re.prototype.generateCmap=function(){var Ce,je,Be,De,Fe;for(je in De=this.font.cmap.tables[0].codeMap,Ce={},Fe=this.subset)Be=Fe[je],Ce[je]=De[Be];return Ce},Re.prototype.glyphsFor=function(Ce){var je,Be,De,Fe,ke,Oe,Me;for(De={},ke=0,Oe=Ce.length;ke<Oe;ke++)De[Fe=Ce[ke]]=this.font.glyf.glyphFor(Fe);for(Fe in je=[],De)(Be=De[Fe])!=null&&Be.compound&&je.push.apply(je,Be.glyphIDs);if(je.length>0)for(Fe in Me=this.glyphsFor(je))Be=Me[Fe],De[Fe]=Be;return De},Re.prototype.encode=function(Ce,je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye;for(De in Be=ue$1.encode(this.generateCmap(),"unicode"),ke=this.glyphsFor(Ce),We={0:0},Ye=Be.charMap)We[(Me=Ye[De]).old]=Me.new;for(qe in Qe=Be.maxGlyphID,ke)qe in We||(We[qe]=Qe++);return $e=(function(Ze){var Je,tr;for(Je in tr={},Ze)tr[Ze[Je]]=Je;return tr})(We),He=Object.keys($e).sort((function(Ze,Je){return Ze-Je})),Ke=(function(){var Ze,Je,tr;for(tr=[],Ze=0,Je=He.length;Ze<Je;Ze++)Oe=He[Ze],tr.push($e[Oe]);return tr})(),Fe=this.font.glyf.encode(ke,Ke,We),Ue=this.font.loca.encode(Fe.offsets,Ke),Xe={cmap:this.font.cmap.raw(),glyf:Fe.table,loca:Ue,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(je)},this.font.os2.exists&&(Xe["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Xe)},Re})();E.API.PDFObject=(function(){var Re;function Ce(){}return Re=function(je,Be){return(Array(Be+1).join("0")+je).slice(-Be)},Ce.convert=function(je){var Be,De,Fe,ke;if(Array.isArray(je))return"["+(function(){var Oe,Me,Ue;for(Ue=[],Oe=0,Me=je.length;Oe<Me;Oe++)Be=je[Oe],Ue.push(Ce.convert(Be));return Ue})().join(" ")+"]";if(typeof je=="string")return"/"+je;if(je?.isString)return"("+je+")";if(je instanceof Date)return"(D:"+Re(je.getUTCFullYear(),4)+Re(je.getUTCMonth(),2)+Re(je.getUTCDate(),2)+Re(je.getUTCHours(),2)+Re(je.getUTCMinutes(),2)+Re(je.getUTCSeconds(),2)+"Z)";if({}.toString.call(je)==="[object Object]"){for(De in Fe=["<<"],je)ke=je[De],Fe.push("/"+De+" "+Ce.convert(ke));return Fe.push(">>"),Fe.join(`
`)}return""+je},Ce})();const jspdf_es_min=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:St,AcroFormAppearance:At$1,AcroFormButton:mt$1,AcroFormCheckBox:wt$1,AcroFormChoiceField:ft,AcroFormComboBox:pt$1,AcroFormEditBox:gt$1,AcroFormListBox:dt,AcroFormPasswordField:Lt$1,AcroFormPushButton:vt$1,AcroFormRadioButton:bt$1,AcroFormTextField:Nt$1,GState:j$2,ShadingPattern:B$1,TilingPattern:M$1,default:E,jsPDF:E},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(jspdf_es_min);var html2canvas$1={exports:{}};/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */var html2canvas=html2canvas$1.exports,hasRequiredHtml2canvas;function requireHtml2canvas(){return hasRequiredHtml2canvas||(hasRequiredHtml2canvas=1,(function(Re,Ce){(function(je,Be){Re.exports=Be()})(html2canvas,(function(){/*! *****************************************************************************
		    Copyright (c) Microsoft Corporation.

		    Permission to use, copy, modify, and/or distribute this software for any
		    purpose with or without fee is hereby granted.

		    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
		    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
		    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
		    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
		    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
		    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
		    PERFORMANCE OF THIS SOFTWARE.
		    ***************************************************************************** */var je=function(hr,ur){return je=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(pr,Ar){pr.__proto__=Ar}||function(pr,Ar){for(var Nr in Ar)Object.prototype.hasOwnProperty.call(Ar,Nr)&&(pr[Nr]=Ar[Nr])},je(hr,ur)};function Be(hr,ur){if(typeof ur!="function"&&ur!==null)throw new TypeError("Class extends value "+String(ur)+" is not a constructor or null");je(hr,ur);function pr(){this.constructor=hr}hr.prototype=ur===null?Object.create(ur):(pr.prototype=ur.prototype,new pr)}var De=function(){return De=Object.assign||function(ur){for(var pr,Ar=1,Nr=arguments.length;Ar<Nr;Ar++){pr=arguments[Ar];for(var Vr in pr)Object.prototype.hasOwnProperty.call(pr,Vr)&&(ur[Vr]=pr[Vr])}return ur},De.apply(this,arguments)};function Fe(hr,ur,pr,Ar){function Nr(Vr){return Vr instanceof pr?Vr:new pr(function(Xr){Xr(Vr)})}return new(pr||(pr=Promise))(function(Vr,Xr){function un(Nn){try{Tn(Ar.next(Nn))}catch($n){Xr($n)}}function dn(Nn){try{Tn(Ar.throw(Nn))}catch($n){Xr($n)}}function Tn(Nn){Nn.done?Vr(Nn.value):Nr(Nn.value).then(un,dn)}Tn((Ar=Ar.apply(hr,[])).next())})}function ke(hr,ur){var pr={label:0,sent:function(){if(Vr[0]&1)throw Vr[1];return Vr[1]},trys:[],ops:[]},Ar,Nr,Vr,Xr;return Xr={next:un(0),throw:un(1),return:un(2)},typeof Symbol=="function"&&(Xr[Symbol.iterator]=function(){return this}),Xr;function un(Tn){return function(Nn){return dn([Tn,Nn])}}function dn(Tn){if(Ar)throw new TypeError("Generator is already executing.");for(;pr;)try{if(Ar=1,Nr&&(Vr=Tn[0]&2?Nr.return:Tn[0]?Nr.throw||((Vr=Nr.return)&&Vr.call(Nr),0):Nr.next)&&!(Vr=Vr.call(Nr,Tn[1])).done)return Vr;switch(Nr=0,Vr&&(Tn=[Tn[0]&2,Vr.value]),Tn[0]){case 0:case 1:Vr=Tn;break;case 4:return pr.label++,{value:Tn[1],done:!1};case 5:pr.label++,Nr=Tn[1],Tn=[0];continue;case 7:Tn=pr.ops.pop(),pr.trys.pop();continue;default:if(Vr=pr.trys,!(Vr=Vr.length>0&&Vr[Vr.length-1])&&(Tn[0]===6||Tn[0]===2)){pr=0;continue}if(Tn[0]===3&&(!Vr||Tn[1]>Vr[0]&&Tn[1]<Vr[3])){pr.label=Tn[1];break}if(Tn[0]===6&&pr.label<Vr[1]){pr.label=Vr[1],Vr=Tn;break}if(Vr&&pr.label<Vr[2]){pr.label=Vr[2],pr.ops.push(Tn);break}Vr[2]&&pr.ops.pop(),pr.trys.pop();continue}Tn=ur.call(hr,pr)}catch(Nn){Tn=[6,Nn],Nr=0}finally{Ar=Vr=0}if(Tn[0]&5)throw Tn[1];return{value:Tn[0]?Tn[1]:void 0,done:!0}}}function Oe(hr,ur,pr){if(arguments.length===2)for(var Ar=0,Nr=ur.length,Vr;Ar<Nr;Ar++)(Vr||!(Ar in ur))&&(Vr||(Vr=Array.prototype.slice.call(ur,0,Ar)),Vr[Ar]=ur[Ar]);return hr.concat(Vr||ur)}for(var Me=(function(){function hr(ur,pr,Ar,Nr){this.left=ur,this.top=pr,this.width=Ar,this.height=Nr}return hr.prototype.add=function(ur,pr,Ar,Nr){return new hr(this.left+ur,this.top+pr,this.width+Ar,this.height+Nr)},hr.fromClientRect=function(ur,pr){return new hr(pr.left+ur.windowBounds.left,pr.top+ur.windowBounds.top,pr.width,pr.height)},hr.fromDOMRectList=function(ur,pr){var Ar=Array.from(pr).find(function(Nr){return Nr.width!==0});return Ar?new hr(Ar.left+ur.windowBounds.left,Ar.top+ur.windowBounds.top,Ar.width,Ar.height):hr.EMPTY},hr.EMPTY=new hr(0,0,0,0),hr})(),Ue=function(hr,ur){return Me.fromClientRect(hr,ur.getBoundingClientRect())},$e=function(hr){var ur=hr.body,pr=hr.documentElement;if(!ur||!pr)throw new Error("Unable to get document size");var Ar=Math.max(Math.max(ur.scrollWidth,pr.scrollWidth),Math.max(ur.offsetWidth,pr.offsetWidth),Math.max(ur.clientWidth,pr.clientWidth)),Nr=Math.max(Math.max(ur.scrollHeight,pr.scrollHeight),Math.max(ur.offsetHeight,pr.offsetHeight),Math.max(ur.clientHeight,pr.clientHeight));return new Me(0,0,Ar,Nr)},He=function(hr){for(var ur=[],pr=0,Ar=hr.length;pr<Ar;){var Nr=hr.charCodeAt(pr++);if(Nr>=55296&&Nr<=56319&&pr<Ar){var Vr=hr.charCodeAt(pr++);(Vr&64512)===56320?ur.push(((Nr&1023)<<10)+(Vr&1023)+65536):(ur.push(Nr),pr--)}else ur.push(Nr)}return ur},Qe=function(){for(var hr=[],ur=0;ur<arguments.length;ur++)hr[ur]=arguments[ur];if(String.fromCodePoint)return String.fromCodePoint.apply(String,hr);var pr=hr.length;if(!pr)return"";for(var Ar=[],Nr=-1,Vr="";++Nr<pr;){var Xr=hr[Nr];Xr<=65535?Ar.push(Xr):(Xr-=65536,Ar.push((Xr>>10)+55296,Xr%1024+56320)),(Nr+1===pr||Ar.length>16384)&&(Vr+=String.fromCharCode.apply(String,Ar),Ar.length=0)}return Vr},We="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ke=0;Ke<We.length;Ke++)qe[We.charCodeAt(Ke)]=Ke;for(var Xe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ye=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ze=0;Ze<Xe.length;Ze++)Ye[Xe.charCodeAt(Ze)]=Ze;for(var Je=function(hr){var ur=hr.length*.75,pr=hr.length,Ar,Nr=0,Vr,Xr,un,dn;hr[hr.length-1]==="="&&(ur--,hr[hr.length-2]==="="&&ur--);var Tn=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(ur):new Array(ur),Nn=Array.isArray(Tn)?Tn:new Uint8Array(Tn);for(Ar=0;Ar<pr;Ar+=4)Vr=Ye[hr.charCodeAt(Ar)],Xr=Ye[hr.charCodeAt(Ar+1)],un=Ye[hr.charCodeAt(Ar+2)],dn=Ye[hr.charCodeAt(Ar+3)],Nn[Nr++]=Vr<<2|Xr>>4,Nn[Nr++]=(Xr&15)<<4|un>>2,Nn[Nr++]=(un&3)<<6|dn&63;return Tn},tr=function(hr){for(var ur=hr.length,pr=[],Ar=0;Ar<ur;Ar+=2)pr.push(hr[Ar+1]<<8|hr[Ar]);return pr},rr=function(hr){for(var ur=hr.length,pr=[],Ar=0;Ar<ur;Ar+=4)pr.push(hr[Ar+3]<<24|hr[Ar+2]<<16|hr[Ar+1]<<8|hr[Ar]);return pr},ar=5,ir=11,nr=2,cr=ir-ar,mr=65536>>ar,fr=1<<ar,or=fr-1,yr=1024>>ar,Cr=mr+yr,jr=Cr,vr=32,Tr=jr+vr,wr=65536>>ir,Er=1<<cr,Pr=Er-1,Mr=function(hr,ur,pr){return hr.slice?hr.slice(ur,pr):new Uint16Array(Array.prototype.slice.call(hr,ur,pr))},_r=function(hr,ur,pr){return hr.slice?hr.slice(ur,pr):new Uint32Array(Array.prototype.slice.call(hr,ur,pr))},Ir=function(hr,ur){var pr=Je(hr),Ar=Array.isArray(pr)?rr(pr):new Uint32Array(pr),Nr=Array.isArray(pr)?tr(pr):new Uint16Array(pr),Vr=24,Xr=Mr(Nr,Vr/2,Ar[4]/2),un=Ar[5]===2?Mr(Nr,(Vr+Ar[4])/2):_r(Ar,Math.ceil((Vr+Ar[4])/4));return new Dr(Ar[0],Ar[1],Ar[2],Ar[3],Xr,un)},Dr=(function(){function hr(ur,pr,Ar,Nr,Vr,Xr){this.initialValue=ur,this.errorValue=pr,this.highStart=Ar,this.highValueIndex=Nr,this.index=Vr,this.data=Xr}return hr.prototype.get=function(ur){var pr;if(ur>=0){if(ur<55296||ur>56319&&ur<=65535)return pr=this.index[ur>>ar],pr=(pr<<nr)+(ur&or),this.data[pr];if(ur<=65535)return pr=this.index[mr+(ur-55296>>ar)],pr=(pr<<nr)+(ur&or),this.data[pr];if(ur<this.highStart)return pr=Tr-wr+(ur>>ir),pr=this.index[pr],pr+=ur>>ar&Pr,pr=this.index[pr],pr=(pr<<nr)+(ur&or),this.data[pr];if(ur<=1114111)return this.data[this.highValueIndex]}return this.errorValue},hr})(),Or="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",br=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ur=0;Ur<Or.length;Ur++)br[Or.charCodeAt(Ur)]=Ur;var Qr="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",zr=50,Gr=1,fn=2,nn=3,bn=4,hn=5,yn=7,Zr=8,Rn=9,ri=10,Yn=11,ti=12,ei=13,Gn=14,Ei=15,Ci=16,Fi=17,Si=18,Ti=19,ji=20,wi=21,En=22,an=23,On=24,Mn=25,ui=26,Vn=27,yi=28,jn=29,vn=30,Ni=31,xi=32,Gi=33,ki=34,Ai=35,hi=36,Bi=37,Zi=38,ds=39,oa=40,Wa=41,Li=42,Qs=43,Fs=[9001,65288],Xs="!",Yi="",ra="",qr=Ir(Qr),pn=[vn,hi],on=[Gr,fn,nn,hn],cn=[ri,Zr],mn=[Vn,ui],gn=on.concat(cn),Un=[Zi,ds,oa,ki,Ai],Jn=[Ei,ei],Dn=function(hr,ur){ur===void 0&&(ur="strict");var pr=[],Ar=[],Nr=[];return hr.forEach(function(Vr,Xr){var un=qr.get(Vr);if(un>zr?(Nr.push(!0),un-=zr):Nr.push(!1),["normal","auto","loose"].indexOf(ur)!==-1&&[8208,8211,12316,12448].indexOf(Vr)!==-1)return Ar.push(Xr),pr.push(Ci);if(un===bn||un===Yn){if(Xr===0)return Ar.push(Xr),pr.push(vn);var dn=pr[Xr-1];return gn.indexOf(dn)===-1?(Ar.push(Ar[Xr-1]),pr.push(dn)):(Ar.push(Xr),pr.push(vn))}if(Ar.push(Xr),un===Ni)return pr.push(ur==="strict"?wi:Bi);if(un===Li||un===jn)return pr.push(vn);if(un===Qs)return Vr>=131072&&Vr<=196605||Vr>=196608&&Vr<=262141?pr.push(Bi):pr.push(vn);pr.push(un)}),[Ar,pr,Nr]},zn=function(hr,ur,pr,Ar){var Nr=Ar[pr];if(Array.isArray(hr)?hr.indexOf(Nr)!==-1:hr===Nr)for(var Vr=pr;Vr<=Ar.length;){Vr++;var Xr=Ar[Vr];if(Xr===ur)return!0;if(Xr!==ri)break}if(Nr===ri)for(var Vr=pr;Vr>0;){Vr--;var un=Ar[Vr];if(Array.isArray(hr)?hr.indexOf(un)!==-1:hr===un)for(var dn=pr;dn<=Ar.length;){dn++;var Xr=Ar[dn];if(Xr===ur)return!0;if(Xr!==ri)break}if(un!==ri)break}return!1},qn=function(hr,ur){for(var pr=hr;pr>=0;){var Ar=ur[pr];if(Ar===ri)pr--;else return Ar}return 0},vi=function(hr,ur,pr,Ar,Nr){if(pr[Ar]===0)return Yi;var Vr=Ar-1;if(Array.isArray(Nr)&&Nr[Vr]===!0)return Yi;var Xr=Vr-1,un=Vr+1,dn=ur[Vr],Tn=Xr>=0?ur[Xr]:0,Nn=ur[un];if(dn===fn&&Nn===nn)return Yi;if(on.indexOf(dn)!==-1)return Xs;if(on.indexOf(Nn)!==-1||cn.indexOf(Nn)!==-1)return Yi;if(qn(Vr,ur)===Zr)return ra;if(qr.get(hr[Vr])===Yn||(dn===xi||dn===Gi)&&qr.get(hr[un])===Yn||dn===yn||Nn===yn||dn===Rn||[ri,ei,Ei].indexOf(dn)===-1&&Nn===Rn||[Fi,Si,Ti,On,yi].indexOf(Nn)!==-1||qn(Vr,ur)===En||zn(an,En,Vr,ur)||zn([Fi,Si],wi,Vr,ur)||zn(ti,ti,Vr,ur))return Yi;if(dn===ri)return ra;if(dn===an||Nn===an)return Yi;if(Nn===Ci||dn===Ci)return ra;if([ei,Ei,wi].indexOf(Nn)!==-1||dn===Gn||Tn===hi&&Jn.indexOf(dn)!==-1||dn===yi&&Nn===hi||Nn===ji||pn.indexOf(Nn)!==-1&&dn===Mn||pn.indexOf(dn)!==-1&&Nn===Mn||dn===Vn&&[Bi,xi,Gi].indexOf(Nn)!==-1||[Bi,xi,Gi].indexOf(dn)!==-1&&Nn===ui||pn.indexOf(dn)!==-1&&mn.indexOf(Nn)!==-1||mn.indexOf(dn)!==-1&&pn.indexOf(Nn)!==-1||[Vn,ui].indexOf(dn)!==-1&&(Nn===Mn||[En,Ei].indexOf(Nn)!==-1&&ur[un+1]===Mn)||[En,Ei].indexOf(dn)!==-1&&Nn===Mn||dn===Mn&&[Mn,yi,On].indexOf(Nn)!==-1)return Yi;if([Mn,yi,On,Fi,Si].indexOf(Nn)!==-1)for(var $n=Vr;$n>=0;){var li=ur[$n];if(li===Mn)return Yi;if([yi,On].indexOf(li)!==-1)$n--;else break}if([Vn,ui].indexOf(Nn)!==-1)for(var $n=[Fi,Si].indexOf(dn)!==-1?Xr:Vr;$n>=0;){var li=ur[$n];if(li===Mn)return Yi;if([yi,On].indexOf(li)!==-1)$n--;else break}if(Zi===dn&&[Zi,ds,ki,Ai].indexOf(Nn)!==-1||[ds,ki].indexOf(dn)!==-1&&[ds,oa].indexOf(Nn)!==-1||[oa,Ai].indexOf(dn)!==-1&&Nn===oa||Un.indexOf(dn)!==-1&&[ji,ui].indexOf(Nn)!==-1||Un.indexOf(Nn)!==-1&&dn===Vn||pn.indexOf(dn)!==-1&&pn.indexOf(Nn)!==-1||dn===On&&pn.indexOf(Nn)!==-1||pn.concat(Mn).indexOf(dn)!==-1&&Nn===En&&Fs.indexOf(hr[un])===-1||pn.concat(Mn).indexOf(Nn)!==-1&&dn===Si)return Yi;if(dn===Wa&&Nn===Wa){for(var Qi=pr[Vr],Oi=1;Qi>0&&(Qi--,ur[Qi]===Wa);)Oi++;if(Oi%2!==0)return Yi}return dn===xi&&Nn===Gi?Yi:ra},Ii=function(hr,ur){ur||(ur={lineBreak:"normal",wordBreak:"normal"});var pr=Dn(hr,ur.lineBreak),Ar=pr[0],Nr=pr[1],Vr=pr[2];(ur.wordBreak==="break-all"||ur.wordBreak==="break-word")&&(Nr=Nr.map(function(un){return[Mn,vn,Li].indexOf(un)!==-1?Bi:un}));var Xr=ur.wordBreak==="keep-all"?Vr.map(function(un,dn){return un&&hr[dn]>=19968&&hr[dn]<=40959}):void 0;return[Ar,Nr,Xr]},zi=(function(){function hr(ur,pr,Ar,Nr){this.codePoints=ur,this.required=pr===Xs,this.start=Ar,this.end=Nr}return hr.prototype.slice=function(){return Qe.apply(void 0,this.codePoints.slice(this.start,this.end))},hr})(),Pi=function(hr,ur){var pr=He(hr),Ar=Ii(pr,ur),Nr=Ar[0],Vr=Ar[1],Xr=Ar[2],un=pr.length,dn=0,Tn=0;return{next:function(){if(Tn>=un)return{done:!0,value:null};for(var Nn=Yi;Tn<un&&(Nn=vi(pr,Vr,Nr,++Tn,Xr))===Yi;);if(Nn!==Yi||Tn===un){var $n=new zi(pr,Nn,dn,Tn);return dn=Tn,{value:$n,done:!1}}return{done:!0,value:null}}}},Ui=1,ss=2,gs=4,ws=8,ys=10,eo=47,wo=92,oo=9,Eo=32,co=34,Na=61,la=35,uo=36,$c=37,mc=39,sl=40,Bl=41,xo=95,Da=45,ks=33,vo=60,Xl=62,Jl=64,hl=91,Ws=93,Zl=61,Qo=123,zo=63,Gu=125,Vc=124,du=126,Nl=128,gc=65533,al=42,fo=43,na=44,Dl=58,Al=59,ts=46,pl=0,qu=8,So=11,Wo=14,ko=31,ml=127,ya=-1,gl=48,xl=97,Hc=101,Ko=102,Ro=117,vl=122,Fa=65,Rs=69,Fl=70,yl=85,fu=90,ha=function(hr){return hr>=gl&&hr<=57},xc=function(hr){return hr>=55296&&hr<=57343},ho=function(hr){return ha(hr)||hr>=Fa&&hr<=Fl||hr>=xl&&hr<=Ko},Co=function(hr){return hr>=xl&&hr<=vl},$a=function(hr){return hr>=Fa&&hr<=fu},Yu=function(hr){return Co(hr)||$a(hr)},tc=function(hr){return hr>=Nl},Va=function(hr){return hr===ys||hr===oo||hr===Eo},ol=function(hr){return Yu(hr)||tc(hr)||hr===xo},bl=function(hr){return ol(hr)||ha(hr)||hr===Da},Qc=function(hr){return hr>=pl&&hr<=qu||hr===So||hr>=Wo&&hr<=ko||hr===ml},To=function(hr,ur){return hr!==wo?!1:ur!==ys},kl=function(hr,ur,pr){return hr===Da?ol(ur)||To(ur,pr):ol(hr)?!0:!!(hr===wo&&To(hr,ur))},vc=function(hr,ur,pr){return hr===fo||hr===Da?ha(ur)?!0:ur===ts&&ha(pr):ha(hr===ts?ur:hr)},yc=function(hr){var ur=0,pr=1;(hr[ur]===fo||hr[ur]===Da)&&(hr[ur]===Da&&(pr=-1),ur++);for(var Ar=[];ha(hr[ur]);)Ar.push(hr[ur++]);var Nr=Ar.length?parseInt(Qe.apply(void 0,Ar),10):0;hr[ur]===ts&&ur++;for(var Vr=[];ha(hr[ur]);)Vr.push(hr[ur++]);var Xr=Vr.length,un=Xr?parseInt(Qe.apply(void 0,Vr),10):0;(hr[ur]===Rs||hr[ur]===Hc)&&ur++;var dn=1;(hr[ur]===fo||hr[ur]===Da)&&(hr[ur]===Da&&(dn=-1),ur++);for(var Tn=[];ha(hr[ur]);)Tn.push(hr[ur++]);var Nn=Tn.length?parseInt(Qe.apply(void 0,Tn),10):0;return pr*(Nr+un*Math.pow(10,-Xr))*Math.pow(10,dn*Nn)},rc={type:2},bc={type:3},zc={type:4},wc={type:13},nc={type:8},Xu={type:21},Ol={type:9},ic={type:10},_c={type:11},jo={type:12},Wc={type:14},Rr={type:23},Kr={type:1},xn={type:25},_n={type:24},Fn={type:26},si={type:27},Ri={type:28},Vi={type:29},dr={type:31},Fr={type:32},$r=(function(){function hr(){this._value=[]}return hr.prototype.write=function(ur){this._value=this._value.concat(He(ur))},hr.prototype.read=function(){for(var ur=[],pr=this.consumeToken();pr!==Fr;)ur.push(pr),pr=this.consumeToken();return ur},hr.prototype.consumeToken=function(){var ur=this.consumeCodePoint();switch(ur){case co:return this.consumeStringToken(co);case la:var pr=this.peekCodePoint(0),Ar=this.peekCodePoint(1),Nr=this.peekCodePoint(2);if(bl(pr)||To(Ar,Nr)){var Vr=kl(pr,Ar,Nr)?ss:Ui,Xr=this.consumeName();return{type:5,value:Xr,flags:Vr}}break;case uo:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),wc;break;case mc:return this.consumeStringToken(mc);case sl:return rc;case Bl:return bc;case al:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),Wc;break;case fo:if(vc(ur,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(ur),this.consumeNumericToken();break;case na:return zc;case Da:var un=ur,dn=this.peekCodePoint(0),Tn=this.peekCodePoint(1);if(vc(un,dn,Tn))return this.reconsumeCodePoint(ur),this.consumeNumericToken();if(kl(un,dn,Tn))return this.reconsumeCodePoint(ur),this.consumeIdentLikeToken();if(dn===Da&&Tn===Xl)return this.consumeCodePoint(),this.consumeCodePoint(),_n;break;case ts:if(vc(ur,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(ur),this.consumeNumericToken();break;case eo:if(this.peekCodePoint(0)===al)for(this.consumeCodePoint();;){var Nn=this.consumeCodePoint();if(Nn===al&&(Nn=this.consumeCodePoint(),Nn===eo))return this.consumeToken();if(Nn===ya)return this.consumeToken()}break;case Dl:return Fn;case Al:return si;case vo:if(this.peekCodePoint(0)===ks&&this.peekCodePoint(1)===Da&&this.peekCodePoint(2)===Da)return this.consumeCodePoint(),this.consumeCodePoint(),xn;break;case Jl:var $n=this.peekCodePoint(0),li=this.peekCodePoint(1),Qi=this.peekCodePoint(2);if(kl($n,li,Qi)){var Xr=this.consumeName();return{type:7,value:Xr}}break;case hl:return Ri;case wo:if(To(ur,this.peekCodePoint(0)))return this.reconsumeCodePoint(ur),this.consumeIdentLikeToken();break;case Ws:return Vi;case Zl:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),nc;break;case Qo:return _c;case Gu:return jo;case Ro:case yl:var Oi=this.peekCodePoint(0),Mi=this.peekCodePoint(1);return Oi===fo&&(ho(Mi)||Mi===zo)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(ur),this.consumeIdentLikeToken();case Vc:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),Ol;if(this.peekCodePoint(0)===Vc)return this.consumeCodePoint(),Xu;break;case du:if(this.peekCodePoint(0)===Na)return this.consumeCodePoint(),ic;break;case ya:return Fr}return Va(ur)?(this.consumeWhiteSpace(),dr):ha(ur)?(this.reconsumeCodePoint(ur),this.consumeNumericToken()):ol(ur)?(this.reconsumeCodePoint(ur),this.consumeIdentLikeToken()):{type:6,value:Qe(ur)}},hr.prototype.consumeCodePoint=function(){var ur=this._value.shift();return typeof ur>"u"?-1:ur},hr.prototype.reconsumeCodePoint=function(ur){this._value.unshift(ur)},hr.prototype.peekCodePoint=function(ur){return ur>=this._value.length?-1:this._value[ur]},hr.prototype.consumeUnicodeRangeToken=function(){for(var ur=[],pr=this.consumeCodePoint();ho(pr)&&ur.length<6;)ur.push(pr),pr=this.consumeCodePoint();for(var Ar=!1;pr===zo&&ur.length<6;)ur.push(pr),pr=this.consumeCodePoint(),Ar=!0;if(Ar){var Nr=parseInt(Qe.apply(void 0,ur.map(function(dn){return dn===zo?gl:dn})),16),Vr=parseInt(Qe.apply(void 0,ur.map(function(dn){return dn===zo?Fl:dn})),16);return{type:30,start:Nr,end:Vr}}var Xr=parseInt(Qe.apply(void 0,ur),16);if(this.peekCodePoint(0)===Da&&ho(this.peekCodePoint(1))){this.consumeCodePoint(),pr=this.consumeCodePoint();for(var un=[];ho(pr)&&un.length<6;)un.push(pr),pr=this.consumeCodePoint();var Vr=parseInt(Qe.apply(void 0,un),16);return{type:30,start:Xr,end:Vr}}else return{type:30,start:Xr,end:Xr}},hr.prototype.consumeIdentLikeToken=function(){var ur=this.consumeName();return ur.toLowerCase()==="url"&&this.peekCodePoint(0)===sl?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===sl?(this.consumeCodePoint(),{type:19,value:ur}):{type:20,value:ur}},hr.prototype.consumeUrlToken=function(){var ur=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===ya)return{type:22,value:""};var pr=this.peekCodePoint(0);if(pr===mc||pr===co){var Ar=this.consumeStringToken(this.consumeCodePoint());return Ar.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===ya||this.peekCodePoint(0)===Bl)?(this.consumeCodePoint(),{type:22,value:Ar.value}):(this.consumeBadUrlRemnants(),Rr)}for(;;){var Nr=this.consumeCodePoint();if(Nr===ya||Nr===Bl)return{type:22,value:Qe.apply(void 0,ur)};if(Va(Nr))return this.consumeWhiteSpace(),this.peekCodePoint(0)===ya||this.peekCodePoint(0)===Bl?(this.consumeCodePoint(),{type:22,value:Qe.apply(void 0,ur)}):(this.consumeBadUrlRemnants(),Rr);if(Nr===co||Nr===mc||Nr===sl||Qc(Nr))return this.consumeBadUrlRemnants(),Rr;if(Nr===wo)if(To(Nr,this.peekCodePoint(0)))ur.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Rr;else ur.push(Nr)}},hr.prototype.consumeWhiteSpace=function(){for(;Va(this.peekCodePoint(0));)this.consumeCodePoint()},hr.prototype.consumeBadUrlRemnants=function(){for(;;){var ur=this.consumeCodePoint();if(ur===Bl||ur===ya)return;To(ur,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},hr.prototype.consumeStringSlice=function(ur){for(var pr=5e4,Ar="";ur>0;){var Nr=Math.min(pr,ur);Ar+=Qe.apply(void 0,this._value.splice(0,Nr)),ur-=Nr}return this._value.shift(),Ar},hr.prototype.consumeStringToken=function(ur){var pr="",Ar=0;do{var Nr=this._value[Ar];if(Nr===ya||Nr===void 0||Nr===ur)return pr+=this.consumeStringSlice(Ar),{type:0,value:pr};if(Nr===ys)return this._value.splice(0,Ar),Kr;if(Nr===wo){var Vr=this._value[Ar+1];Vr!==ya&&Vr!==void 0&&(Vr===ys?(pr+=this.consumeStringSlice(Ar),Ar=-1,this._value.shift()):To(Nr,Vr)&&(pr+=this.consumeStringSlice(Ar),pr+=Qe(this.consumeEscapedCodePoint()),Ar=-1))}Ar++}while(!0)},hr.prototype.consumeNumber=function(){var ur=[],pr=gs,Ar=this.peekCodePoint(0);for((Ar===fo||Ar===Da)&&ur.push(this.consumeCodePoint());ha(this.peekCodePoint(0));)ur.push(this.consumeCodePoint());Ar=this.peekCodePoint(0);var Nr=this.peekCodePoint(1);if(Ar===ts&&ha(Nr))for(ur.push(this.consumeCodePoint(),this.consumeCodePoint()),pr=ws;ha(this.peekCodePoint(0));)ur.push(this.consumeCodePoint());Ar=this.peekCodePoint(0),Nr=this.peekCodePoint(1);var Vr=this.peekCodePoint(2);if((Ar===Rs||Ar===Hc)&&((Nr===fo||Nr===Da)&&ha(Vr)||ha(Nr)))for(ur.push(this.consumeCodePoint(),this.consumeCodePoint()),pr=ws;ha(this.peekCodePoint(0));)ur.push(this.consumeCodePoint());return[yc(ur),pr]},hr.prototype.consumeNumericToken=function(){var ur=this.consumeNumber(),pr=ur[0],Ar=ur[1],Nr=this.peekCodePoint(0),Vr=this.peekCodePoint(1),Xr=this.peekCodePoint(2);if(kl(Nr,Vr,Xr)){var un=this.consumeName();return{type:15,number:pr,flags:Ar,unit:un}}return Nr===$c?(this.consumeCodePoint(),{type:16,number:pr,flags:Ar}):{type:17,number:pr,flags:Ar}},hr.prototype.consumeEscapedCodePoint=function(){var ur=this.consumeCodePoint();if(ho(ur)){for(var pr=Qe(ur);ho(this.peekCodePoint(0))&&pr.length<6;)pr+=Qe(this.consumeCodePoint());Va(this.peekCodePoint(0))&&this.consumeCodePoint();var Ar=parseInt(pr,16);return Ar===0||xc(Ar)||Ar>1114111?gc:Ar}return ur===ya?gc:ur},hr.prototype.consumeName=function(){for(var ur="";;){var pr=this.consumeCodePoint();if(bl(pr))ur+=Qe(pr);else if(To(pr,this.peekCodePoint(0)))ur+=Qe(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(pr),ur}},hr})(),en=(function(){function hr(ur){this._tokens=ur}return hr.create=function(ur){var pr=new $r;return pr.write(ur),new hr(pr.read())},hr.parseValue=function(ur){return hr.create(ur).parseComponentValue()},hr.parseValues=function(ur){return hr.create(ur).parseComponentValues()},hr.prototype.parseComponentValue=function(){for(var ur=this.consumeToken();ur.type===31;)ur=this.consumeToken();if(ur.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(ur);var pr=this.consumeComponentValue();do ur=this.consumeToken();while(ur.type===31);if(ur.type===32)return pr;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},hr.prototype.parseComponentValues=function(){for(var ur=[];;){var pr=this.consumeComponentValue();if(pr.type===32)return ur;ur.push(pr),ur.push()}},hr.prototype.consumeComponentValue=function(){var ur=this.consumeToken();switch(ur.type){case 11:case 28:case 2:return this.consumeSimpleBlock(ur.type);case 19:return this.consumeFunction(ur)}return ur},hr.prototype.consumeSimpleBlock=function(ur){for(var pr={type:ur,values:[]},Ar=this.consumeToken();;){if(Ar.type===32||wl(Ar,ur))return pr;this.reconsumeToken(Ar),pr.values.push(this.consumeComponentValue()),Ar=this.consumeToken()}},hr.prototype.consumeFunction=function(ur){for(var pr={name:ur.value,values:[],type:18};;){var Ar=this.consumeToken();if(Ar.type===32||Ar.type===3)return pr;this.reconsumeToken(Ar),pr.values.push(this.consumeComponentValue())}},hr.prototype.consumeToken=function(){var ur=this._tokens.shift();return typeof ur>"u"?Fr:ur},hr.prototype.reconsumeToken=function(ur){this._tokens.unshift(ur)},hr})(),In=function(hr){return hr.type===15},Hn=function(hr){return hr.type===17},oi=function(hr){return hr.type===20},os=function(hr){return hr.type===0},_s=function(hr,ur){return oi(hr)&&hr.value===ur},As=function(hr){return hr.type!==31},Bs=function(hr){return hr.type!==31&&hr.type!==4},Cs=function(hr){var ur=[],pr=[];return hr.forEach(function(Ar){if(Ar.type===4){if(pr.length===0)throw new Error("Error parsing function args, zero tokens for arg");ur.push(pr),pr=[];return}Ar.type!==31&&pr.push(Ar)}),pr.length&&ur.push(pr),ur},wl=function(hr,ur){return ur===11&&hr.type===12||ur===28&&hr.type===29?!0:ur===2&&hr.type===3},Js=function(hr){return hr.type===17||hr.type===15},Os=function(hr){return hr.type===16||Js(hr)},Ml=function(hr){return hr.length>1?[hr[0],hr[1]]:[hr[0]]},Aa={type:17,number:0,flags:gs},Kc={type:16,number:50,flags:gs},Go={type:16,number:100,flags:gs},ba=function(hr,ur,pr){var Ar=hr[0],Nr=hr[1];return[Ms(Ar,ur),Ms(typeof Nr<"u"?Nr:Ar,pr)]},Ms=function(hr,ur){if(hr.type===16)return hr.number/100*ur;if(In(hr))switch(hr.unit){case"rem":case"em":return 16*hr.number;case"px":default:return hr.number}return hr.number},Gc="deg",qc="grad",hu="rad",Oo="turn",Ju={name:"angle",parse:function(hr,ur){if(ur.type===15)switch(ur.unit){case Gc:return Math.PI*ur.number/180;case qc:return Math.PI/200*ur.number;case hu:return ur.number;case Oo:return Math.PI*2*ur.number}throw new Error("Unsupported angle type")}},Zu=function(hr){return hr.type===15&&(hr.unit===Gc||hr.unit===qc||hr.unit===hu||hr.unit===Oo)},_d=function(hr){var ur=hr.filter(oi).map(function(pr){return pr.value}).join(" ");switch(ur){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Aa,Aa];case"to top":case"bottom":return wa(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Aa,Go];case"to right":case"left":return wa(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Go,Go];case"to bottom":case"top":return wa(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Go,Aa];case"to left":case"right":return wa(270)}return 0},wa=function(hr){return Math.PI*hr/180},da={name:"color",parse:function(hr,ur){if(ur.type===18){var pr=qo[ur.name];if(typeof pr>"u")throw new Error('Attempting to parse an unsupported color function "'+ur.name+'"');return pr(hr,ur.values)}if(ur.type===5){if(ur.value.length===3){var Ar=ur.value.substring(0,1),Nr=ur.value.substring(1,2),Vr=ur.value.substring(2,3);return Po(parseInt(Ar+Ar,16),parseInt(Nr+Nr,16),parseInt(Vr+Vr,16),1)}if(ur.value.length===4){var Ar=ur.value.substring(0,1),Nr=ur.value.substring(1,2),Vr=ur.value.substring(2,3),Xr=ur.value.substring(3,4);return Po(parseInt(Ar+Ar,16),parseInt(Nr+Nr,16),parseInt(Vr+Vr,16),parseInt(Xr+Xr,16)/255)}if(ur.value.length===6){var Ar=ur.value.substring(0,2),Nr=ur.value.substring(2,4),Vr=ur.value.substring(4,6);return Po(parseInt(Ar,16),parseInt(Nr,16),parseInt(Vr,16),1)}if(ur.value.length===8){var Ar=ur.value.substring(0,2),Nr=ur.value.substring(2,4),Vr=ur.value.substring(4,6),Xr=ur.value.substring(6,8);return Po(parseInt(Ar,16),parseInt(Nr,16),parseInt(Vr,16),parseInt(Xr,16)/255)}}if(ur.type===20){var un=Ao[ur.value.toUpperCase()];if(typeof un<"u")return un}return Ao.TRANSPARENT}},Mo=function(hr){return(255&hr)===0},Ta=function(hr){var ur=255&hr,pr=255&hr>>8,Ar=255&hr>>16,Nr=255&hr>>24;return ur<255?"rgba("+Nr+","+Ar+","+pr+","+ur/255+")":"rgb("+Nr+","+Ar+","+pr+")"},Po=function(hr,ur,pr,Ar){return(hr<<24|ur<<16|pr<<8|Math.round(Ar*255)<<0)>>>0},Ec=function(hr,ur){if(hr.type===17)return hr.number;if(hr.type===16){var pr=ur===3?1:255;return ur===3?hr.number/100*pr:Math.round(hr.number/100*pr)}return 0},Io=function(hr,ur){var pr=ur.filter(Bs);if(pr.length===3){var Ar=pr.map(Ec),Nr=Ar[0],Vr=Ar[1],Xr=Ar[2];return Po(Nr,Vr,Xr,1)}if(pr.length===4){var un=pr.map(Ec),Nr=un[0],Vr=un[1],Xr=un[2],dn=un[3];return Po(Nr,Vr,Xr,dn)}return 0};function Ka(hr,ur,pr){return pr<0&&(pr+=1),pr>=1&&(pr-=1),pr<1/6?(ur-hr)*pr*6+hr:pr<1/2?ur:pr<2/3?(ur-hr)*6*(2/3-pr)+hr:hr}var Sc=function(hr,ur){var pr=ur.filter(Bs),Ar=pr[0],Nr=pr[1],Vr=pr[2],Xr=pr[3],un=(Ar.type===17?wa(Ar.number):Ju.parse(hr,Ar))/(Math.PI*2),dn=Os(Nr)?Nr.number/100:0,Tn=Os(Vr)?Vr.number/100:0,Nn=typeof Xr<"u"&&Os(Xr)?Ms(Xr,1):1;if(dn===0)return Po(Tn*255,Tn*255,Tn*255,1);var $n=Tn<=.5?Tn*(dn+1):Tn+dn-Tn*dn,li=Tn*2-$n,Qi=Ka(li,$n,un+1/3),Oi=Ka(li,$n,un),Mi=Ka(li,$n,un-1/3);return Po(Qi*255,Oi*255,Mi*255,Nn)},qo={hsl:Sc,hsla:Sc,rgb:Io,rgba:Io},Lo=function(hr,ur){return da.parse(hr,en.create(ur).parseComponentValue())},Ao={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ll={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(hr,ur){return ur.map(function(pr){if(oi(pr))switch(pr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ja={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Yo=function(hr,ur){var pr=da.parse(hr,ur[0]),Ar=ur[1];return Ar&&Os(Ar)?{color:pr,stop:Ar}:{color:pr,stop:null}},Oa=function(hr,ur){var pr=hr[0],Ar=hr[hr.length-1];pr.stop===null&&(pr.stop=Aa),Ar.stop===null&&(Ar.stop=Go);for(var Nr=[],Vr=0,Xr=0;Xr<hr.length;Xr++){var un=hr[Xr].stop;if(un!==null){var dn=Ms(un,ur);dn>Vr?Nr.push(dn):Nr.push(Vr),Vr=dn}else Nr.push(null)}for(var Tn=null,Xr=0;Xr<Nr.length;Xr++){var Nn=Nr[Xr];if(Nn===null)Tn===null&&(Tn=Xr);else if(Tn!==null){for(var $n=Xr-Tn,li=Nr[Tn-1],Qi=(Nn-li)/($n+1),Oi=1;Oi<=$n;Oi++)Nr[Tn+Oi-1]=Qi*Oi;Tn=null}}return hr.map(function(Mi,vs){var Xi=Mi.color;return{color:Xi,stop:Math.max(Math.min(1,Nr[vs]/ur),0)}})},Xo=function(hr,ur,pr){var Ar=ur/2,Nr=pr/2,Vr=Ms(hr[0],ur)-Ar,Xr=Nr-Ms(hr[1],pr);return(Math.atan2(Xr,Vr)+Math.PI*2)%(Math.PI*2)},Au=function(hr,ur,pr){var Ar=typeof hr=="number"?hr:Xo(hr,ur,pr),Nr=Math.abs(ur*Math.sin(Ar))+Math.abs(pr*Math.cos(Ar)),Vr=ur/2,Xr=pr/2,un=Nr/2,dn=Math.sin(Ar-Math.PI/2)*un,Tn=Math.cos(Ar-Math.PI/2)*un;return[Nr,Vr-Tn,Vr+Tn,Xr-dn,Xr+dn]},Ha=function(hr,ur){return Math.sqrt(hr*hr+ur*ur)},pu=function(hr,ur,pr,Ar,Nr){var Vr=[[0,0],[0,ur],[hr,0],[hr,ur]];return Vr.reduce(function(Xr,un){var dn=un[0],Tn=un[1],Nn=Ha(pr-dn,Ar-Tn);return(Nr?Nn<Xr.optimumDistance:Nn>Xr.optimumDistance)?{optimumCorner:un,optimumDistance:Nn}:Xr},{optimumDistance:Nr?1/0:-1/0,optimumCorner:null}).optimumCorner},Yc=function(hr,ur,pr,Ar,Nr){var Vr=0,Xr=0;switch(hr.size){case 0:hr.shape===0?Vr=Xr=Math.min(Math.abs(ur),Math.abs(ur-Ar),Math.abs(pr),Math.abs(pr-Nr)):hr.shape===1&&(Vr=Math.min(Math.abs(ur),Math.abs(ur-Ar)),Xr=Math.min(Math.abs(pr),Math.abs(pr-Nr)));break;case 2:if(hr.shape===0)Vr=Xr=Math.min(Ha(ur,pr),Ha(ur,pr-Nr),Ha(ur-Ar,pr),Ha(ur-Ar,pr-Nr));else if(hr.shape===1){var un=Math.min(Math.abs(pr),Math.abs(pr-Nr))/Math.min(Math.abs(ur),Math.abs(ur-Ar)),dn=pu(Ar,Nr,ur,pr,!0),Tn=dn[0],Nn=dn[1];Vr=Ha(Tn-ur,(Nn-pr)/un),Xr=un*Vr}break;case 1:hr.shape===0?Vr=Xr=Math.max(Math.abs(ur),Math.abs(ur-Ar),Math.abs(pr),Math.abs(pr-Nr)):hr.shape===1&&(Vr=Math.max(Math.abs(ur),Math.abs(ur-Ar)),Xr=Math.max(Math.abs(pr),Math.abs(pr-Nr)));break;case 3:if(hr.shape===0)Vr=Xr=Math.max(Ha(ur,pr),Ha(ur,pr-Nr),Ha(ur-Ar,pr),Ha(ur-Ar,pr-Nr));else if(hr.shape===1){var un=Math.max(Math.abs(pr),Math.abs(pr-Nr))/Math.max(Math.abs(ur),Math.abs(ur-Ar)),$n=pu(Ar,Nr,ur,pr,!1),Tn=$n[0],Nn=$n[1];Vr=Ha(Tn-ur,(Nn-pr)/un),Xr=un*Vr}break}return Array.isArray(hr.size)&&(Vr=Ms(hr.size[0],Ar),Xr=hr.size.length===2?Ms(hr.size[1],Nr):Vr),[Vr,Xr]},Xc=function(hr,ur){var pr=wa(180),Ar=[];return Cs(ur).forEach(function(Nr,Vr){if(Vr===0){var Xr=Nr[0];if(Xr.type===20&&Xr.value==="to"){pr=_d(Nr);return}else if(Zu(Xr)){pr=Ju.parse(hr,Xr);return}}var un=Yo(hr,Nr);Ar.push(un)}),{angle:pr,stops:Ar,type:1}},Ul=function(hr,ur){var pr=wa(180),Ar=[];return Cs(ur).forEach(function(Nr,Vr){if(Vr===0){var Xr=Nr[0];if(Xr.type===20&&["top","left","right","bottom"].indexOf(Xr.value)!==-1){pr=_d(Nr);return}else if(Zu(Xr)){pr=(Ju.parse(hr,Xr)+wa(270))%wa(360);return}}var un=Yo(hr,Nr);Ar.push(un)}),{angle:pr,stops:Ar,type:1}},mu=function(hr,ur){var pr=wa(180),Ar=[],Nr=1,Vr=0,Xr=3,un=[];return Cs(ur).forEach(function(dn,Tn){var Nn=dn[0];if(Tn===0){if(oi(Nn)&&Nn.value==="linear"){Nr=1;return}else if(oi(Nn)&&Nn.value==="radial"){Nr=2;return}}if(Nn.type===18){if(Nn.name==="from"){var $n=da.parse(hr,Nn.values[0]);Ar.push({stop:Aa,color:$n})}else if(Nn.name==="to"){var $n=da.parse(hr,Nn.values[0]);Ar.push({stop:Go,color:$n})}else if(Nn.name==="color-stop"){var li=Nn.values.filter(Bs);if(li.length===2){var $n=da.parse(hr,li[1]),Qi=li[0];Hn(Qi)&&Ar.push({stop:{type:16,number:Qi.number*100,flags:Qi.flags},color:$n})}}}}),Nr===1?{angle:(pr+wa(180))%wa(360),stops:Ar,type:Nr}:{size:Xr,shape:Vr,stops:Ar,position:un,type:Nr}},gu="closest-side",Rc="farthest-side",sc="closest-corner",Jc="farthest-corner",Ea="circle",Jo="ellipse",Es="cover",Ss="contain",ca=function(hr,ur){var pr=0,Ar=3,Nr=[],Vr=[];return Cs(ur).forEach(function(Xr,un){var dn=!0;if(un===0){var Tn=!1;dn=Xr.reduce(function($n,li){if(Tn)if(oi(li))switch(li.value){case"center":return Vr.push(Kc),$n;case"top":case"left":return Vr.push(Aa),$n;case"right":case"bottom":return Vr.push(Go),$n}else(Os(li)||Js(li))&&Vr.push(li);else if(oi(li))switch(li.value){case Ea:return pr=0,!1;case Jo:return pr=1,!1;case"at":return Tn=!0,!1;case gu:return Ar=0,!1;case Es:case Rc:return Ar=1,!1;case Ss:case sc:return Ar=2,!1;case Jc:return Ar=3,!1}else if(Js(li)||Os(li))return Array.isArray(Ar)||(Ar=[]),Ar.push(li),!1;return $n},dn)}if(dn){var Nn=Yo(hr,Xr);Nr.push(Nn)}}),{size:Ar,shape:pr,stops:Nr,position:Vr,type:2}},pa=function(hr,ur){var pr=0,Ar=3,Nr=[],Vr=[];return Cs(ur).forEach(function(Xr,un){var dn=!0;if(un===0?dn=Xr.reduce(function(Nn,$n){if(oi($n))switch($n.value){case"center":return Vr.push(Kc),!1;case"top":case"left":return Vr.push(Aa),!1;case"right":case"bottom":return Vr.push(Go),!1}else if(Os($n)||Js($n))return Vr.push($n),!1;return Nn},dn):un===1&&(dn=Xr.reduce(function(Nn,$n){if(oi($n))switch($n.value){case Ea:return pr=0,!1;case Jo:return pr=1,!1;case Ss:case gu:return Ar=0,!1;case Rc:return Ar=1,!1;case sc:return Ar=2,!1;case Es:case Jc:return Ar=3,!1}else if(Js($n)||Os($n))return Array.isArray(Ar)||(Ar=[]),Ar.push($n),!1;return Nn},dn)),dn){var Tn=Yo(hr,Xr);Nr.push(Tn)}}),{size:Ar,shape:pr,stops:Nr,position:Vr,type:2}},_l=function(hr){return hr.type===1},Zc=function(hr){return hr.type===2},ac={name:"image",parse:function(hr,ur){if(ur.type===22){var pr={url:ur.value,type:0};return hr.cache.addImage(ur.value),pr}if(ur.type===18){var Ar=Ed[ur.name];if(typeof Ar>"u")throw new Error('Attempting to parse an unsupported image function "'+ur.name+'"');return Ar(hr,ur.values)}throw new Error("Unsupported image type "+ur.type)}};function Cc(hr){return!(hr.type===20&&hr.value==="none")&&(hr.type!==18||!!Ed[hr.name])}var Ed={"linear-gradient":Xc,"-moz-linear-gradient":Ul,"-ms-linear-gradient":Ul,"-o-linear-gradient":Ul,"-webkit-linear-gradient":Ul,"radial-gradient":ca,"-moz-radial-gradient":pa,"-ms-radial-gradient":pa,"-o-radial-gradient":pa,"-webkit-radial-gradient":pa,"-webkit-gradient":mu},xu={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(hr,ur){if(ur.length===0)return[];var pr=ur[0];return pr.type===20&&pr.value==="none"?[]:ur.filter(function(Ar){return Bs(Ar)&&Cc(Ar)}).map(function(Ar){return ac.parse(hr,Ar)})}},po={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(hr,ur){return ur.map(function(pr){if(oi(pr))switch(pr.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},El={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(hr,ur){return Cs(ur).map(function(pr){return pr.filter(Os)}).map(Ml)}},Bo={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(hr,ur){return Cs(ur).map(function(pr){return pr.filter(oi).map(function(Ar){return Ar.value}).join(" ")}).map(ed)}},ed=function(hr){switch(hr){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Uo;(function(hr){hr.AUTO="auto",hr.CONTAIN="contain",hr.COVER="cover"})(Uo||(Uo={}));var Sd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(hr,ur){return Cs(ur).map(function(pr){return pr.filter(vu)})}},vu=function(hr){return oi(hr)||Os(hr)},Sl=function(hr){return{name:"border-"+hr+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qd=Sl("top"),Rd=Sl("right"),eu=Sl("bottom"),Tc=Sl("left"),jc=function(hr){return{name:"border-radius-"+hr,initialValue:"0 0",prefix:!1,type:1,parse:function(ur,pr){return Ml(pr.filter(Os))}}},Yd=jc("top-left"),Rl=jc("top-right"),ll=jc("bottom-right"),yu=jc("bottom-left"),Cl=function(hr){return{name:"border-"+hr+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(ur,pr){switch(pr){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Pc=Cl("top"),bu=Cl("right"),nh=Cl("bottom"),Cd=Cl("left"),tu=function(hr){return{name:"border-"+hr+"-width",initialValue:"0",type:0,prefix:!1,parse:function(ur,pr){return In(pr)?pr.number:0}}},Ga=tu("top"),Pa=tu("right"),zs=tu("bottom"),ru=tu("left"),oc={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Rf={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"rtl":return 1;case"ltr":default:return 0}}},wu={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(hr,ur){return ur.filter(oi).reduce(function(pr,Ar){return pr|ih(Ar.value)},0)}},ih=function(hr){switch(hr){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Ic={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},$o={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(hr,ur){return ur.type===20&&ur.value==="normal"?0:ur.type===17||ur.type===15?ur.number:0}},No;(function(hr){hr.NORMAL="normal",hr.STRICT="strict"})(No||(No={}));var sh={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"strict":return No.STRICT;case"normal":default:return No.NORMAL}}},rd={name:"line-height",initialValue:"normal",prefix:!1,type:4},$l=function(hr,ur){return oi(hr)&&hr.value==="normal"?1.2*ur:hr.type===17?ur*hr.number:Os(hr)?Ms(hr,ur):ur},mo={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(hr,ur){return ur.type===20&&ur.value==="none"?null:ac.parse(hr,ur)}},Bc={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"inside":return 0;case"outside":default:return 1}}},cc={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},cl=function(hr){return{name:"margin-"+hr,initialValue:"0",prefix:!1,type:4}},Xd=cl("top"),Jd=cl("right"),nd=cl("bottom"),Zd=cl("left"),uc={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(hr,ur){return ur.filter(oi).map(function(pr){switch(pr.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},qa={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"break-word":return"break-word";case"normal":default:return"normal"}}},Vl=function(hr){return{name:"padding-"+hr,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ef=Vl("top"),Dh=Vl("right"),ah=Vl("bottom"),Fh=Vl("left"),Ya={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},Cf={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Td={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(hr,ur){return ur.length===1&&_s(ur[0],"none")?[]:Cs(ur).map(function(pr){for(var Ar={color:Ao.TRANSPARENT,offsetX:Aa,offsetY:Aa,blur:Aa},Nr=0,Vr=0;Vr<pr.length;Vr++){var Xr=pr[Vr];Js(Xr)?(Nr===0?Ar.offsetX=Xr:Nr===1?Ar.offsetY=Xr:Ar.blur=Xr,Nr++):Ar.color=da.parse(hr,Xr)}return Ar})}},jd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Tf={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(hr,ur){if(ur.type===20&&ur.value==="none")return null;if(ur.type===18){var pr=kh[ur.name];if(typeof pr>"u")throw new Error('Attempting to parse an unsupported transform function "'+ur.name+'"');return pr(ur.values)}return null}},_u=function(hr){var ur=hr.filter(function(pr){return pr.type===17}).map(function(pr){return pr.number});return ur.length===6?ur:null},Nc=function(hr){var ur=hr.filter(function(dn){return dn.type===17}).map(function(dn){return dn.number}),pr=ur[0],Ar=ur[1];ur[2],ur[3];var Nr=ur[4],Vr=ur[5];ur[6],ur[7],ur[8],ur[9],ur[10],ur[11];var Xr=ur[12],un=ur[13];return ur[14],ur[15],ur.length===16?[pr,Ar,Nr,Vr,Xr,un]:null},kh={matrix:_u,matrix3d:Nc},jf={type:16,number:50,flags:gs},oh=[jf,jf],lr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(hr,ur){var pr=ur.filter(Os);return pr.length!==2?oh:[pr[0],pr[1]]}},xr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Br;(function(hr){hr.NORMAL="normal",hr.BREAK_ALL="break-all",hr.KEEP_ALL="keep-all"})(Br||(Br={}));for(var Lr={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"break-all":return Br.BREAK_ALL;case"keep-all":return Br.KEEP_ALL;case"normal":default:return Br.NORMAL}}},Wr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(hr,ur){if(ur.type===20)return{auto:!0,order:0};if(Hn(ur))return{auto:!1,order:ur.number};throw new Error("Invalid z-index number parsed")}},Yr={name:"time",parse:function(hr,ur){if(ur.type===15)switch(ur.unit.toLowerCase()){case"s":return 1e3*ur.number;case"ms":return ur.number}throw new Error("Unsupported time type")}},Jr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(hr,ur){return Hn(ur)?ur.number:1}},tn={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},sn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(hr,ur){return ur.filter(oi).map(function(pr){switch(pr.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(pr){return pr!==0})}},An={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(hr,ur){var pr=[],Ar=[];return ur.forEach(function(Nr){switch(Nr.type){case 20:case 0:pr.push(Nr.value);break;case 17:pr.push(Nr.number.toString());break;case 4:Ar.push(pr.join(" ")),pr.length=0;break}}),pr.length&&Ar.push(pr.join(" ")),Ar.map(function(Nr){return Nr.indexOf(" ")===-1?Nr:"'"+Nr+"'"})}},Sn={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},Wn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(hr,ur){if(Hn(ur))return ur.number;if(oi(ur))switch(ur.value){case"bold":return 700;case"normal":default:return 400}return 400}},Qn={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(hr,ur){return ur.filter(oi).map(function(pr){return pr.value})}},kn={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(hr,ur){switch(ur){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ai=function(hr,ur){return(hr&ur)!==0},ii={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(hr,ur){if(ur.length===0)return[];var pr=ur[0];return pr.type===20&&pr.value==="none"?[]:ur}},Cn={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(hr,ur){if(ur.length===0)return null;var pr=ur[0];if(pr.type===20&&pr.value==="none")return null;for(var Ar=[],Nr=ur.filter(As),Vr=0;Vr<Nr.length;Vr++){var Xr=Nr[Vr],un=Nr[Vr+1];if(Xr.type===20){var dn=un&&Hn(un)?un.number:1;Ar.push({counter:Xr.value,increment:dn})}}return Ar}},Bn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(hr,ur){if(ur.length===0)return[];for(var pr=[],Ar=ur.filter(As),Nr=0;Nr<Ar.length;Nr++){var Vr=Ar[Nr],Xr=Ar[Nr+1];if(oi(Vr)&&Vr.value!=="none"){var un=Xr&&Hn(Xr)?Xr.number:0;pr.push({counter:Vr.value,reset:un})}}return pr}},ci={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(hr,ur){return ur.filter(In).map(function(pr){return Yr.parse(hr,pr)})}},mi={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(hr,ur){if(ur.length===0)return null;var pr=ur[0];if(pr.type===20&&pr.value==="none")return null;var Ar=[],Nr=ur.filter(os);if(Nr.length%2!==0)return null;for(var Vr=0;Vr<Nr.length;Vr+=2){var Xr=Nr[Vr].value,un=Nr[Vr+1].value;Ar.push({open:Xr,close:un})}return Ar}},di=function(hr,ur,pr){if(!hr)return"";var Ar=hr[Math.min(ur,hr.length-1)];return Ar?pr?Ar.open:Ar.close:""},Ki={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(hr,ur){return ur.length===1&&_s(ur[0],"none")?[]:Cs(ur).map(function(pr){for(var Ar={color:255,offsetX:Aa,offsetY:Aa,blur:Aa,spread:Aa,inset:!1},Nr=0,Vr=0;Vr<pr.length;Vr++){var Xr=pr[Vr];_s(Xr,"inset")?Ar.inset=!0:Js(Xr)?(Nr===0?Ar.offsetX=Xr:Nr===1?Ar.offsetY=Xr:Nr===2?Ar.blur=Xr:Ar.spread=Xr,Nr++):Ar.color=da.parse(hr,Xr)}return Ar})}},$i={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(hr,ur){var pr=[0,1,2],Ar=[];return ur.filter(oi).forEach(function(Nr){switch(Nr.value){case"stroke":Ar.push(1);break;case"fill":Ar.push(0);break;case"markers":Ar.push(2);break}}),pr.forEach(function(Nr){Ar.indexOf(Nr)===-1&&Ar.push(Nr)}),Ar}},es={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Hi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(hr,ur){return In(ur)?ur.number:0}},Vs=(function(){function hr(ur,pr){var Ar,Nr;this.animationDuration=_i(ur,ci,pr.animationDuration),this.backgroundClip=_i(ur,Ll,pr.backgroundClip),this.backgroundColor=_i(ur,ja,pr.backgroundColor),this.backgroundImage=_i(ur,xu,pr.backgroundImage),this.backgroundOrigin=_i(ur,po,pr.backgroundOrigin),this.backgroundPosition=_i(ur,El,pr.backgroundPosition),this.backgroundRepeat=_i(ur,Bo,pr.backgroundRepeat),this.backgroundSize=_i(ur,Sd,pr.backgroundSize),this.borderTopColor=_i(ur,qd,pr.borderTopColor),this.borderRightColor=_i(ur,Rd,pr.borderRightColor),this.borderBottomColor=_i(ur,eu,pr.borderBottomColor),this.borderLeftColor=_i(ur,Tc,pr.borderLeftColor),this.borderTopLeftRadius=_i(ur,Yd,pr.borderTopLeftRadius),this.borderTopRightRadius=_i(ur,Rl,pr.borderTopRightRadius),this.borderBottomRightRadius=_i(ur,ll,pr.borderBottomRightRadius),this.borderBottomLeftRadius=_i(ur,yu,pr.borderBottomLeftRadius),this.borderTopStyle=_i(ur,Pc,pr.borderTopStyle),this.borderRightStyle=_i(ur,bu,pr.borderRightStyle),this.borderBottomStyle=_i(ur,nh,pr.borderBottomStyle),this.borderLeftStyle=_i(ur,Cd,pr.borderLeftStyle),this.borderTopWidth=_i(ur,Ga,pr.borderTopWidth),this.borderRightWidth=_i(ur,Pa,pr.borderRightWidth),this.borderBottomWidth=_i(ur,zs,pr.borderBottomWidth),this.borderLeftWidth=_i(ur,ru,pr.borderLeftWidth),this.boxShadow=_i(ur,Ki,pr.boxShadow),this.color=_i(ur,oc,pr.color),this.direction=_i(ur,Rf,pr.direction),this.display=_i(ur,wu,pr.display),this.float=_i(ur,Ic,pr.cssFloat),this.fontFamily=_i(ur,An,pr.fontFamily),this.fontSize=_i(ur,Sn,pr.fontSize),this.fontStyle=_i(ur,kn,pr.fontStyle),this.fontVariant=_i(ur,Qn,pr.fontVariant),this.fontWeight=_i(ur,Wn,pr.fontWeight),this.letterSpacing=_i(ur,$o,pr.letterSpacing),this.lineBreak=_i(ur,sh,pr.lineBreak),this.lineHeight=_i(ur,rd,pr.lineHeight),this.listStyleImage=_i(ur,mo,pr.listStyleImage),this.listStylePosition=_i(ur,Bc,pr.listStylePosition),this.listStyleType=_i(ur,cc,pr.listStyleType),this.marginTop=_i(ur,Xd,pr.marginTop),this.marginRight=_i(ur,Jd,pr.marginRight),this.marginBottom=_i(ur,nd,pr.marginBottom),this.marginLeft=_i(ur,Zd,pr.marginLeft),this.opacity=_i(ur,Jr,pr.opacity);var Vr=_i(ur,uc,pr.overflow);this.overflowX=Vr[0],this.overflowY=Vr[Vr.length>1?1:0],this.overflowWrap=_i(ur,qa,pr.overflowWrap),this.paddingTop=_i(ur,ef,pr.paddingTop),this.paddingRight=_i(ur,Dh,pr.paddingRight),this.paddingBottom=_i(ur,ah,pr.paddingBottom),this.paddingLeft=_i(ur,Fh,pr.paddingLeft),this.paintOrder=_i(ur,$i,pr.paintOrder),this.position=_i(ur,Cf,pr.position),this.textAlign=_i(ur,Ya,pr.textAlign),this.textDecorationColor=_i(ur,tn,(Ar=pr.textDecorationColor)!==null&&Ar!==void 0?Ar:pr.color),this.textDecorationLine=_i(ur,sn,(Nr=pr.textDecorationLine)!==null&&Nr!==void 0?Nr:pr.textDecoration),this.textShadow=_i(ur,Td,pr.textShadow),this.textTransform=_i(ur,jd,pr.textTransform),this.transform=_i(ur,Tf,pr.transform),this.transformOrigin=_i(ur,lr,pr.transformOrigin),this.visibility=_i(ur,xr,pr.visibility),this.webkitTextStrokeColor=_i(ur,es,pr.webkitTextStrokeColor),this.webkitTextStrokeWidth=_i(ur,Hi,pr.webkitTextStrokeWidth),this.wordBreak=_i(ur,Lr,pr.wordBreak),this.zIndex=_i(ur,Wr,pr.zIndex)}return hr.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},hr.prototype.isTransparent=function(){return Mo(this.backgroundColor)},hr.prototype.isTransformed=function(){return this.transform!==null},hr.prototype.isPositioned=function(){return this.position!==0},hr.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},hr.prototype.isFloating=function(){return this.float!==0},hr.prototype.isInlineLevel=function(){return ai(this.display,4)||ai(this.display,33554432)||ai(this.display,268435456)||ai(this.display,536870912)||ai(this.display,67108864)||ai(this.display,134217728)},hr})(),Ks=(function(){function hr(ur,pr){this.content=_i(ur,ii,pr.content),this.quotes=_i(ur,mi,pr.quotes)}return hr})(),bs=(function(){function hr(ur,pr){this.counterIncrement=_i(ur,Cn,pr.counterIncrement),this.counterReset=_i(ur,Bn,pr.counterReset)}return hr})(),_i=function(hr,ur,pr){var Ar=new $r,Nr=pr!==null&&typeof pr<"u"?pr.toString():ur.initialValue;Ar.write(Nr);var Vr=new en(Ar.read());switch(ur.type){case 2:var Xr=Vr.parseComponentValue();return ur.parse(hr,oi(Xr)?Xr.value:ur.initialValue);case 0:return ur.parse(hr,Vr.parseComponentValue());case 1:return ur.parse(hr,Vr.parseComponentValues());case 4:return Vr.parseComponentValue();case 3:switch(ur.format){case"angle":return Ju.parse(hr,Vr.parseComponentValue());case"color":return da.parse(hr,Vr.parseComponentValue());case"image":return ac.parse(hr,Vr.parseComponentValue());case"length":var un=Vr.parseComponentValue();return Js(un)?un:Aa;case"length-percentage":var dn=Vr.parseComponentValue();return Os(dn)?dn:Aa;case"time":return Yr.parse(hr,Vr.parseComponentValue())}break}},Zs="data-html2canvas-debug",Gs=function(hr){var ur=hr.getAttribute(Zs);switch(ur){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},fs=function(hr,ur){var pr=Gs(hr);return pr===1||ur===pr},Ps=(function(){function hr(ur,pr){if(this.context=ur,this.textNodes=[],this.elements=[],this.flags=0,fs(pr,3))debugger;this.styles=new Vs(ur,window.getComputedStyle(pr,null)),Za(pr)&&(this.styles.animationDuration.some(function(Ar){return Ar>0})&&(pr.style.animationDuration="0s"),this.styles.transform!==null&&(pr.style.transform="none")),this.bounds=Ue(this.context,pr),fs(pr,4)&&(this.flags|=16)}return hr})(),ns="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ls="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ts=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ns=0;Ns<ls.length;Ns++)Ts[ls.charCodeAt(Ns)]=Ns;for(var go=function(hr){var ur=hr.length*.75,pr=hr.length,Ar,Nr=0,Vr,Xr,un,dn;hr[hr.length-1]==="="&&(ur--,hr[hr.length-2]==="="&&ur--);var Tn=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(ur):new Array(ur),Nn=Array.isArray(Tn)?Tn:new Uint8Array(Tn);for(Ar=0;Ar<pr;Ar+=4)Vr=Ts[hr.charCodeAt(Ar)],Xr=Ts[hr.charCodeAt(Ar+1)],un=Ts[hr.charCodeAt(Ar+2)],dn=Ts[hr.charCodeAt(Ar+3)],Nn[Nr++]=Vr<<2|Xr>>4,Nn[Nr++]=(Xr&15)<<4|un>>2,Nn[Nr++]=(un&3)<<6|dn&63;return Tn},Xa=function(hr){for(var ur=hr.length,pr=[],Ar=0;Ar<ur;Ar+=2)pr.push(hr[Ar+1]<<8|hr[Ar]);return pr},Ma=function(hr){for(var ur=hr.length,pr=[],Ar=0;Ar<ur;Ar+=4)pr.push(hr[Ar+3]<<24|hr[Ar+2]<<16|hr[Ar+1]<<8|hr[Ar]);return pr},ia=5,Ia=11,Zo=2,qs=Ia-ia,La=65536>>ia,Hl=1<<ia,dc=Hl-1,Eu=1024>>ia,nu=La+Eu,ma=nu,Pd=32,tf=ma+Pd,Vo=65536>>Ia,Sa=1<<qs,Su=Sa-1,Dc=function(hr,ur,pr){return hr.slice?hr.slice(ur,pr):new Uint16Array(Array.prototype.slice.call(hr,ur,pr))},el=function(hr,ur,pr){return hr.slice?hr.slice(ur,pr):new Uint32Array(Array.prototype.slice.call(hr,ur,pr))},iu=function(hr,ur){var pr=go(hr),Ar=Array.isArray(pr)?Ma(pr):new Uint32Array(pr),Nr=Array.isArray(pr)?Xa(pr):new Uint16Array(pr),Vr=24,Xr=Dc(Nr,Vr/2,Ar[4]/2),un=Ar[5]===2?Dc(Nr,(Vr+Ar[4])/2):el(Ar,Math.ceil((Vr+Ar[4])/4));return new tl(Ar[0],Ar[1],Ar[2],Ar[3],Xr,un)},tl=(function(){function hr(ur,pr,Ar,Nr,Vr,Xr){this.initialValue=ur,this.errorValue=pr,this.highStart=Ar,this.highValueIndex=Nr,this.index=Vr,this.data=Xr}return hr.prototype.get=function(ur){var pr;if(ur>=0){if(ur<55296||ur>56319&&ur<=65535)return pr=this.index[ur>>ia],pr=(pr<<Zo)+(ur&dc),this.data[pr];if(ur<=65535)return pr=this.index[La+(ur-55296>>ia)],pr=(pr<<Zo)+(ur&dc),this.data[pr];if(ur<this.highStart)return pr=tf-Vo+(ur>>Ia),pr=this.index[pr],pr+=ur>>ia&Su,pr=this.index[pr],pr=(pr<<Zo)+(ur&dc),this.data[pr];if(ur<=1114111)return this.data[this.highValueIndex]}return this.errorValue},hr})(),sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ad=typeof Uint8Array>"u"?[]:new Uint8Array(256),Ru=0;Ru<sd.length;Ru++)ad[sd.charCodeAt(Ru)]=Ru;var Id=1,od=2,Cu=3,Tu=4,Pf=5,lh=7,ld=8,Ql=9,If=10,Bf=11,Nf=12,rf=13,ju=14,Bd=15,Df=function(hr){for(var ur=[],pr=0,Ar=hr.length;pr<Ar;){var Nr=hr.charCodeAt(pr++);if(Nr>=55296&&Nr<=56319&&pr<Ar){var Vr=hr.charCodeAt(pr++);(Vr&64512)===56320?ur.push(((Nr&1023)<<10)+(Vr&1023)+65536):(ur.push(Nr),pr--)}else ur.push(Nr)}return ur},Nd=function(){for(var hr=[],ur=0;ur<arguments.length;ur++)hr[ur]=arguments[ur];if(String.fromCodePoint)return String.fromCodePoint.apply(String,hr);var pr=hr.length;if(!pr)return"";for(var Ar=[],Nr=-1,Vr="";++Nr<pr;){var Xr=hr[Nr];Xr<=65535?Ar.push(Xr):(Xr-=65536,Ar.push((Xr>>10)+55296,Xr%1024+56320)),(Nr+1===pr||Ar.length>16384)&&(Vr+=String.fromCharCode.apply(String,Ar),Ar.length=0)}return Vr},nf=iu(ns),yo="",sf="",ch=function(hr){return nf.get(hr)},Fc=function(hr,ur,pr){var Ar=pr-2,Nr=ur[Ar],Vr=ur[pr-1],Xr=ur[pr];if(Vr===od&&Xr===Cu)return yo;if(Vr===od||Vr===Cu||Vr===Tu||Xr===od||Xr===Cu||Xr===Tu)return sf;if(Vr===ld&&[ld,Ql,Bf,Nf].indexOf(Xr)!==-1||(Vr===Bf||Vr===Ql)&&(Xr===Ql||Xr===If)||(Vr===Nf||Vr===If)&&Xr===If||Xr===rf||Xr===Pf||Xr===lh||Vr===Id)return yo;if(Vr===rf&&Xr===ju){for(;Nr===Pf;)Nr=ur[--Ar];if(Nr===ju)return yo}if(Vr===Bd&&Xr===Bd){for(var un=0;Nr===Bd;)un++,Nr=ur[--Ar];if(un%2===0)return yo}return sf},Dd=function(hr){var ur=Df(hr),pr=ur.length,Ar=0,Nr=0,Vr=ur.map(ch);return{next:function(){if(Ar>=pr)return{done:!0,value:null};for(var Xr=yo;Ar<pr&&(Xr=Fc(ur,Vr,++Ar))===yo;);if(Xr!==yo||Ar===pr){var un=Nd.apply(null,ur.slice(Nr,Ar));return Nr=Ar,{value:un,done:!1}}return{done:!0,value:null}}}},af=function(hr){for(var ur=Dd(hr),pr=[],Ar;!(Ar=ur.next()).done;)Ar.value&&pr.push(Ar.value.slice());return pr},zl=function(hr){var ur=123;if(hr.createRange){var pr=hr.createRange();if(pr.getBoundingClientRect){var Ar=hr.createElement("boundtest");Ar.style.height=ur+"px",Ar.style.display="block",hr.body.appendChild(Ar),pr.selectNode(Ar);var Nr=pr.getBoundingClientRect(),Vr=Math.round(Nr.height);if(hr.body.removeChild(Ar),Vr===ur)return!0}}return!1},cd=function(hr){var ur=hr.createElement("boundtest");ur.style.width="50px",ur.style.display="block",ur.style.fontSize="12px",ur.style.letterSpacing="0px",ur.style.wordSpacing="0px",hr.body.appendChild(ur);var pr=hr.createRange();ur.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var Ar=ur.firstChild,Nr=He(Ar.data).map(function(dn){return Qe(dn)}),Vr=0,Xr={},un=Nr.every(function(dn,Tn){pr.setStart(Ar,Vr),pr.setEnd(Ar,Vr+dn.length);var Nn=pr.getBoundingClientRect();Vr+=dn.length;var $n=Nn.x>Xr.x||Nn.y>Xr.y;return Xr=Nn,Tn===0?!0:$n});return hr.body.removeChild(ur),un},Ff=function(){return typeof new Image().crossOrigin<"u"},uh=function(){return typeof new XMLHttpRequest().responseType=="string"},kf=function(hr){var ur=new Image,pr=hr.createElement("canvas"),Ar=pr.getContext("2d");if(!Ar)return!1;ur.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{Ar.drawImage(ur,0,0),pr.toDataURL()}catch{return!1}return!0},su=function(hr){return hr[0]===0&&hr[1]===255&&hr[2]===0&&hr[3]===255},dh=function(hr){var ur=hr.createElement("canvas"),pr=100;ur.width=pr,ur.height=pr;var Ar=ur.getContext("2d");if(!Ar)return Promise.reject(!1);Ar.fillStyle="rgb(0, 255, 0)",Ar.fillRect(0,0,pr,pr);var Nr=new Image,Vr=ur.toDataURL();Nr.src=Vr;var Xr=Fd(pr,pr,0,0,Nr);return Ar.fillStyle="red",Ar.fillRect(0,0,pr,pr),of(Xr).then(function(un){Ar.drawImage(un,0,0);var dn=Ar.getImageData(0,0,pr,pr).data;Ar.fillStyle="red",Ar.fillRect(0,0,pr,pr);var Tn=hr.createElement("div");return Tn.style.backgroundImage="url("+Vr+")",Tn.style.height=pr+"px",su(dn)?of(Fd(pr,pr,0,0,Tn)):Promise.reject(!1)}).then(function(un){return Ar.drawImage(un,0,0),su(Ar.getImageData(0,0,pr,pr).data)}).catch(function(){return!1})},Fd=function(hr,ur,pr,Ar,Nr){var Vr="http://www.w3.org/2000/svg",Xr=document.createElementNS(Vr,"svg"),un=document.createElementNS(Vr,"foreignObject");return Xr.setAttributeNS(null,"width",hr.toString()),Xr.setAttributeNS(null,"height",ur.toString()),un.setAttributeNS(null,"width","100%"),un.setAttributeNS(null,"height","100%"),un.setAttributeNS(null,"x",pr.toString()),un.setAttributeNS(null,"y",Ar.toString()),un.setAttributeNS(null,"externalResourcesRequired","true"),Xr.appendChild(un),un.appendChild(Nr),Xr},of=function(hr){return new Promise(function(ur,pr){var Ar=new Image;Ar.onload=function(){return ur(Ar)},Ar.onerror=pr,Ar.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(hr))})},Ja={get SUPPORT_RANGE_BOUNDS(){var hr=zl(document);return Object.defineProperty(Ja,"SUPPORT_RANGE_BOUNDS",{value:hr}),hr},get SUPPORT_WORD_BREAKING(){var hr=Ja.SUPPORT_RANGE_BOUNDS&&cd(document);return Object.defineProperty(Ja,"SUPPORT_WORD_BREAKING",{value:hr}),hr},get SUPPORT_SVG_DRAWING(){var hr=kf(document);return Object.defineProperty(Ja,"SUPPORT_SVG_DRAWING",{value:hr}),hr},get SUPPORT_FOREIGNOBJECT_DRAWING(){var hr=typeof Array.from=="function"&&typeof window.fetch=="function"?dh(document):Promise.resolve(!1);return Object.defineProperty(Ja,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:hr}),hr},get SUPPORT_CORS_IMAGES(){var hr=Ff();return Object.defineProperty(Ja,"SUPPORT_CORS_IMAGES",{value:hr}),hr},get SUPPORT_RESPONSE_TYPE(){var hr=uh();return Object.defineProperty(Ja,"SUPPORT_RESPONSE_TYPE",{value:hr}),hr},get SUPPORT_CORS_XHR(){var hr="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ja,"SUPPORT_CORS_XHR",{value:hr}),hr},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var hr=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ja,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:hr}),hr}},ud=(function(){function hr(ur,pr){this.text=ur,this.bounds=pr}return hr})(),Pu=function(hr,ur,pr,Ar){var Nr=kc(ur,pr),Vr=[],Xr=0;return Nr.forEach(function(un){if(pr.textDecorationLine.length||un.trim().length>0)if(Ja.SUPPORT_RANGE_BOUNDS){var dn=dd(Ar,Xr,un.length).getClientRects();if(dn.length>1){var Tn=Wl(un),Nn=0;Tn.forEach(function(li){Vr.push(new ud(li,Me.fromDOMRectList(hr,dd(Ar,Nn+Xr,li.length).getClientRects()))),Nn+=li.length})}else Vr.push(new ud(un,Me.fromDOMRectList(hr,dn)))}else{var $n=Ar.splitText(un.length);Vr.push(new ud(un,lf(hr,Ar))),Ar=$n}else Ja.SUPPORT_RANGE_BOUNDS||(Ar=Ar.splitText(un.length));Xr+=un.length}),Vr},lf=function(hr,ur){var pr=ur.ownerDocument;if(pr){var Ar=pr.createElement("html2canvaswrapper");Ar.appendChild(ur.cloneNode(!0));var Nr=ur.parentNode;if(Nr){Nr.replaceChild(Ar,ur);var Vr=Ue(hr,Ar);return Ar.firstChild&&Nr.replaceChild(Ar.firstChild,Ar),Vr}}return Me.EMPTY},dd=function(hr,ur,pr){var Ar=hr.ownerDocument;if(!Ar)throw new Error("Node has no owner document");var Nr=Ar.createRange();return Nr.setStart(hr,ur),Nr.setEnd(hr,ur+pr),Nr},Wl=function(hr){if(Ja.SUPPORT_NATIVE_TEXT_SEGMENTATION){var ur=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(ur.segment(hr)).map(function(pr){return pr.segment})}return af(hr)},fc=function(hr,ur){if(Ja.SUPPORT_NATIVE_TEXT_SEGMENTATION){var pr=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(pr.segment(hr)).map(function(Ar){return Ar.segment})}return Od(hr,ur)},kc=function(hr,ur){return ur.letterSpacing!==0?Wl(hr):fc(hr,ur)},kd=[32,160,4961,65792,65793,4153,4241],Od=function(hr,ur){for(var pr=Pi(hr,{lineBreak:ur.lineBreak,wordBreak:ur.overflowWrap==="break-word"?"break-word":ur.wordBreak}),Ar=[],Nr,Vr=function(){if(Nr.value){var Xr=Nr.value.slice(),un=He(Xr),dn="";un.forEach(function(Tn){kd.indexOf(Tn)===-1?dn+=Qe(Tn):(dn.length&&Ar.push(dn),Ar.push(Qe(Tn)),dn="")}),dn.length&&Ar.push(dn)}};!(Nr=pr.next()).done;)Vr();return Ar},Of=(function(){function hr(ur,pr,Ar){this.text=fh(pr.data,Ar.textTransform),this.textBounds=Pu(ur,this.text,Ar,pr)}return hr})(),fh=function(hr,ur){switch(ur){case 1:return hr.toLowerCase();case 3:return hr.replace(Mf,Lf);case 2:return hr.toUpperCase();default:return hr}},Mf=/(^|\s|:|-|\(|\))([a-z])/g,Lf=function(hr,ur,pr){return hr.length>0?ur+pr.toUpperCase():hr},Oh=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr.src=Ar.currentSrc||Ar.src,Nr.intrinsicWidth=Ar.naturalWidth,Nr.intrinsicHeight=Ar.naturalHeight,Nr.context.cache.addImage(Nr.src),Nr}return ur})(Ps),cf=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr.canvas=Ar,Nr.intrinsicWidth=Ar.width,Nr.intrinsicHeight=Ar.height,Nr}return ur})(Ps),hh=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this,Vr=new XMLSerializer,Xr=Ue(pr,Ar);return Ar.setAttribute("width",Xr.width+"px"),Ar.setAttribute("height",Xr.height+"px"),Nr.svg="data:image/svg+xml,"+encodeURIComponent(Vr.serializeToString(Ar)),Nr.intrinsicWidth=Ar.width.baseVal.value,Nr.intrinsicHeight=Ar.height.baseVal.value,Nr.context.cache.addImage(Nr.svg),Nr}return ur})(Ps),Uf=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr.value=Ar.value,Nr}return ur})(Ps),Ah=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr.start=Ar.start,Nr.reversed=typeof Ar.reversed=="boolean"&&Ar.reversed===!0,Nr}return ur})(Ps),yA=[{type:15,flags:0,unit:"px",number:3}],ph=[{type:16,flags:0,number:50}],bA=function(hr){return hr.width>hr.height?new Me(hr.left+(hr.width-hr.height)/2,hr.top,hr.height,hr.height):hr.width<hr.height?new Me(hr.left,hr.top+(hr.height-hr.width)/2,hr.width,hr.width):hr},wA=function(hr){var ur=hr.type===$f?new Array(hr.value.length+1).join(""):hr.value;return ur.length===0?hr.placeholder||"":ur},mh="checkbox",Iu="radio",$f="password",Vf=707406591,Md=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;switch(Nr.type=Ar.type.toLowerCase(),Nr.checked=Ar.checked,Nr.value=wA(Ar),(Nr.type===mh||Nr.type===Iu)&&(Nr.styles.backgroundColor=3739148031,Nr.styles.borderTopColor=Nr.styles.borderRightColor=Nr.styles.borderBottomColor=Nr.styles.borderLeftColor=2779096575,Nr.styles.borderTopWidth=Nr.styles.borderRightWidth=Nr.styles.borderBottomWidth=Nr.styles.borderLeftWidth=1,Nr.styles.borderTopStyle=Nr.styles.borderRightStyle=Nr.styles.borderBottomStyle=Nr.styles.borderLeftStyle=1,Nr.styles.backgroundClip=[0],Nr.styles.backgroundOrigin=[0],Nr.bounds=bA(Nr.bounds)),Nr.type){case mh:Nr.styles.borderTopRightRadius=Nr.styles.borderTopLeftRadius=Nr.styles.borderBottomRightRadius=Nr.styles.borderBottomLeftRadius=yA;break;case Iu:Nr.styles.borderTopRightRadius=Nr.styles.borderTopLeftRadius=Nr.styles.borderBottomRightRadius=Nr.styles.borderBottomLeftRadius=ph;break}return Nr}return ur})(Ps),Hf=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this,Vr=Ar.options[Ar.selectedIndex||0];return Nr.value=Vr&&Vr.text||"",Nr}return ur})(Ps),Mh=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr.value=Ar.value,Nr}return ur})(Ps),Lh=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;Nr.src=Ar.src,Nr.width=parseInt(Ar.width,10)||0,Nr.height=parseInt(Ar.height,10)||0,Nr.backgroundColor=Nr.styles.backgroundColor;try{if(Ar.contentWindow&&Ar.contentWindow.document&&Ar.contentWindow.document.documentElement){Nr.tree=Oc(pr,Ar.contentWindow.document.documentElement);var Vr=Ar.contentWindow.document.documentElement?Lo(pr,getComputedStyle(Ar.contentWindow.document.documentElement).backgroundColor):Ao.TRANSPARENT,Xr=Ar.contentWindow.document.body?Lo(pr,getComputedStyle(Ar.contentWindow.document.body).backgroundColor):Ao.TRANSPARENT;Nr.backgroundColor=Mo(Vr)?Mo(Xr)?Nr.styles.backgroundColor:Xr:Vr}}catch{}return Nr}return ur})(Ps),uf=["OL","UL","MENU"],Qf=function(hr,ur,pr,Ar){for(var Nr=ur.firstChild,Vr=void 0;Nr;Nr=Vr)if(Vr=Nr.nextSibling,Bu(Nr)&&Nr.data.trim().length>0)pr.textNodes.push(new Of(hr,Nr,pr.styles));else if(Tl(Nr))if(RA(Nr)&&Nr.assignedNodes)Nr.assignedNodes().forEach(function(un){return Qf(hr,un,pr,Ar)});else{var Xr=Kl(hr,Nr);Xr.styles.isVisible()&&(hd(Nr,Xr,Ar)?Xr.flags|=4:_A(Xr.styles)&&(Xr.flags|=2),uf.indexOf(Nr.tagName)!==-1&&(Xr.flags|=8),pr.elements.push(Xr),Nr.slot,Nr.shadowRoot?Qf(hr,Nr.shadowRoot,Xr,Ar):!Wf(Nr)&&!Ad(Nr)&&!Kf(Nr)&&Qf(hr,Nr,Xr,Ar))}},Kl=function(hr,ur){return gh(ur)?new Oh(hr,ur):Vh(ur)?new cf(hr,ur):Ad(ur)?new hh(hr,ur):Uh(ur)?new Uf(hr,ur):$h(ur)?new Ah(hr,ur):EA(ur)?new Md(hr,ur):Kf(ur)?new Hf(hr,ur):Wf(ur)?new Mh(hr,ur):zf(ur)?new Lh(hr,ur):new Ps(hr,ur)},Oc=function(hr,ur){var pr=Kl(hr,ur);return pr.flags|=4,Qf(hr,ur,pr,pr),pr},hd=function(hr,ur,pr){return ur.styles.isPositionedWithZIndex()||ur.styles.opacity<1||ur.styles.isTransformed()||df(hr)&&pr.styles.isTransparent()},_A=function(hr){return hr.isPositioned()||hr.isFloating()},Bu=function(hr){return hr.nodeType===Node.TEXT_NODE},Tl=function(hr){return hr.nodeType===Node.ELEMENT_NODE},Za=function(hr){return Tl(hr)&&typeof hr.style<"u"&&!Ld(hr)},Ld=function(hr){return typeof hr.className=="object"},Uh=function(hr){return hr.tagName==="LI"},$h=function(hr){return hr.tagName==="OL"},EA=function(hr){return hr.tagName==="INPUT"},SA=function(hr){return hr.tagName==="HTML"},Ad=function(hr){return hr.tagName==="svg"},df=function(hr){return hr.tagName==="BODY"},Vh=function(hr){return hr.tagName==="CANVAS"},Hh=function(hr){return hr.tagName==="VIDEO"},gh=function(hr){return hr.tagName==="IMG"},zf=function(hr){return hr.tagName==="IFRAME"},Qh=function(hr){return hr.tagName==="STYLE"},zh=function(hr){return hr.tagName==="SCRIPT"},Wf=function(hr){return hr.tagName==="TEXTAREA"},Kf=function(hr){return hr.tagName==="SELECT"},RA=function(hr){return hr.tagName==="SLOT"},Wh=function(hr){return hr.tagName.indexOf("-")>0},Do=(function(){function hr(){this.counters={}}return hr.prototype.getCounterValue=function(ur){var pr=this.counters[ur];return pr&&pr.length?pr[pr.length-1]:1},hr.prototype.getCounterValues=function(ur){var pr=this.counters[ur];return pr||[]},hr.prototype.pop=function(ur){var pr=this;ur.forEach(function(Ar){return pr.counters[Ar].pop()})},hr.prototype.parse=function(ur){var pr=this,Ar=ur.counterIncrement,Nr=ur.counterReset,Vr=!0;Ar!==null&&Ar.forEach(function(un){var dn=pr.counters[un.counter];dn&&un.increment!==0&&(Vr=!1,dn.length||dn.push(1),dn[Math.max(0,dn.length-1)]+=un.increment)});var Xr=[];return Vr&&Nr.forEach(function(un){var dn=pr.counters[un.counter];Xr.push(un.counter),dn||(dn=pr.counters[un.counter]=[]),dn.push(un.reset)}),Xr},hr})(),Fo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Kh={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},CA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},TA={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Ud=function(hr,ur,pr,Ar,Nr,Vr){return hr<ur||hr>pr?Hd(hr,Nr,Vr.length>0):Ar.integers.reduce(function(Xr,un,dn){for(;hr>=un;)hr-=un,Xr+=Ar.values[dn];return Xr},"")+Vr},Gh=function(hr,ur,pr,Ar){var Nr="";do pr||hr--,Nr=Ar(hr)+Nr,hr/=ur;while(hr*ur>=ur);return Nr},Ba=function(hr,ur,pr,Ar,Nr){var Vr=pr-ur+1;return(hr<0?"-":"")+(Gh(Math.abs(hr),Vr,Ar,function(Xr){return Qe(Math.floor(Xr%Vr)+ur)})+Nr)},Nu=function(hr,ur,pr){pr===void 0&&(pr=". ");var Ar=ur.length;return Gh(Math.abs(hr),Ar,!1,function(Nr){return ur[Math.floor(Nr%Ar)]})+pr},$d=1,Du=2,Fu=4,Vd=8,Mc=function(hr,ur,pr,Ar,Nr,Vr){if(hr<-9999||hr>9999)return Hd(hr,4,Nr.length>0);var Xr=Math.abs(hr),un=Nr;if(Xr===0)return ur[0]+un;for(var dn=0;Xr>0&&dn<=4;dn++){var Tn=Xr%10;Tn===0&&ai(Vr,$d)&&un!==""?un=ur[Tn]+un:Tn>1||Tn===1&&dn===0||Tn===1&&dn===1&&ai(Vr,Du)||Tn===1&&dn===1&&ai(Vr,Fu)&&hr>100||Tn===1&&dn>1&&ai(Vr,Vd)?un=ur[Tn]+(dn>0?pr[dn-1]:"")+un:Tn===1&&dn>0&&(un=pr[dn-1]+un),Xr=Math.floor(Xr/10)}return(hr<0?Ar:"")+un},xh="",qh="",yh="",ff="",Hd=function(hr,ur,pr){var Ar=pr?". ":"",Nr=pr?"":"",Vr=pr?", ":"",Xr=pr?" ":"";switch(ur){case 0:return""+Xr;case 1:return""+Xr;case 2:return""+Xr;case 5:var un=Ba(hr,48,57,!0,Ar);return un.length<4?"0"+un:un;case 4:return Nu(hr,"",Nr);case 6:return Ud(hr,1,3999,Fo,3,Ar).toLowerCase();case 7:return Ud(hr,1,3999,Fo,3,Ar);case 8:return Ba(hr,945,969,!1,Ar);case 9:return Ba(hr,97,122,!1,Ar);case 10:return Ba(hr,65,90,!1,Ar);case 11:return Ba(hr,1632,1641,!0,Ar);case 12:case 49:return Ud(hr,1,9999,Kh,3,Ar);case 35:return Ud(hr,1,9999,Kh,3,Ar).toLowerCase();case 13:return Ba(hr,2534,2543,!0,Ar);case 14:case 30:return Ba(hr,6112,6121,!0,Ar);case 15:return Nu(hr,"",Nr);case 16:return Nu(hr,"",Nr);case 17:case 48:return Mc(hr,"",xh,"",Nr,Du|Fu|Vd);case 47:return Mc(hr,"",qh,"",Nr,$d|Du|Fu|Vd);case 42:return Mc(hr,"",xh,"",Nr,Du|Fu|Vd);case 41:return Mc(hr,"",qh,"",Nr,$d|Du|Fu|Vd);case 26:return Mc(hr,"","",yh,Nr,0);case 25:return Mc(hr,"","",yh,Nr,$d|Du|Fu);case 31:return Mc(hr,"","",ff,Vr,$d|Du|Fu);case 33:return Mc(hr,"","",ff,Vr,0);case 32:return Mc(hr,"","",ff,Vr,$d|Du|Fu);case 18:return Ba(hr,2406,2415,!0,Ar);case 20:return Ud(hr,1,19999,TA,3,Ar);case 21:return Ba(hr,2790,2799,!0,Ar);case 22:return Ba(hr,2662,2671,!0,Ar);case 22:return Ud(hr,1,10999,CA,3,Ar);case 23:return Nu(hr,"");case 24:return Nu(hr,"");case 27:return Ba(hr,3302,3311,!0,Ar);case 28:return Nu(hr,"",Nr);case 29:return Nu(hr,"",Nr);case 34:return Ba(hr,3792,3801,!0,Ar);case 37:return Ba(hr,6160,6169,!0,Ar);case 38:return Ba(hr,4160,4169,!0,Ar);case 39:return Ba(hr,2918,2927,!0,Ar);case 40:return Ba(hr,1776,1785,!0,Ar);case 43:return Ba(hr,3046,3055,!0,Ar);case 44:return Ba(hr,3174,3183,!0,Ar);case 45:return Ba(hr,3664,3673,!0,Ar);case 46:return Ba(hr,3872,3881,!0,Ar);case 3:default:return Ba(hr,48,57,!0,Ar)}},Yh="data-html2canvas-ignore",bh=(function(){function hr(ur,pr,Ar){if(this.context=ur,this.options=Ar,this.scrolledElements=[],this.referenceElement=pr,this.counters=new Do,this.quoteDepth=0,!pr.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(pr.ownerDocument.documentElement,!1)}return hr.prototype.toIFrame=function(ur,pr){var Ar=this,Nr=ku(ur,pr);if(!Nr.contentWindow)return Promise.reject("Unable to find iframe window");var Vr=ur.defaultView.pageXOffset,Xr=ur.defaultView.pageYOffset,un=Nr.contentWindow,dn=un.document,Tn=jA(Nr).then(function(){return Fe(Ar,void 0,void 0,function(){var Nn,$n;return ke(this,function(li){switch(li.label){case 0:return this.scrolledElements.forEach(Ua),un&&(un.scrollTo(pr.left,pr.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(un.scrollY!==pr.top||un.scrollX!==pr.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(un.scrollX-pr.left,un.scrollY-pr.top,0,0))),Nn=this.options.onclone,$n=this.clonedReferenceElement,typeof $n>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:dn.fonts&&dn.fonts.ready?[4,dn.fonts.ready]:[3,2];case 1:li.sent(),li.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,tp(dn)]:[3,4];case 3:li.sent(),li.label=4;case 4:return typeof Nn=="function"?[2,Promise.resolve().then(function(){return Nn(dn,$n)}).then(function(){return Nr})]:[2,Nr]}})})});return dn.open(),dn.write(_h(document.doctype)+"<html></html>"),Gf(this.referenceElement.ownerDocument,Vr,Xr),dn.replaceChild(dn.adoptNode(this.documentElement),dn.documentElement),dn.close(),Tn},hr.prototype.createElementClone=function(ur){if(fs(ur,2))debugger;if(Vh(ur))return this.createCanvasClone(ur);if(Hh(ur))return this.createVideoClone(ur);if(Qh(ur))return this.createStyleClone(ur);var pr=ur.cloneNode(!1);return gh(pr)&&(gh(ur)&&ur.currentSrc&&ur.currentSrc!==ur.src&&(pr.src=ur.currentSrc,pr.srcset=""),pr.loading==="lazy"&&(pr.loading="eager")),Wh(pr)?this.createCustomElementClone(pr):pr},hr.prototype.createCustomElementClone=function(ur){var pr=document.createElement("html2canvascustomelement");return wh(ur.style,pr),pr},hr.prototype.createStyleClone=function(ur){try{var pr=ur.sheet;if(pr&&pr.cssRules){var Ar=[].slice.call(pr.cssRules,0).reduce(function(Vr,Xr){return Xr&&typeof Xr.cssText=="string"?Vr+Xr.cssText:Vr},""),Nr=ur.cloneNode(!1);return Nr.textContent=Ar,Nr}}catch(Vr){if(this.context.logger.error("Unable to access cssRules property",Vr),Vr.name!=="SecurityError")throw Vr}return ur.cloneNode(!1)},hr.prototype.createCanvasClone=function(ur){var pr;if(this.options.inlineImages&&ur.ownerDocument){var Ar=ur.ownerDocument.createElement("img");try{return Ar.src=ur.toDataURL(),Ar}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",ur)}}var Nr=ur.cloneNode(!1);try{Nr.width=ur.width,Nr.height=ur.height;var Vr=ur.getContext("2d"),Xr=Nr.getContext("2d");if(Xr)if(!this.options.allowTaint&&Vr)Xr.putImageData(Vr.getImageData(0,0,ur.width,ur.height),0,0);else{var un=(pr=ur.getContext("webgl2"))!==null&&pr!==void 0?pr:ur.getContext("webgl");if(un){var dn=un.getContextAttributes();dn?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",ur)}Xr.drawImage(ur,0,0)}return Nr}catch{this.context.logger.info("Unable to clone canvas as it is tainted",ur)}return Nr},hr.prototype.createVideoClone=function(ur){var pr=ur.ownerDocument.createElement("canvas");pr.width=ur.offsetWidth,pr.height=ur.offsetHeight;var Ar=pr.getContext("2d");try{return Ar&&(Ar.drawImage(ur,0,0,pr.width,pr.height),this.options.allowTaint||Ar.getImageData(0,0,pr.width,pr.height)),pr}catch{this.context.logger.info("Unable to clone video as it is tainted",ur)}var Nr=ur.ownerDocument.createElement("canvas");return Nr.width=ur.offsetWidth,Nr.height=ur.offsetHeight,Nr},hr.prototype.appendChildNode=function(ur,pr,Ar){(!Tl(pr)||!zh(pr)&&!pr.hasAttribute(Yh)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(pr)))&&(!this.options.copyStyles||!Tl(pr)||!Qh(pr))&&ur.appendChild(this.cloneNode(pr,Ar))},hr.prototype.cloneChildNodes=function(ur,pr,Ar){for(var Nr=this,Vr=ur.shadowRoot?ur.shadowRoot.firstChild:ur.firstChild;Vr;Vr=Vr.nextSibling)if(Tl(Vr)&&RA(Vr)&&typeof Vr.assignedNodes=="function"){var Xr=Vr.assignedNodes();Xr.length&&Xr.forEach(function(un){return Nr.appendChildNode(pr,un,Ar)})}else this.appendChildNode(pr,Vr,Ar)},hr.prototype.cloneNode=function(ur,pr){if(Bu(ur))return document.createTextNode(ur.data);if(!ur.ownerDocument)return ur.cloneNode(!1);var Ar=ur.ownerDocument.defaultView;if(Ar&&Tl(ur)&&(Za(ur)||Ld(ur))){var Nr=this.createElementClone(ur);Nr.style.transitionProperty="none";var Vr=Ar.getComputedStyle(ur),Xr=Ar.getComputedStyle(ur,":before"),un=Ar.getComputedStyle(ur,":after");this.referenceElement===ur&&Za(Nr)&&(this.clonedReferenceElement=Nr),df(Nr)&&PA(Nr);var dn=this.counters.parse(new bs(this.context,Vr)),Tn=this.resolvePseudoContent(ur,Nr,Xr,hf.BEFORE);Wh(ur)&&(pr=!0),Hh(ur)||this.cloneChildNodes(ur,Nr,pr),Tn&&Nr.insertBefore(Tn,Nr.firstChild);var Nn=this.resolvePseudoContent(ur,Nr,un,hf.AFTER);return Nn&&Nr.appendChild(Nn),this.counters.pop(dn),(Vr&&(this.options.copyStyles||Ld(ur))&&!zf(ur)||pr)&&wh(Vr,Nr),(ur.scrollTop!==0||ur.scrollLeft!==0)&&this.scrolledElements.push([Nr,ur.scrollLeft,ur.scrollTop]),(Wf(ur)||Kf(ur))&&(Wf(Nr)||Kf(Nr))&&(Nr.value=ur.value),Nr}return ur.cloneNode(!1)},hr.prototype.resolvePseudoContent=function(ur,pr,Ar,Nr){var Vr=this;if(Ar){var Xr=Ar.content,un=pr.ownerDocument;if(!(!un||!Xr||Xr==="none"||Xr==="-moz-alt-content"||Ar.display==="none")){this.counters.parse(new bs(this.context,Ar));var dn=new Ks(this.context,Ar),Tn=un.createElement("html2canvaspseudoelement");wh(Ar,Tn),dn.content.forEach(function($n){if($n.type===0)Tn.appendChild(un.createTextNode($n.value));else if($n.type===22){var li=un.createElement("img");li.src=$n.value,li.style.opacity="1",Tn.appendChild(li)}else if($n.type===18){if($n.name==="attr"){var Qi=$n.values.filter(oi);Qi.length&&Tn.appendChild(un.createTextNode(ur.getAttribute(Qi[0].value)||""))}else if($n.name==="counter"){var Oi=$n.values.filter(Bs),Mi=Oi[0],vs=Oi[1];if(Mi&&oi(Mi)){var Xi=Vr.counters.getCounterValue(Mi.value),qi=vs&&oi(vs)?cc.parse(Vr.context,vs.value):3;Tn.appendChild(un.createTextNode(Hd(Xi,qi,!1)))}}else if($n.name==="counters"){var js=$n.values.filter(Bs),Mi=js[0],xs=js[1],vs=js[2];if(Mi&&oi(Mi)){var cs=Vr.counters.getCounterValues(Mi.value),Wi=vs&&oi(vs)?cc.parse(Vr.context,vs.value):3,Ls=xs&&xs.type===0?xs.value:"",Us=cs.map(function(nl){return Hd(nl,Wi,!1)}).join(Ls);Tn.appendChild(un.createTextNode(Us))}}}else if($n.type===20)switch($n.value){case"open-quote":Tn.appendChild(un.createTextNode(di(dn.quotes,Vr.quoteDepth++,!0)));break;case"close-quote":Tn.appendChild(un.createTextNode(di(dn.quotes,--Vr.quoteDepth,!1)));break;default:Tn.appendChild(un.createTextNode($n.value))}}),Tn.className=Eh+" "+Qd;var Nn=Nr===hf.BEFORE?" "+Eh:" "+Qd;return Ld(pr)?pr.className.baseValue+=Nn:pr.className+=Nn,Tn}}},hr.destroy=function(ur){return ur.parentNode?(ur.parentNode.removeChild(ur),!0):!1},hr})(),hf;(function(hr){hr[hr.BEFORE=0]="BEFORE",hr[hr.AFTER=1]="AFTER"})(hf||(hf={}));var ku=function(hr,ur){var pr=hr.createElement("iframe");return pr.className="html2canvas-container",pr.style.visibility="hidden",pr.style.position="fixed",pr.style.left="-10000px",pr.style.top="0px",pr.style.border="0",pr.width=ur.width.toString(),pr.height=ur.height.toString(),pr.scrolling="no",pr.setAttribute(Yh,"true"),hr.body.appendChild(pr),pr},Xh=function(hr){return new Promise(function(ur){if(hr.complete){ur();return}if(!hr.src){ur();return}hr.onload=ur,hr.onerror=ur})},tp=function(hr){return Promise.all([].slice.call(hr.images,0).map(Xh))},jA=function(hr){return new Promise(function(ur,pr){var Ar=hr.contentWindow;if(!Ar)return pr("No window assigned for iframe");var Nr=Ar.document;Ar.onload=hr.onload=function(){Ar.onload=hr.onload=null;var Vr=setInterval(function(){Nr.body.childNodes.length>0&&Nr.readyState==="complete"&&(clearInterval(Vr),ur(hr))},50)}})},Ou=["all","d","content"],wh=function(hr,ur){for(var pr=hr.length-1;pr>=0;pr--){var Ar=hr.item(pr);Ou.indexOf(Ar)===-1&&ur.style.setProperty(Ar,hr.getPropertyValue(Ar))}return ur},_h=function(hr){var ur="";return hr&&(ur+="<!DOCTYPE ",hr.name&&(ur+=hr.name),hr.internalSubset&&(ur+=hr.internalSubset),hr.publicId&&(ur+='"'+hr.publicId+'"'),hr.systemId&&(ur+='"'+hr.systemId+'"'),ur+=">"),ur},Gf=function(hr,ur,pr){hr&&hr.defaultView&&(ur!==hr.defaultView.pageXOffset||pr!==hr.defaultView.pageYOffset)&&hr.defaultView.scrollTo(ur,pr)},Ua=function(hr){var ur=hr[0],pr=hr[1],Ar=hr[2];ur.scrollLeft=pr,ur.scrollTop=Ar},rp=":before",np=":after",Eh="___html2canvas___pseudoelement_before",Qd="___html2canvas___pseudoelement_after",Mu=`{
    content: "" !important;
    display: none !important;
}`,PA=function(hr){IA(hr,"."+Eh+rp+Mu+`
         .`+Qd+np+Mu)},IA=function(hr,ur){var pr=hr.ownerDocument;if(pr){var Ar=pr.createElement("style");Ar.textContent=ur,hr.appendChild(Ar)}},Af=(function(){function hr(){}return hr.getOrigin=function(ur){var pr=hr._link;return pr?(pr.href=ur,pr.href=pr.href,pr.protocol+pr.hostname+pr.port):"about:blank"},hr.isSameOrigin=function(ur){return hr.getOrigin(ur)===hr._origin},hr.setContext=function(ur){hr._link=ur.document.createElement("a"),hr._origin=hr.getOrigin(ur.location.href)},hr._origin="about:blank",hr})(),au=(function(){function hr(ur,pr){this.context=ur,this._options=pr,this._cache={}}return hr.prototype.addImage=function(ur){var pr=Promise.resolve();return this.has(ur)||(Rh(ur)||Zh(ur))&&(this._cache[ur]=this.loadImage(ur)).catch(function(){}),pr},hr.prototype.match=function(ur){return this._cache[ur]},hr.prototype.loadImage=function(ur){return Fe(this,void 0,void 0,function(){var pr,Ar,Nr,Vr,Xr=this;return ke(this,function(un){switch(un.label){case 0:return pr=Af.isSameOrigin(ur),Ar=!qf(ur)&&this._options.useCORS===!0&&Ja.SUPPORT_CORS_IMAGES&&!pr,Nr=!qf(ur)&&!pr&&!Rh(ur)&&typeof this._options.proxy=="string"&&Ja.SUPPORT_CORS_XHR&&!Ar,!pr&&this._options.allowTaint===!1&&!qf(ur)&&!Rh(ur)&&!Nr&&!Ar?[2]:(Vr=ur,Nr?[4,this.proxy(Vr)]:[3,2]);case 1:Vr=un.sent(),un.label=2;case 2:return this.context.logger.debug("Added image "+ur.substring(0,256)),[4,new Promise(function(dn,Tn){var Nn=new Image;Nn.onload=function(){return dn(Nn)},Nn.onerror=Tn,(Sh(Vr)||Ar)&&(Nn.crossOrigin="anonymous"),Nn.src=Vr,Nn.complete===!0&&setTimeout(function(){return dn(Nn)},500),Xr._options.imageTimeout>0&&setTimeout(function(){return Tn("Timed out ("+Xr._options.imageTimeout+"ms) loading image")},Xr._options.imageTimeout)})];case 3:return[2,un.sent()]}})})},hr.prototype.has=function(ur){return typeof this._cache[ur]<"u"},hr.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},hr.prototype.proxy=function(ur){var pr=this,Ar=this._options.proxy;if(!Ar)throw new Error("No proxy defined");var Nr=ur.substring(0,256);return new Promise(function(Vr,Xr){var un=Ja.SUPPORT_RESPONSE_TYPE?"blob":"text",dn=new XMLHttpRequest;dn.onload=function(){if(dn.status===200)if(un==="text")Vr(dn.response);else{var $n=new FileReader;$n.addEventListener("load",function(){return Vr($n.result)},!1),$n.addEventListener("error",function(li){return Xr(li)},!1),$n.readAsDataURL(dn.response)}else Xr("Failed to proxy resource "+Nr+" with status code "+dn.status)},dn.onerror=Xr;var Tn=Ar.indexOf("?")>-1?"&":"?";if(dn.open("GET",""+Ar+Tn+"url="+encodeURIComponent(ur)+"&responseType="+un),un!=="text"&&dn instanceof XMLHttpRequest&&(dn.responseType=un),pr._options.imageTimeout){var Nn=pr._options.imageTimeout;dn.timeout=Nn,dn.ontimeout=function(){return Xr("Timed out ("+Nn+"ms) proxying "+Nr)}}dn.send()})},hr})(),BA=/^data:image\/svg\+xml/i,Jh=/^data:image\/.*;base64,/i,NA=/^data:image\/.*/i,Zh=function(hr){return Ja.SUPPORT_SVG_DRAWING||!Lu(hr)},qf=function(hr){return NA.test(hr)},Sh=function(hr){return Jh.test(hr)},Rh=function(hr){return hr.substr(0,4)==="blob"},Lu=function(hr){return hr.substr(-3).toLowerCase()==="svg"||BA.test(hr)},Di=(function(){function hr(ur,pr){this.type=0,this.x=ur,this.y=pr}return hr.prototype.add=function(ur,pr){return new hr(this.x+ur,this.y+pr)},hr})(),pd=function(hr,ur,pr){return new Di(hr.x+(ur.x-hr.x)*pr,hr.y+(ur.y-hr.y)*pr)},Yf=(function(){function hr(ur,pr,Ar,Nr){this.type=1,this.start=ur,this.startControl=pr,this.endControl=Ar,this.end=Nr}return hr.prototype.subdivide=function(ur,pr){var Ar=pd(this.start,this.startControl,ur),Nr=pd(this.startControl,this.endControl,ur),Vr=pd(this.endControl,this.end,ur),Xr=pd(Ar,Nr,ur),un=pd(Nr,Vr,ur),dn=pd(Xr,un,ur);return pr?new hr(this.start,Ar,Xr,dn):new hr(dn,un,Vr,this.end)},hr.prototype.add=function(ur,pr){return new hr(this.start.add(ur,pr),this.startControl.add(ur,pr),this.endControl.add(ur,pr),this.end.add(ur,pr))},hr.prototype.reverse=function(){return new hr(this.end,this.endControl,this.startControl,this.start)},hr})(),sa=function(hr){return hr.type===1},ip=(function(){function hr(ur){var pr=ur.styles,Ar=ur.bounds,Nr=ba(pr.borderTopLeftRadius,Ar.width,Ar.height),Vr=Nr[0],Xr=Nr[1],un=ba(pr.borderTopRightRadius,Ar.width,Ar.height),dn=un[0],Tn=un[1],Nn=ba(pr.borderBottomRightRadius,Ar.width,Ar.height),$n=Nn[0],li=Nn[1],Qi=ba(pr.borderBottomLeftRadius,Ar.width,Ar.height),Oi=Qi[0],Mi=Qi[1],vs=[];vs.push((Vr+dn)/Ar.width),vs.push((Oi+$n)/Ar.width),vs.push((Xr+Mi)/Ar.height),vs.push((Tn+li)/Ar.height);var Xi=Math.max.apply(Math,vs);Xi>1&&(Vr/=Xi,Xr/=Xi,dn/=Xi,Tn/=Xi,$n/=Xi,li/=Xi,Oi/=Xi,Mi/=Xi);var qi=Ar.width-dn,js=Ar.height-li,xs=Ar.width-$n,cs=Ar.height-Mi,Wi=pr.borderTopWidth,Ls=pr.borderRightWidth,Us=pr.borderBottomWidth,ps=pr.borderLeftWidth,za=Ms(pr.paddingTop,ur.bounds.width),nl=Ms(pr.paddingRight,ur.bounds.width),Yl=Ms(pr.paddingBottom,ur.bounds.width),ua=Ms(pr.paddingLeft,ur.bounds.width);this.topLeftBorderDoubleOuterBox=Vr>0||Xr>0?Ra(Ar.left+ps/3,Ar.top+Wi/3,Vr-ps/3,Xr-Wi/3,Ys.TOP_LEFT):new Di(Ar.left+ps/3,Ar.top+Wi/3),this.topRightBorderDoubleOuterBox=Vr>0||Xr>0?Ra(Ar.left+qi,Ar.top+Wi/3,dn-Ls/3,Tn-Wi/3,Ys.TOP_RIGHT):new Di(Ar.left+Ar.width-Ls/3,Ar.top+Wi/3),this.bottomRightBorderDoubleOuterBox=$n>0||li>0?Ra(Ar.left+xs,Ar.top+js,$n-Ls/3,li-Us/3,Ys.BOTTOM_RIGHT):new Di(Ar.left+Ar.width-Ls/3,Ar.top+Ar.height-Us/3),this.bottomLeftBorderDoubleOuterBox=Oi>0||Mi>0?Ra(Ar.left+ps/3,Ar.top+cs,Oi-ps/3,Mi-Us/3,Ys.BOTTOM_LEFT):new Di(Ar.left+ps/3,Ar.top+Ar.height-Us/3),this.topLeftBorderDoubleInnerBox=Vr>0||Xr>0?Ra(Ar.left+ps*2/3,Ar.top+Wi*2/3,Vr-ps*2/3,Xr-Wi*2/3,Ys.TOP_LEFT):new Di(Ar.left+ps*2/3,Ar.top+Wi*2/3),this.topRightBorderDoubleInnerBox=Vr>0||Xr>0?Ra(Ar.left+qi,Ar.top+Wi*2/3,dn-Ls*2/3,Tn-Wi*2/3,Ys.TOP_RIGHT):new Di(Ar.left+Ar.width-Ls*2/3,Ar.top+Wi*2/3),this.bottomRightBorderDoubleInnerBox=$n>0||li>0?Ra(Ar.left+xs,Ar.top+js,$n-Ls*2/3,li-Us*2/3,Ys.BOTTOM_RIGHT):new Di(Ar.left+Ar.width-Ls*2/3,Ar.top+Ar.height-Us*2/3),this.bottomLeftBorderDoubleInnerBox=Oi>0||Mi>0?Ra(Ar.left+ps*2/3,Ar.top+cs,Oi-ps*2/3,Mi-Us*2/3,Ys.BOTTOM_LEFT):new Di(Ar.left+ps*2/3,Ar.top+Ar.height-Us*2/3),this.topLeftBorderStroke=Vr>0||Xr>0?Ra(Ar.left+ps/2,Ar.top+Wi/2,Vr-ps/2,Xr-Wi/2,Ys.TOP_LEFT):new Di(Ar.left+ps/2,Ar.top+Wi/2),this.topRightBorderStroke=Vr>0||Xr>0?Ra(Ar.left+qi,Ar.top+Wi/2,dn-Ls/2,Tn-Wi/2,Ys.TOP_RIGHT):new Di(Ar.left+Ar.width-Ls/2,Ar.top+Wi/2),this.bottomRightBorderStroke=$n>0||li>0?Ra(Ar.left+xs,Ar.top+js,$n-Ls/2,li-Us/2,Ys.BOTTOM_RIGHT):new Di(Ar.left+Ar.width-Ls/2,Ar.top+Ar.height-Us/2),this.bottomLeftBorderStroke=Oi>0||Mi>0?Ra(Ar.left+ps/2,Ar.top+cs,Oi-ps/2,Mi-Us/2,Ys.BOTTOM_LEFT):new Di(Ar.left+ps/2,Ar.top+Ar.height-Us/2),this.topLeftBorderBox=Vr>0||Xr>0?Ra(Ar.left,Ar.top,Vr,Xr,Ys.TOP_LEFT):new Di(Ar.left,Ar.top),this.topRightBorderBox=dn>0||Tn>0?Ra(Ar.left+qi,Ar.top,dn,Tn,Ys.TOP_RIGHT):new Di(Ar.left+Ar.width,Ar.top),this.bottomRightBorderBox=$n>0||li>0?Ra(Ar.left+xs,Ar.top+js,$n,li,Ys.BOTTOM_RIGHT):new Di(Ar.left+Ar.width,Ar.top+Ar.height),this.bottomLeftBorderBox=Oi>0||Mi>0?Ra(Ar.left,Ar.top+cs,Oi,Mi,Ys.BOTTOM_LEFT):new Di(Ar.left,Ar.top+Ar.height),this.topLeftPaddingBox=Vr>0||Xr>0?Ra(Ar.left+ps,Ar.top+Wi,Math.max(0,Vr-ps),Math.max(0,Xr-Wi),Ys.TOP_LEFT):new Di(Ar.left+ps,Ar.top+Wi),this.topRightPaddingBox=dn>0||Tn>0?Ra(Ar.left+Math.min(qi,Ar.width-Ls),Ar.top+Wi,qi>Ar.width+Ls?0:Math.max(0,dn-Ls),Math.max(0,Tn-Wi),Ys.TOP_RIGHT):new Di(Ar.left+Ar.width-Ls,Ar.top+Wi),this.bottomRightPaddingBox=$n>0||li>0?Ra(Ar.left+Math.min(xs,Ar.width-ps),Ar.top+Math.min(js,Ar.height-Us),Math.max(0,$n-Ls),Math.max(0,li-Us),Ys.BOTTOM_RIGHT):new Di(Ar.left+Ar.width-Ls,Ar.top+Ar.height-Us),this.bottomLeftPaddingBox=Oi>0||Mi>0?Ra(Ar.left+ps,Ar.top+Math.min(cs,Ar.height-Us),Math.max(0,Oi-ps),Math.max(0,Mi-Us),Ys.BOTTOM_LEFT):new Di(Ar.left+ps,Ar.top+Ar.height-Us),this.topLeftContentBox=Vr>0||Xr>0?Ra(Ar.left+ps+ua,Ar.top+Wi+za,Math.max(0,Vr-(ps+ua)),Math.max(0,Xr-(Wi+za)),Ys.TOP_LEFT):new Di(Ar.left+ps+ua,Ar.top+Wi+za),this.topRightContentBox=dn>0||Tn>0?Ra(Ar.left+Math.min(qi,Ar.width+ps+ua),Ar.top+Wi+za,qi>Ar.width+ps+ua?0:dn-ps+ua,Tn-(Wi+za),Ys.TOP_RIGHT):new Di(Ar.left+Ar.width-(Ls+nl),Ar.top+Wi+za),this.bottomRightContentBox=$n>0||li>0?Ra(Ar.left+Math.min(xs,Ar.width-(ps+ua)),Ar.top+Math.min(js,Ar.height+Wi+za),Math.max(0,$n-(Ls+nl)),li-(Us+Yl),Ys.BOTTOM_RIGHT):new Di(Ar.left+Ar.width-(Ls+nl),Ar.top+Ar.height-(Us+Yl)),this.bottomLeftContentBox=Oi>0||Mi>0?Ra(Ar.left+ps+ua,Ar.top+cs,Math.max(0,Oi-(ps+ua)),Mi-(Us+Yl),Ys.BOTTOM_LEFT):new Di(Ar.left+ps+ua,Ar.top+Ar.height-(Us+Yl))}return hr})(),Ys;(function(hr){hr[hr.TOP_LEFT=0]="TOP_LEFT",hr[hr.TOP_RIGHT=1]="TOP_RIGHT",hr[hr.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",hr[hr.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(Ys||(Ys={}));var Ra=function(hr,ur,pr,Ar,Nr){var Vr=4*((Math.sqrt(2)-1)/3),Xr=pr*Vr,un=Ar*Vr,dn=hr+pr,Tn=ur+Ar;switch(Nr){case Ys.TOP_LEFT:return new Yf(new Di(hr,Tn),new Di(hr,Tn-un),new Di(dn-Xr,ur),new Di(dn,ur));case Ys.TOP_RIGHT:return new Yf(new Di(hr,ur),new Di(hr+Xr,ur),new Di(dn,Tn-un),new Di(dn,Tn));case Ys.BOTTOM_RIGHT:return new Yf(new Di(dn,ur),new Di(dn,ur+un),new Di(hr+Xr,Tn),new Di(hr,Tn));case Ys.BOTTOM_LEFT:default:return new Yf(new Di(dn,Tn),new Di(dn-Xr,Tn),new Di(hr,ur+un),new Di(hr,ur))}},fa=function(hr){return[hr.topLeftBorderBox,hr.topRightBorderBox,hr.bottomRightBorderBox,hr.bottomLeftBorderBox]},jl=function(hr){return[hr.topLeftContentBox,hr.topRightContentBox,hr.bottomRightContentBox,hr.bottomLeftContentBox]},hc=function(hr){return[hr.topLeftPaddingBox,hr.topRightPaddingBox,hr.bottomRightPaddingBox,hr.bottomLeftPaddingBox]},DA=(function(){function hr(ur,pr,Ar){this.offsetX=ur,this.offsetY=pr,this.matrix=Ar,this.type=0,this.target=6}return hr})(),Xf=(function(){function hr(ur,pr){this.path=ur,this.target=pr,this.type=1}return hr})(),sp=(function(){function hr(ur){this.opacity=ur,this.type=2,this.target=6}return hr})(),eA=function(hr){return hr.type===0},Pl=function(hr){return hr.type===1},Lc=function(hr){return hr.type===2},tA=function(hr,ur){return hr.length===ur.length?hr.some(function(pr,Ar){return pr===ur[Ar]}):!1},Gl=function(hr,ur,pr,Ar,Nr){return hr.map(function(Vr,Xr){switch(Xr){case 0:return Vr.add(ur,pr);case 1:return Vr.add(ur+Ar,pr);case 2:return Vr.add(ur+Ar,pr+Nr);case 3:return Vr.add(ur,pr+Nr)}return Vr})},rA=(function(){function hr(ur){this.element=ur,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return hr})(),Uu=(function(){function hr(ur,pr){if(this.container=ur,this.parent=pr,this.effects=[],this.curves=new ip(this.container),this.container.styles.opacity<1&&this.effects.push(new sp(this.container.styles.opacity)),this.container.styles.transform!==null){var Ar=this.container.bounds.left+this.container.styles.transformOrigin[0].number,Nr=this.container.bounds.top+this.container.styles.transformOrigin[1].number,Vr=this.container.styles.transform;this.effects.push(new DA(Ar,Nr,Vr))}if(this.container.styles.overflowX!==0){var Xr=fa(this.curves),un=hc(this.curves);tA(Xr,un)?this.effects.push(new Xf(Xr,6)):(this.effects.push(new Xf(Xr,2)),this.effects.push(new Xf(un,4)))}}return hr.prototype.getEffects=function(ur){for(var pr=[2,3].indexOf(this.container.styles.position)===-1,Ar=this.parent,Nr=this.effects.slice(0);Ar;){var Vr=Ar.effects.filter(function(dn){return!Pl(dn)});if(pr||Ar.container.styles.position!==0||!Ar.parent){if(Nr.unshift.apply(Nr,Vr),pr=[2,3].indexOf(Ar.container.styles.position)===-1,Ar.container.styles.overflowX!==0){var Xr=fa(Ar.curves),un=hc(Ar.curves);tA(Xr,un)||Nr.unshift(new Xf(un,6))}}else Nr.unshift.apply(Nr,Vr);Ar=Ar.parent}return Nr.filter(function(dn){return ai(dn.target,ur)})},hr})(),$u=function(hr,ur,pr,Ar){hr.container.elements.forEach(function(Nr){var Vr=ai(Nr.flags,4),Xr=ai(Nr.flags,2),un=new Uu(Nr,hr);ai(Nr.styles.display,2048)&&Ar.push(un);var dn=ai(Nr.flags,8)?[]:Ar;if(Vr||Xr){var Tn=Vr||Nr.styles.isPositioned()?pr:ur,Nn=new rA(un);if(Nr.styles.isPositioned()||Nr.styles.opacity<1||Nr.styles.isTransformed()){var $n=Nr.styles.zIndex.order;if($n<0){var li=0;Tn.negativeZIndex.some(function(Oi,Mi){return $n>Oi.element.container.styles.zIndex.order?(li=Mi,!1):li>0}),Tn.negativeZIndex.splice(li,0,Nn)}else if($n>0){var Qi=0;Tn.positiveZIndex.some(function(Oi,Mi){return $n>=Oi.element.container.styles.zIndex.order?(Qi=Mi+1,!1):Qi>0}),Tn.positiveZIndex.splice(Qi,0,Nn)}else Tn.zeroOrAutoZIndexOrTransformedOrOpacity.push(Nn)}else Nr.styles.isFloating()?Tn.nonPositionedFloats.push(Nn):Tn.nonPositionedInlineLevel.push(Nn);$u(un,Nn,Vr?Nn:pr,dn)}else Nr.styles.isInlineLevel()?ur.inlineLevel.push(un):ur.nonInlineLevel.push(un),$u(un,ur,pr,dn);ai(Nr.flags,8)&&Vu(Nr,dn)})},Vu=function(hr,ur){for(var pr=hr instanceof Ah?hr.start:1,Ar=hr instanceof Ah?hr.reversed:!1,Nr=0;Nr<ur.length;Nr++){var Vr=ur[Nr];Vr.container instanceof Uf&&typeof Vr.container.value=="number"&&Vr.container.value!==0&&(pr=Vr.container.value),Vr.listValue=Hd(pr,Vr.container.styles.listStyleType,!0),pr+=Ar?-1:1}},nA=function(hr){var ur=new Uu(hr,null),pr=new rA(ur),Ar=[];return $u(ur,pr,pr,Ar),Vu(ur.container,Ar),pr},Ch=function(hr,ur){switch(ur){case 0:return rl(hr.topLeftBorderBox,hr.topLeftPaddingBox,hr.topRightBorderBox,hr.topRightPaddingBox);case 1:return rl(hr.topRightBorderBox,hr.topRightPaddingBox,hr.bottomRightBorderBox,hr.bottomRightPaddingBox);case 2:return rl(hr.bottomRightBorderBox,hr.bottomRightPaddingBox,hr.bottomLeftBorderBox,hr.bottomLeftPaddingBox);case 3:default:return rl(hr.bottomLeftBorderBox,hr.bottomLeftPaddingBox,hr.topLeftBorderBox,hr.topLeftPaddingBox)}},ou=function(hr,ur){switch(ur){case 0:return rl(hr.topLeftBorderBox,hr.topLeftBorderDoubleOuterBox,hr.topRightBorderBox,hr.topRightBorderDoubleOuterBox);case 1:return rl(hr.topRightBorderBox,hr.topRightBorderDoubleOuterBox,hr.bottomRightBorderBox,hr.bottomRightBorderDoubleOuterBox);case 2:return rl(hr.bottomRightBorderBox,hr.bottomRightBorderDoubleOuterBox,hr.bottomLeftBorderBox,hr.bottomLeftBorderDoubleOuterBox);case 3:default:return rl(hr.bottomLeftBorderBox,hr.bottomLeftBorderDoubleOuterBox,hr.topLeftBorderBox,hr.topLeftBorderDoubleOuterBox)}},FA=function(hr,ur){switch(ur){case 0:return rl(hr.topLeftBorderDoubleInnerBox,hr.topLeftPaddingBox,hr.topRightBorderDoubleInnerBox,hr.topRightPaddingBox);case 1:return rl(hr.topRightBorderDoubleInnerBox,hr.topRightPaddingBox,hr.bottomRightBorderDoubleInnerBox,hr.bottomRightPaddingBox);case 2:return rl(hr.bottomRightBorderDoubleInnerBox,hr.bottomRightPaddingBox,hr.bottomLeftBorderDoubleInnerBox,hr.bottomLeftPaddingBox);case 3:default:return rl(hr.bottomLeftBorderDoubleInnerBox,hr.bottomLeftPaddingBox,hr.topLeftBorderDoubleInnerBox,hr.topLeftPaddingBox)}},pf=function(hr,ur){switch(ur){case 0:return md(hr.topLeftBorderStroke,hr.topRightBorderStroke);case 1:return md(hr.topRightBorderStroke,hr.bottomRightBorderStroke);case 2:return md(hr.bottomRightBorderStroke,hr.bottomLeftBorderStroke);case 3:default:return md(hr.bottomLeftBorderStroke,hr.topLeftBorderStroke)}},md=function(hr,ur){var pr=[];return sa(hr)?pr.push(hr.subdivide(.5,!1)):pr.push(hr),sa(ur)?pr.push(ur.subdivide(.5,!0)):pr.push(ur),pr},rl=function(hr,ur,pr,Ar){var Nr=[];return sa(hr)?Nr.push(hr.subdivide(.5,!1)):Nr.push(hr),sa(pr)?Nr.push(pr.subdivide(.5,!0)):Nr.push(pr),sa(Ar)?Nr.push(Ar.subdivide(.5,!0).reverse()):Nr.push(Ar),sa(ur)?Nr.push(ur.subdivide(.5,!1).reverse()):Nr.push(ur),Nr},zd=function(hr){var ur=hr.bounds,pr=hr.styles;return ur.add(pr.borderLeftWidth,pr.borderTopWidth,-(pr.borderRightWidth+pr.borderLeftWidth),-(pr.borderTopWidth+pr.borderBottomWidth))},Jf=function(hr){var ur=hr.styles,pr=hr.bounds,Ar=Ms(ur.paddingLeft,pr.width),Nr=Ms(ur.paddingRight,pr.width),Vr=Ms(ur.paddingTop,pr.width),Xr=Ms(ur.paddingBottom,pr.width);return pr.add(Ar+ur.borderLeftWidth,Vr+ur.borderTopWidth,-(ur.borderRightWidth+ur.borderLeftWidth+Ar+Nr),-(ur.borderTopWidth+ur.borderBottomWidth+Vr+Xr))},kA=function(hr,ur){return hr===0?ur.bounds:hr===2?Jf(ur):zd(ur)},Zf=function(hr,ur){return hr===0?ur.bounds:hr===2?Jf(ur):zd(ur)},Th=function(hr,ur,pr){var Ar=kA(mf(hr.styles.backgroundOrigin,ur),hr),Nr=Zf(mf(hr.styles.backgroundClip,ur),hr),Vr=ap(mf(hr.styles.backgroundSize,ur),pr,Ar),Xr=Vr[0],un=Vr[1],dn=ba(mf(hr.styles.backgroundPosition,ur),Ar.width-Xr,Ar.height-un),Tn=aa(mf(hr.styles.backgroundRepeat,ur),dn,Vr,Ar,Nr),Nn=Math.round(Ar.left+dn[0]),$n=Math.round(Ar.top+dn[1]);return[Tn,Nn,$n,Xr,un]},Hu=function(hr){return oi(hr)&&hr.value===Uo.AUTO},eh=function(hr){return typeof hr=="number"},ap=function(hr,ur,pr){var Ar=ur[0],Nr=ur[1],Vr=ur[2],Xr=hr[0],un=hr[1];if(!Xr)return[0,0];if(Os(Xr)&&un&&Os(un))return[Ms(Xr,pr.width),Ms(un,pr.height)];var dn=eh(Vr);if(oi(Xr)&&(Xr.value===Uo.CONTAIN||Xr.value===Uo.COVER)){if(eh(Vr)){var Tn=pr.width/pr.height;return Tn<Vr!=(Xr.value===Uo.COVER)?[pr.width,pr.width/Vr]:[pr.height*Vr,pr.height]}return[pr.width,pr.height]}var Nn=eh(Ar),$n=eh(Nr),li=Nn||$n;if(Hu(Xr)&&(!un||Hu(un))){if(Nn&&$n)return[Ar,Nr];if(!dn&&!li)return[pr.width,pr.height];if(li&&dn){var Qi=Nn?Ar:Nr*Vr,Oi=$n?Nr:Ar/Vr;return[Qi,Oi]}var Mi=Nn?Ar:pr.width,vs=$n?Nr:pr.height;return[Mi,vs]}if(dn){var Xi=0,qi=0;return Os(Xr)?Xi=Ms(Xr,pr.width):Os(un)&&(qi=Ms(un,pr.height)),Hu(Xr)?Xi=qi*Vr:(!un||Hu(un))&&(qi=Xi/Vr),[Xi,qi]}var js=null,xs=null;if(Os(Xr)?js=Ms(Xr,pr.width):un&&Os(un)&&(xs=Ms(un,pr.height)),js!==null&&(!un||Hu(un))&&(xs=Nn&&$n?js/Ar*Nr:pr.height),xs!==null&&Hu(Xr)&&(js=Nn&&$n?xs/Nr*Ar:pr.width),js!==null&&xs!==null)return[js,xs];throw new Error("Unable to calculate background-size for element")},mf=function(hr,ur){var pr=hr[ur];return typeof pr>"u"?hr[0]:pr},aa=function(hr,ur,pr,Ar,Nr){var Vr=ur[0],Xr=ur[1],un=pr[0],dn=pr[1];switch(hr){case 2:return[new Di(Math.round(Ar.left),Math.round(Ar.top+Xr)),new Di(Math.round(Ar.left+Ar.width),Math.round(Ar.top+Xr)),new Di(Math.round(Ar.left+Ar.width),Math.round(dn+Ar.top+Xr)),new Di(Math.round(Ar.left),Math.round(dn+Ar.top+Xr))];case 3:return[new Di(Math.round(Ar.left+Vr),Math.round(Ar.top)),new Di(Math.round(Ar.left+Vr+un),Math.round(Ar.top)),new Di(Math.round(Ar.left+Vr+un),Math.round(Ar.height+Ar.top)),new Di(Math.round(Ar.left+Vr),Math.round(Ar.height+Ar.top))];case 1:return[new Di(Math.round(Ar.left+Vr),Math.round(Ar.top+Xr)),new Di(Math.round(Ar.left+Vr+un),Math.round(Ar.top+Xr)),new Di(Math.round(Ar.left+Vr+un),Math.round(Ar.top+Xr+dn)),new Di(Math.round(Ar.left+Vr),Math.round(Ar.top+Xr+dn))];default:return[new Di(Math.round(Nr.left),Math.round(Nr.top)),new Di(Math.round(Nr.left+Nr.width),Math.round(Nr.top)),new Di(Math.round(Nr.left+Nr.width),Math.round(Nr.height+Nr.top)),new Di(Math.round(Nr.left),Math.round(Nr.height+Nr.top))]}},ga="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Is="Hidden Text",Hs=(function(){function hr(ur){this._data={},this._document=ur}return hr.prototype.parseMetrics=function(ur,pr){var Ar=this._document.createElement("div"),Nr=this._document.createElement("img"),Vr=this._document.createElement("span"),Xr=this._document.body;Ar.style.visibility="hidden",Ar.style.fontFamily=ur,Ar.style.fontSize=pr,Ar.style.margin="0",Ar.style.padding="0",Ar.style.whiteSpace="nowrap",Xr.appendChild(Ar),Nr.src=ga,Nr.width=1,Nr.height=1,Nr.style.margin="0",Nr.style.padding="0",Nr.style.verticalAlign="baseline",Vr.style.fontFamily=ur,Vr.style.fontSize=pr,Vr.style.margin="0",Vr.style.padding="0",Vr.appendChild(this._document.createTextNode(Is)),Ar.appendChild(Vr),Ar.appendChild(Nr);var un=Nr.offsetTop-Vr.offsetTop+2;Ar.removeChild(Vr),Ar.appendChild(this._document.createTextNode(Is)),Ar.style.lineHeight="normal",Nr.style.verticalAlign="super";var dn=Nr.offsetTop-Ar.offsetTop+2;return Xr.removeChild(Ar),{baseline:un,middle:dn}},hr.prototype.getMetrics=function(ur,pr){var Ar=ur+" "+pr;return typeof this._data[Ar]>"u"&&(this._data[Ar]=this.parseMetrics(ur,pr)),this._data[Ar]},hr})(),ea=(function(){function hr(ur,pr){this.context=ur,this.options=pr}return hr})(),ql=1e4,gd=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr._activeEffects=[],Nr.canvas=Ar.canvas?Ar.canvas:document.createElement("canvas"),Nr.ctx=Nr.canvas.getContext("2d"),Ar.canvas||(Nr.canvas.width=Math.floor(Ar.width*Ar.scale),Nr.canvas.height=Math.floor(Ar.height*Ar.scale),Nr.canvas.style.width=Ar.width+"px",Nr.canvas.style.height=Ar.height+"px"),Nr.fontMetrics=new Hs(document),Nr.ctx.scale(Nr.options.scale,Nr.options.scale),Nr.ctx.translate(-Ar.x,-Ar.y),Nr.ctx.textBaseline="bottom",Nr._activeEffects=[],Nr.context.logger.debug("Canvas renderer initialized ("+Ar.width+"x"+Ar.height+") with scale "+Ar.scale),Nr}return ur.prototype.applyEffects=function(pr){for(var Ar=this;this._activeEffects.length;)this.popEffect();pr.forEach(function(Nr){return Ar.applyEffect(Nr)})},ur.prototype.applyEffect=function(pr){this.ctx.save(),Lc(pr)&&(this.ctx.globalAlpha=pr.opacity),eA(pr)&&(this.ctx.translate(pr.offsetX,pr.offsetY),this.ctx.transform(pr.matrix[0],pr.matrix[1],pr.matrix[2],pr.matrix[3],pr.matrix[4],pr.matrix[5]),this.ctx.translate(-pr.offsetX,-pr.offsetY)),Pl(pr)&&(this.path(pr.path),this.ctx.clip()),this._activeEffects.push(pr)},ur.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},ur.prototype.renderStack=function(pr){return Fe(this,void 0,void 0,function(){var Ar;return ke(this,function(Nr){switch(Nr.label){case 0:return Ar=pr.element.container.styles,Ar.isVisible()?[4,this.renderStackContent(pr)]:[3,2];case 1:Nr.sent(),Nr.label=2;case 2:return[2]}})})},ur.prototype.renderNode=function(pr){return Fe(this,void 0,void 0,function(){return ke(this,function(Ar){switch(Ar.label){case 0:if(ai(pr.container.flags,16))debugger;return pr.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(pr)]:[3,3];case 1:return Ar.sent(),[4,this.renderNodeContent(pr)];case 2:Ar.sent(),Ar.label=3;case 3:return[2]}})})},ur.prototype.renderTextWithLetterSpacing=function(pr,Ar,Nr){var Vr=this;if(Ar===0)this.ctx.fillText(pr.text,pr.bounds.left,pr.bounds.top+Nr);else{var Xr=Wl(pr.text);Xr.reduce(function(un,dn){return Vr.ctx.fillText(dn,un,pr.bounds.top+Nr),un+Vr.ctx.measureText(dn).width},pr.bounds.left)}},ur.prototype.createFontStyle=function(pr){var Ar=pr.fontVariant.filter(function(Xr){return Xr==="normal"||Xr==="small-caps"}).join(""),Nr=xd(pr.fontFamily).join(", "),Vr=In(pr.fontSize)?""+pr.fontSize.number+pr.fontSize.unit:pr.fontSize.number+"px";return[[pr.fontStyle,Ar,pr.fontWeight,Vr,Nr].join(" "),Nr,Vr]},ur.prototype.renderTextNode=function(pr,Ar){return Fe(this,void 0,void 0,function(){var Nr,Vr,Xr,un,dn,Tn,Nn,$n,li=this;return ke(this,function(Qi){return Nr=this.createFontStyle(Ar),Vr=Nr[0],Xr=Nr[1],un=Nr[2],this.ctx.font=Vr,this.ctx.direction=Ar.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",dn=this.fontMetrics.getMetrics(Xr,un),Tn=dn.baseline,Nn=dn.middle,$n=Ar.paintOrder,pr.textBounds.forEach(function(Oi){$n.forEach(function(Mi){switch(Mi){case 0:li.ctx.fillStyle=Ta(Ar.color),li.renderTextWithLetterSpacing(Oi,Ar.letterSpacing,Tn);var vs=Ar.textShadow;vs.length&&Oi.text.trim().length&&(vs.slice(0).reverse().forEach(function(Xi){li.ctx.shadowColor=Ta(Xi.color),li.ctx.shadowOffsetX=Xi.offsetX.number*li.options.scale,li.ctx.shadowOffsetY=Xi.offsetY.number*li.options.scale,li.ctx.shadowBlur=Xi.blur.number,li.renderTextWithLetterSpacing(Oi,Ar.letterSpacing,Tn)}),li.ctx.shadowColor="",li.ctx.shadowOffsetX=0,li.ctx.shadowOffsetY=0,li.ctx.shadowBlur=0),Ar.textDecorationLine.length&&(li.ctx.fillStyle=Ta(Ar.textDecorationColor||Ar.color),Ar.textDecorationLine.forEach(function(Xi){switch(Xi){case 1:li.ctx.fillRect(Oi.bounds.left,Math.round(Oi.bounds.top+Tn),Oi.bounds.width,1);break;case 2:li.ctx.fillRect(Oi.bounds.left,Math.round(Oi.bounds.top),Oi.bounds.width,1);break;case 3:li.ctx.fillRect(Oi.bounds.left,Math.ceil(Oi.bounds.top+Nn),Oi.bounds.width,1);break}}));break;case 1:Ar.webkitTextStrokeWidth&&Oi.text.trim().length&&(li.ctx.strokeStyle=Ta(Ar.webkitTextStrokeColor),li.ctx.lineWidth=Ar.webkitTextStrokeWidth,li.ctx.lineJoin=window.chrome?"miter":"round",li.ctx.strokeText(Oi.text,Oi.bounds.left,Oi.bounds.top+Tn)),li.ctx.strokeStyle="",li.ctx.lineWidth=0,li.ctx.lineJoin="miter";break}})}),[2]})})},ur.prototype.renderReplacedElement=function(pr,Ar,Nr){if(Nr&&pr.intrinsicWidth>0&&pr.intrinsicHeight>0){var Vr=Jf(pr),Xr=hc(Ar);this.path(Xr),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(Nr,0,0,pr.intrinsicWidth,pr.intrinsicHeight,Vr.left,Vr.top,Vr.width,Vr.height),this.ctx.restore()}},ur.prototype.renderNodeContent=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Nr,Vr,Xr,un,dn,qi,qi,Tn,Nn,$n,li,xs,Qi,Oi,cs,Mi,vs,Xi,qi,js,xs,cs;return ke(this,function(Wi){switch(Wi.label){case 0:this.applyEffects(pr.getEffects(4)),Ar=pr.container,Nr=pr.curves,Vr=Ar.styles,Xr=0,un=Ar.textNodes,Wi.label=1;case 1:return Xr<un.length?(dn=un[Xr],[4,this.renderTextNode(dn,Vr)]):[3,4];case 2:Wi.sent(),Wi.label=3;case 3:return Xr++,[3,1];case 4:if(!(Ar instanceof Oh))return[3,8];Wi.label=5;case 5:return Wi.trys.push([5,7,,8]),[4,this.context.cache.match(Ar.src)];case 6:return qi=Wi.sent(),this.renderReplacedElement(Ar,Nr,qi),[3,8];case 7:return Wi.sent(),this.context.logger.error("Error loading image "+Ar.src),[3,8];case 8:if(Ar instanceof cf&&this.renderReplacedElement(Ar,Nr,Ar.canvas),!(Ar instanceof hh))return[3,12];Wi.label=9;case 9:return Wi.trys.push([9,11,,12]),[4,this.context.cache.match(Ar.svg)];case 10:return qi=Wi.sent(),this.renderReplacedElement(Ar,Nr,qi),[3,12];case 11:return Wi.sent(),this.context.logger.error("Error loading svg "+Ar.svg.substring(0,255)),[3,12];case 12:return Ar instanceof Lh&&Ar.tree?(Tn=new ur(this.context,{scale:this.options.scale,backgroundColor:Ar.backgroundColor,x:0,y:0,width:Ar.width,height:Ar.height}),[4,Tn.render(Ar.tree)]):[3,14];case 13:Nn=Wi.sent(),Ar.width&&Ar.height&&this.ctx.drawImage(Nn,0,0,Ar.width,Ar.height,Ar.bounds.left,Ar.bounds.top,Ar.bounds.width,Ar.bounds.height),Wi.label=14;case 14:if(Ar instanceof Md&&($n=Math.min(Ar.bounds.width,Ar.bounds.height),Ar.type===mh?Ar.checked&&(this.ctx.save(),this.path([new Di(Ar.bounds.left+$n*.39363,Ar.bounds.top+$n*.79),new Di(Ar.bounds.left+$n*.16,Ar.bounds.top+$n*.5549),new Di(Ar.bounds.left+$n*.27347,Ar.bounds.top+$n*.44071),new Di(Ar.bounds.left+$n*.39694,Ar.bounds.top+$n*.5649),new Di(Ar.bounds.left+$n*.72983,Ar.bounds.top+$n*.23),new Di(Ar.bounds.left+$n*.84,Ar.bounds.top+$n*.34085),new Di(Ar.bounds.left+$n*.39363,Ar.bounds.top+$n*.79)]),this.ctx.fillStyle=Ta(Vf),this.ctx.fill(),this.ctx.restore()):Ar.type===Iu&&Ar.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(Ar.bounds.left+$n/2,Ar.bounds.top+$n/2,$n/4,0,Math.PI*2,!0),this.ctx.fillStyle=Ta(Vf),this.ctx.fill(),this.ctx.restore())),gf(Ar)&&Ar.value.length){switch(li=this.createFontStyle(Vr),xs=li[0],Qi=li[1],Oi=this.fontMetrics.getMetrics(xs,Qi).baseline,this.ctx.font=xs,this.ctx.fillStyle=Ta(Vr.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Qu(Ar.styles.textAlign),cs=Jf(Ar),Mi=0,Ar.styles.textAlign){case 1:Mi+=cs.width/2;break;case 2:Mi+=cs.width;break}vs=cs.add(Mi,0,0,-cs.height/2+1),this.ctx.save(),this.path([new Di(cs.left,cs.top),new Di(cs.left+cs.width,cs.top),new Di(cs.left+cs.width,cs.top+cs.height),new Di(cs.left,cs.top+cs.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ud(Ar.value,vs),Vr.letterSpacing,Oi),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ai(Ar.styles.display,2048))return[3,20];if(Ar.styles.listStyleImage===null)return[3,19];if(Xi=Ar.styles.listStyleImage,Xi.type!==0)return[3,18];qi=void 0,js=Xi.url,Wi.label=15;case 15:return Wi.trys.push([15,17,,18]),[4,this.context.cache.match(js)];case 16:return qi=Wi.sent(),this.ctx.drawImage(qi,Ar.bounds.left-(qi.width+10),Ar.bounds.top),[3,18];case 17:return Wi.sent(),this.context.logger.error("Error loading list-style-image "+js),[3,18];case 18:return[3,20];case 19:pr.listValue&&Ar.styles.listStyleType!==-1&&(xs=this.createFontStyle(Vr)[0],this.ctx.font=xs,this.ctx.fillStyle=Ta(Vr.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",cs=new Me(Ar.bounds.left,Ar.bounds.top+Ms(Ar.styles.paddingTop,Ar.bounds.width),Ar.bounds.width,$l(Vr.lineHeight,Vr.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ud(pr.listValue,cs),Vr.letterSpacing,$l(Vr.lineHeight,Vr.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),Wi.label=20;case 20:return[2]}})})},ur.prototype.renderStackContent=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Nr,Xi,Vr,Xr,Xi,un,dn,Xi,Tn,Nn,Xi,$n,li,Xi,Qi,Oi,Xi,Mi,vs,Xi;return ke(this,function(qi){switch(qi.label){case 0:if(ai(pr.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(pr.element)];case 1:qi.sent(),Ar=0,Nr=pr.negativeZIndex,qi.label=2;case 2:return Ar<Nr.length?(Xi=Nr[Ar],[4,this.renderStack(Xi)]):[3,5];case 3:qi.sent(),qi.label=4;case 4:return Ar++,[3,2];case 5:return[4,this.renderNodeContent(pr.element)];case 6:qi.sent(),Vr=0,Xr=pr.nonInlineLevel,qi.label=7;case 7:return Vr<Xr.length?(Xi=Xr[Vr],[4,this.renderNode(Xi)]):[3,10];case 8:qi.sent(),qi.label=9;case 9:return Vr++,[3,7];case 10:un=0,dn=pr.nonPositionedFloats,qi.label=11;case 11:return un<dn.length?(Xi=dn[un],[4,this.renderStack(Xi)]):[3,14];case 12:qi.sent(),qi.label=13;case 13:return un++,[3,11];case 14:Tn=0,Nn=pr.nonPositionedInlineLevel,qi.label=15;case 15:return Tn<Nn.length?(Xi=Nn[Tn],[4,this.renderStack(Xi)]):[3,18];case 16:qi.sent(),qi.label=17;case 17:return Tn++,[3,15];case 18:$n=0,li=pr.inlineLevel,qi.label=19;case 19:return $n<li.length?(Xi=li[$n],[4,this.renderNode(Xi)]):[3,22];case 20:qi.sent(),qi.label=21;case 21:return $n++,[3,19];case 22:Qi=0,Oi=pr.zeroOrAutoZIndexOrTransformedOrOpacity,qi.label=23;case 23:return Qi<Oi.length?(Xi=Oi[Qi],[4,this.renderStack(Xi)]):[3,26];case 24:qi.sent(),qi.label=25;case 25:return Qi++,[3,23];case 26:Mi=0,vs=pr.positiveZIndex,qi.label=27;case 27:return Mi<vs.length?(Xi=vs[Mi],[4,this.renderStack(Xi)]):[3,30];case 28:qi.sent(),qi.label=29;case 29:return Mi++,[3,27];case 30:return[2]}})})},ur.prototype.mask=function(pr){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(pr.slice(0).reverse()),this.ctx.closePath()},ur.prototype.path=function(pr){this.ctx.beginPath(),this.formatPath(pr),this.ctx.closePath()},ur.prototype.formatPath=function(pr){var Ar=this;pr.forEach(function(Nr,Vr){var Xr=sa(Nr)?Nr.start:Nr;Vr===0?Ar.ctx.moveTo(Xr.x,Xr.y):Ar.ctx.lineTo(Xr.x,Xr.y),sa(Nr)&&Ar.ctx.bezierCurveTo(Nr.startControl.x,Nr.startControl.y,Nr.endControl.x,Nr.endControl.y,Nr.end.x,Nr.end.y)})},ur.prototype.renderRepeat=function(pr,Ar,Nr,Vr){this.path(pr),this.ctx.fillStyle=Ar,this.ctx.translate(Nr,Vr),this.ctx.fill(),this.ctx.translate(-Nr,-Vr)},ur.prototype.resizeImage=function(pr,Ar,Nr){var Vr;if(pr.width===Ar&&pr.height===Nr)return pr;var Xr=(Vr=this.canvas.ownerDocument)!==null&&Vr!==void 0?Vr:document,un=Xr.createElement("canvas");un.width=Math.max(1,Ar),un.height=Math.max(1,Nr);var dn=un.getContext("2d");return dn.drawImage(pr,0,0,pr.width,pr.height,0,0,Ar,Nr),un},ur.prototype.renderBackgroundImage=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Nr,Vr,Xr,un,dn;return ke(this,function(Tn){switch(Tn.label){case 0:Ar=pr.styles.backgroundImage.length-1,Nr=function(Nn){var $n,li,Qi,za,ul,bo,ua,Ho,Us,Oi,za,ul,bo,ua,Ho,Mi,vs,Xi,qi,js,xs,cs,Wi,Ls,Us,ps,za,nl,Yl,ua,Ho,zu,ul,bo,lu,Uc,Wu,vd,yd,cu,bd,pc;return ke(this,function(Kd){switch(Kd.label){case 0:if(Nn.type!==0)return[3,5];$n=void 0,li=Nn.url,Kd.label=1;case 1:return Kd.trys.push([1,3,,4]),[4,Vr.context.cache.match(li)];case 2:return $n=Kd.sent(),[3,4];case 3:return Kd.sent(),Vr.context.logger.error("Error loading background-image "+li),[3,4];case 4:return $n&&(Qi=Th(pr,Ar,[$n.width,$n.height,$n.width/$n.height]),za=Qi[0],ul=Qi[1],bo=Qi[2],ua=Qi[3],Ho=Qi[4],Us=Vr.ctx.createPattern(Vr.resizeImage($n,ua,Ho),"repeat"),Vr.renderRepeat(za,Us,ul,bo)),[3,6];case 5:_l(Nn)?(Oi=Th(pr,Ar,[null,null,null]),za=Oi[0],ul=Oi[1],bo=Oi[2],ua=Oi[3],Ho=Oi[4],Mi=Au(Nn.angle,ua,Ho),vs=Mi[0],Xi=Mi[1],qi=Mi[2],js=Mi[3],xs=Mi[4],cs=document.createElement("canvas"),cs.width=ua,cs.height=Ho,Wi=cs.getContext("2d"),Ls=Wi.createLinearGradient(Xi,js,qi,xs),Oa(Nn.stops,vs).forEach(function(vf){return Ls.addColorStop(vf.stop,Ta(vf.color))}),Wi.fillStyle=Ls,Wi.fillRect(0,0,ua,Ho),ua>0&&Ho>0&&(Us=Vr.ctx.createPattern(cs,"repeat"),Vr.renderRepeat(za,Us,ul,bo))):Zc(Nn)&&(ps=Th(pr,Ar,[null,null,null]),za=ps[0],nl=ps[1],Yl=ps[2],ua=ps[3],Ho=ps[4],zu=Nn.position.length===0?[Kc]:Nn.position,ul=Ms(zu[0],ua),bo=Ms(zu[zu.length-1],Ho),lu=Yc(Nn,ul,bo,ua,Ho),Uc=lu[0],Wu=lu[1],Uc>0&&Wu>0&&(vd=Vr.ctx.createRadialGradient(nl+ul,Yl+bo,0,nl+ul,Yl+bo,Uc),Oa(Nn.stops,Uc*2).forEach(function(vf){return vd.addColorStop(vf.stop,Ta(vf.color))}),Vr.path(za),Vr.ctx.fillStyle=vd,Uc!==Wu?(yd=pr.bounds.left+.5*pr.bounds.width,cu=pr.bounds.top+.5*pr.bounds.height,bd=Wu/Uc,pc=1/bd,Vr.ctx.save(),Vr.ctx.translate(yd,cu),Vr.ctx.transform(1,0,0,bd,0,0),Vr.ctx.translate(-yd,-cu),Vr.ctx.fillRect(nl,pc*(Yl-cu)+cu,ua,Ho*pc),Vr.ctx.restore()):Vr.ctx.fill())),Kd.label=6;case 6:return Ar--,[2]}})},Vr=this,Xr=0,un=pr.styles.backgroundImage.slice(0).reverse(),Tn.label=1;case 1:return Xr<un.length?(dn=un[Xr],[5,Nr(dn)]):[3,4];case 2:Tn.sent(),Tn.label=3;case 3:return Xr++,[3,1];case 4:return[2]}})})},ur.prototype.renderSolidBorder=function(pr,Ar,Nr){return Fe(this,void 0,void 0,function(){return ke(this,function(Vr){return this.path(Ch(Nr,Ar)),this.ctx.fillStyle=Ta(pr),this.ctx.fill(),[2]})})},ur.prototype.renderDoubleBorder=function(pr,Ar,Nr,Vr){return Fe(this,void 0,void 0,function(){var Xr,un;return ke(this,function(dn){switch(dn.label){case 0:return Ar<3?[4,this.renderSolidBorder(pr,Nr,Vr)]:[3,2];case 1:return dn.sent(),[2];case 2:return Xr=ou(Vr,Nr),this.path(Xr),this.ctx.fillStyle=Ta(pr),this.ctx.fill(),un=FA(Vr,Nr),this.path(un),this.ctx.fill(),[2]}})})},ur.prototype.renderNodeBackgroundAndBorders=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Nr,Vr,Xr,un,dn,Tn,Nn,$n=this;return ke(this,function(li){switch(li.label){case 0:return this.applyEffects(pr.getEffects(2)),Ar=pr.container.styles,Nr=!Mo(Ar.backgroundColor)||Ar.backgroundImage.length,Vr=[{style:Ar.borderTopStyle,color:Ar.borderTopColor,width:Ar.borderTopWidth},{style:Ar.borderRightStyle,color:Ar.borderRightColor,width:Ar.borderRightWidth},{style:Ar.borderBottomStyle,color:Ar.borderBottomColor,width:Ar.borderBottomWidth},{style:Ar.borderLeftStyle,color:Ar.borderLeftColor,width:Ar.borderLeftWidth}],Xr=iA(mf(Ar.backgroundClip,0),pr.curves),Nr||Ar.boxShadow.length?(this.ctx.save(),this.path(Xr),this.ctx.clip(),Mo(Ar.backgroundColor)||(this.ctx.fillStyle=Ta(Ar.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(pr.container)]):[3,2];case 1:li.sent(),this.ctx.restore(),Ar.boxShadow.slice(0).reverse().forEach(function(Qi){$n.ctx.save();var Oi=fa(pr.curves),Mi=Qi.inset?0:ql,vs=Gl(Oi,-Mi+(Qi.inset?1:-1)*Qi.spread.number,(Qi.inset?1:-1)*Qi.spread.number,Qi.spread.number*(Qi.inset?-2:2),Qi.spread.number*(Qi.inset?-2:2));Qi.inset?($n.path(Oi),$n.ctx.clip(),$n.mask(vs)):($n.mask(Oi),$n.ctx.clip(),$n.path(vs)),$n.ctx.shadowOffsetX=Qi.offsetX.number+Mi,$n.ctx.shadowOffsetY=Qi.offsetY.number,$n.ctx.shadowColor=Ta(Qi.color),$n.ctx.shadowBlur=Qi.blur.number,$n.ctx.fillStyle=Qi.inset?Ta(Qi.color):"rgba(0,0,0,1)",$n.ctx.fill(),$n.ctx.restore()}),li.label=2;case 2:un=0,dn=0,Tn=Vr,li.label=3;case 3:return dn<Tn.length?(Nn=Tn[dn],Nn.style!==0&&!Mo(Nn.color)&&Nn.width>0?Nn.style!==2?[3,5]:[4,this.renderDashedDottedBorder(Nn.color,Nn.width,un,pr.curves,2)]:[3,11]):[3,13];case 4:return li.sent(),[3,11];case 5:return Nn.style!==3?[3,7]:[4,this.renderDashedDottedBorder(Nn.color,Nn.width,un,pr.curves,3)];case 6:return li.sent(),[3,11];case 7:return Nn.style!==4?[3,9]:[4,this.renderDoubleBorder(Nn.color,Nn.width,un,pr.curves)];case 8:return li.sent(),[3,11];case 9:return[4,this.renderSolidBorder(Nn.color,un,pr.curves)];case 10:li.sent(),li.label=11;case 11:un++,li.label=12;case 12:return dn++,[3,3];case 13:return[2]}})})},ur.prototype.renderDashedDottedBorder=function(pr,Ar,Nr,Vr,Xr){return Fe(this,void 0,void 0,function(){var un,dn,Tn,Nn,$n,li,Qi,Oi,Mi,vs,Xi,qi,js,xs,cs,Wi,cs,Wi;return ke(this,function(Ls){return this.ctx.save(),un=pf(Vr,Nr),dn=Ch(Vr,Nr),Xr===2&&(this.path(dn),this.ctx.clip()),sa(dn[0])?(Tn=dn[0].start.x,Nn=dn[0].start.y):(Tn=dn[0].x,Nn=dn[0].y),sa(dn[1])?($n=dn[1].end.x,li=dn[1].end.y):($n=dn[1].x,li=dn[1].y),Nr===0||Nr===2?Qi=Math.abs(Tn-$n):Qi=Math.abs(Nn-li),this.ctx.beginPath(),Xr===3?this.formatPath(un):this.formatPath(dn.slice(0,2)),Oi=Ar<3?Ar*3:Ar*2,Mi=Ar<3?Ar*2:Ar,Xr===3&&(Oi=Ar,Mi=Ar),vs=!0,Qi<=Oi*2?vs=!1:Qi<=Oi*2+Mi?(Xi=Qi/(2*Oi+Mi),Oi*=Xi,Mi*=Xi):(qi=Math.floor((Qi+Mi)/(Oi+Mi)),js=(Qi-qi*Oi)/(qi-1),xs=(Qi-(qi+1)*Oi)/qi,Mi=xs<=0||Math.abs(Mi-js)<Math.abs(Mi-xs)?js:xs),vs&&(Xr===3?this.ctx.setLineDash([0,Oi+Mi]):this.ctx.setLineDash([Oi,Mi])),Xr===3?(this.ctx.lineCap="round",this.ctx.lineWidth=Ar):this.ctx.lineWidth=Ar*2+1.1,this.ctx.strokeStyle=Ta(pr),this.ctx.stroke(),this.ctx.setLineDash([]),Xr===2&&(sa(dn[0])&&(cs=dn[3],Wi=dn[0],this.ctx.beginPath(),this.formatPath([new Di(cs.end.x,cs.end.y),new Di(Wi.start.x,Wi.start.y)]),this.ctx.stroke()),sa(dn[1])&&(cs=dn[1],Wi=dn[2],this.ctx.beginPath(),this.formatPath([new Di(cs.end.x,cs.end.y),new Di(Wi.start.x,Wi.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},ur.prototype.render=function(pr){return Fe(this,void 0,void 0,function(){var Ar;return ke(this,function(Nr){switch(Nr.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=Ta(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),Ar=nA(pr),[4,this.renderStack(Ar)];case 1:return Nr.sent(),this.applyEffects([]),[2,this.canvas]}})})},ur})(ea),gf=function(hr){return hr instanceof Mh||hr instanceof Hf?!0:hr instanceof Md&&hr.type!==Iu&&hr.type!==mh},iA=function(hr,ur){switch(hr){case 0:return fa(ur);case 2:return jl(ur);case 1:default:return hc(ur)}},Qu=function(hr){switch(hr){case 1:return"center";case 2:return"right";case 0:default:return"left"}},Qa=["-apple-system","system-ui"],xd=function(hr){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?hr.filter(function(ur){return Qa.indexOf(ur)===-1}):hr},Wd=(function(hr){Be(ur,hr);function ur(pr,Ar){var Nr=hr.call(this,pr,Ar)||this;return Nr.canvas=Ar.canvas?Ar.canvas:document.createElement("canvas"),Nr.ctx=Nr.canvas.getContext("2d"),Nr.options=Ar,Nr.canvas.width=Math.floor(Ar.width*Ar.scale),Nr.canvas.height=Math.floor(Ar.height*Ar.scale),Nr.canvas.style.width=Ar.width+"px",Nr.canvas.style.height=Ar.height+"px",Nr.ctx.scale(Nr.options.scale,Nr.options.scale),Nr.ctx.translate(-Ar.x,-Ar.y),Nr.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+Ar.width+"x"+Ar.height+" at "+Ar.x+","+Ar.y+") with scale "+Ar.scale),Nr}return ur.prototype.render=function(pr){return Fe(this,void 0,void 0,function(){var Ar,Nr;return ke(this,function(Vr){switch(Vr.label){case 0:return Ar=Fd(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,pr),[4,sA(Ar)];case 1:return Nr=Vr.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=Ta(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(Nr,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},ur})(ea),sA=function(hr){return new Promise(function(ur,pr){var Ar=new Image;Ar.onload=function(){ur(Ar)},Ar.onerror=pr,Ar.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(hr))})},Ac=(function(){function hr(ur){var pr=ur.id,Ar=ur.enabled;this.id=pr,this.enabled=Ar,this.start=Date.now()}return hr.prototype.debug=function(){for(var ur=[],pr=0;pr<arguments.length;pr++)ur[pr]=arguments[pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,Oe([this.id,this.getTime()+"ms"],ur)):this.info.apply(this,ur))},hr.prototype.getTime=function(){return Date.now()-this.start},hr.prototype.info=function(){for(var ur=[],pr=0;pr<arguments.length;pr++)ur[pr]=arguments[pr];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,Oe([this.id,this.getTime()+"ms"],ur))},hr.prototype.warn=function(){for(var ur=[],pr=0;pr<arguments.length;pr++)ur[pr]=arguments[pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,Oe([this.id,this.getTime()+"ms"],ur)):this.info.apply(this,ur))},hr.prototype.error=function(){for(var ur=[],pr=0;pr<arguments.length;pr++)ur[pr]=arguments[pr];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,Oe([this.id,this.getTime()+"ms"],ur)):this.info.apply(this,ur))},hr.instances={},hr})(),xf=(function(){function hr(ur,pr){var Ar;this.windowBounds=pr,this.instanceName="#"+hr.instanceCount++,this.logger=new Ac({id:this.instanceName,enabled:ur.logging}),this.cache=(Ar=ur.cache)!==null&&Ar!==void 0?Ar:new au(this,ur)}return hr.instanceCount=1,hr})(),th=function(hr,ur){return ur===void 0&&(ur={}),Il(hr,ur)};typeof window<"u"&&Af.setContext(window);var Il=function(hr,ur){return Fe(void 0,void 0,void 0,function(){var pr,Ar,Nr,Vr,Xr,un,dn,Tn,Nn,$n,li,Qi,Oi,Mi,vs,Xi,qi,js,xs,cs,Ls,Wi,Ls,Us,ps,za,nl,Yl,ua,Ho,zu,ul,bo,lu,Uc,Wu,vd,yd,cu,bd;return ke(this,function(pc){switch(pc.label){case 0:if(!hr||typeof hr!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(pr=hr.ownerDocument,!pr)throw new Error("Element is not attached to a Document");if(Ar=pr.defaultView,!Ar)throw new Error("Document is not attached to a Window");return Nr={allowTaint:(Us=ur.allowTaint)!==null&&Us!==void 0?Us:!1,imageTimeout:(ps=ur.imageTimeout)!==null&&ps!==void 0?ps:15e3,proxy:ur.proxy,useCORS:(za=ur.useCORS)!==null&&za!==void 0?za:!1},Vr=De({logging:(nl=ur.logging)!==null&&nl!==void 0?nl:!0,cache:ur.cache},Nr),Xr={windowWidth:(Yl=ur.windowWidth)!==null&&Yl!==void 0?Yl:Ar.innerWidth,windowHeight:(ua=ur.windowHeight)!==null&&ua!==void 0?ua:Ar.innerHeight,scrollX:(Ho=ur.scrollX)!==null&&Ho!==void 0?Ho:Ar.pageXOffset,scrollY:(zu=ur.scrollY)!==null&&zu!==void 0?zu:Ar.pageYOffset},un=new Me(Xr.scrollX,Xr.scrollY,Xr.windowWidth,Xr.windowHeight),dn=new xf(Vr,un),Tn=(ul=ur.foreignObjectRendering)!==null&&ul!==void 0?ul:!1,Nn={allowTaint:(bo=ur.allowTaint)!==null&&bo!==void 0?bo:!1,onclone:ur.onclone,ignoreElements:ur.ignoreElements,inlineImages:Tn,copyStyles:Tn},dn.logger.debug("Starting document clone with size "+un.width+"x"+un.height+" scrolled to "+-un.left+","+-un.top),$n=new bh(dn,hr,Nn),li=$n.clonedReferenceElement,li?[4,$n.toIFrame(pr,un)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return Qi=pc.sent(),Oi=df(li)||SA(li)?$e(li.ownerDocument):Ue(dn,li),Mi=Oi.width,vs=Oi.height,Xi=Oi.left,qi=Oi.top,js=aA(dn,li,ur.backgroundColor),xs={canvas:ur.canvas,backgroundColor:js,scale:(Uc=(lu=ur.scale)!==null&&lu!==void 0?lu:Ar.devicePixelRatio)!==null&&Uc!==void 0?Uc:1,x:((Wu=ur.x)!==null&&Wu!==void 0?Wu:0)+Xi,y:((vd=ur.y)!==null&&vd!==void 0?vd:0)+qi,width:(yd=ur.width)!==null&&yd!==void 0?yd:Math.ceil(Mi),height:(cu=ur.height)!==null&&cu!==void 0?cu:Math.ceil(vs)},Tn?(dn.logger.debug("Document cloned, using foreign object rendering"),Ls=new Wd(dn,xs),[4,Ls.render(li)]):[3,3];case 2:return cs=pc.sent(),[3,5];case 3:return dn.logger.debug("Document cloned, element located at "+Xi+","+qi+" with size "+Mi+"x"+vs+" using computed rendering"),dn.logger.debug("Starting DOM parsing"),Wi=Oc(dn,li),js===Wi.styles.backgroundColor&&(Wi.styles.backgroundColor=Ao.TRANSPARENT),dn.logger.debug("Starting renderer for element at "+xs.x+","+xs.y+" with size "+xs.width+"x"+xs.height),Ls=new gd(dn,xs),[4,Ls.render(Wi)];case 4:cs=pc.sent(),pc.label=5;case 5:return(!((bd=ur.removeContainer)!==null&&bd!==void 0)||bd)&&(bh.destroy(Qi)||dn.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),dn.logger.debug("Finished rendering"),[2,cs]}})})},aA=function(hr,ur,pr){var Ar=ur.ownerDocument,Nr=Ar.documentElement?Lo(hr,getComputedStyle(Ar.documentElement).backgroundColor):Ao.TRANSPARENT,Vr=Ar.body?Lo(hr,getComputedStyle(Ar.body).backgroundColor):Ao.TRANSPARENT,Xr=typeof pr=="string"?Lo(hr,pr):pr===null?Ao.TRANSPARENT:4294967295;return ur===Ar.documentElement?Mo(Nr)?Mo(Vr)?Xr:Vr:Nr:Xr};return th}))})(html2canvas$1)),html2canvas$1.exports}/*!
 * html2pdf.js v0.10.3
 * Copyright (c) 2025 Erik Koopmans
 * Released under the MIT License.
 */var hasRequiredHtml2pdf;function requireHtml2pdf(){return hasRequiredHtml2pdf||(hasRequiredHtml2pdf=1,(function(Re,Ce){(function(Be,De){Re.exports=De(require$$0,requireHtml2canvas())})(self,function(je,Be){return(function(){var De={"./src/plugin/hyperlinks.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),$e("./node_modules/core-js/modules/es.string.link.js");var He=$e("./src/worker.js"),Qe=$e("./src/utils.js"),We=[],qe={toContainer:He.default.prototype.toContainer,toPdf:He.default.prototype.toPdf};He.default.prototype.toContainer=function(){return qe.toContainer.call(this).then(function(){if(this.opt.enableLinks){var Ye=this.prop.container,Ze=Ye.querySelectorAll("a"),Je=(0,Qe.unitConvert)(Ye.getBoundingClientRect(),this.prop.pageSize.k);We=[],Array.prototype.forEach.call(Ze,function(tr){for(var rr=tr.getClientRects(),ar=0;ar<rr.length;ar++){var ir=(0,Qe.unitConvert)(rr[ar],this.prop.pageSize.k);ir.left-=Je.left,ir.top-=Je.top;var nr=Math.floor(ir.top/this.prop.pageSize.inner.height)+1,cr=this.opt.margin[0]+ir.top%this.prop.pageSize.inner.height,mr=this.opt.margin[1]+ir.left;We.push({page:nr,top:cr,left:mr,clientRect:ir,link:tr})}},this)}})},He.default.prototype.toPdf=function(){return qe.toPdf.call(this).then(function(){if(this.opt.enableLinks){We.forEach(function(Ze){this.prop.pdf.setPage(Ze.page),this.prop.pdf.link(Ze.left,Ze.top,Ze.clientRect.width,Ze.clientRect.height,{url:Ze.link.href})},this);var Ye=this.prop.pdf.internal.getNumberOfPages();this.prop.pdf.setPage(Ye)}})}}),"./src/plugin/jspdf-plugin.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/es.symbol.js"),$e("./node_modules/core-js/modules/es.symbol.description.js"),$e("./node_modules/core-js/modules/es.object.to-string.js"),$e("./node_modules/core-js/modules/es.symbol.iterator.js"),$e("./node_modules/core-js/modules/es.array.iterator.js"),$e("./node_modules/core-js/modules/es.string.iterator.js"),$e("./node_modules/core-js/modules/web.dom-collections.iterator.js");var He=$e("jspdf");function Qe(We){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qe=function(Ke){return typeof Ke}:Qe=function(Ke){return Ke&&typeof Symbol=="function"&&Ke.constructor===Symbol&&Ke!==Symbol.prototype?"symbol":typeof Ke},Qe(We)}He.jsPDF.getPageSize=function(We,qe,Ke){if(Qe(We)==="object"){var Xe=We;We=Xe.orientation,qe=Xe.unit||qe,Ke=Xe.format||Ke}qe=qe||"mm",Ke=Ke||"a4",We=(""+(We||"P")).toLowerCase();var Ye=(""+Ke).toLowerCase(),Ze={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(qe){case"pt":var Je=1;break;case"mm":var Je=72/25.4;break;case"cm":var Je=72/2.54;break;case"in":var Je=72;break;case"px":var Je=72/96;break;case"pc":var Je=12;break;case"em":var Je=12;break;case"ex":var Je=6;break;default:throw"Invalid unit: "+qe}if(Ze.hasOwnProperty(Ye))var tr=Ze[Ye][1]/Je,rr=Ze[Ye][0]/Je;else try{var tr=Ke[1],rr=Ke[0]}catch{throw new Error("Invalid format: "+Ke)}if(We==="p"||We==="portrait"){if(We="p",rr>tr){var ar=rr;rr=tr,tr=ar}}else if(We==="l"||We==="landscape"){if(We="l",tr>rr){var ar=rr;rr=tr,tr=ar}}else throw"Invalid orientation: "+We;var ir={width:rr,height:tr,unit:qe,k:Je};return ir},Ue.default=He.jsPDF}),"./src/plugin/pagebreaks.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/es.array.concat.js"),$e("./node_modules/core-js/modules/es.array.slice.js"),$e("./node_modules/core-js/modules/es.array.join.js"),$e("./node_modules/core-js/modules/web.dom-collections.for-each.js"),$e("./node_modules/core-js/modules/es.object.keys.js");var He=$e("./src/worker.js"),Qe=$e("./src/utils.js"),We={toContainer:He.default.prototype.toContainer};He.default.template.opt.pagebreak={mode:["css","legacy"],before:[],after:[],avoid:[]},He.default.prototype.toContainer=function(){return We.toContainer.call(this).then(function(){var Xe=this.prop.container,Ye=this.prop.pageSize.inner.px.height,Ze=[].concat(this.opt.pagebreak.mode),Je={avoidAll:Ze.indexOf("avoid-all")!==-1,css:Ze.indexOf("css")!==-1,legacy:Ze.indexOf("legacy")!==-1},tr={},rr=this;["before","after","avoid"].forEach(function(nr){var cr=Je.avoidAll&&nr==="avoid";tr[nr]=cr?[]:[].concat(rr.opt.pagebreak[nr]||[]),tr[nr].length>0&&(tr[nr]=Array.prototype.slice.call(Xe.querySelectorAll(tr[nr].join(", "))))});var ar=Xe.querySelectorAll(".html2pdf__page-break");ar=Array.prototype.slice.call(ar);var ir=Xe.querySelectorAll("*");Array.prototype.forEach.call(ir,function(cr){var mr={before:!1,after:Je.legacy&&ar.indexOf(cr)!==-1,avoid:Je.avoidAll};if(Je.css){var fr=window.getComputedStyle(cr),or=["always","page","left","right"],yr=["avoid","avoid-page"];mr={before:mr.before||or.indexOf(fr.breakBefore||fr.pageBreakBefore)!==-1,after:mr.after||or.indexOf(fr.breakAfter||fr.pageBreakAfter)!==-1,avoid:mr.avoid||yr.indexOf(fr.breakInside||fr.pageBreakInside)!==-1}}Object.keys(mr).forEach(function(Er){mr[Er]=mr[Er]||tr[Er].indexOf(cr)!==-1});var Cr=cr.getBoundingClientRect();if(mr.avoid&&!mr.before){var jr=Math.floor(Cr.top/Ye),vr=Math.floor(Cr.bottom/Ye),Tr=Math.abs(Cr.bottom-Cr.top)/Ye;vr!==jr&&Tr<=1&&(mr.before=!0)}if(mr.before){var wr=(0,Qe.createElement)("div",{style:{display:"block",height:Ye-Cr.top%Ye+"px"}});cr.parentNode.insertBefore(wr,cr)}if(mr.after){var wr=(0,Qe.createElement)("div",{style:{display:"block",height:Ye-Cr.bottom%Ye+"px"}});cr.parentNode.insertBefore(wr,cr.nextSibling)}})})}}),"./src/utils.js":(function(Me,Ue,$e){$e.r(Ue),$e.d(Ue,{objType:function(){return Qe},createElement:function(){return We},cloneNode:function(){return qe},unitConvert:function(){return Ke},toPx:function(){return Xe}}),$e("./node_modules/core-js/modules/es.number.constructor.js"),$e("./node_modules/core-js/modules/es.symbol.js"),$e("./node_modules/core-js/modules/es.symbol.description.js"),$e("./node_modules/core-js/modules/es.object.to-string.js"),$e("./node_modules/core-js/modules/es.symbol.iterator.js"),$e("./node_modules/core-js/modules/es.array.iterator.js"),$e("./node_modules/core-js/modules/es.string.iterator.js"),$e("./node_modules/core-js/modules/web.dom-collections.iterator.js");function He(Ye){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?He=function(Je){return typeof Je}:He=function(Je){return Je&&typeof Symbol=="function"&&Je.constructor===Symbol&&Je!==Symbol.prototype?"symbol":typeof Je},He(Ye)}var Qe=function(Ze){var Je=He(Ze);return Je==="undefined"?"undefined":Je==="string"||Ze instanceof String?"string":Je==="number"||Ze instanceof Number?"number":Je==="function"||Ze instanceof Function?"function":Ze&&Ze.constructor===Array?"array":Ze&&Ze.nodeType===1?"element":Je==="object"?"object":"unknown"},We=function(Ze,Je){var tr=document.createElement(Ze);if(Je.className&&(tr.className=Je.className),Je.innerHTML){tr.innerHTML=Je.innerHTML;for(var rr=tr.getElementsByTagName("script"),ar=rr.length;ar-- >0;null)rr[ar].parentNode.removeChild(rr[ar])}for(var ir in Je.style)tr.style[ir]=Je.style[ir];return tr},qe=function Ye(Ze,Je){for(var tr=Ze.nodeType===3?document.createTextNode(Ze.nodeValue):Ze.cloneNode(!1),rr=Ze.firstChild;rr;rr=rr.nextSibling)(Je===!0||rr.nodeType!==1||rr.nodeName!=="SCRIPT")&&tr.appendChild(Ye(rr,Je));return Ze.nodeType===1&&(Ze.nodeName==="CANVAS"?(tr.width=Ze.width,tr.height=Ze.height,tr.getContext("2d").drawImage(Ze,0,0)):(Ze.nodeName==="TEXTAREA"||Ze.nodeName==="SELECT")&&(tr.value=Ze.value),tr.addEventListener("load",function(){tr.scrollTop=Ze.scrollTop,tr.scrollLeft=Ze.scrollLeft},!0)),tr},Ke=function(Ze,Je){if(Qe(Ze)==="number")return Ze*72/96/Je;var tr={};for(var rr in Ze)tr[rr]=Ze[rr]*72/96/Je;return tr},Xe=function(Ze,Je){return Math.floor(Ze*Je/72*96)}}),"./src/worker.js":(function(Me,Ue,$e){$e.r(Ue),$e("./node_modules/core-js/modules/es.object.assign.js"),$e("./node_modules/core-js/modules/es.array.map.js"),$e("./node_modules/core-js/modules/es.object.keys.js"),$e("./node_modules/core-js/modules/es.array.concat.js"),$e("./node_modules/core-js/modules/es.object.to-string.js"),$e("./node_modules/core-js/modules/es.regexp.to-string.js"),$e("./node_modules/core-js/modules/es.function.name.js"),$e("./node_modules/core-js/modules/web.dom-collections.for-each.js");var He=$e("jspdf"),Qe=$e("html2canvas"),We=$e("./src/utils.js"),qe=$e("./node_modules/es6-promise/dist/es6-promise.js"),Ke=$e.n(qe),Xe=Ke().Promise,Ye=function Ze(Je){var tr=Object.assign(Ze.convert(Xe.resolve()),JSON.parse(JSON.stringify(Ze.template))),rr=Ze.convert(Xe.resolve(),tr);return rr=rr.setProgress(1,Ze,1,[Ze]),rr=rr.set(Je),rr};Ye.prototype=Object.create(Xe.prototype),Ye.prototype.constructor=Ye,Ye.convert=function(Je,tr){return Je.__proto__=tr||Ye.prototype,Je},Ye.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],image:{type:"jpeg",quality:.95},enableLinks:!0,html2canvas:{},jsPDF:{}}},Ye.prototype.from=function(Je,tr){function rr(ar){switch((0,We.objType)(ar)){case"string":return"string";case"element":return ar.nodeName.toLowerCase&&ar.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}return this.then(function(){switch(tr=tr||rr(Je),tr){case"string":return this.set({src:(0,We.createElement)("div",{innerHTML:Je})});case"element":return this.set({src:Je});case"canvas":return this.set({canvas:Je});case"img":return this.set({img:Je});default:return this.error("Unknown source type.")}})},Ye.prototype.to=function(Je){switch(Je){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Ye.prototype.toContainer=function(){var Je=[function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(Je).then(function(){var rr={position:"fixed",overflow:"hidden",zIndex:1e3,left:0,right:0,bottom:0,top:0,backgroundColor:"rgba(0,0,0,0.8)"},ar={position:"absolute",width:this.prop.pageSize.inner.width+this.prop.pageSize.unit,left:0,right:0,top:0,height:"auto",margin:"auto",backgroundColor:"white"};rr.opacity=0;var ir=(0,We.cloneNode)(this.prop.src,this.opt.html2canvas.javascriptEnabled);this.prop.overlay=(0,We.createElement)("div",{className:"html2pdf__overlay",style:rr}),this.prop.container=(0,We.createElement)("div",{className:"html2pdf__container",style:ar}),this.prop.container.appendChild(ir),this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay)})},Ye.prototype.toCanvas=function(){var Je=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Je).then(function(){var rr=Object.assign({},this.opt.html2canvas);return delete rr.onrendered,Qe(this.prop.container,rr)}).then(function(rr){var ar=this.opt.html2canvas.onrendered||function(){};ar(rr),this.prop.canvas=rr,document.body.removeChild(this.prop.overlay)})},Ye.prototype.toImg=function(){var Je=[function(){return this.prop.canvas||this.toCanvas()}];return this.thenList(Je).then(function(){var rr=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=rr})},Ye.prototype.toPdf=function(){var Je=[function(){return this.prop.canvas||this.toCanvas()},function(){return this.prop.pageSize||this.setPageSize()}];return this.thenList(Je).then(function(){var rr=this.prop.canvas,ar=this.opt,ir=rr.height,nr=Math.floor(rr.width*this.prop.pageSize.inner.ratio),cr=Math.ceil(ir/nr),mr=this.prop.pageSize.inner.height,fr=document.createElement("canvas"),or=fr.getContext("2d");fr.width=rr.width,fr.height=nr,this.prop.pdf=this.prop.pdf||new He.jsPDF(ar.jsPDF);for(var yr=0;yr<cr;yr++){yr===cr-1&&ir%nr!==0&&(fr.height=ir%nr,mr=fr.height*this.prop.pageSize.inner.width/fr.width);var Cr=fr.width,jr=fr.height;or.fillStyle="white",or.fillRect(0,0,Cr,jr),or.drawImage(rr,0,yr*nr,Cr,jr,0,0,Cr,jr),yr&&this.prop.pdf.addPage();var vr=fr.toDataURL("image/"+ar.image.type,ar.image.quality);this.prop.pdf.addImage(vr,ar.image.type,ar.margin[1],ar.margin[0],this.prop.pageSize.inner.width,mr)}})},Ye.prototype.output=function(Je,tr,rr){return rr=rr||"pdf",rr.toLowerCase()==="img"||rr.toLowerCase()==="image"?this.outputImg(Je,tr):this.outputPdf(Je,tr)},Ye.prototype.outputPdf=function(Je,tr){var rr=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(rr).then(function(){return this.prop.pdf.output(Je,tr)})},Ye.prototype.outputImg=function(Je,tr){var rr=[function(){return this.prop.img||this.toImg()}];return this.thenList(rr).then(function(){switch(Je){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Je+'" is not supported.'}})},Ye.prototype.save=function(Je){var tr=[function(){return this.prop.pdf||this.toPdf()}];return this.thenList(tr).set(Je?{filename:Je}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Ye.prototype.set=function(Je){if((0,We.objType)(Je)!=="object")return this;var tr=Object.keys(Je||{}).map(function(rr){switch(rr){case"margin":return this.setMargin.bind(this,Je.margin);case"jsPDF":return function(){return this.opt.jsPDF=Je.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Je.pageSize);default:return rr in Ye.template.prop?function(){this.prop[rr]=Je[rr]}:function(){this.opt[rr]=Je[rr]}}},this);return this.then(function(){return this.thenList(tr)})},Ye.prototype.get=function(Je,tr){return this.then(function(){var ar=Je in Ye.template.prop?this.prop[Je]:this.opt[Je];return tr?tr(ar):ar})},Ye.prototype.setMargin=function(Je){return this.then(function(){switch((0,We.objType)(Je)){case"number":Je=[Je,Je,Je,Je];case"array":if(Je.length===2&&(Je=[Je[0],Je[1],Je[0],Je[1]]),Je.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Je}).then(this.setPageSize)},Ye.prototype.setPageSize=function(Je){return this.then(function(){Je=Je||He.jsPDF.getPageSize(this.opt.jsPDF),Je.hasOwnProperty("inner")||(Je.inner={width:Je.width-this.opt.margin[1]-this.opt.margin[3],height:Je.height-this.opt.margin[0]-this.opt.margin[2]},Je.inner.px={width:(0,We.toPx)(Je.inner.width,Je.k),height:(0,We.toPx)(Je.inner.height,Je.k)},Je.inner.ratio=Je.inner.height/Je.inner.width),this.prop.pageSize=Je})},Ye.prototype.setProgress=function(Je,tr,rr,ar){return Je!=null&&(this.progress.val=Je),tr!=null&&(this.progress.state=tr),rr!=null&&(this.progress.n=rr),ar!=null&&(this.progress.stack=ar),this.progress.ratio=this.progress.val/this.progress.state,this},Ye.prototype.updateProgress=function(Je,tr,rr,ar){return this.setProgress(Je?this.progress.val+Je:null,tr||null,rr?this.progress.n+rr:null,ar?this.progress.stack.concat(ar):null)},Ye.prototype.then=function(Je,tr){var rr=this;return this.thenCore(Je,tr,function(ir,nr){return rr.updateProgress(null,null,1,[ir]),Xe.prototype.then.call(this,function(mr){return rr.updateProgress(null,ir),mr}).then(ir,nr).then(function(mr){return rr.updateProgress(1),mr})})},Ye.prototype.thenCore=function(Je,tr,rr){rr=rr||Xe.prototype.then;var ar=this;Je&&(Je=Je.bind(ar)),tr&&(tr=tr.bind(ar));var ir=Xe.toString().indexOf("[native code]")!==-1&&Xe.name==="Promise",nr=ir?ar:Ye.convert(Object.assign({},ar),Xe.prototype),cr=rr.call(nr,Je,tr);return Ye.convert(cr,ar.__proto__)},Ye.prototype.thenExternal=function(Je,tr){return Xe.prototype.then.call(this,Je,tr)},Ye.prototype.thenList=function(Je){var tr=this;return Je.forEach(function(ar){tr=tr.thenCore(ar)}),tr},Ye.prototype.catch=function(Ze){Ze&&(Ze=Ze.bind(this));var Je=Xe.prototype.catch.call(this,Ze);return Ye.convert(Je,this)},Ye.prototype.catchExternal=function(Je){return Xe.prototype.catch.call(this,Je)},Ye.prototype.error=function(Je){return this.then(function(){throw new Error(Je)})},Ye.prototype.using=Ye.prototype.set,Ye.prototype.saveAs=Ye.prototype.save,Ye.prototype.export=Ye.prototype.output,Ye.prototype.run=Ye.prototype.then,Ue.default=Ye}),"./node_modules/core-js/internals/a-function.js":(function(Me){Me.exports=function(Ue){if(typeof Ue!="function")throw TypeError(String(Ue)+" is not a function");return Ue}}),"./node_modules/core-js/internals/a-possible-prototype.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js");Me.exports=function(Qe){if(!He(Qe)&&Qe!==null)throw TypeError("Can't set "+String(Qe)+" as a prototype");return Qe}}),"./node_modules/core-js/internals/add-to-unscopables.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/well-known-symbol.js"),Qe=$e("./node_modules/core-js/internals/object-create.js"),We=$e("./node_modules/core-js/internals/object-define-property.js"),qe=He("unscopables"),Ke=Array.prototype;Ke[qe]==null&&We.f(Ke,qe,{configurable:!0,value:Qe(null)}),Me.exports=function(Xe){Ke[qe][Xe]=!0}}),"./node_modules/core-js/internals/an-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js");Me.exports=function(Qe){if(!He(Qe))throw TypeError(String(Qe)+" is not an object");return Qe}}),"./node_modules/core-js/internals/array-for-each.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/array-iteration.js").forEach,Qe=$e("./node_modules/core-js/internals/array-method-is-strict.js"),We=Qe("forEach");Me.exports=We?[].forEach:function(Ke){return He(this,Ke,arguments.length>1?arguments[1]:void 0)}}),"./node_modules/core-js/internals/array-includes.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-indexed-object.js"),Qe=$e("./node_modules/core-js/internals/to-length.js"),We=$e("./node_modules/core-js/internals/to-absolute-index.js"),qe=function(Ke){return function(Xe,Ye,Ze){var Je=He(Xe),tr=Qe(Je.length),rr=We(Ze,tr),ar;if(Ke&&Ye!=Ye){for(;tr>rr;)if(ar=Je[rr++],ar!=ar)return!0}else for(;tr>rr;rr++)if((Ke||rr in Je)&&Je[rr]===Ye)return Ke||rr||0;return!Ke&&-1}};Me.exports={includes:qe(!0),indexOf:qe(!1)}}),"./node_modules/core-js/internals/array-iteration.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/function-bind-context.js"),Qe=$e("./node_modules/core-js/internals/indexed-object.js"),We=$e("./node_modules/core-js/internals/to-object.js"),qe=$e("./node_modules/core-js/internals/to-length.js"),Ke=$e("./node_modules/core-js/internals/array-species-create.js"),Xe=[].push,Ye=function(Ze){var Je=Ze==1,tr=Ze==2,rr=Ze==3,ar=Ze==4,ir=Ze==6,nr=Ze==7,cr=Ze==5||ir;return function(mr,fr,or,yr){for(var Cr=We(mr),jr=Qe(Cr),vr=He(fr,or,3),Tr=qe(jr.length),wr=0,Er=yr||Ke,Pr=Je?Er(mr,Tr):tr||nr?Er(mr,0):void 0,Mr,_r;Tr>wr;wr++)if((cr||wr in jr)&&(Mr=jr[wr],_r=vr(Mr,wr,Cr),Ze))if(Je)Pr[wr]=_r;else if(_r)switch(Ze){case 3:return!0;case 5:return Mr;case 6:return wr;case 2:Xe.call(Pr,Mr)}else switch(Ze){case 4:return!1;case 7:Xe.call(Pr,Mr)}return ir?-1:rr||ar?ar:Pr}};Me.exports={forEach:Ye(0),map:Ye(1),filter:Ye(2),some:Ye(3),every:Ye(4),find:Ye(5),findIndex:Ye(6),filterReject:Ye(7)}}),"./node_modules/core-js/internals/array-method-has-species-support.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=$e("./node_modules/core-js/internals/well-known-symbol.js"),We=$e("./node_modules/core-js/internals/engine-v8-version.js"),qe=Qe("species");Me.exports=function(Ke){return We>=51||!He(function(){var Xe=[],Ye=Xe.constructor={};return Ye[qe]=function(){return{foo:1}},Xe[Ke](Boolean).foo!==1})}}),"./node_modules/core-js/internals/array-method-is-strict.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=function(Qe,We){var qe=[][Qe];return!!qe&&He(function(){qe.call(null,We||function(){throw 1},1)})}}),"./node_modules/core-js/internals/array-species-constructor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js"),Qe=$e("./node_modules/core-js/internals/is-array.js"),We=$e("./node_modules/core-js/internals/well-known-symbol.js"),qe=We("species");Me.exports=function(Ke){var Xe;return Qe(Ke)&&(Xe=Ke.constructor,typeof Xe=="function"&&(Xe===Array||Qe(Xe.prototype))?Xe=void 0:He(Xe)&&(Xe=Xe[qe],Xe===null&&(Xe=void 0))),Xe===void 0?Array:Xe}}),"./node_modules/core-js/internals/array-species-create.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/array-species-constructor.js");Me.exports=function(Qe,We){return new(He(Qe))(We===0?0:We)}}),"./node_modules/core-js/internals/classof-raw.js":(function(Me){var Ue={}.toString;Me.exports=function($e){return Ue.call($e).slice(8,-1)}}),"./node_modules/core-js/internals/classof.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-string-tag-support.js"),Qe=$e("./node_modules/core-js/internals/classof-raw.js"),We=$e("./node_modules/core-js/internals/well-known-symbol.js"),qe=We("toStringTag"),Ke=Qe((function(){return arguments})())=="Arguments",Xe=function(Ye,Ze){try{return Ye[Ze]}catch{}};Me.exports=He?Qe:function(Ye){var Ze,Je,tr;return Ye===void 0?"Undefined":Ye===null?"Null":typeof(Je=Xe(Ze=Object(Ye),qe))=="string"?Je:Ke?Qe(Ze):(tr=Qe(Ze))=="Object"&&typeof Ze.callee=="function"?"Arguments":tr}}),"./node_modules/core-js/internals/copy-constructor-properties.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/has.js"),Qe=$e("./node_modules/core-js/internals/own-keys.js"),We=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),qe=$e("./node_modules/core-js/internals/object-define-property.js");Me.exports=function(Ke,Xe){for(var Ye=Qe(Xe),Ze=qe.f,Je=We.f,tr=0;tr<Ye.length;tr++){var rr=Ye[tr];He(Ke,rr)||Ze(Ke,rr,Je(Xe,rr))}}}),"./node_modules/core-js/internals/correct-prototype-getter.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=!He(function(){function Qe(){}return Qe.prototype.constructor=null,Object.getPrototypeOf(new Qe)!==Qe.prototype})}),"./node_modules/core-js/internals/create-html.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/require-object-coercible.js"),Qe=$e("./node_modules/core-js/internals/to-string.js"),We=/"/g;Me.exports=function(qe,Ke,Xe,Ye){var Ze=Qe(He(qe)),Je="<"+Ke;return Xe!==""&&(Je+=" "+Xe+'="'+Qe(Ye).replace(We,"&quot;")+'"'),Je+">"+Ze+"</"+Ke+">"}}),"./node_modules/core-js/internals/create-iterator-constructor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/iterators-core.js").IteratorPrototype,Qe=$e("./node_modules/core-js/internals/object-create.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js"),qe=$e("./node_modules/core-js/internals/set-to-string-tag.js"),Ke=$e("./node_modules/core-js/internals/iterators.js"),Xe=function(){return this};Me.exports=function(Ye,Ze,Je){var tr=Ze+" Iterator";return Ye.prototype=Qe(He,{next:We(1,Je)}),qe(Ye,tr,!1,!0),Ke[tr]=Xe,Ye}}),"./node_modules/core-js/internals/create-non-enumerable-property.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js");Me.exports=He?function(qe,Ke,Xe){return Qe.f(qe,Ke,We(1,Xe))}:function(qe,Ke,Xe){return qe[Ke]=Xe,qe}}),"./node_modules/core-js/internals/create-property-descriptor.js":(function(Me){Me.exports=function(Ue,$e){return{enumerable:!(Ue&1),configurable:!(Ue&2),writable:!(Ue&4),value:$e}}}),"./node_modules/core-js/internals/create-property.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-property-key.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js");Me.exports=function(qe,Ke,Xe){var Ye=He(Ke);Ye in qe?Qe.f(qe,Ye,We(0,Xe)):qe[Ye]=Xe}}),"./node_modules/core-js/internals/define-iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/create-iterator-constructor.js"),We=$e("./node_modules/core-js/internals/object-get-prototype-of.js"),qe=$e("./node_modules/core-js/internals/object-set-prototype-of.js"),Ke=$e("./node_modules/core-js/internals/set-to-string-tag.js"),Xe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ye=$e("./node_modules/core-js/internals/redefine.js"),Ze=$e("./node_modules/core-js/internals/well-known-symbol.js"),Je=$e("./node_modules/core-js/internals/is-pure.js"),tr=$e("./node_modules/core-js/internals/iterators.js"),rr=$e("./node_modules/core-js/internals/iterators-core.js"),ar=rr.IteratorPrototype,ir=rr.BUGGY_SAFARI_ITERATORS,nr=Ze("iterator"),cr="keys",mr="values",fr="entries",or=function(){return this};Me.exports=function(yr,Cr,jr,vr,Tr,wr,Er){Qe(jr,Cr,vr);var Pr=function(Gr){if(Gr===Tr&&Or)return Or;if(!ir&&Gr in Ir)return Ir[Gr];switch(Gr){case cr:return function(){return new jr(this,Gr)};case mr:return function(){return new jr(this,Gr)};case fr:return function(){return new jr(this,Gr)}}return function(){return new jr(this)}},Mr=Cr+" Iterator",_r=!1,Ir=yr.prototype,Dr=Ir[nr]||Ir["@@iterator"]||Tr&&Ir[Tr],Or=!ir&&Dr||Pr(Tr),br=Cr=="Array"&&Ir.entries||Dr,Ur,Qr,zr;if(br&&(Ur=We(br.call(new yr)),ar!==Object.prototype&&Ur.next&&(!Je&&We(Ur)!==ar&&(qe?qe(Ur,ar):typeof Ur[nr]!="function"&&Xe(Ur,nr,or)),Ke(Ur,Mr,!0,!0),Je&&(tr[Mr]=or))),Tr==mr&&Dr&&Dr.name!==mr&&(_r=!0,Or=function(){return Dr.call(this)}),(!Je||Er)&&Ir[nr]!==Or&&Xe(Ir,nr,Or),tr[Cr]=Or,Tr)if(Qr={values:Pr(mr),keys:wr?Or:Pr(cr),entries:Pr(fr)},Er)for(zr in Qr)(ir||_r||!(zr in Ir))&&Ye(Ir,zr,Qr[zr]);else He({target:Cr,proto:!0,forced:ir||_r},Qr);return Qr}}),"./node_modules/core-js/internals/define-well-known-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/path.js"),Qe=$e("./node_modules/core-js/internals/has.js"),We=$e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),qe=$e("./node_modules/core-js/internals/object-define-property.js").f;Me.exports=function(Ke){var Xe=He.Symbol||(He.Symbol={});Qe(Xe,Ke)||qe(Xe,Ke,{value:We.f(Ke)})}}),"./node_modules/core-js/internals/descriptors.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=!He(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),"./node_modules/core-js/internals/document-create-element.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/is-object.js"),We=He.document,qe=Qe(We)&&Qe(We.createElement);Me.exports=function(Ke){return qe?We.createElement(Ke):{}}}),"./node_modules/core-js/internals/dom-iterables.js":(function(Me){Me.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),"./node_modules/core-js/internals/engine-user-agent.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js");Me.exports=He("navigator","userAgent")||""}),"./node_modules/core-js/internals/engine-v8-version.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/engine-user-agent.js"),We=He.process,qe=He.Deno,Ke=We&&We.versions||qe&&qe.version,Xe=Ke&&Ke.v8,Ye,Ze;Xe?(Ye=Xe.split("."),Ze=Ye[0]<4?1:Ye[0]+Ye[1]):Qe&&(Ye=Qe.match(/Edge\/(\d+)/),(!Ye||Ye[1]>=74)&&(Ye=Qe.match(/Chrome\/(\d+)/),Ye&&(Ze=Ye[1]))),Me.exports=Ze&&+Ze}),"./node_modules/core-js/internals/enum-bug-keys.js":(function(Me){Me.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"./node_modules/core-js/internals/export.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,We=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),qe=$e("./node_modules/core-js/internals/redefine.js"),Ke=$e("./node_modules/core-js/internals/set-global.js"),Xe=$e("./node_modules/core-js/internals/copy-constructor-properties.js"),Ye=$e("./node_modules/core-js/internals/is-forced.js");Me.exports=function(Ze,Je){var tr=Ze.target,rr=Ze.global,ar=Ze.stat,ir,nr,cr,mr,fr,or;if(rr?nr=He:ar?nr=He[tr]||Ke(tr,{}):nr=(He[tr]||{}).prototype,nr)for(cr in Je){if(fr=Je[cr],Ze.noTargetGet?(or=Qe(nr,cr),mr=or&&or.value):mr=nr[cr],ir=Ye(rr?cr:tr+(ar?".":"#")+cr,Ze.forced),!ir&&mr!==void 0){if(typeof fr==typeof mr)continue;Xe(fr,mr)}(Ze.sham||mr&&mr.sham)&&We(fr,"sham",!0),qe(nr,cr,fr,Ze)}}}),"./node_modules/core-js/internals/fails.js":(function(Me){Me.exports=function(Ue){try{return!!Ue()}catch{return!0}}}),"./node_modules/core-js/internals/function-bind-context.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/a-function.js");Me.exports=function(Qe,We,qe){if(He(Qe),We===void 0)return Qe;switch(qe){case 0:return function(){return Qe.call(We)};case 1:return function(Ke){return Qe.call(We,Ke)};case 2:return function(Ke,Xe){return Qe.call(We,Ke,Xe)};case 3:return function(Ke,Xe,Ye){return Qe.call(We,Ke,Xe,Ye)}}return function(){return Qe.apply(We,arguments)}}}),"./node_modules/core-js/internals/get-built-in.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=function(We){return typeof We=="function"?We:void 0};Me.exports=function(We,qe){return arguments.length<2?Qe(He[We]):He[We]&&He[We][qe]}}),"./node_modules/core-js/internals/global.js":(function(Me){var Ue=function($e){return $e&&$e.Math==Math&&$e};Me.exports=Ue(typeof globalThis=="object"&&globalThis)||Ue(typeof window=="object"&&window)||Ue(typeof self=="object"&&self)||Ue(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||(function(){return this})()||Function("return this")()}),"./node_modules/core-js/internals/has.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-object.js"),Qe={}.hasOwnProperty;Me.exports=Object.hasOwn||function(qe,Ke){return Qe.call(He(qe),Ke)}}),"./node_modules/core-js/internals/hidden-keys.js":(function(Me){Me.exports={}}),"./node_modules/core-js/internals/html.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js");Me.exports=He("document","documentElement")}),"./node_modules/core-js/internals/ie8-dom-define.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/fails.js"),We=$e("./node_modules/core-js/internals/document-create-element.js");Me.exports=!He&&!Qe(function(){return Object.defineProperty(We("div"),"a",{get:function(){return 7}}).a!=7})}),"./node_modules/core-js/internals/indexed-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=$e("./node_modules/core-js/internals/classof-raw.js"),We="".split;Me.exports=He(function(){return!Object("z").propertyIsEnumerable(0)})?function(qe){return Qe(qe)=="String"?We.call(qe,""):Object(qe)}:Object}),"./node_modules/core-js/internals/inherit-if-required.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js"),Qe=$e("./node_modules/core-js/internals/object-set-prototype-of.js");Me.exports=function(We,qe,Ke){var Xe,Ye;return Qe&&typeof(Xe=qe.constructor)=="function"&&Xe!==Ke&&He(Ye=Xe.prototype)&&Ye!==Ke.prototype&&Qe(We,Ye),We}}),"./node_modules/core-js/internals/inspect-source.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/shared-store.js"),Qe=Function.toString;typeof He.inspectSource!="function"&&(He.inspectSource=function(We){return Qe.call(We)}),Me.exports=He.inspectSource}),"./node_modules/core-js/internals/internal-state.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/native-weak-map.js"),Qe=$e("./node_modules/core-js/internals/global.js"),We=$e("./node_modules/core-js/internals/is-object.js"),qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ke=$e("./node_modules/core-js/internals/has.js"),Xe=$e("./node_modules/core-js/internals/shared-store.js"),Ye=$e("./node_modules/core-js/internals/shared-key.js"),Ze=$e("./node_modules/core-js/internals/hidden-keys.js"),Je="Object already initialized",tr=Qe.WeakMap,rr,ar,ir,nr=function(jr){return ir(jr)?ar(jr):rr(jr,{})},cr=function(jr){return function(vr){var Tr;if(!We(vr)||(Tr=ar(vr)).type!==jr)throw TypeError("Incompatible receiver, "+jr+" required");return Tr}};if(He||Xe.state){var mr=Xe.state||(Xe.state=new tr),fr=mr.get,or=mr.has,yr=mr.set;rr=function(jr,vr){if(or.call(mr,jr))throw new TypeError(Je);return vr.facade=jr,yr.call(mr,jr,vr),vr},ar=function(jr){return fr.call(mr,jr)||{}},ir=function(jr){return or.call(mr,jr)}}else{var Cr=Ye("state");Ze[Cr]=!0,rr=function(jr,vr){if(Ke(jr,Cr))throw new TypeError(Je);return vr.facade=jr,qe(jr,Cr,vr),vr},ar=function(jr){return Ke(jr,Cr)?jr[Cr]:{}},ir=function(jr){return Ke(jr,Cr)}}Me.exports={set:rr,get:ar,has:ir,enforce:nr,getterFor:cr}}),"./node_modules/core-js/internals/is-array.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/classof-raw.js");Me.exports=Array.isArray||function(We){return He(We)=="Array"}}),"./node_modules/core-js/internals/is-forced.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=/#|\.prototype\./,We=function(Ze,Je){var tr=Ke[qe(Ze)];return tr==Ye?!0:tr==Xe?!1:typeof Je=="function"?He(Je):!!Je},qe=We.normalize=function(Ze){return String(Ze).replace(Qe,".").toLowerCase()},Ke=We.data={},Xe=We.NATIVE="N",Ye=We.POLYFILL="P";Me.exports=We}),"./node_modules/core-js/internals/is-object.js":(function(Me){Me.exports=function(Ue){return typeof Ue=="object"?Ue!==null:typeof Ue=="function"}}),"./node_modules/core-js/internals/is-pure.js":(function(Me){Me.exports=!1}),"./node_modules/core-js/internals/is-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js"),Qe=$e("./node_modules/core-js/internals/use-symbol-as-uid.js");Me.exports=Qe?function(We){return typeof We=="symbol"}:function(We){var qe=He("Symbol");return typeof qe=="function"&&Object(We)instanceof qe}}),"./node_modules/core-js/internals/iterators-core.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js"),Qe=$e("./node_modules/core-js/internals/object-get-prototype-of.js"),We=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),qe=$e("./node_modules/core-js/internals/has.js"),Ke=$e("./node_modules/core-js/internals/well-known-symbol.js"),Xe=$e("./node_modules/core-js/internals/is-pure.js"),Ye=Ke("iterator"),Ze=!1,Je=function(){return this},tr,rr,ar;[].keys&&(ar=[].keys(),"next"in ar?(rr=Qe(Qe(ar)),rr!==Object.prototype&&(tr=rr)):Ze=!0);var ir=tr==null||He(function(){var nr={};return tr[Ye].call(nr)!==nr});ir&&(tr={}),(!Xe||ir)&&!qe(tr,Ye)&&We(tr,Ye,Je),Me.exports={IteratorPrototype:tr,BUGGY_SAFARI_ITERATORS:Ze}}),"./node_modules/core-js/internals/iterators.js":(function(Me){Me.exports={}}),"./node_modules/core-js/internals/native-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/engine-v8-version.js"),Qe=$e("./node_modules/core-js/internals/fails.js");Me.exports=!!Object.getOwnPropertySymbols&&!Qe(function(){var We=Symbol();return!String(We)||!(Object(We)instanceof Symbol)||!Symbol.sham&&He&&He<41})}),"./node_modules/core-js/internals/native-weak-map.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/inspect-source.js"),We=He.WeakMap;Me.exports=typeof We=="function"&&/native code/.test(Qe(We))}),"./node_modules/core-js/internals/object-assign.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/fails.js"),We=$e("./node_modules/core-js/internals/object-keys.js"),qe=$e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Ke=$e("./node_modules/core-js/internals/object-property-is-enumerable.js"),Xe=$e("./node_modules/core-js/internals/to-object.js"),Ye=$e("./node_modules/core-js/internals/indexed-object.js"),Ze=Object.assign,Je=Object.defineProperty;Me.exports=!Ze||Qe(function(){if(He&&Ze({b:1},Ze(Je({},"a",{enumerable:!0,get:function(){Je(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var tr={},rr={},ar=Symbol(),ir="abcdefghijklmnopqrst";return tr[ar]=7,ir.split("").forEach(function(nr){rr[nr]=nr}),Ze({},tr)[ar]!=7||We(Ze({},rr)).join("")!=ir})?function(rr,ar){for(var ir=Xe(rr),nr=arguments.length,cr=1,mr=qe.f,fr=Ke.f;nr>cr;)for(var or=Ye(arguments[cr++]),yr=mr?We(or).concat(mr(or)):We(or),Cr=yr.length,jr=0,vr;Cr>jr;)vr=yr[jr++],(!He||fr.call(or,vr))&&(ir[vr]=or[vr]);return ir}:Ze}),"./node_modules/core-js/internals/object-create.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/an-object.js"),Qe=$e("./node_modules/core-js/internals/object-define-properties.js"),We=$e("./node_modules/core-js/internals/enum-bug-keys.js"),qe=$e("./node_modules/core-js/internals/hidden-keys.js"),Ke=$e("./node_modules/core-js/internals/html.js"),Xe=$e("./node_modules/core-js/internals/document-create-element.js"),Ye=$e("./node_modules/core-js/internals/shared-key.js"),Ze=">",Je="<",tr="prototype",rr="script",ar=Ye("IE_PROTO"),ir=function(){},nr=function(yr){return Je+rr+Ze+yr+Je+"/"+rr+Ze},cr=function(yr){yr.write(nr("")),yr.close();var Cr=yr.parentWindow.Object;return yr=null,Cr},mr=function(){var yr=Xe("iframe"),Cr="java"+rr+":",jr;if(yr.style)return yr.style.display="none",Ke.appendChild(yr),yr.src=String(Cr),jr=yr.contentWindow.document,jr.open(),jr.write(nr("document.F=Object")),jr.close(),jr.F},fr,or=function(){try{fr=new ActiveXObject("htmlfile")}catch{}or=document.domain&&fr?cr(fr):mr()||cr(fr);for(var yr=We.length;yr--;)delete or[tr][We[yr]];return or()};qe[ar]=!0,Me.exports=Object.create||function(Cr,jr){var vr;return Cr!==null?(ir[tr]=He(Cr),vr=new ir,ir[tr]=null,vr[ar]=Cr):vr=or(),jr===void 0?vr:Qe(vr,jr)}}),"./node_modules/core-js/internals/object-define-properties.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js"),We=$e("./node_modules/core-js/internals/an-object.js"),qe=$e("./node_modules/core-js/internals/object-keys.js");Me.exports=He?Object.defineProperties:function(Xe,Ye){We(Xe);for(var Ze=qe(Ye),Je=Ze.length,tr=0,rr;Je>tr;)Qe.f(Xe,rr=Ze[tr++],Ye[rr]);return Xe}}),"./node_modules/core-js/internals/object-define-property.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/ie8-dom-define.js"),We=$e("./node_modules/core-js/internals/an-object.js"),qe=$e("./node_modules/core-js/internals/to-property-key.js"),Ke=Object.defineProperty;Ue.f=He?Ke:function(Ye,Ze,Je){if(We(Ye),Ze=qe(Ze),We(Je),Qe)try{return Ke(Ye,Ze,Je)}catch{}if("get"in Je||"set"in Je)throw TypeError("Accessors not supported");return"value"in Je&&(Ye[Ze]=Je.value),Ye}}),"./node_modules/core-js/internals/object-get-own-property-descriptor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-property-is-enumerable.js"),We=$e("./node_modules/core-js/internals/create-property-descriptor.js"),qe=$e("./node_modules/core-js/internals/to-indexed-object.js"),Ke=$e("./node_modules/core-js/internals/to-property-key.js"),Xe=$e("./node_modules/core-js/internals/has.js"),Ye=$e("./node_modules/core-js/internals/ie8-dom-define.js"),Ze=Object.getOwnPropertyDescriptor;Ue.f=He?Ze:function(tr,rr){if(tr=qe(tr),rr=Ke(rr),Ye)try{return Ze(tr,rr)}catch{}if(Xe(tr,rr))return We(!Qe.f.call(tr,rr),tr[rr])}}),"./node_modules/core-js/internals/object-get-own-property-names-external.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-indexed-object.js"),Qe=$e("./node_modules/core-js/internals/object-get-own-property-names.js").f,We={}.toString,qe=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Ke=function(Xe){try{return Qe(Xe)}catch{return qe.slice()}};Me.exports.f=function(Ye){return qe&&We.call(Ye)=="[object Window]"?Ke(Ye):Qe(He(Ye))}}),"./node_modules/core-js/internals/object-get-own-property-names.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/object-keys-internal.js"),Qe=$e("./node_modules/core-js/internals/enum-bug-keys.js"),We=Qe.concat("length","prototype");Ue.f=Object.getOwnPropertyNames||function(Ke){return He(Ke,We)}}),"./node_modules/core-js/internals/object-get-own-property-symbols.js":(function(Me,Ue){Ue.f=Object.getOwnPropertySymbols}),"./node_modules/core-js/internals/object-get-prototype-of.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/has.js"),Qe=$e("./node_modules/core-js/internals/to-object.js"),We=$e("./node_modules/core-js/internals/shared-key.js"),qe=$e("./node_modules/core-js/internals/correct-prototype-getter.js"),Ke=We("IE_PROTO"),Xe=Object.prototype;Me.exports=qe?Object.getPrototypeOf:function(Ye){return Ye=Qe(Ye),He(Ye,Ke)?Ye[Ke]:typeof Ye.constructor=="function"&&Ye instanceof Ye.constructor?Ye.constructor.prototype:Ye instanceof Object?Xe:null}}),"./node_modules/core-js/internals/object-keys-internal.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/has.js"),Qe=$e("./node_modules/core-js/internals/to-indexed-object.js"),We=$e("./node_modules/core-js/internals/array-includes.js").indexOf,qe=$e("./node_modules/core-js/internals/hidden-keys.js");Me.exports=function(Ke,Xe){var Ye=Qe(Ke),Ze=0,Je=[],tr;for(tr in Ye)!He(qe,tr)&&He(Ye,tr)&&Je.push(tr);for(;Xe.length>Ze;)He(Ye,tr=Xe[Ze++])&&(~We(Je,tr)||Je.push(tr));return Je}}),"./node_modules/core-js/internals/object-keys.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/object-keys-internal.js"),Qe=$e("./node_modules/core-js/internals/enum-bug-keys.js");Me.exports=Object.keys||function(qe){return He(qe,Qe)}}),"./node_modules/core-js/internals/object-property-is-enumerable.js":(function(Me,Ue){var $e={}.propertyIsEnumerable,He=Object.getOwnPropertyDescriptor,Qe=He&&!$e.call({1:2},1);Ue.f=Qe?function(qe){var Ke=He(this,qe);return!!Ke&&Ke.enumerable}:$e}),"./node_modules/core-js/internals/object-set-prototype-of.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/an-object.js"),Qe=$e("./node_modules/core-js/internals/a-possible-prototype.js");Me.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var We=!1,qe={},Ke;try{Ke=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,Ke.call(qe,[]),We=qe instanceof Array}catch{}return function(Ye,Ze){return He(Ye),Qe(Ze),We?Ke.call(Ye,Ze):Ye.__proto__=Ze,Ye}})():void 0)}),"./node_modules/core-js/internals/object-to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-string-tag-support.js"),Qe=$e("./node_modules/core-js/internals/classof.js");Me.exports=He?{}.toString:function(){return"[object "+Qe(this)+"]"}}),"./node_modules/core-js/internals/ordinary-to-primitive.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js");Me.exports=function(Qe,We){var qe,Ke;if(We==="string"&&typeof(qe=Qe.toString)=="function"&&!He(Ke=qe.call(Qe))||typeof(qe=Qe.valueOf)=="function"&&!He(Ke=qe.call(Qe))||We!=="string"&&typeof(qe=Qe.toString)=="function"&&!He(Ke=qe.call(Qe)))return Ke;throw TypeError("Can't convert object to primitive value")}}),"./node_modules/core-js/internals/own-keys.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/get-built-in.js"),Qe=$e("./node_modules/core-js/internals/object-get-own-property-names.js"),We=$e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),qe=$e("./node_modules/core-js/internals/an-object.js");Me.exports=He("Reflect","ownKeys")||function(Xe){var Ye=Qe.f(qe(Xe)),Ze=We.f;return Ze?Ye.concat(Ze(Xe)):Ye}}),"./node_modules/core-js/internals/path.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js");Me.exports=He}),"./node_modules/core-js/internals/redefine.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),We=$e("./node_modules/core-js/internals/has.js"),qe=$e("./node_modules/core-js/internals/set-global.js"),Ke=$e("./node_modules/core-js/internals/inspect-source.js"),Xe=$e("./node_modules/core-js/internals/internal-state.js"),Ye=Xe.get,Ze=Xe.enforce,Je=String(String).split("String");(Me.exports=function(tr,rr,ar,ir){var nr=ir?!!ir.unsafe:!1,cr=ir?!!ir.enumerable:!1,mr=ir?!!ir.noTargetGet:!1,fr;if(typeof ar=="function"&&(typeof rr=="string"&&!We(ar,"name")&&Qe(ar,"name",rr),fr=Ze(ar),fr.source||(fr.source=Je.join(typeof rr=="string"?rr:""))),tr===He){cr?tr[rr]=ar:qe(rr,ar);return}else nr?!mr&&tr[rr]&&(cr=!0):delete tr[rr];cr?tr[rr]=ar:Qe(tr,rr,ar)})(Function.prototype,"toString",function(){return typeof this=="function"&&Ye(this).source||Ke(this)})}),"./node_modules/core-js/internals/regexp-flags.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/an-object.js");Me.exports=function(){var Qe=He(this),We="";return Qe.global&&(We+="g"),Qe.ignoreCase&&(We+="i"),Qe.multiline&&(We+="m"),Qe.dotAll&&(We+="s"),Qe.unicode&&(We+="u"),Qe.sticky&&(We+="y"),We}}),"./node_modules/core-js/internals/require-object-coercible.js":(function(Me){Me.exports=function(Ue){if(Ue==null)throw TypeError("Can't call method on "+Ue);return Ue}}),"./node_modules/core-js/internals/set-global.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js");Me.exports=function(Qe,We){try{Object.defineProperty(He,Qe,{value:We,configurable:!0,writable:!0})}catch{He[Qe]=We}return We}}),"./node_modules/core-js/internals/set-to-string-tag.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/object-define-property.js").f,Qe=$e("./node_modules/core-js/internals/has.js"),We=$e("./node_modules/core-js/internals/well-known-symbol.js"),qe=We("toStringTag");Me.exports=function(Ke,Xe,Ye){Ke&&!Qe(Ke=Ye?Ke:Ke.prototype,qe)&&He(Ke,qe,{configurable:!0,value:Xe})}}),"./node_modules/core-js/internals/shared-key.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/shared.js"),Qe=$e("./node_modules/core-js/internals/uid.js"),We=He("keys");Me.exports=function(qe){return We[qe]||(We[qe]=Qe(qe))}}),"./node_modules/core-js/internals/shared-store.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/set-global.js"),We="__core-js_shared__",qe=He[We]||Qe(We,{});Me.exports=qe}),"./node_modules/core-js/internals/shared.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-pure.js"),Qe=$e("./node_modules/core-js/internals/shared-store.js");(Me.exports=function(We,qe){return Qe[We]||(Qe[We]=qe!==void 0?qe:{})})("versions",[]).push({version:"3.16.0",mode:He?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),"./node_modules/core-js/internals/string-html-forced.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/fails.js");Me.exports=function(Qe){return He(function(){var We=""[Qe]('"');return We!==We.toLowerCase()||We.split('"').length>3})}}),"./node_modules/core-js/internals/string-multibyte.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-integer.js"),Qe=$e("./node_modules/core-js/internals/to-string.js"),We=$e("./node_modules/core-js/internals/require-object-coercible.js"),qe=function(Ke){return function(Xe,Ye){var Ze=Qe(We(Xe)),Je=He(Ye),tr=Ze.length,rr,ar;return Je<0||Je>=tr?Ke?"":void 0:(rr=Ze.charCodeAt(Je),rr<55296||rr>56319||Je+1===tr||(ar=Ze.charCodeAt(Je+1))<56320||ar>57343?Ke?Ze.charAt(Je):rr:Ke?Ze.slice(Je,Je+2):(rr-55296<<10)+(ar-56320)+65536)}};Me.exports={codeAt:qe(!1),charAt:qe(!0)}}),"./node_modules/core-js/internals/string-trim.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/require-object-coercible.js"),Qe=$e("./node_modules/core-js/internals/to-string.js"),We=$e("./node_modules/core-js/internals/whitespaces.js"),qe="["+We+"]",Ke=RegExp("^"+qe+qe+"*"),Xe=RegExp(qe+qe+"*$"),Ye=function(Ze){return function(Je){var tr=Qe(He(Je));return Ze&1&&(tr=tr.replace(Ke,"")),Ze&2&&(tr=tr.replace(Xe,"")),tr}};Me.exports={start:Ye(1),end:Ye(2),trim:Ye(3)}}),"./node_modules/core-js/internals/to-absolute-index.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-integer.js"),Qe=Math.max,We=Math.min;Me.exports=function(qe,Ke){var Xe=He(qe);return Xe<0?Qe(Xe+Ke,0):We(Xe,Ke)}}),"./node_modules/core-js/internals/to-indexed-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/indexed-object.js"),Qe=$e("./node_modules/core-js/internals/require-object-coercible.js");Me.exports=function(We){return He(Qe(We))}}),"./node_modules/core-js/internals/to-integer.js":(function(Me){var Ue=Math.ceil,$e=Math.floor;Me.exports=function(He){return isNaN(He=+He)?0:(He>0?$e:Ue)(He)}}),"./node_modules/core-js/internals/to-length.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-integer.js"),Qe=Math.min;Me.exports=function(We){return We>0?Qe(He(We),9007199254740991):0}}),"./node_modules/core-js/internals/to-object.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/require-object-coercible.js");Me.exports=function(Qe){return Object(He(Qe))}}),"./node_modules/core-js/internals/to-primitive.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-object.js"),Qe=$e("./node_modules/core-js/internals/is-symbol.js"),We=$e("./node_modules/core-js/internals/ordinary-to-primitive.js"),qe=$e("./node_modules/core-js/internals/well-known-symbol.js"),Ke=qe("toPrimitive");Me.exports=function(Xe,Ye){if(!He(Xe)||Qe(Xe))return Xe;var Ze=Xe[Ke],Je;if(Ze!==void 0){if(Ye===void 0&&(Ye="default"),Je=Ze.call(Xe,Ye),!He(Je)||Qe(Je))return Je;throw TypeError("Can't convert object to primitive value")}return Ye===void 0&&(Ye="number"),We(Xe,Ye)}}),"./node_modules/core-js/internals/to-property-key.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-primitive.js"),Qe=$e("./node_modules/core-js/internals/is-symbol.js");Me.exports=function(We){var qe=He(We,"string");return Qe(qe)?qe:String(qe)}}),"./node_modules/core-js/internals/to-string-tag-support.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/well-known-symbol.js"),Qe=He("toStringTag"),We={};We[Qe]="z",Me.exports=String(We)==="[object z]"}),"./node_modules/core-js/internals/to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/is-symbol.js");Me.exports=function(Qe){if(He(Qe))throw TypeError("Cannot convert a Symbol value to a string");return String(Qe)}}),"./node_modules/core-js/internals/uid.js":(function(Me){var Ue=0,$e=Math.random();Me.exports=function(He){return"Symbol("+String(He===void 0?"":He)+")_"+(++Ue+$e).toString(36)}}),"./node_modules/core-js/internals/use-symbol-as-uid.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/native-symbol.js");Me.exports=He&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),"./node_modules/core-js/internals/well-known-symbol-wrapped.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/well-known-symbol.js");Ue.f=He}),"./node_modules/core-js/internals/well-known-symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/shared.js"),We=$e("./node_modules/core-js/internals/has.js"),qe=$e("./node_modules/core-js/internals/uid.js"),Ke=$e("./node_modules/core-js/internals/native-symbol.js"),Xe=$e("./node_modules/core-js/internals/use-symbol-as-uid.js"),Ye=Qe("wks"),Ze=He.Symbol,Je=Xe?Ze:Ze&&Ze.withoutSetter||qe;Me.exports=function(tr){return(!We(Ye,tr)||!(Ke||typeof Ye[tr]=="string"))&&(Ke&&We(Ze,tr)?Ye[tr]=Ze[tr]:Ye[tr]=Je("Symbol."+tr)),Ye[tr]}}),"./node_modules/core-js/internals/whitespaces.js":(function(Me){Me.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),"./node_modules/core-js/modules/es.array.concat.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/fails.js"),We=$e("./node_modules/core-js/internals/is-array.js"),qe=$e("./node_modules/core-js/internals/is-object.js"),Ke=$e("./node_modules/core-js/internals/to-object.js"),Xe=$e("./node_modules/core-js/internals/to-length.js"),Ye=$e("./node_modules/core-js/internals/create-property.js"),Ze=$e("./node_modules/core-js/internals/array-species-create.js"),Je=$e("./node_modules/core-js/internals/array-method-has-species-support.js"),tr=$e("./node_modules/core-js/internals/well-known-symbol.js"),rr=$e("./node_modules/core-js/internals/engine-v8-version.js"),ar=tr("isConcatSpreadable"),ir=9007199254740991,nr="Maximum allowed index exceeded",cr=rr>=51||!Qe(function(){var yr=[];return yr[ar]=!1,yr.concat()[0]!==yr}),mr=Je("concat"),fr=function(yr){if(!qe(yr))return!1;var Cr=yr[ar];return Cr!==void 0?!!Cr:We(yr)},or=!cr||!mr;He({target:"Array",proto:!0,forced:or},{concat:function(Cr){var jr=Ke(this),vr=Ze(jr,0),Tr=0,wr,Er,Pr,Mr,_r;for(wr=-1,Pr=arguments.length;wr<Pr;wr++)if(_r=wr===-1?jr:arguments[wr],fr(_r)){if(Mr=Xe(_r.length),Tr+Mr>ir)throw TypeError(nr);for(Er=0;Er<Mr;Er++,Tr++)Er in _r&&Ye(vr,Tr,_r[Er])}else{if(Tr>=ir)throw TypeError(nr);Ye(vr,Tr++,_r)}return vr.length=Tr,vr}})}),"./node_modules/core-js/modules/es.array.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-indexed-object.js"),Qe=$e("./node_modules/core-js/internals/add-to-unscopables.js"),We=$e("./node_modules/core-js/internals/iterators.js"),qe=$e("./node_modules/core-js/internals/internal-state.js"),Ke=$e("./node_modules/core-js/internals/define-iterator.js"),Xe="Array Iterator",Ye=qe.set,Ze=qe.getterFor(Xe);Me.exports=Ke(Array,"Array",function(Je,tr){Ye(this,{type:Xe,target:He(Je),index:0,kind:tr})},function(){var Je=Ze(this),tr=Je.target,rr=Je.kind,ar=Je.index++;return!tr||ar>=tr.length?(Je.target=void 0,{value:void 0,done:!0}):rr=="keys"?{value:ar,done:!1}:rr=="values"?{value:tr[ar],done:!1}:{value:[ar,tr[ar]],done:!1}},"values"),We.Arguments=We.Array,Qe("keys"),Qe("values"),Qe("entries")}),"./node_modules/core-js/modules/es.array.join.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/indexed-object.js"),We=$e("./node_modules/core-js/internals/to-indexed-object.js"),qe=$e("./node_modules/core-js/internals/array-method-is-strict.js"),Ke=[].join,Xe=Qe!=Object,Ye=qe("join",",");He({target:"Array",proto:!0,forced:Xe||!Ye},{join:function(Je){return Ke.call(We(this),Je===void 0?",":Je)}})}),"./node_modules/core-js/modules/es.array.map.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/array-iteration.js").map,We=$e("./node_modules/core-js/internals/array-method-has-species-support.js"),qe=We("map");He({target:"Array",proto:!0,forced:!qe},{map:function(Xe){return Qe(this,Xe,arguments.length>1?arguments[1]:void 0)}})}),"./node_modules/core-js/modules/es.array.slice.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/is-object.js"),We=$e("./node_modules/core-js/internals/is-array.js"),qe=$e("./node_modules/core-js/internals/to-absolute-index.js"),Ke=$e("./node_modules/core-js/internals/to-length.js"),Xe=$e("./node_modules/core-js/internals/to-indexed-object.js"),Ye=$e("./node_modules/core-js/internals/create-property.js"),Ze=$e("./node_modules/core-js/internals/well-known-symbol.js"),Je=$e("./node_modules/core-js/internals/array-method-has-species-support.js"),tr=Je("slice"),rr=Ze("species"),ar=[].slice,ir=Math.max;He({target:"Array",proto:!0,forced:!tr},{slice:function(cr,mr){var fr=Xe(this),or=Ke(fr.length),yr=qe(cr,or),Cr=qe(mr===void 0?or:mr,or),jr,vr,Tr;if(We(fr)&&(jr=fr.constructor,typeof jr=="function"&&(jr===Array||We(jr.prototype))?jr=void 0:Qe(jr)&&(jr=jr[rr],jr===null&&(jr=void 0)),jr===Array||jr===void 0))return ar.call(fr,yr,Cr);for(vr=new(jr===void 0?Array:jr)(ir(Cr-yr,0)),Tr=0;yr<Cr;yr++,Tr++)yr in fr&&Ye(vr,Tr,fr[yr]);return vr.length=Tr,vr}})}),"./node_modules/core-js/modules/es.function.name.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/object-define-property.js").f,We=Function.prototype,qe=We.toString,Ke=/^\s*function ([^ (]*)/,Xe="name";He&&!(Xe in We)&&Qe(We,Xe,{configurable:!0,get:function(){try{return qe.call(this).match(Ke)[1]}catch{return""}}})}),"./node_modules/core-js/modules/es.number.constructor.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/descriptors.js"),Qe=$e("./node_modules/core-js/internals/global.js"),We=$e("./node_modules/core-js/internals/is-forced.js"),qe=$e("./node_modules/core-js/internals/redefine.js"),Ke=$e("./node_modules/core-js/internals/has.js"),Xe=$e("./node_modules/core-js/internals/classof-raw.js"),Ye=$e("./node_modules/core-js/internals/inherit-if-required.js"),Ze=$e("./node_modules/core-js/internals/is-symbol.js"),Je=$e("./node_modules/core-js/internals/to-primitive.js"),tr=$e("./node_modules/core-js/internals/fails.js"),rr=$e("./node_modules/core-js/internals/object-create.js"),ar=$e("./node_modules/core-js/internals/object-get-own-property-names.js").f,ir=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js").f,nr=$e("./node_modules/core-js/internals/object-define-property.js").f,cr=$e("./node_modules/core-js/internals/string-trim.js").trim,mr="Number",fr=Qe[mr],or=fr.prototype,yr=Xe(rr(or))==mr,Cr=function(Er){if(Ze(Er))throw TypeError("Cannot convert a Symbol value to a number");var Pr=Je(Er,"number"),Mr,_r,Ir,Dr,Or,br,Ur,Qr;if(typeof Pr=="string"&&Pr.length>2){if(Pr=cr(Pr),Mr=Pr.charCodeAt(0),Mr===43||Mr===45){if(_r=Pr.charCodeAt(2),_r===88||_r===120)return NaN}else if(Mr===48){switch(Pr.charCodeAt(1)){case 66:case 98:Ir=2,Dr=49;break;case 79:case 111:Ir=8,Dr=55;break;default:return+Pr}for(Or=Pr.slice(2),br=Or.length,Ur=0;Ur<br;Ur++)if(Qr=Or.charCodeAt(Ur),Qr<48||Qr>Dr)return NaN;return parseInt(Or,Ir)}}return+Pr};if(We(mr,!fr(" 0o1")||!fr("0b1")||fr("+0x1"))){for(var jr=function(Pr){var Mr=arguments.length<1?0:Pr,_r=this;return _r instanceof jr&&(yr?tr(function(){or.valueOf.call(_r)}):Xe(_r)!=mr)?Ye(new fr(Cr(Mr)),_r,jr):Cr(Mr)},vr=He?ar(fr):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Tr=0,wr;vr.length>Tr;Tr++)Ke(fr,wr=vr[Tr])&&!Ke(jr,wr)&&nr(jr,wr,ir(fr,wr));jr.prototype=or,or.constructor=jr,qe(Qe,mr,jr)}}),"./node_modules/core-js/modules/es.object.assign.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/object-assign.js");He({target:"Object",stat:!0,forced:Object.assign!==Qe},{assign:Qe})}),"./node_modules/core-js/modules/es.object.keys.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/to-object.js"),We=$e("./node_modules/core-js/internals/object-keys.js"),qe=$e("./node_modules/core-js/internals/fails.js"),Ke=qe(function(){We(1)});He({target:"Object",stat:!0,forced:Ke},{keys:function(Ye){return We(Qe(Ye))}})}),"./node_modules/core-js/modules/es.object.to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/to-string-tag-support.js"),Qe=$e("./node_modules/core-js/internals/redefine.js"),We=$e("./node_modules/core-js/internals/object-to-string.js");He||Qe(Object.prototype,"toString",We,{unsafe:!0})}),"./node_modules/core-js/modules/es.regexp.to-string.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/redefine.js"),Qe=$e("./node_modules/core-js/internals/an-object.js"),We=$e("./node_modules/core-js/internals/to-string.js"),qe=$e("./node_modules/core-js/internals/fails.js"),Ke=$e("./node_modules/core-js/internals/regexp-flags.js"),Xe="toString",Ye=RegExp.prototype,Ze=Ye[Xe],Je=qe(function(){return Ze.call({source:"a",flags:"b"})!="/a/b"}),tr=Ze.name!=Xe;(Je||tr)&&He(RegExp.prototype,Xe,function(){var ar=Qe(this),ir=We(ar.source),nr=ar.flags,cr=We(nr===void 0&&ar instanceof RegExp&&!("flags"in Ye)?Ke.call(ar):nr);return"/"+ir+"/"+cr},{unsafe:!0})}),"./node_modules/core-js/modules/es.string.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/string-multibyte.js").charAt,Qe=$e("./node_modules/core-js/internals/to-string.js"),We=$e("./node_modules/core-js/internals/internal-state.js"),qe=$e("./node_modules/core-js/internals/define-iterator.js"),Ke="String Iterator",Xe=We.set,Ye=We.getterFor(Ke);qe(String,"String",function(Ze){Xe(this,{type:Ke,string:Qe(Ze),index:0})},function(){var Je=Ye(this),tr=Je.string,rr=Je.index,ar;return rr>=tr.length?{value:void 0,done:!0}:(ar=He(tr,rr),Je.index+=ar.length,{value:ar,done:!1})})}),"./node_modules/core-js/modules/es.string.link.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/create-html.js"),We=$e("./node_modules/core-js/internals/string-html-forced.js");He({target:"String",proto:!0,forced:We("link")},{link:function(Ke){return Qe(this,"a","href",Ke)}})}),"./node_modules/core-js/modules/es.symbol.description.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/descriptors.js"),We=$e("./node_modules/core-js/internals/global.js"),qe=$e("./node_modules/core-js/internals/has.js"),Ke=$e("./node_modules/core-js/internals/is-object.js"),Xe=$e("./node_modules/core-js/internals/object-define-property.js").f,Ye=$e("./node_modules/core-js/internals/copy-constructor-properties.js"),Ze=We.Symbol;if(Qe&&typeof Ze=="function"&&(!("description"in Ze.prototype)||Ze().description!==void 0)){var Je={},tr=function(){var mr=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),fr=this instanceof tr?new Ze(mr):mr===void 0?Ze():Ze(mr);return mr===""&&(Je[fr]=!0),fr};Ye(tr,Ze);var rr=tr.prototype=Ze.prototype;rr.constructor=tr;var ar=rr.toString,ir=String(Ze("test"))=="Symbol(test)",nr=/^Symbol\((.*)\)[^)]+$/;Xe(rr,"description",{configurable:!0,get:function(){var mr=Ke(this)?this.valueOf():this,fr=ar.call(mr);if(qe(Je,mr))return"";var or=ir?fr.slice(7,-1):fr.replace(nr,"$1");return or===""?void 0:or}}),He({global:!0,forced:!0},{Symbol:tr})}}),"./node_modules/core-js/modules/es.symbol.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/define-well-known-symbol.js");He("iterator")}),"./node_modules/core-js/modules/es.symbol.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/export.js"),Qe=$e("./node_modules/core-js/internals/global.js"),We=$e("./node_modules/core-js/internals/get-built-in.js"),qe=$e("./node_modules/core-js/internals/is-pure.js"),Ke=$e("./node_modules/core-js/internals/descriptors.js"),Xe=$e("./node_modules/core-js/internals/native-symbol.js"),Ye=$e("./node_modules/core-js/internals/fails.js"),Ze=$e("./node_modules/core-js/internals/has.js"),Je=$e("./node_modules/core-js/internals/is-array.js"),tr=$e("./node_modules/core-js/internals/is-object.js"),rr=$e("./node_modules/core-js/internals/is-symbol.js"),ar=$e("./node_modules/core-js/internals/an-object.js"),ir=$e("./node_modules/core-js/internals/to-object.js"),nr=$e("./node_modules/core-js/internals/to-indexed-object.js"),cr=$e("./node_modules/core-js/internals/to-property-key.js"),mr=$e("./node_modules/core-js/internals/to-string.js"),fr=$e("./node_modules/core-js/internals/create-property-descriptor.js"),or=$e("./node_modules/core-js/internals/object-create.js"),yr=$e("./node_modules/core-js/internals/object-keys.js"),Cr=$e("./node_modules/core-js/internals/object-get-own-property-names.js"),jr=$e("./node_modules/core-js/internals/object-get-own-property-names-external.js"),vr=$e("./node_modules/core-js/internals/object-get-own-property-symbols.js"),Tr=$e("./node_modules/core-js/internals/object-get-own-property-descriptor.js"),wr=$e("./node_modules/core-js/internals/object-define-property.js"),Er=$e("./node_modules/core-js/internals/object-property-is-enumerable.js"),Pr=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Mr=$e("./node_modules/core-js/internals/redefine.js"),_r=$e("./node_modules/core-js/internals/shared.js"),Ir=$e("./node_modules/core-js/internals/shared-key.js"),Dr=$e("./node_modules/core-js/internals/hidden-keys.js"),Or=$e("./node_modules/core-js/internals/uid.js"),br=$e("./node_modules/core-js/internals/well-known-symbol.js"),Ur=$e("./node_modules/core-js/internals/well-known-symbol-wrapped.js"),Qr=$e("./node_modules/core-js/internals/define-well-known-symbol.js"),zr=$e("./node_modules/core-js/internals/set-to-string-tag.js"),Gr=$e("./node_modules/core-js/internals/internal-state.js"),fn=$e("./node_modules/core-js/internals/array-iteration.js").forEach,nn=Ir("hidden"),bn="Symbol",hn="prototype",yn=br("toPrimitive"),Zr=Gr.set,Rn=Gr.getterFor(bn),ri=Object[hn],Yn=Qe.Symbol,ti=We("JSON","stringify"),ei=Tr.f,Gn=wr.f,Ei=jr.f,Ci=Er.f,Fi=_r("symbols"),Si=_r("op-symbols"),Ti=_r("string-to-symbol-registry"),ji=_r("symbol-to-string-registry"),wi=_r("wks"),En=Qe.QObject,an=!En||!En[hn]||!En[hn].findChild,On=Ke&&Ye(function(){return or(Gn({},"a",{get:function(){return Gn(this,"a",{value:7}).a}})).a!=7})?function(ki,Ai,hi){var Bi=ei(ri,Ai);Bi&&delete ri[Ai],Gn(ki,Ai,hi),Bi&&ki!==ri&&Gn(ri,Ai,Bi)}:Gn,Mn=function(ki,Ai){var hi=Fi[ki]=or(Yn[hn]);return Zr(hi,{type:bn,tag:ki,description:Ai}),Ke||(hi.description=Ai),hi},ui=function(Ai,hi,Bi){Ai===ri&&ui(Si,hi,Bi),ar(Ai);var Zi=cr(hi);return ar(Bi),Ze(Fi,Zi)?(Bi.enumerable?(Ze(Ai,nn)&&Ai[nn][Zi]&&(Ai[nn][Zi]=!1),Bi=or(Bi,{enumerable:fr(0,!1)})):(Ze(Ai,nn)||Gn(Ai,nn,fr(1,{})),Ai[nn][Zi]=!0),On(Ai,Zi,Bi)):Gn(Ai,Zi,Bi)},Vn=function(Ai,hi){ar(Ai);var Bi=nr(hi),Zi=yr(Bi).concat(xi(Bi));return fn(Zi,function(ds){(!Ke||jn.call(Bi,ds))&&ui(Ai,ds,Bi[ds])}),Ai},yi=function(Ai,hi){return hi===void 0?or(Ai):Vn(or(Ai),hi)},jn=function(Ai){var hi=cr(Ai),Bi=Ci.call(this,hi);return this===ri&&Ze(Fi,hi)&&!Ze(Si,hi)?!1:Bi||!Ze(this,hi)||!Ze(Fi,hi)||Ze(this,nn)&&this[nn][hi]?Bi:!0},vn=function(Ai,hi){var Bi=nr(Ai),Zi=cr(hi);if(!(Bi===ri&&Ze(Fi,Zi)&&!Ze(Si,Zi))){var ds=ei(Bi,Zi);return ds&&Ze(Fi,Zi)&&!(Ze(Bi,nn)&&Bi[nn][Zi])&&(ds.enumerable=!0),ds}},Ni=function(Ai){var hi=Ei(nr(Ai)),Bi=[];return fn(hi,function(Zi){!Ze(Fi,Zi)&&!Ze(Dr,Zi)&&Bi.push(Zi)}),Bi},xi=function(Ai){var hi=Ai===ri,Bi=Ei(hi?Si:nr(Ai)),Zi=[];return fn(Bi,function(ds){Ze(Fi,ds)&&(!hi||Ze(ri,ds))&&Zi.push(Fi[ds])}),Zi};if(Xe||(Yn=function(){if(this instanceof Yn)throw TypeError("Symbol is not a constructor");var Ai=!arguments.length||arguments[0]===void 0?void 0:mr(arguments[0]),hi=Or(Ai),Bi=function(Zi){this===ri&&Bi.call(Si,Zi),Ze(this,nn)&&Ze(this[nn],hi)&&(this[nn][hi]=!1),On(this,hi,fr(1,Zi))};return Ke&&an&&On(ri,hi,{configurable:!0,set:Bi}),Mn(hi,Ai)},Mr(Yn[hn],"toString",function(){return Rn(this).tag}),Mr(Yn,"withoutSetter",function(ki){return Mn(Or(ki),ki)}),Er.f=jn,wr.f=ui,Tr.f=vn,Cr.f=jr.f=Ni,vr.f=xi,Ur.f=function(ki){return Mn(br(ki),ki)},Ke&&(Gn(Yn[hn],"description",{configurable:!0,get:function(){return Rn(this).description}}),qe||Mr(ri,"propertyIsEnumerable",jn,{unsafe:!0}))),He({global:!0,wrap:!0,forced:!Xe,sham:!Xe},{Symbol:Yn}),fn(yr(wi),function(ki){Qr(ki)}),He({target:bn,stat:!0,forced:!Xe},{for:function(ki){var Ai=mr(ki);if(Ze(Ti,Ai))return Ti[Ai];var hi=Yn(Ai);return Ti[Ai]=hi,ji[hi]=Ai,hi},keyFor:function(Ai){if(!rr(Ai))throw TypeError(Ai+" is not a symbol");if(Ze(ji,Ai))return ji[Ai]},useSetter:function(){an=!0},useSimple:function(){an=!1}}),He({target:"Object",stat:!0,forced:!Xe,sham:!Ke},{create:yi,defineProperty:ui,defineProperties:Vn,getOwnPropertyDescriptor:vn}),He({target:"Object",stat:!0,forced:!Xe},{getOwnPropertyNames:Ni,getOwnPropertySymbols:xi}),He({target:"Object",stat:!0,forced:Ye(function(){vr.f(1)})},{getOwnPropertySymbols:function(Ai){return vr.f(ir(Ai))}}),ti){var Gi=!Xe||Ye(function(){var ki=Yn();return ti([ki])!="[null]"||ti({a:ki})!="{}"||ti(Object(ki))!="{}"});He({target:"JSON",stat:!0,forced:Gi},{stringify:function(Ai,hi,Bi){for(var Zi=[Ai],ds=1,oa;arguments.length>ds;)Zi.push(arguments[ds++]);if(oa=hi,!(!tr(hi)&&Ai===void 0||rr(Ai)))return Je(hi)||(hi=function(Wa,Li){if(typeof oa=="function"&&(Li=oa.call(this,Wa,Li)),!rr(Li))return Li}),Zi[1]=hi,ti.apply(null,Zi)}})}Yn[hn][yn]||Pr(Yn[hn],yn,Yn[hn].valueOf),zr(Yn,bn),Dr[nn]=!0}),"./node_modules/core-js/modules/web.dom-collections.for-each.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/dom-iterables.js"),We=$e("./node_modules/core-js/internals/array-for-each.js"),qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js");for(var Ke in Qe){var Xe=He[Ke],Ye=Xe&&Xe.prototype;if(Ye&&Ye.forEach!==We)try{qe(Ye,"forEach",We)}catch{Ye.forEach=We}}}),"./node_modules/core-js/modules/web.dom-collections.iterator.js":(function(Me,Ue,$e){var He=$e("./node_modules/core-js/internals/global.js"),Qe=$e("./node_modules/core-js/internals/dom-iterables.js"),We=$e("./node_modules/core-js/modules/es.array.iterator.js"),qe=$e("./node_modules/core-js/internals/create-non-enumerable-property.js"),Ke=$e("./node_modules/core-js/internals/well-known-symbol.js"),Xe=Ke("iterator"),Ye=Ke("toStringTag"),Ze=We.values;for(var Je in Qe){var tr=He[Je],rr=tr&&tr.prototype;if(rr){if(rr[Xe]!==Ze)try{qe(rr,Xe,Ze)}catch{rr[Xe]=Ze}if(rr[Ye]||qe(rr,Ye,Je),Qe[Je]){for(var ar in We)if(rr[ar]!==We[ar])try{qe(rr,ar,We[ar])}catch{rr[ar]=We[ar]}}}}}),"./node_modules/es6-promise/dist/es6-promise.js":(function(Me){/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */(function(Ue,$e){Me.exports=$e()})(this,(function(){function Ue(En){var an=typeof En;return En!==null&&(an==="object"||an==="function")}function $e(En){return typeof En=="function"}var He=void 0;Array.isArray?He=Array.isArray:He=function(En){return Object.prototype.toString.call(En)==="[object Array]"};var Qe=He,We=0,qe=void 0,Ke=void 0,Xe=function(an,On){yr[We]=an,yr[We+1]=On,We+=2,We===2&&(Ke?Ke(Cr):vr())};function Ye(En){Ke=En}function Ze(En){Xe=En}var Je=typeof window<"u"?window:void 0,tr=Je||{},rr=tr.MutationObserver||tr.WebKitMutationObserver,ar=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",ir=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function nr(){return function(){return process.nextTick(Cr)}}function cr(){return typeof qe<"u"?function(){qe(Cr)}:or()}function mr(){var En=0,an=new rr(Cr),On=document.createTextNode("");return an.observe(On,{characterData:!0}),function(){On.data=En=++En%2}}function fr(){var En=new MessageChannel;return En.port1.onmessage=Cr,function(){return En.port2.postMessage(0)}}function or(){var En=setTimeout;return function(){return En(Cr,1)}}var yr=new Array(1e3);function Cr(){for(var En=0;En<We;En+=2){var an=yr[En],On=yr[En+1];an(On),yr[En]=void 0,yr[En+1]=void 0}We=0}function jr(){try{var En=Function("return this")().require("vertx");return qe=En.runOnLoop||En.runOnContext,cr()}catch{return or()}}var vr=void 0;ar?vr=nr():rr?vr=mr():ir?vr=fr():Je===void 0?vr=jr():vr=or();function Tr(En,an){var On=this,Mn=new this.constructor(Pr);Mn[Er]===void 0&&ti(Mn);var ui=On._state;if(ui){var Vn=arguments[ui-1];Xe(function(){return Zr(ui,Mn,Vn,On._result)})}else hn(On,Mn,En,an);return Mn}function wr(En){var an=this;if(En&&typeof En=="object"&&En.constructor===an)return En;var On=new an(Pr);return Gr(On,En),On}var Er=Math.random().toString(36).substring(2);function Pr(){}var Mr=void 0,_r=1,Ir=2;function Dr(){return new TypeError("You cannot resolve a promise with itself")}function Or(){return new TypeError("A promises callback cannot return that same promise.")}function br(En,an,On,Mn){try{En.call(an,On,Mn)}catch(ui){return ui}}function Ur(En,an,On){Xe(function(Mn){var ui=!1,Vn=br(On,an,function(yi){ui||(ui=!0,an!==yi?Gr(Mn,yi):nn(Mn,yi))},function(yi){ui||(ui=!0,bn(Mn,yi))},"Settle: "+(Mn._label||" unknown promise"));!ui&&Vn&&(ui=!0,bn(Mn,Vn))},En)}function Qr(En,an){an._state===_r?nn(En,an._result):an._state===Ir?bn(En,an._result):hn(an,void 0,function(On){return Gr(En,On)},function(On){return bn(En,On)})}function zr(En,an,On){an.constructor===En.constructor&&On===Tr&&an.constructor.resolve===wr?Qr(En,an):On===void 0?nn(En,an):$e(On)?Ur(En,an,On):nn(En,an)}function Gr(En,an){if(En===an)bn(En,Dr());else if(Ue(an)){var On=void 0;try{On=an.then}catch(Mn){bn(En,Mn);return}zr(En,an,On)}else nn(En,an)}function fn(En){En._onerror&&En._onerror(En._result),yn(En)}function nn(En,an){En._state===Mr&&(En._result=an,En._state=_r,En._subscribers.length!==0&&Xe(yn,En))}function bn(En,an){En._state===Mr&&(En._state=Ir,En._result=an,Xe(fn,En))}function hn(En,an,On,Mn){var ui=En._subscribers,Vn=ui.length;En._onerror=null,ui[Vn]=an,ui[Vn+_r]=On,ui[Vn+Ir]=Mn,Vn===0&&En._state&&Xe(yn,En)}function yn(En){var an=En._subscribers,On=En._state;if(an.length!==0){for(var Mn=void 0,ui=void 0,Vn=En._result,yi=0;yi<an.length;yi+=3)Mn=an[yi],ui=an[yi+On],Mn?Zr(On,Mn,ui,Vn):ui(Vn);En._subscribers.length=0}}function Zr(En,an,On,Mn){var ui=$e(On),Vn=void 0,yi=void 0,jn=!0;if(ui){try{Vn=On(Mn)}catch(vn){jn=!1,yi=vn}if(an===Vn){bn(an,Or());return}}else Vn=Mn;an._state!==Mr||(ui&&jn?Gr(an,Vn):jn===!1?bn(an,yi):En===_r?nn(an,Vn):En===Ir&&bn(an,Vn))}function Rn(En,an){try{an(function(Mn){Gr(En,Mn)},function(Mn){bn(En,Mn)})}catch(On){bn(En,On)}}var ri=0;function Yn(){return ri++}function ti(En){En[Er]=ri++,En._state=void 0,En._result=void 0,En._subscribers=[]}function ei(){return new Error("Array Methods must be provided an Array")}var Gn=(function(){function En(an,On){this._instanceConstructor=an,this.promise=new an(Pr),this.promise[Er]||ti(this.promise),Qe(On)?(this.length=On.length,this._remaining=On.length,this._result=new Array(this.length),this.length===0?nn(this.promise,this._result):(this.length=this.length||0,this._enumerate(On),this._remaining===0&&nn(this.promise,this._result))):bn(this.promise,ei())}return En.prototype._enumerate=function(On){for(var Mn=0;this._state===Mr&&Mn<On.length;Mn++)this._eachEntry(On[Mn],Mn)},En.prototype._eachEntry=function(On,Mn){var ui=this._instanceConstructor,Vn=ui.resolve;if(Vn===wr){var yi=void 0,jn=void 0,vn=!1;try{yi=On.then}catch(xi){vn=!0,jn=xi}if(yi===Tr&&On._state!==Mr)this._settledAt(On._state,Mn,On._result);else if(typeof yi!="function")this._remaining--,this._result[Mn]=On;else if(ui===ji){var Ni=new ui(Pr);vn?bn(Ni,jn):zr(Ni,On,yi),this._willSettleAt(Ni,Mn)}else this._willSettleAt(new ui(function(xi){return xi(On)}),Mn)}else this._willSettleAt(Vn(On),Mn)},En.prototype._settledAt=function(On,Mn,ui){var Vn=this.promise;Vn._state===Mr&&(this._remaining--,On===Ir?bn(Vn,ui):this._result[Mn]=ui),this._remaining===0&&nn(Vn,this._result)},En.prototype._willSettleAt=function(On,Mn){var ui=this;hn(On,void 0,function(Vn){return ui._settledAt(_r,Mn,Vn)},function(Vn){return ui._settledAt(Ir,Mn,Vn)})},En})();function Ei(En){return new Gn(this,En).promise}function Ci(En){var an=this;return Qe(En)?new an(function(On,Mn){for(var ui=En.length,Vn=0;Vn<ui;Vn++)an.resolve(En[Vn]).then(On,Mn)}):new an(function(On,Mn){return Mn(new TypeError("You must pass an array to race."))})}function Fi(En){var an=this,On=new an(Pr);return bn(On,En),On}function Si(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function Ti(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var ji=(function(){function En(an){this[Er]=Yn(),this._result=this._state=void 0,this._subscribers=[],Pr!==an&&(typeof an!="function"&&Si(),this instanceof En?Rn(this,an):Ti())}return En.prototype.catch=function(On){return this.then(null,On)},En.prototype.finally=function(On){var Mn=this,ui=Mn.constructor;return $e(On)?Mn.then(function(Vn){return ui.resolve(On()).then(function(){return Vn})},function(Vn){return ui.resolve(On()).then(function(){throw Vn})}):Mn.then(On,On)},En})();ji.prototype.then=Tr,ji.all=Ei,ji.race=Ci,ji.resolve=wr,ji.reject=Fi,ji._setScheduler=Ye,ji._setAsap=Ze,ji._asap=Xe;function wi(){var En=void 0;if(typeof commonjsGlobal$2<"u")En=commonjsGlobal$2;else if(typeof self<"u")En=self;else try{En=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var an=En.Promise;if(an){var On=null;try{On=Object.prototype.toString.call(an.resolve())}catch{}if(On==="[object Promise]"&&!an.cast)return}En.Promise=ji}return ji.polyfill=wi,ji.Promise=ji,ji}))}),html2canvas:(function(Me){Me.exports=Be}),jspdf:(function(Me){Me.exports=je})},Fe={};function ke(Me){var Ue=Fe[Me];if(Ue!==void 0)return Ue.exports;var $e=Fe[Me]={exports:{}};return De[Me].call($e.exports,$e,$e.exports,ke),$e.exports}(function(){ke.n=function(Me){var Ue=Me&&Me.__esModule?function(){return Me.default}:function(){return Me};return ke.d(Ue,{a:Ue}),Ue}})(),(function(){ke.d=function(Me,Ue){for(var $e in Ue)ke.o(Ue,$e)&&!ke.o(Me,$e)&&Object.defineProperty(Me,$e,{enumerable:!0,get:Ue[$e]})}})(),(function(){ke.o=function(Me,Ue){return Object.prototype.hasOwnProperty.call(Me,Ue)}})(),(function(){ke.r=function(Me){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Me,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Me,"__esModule",{value:!0})}})();var Oe={};return(function(){/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/ke.r(Oe);var Me=ke("./src/worker.js");ke("./src/plugin/jspdf-plugin.js"),ke("./src/plugin/pagebreaks.js"),ke("./src/plugin/hyperlinks.js");var Ue=function $e(He,Qe){var We=new $e.Worker(Qe);return He?We.from(He).save():We};Ue.Worker=Me.default,Oe.default=Ue})(),Oe=Oe.default,Oe})()})})(html2pdf$1)),html2pdf$1.exports}var html2pdfExports=requireHtml2pdf();const html2pdf=getDefaultExportFromCjs(html2pdfExports),FLYPLogo="/assets/flyp-logo.png",InvoicePreview$1=({customer:Re,cartItems:Ce,settings:je,paymentMode:Be,invoiceType:De,issuedAt:Fe,userInfo:ke,onCancel:Oe,onConfirm:Me})=>{const[Ue,$e]=React.useState(null);React.useEffect(()=>{(async()=>{const tr=auth$2.currentUser;if(!tr)return;const rr=await getDoc(doc(db$2,"businesses",tr.uid));rr.exists()&&$e(rr.data())})()},[]);const He=Je=>Je.quantity*Je.price*(1-Je.discount/100),Qe=(Ce||[]).reduce((Je,tr)=>Je+He(tr),0),We=je.includeGST?Qe*(je.gstRate||0)/100:0,qe=je.includeCGST?Qe*(je.cgstRate||0)/100:0,Ke=je.includeSGST?Qe*(je.sgstRate||0)/100:0,Xe=je.includeIGST?Qe*(je.igstRate||0)/100:0,Ye=Qe+We+qe+Ke+Xe,Ze=()=>{const Je=document.getElementById("invoice-content");html2pdf().from(Je).save(`Invoice-FLYP-${Fe?new Date(Fe).getTime():Date.now()}.pdf`)};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"text-right mb-2 max-w-4xl mx-auto mt-4",children:jsxRuntimeExports.jsx("button",{onClick:Ze,className:"px-4 py-1 rounded-lg font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] mr-2",children:"Download PDF"})}),jsxRuntimeExports.jsxs("div",{id:"invoice-content",className:"p-4 md:p-6 rounded-xl max-w-4xl mx-auto mt-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] space-y-6 text-white bg-white/10 backdrop-blur-2xl border border-white/10 shadow-[0_12px_50px_rgba(0,0,0,0.45)]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-white",children:"Invoice Preview"}),jsxRuntimeExports.jsx("button",{className:"text-rose-300 hover:text-rose-200 underline",onClick:Oe,children:"Cancel"})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-6 border-b border-white/10 pb-4",children:[jsxRuntimeExports.jsxs("div",{className:"w-1/2 pr-6 border-r border-white/10",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 border-b border-white/10 pb-1 text-white",children:"Customer Information"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Re.name]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Re.phone]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Re.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Re.address]})]}),jsxRuntimeExports.jsxs("div",{className:"w-1/2 pl-6 text-right",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 border-b border-white/10 pb-1 text-white",children:"Retailer Information"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Business Name:"})," ",Ue?.businessName||"Retailer"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Owner:"})," ",Ue?.ownerName]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Ue?.phone]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Ue?.email]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Address:"})," ",Ue?.address]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"GSTIN:"})," ",Ue?.gstNumber||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"PAN:"})," ",Ue?.pan||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice ID:"})," FLYP-",Fe?new Date(Fe).getTime():Date.now()]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Invoice Issued On:"})," ",Fe?hooks(Fe).local().format("DD MMM YYYY, hh:mm A"):"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Current Issue Date & Time:"})," ",hooks().local().format("DD MMM YYYY, hh:mm A")]})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-center font-extrabold text-2xl mb-6 uppercase tracking-widest font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:De==="retail"?"RETAIL INVOICE":De==="tax"?"TAX INVOICE":De==="quote"?"QUOTATION":De==="estimation"?"ESTIMATION":"TAX INVOICE"}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-center font-bold text-lg mt-6 uppercase",children:"Products"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border border-white/10 bg-white/5 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/10",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Discount (%)"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-1 md:px-3 md:py-2 text-white/80 border-b border-white/10",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map((Je,tr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:Je.name}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:Je.brand||"-"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:Je.category||"-"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:Je.unit||"-"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:Je.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:["",Je.price]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:Je.discount||0}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1 md:px-3 md:py-2 border-t border-white/10",children:["",He(Je).toFixed(2)]})]},tr))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4 text-right",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg mb-2 text-white",children:"Tax Summary"}),je.includeGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["GST (",je.gstRate||0,"%):"]})," ",We.toFixed(2)]}),je.includeCGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["CGST (",je.cgstRate||0,"%):"]})," ",qe.toFixed(2)]}),je.includeSGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["SGST (",je.sgstRate||0,"%):"]})," ",Ke.toFixed(2)]}),je.includeIGST&&jsxRuntimeExports.jsxs("p",{className:"flex justify-end gap-4",children:[jsxRuntimeExports.jsxs("span",{className:"w-24 text-left",children:["IGST (",je.igstRate||0,"%):"]})," ",Xe.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"mt-2 font-bold text-xl",children:["Total: ",Ye.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70 mt-1",children:["Payment Mode: ",Be||"N/A"," | Invoice Type: ",De&&De.length>0?De.charAt(0).toUpperCase()+De.slice(1):"N/A"]}),Be==="credit"&&(je.creditDueDate||je.dueDate)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-rose-300 mt-1",children:["Due Date: ",hooks(je.creditDueDate||je.dueDate).format("DD MMM YYYY")]}),je.isPaid&&je.paidOn&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-emerald-300 mt-1",children:[" Paid on: ",hooks(je.paidOn.toDate?.()||je.paidOn).format("DD MMM YYYY")," via ",je.paidVia?.toUpperCase()]}),Be==="split"&&jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70 mt-1 space-y-1",children:[jsxRuntimeExports.jsx("p",{children:"Split Breakdown:"}),jsxRuntimeExports.jsxs("p",{children:["- ",je.splitCash??0," by Cash"]}),jsxRuntimeExports.jsxs("p",{children:["- ",je.splitUPI??0," by UPI"]}),jsxRuntimeExports.jsxs("p",{children:["- ",je.splitCard??0," by Card"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-8",children:[jsxRuntimeExports.jsx("div",{className:"text-left",children:jsxRuntimeExports.jsx("img",{src:FLYPLogo,alt:"FLYP Logo",className:"w-24 opacity-70"})}),jsxRuntimeExports.jsx("div",{className:"text-right text-sm text-white/70 italic",children:"Thank you for your business!"})]}),jsxRuntimeExports.jsx("button",{className:"mt-6 px-6 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]",onClick:Me,children:"Publish Invoice"})]})]})]})},updateInventoryStock=async(Re,Ce)=>{for(const je of Ce)try{console.log("Updating stock for:",je.name,"ID:",je.id,"Qty:",je.quantity,"Brand:",je.brand,"Category:",je.category);const Be=doc(db$2,"businesses",Re,"products",je.id),De=await getDoc(Be);if(De.exists()){const ke=(parseFloat(De.data().quantity)||0)-je.quantity,Oe=ke<0?0:ke;await updateDoc(Be,{quantity:Oe}),console.log("Stock updated to:",Oe)}else console.warn("Product not found for ID:",je.id)}catch(Be){console.error("Error updating stock for product ID:",je.id,Be.message)}},CreateInvoice=()=>{const[Re,Ce]=reactExports.useState({name:"",phone:"",email:"",address:""}),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState({includeGST:!1,includeCGST:!1,includeIGST:!1,gstRate:9,cgstRate:9,igstRate:18,invoiceType:"",paymentMode:""}),[ke,Oe]=reactExports.useState([]),[Me,Ue]=reactExports.useState({visible:!1,issuedAt:null}),[$e,He]=reactExports.useState(null),[Qe,We]=reactExports.useState(""),[qe,Ke]=reactExports.useState(null),[Xe,Ye]=reactExports.useState({cash:0,upi:0,card:0});reactExports.useEffect(()=>{(async()=>{const ar=auth$2.currentUser;if(ar){const ir=doc(db$2,"businesses",ar.uid),nr=await getDoc(ir);nr.exists()&&He({...nr.data(),uid:ar.uid})}})()},[]);const Ze=rr=>{Ce(rr)},Je=async()=>{if(!$e){alert("User not authenticated or user info missing.");return}if(je.length===0){alert("Cart is empty. Please add products to generate invoice.");return}const rr=hooks().format("YYYY-MM-DDTHH:mm:ss.SSSZ"),ar="INV-"+Math.random().toString(36).substr(2,9).toUpperCase();We(ar);try{if(Re&&Re.custId){const Er=doc(db$2,"businesses",$e.uid,"customers",Re.custId),Pr=await getDoc(Er);if(Pr.exists()){const _r={...Pr.data(),...Re,updatedAt:rr};await updateDoc(Er,_r)}else await setDoc(Er,{...Re,createdAt:rr})}}catch(Er){console.error("Error saving/updating customer:",Er),alert("Failed to save customer info. Please try again.");return}const ir=je.reduce((Er,Pr)=>{const Mr=Pr.quantity*Pr.price,_r=Pr.discount||0;return Er+Mr-Mr*_r/100},0),nr=De.includeGST?ir*(De.gstRate/100):0,cr=De.includeCGST?ir*(De.cgstRate/100):0,mr=De.includeSGST?ir*(De.sgstRate/100):0,fr=De.includeIGST?ir*(De.igstRate/100):0,or=parseFloat((ir+nr+cr+mr+fr).toFixed(2));if(De.paymentMode==="Split"){const Er=Xe.cash+Xe.upi+Xe.card;if(Er!==or){alert(`Split payment does not match invoice total. Total: ${or}, Split: ${Er}`);return}}let yr=!1,Cr=null,jr=null;De.paymentMode?.toLowerCase()==="credit"?jr=De.creditDueDate||hooks().add(7,"days").format("YYYY-MM-DD"):(yr=!0,Cr=rr);const vr={...De};delete vr.splitCash,delete vr.splitUPI,delete vr.splitCard,delete vr.splitPayment;const Tr=De.splitPayment||Xe;console.log(" SplitPayment Before Save:",Tr);const wr={customer:Re,custId:Re&&Re.custId?Re.custId:void 0,cartItems:je,settings:vr,paymentMode:De.paymentMode,invoiceType:De.invoiceType,issuedAt:rr,invoiceId:ar,totalAmount:or,splitPayment:Tr,creditDueDate:jr,isPaid:yr,paidOn:Cr};console.log(" Invoice Data to Save:",wr),Ke(wr),Ue({visible:!0,issuedAt:rr})},tr=()=>{Ue({visible:!1,issuedAt:null})};return Me.visible&&$e&&qe?jsxRuntimeExports.jsx(InvoicePreview$1,{customer:Re,cartItems:je,settings:De,paymentMode:De.paymentMode,invoiceType:De.invoiceType,issuedAt:Me.issuedAt,invoiceId:Qe,onCancel:tr,onConfirm:async()=>{try{const rr=doc(db$2,"businesses",$e.uid,"finalizedInvoices",Qe);await setDoc(rr,{...qe,createdAt:qe.issuedAt,isPaid:qe.isPaid,paidOn:qe.paidOn,creditDueDate:qe.creditDueDate}),console.log("Invoice saved to Firestore:",Qe),await updateInventoryStock($e.uid,je)}catch(rr){console.error("Error saving invoice:",rr.message),alert("Failed to save invoice. Please try again.");return}Ue({visible:!1,issuedAt:null})},taxRates:{gst:De.gstRate,cgst:De.cgstRate,igst:De.igstRate},userInfo:{businessName:$e.businessName||"N/A",ownerName:$e.ownerName||"N/A",address:$e.address||"N/A",phone:$e.phone||"N/A",email:$e.email||"N/A",gstin:$e.gstin||"N/A",pan:$e.pan||"N/A"}}):jsxRuntimeExports.jsxs("div",{className:"space-y-6 px-4 md:px-6 pb-32 pt-[env(safe-area-inset-top)] text-white",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-white",children:"Customer Information"}),$e&&jsxRuntimeExports.jsx(CustomerForm,{customer:Re,onChange:Ze,userId:$e.uid})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-white",children:"Add Product"}),jsxRuntimeExports.jsx(ProductSearch,{onSelect:rr=>{if(!ke.find(ir=>ir.id===rr.id)){const ir=[...ke,rr];Oe(ir),Be(nr=>[...nr,{id:rr.id,name:rr.name,sku:rr.sku||"",brand:rr.brand||"",category:rr.category||"",quantity:1,price:parseFloat(rr.sellingPrice||0),discount:0,unit:rr.unit||""}])}}})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsx(InvoiceSettings,{settings:De,onChange:Fe}),De.paymentMode==="Split"&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mt-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Cash Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Xe.cash,onChange:rr=>{const ar=parseFloat(rr.target.value)||0;console.log(" Cash Split Updated:",ar),Ye(ir=>({...ir,cash:ar}))},className:"w-full rounded px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"UPI Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Xe.upi,onChange:rr=>{const ar=parseFloat(rr.target.value)||0;console.log(" UPI Split Updated:",ar),Ye(ir=>({...ir,upi:ar}))},className:"w-full rounded px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Card Amount"}),jsxRuntimeExports.jsx("input",{type:"number",value:Xe.card,onChange:rr=>{const ar=parseFloat(rr.target.value)||0;console.log(" Card Split Updated:",ar),Ye(ir=>({...ir,card:ar}))},className:"w-full rounded px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]}),De.paymentMode==="Credit"&&jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/80 mb-1",children:"Credit Due Date (Default: 7 days from today)"}),jsxRuntimeExports.jsx("input",{type:"date",className:"w-full rounded px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:De.creditDueDate||"",onChange:rr=>{Fe(ar=>({...ar,creditDueDate:rr.target.value}))}})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-white",children:"Product Cart"}),jsxRuntimeExports.jsx(BillingCart,{selectedProducts:ke,cartItems:je,onUpdateCart:Be,settings:De})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:Je,className:"px-6 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)] transition",children:"Create Bill"})}),jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 inset-x-4 z-50 md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:Je,className:"w-full text-slate-900 py-3 rounded-xl shadow-lg text-lg font-semibold bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]",children:"Create Bill"})})]})};function r(Re){var Ce,je,Be="";if(typeof Re=="string"||typeof Re=="number")Be+=Re;else if(typeof Re=="object")if(Array.isArray(Re)){var De=Re.length;for(Ce=0;Ce<De;Ce++)Re[Ce]&&(je=r(Re[Ce]))&&(Be&&(Be+=" "),Be+=je)}else for(je in Re)Re[je]&&(Be&&(Be+=" "),Be+=je);return Be}function clsx(){for(var Re,Ce,je=0,Be="",De=arguments.length;je<De;je++)(Re=arguments[je])&&(Ce=r(Re))&&(Be&&(Be+=" "),Be+=Ce);return Be}function Mt(Re){if(typeof document>"u")return;let Ce=document.head||document.getElementsByTagName("head")[0],je=document.createElement("style");je.type="text/css",Ce.firstChild?Ce.insertBefore(je,Ce.firstChild):Ce.appendChild(je),je.styleSheet?je.styleSheet.cssText=Re:je.appendChild(document.createTextNode(Re))}Mt(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var L=Re=>typeof Re=="number"&&!isNaN(Re),N=Re=>typeof Re=="string",P$2=Re=>typeof Re=="function",mt=Re=>N(Re)||L(Re),B=Re=>N(Re)||P$2(Re)?Re:null,pt=(Re,Ce)=>Re===!1||L(Re)&&Re>0?Re:Ce,z=Re=>reactExports.isValidElement(Re)||N(Re)||P$2(Re)||L(Re);function Z(Re,Ce,je=300){let{scrollHeight:Be,style:De}=Re;requestAnimationFrame(()=>{De.minHeight="initial",De.height=Be+"px",De.transition=`all ${je}ms`,requestAnimationFrame(()=>{De.height="0",De.padding="0",De.margin="0",setTimeout(Ce,je)})})}function $$1({enter:Re,exit:Ce,appendPosition:je=!1,collapse:Be=!0,collapseDuration:De=300}){return function({children:Fe,position:ke,preventExitTransition:Oe,done:Me,nodeRef:Ue,isIn:$e,playToast:He}){let Qe=je?`${Re}--${ke}`:Re,We=je?`${Ce}--${ke}`:Ce,qe=reactExports.useRef(0);return reactExports.useLayoutEffect(()=>{let Ke=Ue.current,Xe=Qe.split(" "),Ye=Ze=>{Ze.target===Ue.current&&(He(),Ke.removeEventListener("animationend",Ye),Ke.removeEventListener("animationcancel",Ye),qe.current===0&&Ze.type!=="animationcancel"&&Ke.classList.remove(...Xe))};Ke.classList.add(...Xe),Ke.addEventListener("animationend",Ye),Ke.addEventListener("animationcancel",Ye)},[]),reactExports.useEffect(()=>{let Ke=Ue.current,Xe=()=>{Ke.removeEventListener("animationend",Xe),Be?Z(Ke,Me,De):Me()};$e||(Oe?Xe():(qe.current=1,Ke.className+=` ${We}`,Ke.addEventListener("animationend",Xe)))},[$e]),React.createElement(React.Fragment,null,Fe)}}function J$1(Re,Ce){return{content:tt(Re.content,Re.props),containerId:Re.props.containerId,id:Re.props.toastId,theme:Re.props.theme,type:Re.props.type,data:Re.props.data||{},isLoading:Re.props.isLoading,icon:Re.props.icon,reason:Re.removalReason,status:Ce}}function tt(Re,Ce,je=!1){return reactExports.isValidElement(Re)&&!N(Re.type)?reactExports.cloneElement(Re,{closeToast:Ce.closeToast,toastProps:Ce,data:Ce.data,isPaused:je}):P$2(Re)?Re({closeToast:Ce.closeToast,toastProps:Ce,data:Ce.data,isPaused:je}):Re}function yt({closeToast:Re,theme:Ce,ariaLabel:je="close"}){return React.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Ce}`,type:"button",onClick:Be=>{Be.stopPropagation(),Re(!0)},"aria-label":je},React.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},React.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function gt({delay:Re,isRunning:Ce,closeToast:je,type:Be="default",hide:De,className:Fe,controlledProgress:ke,progress:Oe,rtl:Me,isIn:Ue,theme:$e}){let He=De||ke&&Oe===0,Qe={animationDuration:`${Re}ms`,animationPlayState:Ce?"running":"paused"};ke&&(Qe.transform=`scaleX(${Oe})`);let We=clsx("Toastify__progress-bar",ke?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${$e}`,`Toastify__progress-bar--${Be}`,{"Toastify__progress-bar--rtl":Me}),qe=P$2(Fe)?Fe({rtl:Me,type:Be,defaultClassName:We}):clsx(We,Fe),Ke={[ke&&Oe>=1?"onTransitionEnd":"onAnimationEnd"]:ke&&Oe<1?null:()=>{Ue&&je()}};return React.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":He},React.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${$e} Toastify__progress-bar--${Be}`}),React.createElement("div",{role:"progressbar","aria-hidden":He?"true":"false","aria-label":"notification timer",className:qe,style:Qe,...Ke}))}var Xt=1,at=()=>`${Xt++}`;function _t(Re,Ce,je){let Be=1,De=0,Fe=[],ke=[],Oe=Ce,Me=new Map,Ue=new Set,$e=Ze=>(Ue.add(Ze),()=>Ue.delete(Ze)),He=()=>{ke=Array.from(Me.values()),Ue.forEach(Ze=>Ze())},Qe=({containerId:Ze,toastId:Je,updateId:tr})=>{let rr=Ze?Ze!==Re:Re!==1,ar=Me.has(Je)&&tr==null;return rr||ar},We=(Ze,Je)=>{Me.forEach(tr=>{var rr;(Je==null||Je===tr.props.toastId)&&((rr=tr.toggle)==null||rr.call(tr,Ze))})},qe=Ze=>{var Je,tr;(tr=(Je=Ze.props)==null?void 0:Je.onClose)==null||tr.call(Je,Ze.removalReason),Ze.isActive=!1},Ke=Ze=>{if(Ze==null)Me.forEach(qe);else{let Je=Me.get(Ze);Je&&qe(Je)}He()},Xe=()=>{De-=Fe.length,Fe=[]},Ye=Ze=>{var Je,tr;let{toastId:rr,updateId:ar}=Ze.props,ir=ar==null;Ze.staleId&&Me.delete(Ze.staleId),Ze.isActive=!0,Me.set(rr,Ze),He(),je(J$1(Ze,ir?"added":"updated")),ir&&((tr=(Je=Ze.props).onOpen)==null||tr.call(Je))};return{id:Re,props:Oe,observe:$e,toggle:We,removeToast:Ke,toasts:Me,clearQueue:Xe,buildToast:(Ze,Je)=>{if(Qe(Je))return;let{toastId:tr,updateId:rr,data:ar,staleId:ir,delay:nr}=Je,cr=rr==null;cr&&De++;let mr={...Oe,style:Oe.toastStyle,key:Be++,...Object.fromEntries(Object.entries(Je).filter(([or,yr])=>yr!=null)),toastId:tr,updateId:rr,data:ar,isIn:!1,className:B(Je.className||Oe.toastClassName),progressClassName:B(Je.progressClassName||Oe.progressClassName),autoClose:Je.isLoading?!1:pt(Je.autoClose,Oe.autoClose),closeToast(or){Me.get(tr).removalReason=or,Ke(tr)},deleteToast(){let or=Me.get(tr);if(or!=null){if(je(J$1(or,"removed")),Me.delete(tr),De--,De<0&&(De=0),Fe.length>0){Ye(Fe.shift());return}He()}}};mr.closeButton=Oe.closeButton,Je.closeButton===!1||z(Je.closeButton)?mr.closeButton=Je.closeButton:Je.closeButton===!0&&(mr.closeButton=z(Oe.closeButton)?Oe.closeButton:!0);let fr={content:Ze,props:mr,staleId:ir};Oe.limit&&Oe.limit>0&&De>Oe.limit&&cr?Fe.push(fr):L(nr)?setTimeout(()=>{Ye(fr)},nr):Ye(fr)},setProps(Ze){Oe=Ze},setToggle:(Ze,Je)=>{let tr=Me.get(Ze);tr&&(tr.toggle=Je)},isToastActive:Ze=>{var Je;return(Je=Me.get(Ze))==null?void 0:Je.isActive},getSnapshot:()=>ke}}var I=new Map,F$1=[],st=new Set,Vt=Re=>st.forEach(Ce=>Ce(Re)),bt=()=>I.size>0;function Qt(){F$1.forEach(Re=>nt(Re.content,Re.options)),F$1=[]}var vt=(Re,{containerId:Ce})=>{var je;return(je=I.get(Ce||1))==null?void 0:je.toasts.get(Re)};function X(Re,Ce){var je;if(Ce)return!!((je=I.get(Ce))!=null&&je.isToastActive(Re));let Be=!1;return I.forEach(De=>{De.isToastActive(Re)&&(Be=!0)}),Be}function ht(Re){if(!bt()){F$1=F$1.filter(Ce=>Re!=null&&Ce.options.toastId!==Re);return}if(Re==null||mt(Re))I.forEach(Ce=>{Ce.removeToast(Re)});else if(Re&&("containerId"in Re||"id"in Re)){let Ce=I.get(Re.containerId);Ce?Ce.removeToast(Re.id):I.forEach(je=>{je.removeToast(Re.id)})}}var Ct=(Re={})=>{I.forEach(Ce=>{Ce.props.limit&&(!Re.containerId||Ce.id===Re.containerId)&&Ce.clearQueue()})};function nt(Re,Ce){z(Re)&&(bt()||F$1.push({content:Re,options:Ce}),I.forEach(je=>{je.buildToast(Re,Ce)}))}function xt(Re){var Ce;(Ce=I.get(Re.containerId||1))==null||Ce.setToggle(Re.id,Re.fn)}function rt(Re,Ce){I.forEach(je=>{(Ce==null||!(Ce!=null&&Ce.containerId)||Ce?.containerId===je.id)&&je.toggle(Re,Ce?.id)})}function Et(Re){let Ce=Re.containerId||1;return{subscribe(je){let Be=_t(Ce,Re,Vt);I.set(Ce,Be);let De=Be.observe(je);return Qt(),()=>{De(),I.delete(Ce)}},setProps(je){var Be;(Be=I.get(Ce))==null||Be.setProps(je)},getSnapshot(){var je;return(je=I.get(Ce))==null?void 0:je.getSnapshot()}}}function Pt(Re){return st.add(Re),()=>{st.delete(Re)}}function Wt(Re){return Re&&(N(Re.toastId)||L(Re.toastId))?Re.toastId:at()}function U$1(Re,Ce){return nt(Re,Ce),Ce.toastId}function V$1(Re,Ce){return{...Ce,type:Ce&&Ce.type||Re,toastId:Wt(Ce)}}function Q(Re){return(Ce,je)=>U$1(Ce,V$1(Re,je))}function y$2(Re,Ce){return U$1(Re,V$1("default",Ce))}y$2.loading=(Re,Ce)=>U$1(Re,V$1("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...Ce}));function Gt(Re,{pending:Ce,error:je,success:Be},De){let Fe;Ce&&(Fe=N(Ce)?y$2.loading(Ce,De):y$2.loading(Ce.render,{...De,...Ce}));let ke={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},Oe=(Ue,$e,He)=>{if($e==null){y$2.dismiss(Fe);return}let Qe={type:Ue,...ke,...De,data:He},We=N($e)?{render:$e}:$e;return Fe?y$2.update(Fe,{...Qe,...We}):y$2(We.render,{...Qe,...We}),He},Me=P$2(Re)?Re():Re;return Me.then(Ue=>Oe("success",Be,Ue)).catch(Ue=>Oe("error",je,Ue)),Me}y$2.promise=Gt;y$2.success=Q("success");y$2.info=Q("info");y$2.error=Q("error");y$2.warning=Q("warning");y$2.warn=y$2.warning;y$2.dark=(Re,Ce)=>U$1(Re,V$1("default",{theme:"dark",...Ce}));function qt(Re){ht(Re)}y$2.dismiss=qt;y$2.clearWaitingQueue=Ct;y$2.isActive=X;y$2.update=(Re,Ce={})=>{let je=vt(Re,Ce);if(je){let{props:Be,content:De}=je,Fe={delay:100,...Be,...Ce,toastId:Ce.toastId||Re,updateId:at()};Fe.toastId!==Re&&(Fe.staleId=Re);let ke=Fe.render||De;delete Fe.render,U$1(ke,Fe)}};y$2.done=Re=>{y$2.update(Re,{progress:1})};y$2.onChange=Pt;y$2.play=Re=>rt(!0,Re);y$2.pause=Re=>rt(!1,Re);function It(Re){var Ce;let{subscribe:je,getSnapshot:Be,setProps:De}=reactExports.useRef(Et(Re)).current;De(Re);let Fe=(Ce=reactExports.useSyncExternalStore(je,Be,Be))==null?void 0:Ce.slice();function ke(Oe){if(!Fe)return[];let Me=new Map;return Re.newestOnTop&&Fe.reverse(),Fe.forEach(Ue=>{let{position:$e}=Ue.props;Me.has($e)||Me.set($e,[]),Me.get($e).push(Ue)}),Array.from(Me,Ue=>Oe(Ue[0],Ue[1]))}return{getToastToRender:ke,isToastActive:X,count:Fe?.length}}function At(Re){let[Ce,je]=reactExports.useState(!1),[Be,De]=reactExports.useState(!1),Fe=reactExports.useRef(null),ke=reactExports.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:Oe,pauseOnHover:Me,closeToast:Ue,onClick:$e,closeOnClick:He}=Re;xt({id:Re.toastId,containerId:Re.containerId,fn:je}),reactExports.useEffect(()=>{if(Re.pauseOnFocusLoss)return Qe(),()=>{We()}},[Re.pauseOnFocusLoss]);function Qe(){document.hasFocus()||Ye(),window.addEventListener("focus",Xe),window.addEventListener("blur",Ye)}function We(){window.removeEventListener("focus",Xe),window.removeEventListener("blur",Ye)}function qe(ir){if(Re.draggable===!0||Re.draggable===ir.pointerType){Ze();let nr=Fe.current;ke.canCloseOnClick=!0,ke.canDrag=!0,nr.style.transition="none",Re.draggableDirection==="x"?(ke.start=ir.clientX,ke.removalDistance=nr.offsetWidth*(Re.draggablePercent/100)):(ke.start=ir.clientY,ke.removalDistance=nr.offsetHeight*(Re.draggablePercent===80?Re.draggablePercent*1.5:Re.draggablePercent)/100)}}function Ke(ir){let{top:nr,bottom:cr,left:mr,right:fr}=Fe.current.getBoundingClientRect();ir.nativeEvent.type!=="touchend"&&Re.pauseOnHover&&ir.clientX>=mr&&ir.clientX<=fr&&ir.clientY>=nr&&ir.clientY<=cr?Ye():Xe()}function Xe(){je(!0)}function Ye(){je(!1)}function Ze(){ke.didMove=!1,document.addEventListener("pointermove",tr),document.addEventListener("pointerup",rr)}function Je(){document.removeEventListener("pointermove",tr),document.removeEventListener("pointerup",rr)}function tr(ir){let nr=Fe.current;if(ke.canDrag&&nr){ke.didMove=!0,Ce&&Ye(),Re.draggableDirection==="x"?ke.delta=ir.clientX-ke.start:ke.delta=ir.clientY-ke.start,ke.start!==ir.clientX&&(ke.canCloseOnClick=!1);let cr=Re.draggableDirection==="x"?`${ke.delta}px, var(--y)`:`0, calc(${ke.delta}px + var(--y))`;nr.style.transform=`translate3d(${cr},0)`,nr.style.opacity=`${1-Math.abs(ke.delta/ke.removalDistance)}`}}function rr(){Je();let ir=Fe.current;if(ke.canDrag&&ke.didMove&&ir){if(ke.canDrag=!1,Math.abs(ke.delta)>ke.removalDistance){De(!0),Re.closeToast(!0),Re.collapseAll();return}ir.style.transition="transform 0.2s, opacity 0.2s",ir.style.removeProperty("transform"),ir.style.removeProperty("opacity")}}let ar={onPointerDown:qe,onPointerUp:Ke};return Oe&&Me&&(ar.onMouseEnter=Ye,Re.stacked||(ar.onMouseLeave=Xe)),He&&(ar.onClick=ir=>{$e&&$e(ir),ke.canCloseOnClick&&Ue(!0)}),{playToast:Xe,pauseToast:Ye,isRunning:Ce,preventExitTransition:Be,toastRef:Fe,eventHandlers:ar}}var Ot=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,G=({theme:Re,type:Ce,isLoading:je,...Be})=>React.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:Re==="colored"?"currentColor":`var(--toastify-icon-color-${Ce})`,...Be});function ao(Re){return React.createElement(G,{...Re},React.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function so(Re){return React.createElement(G,{...Re},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function no(Re){return React.createElement(G,{...Re},React.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function ro(Re){return React.createElement(G,{...Re},React.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function io(){return React.createElement("div",{className:"Toastify__spinner"})}var W$1={info:so,warning:ao,success:no,error:ro,spinner:io},lo=Re=>Re in W$1;function Nt({theme:Re,type:Ce,isLoading:je,icon:Be}){let De=null,Fe={theme:Re,type:Ce};return Be===!1||(P$2(Be)?De=Be({...Fe,isLoading:je}):reactExports.isValidElement(Be)?De=reactExports.cloneElement(Be,Fe):je?De=W$1.spinner():lo(Ce)&&(De=W$1[Ce](Fe))),De}var wt=Re=>{let{isRunning:Ce,preventExitTransition:je,toastRef:Be,eventHandlers:De,playToast:Fe}=At(Re),{closeButton:ke,children:Oe,autoClose:Me,onClick:Ue,type:$e,hideProgressBar:He,closeToast:Qe,transition:We,position:qe,className:Ke,style:Xe,progressClassName:Ye,updateId:Ze,role:Je,progress:tr,rtl:rr,toastId:ar,deleteToast:ir,isIn:nr,isLoading:cr,closeOnClick:mr,theme:fr,ariaLabel:or}=Re,yr=clsx("Toastify__toast",`Toastify__toast-theme--${fr}`,`Toastify__toast--${$e}`,{"Toastify__toast--rtl":rr},{"Toastify__toast--close-on-click":mr}),Cr=P$2(Ke)?Ke({rtl:rr,position:qe,type:$e,defaultClassName:yr}):clsx(yr,Ke),jr=Nt(Re),vr=!!tr||!Me,Tr={closeToast:Qe,type:$e,theme:fr},wr=null;return ke===!1||(P$2(ke)?wr=ke(Tr):reactExports.isValidElement(ke)?wr=reactExports.cloneElement(ke,Tr):wr=yt(Tr)),React.createElement(We,{isIn:nr,done:ir,position:qe,preventExitTransition:je,nodeRef:Be,playToast:Fe},React.createElement("div",{id:ar,tabIndex:0,onClick:Ue,"data-in":nr,className:Cr,...De,style:Xe,ref:Be,...nr&&{role:Je,"aria-label":or}},jr!=null&&React.createElement("div",{className:clsx("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!cr})},jr),tt(Oe,Re,!Ce),wr,!Re.customProgressBar&&React.createElement(gt,{...Ze&&!vr?{key:`p-${Ze}`}:{},rtl:rr,theme:fr,delay:Me,isRunning:Ce,isIn:nr,closeToast:Qe,hide:He,type:$e,className:Ye,controlledProgress:vr,progress:tr||0})))},K=(Re,Ce=!1)=>({enter:`Toastify--animate Toastify__${Re}-enter`,exit:`Toastify--animate Toastify__${Re}-exit`,appendPosition:Ce}),lt=$$1(K("bounce",!0)),_o={position:"top-right",transition:lt,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:Re=>Re.altKey&&Re.code==="KeyT"};function Lt(Re){let Ce={..._o,...Re},je=Re.stacked,[Be,De]=reactExports.useState(!0),Fe=reactExports.useRef(null),{getToastToRender:ke,isToastActive:Oe,count:Me}=It(Ce),{className:Ue,style:$e,rtl:He,containerId:Qe,hotKeys:We}=Ce;function qe(Xe){let Ye=clsx("Toastify__toast-container",`Toastify__toast-container--${Xe}`,{"Toastify__toast-container--rtl":He});return P$2(Ue)?Ue({position:Xe,rtl:He,defaultClassName:Ye}):clsx(Ye,B(Ue))}function Ke(){je&&(De(!0),y$2.play())}return Ot(()=>{var Xe;if(je){let Ye=Fe.current.querySelectorAll('[data-in="true"]'),Ze=12,Je=(Xe=Ce.position)==null?void 0:Xe.includes("top"),tr=0,rr=0;Array.from(Ye).reverse().forEach((ar,ir)=>{let nr=ar;nr.classList.add("Toastify__toast--stacked"),ir>0&&(nr.dataset.collapsed=`${Be}`),nr.dataset.pos||(nr.dataset.pos=Je?"top":"bot");let cr=tr*(Be?.2:1)+(Be?0:Ze*ir);nr.style.setProperty("--y",`${Je?cr:cr*-1}px`),nr.style.setProperty("--g",`${Ze}`),nr.style.setProperty("--s",`${1-(Be?rr:0)}`),tr+=nr.offsetHeight,rr+=.025})}},[Be,Me,je]),reactExports.useEffect(()=>{function Xe(Ye){var Ze;let Je=Fe.current;We(Ye)&&((Ze=Je.querySelector('[tabIndex="0"]'))==null||Ze.focus(),De(!1),y$2.pause()),Ye.key==="Escape"&&(document.activeElement===Je||Je!=null&&Je.contains(document.activeElement))&&(De(!0),y$2.play())}return document.addEventListener("keydown",Xe),()=>{document.removeEventListener("keydown",Xe)}},[We]),React.createElement("section",{ref:Fe,className:"Toastify",id:Qe,onMouseEnter:()=>{je&&(De(!1),y$2.pause())},onMouseLeave:Ke,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":Ce["aria-label"]},ke((Xe,Ye)=>{let Ze=Ye.length?{...$e}:{...$e,pointerEvents:"none"};return React.createElement("div",{tabIndex:-1,className:qe(Xe),"data-stacked":je,style:Ze,key:`c-${Xe}`},Ye.map(({content:Je,props:tr})=>React.createElement(wt,{...tr,stacked:je,collapseAll:Ke,isIn:Oe(tr.toastId,tr.containerId),key:`t-${tr.key}`},Je)))}))}const MarkPaidModal=({isOpen:Re,onClose:Ce,onConfirm:je,invoice:Be})=>{const[De,Fe]=reactExports.useState("cash"),ke=()=>{je(De)};return Re?jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mark Invoice as Paid"}),jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Invoice ID: ",jsxRuntimeExports.jsx("span",{className:"font-mono",children:Be?.invoiceId})]}),jsxRuntimeExports.jsx("label",{className:"block mt-4 font-medium",children:"Select Payment Mode:"}),jsxRuntimeExports.jsxs("select",{className:"border px-3 py-2 w-full mt-2 rounded",value:De,onChange:Oe=>Fe(Oe.target.value),children:[jsxRuntimeExports.jsx("option",{value:"cash",children:"Cash"}),jsxRuntimeExports.jsx("option",{value:"upi",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"card",children:"Card"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Ce,className:"px-4 py-2 rounded border border-gray-400 hover:bg-gray-100",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ke,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Confirm Paid"})]})]})}):null},ViewInvoices=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[ke,Oe]=reactExports.useState(null),[Me,Ue]=reactExports.useState(""),[$e,He]=reactExports.useState(""),[Qe,We]=reactExports.useState(!1);return reactExports.useEffect(()=>{(async()=>{const Ke=auth$2.currentUser?.uid;if(Ke)try{const Xe=collection(db$2,`businesses/${Ke}/finalizedInvoices`),Ye=await getDocs(Xe),Je=(await Promise.all(Ye.docs.map(async tr=>{const rr=tr.data();let ar=rr.customer||{};if(rr.custId)try{const ir=await getDoc(doc(db$2,"businesses",Ke,"customers",rr.custId));ir.exists()&&(ar={...ar,...ir.data()})}catch(ir){console.warn("Customer lookup failed:",ir)}return{id:tr.id,...rr,customer:ar,createdAt:rr.createdAt instanceof Date?rr.createdAt:rr.createdAt?.toDate?.()||(typeof rr.createdAt=="string"?new Date(rr.createdAt):null),total:rr.totalAmount??rr.total??0}}))).filter(tr=>tr.createdAt).sort((tr,rr)=>new Date(rr.createdAt)-new Date(tr.createdAt));Ce(Je),Be(Je)}catch(Xe){console.error("Error loading invoices:",Xe)}})()},[]),reactExports.useEffect(()=>{const qe=De.toLowerCase(),Ke=Re.filter(Xe=>{const Ye=Xe.customer?.name?.toLowerCase().includes(qe)||Xe.invoiceType?.toLowerCase().includes(qe),Ze=Xe.createdAt?new Date(Xe.createdAt):null,Je=Me?hooks(Ze).format("YYYY-MM-DD")===Me:!0;return Ye&&Je});Be(Ke)},[De,Re,Me,$e]),jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 md:px-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"All Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end mb-4 gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer or invoice type...",value:De,onChange:qe=>Fe(qe.target.value),className:"px-4 py-2 w-full rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsxs("div",{className:"w-64",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm mb-1 text-white/80",children:"Invoice Date"}),jsxRuntimeExports.jsx("input",{type:"date",value:Me,onChange:qe=>Ue(qe.target.value),className:"px-3 py-2 rounded-xl w-full bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:je.map(qe=>jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"px-4 py-4 flex flex-col md:flex-row justify-between items-start md:items-center text-sm space-y-2 md:space-y-0 bg-white/10 backdrop-blur-xl border border-white/10 rounded-xl shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 mb-2 md:mb-0",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:qe.customer?.name||"Unnamed"}),jsxRuntimeExports.jsxs("p",{className:"text-white/70",children:[qe.customer?.address||"No Address"," | ",qe.customer?.phone||"No Phone"]}),jsxRuntimeExports.jsxs("p",{className:"text-white/60",children:["Items: ",qe.cartItems?.length||0," | Date: ",qe.createdAt?hooks(qe.createdAt).local().format("DD MMM YYYY, hh:mm A"):"N/A"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end justify-center gap-2 relative min-h-[50px]",children:[qe.paymentMode==="credit"&&!qe.isPaid&&(()=>{const Ke=hooks(qe.creditDueDate||qe.settings?.creditDueDate),Xe=Ke.isBefore(hooks(),"day");return jsxRuntimeExports.jsxs("span",{className:`absolute top-1/2 right-[72px] transform -translate-y-1/2 text-white text-[10px] px-3 py-[2px] rounded-full shadow whitespace-nowrap ${Xe?"bg-orange-600":"bg-red-600"}`,children:[Xe?"Overdue: ":"Credit Due: ",Ke.format("DD MMM")]})})(),jsxRuntimeExports.jsxs("p",{className:"font-semibold text-lg",children:["",Number(qe.totalAmount||qe.total||0).toFixed(2)]}),jsxRuntimeExports.jsx("button",{className:"mt-1 px-3 py-1 rounded-lg text-xs font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",onClick:()=>Oe(qe),children:"View"})]})]})},qe.id))}),ke&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"rounded-lg shadow-lg p-4 md:p-6 max-w-4xl w-full max-h-screen overflow-y-auto space-y-4 text-white bg-white/10 backdrop-blur-2xl border border-white/10",children:[jsxRuntimeExports.jsx("div",{className:"invoice-preview-container",children:jsxRuntimeExports.jsx(InvoicePreview$1,{customer:ke.customer,cartItems:(ke.cartItems||[]).map(qe=>({...qe,unit:qe.unit||"-"})),settings:{...ke.settings,creditDueDate:ke.creditDueDate||ke.settings?.creditDueDate||null,splitCash:ke.settings?.splitCash??ke.splitPayment?.cash??0,splitUPI:ke.settings?.splitUPI??ke.splitPayment?.upi??0,splitCard:ke.settings?.splitCard??ke.splitPayment?.card??0,isPaid:ke.isPaid,paidOn:ke.paidOn,paidVia:ke.paidVia},invoiceType:ke.invoiceType,paymentMode:ke.paymentMode,issuedAt:ke.createdAt,userInfo:{businessName:ke.userInfo?.businessName,gstNumber:ke.userInfo?.gstNumber||ke.gstNumber||"N/A"},onCancel:()=>Oe(null),viewOnly:!0})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 rounded text-sm bg-white/5 backdrop-blur-xl border border-white/10",children:[jsxRuntimeExports.jsxs("p",{className:"mb-2",children:["Here is your receipt from ",jsxRuntimeExports.jsx("strong",{children:ke.userInfo?.businessName}),", located at"," ",jsxRuntimeExports.jsx("strong",{children:ke.userInfo?.address||"N/A"}),".",jsxRuntimeExports.jsx("br",{}),"Total: ",jsxRuntimeExports.jsxs("strong",{children:["",Number(ke.totalAmount||0).toFixed(2)]}),jsxRuntimeExports.jsx("br",{}),"Issued on:"," ",jsxRuntimeExports.jsx("strong",{children:ke.createdAt?hooks(ke.createdAt).format("DD MMM YYYY, hh:mm A"):"N/A"})]}),ke.paymentMode==="credit"&&!ke.isPaid&&jsxRuntimeExports.jsx("button",{className:"px-4 py-2 rounded-lg mb-4 font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",onClick:()=>We(!0),children:"Mark as Paid"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("a",{href:`https://wa.me/91${ke.customer?.phone}?text=Here%20is%20your%20invoice%20from%20${encodeURIComponent(ke.userInfo?.businessName||"FLYP")}%20-%20Total%3A%20${Number(ke.totalAmount||0).toFixed(2)}%20on%20${encodeURIComponent(hooks(ke.createdAt).format("DD MMM YYYY, hh:mm A"))}`,target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg inline-block font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:"Send via WhatsApp"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 rounded-lg font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",onClick:()=>{const qe=document.querySelector(".invoice-preview-container");if(!qe)return alert("Invoice content not found.");const Ke={margin:.5,filename:`Invoice-${ke.id}.pdf`,image:{type:"jpeg",quality:.98},html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}};html2pdf().set(Ke).from(qe).save()},children:"Send via Email"})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-white/70 italic",children:"Powered by FLYP  smart business invoicing"})]})]})}),Qe&&jsxRuntimeExports.jsx(MarkPaidModal,{isOpen:!0,onClose:()=>We(!1),invoice:ke,onConfirm:async qe=>{const Xe=`businesses/${auth$2.currentUser?.uid}/finalizedInvoices/${ke.id}`,Ye=doc(db$2,Xe),Ze=new Date;await updateDoc(Ye,{isPaid:!0,paidOn:Ze,paidVia:qe});const Je=Re.map(tr=>tr.id===ke.id?{...tr,isPaid:!0,paidOn:Ze,paidVia:qe}:tr);Ce(Je),Be(Je),y$2.success("Invoice marked as paid successfully!"),We(!1),Oe(null)}})]})},Billing=()=>{const[Re,Ce]=reactExports.useState("create");return jsxRuntimeExports.jsxs("section",{className:"px-4 py-6 md:px-6 max-w-6xl mx-auto pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] text-white",children:[jsxRuntimeExports.jsx("h1",{className:"text-xl md:text-2xl font-bold mb-4 text-center bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Billing Dashboard"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap justify-center mb-6 gap-2 bg-white/5 backdrop-blur-xl p-2 rounded-2xl border border-white/10",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-l-xl transition ${Re==="create"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,onClick:()=>Ce("create"),children:"Create Invoice"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-r-xl transition ${Re==="view"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,onClick:()=>Ce("view"),children:"View Invoices"})]}),Re==="create"&&jsxRuntimeExports.jsx("div",{className:"space-y-4 pb-28",children:jsxRuntimeExports.jsx(CreateInvoice,{})}),Re==="view"&&jsxRuntimeExports.jsx(ViewInvoices,{}),Re==="create"&&jsxRuntimeExports.jsx("div",{className:"fixed bottom-4 inset-x-4 z-50 md:hidden",children:jsxRuntimeExports.jsx("button",{onClick:()=>console.log("Create Bill tapped"),className:"w-full text-slate-900 py-3 rounded-xl shadow-lg text-lg font-semibold bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]",children:"Create Bill"})})]})},LayoutGroupContext=reactExports.createContext({});function useConstant(Re){const Ce=reactExports.useRef(null);return Ce.current===null&&(Ce.current=Re()),Ce.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null);function addUniqueItem(Re,Ce){Re.indexOf(Ce)===-1&&Re.push(Ce)}function removeItem(Re,Ce){const je=Re.indexOf(Ce);je>-1&&Re.splice(je,1)}const clamp$1=(Re,Ce,je)=>je>Ce?Ce:je<Re?Re:je;let invariant$1=()=>{};const MotionGlobalConfig={},isNumericalString=Re=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(Re);function isObject$2(Re){return typeof Re=="object"&&Re!==null}const isZeroValueString=Re=>/^0[^.\s]+$/u.test(Re);function memo(Re){let Ce;return()=>(Ce===void 0&&(Ce=Re()),Ce)}const noop$b=Re=>Re,combineFunctions=(Re,Ce)=>je=>Ce(Re(je)),pipe=(...Re)=>Re.reduce(combineFunctions),progress=(Re,Ce,je)=>{const Be=Ce-Re;return Be===0?1:(je-Re)/Be};class SubscriptionManager{constructor(){this.subscriptions=[]}add(Ce){return addUniqueItem(this.subscriptions,Ce),()=>removeItem(this.subscriptions,Ce)}notify(Ce,je,Be){const De=this.subscriptions.length;if(De)if(De===1)this.subscriptions[0](Ce,je,Be);else for(let Fe=0;Fe<De;Fe++){const ke=this.subscriptions[Fe];ke&&ke(Ce,je,Be)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=Re=>Re*1e3,millisecondsToSeconds=Re=>Re/1e3;function velocityPerSecond(Re,Ce){return Ce?Re*(1e3/Ce):0}const calcBezier=(Re,Ce,je)=>(((1-3*je+3*Ce)*Re+(3*je-6*Ce))*Re+3*Ce)*Re,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Re,Ce,je,Be,De){let Fe,ke,Oe=0;do ke=Ce+(je-Ce)/2,Fe=calcBezier(ke,Be,De)-Re,Fe>0?je=ke:Ce=ke;while(Math.abs(Fe)>subdivisionPrecision&&++Oe<subdivisionMaxIterations);return ke}function cubicBezier$1(Re,Ce,je,Be){if(Re===Ce&&je===Be)return noop$b;const De=Fe=>binarySubdivide(Fe,0,1,Re,je);return Fe=>Fe===0||Fe===1?Fe:calcBezier(De(Fe),Ce,Be)}const mirrorEasing=Re=>Ce=>Ce<=.5?Re(2*Ce)/2:(2-Re(2*(1-Ce)))/2,reverseEasing=Re=>Ce=>1-Re(1-Ce),backOut=cubicBezier$1(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=Re=>(Re*=2)<1?.5*backIn(Re):.5*(2-Math.pow(2,-10*(Re-1))),circIn=Re=>1-Math.sin(Math.acos(Re)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),easeIn=cubicBezier$1(.42,0,1,1),easeOut=cubicBezier$1(0,0,.58,1),easeInOut=cubicBezier$1(.42,0,.58,1),isEasingArray=Re=>Array.isArray(Re)&&typeof Re[0]!="number",isBezierDefinition=Re=>Array.isArray(Re)&&typeof Re[0]=="number",easingLookup={linear:noop$b,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},isValidEasing=Re=>typeof Re=="string",easingDefinitionToFunction=Re=>{if(isBezierDefinition(Re)){invariant$1(Re.length===4);const[Ce,je,Be,De]=Re;return cubicBezier$1(Ce,je,Be,De)}else if(isValidEasing(Re))return easingLookup[Re];return Re},stepsOrder=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function createRenderStep(Re,Ce){let je=new Set,Be=new Set,De=!1,Fe=!1;const ke=new WeakSet;let Oe={delta:0,timestamp:0,isProcessing:!1};function Me($e){ke.has($e)&&(Ue.schedule($e),Re()),$e(Oe)}const Ue={schedule:($e,He=!1,Qe=!1)=>{const qe=Qe&&De?je:Be;return He&&ke.add($e),qe.has($e)||qe.add($e),$e},cancel:$e=>{Be.delete($e),ke.delete($e)},process:$e=>{if(Oe=$e,De){Fe=!0;return}De=!0,[je,Be]=[Be,je],je.forEach(Me),je.clear(),De=!1,Fe&&(Fe=!1,Ue.process($e))}};return Ue}const maxElapsed=40;function createRenderBatcher(Re,Ce){let je=!1,Be=!0;const De={delta:0,timestamp:0,isProcessing:!1},Fe=()=>je=!0,ke=stepsOrder.reduce((Je,tr)=>(Je[tr]=createRenderStep(Fe),Je),{}),{setup:Oe,read:Me,resolveKeyframes:Ue,preUpdate:$e,update:He,preRender:Qe,render:We,postRender:qe}=ke,Ke=()=>{const Je=MotionGlobalConfig.useManualTiming?De.timestamp:performance.now();je=!1,MotionGlobalConfig.useManualTiming||(De.delta=Be?1e3/60:Math.max(Math.min(Je-De.timestamp,maxElapsed),1)),De.timestamp=Je,De.isProcessing=!0,Oe.process(De),Me.process(De),Ue.process(De),$e.process(De),He.process(De),Qe.process(De),We.process(De),qe.process(De),De.isProcessing=!1,je&&Ce&&(Be=!1,Re(Ke))},Xe=()=>{je=!0,Be=!0,De.isProcessing||Re(Ke)};return{schedule:stepsOrder.reduce((Je,tr)=>{const rr=ke[tr];return Je[tr]=(ar,ir=!1,nr=!1)=>(je||Xe(),rr.schedule(ar,ir,nr)),Je},{}),cancel:Je=>{for(let tr=0;tr<stepsOrder.length;tr++)ke[stepsOrder[tr]].cancel(Je)},state:De,steps:ke}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$b,!0);let now;function clearTime(){now=void 0}const time$1={now:()=>(now===void 0&&time$1.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:Re=>{now=Re,queueMicrotask(clearTime)}},checkStringStartsWith=Re=>Ce=>typeof Ce=="string"&&Ce.startsWith(Re),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=Re=>startsAsVariableToken(Re)?singleCssVariableRegex.test(Re.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,number$3={test:Re=>typeof Re=="number",parse:parseFloat,transform:Re=>Re},alpha$3={...number$3,transform:Re=>clamp$1(0,1,Re)},scale={...number$3,default:1},sanitize=Re=>Math.round(Re*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish$1(Re){return Re==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(Re,Ce)=>je=>!!(typeof je=="string"&&singleColorRegex.test(je)&&je.startsWith(Re)||Ce&&!isNullish$1(je)&&Object.prototype.hasOwnProperty.call(je,Ce)),splitColor=(Re,Ce,je)=>Be=>{if(typeof Be!="string")return Be;const[De,Fe,ke,Oe]=Be.match(floatRegex);return{[Re]:parseFloat(De),[Ce]:parseFloat(Fe),[je]:parseFloat(ke),alpha:Oe!==void 0?parseFloat(Oe):1}},clampRgbUnit=Re=>clamp$1(0,255,Re),rgbUnit={...number$3,transform:Re=>Math.round(clampRgbUnit(Re))},rgba$1={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:Re,green:Ce,blue:je,alpha:Be=1})=>"rgba("+rgbUnit.transform(Re)+", "+rgbUnit.transform(Ce)+", "+rgbUnit.transform(je)+", "+sanitize(alpha$3.transform(Be))+")"};function parseHex(Re){let Ce="",je="",Be="",De="";return Re.length>5?(Ce=Re.substring(1,3),je=Re.substring(3,5),Be=Re.substring(5,7),De=Re.substring(7,9)):(Ce=Re.substring(1,2),je=Re.substring(2,3),Be=Re.substring(3,4),De=Re.substring(4,5),Ce+=Ce,je+=je,Be+=Be,De+=De),{red:parseInt(Ce,16),green:parseInt(je,16),blue:parseInt(Be,16),alpha:De?parseInt(De,16)/255:1}}const hex$2={test:isColorString("#"),parse:parseHex,transform:rgba$1.transform},createUnitType=Re=>({test:Ce=>typeof Ce=="string"&&Ce.endsWith(Re)&&Ce.split(" ").length===1,parse:parseFloat,transform:Ce=>`${Ce}${Re}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:Re=>percent.parse(Re)/100,transform:Re=>percent.transform(Re*100)},hsla$1={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:Re,saturation:Ce,lightness:je,alpha:Be=1})=>"hsla("+Math.round(Re)+", "+percent.transform(sanitize(Ce))+", "+percent.transform(sanitize(je))+", "+sanitize(alpha$3.transform(Be))+")"},color$3={test:Re=>rgba$1.test(Re)||hex$2.test(Re)||hsla$1.test(Re),parse:Re=>rgba$1.test(Re)?rgba$1.parse(Re):hsla$1.test(Re)?hsla$1.parse(Re):hex$2.parse(Re),transform:Re=>typeof Re=="string"?Re:Re.hasOwnProperty("red")?rgba$1.transform(Re):hsla$1.transform(Re),getAnimatableNone:Re=>{const Ce=color$3.parse(Re);return Ce.alpha=0,color$3.transform(Ce)}},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test(Re){return isNaN(Re)&&typeof Re=="string"&&(Re.match(floatRegex)?.length||0)+(Re.match(colorRegex)?.length||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(Re){const Ce=Re.toString(),je=[],Be={color:[],number:[],var:[]},De=[];let Fe=0;const Oe=Ce.replace(complexRegex,Me=>(color$3.test(Me)?(Be.color.push(Fe),De.push(COLOR_TOKEN),je.push(color$3.parse(Me))):Me.startsWith(VAR_FUNCTION_TOKEN)?(Be.var.push(Fe),De.push(VAR_TOKEN),je.push(Me)):(Be.number.push(Fe),De.push(NUMBER_TOKEN),je.push(parseFloat(Me))),++Fe,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:je,split:Oe,indexes:Be,types:De}}function parseComplexValue(Re){return analyseComplexValue(Re).values}function createTransformer(Re){const{split:Ce,types:je}=analyseComplexValue(Re),Be=Ce.length;return De=>{let Fe="";for(let ke=0;ke<Be;ke++)if(Fe+=Ce[ke],De[ke]!==void 0){const Oe=je[ke];Oe===NUMBER_TOKEN?Fe+=sanitize(De[ke]):Oe===COLOR_TOKEN?Fe+=color$3.transform(De[ke]):Fe+=De[ke]}return Fe}}const convertNumbersToZero=Re=>typeof Re=="number"?0:color$3.test(Re)?color$3.getAnimatableNone(Re):Re;function getAnimatableNone$1(Re){const Ce=parseComplexValue(Re);return createTransformer(Re)(Ce.map(convertNumbersToZero))}const complex={test,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1};function hueToRgb(Re,Ce,je){return je<0&&(je+=1),je>1&&(je-=1),je<1/6?Re+(Ce-Re)*6*je:je<1/2?Ce:je<2/3?Re+(Ce-Re)*(2/3-je)*6:Re}function hslaToRgba({hue:Re,saturation:Ce,lightness:je,alpha:Be}){Re/=360,Ce/=100,je/=100;let De=0,Fe=0,ke=0;if(!Ce)De=Fe=ke=je;else{const Oe=je<.5?je*(1+Ce):je+Ce-je*Ce,Me=2*je-Oe;De=hueToRgb(Me,Oe,Re+1/3),Fe=hueToRgb(Me,Oe,Re),ke=hueToRgb(Me,Oe,Re-1/3)}return{red:Math.round(De*255),green:Math.round(Fe*255),blue:Math.round(ke*255),alpha:Be}}function mixImmediate(Re,Ce){return je=>je>0?Ce:Re}const mixNumber$1=(Re,Ce,je)=>Re+(Ce-Re)*je,mixLinearColor=(Re,Ce,je)=>{const Be=Re*Re,De=je*(Ce*Ce-Be)+Be;return De<0?0:Math.sqrt(De)},colorTypes=[hex$2,rgba$1,hsla$1],getColorType=Re=>colorTypes.find(Ce=>Ce.test(Re));function asRGBA(Re){const Ce=getColorType(Re);if(!Ce)return!1;let je=Ce.parse(Re);return Ce===hsla$1&&(je=hslaToRgba(je)),je}const mixColor=(Re,Ce)=>{const je=asRGBA(Re),Be=asRGBA(Ce);if(!je||!Be)return mixImmediate(Re,Ce);const De={...je};return Fe=>(De.red=mixLinearColor(je.red,Be.red,Fe),De.green=mixLinearColor(je.green,Be.green,Fe),De.blue=mixLinearColor(je.blue,Be.blue,Fe),De.alpha=mixNumber$1(je.alpha,Be.alpha,Fe),rgba$1.transform(De))},invisibleValues=new Set(["none","hidden"]);function mixVisibility(Re,Ce){return invisibleValues.has(Re)?je=>je<=0?Re:Ce:je=>je>=1?Ce:Re}function mixNumber(Re,Ce){return je=>mixNumber$1(Re,Ce,je)}function getMixer(Re){return typeof Re=="number"?mixNumber:typeof Re=="string"?isCSSVariableToken(Re)?mixImmediate:color$3.test(Re)?mixColor:mixComplex:Array.isArray(Re)?mixArray:typeof Re=="object"?color$3.test(Re)?mixColor:mixObject:mixImmediate}function mixArray(Re,Ce){const je=[...Re],Be=je.length,De=Re.map((Fe,ke)=>getMixer(Fe)(Fe,Ce[ke]));return Fe=>{for(let ke=0;ke<Be;ke++)je[ke]=De[ke](Fe);return je}}function mixObject(Re,Ce){const je={...Re,...Ce},Be={};for(const De in je)Re[De]!==void 0&&Ce[De]!==void 0&&(Be[De]=getMixer(Re[De])(Re[De],Ce[De]));return De=>{for(const Fe in Be)je[Fe]=Be[Fe](De);return je}}function matchOrder(Re,Ce){const je=[],Be={color:0,var:0,number:0};for(let De=0;De<Ce.values.length;De++){const Fe=Ce.types[De],ke=Re.indexes[Fe][Be[Fe]],Oe=Re.values[ke]??0;je[De]=Oe,Be[Fe]++}return je}const mixComplex=(Re,Ce)=>{const je=complex.createTransformer(Ce),Be=analyseComplexValue(Re),De=analyseComplexValue(Ce);return Be.indexes.var.length===De.indexes.var.length&&Be.indexes.color.length===De.indexes.color.length&&Be.indexes.number.length>=De.indexes.number.length?invisibleValues.has(Re)&&!De.values.length||invisibleValues.has(Ce)&&!Be.values.length?mixVisibility(Re,Ce):pipe(mixArray(matchOrder(Be,De),De.values),je):mixImmediate(Re,Ce)};function mix(Re,Ce,je){return typeof Re=="number"&&typeof Ce=="number"&&typeof je=="number"?mixNumber$1(Re,Ce,je):getMixer(Re)(Re,Ce)}const frameloopDriver=Re=>{const Ce=({timestamp:je})=>Re(je);return{start:(je=!0)=>frame.update(Ce,je),stop:()=>cancelFrame(Ce),now:()=>frameData.isProcessing?frameData.timestamp:time$1.now()}},generateLinearEasing=(Re,Ce,je=10)=>{let Be="";const De=Math.max(Math.round(Ce/je),2);for(let Fe=0;Fe<De;Fe++)Be+=Math.round(Re(Fe/(De-1))*1e4)/1e4+", ";return`linear(${Be.substring(0,Be.length-2)})`},maxGeneratorDuration=2e4;function calcGeneratorDuration(Re){let Ce=0;const je=50;let Be=Re.next(Ce);for(;!Be.done&&Ce<maxGeneratorDuration;)Ce+=je,Be=Re.next(Ce);return Ce>=maxGeneratorDuration?1/0:Ce}function createGeneratorEasing(Re,Ce=100,je){const Be=je({...Re,keyframes:[0,Ce]}),De=Math.min(calcGeneratorDuration(Be),maxGeneratorDuration);return{type:"keyframes",ease:Fe=>Be.next(De*Fe).value/Ce,duration:millisecondsToSeconds(De)}}const velocitySampleDuration=5;function calcGeneratorVelocity(Re,Ce,je){const Be=Math.max(Ce-velocitySampleDuration,0);return velocityPerSecond(je-Re(Be),Ce-Be)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:Re=springDefaults.duration,bounce:Ce=springDefaults.bounce,velocity:je=springDefaults.velocity,mass:Be=springDefaults.mass}){let De,Fe,ke=1-Ce;ke=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,ke),Re=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(Re)),ke<1?(De=Ue=>{const $e=Ue*ke,He=$e*Re,Qe=$e-je,We=calcAngularFreq(Ue,ke),qe=Math.exp(-He);return safeMin-Qe/We*qe},Fe=Ue=>{const He=Ue*ke*Re,Qe=He*je+je,We=Math.pow(ke,2)*Math.pow(Ue,2)*Re,qe=Math.exp(-He),Ke=calcAngularFreq(Math.pow(Ue,2),ke);return(-De(Ue)+safeMin>0?-1:1)*((Qe-We)*qe)/Ke}):(De=Ue=>{const $e=Math.exp(-Ue*Re),He=(Ue-je)*Re+1;return-safeMin+$e*He},Fe=Ue=>{const $e=Math.exp(-Ue*Re),He=(je-Ue)*(Re*Re);return $e*He});const Oe=5/Re,Me=approximateRoot(De,Fe,Oe);if(Re=secondsToMilliseconds(Re),isNaN(Me))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:Re};{const Ue=Math.pow(Me,2)*Be;return{stiffness:Ue,damping:ke*2*Math.sqrt(Be*Ue),duration:Re}}}const rootIterations=12;function approximateRoot(Re,Ce,je){let Be=je;for(let De=1;De<rootIterations;De++)Be=Be-Re(Be)/Ce(Be);return Be}function calcAngularFreq(Re,Ce){return Re*Math.sqrt(1-Ce*Ce)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(Re,Ce){return Ce.some(je=>Re[je]!==void 0)}function getSpringOptions(Re){let Ce={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...Re};if(!isSpringType(Re,physicsKeys)&&isSpringType(Re,durationKeys))if(Re.visualDuration){const je=Re.visualDuration,Be=2*Math.PI/(je*1.2),De=Be*Be,Fe=2*clamp$1(.05,1,1-(Re.bounce||0))*Math.sqrt(De);Ce={...Ce,mass:springDefaults.mass,stiffness:De,damping:Fe}}else{const je=findSpring(Re);Ce={...Ce,...je,mass:springDefaults.mass},Ce.isResolvedFromDuration=!0}return Ce}function spring(Re=springDefaults.visualDuration,Ce=springDefaults.bounce){const je=typeof Re!="object"?{visualDuration:Re,keyframes:[0,1],bounce:Ce}:Re;let{restSpeed:Be,restDelta:De}=je;const Fe=je.keyframes[0],ke=je.keyframes[je.keyframes.length-1],Oe={done:!1,value:Fe},{stiffness:Me,damping:Ue,mass:$e,duration:He,velocity:Qe,isResolvedFromDuration:We}=getSpringOptions({...je,velocity:-millisecondsToSeconds(je.velocity||0)}),qe=Qe||0,Ke=Ue/(2*Math.sqrt(Me*$e)),Xe=ke-Fe,Ye=millisecondsToSeconds(Math.sqrt(Me/$e)),Ze=Math.abs(Xe)<5;Be||(Be=Ze?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),De||(De=Ze?springDefaults.restDelta.granular:springDefaults.restDelta.default);let Je;if(Ke<1){const rr=calcAngularFreq(Ye,Ke);Je=ar=>{const ir=Math.exp(-Ke*Ye*ar);return ke-ir*((qe+Ke*Ye*Xe)/rr*Math.sin(rr*ar)+Xe*Math.cos(rr*ar))}}else if(Ke===1)Je=rr=>ke-Math.exp(-Ye*rr)*(Xe+(qe+Ye*Xe)*rr);else{const rr=Ye*Math.sqrt(Ke*Ke-1);Je=ar=>{const ir=Math.exp(-Ke*Ye*ar),nr=Math.min(rr*ar,300);return ke-ir*((qe+Ke*Ye*Xe)*Math.sinh(nr)+rr*Xe*Math.cosh(nr))/rr}}const tr={calculatedDuration:We&&He||null,next:rr=>{const ar=Je(rr);if(We)Oe.done=rr>=He;else{let ir=rr===0?qe:0;Ke<1&&(ir=rr===0?secondsToMilliseconds(qe):calcGeneratorVelocity(Je,rr,ar));const nr=Math.abs(ir)<=Be,cr=Math.abs(ke-ar)<=De;Oe.done=nr&&cr}return Oe.value=Oe.done?ke:ar,Oe},toString:()=>{const rr=Math.min(calcGeneratorDuration(tr),maxGeneratorDuration),ar=generateLinearEasing(ir=>tr.next(rr*ir).value,rr,30);return rr+"ms "+ar},toTransition:()=>{}};return tr}spring.applyToOptions=Re=>{const Ce=createGeneratorEasing(Re,100,spring);return Re.ease=Ce.ease,Re.duration=secondsToMilliseconds(Ce.duration),Re.type="keyframes",Re};function inertia({keyframes:Re,velocity:Ce=0,power:je=.8,timeConstant:Be=325,bounceDamping:De=10,bounceStiffness:Fe=500,modifyTarget:ke,min:Oe,max:Me,restDelta:Ue=.5,restSpeed:$e}){const He=Re[0],Qe={done:!1,value:He},We=nr=>Oe!==void 0&&nr<Oe||Me!==void 0&&nr>Me,qe=nr=>Oe===void 0?Me:Me===void 0||Math.abs(Oe-nr)<Math.abs(Me-nr)?Oe:Me;let Ke=je*Ce;const Xe=He+Ke,Ye=ke===void 0?Xe:ke(Xe);Ye!==Xe&&(Ke=Ye-He);const Ze=nr=>-Ke*Math.exp(-nr/Be),Je=nr=>Ye+Ze(nr),tr=nr=>{const cr=Ze(nr),mr=Je(nr);Qe.done=Math.abs(cr)<=Ue,Qe.value=Qe.done?Ye:mr};let rr,ar;const ir=nr=>{We(Qe.value)&&(rr=nr,ar=spring({keyframes:[Qe.value,qe(Qe.value)],velocity:calcGeneratorVelocity(Je,nr,Qe.value),damping:De,stiffness:Fe,restDelta:Ue,restSpeed:$e}))};return ir(0),{calculatedDuration:null,next:nr=>{let cr=!1;return!ar&&rr===void 0&&(cr=!0,tr(nr),ir(nr)),rr!==void 0&&nr>=rr?ar.next(nr-rr):(!cr&&tr(nr),Qe)}}}function createMixers(Re,Ce,je){const Be=[],De=je||MotionGlobalConfig.mix||mix,Fe=Re.length-1;for(let ke=0;ke<Fe;ke++){let Oe=De(Re[ke],Re[ke+1]);if(Ce){const Me=Array.isArray(Ce)?Ce[ke]||noop$b:Ce;Oe=pipe(Me,Oe)}Be.push(Oe)}return Be}function interpolate$4(Re,Ce,{clamp:je=!0,ease:Be,mixer:De}={}){const Fe=Re.length;if(invariant$1(Fe===Ce.length),Fe===1)return()=>Ce[0];if(Fe===2&&Ce[0]===Ce[1])return()=>Ce[1];const ke=Re[0]===Re[1];Re[0]>Re[Fe-1]&&(Re=[...Re].reverse(),Ce=[...Ce].reverse());const Oe=createMixers(Ce,Be,De),Me=Oe.length,Ue=$e=>{if(ke&&$e<Re[0])return Ce[0];let He=0;if(Me>1)for(;He<Re.length-2&&!($e<Re[He+1]);He++);const Qe=progress(Re[He],Re[He+1],$e);return Oe[He](Qe)};return je?$e=>Ue(clamp$1(Re[0],Re[Fe-1],$e)):Ue}function fillOffset(Re,Ce){const je=Re[Re.length-1];for(let Be=1;Be<=Ce;Be++){const De=progress(0,Ce,Be);Re.push(mixNumber$1(je,1,De))}}function defaultOffset(Re){const Ce=[0];return fillOffset(Ce,Re.length-1),Ce}function convertOffsetToTimes(Re,Ce){return Re.map(je=>je*Ce)}function defaultEasing(Re,Ce){return Re.map(()=>Ce||easeInOut).splice(0,Re.length-1)}function keyframes$1({duration:Re=300,keyframes:Ce,times:je,ease:Be="easeInOut"}){const De=isEasingArray(Be)?Be.map(easingDefinitionToFunction):easingDefinitionToFunction(Be),Fe={done:!1,value:Ce[0]},ke=convertOffsetToTimes(je&&je.length===Ce.length?je:defaultOffset(Ce),Re),Oe=interpolate$4(ke,Ce,{ease:Array.isArray(De)?De:defaultEasing(Ce,De)});return{calculatedDuration:Re,next:Me=>(Fe.value=Oe(Me),Fe.done=Me>=Re,Fe)}}const isNotNull$1=Re=>Re!==null;function getFinalKeyframe$1(Re,{repeat:Ce,repeatType:je="loop"},Be,De=1){const Fe=Re.filter(isNotNull$1),Oe=De<0||Ce&&je!=="loop"&&Ce%2===1?0:Fe.length-1;return!Oe||Be===void 0?Fe[Oe]:Be}const transitionTypeMap={decay:inertia,inertia,tween:keyframes$1,keyframes:keyframes$1,spring};function replaceTransitionType(Re){typeof Re.type=="string"&&(Re.type=transitionTypeMap[Re.type])}class WithPromise{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(Ce=>{this.resolve=Ce})}notifyFinished(){this.resolve()}then(Ce,je){return this.finished.then(Ce,je)}}const percentToProgress=Re=>Re/100;class JSAnimation extends WithPromise{constructor(Ce){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:je}=this.options;je&&je.updatedAt!==time$1.now()&&this.tick(time$1.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=Ce,this.initAnimation(),this.play(),Ce.autoplay===!1&&this.pause()}initAnimation(){const{options:Ce}=this;replaceTransitionType(Ce);const{type:je=keyframes$1,repeat:Be=0,repeatDelay:De=0,repeatType:Fe,velocity:ke=0}=Ce;let{keyframes:Oe}=Ce;const Me=je||keyframes$1;Me!==keyframes$1&&typeof Oe[0]!="number"&&(this.mixKeyframes=pipe(percentToProgress,mix(Oe[0],Oe[1])),Oe=[0,100]);const Ue=Me({...Ce,keyframes:Oe});Fe==="mirror"&&(this.mirroredGenerator=Me({...Ce,keyframes:[...Oe].reverse(),velocity:-ke})),Ue.calculatedDuration===null&&(Ue.calculatedDuration=calcGeneratorDuration(Ue));const{calculatedDuration:$e}=Ue;this.calculatedDuration=$e,this.resolvedDuration=$e+De,this.totalDuration=this.resolvedDuration*(Be+1)-De,this.generator=Ue}updateTime(Ce){const je=Math.round(Ce-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=je}tick(Ce,je=!1){const{generator:Be,totalDuration:De,mixKeyframes:Fe,mirroredGenerator:ke,resolvedDuration:Oe,calculatedDuration:Me}=this;if(this.startTime===null)return Be.next(0);const{delay:Ue=0,keyframes:$e,repeat:He,repeatType:Qe,repeatDelay:We,type:qe,onUpdate:Ke,finalKeyframe:Xe}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,Ce):this.speed<0&&(this.startTime=Math.min(Ce-De/this.speed,this.startTime)),je?this.currentTime=Ce:this.updateTime(Ce);const Ye=this.currentTime-Ue*(this.playbackSpeed>=0?1:-1),Ze=this.playbackSpeed>=0?Ye<0:Ye>De;this.currentTime=Math.max(Ye,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=De);let Je=this.currentTime,tr=Be;if(He){const nr=Math.min(this.currentTime,De)/Oe;let cr=Math.floor(nr),mr=nr%1;!mr&&nr>=1&&(mr=1),mr===1&&cr--,cr=Math.min(cr,He+1),!!(cr%2)&&(Qe==="reverse"?(mr=1-mr,We&&(mr-=We/Oe)):Qe==="mirror"&&(tr=ke)),Je=clamp$1(0,1,mr)*Oe}const rr=Ze?{done:!1,value:$e[0]}:tr.next(Je);Fe&&(rr.value=Fe(rr.value));let{done:ar}=rr;!Ze&&Me!==null&&(ar=this.playbackSpeed>=0?this.currentTime>=De:this.currentTime<=0);const ir=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ar);return ir&&qe!==inertia&&(rr.value=getFinalKeyframe$1($e,this.options,Xe,this.speed)),Ke&&Ke(rr.value),ir&&this.finish(),rr}then(Ce,je){return this.finished.then(Ce,je)}get duration(){return millisecondsToSeconds(this.calculatedDuration)}get time(){return millisecondsToSeconds(this.currentTime)}set time(Ce){Ce=secondsToMilliseconds(Ce),this.currentTime=Ce,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=Ce:this.driver&&(this.startTime=this.driver.now()-Ce/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(Ce){this.updateTime(time$1.now());const je=this.playbackSpeed!==Ce;this.playbackSpeed=Ce,je&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.isStopped)return;const{driver:Ce=frameloopDriver,startTime:je}=this.options;this.driver||(this.driver=Ce(De=>this.tick(De))),this.options.onPlay?.();const Be=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=Be):this.holdTime!==null?this.startTime=Be-this.holdTime:this.startTime||(this.startTime=je??Be),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(time$1.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(Ce){return this.startTime=0,this.tick(Ce,!0)}attachTimeline(Ce){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),Ce.observe(this)}}function fillWildcards(Re){for(let Ce=1;Ce<Re.length;Ce++)Re[Ce]??(Re[Ce]=Re[Ce-1])}const radToDeg=Re=>Re*180/Math.PI,rotate$1=Re=>{const Ce=radToDeg(Math.atan2(Re[1],Re[0]));return rebaseAngle(Ce)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:Re=>(Math.abs(Re[0])+Math.abs(Re[3]))/2,rotate:rotate$1,rotateZ:rotate$1,skewX:Re=>radToDeg(Math.atan(Re[1])),skewY:Re=>radToDeg(Math.atan(Re[2])),skew:Re=>(Math.abs(Re[1])+Math.abs(Re[2]))/2},rebaseAngle=Re=>(Re=Re%360,Re<0&&(Re+=360),Re),rotateZ=rotate$1,scaleX=Re=>Math.sqrt(Re[0]*Re[0]+Re[1]*Re[1]),scaleY=Re=>Math.sqrt(Re[4]*Re[4]+Re[5]*Re[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:Re=>(scaleX(Re)+scaleY(Re))/2,rotateX:Re=>rebaseAngle(radToDeg(Math.atan2(Re[6],Re[5]))),rotateY:Re=>rebaseAngle(radToDeg(Math.atan2(-Re[2],Re[0]))),rotateZ,rotate:rotateZ,skewX:Re=>radToDeg(Math.atan(Re[4])),skewY:Re=>radToDeg(Math.atan(Re[1])),skew:Re=>(Math.abs(Re[1])+Math.abs(Re[4]))/2};function defaultTransformValue(Re){return Re.includes("scale")?1:0}function parseValueFromTransform(Re,Ce){if(!Re||Re==="none")return defaultTransformValue(Ce);const je=Re.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let Be,De;if(je)Be=matrix3dParsers,De=je;else{const Oe=Re.match(/^matrix\(([-\d.e\s,]+)\)$/u);Be=matrix2dParsers,De=Oe}if(!De)return defaultTransformValue(Ce);const Fe=Be[Ce],ke=De[1].split(",").map(convertTransformToNumber);return typeof Fe=="function"?Fe(ke):ke[Fe]}const readTransformValue=(Re,Ce)=>{const{transform:je="none"}=getComputedStyle(Re);return parseValueFromTransform(je,Ce)};function convertTransformToNumber(Re){return parseFloat(Re.trim())}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder),isNumOrPxType=Re=>Re===number$3||Re===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(Re=>!transformKeys.has(Re));function removeNonTranslationalTransform(Re){const Ce=[];return nonTranslationalTransformKeys.forEach(je=>{const Be=Re.getValue(je);Be!==void 0&&(Ce.push([je,Be.get()]),Be.set(je.startsWith("scale")?1:0))}),Ce}const positionalValues={width:({x:Re},{paddingLeft:Ce="0",paddingRight:je="0"})=>Re.max-Re.min-parseFloat(Ce)-parseFloat(je),height:({y:Re},{paddingTop:Ce="0",paddingBottom:je="0"})=>Re.max-Re.min-parseFloat(Ce)-parseFloat(je),top:(Re,{top:Ce})=>parseFloat(Ce),left:(Re,{left:Ce})=>parseFloat(Ce),bottom:({y:Re},{top:Ce})=>parseFloat(Ce)+(Re.max-Re.min),right:({x:Re},{left:Ce})=>parseFloat(Ce)+(Re.max-Re.min),x:(Re,{transform:Ce})=>parseValueFromTransform(Ce,"x"),y:(Re,{transform:Ce})=>parseValueFromTransform(Ce,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1,isForced=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const Re=Array.from(toResolve).filter(Be=>Be.needsMeasurement),Ce=new Set(Re.map(Be=>Be.element)),je=new Map;Ce.forEach(Be=>{const De=removeNonTranslationalTransform(Be);De.length&&(je.set(Be,De),Be.render())}),Re.forEach(Be=>Be.measureInitialState()),Ce.forEach(Be=>{Be.render();const De=je.get(Be);De&&De.forEach(([Fe,ke])=>{Be.getValue(Fe)?.set(ke)})}),Re.forEach(Be=>Be.measureEndState()),Re.forEach(Be=>{Be.suspendedScrollY!==void 0&&window.scrollTo(0,Be.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(Re=>Re.complete(isForced)),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(Re=>{Re.readKeyframes(),Re.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){isForced=!0,readAllKeyframes(),measureAllKeyframes(),isForced=!1}class KeyframeResolver{constructor(Ce,je,Be,De,Fe,ke=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...Ce],this.onComplete=je,this.name=Be,this.motionValue=De,this.element=Fe,this.isAsync=ke}scheduleResolve(){this.state="scheduled",this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:Ce,name:je,element:Be,motionValue:De}=this;if(Ce[0]===null){const Fe=De?.get(),ke=Ce[Ce.length-1];if(Fe!==void 0)Ce[0]=Fe;else if(Be&&je){const Oe=Be.readValue(je,ke);Oe!=null&&(Ce[0]=Oe)}Ce[0]===void 0&&(Ce[0]=ke),De&&Fe===void 0&&De.set(Ce[0])}fillWildcards(Ce)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(Ce=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,Ce),toResolve.delete(this)}cancel(){this.state==="scheduled"&&(toResolve.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const isCSSVar=Re=>Re.startsWith("--");function setStyle$1(Re,Ce,je){isCSSVar(Ce)?Re.style.setProperty(Ce,je):Re.style[Ce]=je}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0),supportsFlags={};function memoSupports(Re,Ce){const je=memo(Re);return()=>supportsFlags[Ce]??je()}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),cubicBezierAsString=([Re,Ce,je,Be])=>`cubic-bezier(${Re}, ${Ce}, ${je}, ${Be})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(Re,Ce){if(Re)return typeof Re=="function"?supportsLinearEasing()?generateLinearEasing(Re,Ce):"ease-out":isBezierDefinition(Re)?cubicBezierAsString(Re):Array.isArray(Re)?Re.map(je=>mapEasingToNativeEasing(je,Ce)||supportedWaapiEasing.easeOut):supportedWaapiEasing[Re]}function startWaapiAnimation(Re,Ce,je,{delay:Be=0,duration:De=300,repeat:Fe=0,repeatType:ke="loop",ease:Oe="easeOut",times:Me}={},Ue=void 0){const $e={[Ce]:je};Me&&($e.offset=Me);const He=mapEasingToNativeEasing(Oe,De);Array.isArray(He)&&($e.easing=He);const Qe={delay:Be,duration:De,easing:Array.isArray(He)?"linear":He,fill:"both",iterations:Fe+1,direction:ke==="reverse"?"alternate":"normal"};return Ue&&(Qe.pseudoElement=Ue),Re.animate($e,Qe)}function isGenerator(Re){return typeof Re=="function"&&"applyToOptions"in Re}function applyGeneratorOptions({type:Re,...Ce}){return isGenerator(Re)&&supportsLinearEasing()?Re.applyToOptions(Ce):(Ce.duration??(Ce.duration=300),Ce.ease??(Ce.ease="easeOut"),Ce)}class NativeAnimation extends WithPromise{constructor(Ce){if(super(),this.finishedTime=null,this.isStopped=!1,!Ce)return;const{element:je,name:Be,keyframes:De,pseudoElement:Fe,allowFlatten:ke=!1,finalKeyframe:Oe,onComplete:Me}=Ce;this.isPseudoElement=!!Fe,this.allowFlatten=ke,this.options=Ce,invariant$1(typeof Ce.type!="string");const Ue=applyGeneratorOptions(Ce);this.animation=startWaapiAnimation(je,Be,De,Ue,Fe),Ue.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!Fe){const $e=getFinalKeyframe$1(De,this.options,Oe,this.speed);this.updateMotionValue?this.updateMotionValue($e):setStyle$1(je,Be,$e),this.animation.cancel()}Me?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:Ce}=this;Ce==="idle"||Ce==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const Ce=this.animation.effect?.getComputedTiming?.().duration||0;return millisecondsToSeconds(Number(Ce))}get time(){return millisecondsToSeconds(Number(this.animation.currentTime)||0)}set time(Ce){this.finishedTime=null,this.animation.currentTime=secondsToMilliseconds(Ce)}get speed(){return this.animation.playbackRate}set speed(Ce){Ce<0&&(this.finishedTime=null),this.animation.playbackRate=Ce}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(Ce){this.animation.startTime=Ce}attachTimeline({timeline:Ce,observe:je}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,Ce&&supportsScrollTimeline()?(this.animation.timeline=Ce,noop$b):je(this)}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(Re){return Re in unsupportedEasingFunctions}function replaceStringEasing(Re){typeof Re.ease=="string"&&isUnsupportedEase(Re.ease)&&(Re.ease=unsupportedEasingFunctions[Re.ease])}const sampleDelta=10;class NativeAnimationExtended extends NativeAnimation{constructor(Ce){replaceStringEasing(Ce),replaceTransitionType(Ce),super(Ce),Ce.startTime&&(this.startTime=Ce.startTime),this.options=Ce}updateMotionValue(Ce){const{motionValue:je,onUpdate:Be,onComplete:De,element:Fe,...ke}=this.options;if(!je)return;if(Ce!==void 0){je.set(Ce);return}const Oe=new JSAnimation({...ke,autoplay:!1}),Me=secondsToMilliseconds(this.finishedTime??this.time);je.setWithVelocity(Oe.sample(Me-sampleDelta).value,Oe.sample(Me).value,sampleDelta),Oe.stop()}}const isAnimatable=(Re,Ce)=>Ce==="zIndex"?!1:!!(typeof Re=="number"||Array.isArray(Re)||typeof Re=="string"&&(complex.test(Re)||Re==="0")&&!Re.startsWith("url("));function hasKeyframesChanged(Re){const Ce=Re[0];if(Re.length===1)return!0;for(let je=0;je<Re.length;je++)if(Re[je]!==Ce)return!0}function canAnimate(Re,Ce,je,Be){const De=Re[0];if(De===null)return!1;if(Ce==="display"||Ce==="visibility")return!0;const Fe=Re[Re.length-1],ke=isAnimatable(De,Ce),Oe=isAnimatable(Fe,Ce);return!ke||!Oe?!1:hasKeyframesChanged(Re)||(je==="spring"||isGenerator(je))&&Be}function makeAnimationInstant(Re){Re.duration=0,Re.type}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]),supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function supportsBrowserAnimation(Re){const{motionValue:Ce,name:je,repeatDelay:Be,repeatType:De,damping:Fe,type:ke}=Re;if(!(Ce?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:Me,transformTemplate:Ue}=Ce.owner.getProps();return supportsWaapi()&&je&&acceleratedValues.has(je)&&(je!=="transform"||!Ue)&&!Me&&!Be&&De!=="mirror"&&Fe!==0&&ke!=="inertia"}const MAX_RESOLVE_DELAY=40;class AsyncMotionValueAnimation extends WithPromise{constructor({autoplay:Ce=!0,delay:je=0,type:Be="keyframes",repeat:De=0,repeatDelay:Fe=0,repeatType:ke="loop",keyframes:Oe,name:Me,motionValue:Ue,element:$e,...He}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=time$1.now();const Qe={autoplay:Ce,delay:je,type:Be,repeat:De,repeatDelay:Fe,repeatType:ke,name:Me,motionValue:Ue,element:$e,...He},We=$e?.KeyframeResolver||KeyframeResolver;this.keyframeResolver=new We(Oe,(qe,Ke,Xe)=>this.onKeyframesResolved(qe,Ke,Qe,!Xe),Me,Ue,$e),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(Ce,je,Be,De){this.keyframeResolver=void 0;const{name:Fe,type:ke,velocity:Oe,delay:Me,isHandoff:Ue,onUpdate:$e}=Be;this.resolvedAt=time$1.now(),canAnimate(Ce,Fe,ke,Oe)||((MotionGlobalConfig.instantAnimations||!Me)&&$e?.(getFinalKeyframe$1(Ce,Be,je)),Ce[0]=Ce[Ce.length-1],makeAnimationInstant(Be),Be.repeat=0);const Qe={startTime:De?this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:je,...Be,keyframes:Ce},We=!Ue&&supportsBrowserAnimation(Qe)?new NativeAnimationExtended({...Qe,element:Qe.motionValue.owner.current}):new JSAnimation(Qe);We.finished.then(()=>this.notifyFinished()).catch(noop$b),this.pendingTimeline&&(this.stopTimeline=We.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=We}get finished(){return this._animation?this.animation.finished:this._finished}then(Ce,je){return this.finished.finally(Ce).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),flushKeyframeResolvers()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(Ce){this.animation.time=Ce}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(Ce){this.animation.speed=Ce}get startTime(){return this.animation.startTime}attachTimeline(Ce){return this._animation?this.stopTimeline=this.animation.attachTimeline(Ce):this.pendingTimeline=Ce,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(Re){const Ce=splitCSSVariableRegex.exec(Re);if(!Ce)return[,];const[,je,Be,De]=Ce;return[`--${je??Be}`,De]}function getVariableValue(Re,Ce,je=1){const[Be,De]=parseCSSVariable(Re);if(!Be)return;const Fe=window.getComputedStyle(Ce).getPropertyValue(Be);if(Fe){const ke=Fe.trim();return isNumericalString(ke)?parseFloat(ke):ke}return isCSSVariableToken(De)?getVariableValue(De,Ce,je+1):De}function getValueTransition(Re,Ce){return Re?.[Ce]??Re?.default??Re}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]),auto={test:Re=>Re==="auto",parse:Re=>Re},testValueType=Re=>Ce=>Ce.test(Re),dimensionValueTypes=[number$3,px,percent,degrees,vw,vh,auto],findDimensionValueType=Re=>dimensionValueTypes.find(testValueType(Re));function isNone(Re){return typeof Re=="number"?Re===0:Re!==null?Re==="none"||Re==="0"||isZeroValueString(Re):!0}const maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(Re){const[Ce,je]=Re.slice(0,-1).split("(");if(Ce==="drop-shadow")return Re;const[Be]=je.match(floatRegex)||[];if(!Be)return Re;const De=je.replace(Be,"");let Fe=maxDefaults.has(Ce)?1:0;return Be!==je&&(Fe*=100),Ce+"("+Fe+De+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:Re=>{const Ce=Re.match(functionRegex);return Ce?Ce.map(applyDefaultFilter).join(" "):Re}},int={...number$3,transform:Math.round},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha$3,originX:progressPercentage,originY:progressPercentage,originZ:px},numberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px,...transformValueTypes,zIndex:int,fillOpacity:alpha$3,strokeOpacity:alpha$3,numOctaves:int},defaultValueTypes={...numberValueTypes,color:color$3,backgroundColor:color$3,outlineColor:color$3,fill:color$3,stroke:color$3,borderColor:color$3,borderTopColor:color$3,borderRightColor:color$3,borderBottomColor:color$3,borderLeftColor:color$3,filter,WebkitFilter:filter},getDefaultValueType=Re=>defaultValueTypes[Re];function getAnimatableNone(Re,Ce){let je=getDefaultValueType(Re);return je!==filter&&(je=complex),je.getAnimatableNone?je.getAnimatableNone(Ce):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(Re,Ce,je){let Be=0,De;for(;Be<Re.length&&!De;){const Fe=Re[Be];typeof Fe=="string"&&!invalidTemplates.has(Fe)&&analyseComplexValue(Fe).values.length&&(De=Re[Be]),Be++}if(De&&je)for(const Fe of Ce)Re[Fe]=getAnimatableNone(je,De)}class DOMKeyframesResolver extends KeyframeResolver{constructor(Ce,je,Be,De,Fe){super(Ce,je,Be,De,Fe,!0)}readKeyframes(){const{unresolvedKeyframes:Ce,element:je,name:Be}=this;if(!je||!je.current)return;super.readKeyframes();for(let Me=0;Me<Ce.length;Me++){let Ue=Ce[Me];if(typeof Ue=="string"&&(Ue=Ue.trim(),isCSSVariableToken(Ue))){const $e=getVariableValue(Ue,je.current);$e!==void 0&&(Ce[Me]=$e),Me===Ce.length-1&&(this.finalKeyframe=Ue)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(Be)||Ce.length!==2)return;const[De,Fe]=Ce,ke=findDimensionValueType(De),Oe=findDimensionValueType(Fe);if(ke!==Oe)if(isNumOrPxType(ke)&&isNumOrPxType(Oe))for(let Me=0;Me<Ce.length;Me++){const Ue=Ce[Me];typeof Ue=="string"&&(Ce[Me]=parseFloat(Ue))}else positionalValues[Be]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:Ce,name:je}=this,Be=[];for(let De=0;De<Ce.length;De++)(Ce[De]===null||isNone(Ce[De]))&&Be.push(De);Be.length&&makeNoneKeyframesAnimatable(Ce,Be,je)}measureInitialState(){const{element:Ce,unresolvedKeyframes:je,name:Be}=this;if(!Ce||!Ce.current)return;Be==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[Be](Ce.measureViewportBox(),window.getComputedStyle(Ce.current)),je[0]=this.measuredOrigin;const De=je[je.length-1];De!==void 0&&Ce.getValue(Be,De).jump(De,!1)}measureEndState(){const{element:Ce,name:je,unresolvedKeyframes:Be}=this;if(!Ce||!Ce.current)return;const De=Ce.getValue(je);De&&De.jump(this.measuredOrigin,!1);const Fe=Be.length-1,ke=Be[Fe];Be[Fe]=positionalValues[je](Ce.measureViewportBox(),window.getComputedStyle(Ce.current)),ke!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=ke),this.removedTransforms?.length&&this.removedTransforms.forEach(([Oe,Me])=>{Ce.getValue(Oe).set(Me)}),this.resolveNoneKeyframes()}}function resolveElements(Re,Ce,je){if(Re instanceof EventTarget)return[Re];if(typeof Re=="string"){let Be=document;const De=je?.[Re]??Be.querySelectorAll(Re);return De?Array.from(De):[]}return Array.from(Re)}const getValueAsType=(Re,Ce)=>Ce&&typeof Re=="number"?Ce.transform(Re):Re;function isHTMLElement$1(Re){return isObject$2(Re)&&"offsetHeight"in Re}const MAX_VELOCITY_DELTA=30,isFloat=Re=>!isNaN(parseFloat(Re));class MotionValue{constructor(Ce,je={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=Be=>{const De=time$1.now();if(this.updatedAt!==De&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(Be),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const Fe of this.dependents)Fe.dirty()},this.hasAnimated=!1,this.setCurrent(Ce),this.owner=je.owner}setCurrent(Ce){this.current=Ce,this.updatedAt=time$1.now(),this.canTrackVelocity===null&&Ce!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(Ce=this.current){this.prevFrameValue=Ce,this.prevUpdatedAt=this.updatedAt}onChange(Ce){return this.on("change",Ce)}on(Ce,je){this.events[Ce]||(this.events[Ce]=new SubscriptionManager);const Be=this.events[Ce].add(je);return Ce==="change"?()=>{Be(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:Be}clearListeners(){for(const Ce in this.events)this.events[Ce].clear()}attach(Ce,je){this.passiveEffect=Ce,this.stopPassiveEffect=je}set(Ce){this.passiveEffect?this.passiveEffect(Ce,this.updateAndNotify):this.updateAndNotify(Ce)}setWithVelocity(Ce,je,Be){this.set(je),this.prev=void 0,this.prevFrameValue=Ce,this.prevUpdatedAt=this.updatedAt-Be}jump(Ce,je=!0){this.updateAndNotify(Ce),this.prev=Ce,this.prevUpdatedAt=this.prevFrameValue=void 0,je&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(Ce){this.dependents||(this.dependents=new Set),this.dependents.add(Ce)}removeDependent(Ce){this.dependents&&this.dependents.delete(Ce)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const Ce=time$1.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||Ce-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const je=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),je)}start(Ce){return this.stop(),new Promise(je=>{this.hasAnimated=!0,this.animation=Ce(je),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(Re,Ce){return new MotionValue(Re,Ce)}const{schedule:microtask}=createRenderBatcher(queueMicrotask,!1),isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(Re){return Re==="x"||Re==="y"?isDragging[Re]?null:(isDragging[Re]=!0,()=>{isDragging[Re]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function setupGesture(Re,Ce){const je=resolveElements(Re),Be=new AbortController,De={passive:!0,...Ce,signal:Be.signal};return[je,De,()=>Be.abort()]}function isValidHover(Re){return!(Re.pointerType==="touch"||isDragActive())}function hover(Re,Ce,je={}){const[Be,De,Fe]=setupGesture(Re,je),ke=Oe=>{if(!isValidHover(Oe))return;const{target:Me}=Oe,Ue=Ce(Me,Oe);if(typeof Ue!="function"||!Me)return;const $e=He=>{isValidHover(He)&&(Ue(He),Me.removeEventListener("pointerleave",$e))};Me.addEventListener("pointerleave",$e,De)};return Be.forEach(Oe=>{Oe.addEventListener("pointerenter",ke,De)}),Fe}const isNodeOrChild=(Re,Ce)=>Ce?Re===Ce?!0:isNodeOrChild(Re,Ce.parentElement):!1,isPrimaryPointer=Re=>Re.pointerType==="mouse"?typeof Re.button!="number"||Re.button<=0:Re.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(Re){return focusableElements.has(Re.tagName)||Re.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(Re){return Ce=>{Ce.key==="Enter"&&Re(Ce)}}function firePointerEvent(Re,Ce){Re.dispatchEvent(new PointerEvent("pointer"+Ce,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(Re,Ce)=>{const je=Re.currentTarget;if(!je)return;const Be=filterEvents(()=>{if(isPressing.has(je))return;firePointerEvent(je,"down");const De=filterEvents(()=>{firePointerEvent(je,"up")}),Fe=()=>firePointerEvent(je,"cancel");je.addEventListener("keyup",De,Ce),je.addEventListener("blur",Fe,Ce)});je.addEventListener("keydown",Be,Ce),je.addEventListener("blur",()=>je.removeEventListener("keydown",Be),Ce)};function isValidPressEvent(Re){return isPrimaryPointer(Re)&&!isDragActive()}function press(Re,Ce,je={}){const[Be,De,Fe]=setupGesture(Re,je),ke=Oe=>{const Me=Oe.currentTarget;if(!isValidPressEvent(Oe))return;isPressing.add(Me);const Ue=Ce(Me,Oe),$e=(We,qe)=>{window.removeEventListener("pointerup",He),window.removeEventListener("pointercancel",Qe),isPressing.has(Me)&&isPressing.delete(Me),isValidPressEvent(We)&&typeof Ue=="function"&&Ue(We,{success:qe})},He=We=>{$e(We,Me===window||Me===document||je.useGlobalTarget||isNodeOrChild(Me,We.target))},Qe=We=>{$e(We,!1)};window.addEventListener("pointerup",He,De),window.addEventListener("pointercancel",Qe,De)};return Be.forEach(Oe=>{(je.useGlobalTarget?window:Oe).addEventListener("pointerdown",ke,De),isHTMLElement$1(Oe)&&(Oe.addEventListener("focus",Ue=>enableKeyboardPress(Ue,De)),!isElementKeyboardAccessible(Oe)&&!Oe.hasAttribute("tabindex")&&(Oe.tabIndex=0))}),Fe}function isSVGElement(Re){return isObject$2(Re)&&"ownerSVGElement"in Re}function isSVGSVGElement(Re){return isSVGElement(Re)&&Re.tagName==="svg"}const isMotionValue=Re=>!!(Re&&Re.getVelocity),valueTypes=[...dimensionValueTypes,color$3,complex],findValueType=Re=>valueTypes.find(testValueType(Re)),MotionConfigContext=reactExports.createContext({transformPagePoint:Re=>Re,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(Ce){const je=this.props.childRef.current;if(je&&Ce.isPresent&&!this.props.isPresent){const Be=je.offsetParent,De=isHTMLElement$1(Be)&&Be.offsetWidth||0,Fe=this.props.sizeRef.current;Fe.height=je.offsetHeight||0,Fe.width=je.offsetWidth||0,Fe.top=je.offsetTop,Fe.left=je.offsetLeft,Fe.right=De-Fe.width-Fe.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:Re,isPresent:Ce,anchorX:je,root:Be}){const De=reactExports.useId(),Fe=reactExports.useRef(null),ke=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:Oe}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Me,height:Ue,top:$e,left:He,right:Qe}=ke.current;if(Ce||!Fe.current||!Me||!Ue)return;const We=je==="left"?`left: ${He}`:`right: ${Qe}`;Fe.current.dataset.motionPopId=De;const qe=document.createElement("style");Oe&&(qe.nonce=Oe);const Ke=Be??document.head;return Ke.appendChild(qe),qe.sheet&&qe.sheet.insertRule(`
          [data-motion-pop-id="${De}"] {
            position: absolute !important;
            width: ${Me}px !important;
            height: ${Ue}px !important;
            ${We}px !important;
            top: ${$e}px !important;
          }
        `),()=>{Ke.contains(qe)&&Ke.removeChild(qe)}},[Ce]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:Ce,childRef:Fe,sizeRef:ke,children:reactExports.cloneElement(Re,{ref:Fe})})}const PresenceChild=({children:Re,initial:Ce,isPresent:je,onExitComplete:Be,custom:De,presenceAffectsLayout:Fe,mode:ke,anchorX:Oe,root:Me})=>{const Ue=useConstant(newChildrenMap),$e=reactExports.useId();let He=!0,Qe=reactExports.useMemo(()=>(He=!1,{id:$e,initial:Ce,isPresent:je,custom:De,onExitComplete:We=>{Ue.set(We,!0);for(const qe of Ue.values())if(!qe)return;Be&&Be()},register:We=>(Ue.set(We,!1),()=>Ue.delete(We))}),[je,Ue,Be]);return Fe&&He&&(Qe={...Qe}),reactExports.useMemo(()=>{Ue.forEach((We,qe)=>Ue.set(qe,!1))},[je]),reactExports.useEffect(()=>{!je&&!Ue.size&&Be&&Be()},[je]),ke==="popLayout"&&(Re=jsxRuntimeExports.jsx(PopChild,{isPresent:je,anchorX:Oe,root:Me,children:Re})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:Qe,children:Re})};function newChildrenMap(){return new Map}function usePresence(Re=!0){const Ce=reactExports.useContext(PresenceContext);if(Ce===null)return[!0,null];const{isPresent:je,onExitComplete:Be,register:De}=Ce,Fe=reactExports.useId();reactExports.useEffect(()=>{if(Re)return De(Fe)},[Re]);const ke=reactExports.useCallback(()=>Re&&Be&&Be(Fe),[Fe,Be,Re]);return!je&&Be?[!1,ke]:[!0]}const getChildKey=Re=>Re.key||"";function onlyElements(Re){const Ce=[];return reactExports.Children.forEach(Re,je=>{reactExports.isValidElement(je)&&Ce.push(je)}),Ce}const AnimatePresence=({children:Re,custom:Ce,initial:je=!0,onExitComplete:Be,presenceAffectsLayout:De=!0,mode:Fe="sync",propagate:ke=!1,anchorX:Oe="left",root:Me})=>{const[Ue,$e]=usePresence(ke),He=reactExports.useMemo(()=>onlyElements(Re),[Re]),Qe=ke&&!Ue?[]:He.map(getChildKey),We=reactExports.useRef(!0),qe=reactExports.useRef(He),Ke=useConstant(()=>new Map),[Xe,Ye]=reactExports.useState(He),[Ze,Je]=reactExports.useState(He);useIsomorphicLayoutEffect$1(()=>{We.current=!1,qe.current=He;for(let ar=0;ar<Ze.length;ar++){const ir=getChildKey(Ze[ar]);Qe.includes(ir)?Ke.delete(ir):Ke.get(ir)!==!0&&Ke.set(ir,!1)}},[Ze,Qe.length,Qe.join("-")]);const tr=[];if(He!==Xe){let ar=[...He];for(let ir=0;ir<Ze.length;ir++){const nr=Ze[ir],cr=getChildKey(nr);Qe.includes(cr)||(ar.splice(ir,0,nr),tr.push(nr))}return Fe==="wait"&&tr.length&&(ar=tr),Je(onlyElements(ar)),Ye(He),null}const{forceRender:rr}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ze.map(ar=>{const ir=getChildKey(ar),nr=ke&&!Ue?!1:He===Ze||Qe.includes(ir),cr=()=>{if(Ke.has(ir))Ke.set(ir,!0);else return;let mr=!0;Ke.forEach(fr=>{fr||(mr=!1)}),mr&&(rr?.(),Je(qe.current),ke&&$e?.(),Be&&Be())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:nr,initial:!We.current||je?void 0:!1,custom:Ce,presenceAffectsLayout:De,mode:Fe,root:Me,onExitComplete:nr?void 0:cr,anchorX:Oe,children:ar},ir)})})},LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const Re in featureProps)featureDefinitions[Re]={isEnabled:Ce=>featureProps[Re].some(je=>!!Ce[je])};function loadFeatures(Re){for(const Ce in Re)featureDefinitions[Ce]={...featureDefinitions[Ce],...Re[Ce]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(Re){return Re.startsWith("while")||Re.startsWith("drag")&&Re!=="draggable"||Re.startsWith("layout")||Re.startsWith("onTap")||Re.startsWith("onPan")||Re.startsWith("onLayout")||validMotionProps.has(Re)}let shouldForward=Re=>!isValidMotionProp(Re);function loadExternalIsValidProp(Re){typeof Re=="function"&&(shouldForward=Ce=>Ce.startsWith("on")?!isValidMotionProp(Ce):Re(Ce))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps$1(Re,Ce,je){const Be={};for(const De in Re)De==="values"&&typeof Re.values=="object"||(shouldForward(De)||je===!0&&isValidMotionProp(De)||!Ce&&!isValidMotionProp(De)||Re.draggable&&De.startsWith("onDrag"))&&(Be[De]=Re[De]);return Be}const MotionContext=reactExports.createContext({});function isAnimationControls(Re){return Re!==null&&typeof Re=="object"&&typeof Re.start=="function"}function isVariantLabel(Re){return typeof Re=="string"||Array.isArray(Re)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(Re){return isAnimationControls(Re.animate)||variantProps.some(Ce=>isVariantLabel(Re[Ce]))}function isVariantNode(Re){return!!(isControllingVariants(Re)||Re.variants)}function getCurrentTreeVariants(Re,Ce){if(isControllingVariants(Re)){const{initial:je,animate:Be}=Re;return{initial:je===!1||isVariantLabel(je)?je:void 0,animate:isVariantLabel(Be)?Be:void 0}}return Re.inherit!==!1?Ce:{}}function useCreateMotionContext(Re){const{initial:Ce,animate:je}=getCurrentTreeVariants(Re,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:Ce,animate:je}),[variantLabelsAsDependency(Ce),variantLabelsAsDependency(je)])}function variantLabelsAsDependency(Re){return Array.isArray(Re)?Re.join(" "):Re}const scaleCorrectors={};function addScaleCorrector(Re){for(const Ce in Re)scaleCorrectors[Ce]=Re[Ce],isCSSVariableName(Ce)&&(scaleCorrectors[Ce].isCSSVariable=!0)}function isForcedMotionValue(Re,{layout:Ce,layoutId:je}){return transformProps.has(Re)||Re.startsWith("origin")||(Ce||je!==void 0)&&(!!scaleCorrectors[Re]||Re==="opacity")}const translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(Re,Ce,je){let Be="",De=!0;for(let Fe=0;Fe<numTransforms;Fe++){const ke=transformPropOrder[Fe],Oe=Re[ke];if(Oe===void 0)continue;let Me=!0;if(typeof Oe=="number"?Me=Oe===(ke.startsWith("scale")?1:0):Me=parseFloat(Oe)===0,!Me||je){const Ue=getValueAsType(Oe,numberValueTypes[ke]);if(!Me){De=!1;const $e=translateAlias[ke]||ke;Be+=`${$e}(${Ue}) `}je&&(Ce[ke]=Ue)}}return Be=Be.trim(),je?Be=je(Ce,De?"":Be):De&&(Be="none"),Be}function buildHTMLStyles(Re,Ce,je){const{style:Be,vars:De,transformOrigin:Fe}=Re;let ke=!1,Oe=!1;for(const Me in Ce){const Ue=Ce[Me];if(transformProps.has(Me)){ke=!0;continue}else if(isCSSVariableName(Me)){De[Me]=Ue;continue}else{const $e=getValueAsType(Ue,numberValueTypes[Me]);Me.startsWith("origin")?(Oe=!0,Fe[Me]=$e):Be[Me]=$e}}if(Ce.transform||(ke||je?Be.transform=buildTransform(Ce,Re.transform,je):Be.transform&&(Be.transform="none")),Oe){const{originX:Me="50%",originY:Ue="50%",originZ:$e=0}=Fe;Be.transformOrigin=`${Me} ${Ue} ${$e}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(Re,Ce,je){for(const Be in Ce)!isMotionValue(Ce[Be])&&!isForcedMotionValue(Be,je)&&(Re[Be]=Ce[Be])}function useInitialMotionValues({transformTemplate:Re},Ce){return reactExports.useMemo(()=>{const je=createHtmlRenderState();return buildHTMLStyles(je,Ce,Re),Object.assign({},je.vars,je.style)},[Ce])}function useStyle(Re,Ce){const je=Re.style||{},Be={};return copyRawValuesOnly(Be,je,Re),Object.assign(Be,useInitialMotionValues(Re,Ce)),Be}function useHTMLProps(Re,Ce){const je={},Be=useStyle(Re,Ce);return Re.drag&&Re.dragListener!==!1&&(je.draggable=!1,Be.userSelect=Be.WebkitUserSelect=Be.WebkitTouchCallout="none",Be.touchAction=Re.drag===!0?"none":`pan-${Re.drag==="x"?"y":"x"}`),Re.tabIndex===void 0&&(Re.onTap||Re.onTapStart||Re.whileTap)&&(je.tabIndex=0),je.style=Be,je}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(Re,Ce,je=1,Be=0,De=!0){Re.pathLength=1;const Fe=De?dashKeys:camelKeys;Re[Fe.offset]=px.transform(-Be);const ke=px.transform(Ce),Oe=px.transform(je);Re[Fe.array]=`${ke} ${Oe}`}function buildSVGAttrs(Re,{attrX:Ce,attrY:je,attrScale:Be,pathLength:De,pathSpacing:Fe=1,pathOffset:ke=0,...Oe},Me,Ue,$e){if(buildHTMLStyles(Re,Oe,Ue),Me){Re.style.viewBox&&(Re.attrs.viewBox=Re.style.viewBox);return}Re.attrs=Re.style,Re.style={};const{attrs:He,style:Qe}=Re;He.transform&&(Qe.transform=He.transform,delete He.transform),(Qe.transform||He.transformOrigin)&&(Qe.transformOrigin=He.transformOrigin??"50% 50%",delete He.transformOrigin),Qe.transform&&(Qe.transformBox=$e?.transformBox??"fill-box",delete He.transformBox),Ce!==void 0&&(He.x=Ce),je!==void 0&&(He.y=je),Be!==void 0&&(He.scale=Be),De!==void 0&&buildSVGPath(He,De,Fe,ke,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=Re=>typeof Re=="string"&&Re.toLowerCase()==="svg";function useSVGProps(Re,Ce,je,Be){const De=reactExports.useMemo(()=>{const Fe=createSvgRenderState();return buildSVGAttrs(Fe,Ce,isSVGTag(Be),Re.transformTemplate,Re.style),{...Fe.attrs,style:{...Fe.style}}},[Ce]);if(Re.style){const Fe={};copyRawValuesOnly(Fe,Re.style,Re),De.style={...Fe,...De.style}}return De}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(Re){return typeof Re!="string"||Re.includes("-")?!1:!!(lowercaseSVGElements.indexOf(Re)>-1||/[A-Z]/u.test(Re))}function useRender(Re,Ce,je,{latestValues:Be},De,Fe=!1){const Oe=(isSVGComponent(Re)?useSVGProps:useHTMLProps)(Ce,Be,De,Re),Me=filterProps$1(Ce,typeof Re=="string",Fe),Ue=Re!==reactExports.Fragment?{...Me,...Oe,ref:je}:{},{children:$e}=Ce,He=reactExports.useMemo(()=>isMotionValue($e)?$e.get():$e,[$e]);return reactExports.createElement(Re,{...Ue,children:He})}function getValueState(Re){const Ce=[{},{}];return Re?.values.forEach((je,Be)=>{Ce[0][Be]=je.get(),Ce[1][Be]=je.getVelocity()}),Ce}function resolveVariantFromProps(Re,Ce,je,Be){if(typeof Ce=="function"){const[De,Fe]=getValueState(Be);Ce=Ce(je!==void 0?je:Re.custom,De,Fe)}if(typeof Ce=="string"&&(Ce=Re.variants&&Re.variants[Ce]),typeof Ce=="function"){const[De,Fe]=getValueState(Be);Ce=Ce(je!==void 0?je:Re.custom,De,Fe)}return Ce}function resolveMotionValue(Re){return isMotionValue(Re)?Re.get():Re}function makeState({scrapeMotionValuesFromProps:Re,createRenderState:Ce},je,Be,De){return{latestValues:makeLatestValues(je,Be,De,Re),renderState:Ce()}}function makeLatestValues(Re,Ce,je,Be){const De={},Fe=Be(Re,{});for(const Qe in Fe)De[Qe]=resolveMotionValue(Fe[Qe]);let{initial:ke,animate:Oe}=Re;const Me=isControllingVariants(Re),Ue=isVariantNode(Re);Ce&&Ue&&!Me&&Re.inherit!==!1&&(ke===void 0&&(ke=Ce.initial),Oe===void 0&&(Oe=Ce.animate));let $e=je?je.initial===!1:!1;$e=$e||ke===!1;const He=$e?Oe:ke;if(He&&typeof He!="boolean"&&!isAnimationControls(He)){const Qe=Array.isArray(He)?He:[He];for(let We=0;We<Qe.length;We++){const qe=resolveVariantFromProps(Re,Qe[We]);if(qe){const{transitionEnd:Ke,transition:Xe,...Ye}=qe;for(const Ze in Ye){let Je=Ye[Ze];if(Array.isArray(Je)){const tr=$e?Je.length-1:0;Je=Je[tr]}Je!==null&&(De[Ze]=Je)}for(const Ze in Ke)De[Ze]=Ke[Ze]}}}return De}const makeUseVisualState=Re=>(Ce,je)=>{const Be=reactExports.useContext(MotionContext),De=reactExports.useContext(PresenceContext),Fe=()=>makeState(Re,Ce,Be,De);return je?Fe():useConstant(Fe)};function scrapeMotionValuesFromProps$1(Re,Ce,je){const{style:Be}=Re,De={};for(const Fe in Be)(isMotionValue(Be[Fe])||Ce.style&&isMotionValue(Ce.style[Fe])||isForcedMotionValue(Fe,Re)||je?.getValue(Fe)?.liveStyle!==void 0)&&(De[Fe]=Be[Fe]);return De}const useHTMLVisualState=makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState});function scrapeMotionValuesFromProps(Re,Ce,je){const Be=scrapeMotionValuesFromProps$1(Re,Ce,je);for(const De in Re)if(isMotionValue(Re[De])||isMotionValue(Ce[De])){const Fe=transformPropOrder.indexOf(De)!==-1?"attr"+De.charAt(0).toUpperCase()+De.substring(1):De;Be[Fe]=Re[De]}return Be}const useSVGVisualState=makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState}),motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(Re){return Re&&typeof Re=="object"&&Object.prototype.hasOwnProperty.call(Re,"current")}function useMotionRef(Re,Ce,je){return reactExports.useCallback(Be=>{Be&&Re.onMount&&Re.onMount(Be),Ce&&(Be?Ce.mount(Be):Ce.unmount()),je&&(typeof je=="function"?je(Be):isRefObject(je)&&(je.current=Be))},[Ce])}const camelToDash=Re=>Re.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(Re,Ce,je,Be,De){const{visualElement:Fe}=reactExports.useContext(MotionContext),ke=reactExports.useContext(LazyContext),Oe=reactExports.useContext(PresenceContext),Me=reactExports.useContext(MotionConfigContext).reducedMotion,Ue=reactExports.useRef(null);Be=Be||ke.renderer,!Ue.current&&Be&&(Ue.current=Be(Re,{visualState:Ce,parent:Fe,props:je,presenceContext:Oe,blockInitialAnimation:Oe?Oe.initial===!1:!1,reducedMotionConfig:Me}));const $e=Ue.current,He=reactExports.useContext(SwitchLayoutGroupContext);$e&&!$e.projection&&De&&($e.type==="html"||$e.type==="svg")&&createProjectionNode$1(Ue.current,je,De,He);const Qe=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{$e&&Qe.current&&$e.update(je,Oe)});const We=je[optimizedAppearDataAttribute],qe=reactExports.useRef(!!We&&!window.MotionHandoffIsComplete?.(We)&&window.MotionHasOptimisedAnimation?.(We));return useIsomorphicLayoutEffect$1(()=>{$e&&(Qe.current=!0,window.MotionIsMounted=!0,$e.updateFeatures(),$e.scheduleRenderMicrotask(),qe.current&&$e.animationState&&$e.animationState.animateChanges())}),reactExports.useEffect(()=>{$e&&(!qe.current&&$e.animationState&&$e.animationState.animateChanges(),qe.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(We)}),qe.current=!1),$e.enteringChildren=void 0)}),$e}function createProjectionNode$1(Re,Ce,je,Be){const{layoutId:De,layout:Fe,drag:ke,dragConstraints:Oe,layoutScroll:Me,layoutRoot:Ue,layoutCrossfade:$e}=Ce;Re.projection=new je(Re.latestValues,Ce["data-framer-portal-id"]?void 0:getClosestProjectingNode(Re.parent)),Re.projection.setOptions({layoutId:De,layout:Fe,alwaysMeasureLayout:!!ke||Oe&&isRefObject(Oe),visualElement:Re,animationType:typeof Fe=="string"?Fe:"both",initialPromotionConfig:Be,crossfade:$e,layoutScroll:Me,layoutRoot:Ue})}function getClosestProjectingNode(Re){if(Re)return Re.options.allowProjection!==!1?Re.projection:getClosestProjectingNode(Re.parent)}function createMotionComponent(Re,{forwardMotionProps:Ce=!1}={},je,Be){je&&loadFeatures(je);const De=isSVGComponent(Re)?useSVGVisualState:useHTMLVisualState;function Fe(Oe,Me){let Ue;const $e={...reactExports.useContext(MotionConfigContext),...Oe,layoutId:useLayoutId(Oe)},{isStatic:He}=$e,Qe=useCreateMotionContext(Oe),We=De(Oe,He);if(!He&&isBrowser$1){useStrictMode();const qe=getProjectionFunctionality($e);Ue=qe.MeasureLayout,Qe.visualElement=useVisualElement(Re,We,$e,Be,qe.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Qe,children:[Ue&&Qe.visualElement?jsxRuntimeExports.jsx(Ue,{visualElement:Qe.visualElement,...$e}):null,useRender(Re,Oe,useMotionRef(We,Qe.visualElement,Me),We,He,Ce)]})}Fe.displayName=`motion.${typeof Re=="string"?Re:`create(${Re.displayName??Re.name??""})`}`;const ke=reactExports.forwardRef(Fe);return ke[motionComponentSymbol]=Re,ke}function useLayoutId({layoutId:Re}){const Ce=reactExports.useContext(LayoutGroupContext).id;return Ce&&Re!==void 0?Ce+"-"+Re:Re}function useStrictMode(Re,Ce){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(Re){const{drag:Ce,layout:je}=featureDefinitions;if(!Ce&&!je)return{};const Be={...Ce,...je};return{MeasureLayout:Ce?.isEnabled(Re)||je?.isEnabled(Re)?Be.MeasureLayout:void 0,ProjectionNode:Be.ProjectionNode}}function createMotionProxy(Re,Ce){if(typeof Proxy>"u")return createMotionComponent;const je=new Map,Be=(Fe,ke)=>createMotionComponent(Fe,ke,Re,Ce),De=(Fe,ke)=>Be(Fe,ke);return new Proxy(De,{get:(Fe,ke)=>ke==="create"?Be:(je.has(ke)||je.set(ke,createMotionComponent(ke,void 0,Re,Ce)),je.get(ke))})}function convertBoundingBoxToBox({top:Re,left:Ce,right:je,bottom:Be}){return{x:{min:Ce,max:je},y:{min:Re,max:Be}}}function convertBoxToBoundingBox({x:Re,y:Ce}){return{top:Ce.min,right:Re.max,bottom:Ce.max,left:Re.min}}function transformBoxPoints(Re,Ce){if(!Ce)return Re;const je=Ce({x:Re.left,y:Re.top}),Be=Ce({x:Re.right,y:Re.bottom});return{top:je.y,left:je.x,bottom:Be.y,right:Be.x}}function isIdentityScale(Re){return Re===void 0||Re===1}function hasScale({scale:Re,scaleX:Ce,scaleY:je}){return!isIdentityScale(Re)||!isIdentityScale(Ce)||!isIdentityScale(je)}function hasTransform(Re){return hasScale(Re)||has2DTranslate(Re)||Re.z||Re.rotate||Re.rotateX||Re.rotateY||Re.skewX||Re.skewY}function has2DTranslate(Re){return is2DTranslate(Re.x)||is2DTranslate(Re.y)}function is2DTranslate(Re){return Re&&Re!=="0%"}function scalePoint(Re,Ce,je){const Be=Re-je,De=Ce*Be;return je+De}function applyPointDelta(Re,Ce,je,Be,De){return De!==void 0&&(Re=scalePoint(Re,De,Be)),scalePoint(Re,je,Be)+Ce}function applyAxisDelta(Re,Ce=0,je=1,Be,De){Re.min=applyPointDelta(Re.min,Ce,je,Be,De),Re.max=applyPointDelta(Re.max,Ce,je,Be,De)}function applyBoxDelta(Re,{x:Ce,y:je}){applyAxisDelta(Re.x,Ce.translate,Ce.scale,Ce.originPoint),applyAxisDelta(Re.y,je.translate,je.scale,je.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(Re,Ce,je,Be=!1){const De=je.length;if(!De)return;Ce.x=Ce.y=1;let Fe,ke;for(let Oe=0;Oe<De;Oe++){Fe=je[Oe],ke=Fe.projectionDelta;const{visualElement:Me}=Fe.options;Me&&Me.props.style&&Me.props.style.display==="contents"||(Be&&Fe.options.layoutScroll&&Fe.scroll&&Fe!==Fe.root&&transformBox(Re,{x:-Fe.scroll.offset.x,y:-Fe.scroll.offset.y}),ke&&(Ce.x*=ke.x.scale,Ce.y*=ke.y.scale,applyBoxDelta(Re,ke)),Be&&hasTransform(Fe.latestValues)&&transformBox(Re,Fe.latestValues))}Ce.x<TREE_SCALE_SNAP_MAX&&Ce.x>TREE_SCALE_SNAP_MIN&&(Ce.x=1),Ce.y<TREE_SCALE_SNAP_MAX&&Ce.y>TREE_SCALE_SNAP_MIN&&(Ce.y=1)}function translateAxis(Re,Ce){Re.min=Re.min+Ce,Re.max=Re.max+Ce}function transformAxis(Re,Ce,je,Be,De=.5){const Fe=mixNumber$1(Re.min,Re.max,De);applyAxisDelta(Re,Ce,je,Fe,Be)}function transformBox(Re,Ce){transformAxis(Re.x,Ce.x,Ce.scaleX,Ce.scale,Ce.originX),transformAxis(Re.y,Ce.y,Ce.scaleY,Ce.scale,Ce.originY)}function measureViewportBox(Re,Ce){return convertBoundingBoxToBox(transformBoxPoints(Re.getBoundingClientRect(),Ce))}function measurePageBox(Re,Ce,je){const Be=measureViewportBox(Re,je),{scroll:De}=Ce;return De&&(translateAxis(Be.x,De.offset.x),translateAxis(Be.y,De.offset.y)),Be}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()}),prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const Re=window.matchMedia("(prefers-reduced-motion)"),Ce=()=>prefersReducedMotion.current=Re.matches;Re.addEventListener("change",Ce),Ce()}else prefersReducedMotion.current=!1}const visualElementStore=new WeakMap;function updateMotionValuesFromProps(Re,Ce,je){for(const Be in Ce){const De=Ce[Be],Fe=je[Be];if(isMotionValue(De))Re.addValue(Be,De);else if(isMotionValue(Fe))Re.addValue(Be,motionValue(De,{owner:Re}));else if(Fe!==De)if(Re.hasValue(Be)){const ke=Re.getValue(Be);ke.liveStyle===!0?ke.jump(De):ke.hasAnimated||ke.set(De)}else{const ke=Re.getStaticValue(Be);Re.addValue(Be,motionValue(ke!==void 0?ke:De,{owner:Re}))}}for(const Be in je)Ce[Be]===void 0&&Re.removeValue(Be);return Ce}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(Ce,je,Be){return{}}constructor({parent:Ce,props:je,presenceContext:Be,reducedMotionConfig:De,blockInitialAnimation:Fe,visualState:ke},Oe={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Qe=time$1.now();this.renderScheduledAt<Qe&&(this.renderScheduledAt=Qe,frame.render(this.render,!1,!0))};const{latestValues:Me,renderState:Ue}=ke;this.latestValues=Me,this.baseTarget={...Me},this.initialValues=je.initial?{...Me}:{},this.renderState=Ue,this.parent=Ce,this.props=je,this.presenceContext=Be,this.depth=Ce?Ce.depth+1:0,this.reducedMotionConfig=De,this.options=Oe,this.blockInitialAnimation=!!Fe,this.isControllingVariants=isControllingVariants(je),this.isVariantNode=isVariantNode(je),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(Ce&&Ce.current);const{willChange:$e,...He}=this.scrapeMotionValuesFromProps(je,{},this);for(const Qe in He){const We=He[Qe];Me[Qe]!==void 0&&isMotionValue(We)&&We.set(Me[Qe])}}mount(Ce){this.current=Ce,visualElementStore.set(Ce,this),this.projection&&!this.projection.instance&&this.projection.mount(Ce),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((je,Be)=>this.bindToMotionValue(Be,je)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(Ce=>Ce()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const Ce in this.events)this.events[Ce].clear();for(const Ce in this.features){const je=this.features[Ce];je&&(je.unmount(),je.isMounted=!1)}this.current=null}addChild(Ce){this.children.add(Ce),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(Ce)}removeChild(Ce){this.children.delete(Ce),this.enteringChildren&&this.enteringChildren.delete(Ce)}bindToMotionValue(Ce,je){this.valueSubscriptions.has(Ce)&&this.valueSubscriptions.get(Ce)();const Be=transformProps.has(Ce);Be&&this.onBindTransform&&this.onBindTransform();const De=je.on("change",ke=>{this.latestValues[Ce]=ke,this.props.onUpdate&&frame.preRender(this.notifyUpdate),Be&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let Fe;window.MotionCheckAppearSync&&(Fe=window.MotionCheckAppearSync(this,Ce,je)),this.valueSubscriptions.set(Ce,()=>{De(),Fe&&Fe(),je.owner&&je.stop()})}sortNodePosition(Ce){return!this.current||!this.sortInstanceNodePosition||this.type!==Ce.type?0:this.sortInstanceNodePosition(this.current,Ce.current)}updateFeatures(){let Ce="animation";for(Ce in featureDefinitions){const je=featureDefinitions[Ce];if(!je)continue;const{isEnabled:Be,Feature:De}=je;if(!this.features[Ce]&&De&&Be(this.props)&&(this.features[Ce]=new De(this)),this.features[Ce]){const Fe=this.features[Ce];Fe.isMounted?Fe.update():(Fe.mount(),Fe.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(Ce){return this.latestValues[Ce]}setStaticValue(Ce,je){this.latestValues[Ce]=je}update(Ce,je){(Ce.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=Ce,this.prevPresenceContext=this.presenceContext,this.presenceContext=je;for(let Be=0;Be<propEventHandlers.length;Be++){const De=propEventHandlers[Be];this.propEventSubscriptions[De]&&(this.propEventSubscriptions[De](),delete this.propEventSubscriptions[De]);const Fe="on"+De,ke=Ce[Fe];ke&&(this.propEventSubscriptions[De]=this.on(De,ke))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(Ce,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(Ce){return this.props.variants?this.props.variants[Ce]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(Ce){const je=this.getClosestVariantNode();if(je)return je.variantChildren&&je.variantChildren.add(Ce),()=>je.variantChildren.delete(Ce)}addValue(Ce,je){const Be=this.values.get(Ce);je!==Be&&(Be&&this.removeValue(Ce),this.bindToMotionValue(Ce,je),this.values.set(Ce,je),this.latestValues[Ce]=je.get())}removeValue(Ce){this.values.delete(Ce);const je=this.valueSubscriptions.get(Ce);je&&(je(),this.valueSubscriptions.delete(Ce)),delete this.latestValues[Ce],this.removeValueFromRenderState(Ce,this.renderState)}hasValue(Ce){return this.values.has(Ce)}getValue(Ce,je){if(this.props.values&&this.props.values[Ce])return this.props.values[Ce];let Be=this.values.get(Ce);return Be===void 0&&je!==void 0&&(Be=motionValue(je===null?void 0:je,{owner:this}),this.addValue(Ce,Be)),Be}readValue(Ce,je){let Be=this.latestValues[Ce]!==void 0||!this.current?this.latestValues[Ce]:this.getBaseTargetFromProps(this.props,Ce)??this.readValueFromInstance(this.current,Ce,this.options);return Be!=null&&(typeof Be=="string"&&(isNumericalString(Be)||isZeroValueString(Be))?Be=parseFloat(Be):!findValueType(Be)&&complex.test(je)&&(Be=getAnimatableNone(Ce,je)),this.setBaseTarget(Ce,isMotionValue(Be)?Be.get():Be)),isMotionValue(Be)?Be.get():Be}setBaseTarget(Ce,je){this.baseTarget[Ce]=je}getBaseTarget(Ce){const{initial:je}=this.props;let Be;if(typeof je=="string"||typeof je=="object"){const Fe=resolveVariantFromProps(this.props,je,this.presenceContext?.custom);Fe&&(Be=Fe[Ce])}if(je&&Be!==void 0)return Be;const De=this.getBaseTargetFromProps(this.props,Ce);return De!==void 0&&!isMotionValue(De)?De:this.initialValues[Ce]!==void 0&&Be===void 0?void 0:this.baseTarget[Ce]}on(Ce,je){return this.events[Ce]||(this.events[Ce]=new SubscriptionManager),this.events[Ce].add(je)}notify(Ce,...je){this.events[Ce]&&this.events[Ce].notify(...je)}scheduleRenderMicrotask(){microtask.render(this.render)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(Ce,je){return Ce.compareDocumentPosition(je)&2?1:-1}getBaseTargetFromProps(Ce,je){return Ce.style?Ce.style[je]:void 0}removeValueFromRenderState(Ce,{vars:je,style:Be}){delete je[Ce],delete Be[Ce]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:Ce}=this.props;isMotionValue(Ce)&&(this.childSubscription=Ce.on("change",je=>{this.current&&(this.current.textContent=`${je}`)}))}}function renderHTML(Re,{style:Ce,vars:je},Be,De){const Fe=Re.style;let ke;for(ke in Ce)Fe[ke]=Ce[ke];De?.applyProjectionStyles(Fe,Be);for(ke in je)Fe.setProperty(ke,je[ke])}function getComputedStyle$3(Re){return window.getComputedStyle(Re)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(Ce,je){if(transformProps.has(je))return this.projection?.isProjecting?defaultTransformValue(je):readTransformValue(Ce,je);{const Be=getComputedStyle$3(Ce),De=(isCSSVariableName(je)?Be.getPropertyValue(je):Be[je])||0;return typeof De=="string"?De.trim():De}}measureInstanceViewportBox(Ce,{transformPagePoint:je}){return measureViewportBox(Ce,je)}build(Ce,je,Be){buildHTMLStyles(Ce,je,Be.transformTemplate)}scrapeMotionValuesFromProps(Ce,je,Be){return scrapeMotionValuesFromProps$1(Ce,je,Be)}}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(Re,Ce,je,Be){renderHTML(Re,Ce,void 0,Be);for(const De in Ce.attrs)Re.setAttribute(camelCaseAttributes.has(De)?De:camelToDash(De),Ce.attrs[De])}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox}getBaseTargetFromProps(Ce,je){return Ce[je]}readValueFromInstance(Ce,je){if(transformProps.has(je)){const Be=getDefaultValueType(je);return Be&&Be.default||0}return je=camelCaseAttributes.has(je)?je:camelToDash(je),Ce.getAttribute(je)}scrapeMotionValuesFromProps(Ce,je,Be){return scrapeMotionValuesFromProps(Ce,je,Be)}build(Ce,je,Be){buildSVGAttrs(Ce,je,this.isSVGTag,Be.transformTemplate,Be.style)}renderInstance(Ce,je,Be,De){renderSVG(Ce,je,Be,De)}mount(Ce){this.isSVGTag=isSVGTag(Ce.tagName),super.mount(Ce)}}const createDomVisualElement=(Re,Ce)=>isSVGComponent(Re)?new SVGVisualElement(Ce):new HTMLVisualElement(Ce,{allowProjection:Re!==reactExports.Fragment});function resolveVariant(Re,Ce,je){const Be=Re.getProps();return resolveVariantFromProps(Be,Ce,je!==void 0?je:Be.custom,Re)}const isKeyframesTarget=Re=>Array.isArray(Re);function setMotionValue(Re,Ce,je){Re.hasValue(Ce)?Re.getValue(Ce).set(je):Re.addValue(Ce,motionValue(je))}function resolveFinalValueInKeyframes(Re){return isKeyframesTarget(Re)?Re[Re.length-1]||0:Re}function setTarget(Re,Ce){const je=resolveVariant(Re,Ce);let{transitionEnd:Be={},transition:De={},...Fe}=je||{};Fe={...Fe,...Be};for(const ke in Fe){const Oe=resolveFinalValueInKeyframes(Fe[ke]);setMotionValue(Re,ke,Oe)}}function isWillChangeMotionValue(Re){return!!(isMotionValue(Re)&&Re.add)}function addValueToWillChange(Re,Ce){const je=Re.getValue("willChange");if(isWillChangeMotionValue(je))return je.add(Ce);if(!je&&MotionGlobalConfig.WillChange){const Be=new MotionGlobalConfig.WillChange("auto");Re.addValue("willChange",Be),Be.add(Ce)}}function getOptimisedAppearId(Re){return Re.props[optimizedAppearDataAttribute]}const isNotNull=Re=>Re!==null;function getFinalKeyframe(Re,{repeat:Ce,repeatType:je="loop"},Be){const De=Re.filter(isNotNull),Fe=Ce&&je!=="loop"&&Ce%2===1?0:De.length-1;return De[Fe]}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=Re=>({type:"spring",stiffness:550,damping:Re===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(Re,{keyframes:Ce})=>Ce.length>2?keyframesTransition:transformProps.has(Re)?Re.startsWith("scale")?criticallyDampedSpring(Ce[1]):underDampedSpring:ease;function isTransitionDefined({when:Re,delay:Ce,delayChildren:je,staggerChildren:Be,staggerDirection:De,repeat:Fe,repeatType:ke,repeatDelay:Oe,from:Me,elapsed:Ue,...$e}){return!!Object.keys($e).length}const animateMotionValue=(Re,Ce,je,Be={},De,Fe)=>ke=>{const Oe=getValueTransition(Be,Re)||{},Me=Oe.delay||Be.delay||0;let{elapsed:Ue=0}=Be;Ue=Ue-secondsToMilliseconds(Me);const $e={keyframes:Array.isArray(je)?je:[null,je],ease:"easeOut",velocity:Ce.getVelocity(),...Oe,delay:-Ue,onUpdate:Qe=>{Ce.set(Qe),Oe.onUpdate&&Oe.onUpdate(Qe)},onComplete:()=>{ke(),Oe.onComplete&&Oe.onComplete()},name:Re,motionValue:Ce,element:Fe?void 0:De};isTransitionDefined(Oe)||Object.assign($e,getDefaultTransition(Re,$e)),$e.duration&&($e.duration=secondsToMilliseconds($e.duration)),$e.repeatDelay&&($e.repeatDelay=secondsToMilliseconds($e.repeatDelay)),$e.from!==void 0&&($e.keyframes[0]=$e.from);let He=!1;if(($e.type===!1||$e.duration===0&&!$e.repeatDelay)&&(makeAnimationInstant($e),$e.delay===0&&(He=!0)),(MotionGlobalConfig.instantAnimations||MotionGlobalConfig.skipAnimations)&&(He=!0,makeAnimationInstant($e),$e.delay=0),$e.allowFlatten=!Oe.type&&!Oe.ease,He&&!Fe&&Ce.get()!==void 0){const Qe=getFinalKeyframe($e.keyframes,Oe);if(Qe!==void 0){frame.update(()=>{$e.onUpdate(Qe),$e.onComplete()});return}}return Oe.isSync?new JSAnimation($e):new AsyncMotionValueAnimation($e)};function shouldBlockAnimation({protectedKeys:Re,needsAnimating:Ce},je){const Be=Re.hasOwnProperty(je)&&Ce[je]!==!0;return Ce[je]=!1,Be}function animateTarget(Re,Ce,{delay:je=0,transitionOverride:Be,type:De}={}){let{transition:Fe=Re.getDefaultTransition(),transitionEnd:ke,...Oe}=Ce;Be&&(Fe=Be);const Me=[],Ue=De&&Re.animationState&&Re.animationState.getState()[De];for(const $e in Oe){const He=Re.getValue($e,Re.latestValues[$e]??null),Qe=Oe[$e];if(Qe===void 0||Ue&&shouldBlockAnimation(Ue,$e))continue;const We={delay:je,...getValueTransition(Fe||{},$e)},qe=He.get();if(qe!==void 0&&!He.isAnimating&&!Array.isArray(Qe)&&Qe===qe&&!We.velocity)continue;let Ke=!1;if(window.MotionHandoffAnimation){const Ye=getOptimisedAppearId(Re);if(Ye){const Ze=window.MotionHandoffAnimation(Ye,$e,frame);Ze!==null&&(We.startTime=Ze,Ke=!0)}}addValueToWillChange(Re,$e),He.start(animateMotionValue($e,He,Qe,Re.shouldReduceMotion&&positionalKeys.has($e)?{type:!1}:We,Re,Ke));const Xe=He.animation;Xe&&Me.push(Xe)}return ke&&Promise.all(Me).then(()=>{frame.update(()=>{ke&&setTarget(Re,ke)})}),Me}function calcChildStagger(Re,Ce,je,Be=0,De=1){const Fe=Array.from(Re).sort((Ue,$e)=>Ue.sortNodePosition($e)).indexOf(Ce),ke=Re.size,Oe=(ke-1)*Be;return typeof je=="function"?je(Fe,ke):De===1?Fe*Be:Oe-Fe*Be}function animateVariant(Re,Ce,je={}){const Be=resolveVariant(Re,Ce,je.type==="exit"?Re.presenceContext?.custom:void 0);let{transition:De=Re.getDefaultTransition()||{}}=Be||{};je.transitionOverride&&(De=je.transitionOverride);const Fe=Be?()=>Promise.all(animateTarget(Re,Be,je)):()=>Promise.resolve(),ke=Re.variantChildren&&Re.variantChildren.size?(Me=0)=>{const{delayChildren:Ue=0,staggerChildren:$e,staggerDirection:He}=De;return animateChildren(Re,Ce,Me,Ue,$e,He,je)}:()=>Promise.resolve(),{when:Oe}=De;if(Oe){const[Me,Ue]=Oe==="beforeChildren"?[Fe,ke]:[ke,Fe];return Me().then(()=>Ue())}else return Promise.all([Fe(),ke(je.delay)])}function animateChildren(Re,Ce,je=0,Be=0,De=0,Fe=1,ke){const Oe=[];for(const Me of Re.variantChildren)Me.notify("AnimationStart",Ce),Oe.push(animateVariant(Me,Ce,{...ke,delay:je+(typeof Be=="function"?0:Be)+calcChildStagger(Re.variantChildren,Me,Be,De,Fe)}).then(()=>Me.notify("AnimationComplete",Ce)));return Promise.all(Oe)}function animateVisualElement(Re,Ce,je={}){Re.notify("AnimationStart",Ce);let Be;if(Array.isArray(Ce)){const De=Ce.map(Fe=>animateVariant(Re,Fe,je));Be=Promise.all(De)}else if(typeof Ce=="string")Be=animateVariant(Re,Ce,je);else{const De=typeof Ce=="function"?resolveVariant(Re,Ce,je.custom):Ce;Be=Promise.all(animateTarget(Re,De,je))}return Be.then(()=>{Re.notify("AnimationComplete",Ce)})}function shallowCompare(Re,Ce){if(!Array.isArray(Ce))return!1;const je=Ce.length;if(je!==Re.length)return!1;for(let Be=0;Be<je;Be++)if(Ce[Be]!==Re[Be])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(Re){if(!Re)return;if(!Re.isControllingVariants){const je=Re.parent?getVariantContext(Re.parent)||{}:{};return Re.props.initial!==void 0&&(je.initial=Re.props.initial),je}const Ce={};for(let je=0;je<numVariantProps;je++){const Be=variantProps[je],De=Re.props[Be];(isVariantLabel(De)||De===!1)&&(Ce[Be]=De)}return Ce}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(Re){return Ce=>Promise.all(Ce.map(({animation:je,options:Be})=>animateVisualElement(Re,je,Be)))}function createAnimationState(Re){let Ce=animateList(Re),je=createState(),Be=!0;const De=Me=>(Ue,$e)=>{const He=resolveVariant(Re,$e,Me==="exit"?Re.presenceContext?.custom:void 0);if(He){const{transition:Qe,transitionEnd:We,...qe}=He;Ue={...Ue,...qe,...We}}return Ue};function Fe(Me){Ce=Me(Re)}function ke(Me){const{props:Ue}=Re,$e=getVariantContext(Re.parent)||{},He=[],Qe=new Set;let We={},qe=1/0;for(let Xe=0;Xe<numAnimationTypes;Xe++){const Ye=reversePriorityOrder[Xe],Ze=je[Ye],Je=Ue[Ye]!==void 0?Ue[Ye]:$e[Ye],tr=isVariantLabel(Je),rr=Ye===Me?Ze.isActive:null;rr===!1&&(qe=Xe);let ar=Je===$e[Ye]&&Je!==Ue[Ye]&&tr;if(ar&&Be&&Re.manuallyAnimateOnMount&&(ar=!1),Ze.protectedKeys={...We},!Ze.isActive&&rr===null||!Je&&!Ze.prevProp||isAnimationControls(Je)||typeof Je=="boolean")continue;const ir=checkVariantsDidChange(Ze.prevProp,Je);let nr=ir||Ye===Me&&Ze.isActive&&!ar&&tr||Xe>qe&&tr,cr=!1;const mr=Array.isArray(Je)?Je:[Je];let fr=mr.reduce(De(Ye),{});rr===!1&&(fr={});const{prevResolvedValues:or={}}=Ze,yr={...or,...fr},Cr=Tr=>{nr=!0,Qe.has(Tr)&&(cr=!0,Qe.delete(Tr)),Ze.needsAnimating[Tr]=!0;const wr=Re.getValue(Tr);wr&&(wr.liveStyle=!1)};for(const Tr in yr){const wr=fr[Tr],Er=or[Tr];if(We.hasOwnProperty(Tr))continue;let Pr=!1;isKeyframesTarget(wr)&&isKeyframesTarget(Er)?Pr=!shallowCompare(wr,Er):Pr=wr!==Er,Pr?wr!=null?Cr(Tr):Qe.add(Tr):wr!==void 0&&Qe.has(Tr)?Cr(Tr):Ze.protectedKeys[Tr]=!0}Ze.prevProp=Je,Ze.prevResolvedValues=fr,Ze.isActive&&(We={...We,...fr}),Be&&Re.blockInitialAnimation&&(nr=!1);const jr=ar&&ir;nr&&(!jr||cr)&&He.push(...mr.map(Tr=>{const wr={type:Ye};if(typeof Tr=="string"&&Be&&!jr&&Re.manuallyAnimateOnMount&&Re.parent){const{parent:Er}=Re,Pr=resolveVariant(Er,Tr);if(Er.enteringChildren&&Pr){const{delayChildren:Mr}=Pr.transition||{};wr.delay=calcChildStagger(Er.enteringChildren,Re,Mr)}}return{animation:Tr,options:wr}}))}if(Qe.size){const Xe={};if(typeof Ue.initial!="boolean"){const Ye=resolveVariant(Re,Array.isArray(Ue.initial)?Ue.initial[0]:Ue.initial);Ye&&Ye.transition&&(Xe.transition=Ye.transition)}Qe.forEach(Ye=>{const Ze=Re.getBaseTarget(Ye),Je=Re.getValue(Ye);Je&&(Je.liveStyle=!0),Xe[Ye]=Ze??null}),He.push({animation:Xe})}let Ke=!!He.length;return Be&&(Ue.initial===!1||Ue.initial===Ue.animate)&&!Re.manuallyAnimateOnMount&&(Ke=!1),Be=!1,Ke?Ce(He):Promise.resolve()}function Oe(Me,Ue){if(je[Me].isActive===Ue)return Promise.resolve();Re.variantChildren?.forEach(He=>He.animationState?.setActive(Me,Ue)),je[Me].isActive=Ue;const $e=ke(Me);for(const He in je)je[He].protectedKeys={};return $e}return{animateChanges:ke,setActive:Oe,setAnimateFunction:Fe,getState:()=>je,reset:()=>{je=createState(),Be=!0}}}function checkVariantsDidChange(Re,Ce){return typeof Ce=="string"?Ce!==Re:Array.isArray(Ce)?!shallowCompare(Ce,Re):!1}function createTypeState(Re=!1){return{isActive:Re,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(Ce){this.isMounted=!1,this.node=Ce}update(){}}class AnimationFeature extends Feature{constructor(Ce){super(Ce),Ce.animationState||(Ce.animationState=createAnimationState(Ce))}updateAnimationControlsSubscription(){const{animate:Ce}=this.node.getProps();isAnimationControls(Ce)&&(this.unmountControls=Ce.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:Ce}=this.node.getProps(),{animate:je}=this.node.prevProps||{};Ce!==je&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:Ce,onExitComplete:je}=this.node.presenceContext,{isPresent:Be}=this.node.prevPresenceContext||{};if(!this.node.animationState||Ce===Be)return;const De=this.node.animationState.setActive("exit",!Ce);je&&!Ce&&De.then(()=>{je(this.id)})}mount(){const{register:Ce,onExitComplete:je}=this.node.presenceContext||{};je&&je(this.id),Ce&&(this.unmount=Ce(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(Re,Ce,je,Be={passive:!0}){return Re.addEventListener(Ce,je,Be),()=>Re.removeEventListener(Ce,je)}function extractEventInfo(Re){return{point:{x:Re.pageX,y:Re.pageY}}}const addPointerInfo=Re=>Ce=>isPrimaryPointer(Ce)&&Re(Ce,extractEventInfo(Ce));function addPointerEvent(Re,Ce,je,Be){return addDomEvent(Re,Ce,addPointerInfo(je),Be)}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(Re){return Re.max-Re.min}function isNear(Re,Ce,je){return Math.abs(Re-Ce)<=je}function calcAxisDelta(Re,Ce,je,Be=.5){Re.origin=Be,Re.originPoint=mixNumber$1(Ce.min,Ce.max,Re.origin),Re.scale=calcLength(je)/calcLength(Ce),Re.translate=mixNumber$1(je.min,je.max,Re.origin)-Re.originPoint,(Re.scale>=SCALE_MIN&&Re.scale<=SCALE_MAX||isNaN(Re.scale))&&(Re.scale=1),(Re.translate>=TRANSLATE_MIN&&Re.translate<=TRANSLATE_MAX||isNaN(Re.translate))&&(Re.translate=0)}function calcBoxDelta(Re,Ce,je,Be){calcAxisDelta(Re.x,Ce.x,je.x,Be?Be.originX:void 0),calcAxisDelta(Re.y,Ce.y,je.y,Be?Be.originY:void 0)}function calcRelativeAxis(Re,Ce,je){Re.min=je.min+Ce.min,Re.max=Re.min+calcLength(Ce)}function calcRelativeBox(Re,Ce,je){calcRelativeAxis(Re.x,Ce.x,je.x),calcRelativeAxis(Re.y,Ce.y,je.y)}function calcRelativeAxisPosition(Re,Ce,je){Re.min=Ce.min-je.min,Re.max=Re.min+calcLength(Ce)}function calcRelativePosition(Re,Ce,je){calcRelativeAxisPosition(Re.x,Ce.x,je.x),calcRelativeAxisPosition(Re.y,Ce.y,je.y)}function eachAxis(Re){return[Re("x"),Re("y")]}const getContextWindow=({current:Re})=>Re?Re.ownerDocument.defaultView:null,distance=(Re,Ce)=>Math.abs(Re-Ce);function distance2D(Re,Ce){const je=distance(Re.x,Ce.x),Be=distance(Re.y,Ce.y);return Math.sqrt(je**2+Be**2)}class PanSession{constructor(Ce,je,{transformPagePoint:Be,contextWindow:De=window,dragSnapToOrigin:Fe=!1,distanceThreshold:ke=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Qe=getPanInfo(this.lastMoveEventInfo,this.history),We=this.startEvent!==null,qe=distance2D(Qe.offset,{x:0,y:0})>=this.distanceThreshold;if(!We&&!qe)return;const{point:Ke}=Qe,{timestamp:Xe}=frameData;this.history.push({...Ke,timestamp:Xe});const{onStart:Ye,onMove:Ze}=this.handlers;We||(Ye&&Ye(this.lastMoveEvent,Qe),this.startEvent=this.lastMoveEvent),Ze&&Ze(this.lastMoveEvent,Qe)},this.handlePointerMove=(Qe,We)=>{this.lastMoveEvent=Qe,this.lastMoveEventInfo=transformPoint(We,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(Qe,We)=>{this.end();const{onEnd:qe,onSessionEnd:Ke,resumeAnimation:Xe}=this.handlers;if(this.dragSnapToOrigin&&Xe&&Xe(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const Ye=getPanInfo(Qe.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(We,this.transformPagePoint),this.history);this.startEvent&&qe&&qe(Qe,Ye),Ke&&Ke(Qe,Ye)},!isPrimaryPointer(Ce))return;this.dragSnapToOrigin=Fe,this.handlers=je,this.transformPagePoint=Be,this.distanceThreshold=ke,this.contextWindow=De||window;const Oe=extractEventInfo(Ce),Me=transformPoint(Oe,this.transformPagePoint),{point:Ue}=Me,{timestamp:$e}=frameData;this.history=[{...Ue,timestamp:$e}];const{onSessionStart:He}=je;He&&He(Ce,getPanInfo(Me,this.history)),this.removeListeners=pipe(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(Ce){this.handlers=Ce}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(Re,Ce){return Ce?{point:Ce(Re.point)}:Re}function subtractPoint(Re,Ce){return{x:Re.x-Ce.x,y:Re.y-Ce.y}}function getPanInfo({point:Re},Ce){return{point:Re,delta:subtractPoint(Re,lastDevicePoint(Ce)),offset:subtractPoint(Re,startDevicePoint(Ce)),velocity:getVelocity(Ce,.1)}}function startDevicePoint(Re){return Re[0]}function lastDevicePoint(Re){return Re[Re.length-1]}function getVelocity(Re,Ce){if(Re.length<2)return{x:0,y:0};let je=Re.length-1,Be=null;const De=lastDevicePoint(Re);for(;je>=0&&(Be=Re[je],!(De.timestamp-Be.timestamp>secondsToMilliseconds(Ce)));)je--;if(!Be)return{x:0,y:0};const Fe=millisecondsToSeconds(De.timestamp-Be.timestamp);if(Fe===0)return{x:0,y:0};const ke={x:(De.x-Be.x)/Fe,y:(De.y-Be.y)/Fe};return ke.x===1/0&&(ke.x=0),ke.y===1/0&&(ke.y=0),ke}function applyConstraints(Re,{min:Ce,max:je},Be){return Ce!==void 0&&Re<Ce?Re=Be?mixNumber$1(Ce,Re,Be.min):Math.max(Re,Ce):je!==void 0&&Re>je&&(Re=Be?mixNumber$1(je,Re,Be.max):Math.min(Re,je)),Re}function calcRelativeAxisConstraints(Re,Ce,je){return{min:Ce!==void 0?Re.min+Ce:void 0,max:je!==void 0?Re.max+je-(Re.max-Re.min):void 0}}function calcRelativeConstraints(Re,{top:Ce,left:je,bottom:Be,right:De}){return{x:calcRelativeAxisConstraints(Re.x,je,De),y:calcRelativeAxisConstraints(Re.y,Ce,Be)}}function calcViewportAxisConstraints(Re,Ce){let je=Ce.min-Re.min,Be=Ce.max-Re.max;return Ce.max-Ce.min<Re.max-Re.min&&([je,Be]=[Be,je]),{min:je,max:Be}}function calcViewportConstraints(Re,Ce){return{x:calcViewportAxisConstraints(Re.x,Ce.x),y:calcViewportAxisConstraints(Re.y,Ce.y)}}function calcOrigin(Re,Ce){let je=.5;const Be=calcLength(Re),De=calcLength(Ce);return De>Be?je=progress(Ce.min,Ce.max-Be,Re.min):Be>De&&(je=progress(Re.min,Re.max-De,Ce.min)),clamp$1(0,1,je)}function rebaseAxisConstraints(Re,Ce){const je={};return Ce.min!==void 0&&(je.min=Ce.min-Re.min),Ce.max!==void 0&&(je.max=Ce.max-Re.min),je}const defaultElastic=.35;function resolveDragElastic(Re=defaultElastic){return Re===!1?Re=0:Re===!0&&(Re=defaultElastic),{x:resolveAxisElastic(Re,"left","right"),y:resolveAxisElastic(Re,"top","bottom")}}function resolveAxisElastic(Re,Ce,je){return{min:resolvePointElastic(Re,Ce),max:resolvePointElastic(Re,je)}}function resolvePointElastic(Re,Ce){return typeof Re=="number"?Re:Re[Ce]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(Ce){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=Ce}start(Ce,{snapToCursor:je=!1,distanceThreshold:Be}={}){const{presenceContext:De}=this.visualElement;if(De&&De.isPresent===!1)return;const Fe=He=>{const{dragSnapToOrigin:Qe}=this.getProps();Qe?this.pauseAnimation():this.stopAnimation(),je&&this.snapToCursor(extractEventInfo(He).point)},ke=(He,Qe)=>{const{drag:We,dragPropagation:qe,onDragStart:Ke}=this.getProps();if(We&&!qe&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(We),!this.openDragLock))return;this.latestPointerEvent=He,this.latestPanInfo=Qe,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(Ye=>{let Ze=this.getAxisMotionValue(Ye).get()||0;if(percent.test(Ze)){const{projection:Je}=this.visualElement;if(Je&&Je.layout){const tr=Je.layout.layoutBox[Ye];tr&&(Ze=calcLength(tr)*(parseFloat(Ze)/100))}}this.originPoint[Ye]=Ze}),Ke&&frame.postRender(()=>Ke(He,Qe)),addValueToWillChange(this.visualElement,"transform");const{animationState:Xe}=this.visualElement;Xe&&Xe.setActive("whileDrag",!0)},Oe=(He,Qe)=>{this.latestPointerEvent=He,this.latestPanInfo=Qe;const{dragPropagation:We,dragDirectionLock:qe,onDirectionLock:Ke,onDrag:Xe}=this.getProps();if(!We&&!this.openDragLock)return;const{offset:Ye}=Qe;if(qe&&this.currentDirection===null){this.currentDirection=getCurrentDirection(Ye),this.currentDirection!==null&&Ke&&Ke(this.currentDirection);return}this.updateAxis("x",Qe.point,Ye),this.updateAxis("y",Qe.point,Ye),this.visualElement.render(),Xe&&Xe(He,Qe)},Me=(He,Qe)=>{this.latestPointerEvent=He,this.latestPanInfo=Qe,this.stop(He,Qe),this.latestPointerEvent=null,this.latestPanInfo=null},Ue=()=>eachAxis(He=>this.getAnimationState(He)==="paused"&&this.getAxisMotionValue(He).animation?.play()),{dragSnapToOrigin:$e}=this.getProps();this.panSession=new PanSession(Ce,{onSessionStart:Fe,onStart:ke,onMove:Oe,onSessionEnd:Me,resumeAnimation:Ue},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:$e,distanceThreshold:Be,contextWindow:getContextWindow(this.visualElement)})}stop(Ce,je){const Be=Ce||this.latestPointerEvent,De=je||this.latestPanInfo,Fe=this.isDragging;if(this.cancel(),!Fe||!De||!Be)return;const{velocity:ke}=De;this.startAnimation(ke);const{onDragEnd:Oe}=this.getProps();Oe&&frame.postRender(()=>Oe(Be,De))}cancel(){this.isDragging=!1;const{projection:Ce,animationState:je}=this.visualElement;Ce&&(Ce.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:Be}=this.getProps();!Be&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),je&&je.setActive("whileDrag",!1)}updateAxis(Ce,je,Be){const{drag:De}=this.getProps();if(!Be||!shouldDrag(Ce,De,this.currentDirection))return;const Fe=this.getAxisMotionValue(Ce);let ke=this.originPoint[Ce]+Be[Ce];this.constraints&&this.constraints[Ce]&&(ke=applyConstraints(ke,this.constraints[Ce],this.elastic[Ce])),Fe.set(ke)}resolveConstraints(){const{dragConstraints:Ce,dragElastic:je}=this.getProps(),Be=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,De=this.constraints;Ce&&isRefObject(Ce)?this.constraints||(this.constraints=this.resolveRefConstraints()):Ce&&Be?this.constraints=calcRelativeConstraints(Be.layoutBox,Ce):this.constraints=!1,this.elastic=resolveDragElastic(je),De!==this.constraints&&Be&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Fe=>{this.constraints!==!1&&this.getAxisMotionValue(Fe)&&(this.constraints[Fe]=rebaseAxisConstraints(Be.layoutBox[Fe],this.constraints[Fe]))})}resolveRefConstraints(){const{dragConstraints:Ce,onMeasureDragConstraints:je}=this.getProps();if(!Ce||!isRefObject(Ce))return!1;const Be=Ce.current,{projection:De}=this.visualElement;if(!De||!De.layout)return!1;const Fe=measurePageBox(Be,De.root,this.visualElement.getTransformPagePoint());let ke=calcViewportConstraints(De.layout.layoutBox,Fe);if(je){const Oe=je(convertBoxToBoundingBox(ke));this.hasMutatedConstraints=!!Oe,Oe&&(ke=convertBoundingBoxToBox(Oe))}return ke}startAnimation(Ce){const{drag:je,dragMomentum:Be,dragElastic:De,dragTransition:Fe,dragSnapToOrigin:ke,onDragTransitionEnd:Oe}=this.getProps(),Me=this.constraints||{},Ue=eachAxis($e=>{if(!shouldDrag($e,je,this.currentDirection))return;let He=Me&&Me[$e]||{};ke&&(He={min:0,max:0});const Qe=De?200:1e6,We=De?40:1e7,qe={type:"inertia",velocity:Be?Ce[$e]:0,bounceStiffness:Qe,bounceDamping:We,timeConstant:750,restDelta:1,restSpeed:10,...Fe,...He};return this.startAxisValueAnimation($e,qe)});return Promise.all(Ue).then(Oe)}startAxisValueAnimation(Ce,je){const Be=this.getAxisMotionValue(Ce);return addValueToWillChange(this.visualElement,Ce),Be.start(animateMotionValue(Ce,Be,0,je,this.visualElement,!1))}stopAnimation(){eachAxis(Ce=>this.getAxisMotionValue(Ce).stop())}pauseAnimation(){eachAxis(Ce=>this.getAxisMotionValue(Ce).animation?.pause())}getAnimationState(Ce){return this.getAxisMotionValue(Ce).animation?.state}getAxisMotionValue(Ce){const je=`_drag${Ce.toUpperCase()}`,Be=this.visualElement.getProps(),De=Be[je];return De||this.visualElement.getValue(Ce,(Be.initial?Be.initial[Ce]:void 0)||0)}snapToCursor(Ce){eachAxis(je=>{const{drag:Be}=this.getProps();if(!shouldDrag(je,Be,this.currentDirection))return;const{projection:De}=this.visualElement,Fe=this.getAxisMotionValue(je);if(De&&De.layout){const{min:ke,max:Oe}=De.layout.layoutBox[je];Fe.set(Ce[je]-mixNumber$1(ke,Oe,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:Ce,dragConstraints:je}=this.getProps(),{projection:Be}=this.visualElement;if(!isRefObject(je)||!Be||!this.constraints)return;this.stopAnimation();const De={x:0,y:0};eachAxis(ke=>{const Oe=this.getAxisMotionValue(ke);if(Oe&&this.constraints!==!1){const Me=Oe.get();De[ke]=calcOrigin({min:Me,max:Me},this.constraints[ke])}});const{transformTemplate:Fe}=this.visualElement.getProps();this.visualElement.current.style.transform=Fe?Fe({},""):"none",Be.root&&Be.root.updateScroll(),Be.updateLayout(),this.resolveConstraints(),eachAxis(ke=>{if(!shouldDrag(ke,Ce,null))return;const Oe=this.getAxisMotionValue(ke),{min:Me,max:Ue}=this.constraints[ke];Oe.set(mixNumber$1(Me,Ue,De[ke]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const Ce=this.visualElement.current,je=addPointerEvent(Ce,"pointerdown",Me=>{const{drag:Ue,dragListener:$e=!0}=this.getProps();Ue&&$e&&this.start(Me)}),Be=()=>{const{dragConstraints:Me}=this.getProps();isRefObject(Me)&&Me.current&&(this.constraints=this.resolveRefConstraints())},{projection:De}=this.visualElement,Fe=De.addEventListener("measure",Be);De&&!De.layout&&(De.root&&De.root.updateScroll(),De.updateLayout()),frame.read(Be);const ke=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Oe=De.addEventListener("didUpdate",(({delta:Me,hasLayoutChanged:Ue})=>{this.isDragging&&Ue&&(eachAxis($e=>{const He=this.getAxisMotionValue($e);He&&(this.originPoint[$e]+=Me[$e].translate,He.set(He.get()+Me[$e].translate))}),this.visualElement.render())}));return()=>{ke(),je(),Fe(),Oe&&Oe()}}getProps(){const Ce=this.visualElement.getProps(),{drag:je=!1,dragDirectionLock:Be=!1,dragPropagation:De=!1,dragConstraints:Fe=!1,dragElastic:ke=defaultElastic,dragMomentum:Oe=!0}=Ce;return{...Ce,drag:je,dragDirectionLock:Be,dragPropagation:De,dragConstraints:Fe,dragElastic:ke,dragMomentum:Oe}}}function shouldDrag(Re,Ce,je){return(Ce===!0||Ce===Re)&&(je===null||je===Re)}function getCurrentDirection(Re,Ce=10){let je=null;return Math.abs(Re.y)>Ce?je="y":Math.abs(Re.x)>Ce&&(je="x"),je}class DragGesture extends Feature{constructor(Ce){super(Ce),this.removeGroupControls=noop$b,this.removeListeners=noop$b,this.controls=new VisualElementDragControls(Ce)}mount(){const{dragControls:Ce}=this.node.getProps();Ce&&(this.removeGroupControls=Ce.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$b}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=Re=>(Ce,je)=>{Re&&frame.postRender(()=>Re(Ce,je))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$b}onPointerDown(Ce){this.session=new PanSession(Ce,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:Ce,onPanStart:je,onPan:Be,onPanEnd:De}=this.node.getProps();return{onSessionStart:asyncHandler(Ce),onStart:asyncHandler(je),onMove:Be,onEnd:(Fe,ke)=>{delete this.session,De&&frame.postRender(()=>De(Fe,ke))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",Ce=>this.onPointerDown(Ce))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(Re,Ce){return Ce.max===Ce.min?0:Re/(Ce.max-Ce.min)*100}const correctBorderRadius={correct:(Re,Ce)=>{if(!Ce.target)return Re;if(typeof Re=="string")if(px.test(Re))Re=parseFloat(Re);else return Re;const je=pixelsToPercent(Re,Ce.target.x),Be=pixelsToPercent(Re,Ce.target.y);return`${je}% ${Be}%`}},correctBoxShadow={correct:(Re,{treeScale:Ce,projectionDelta:je})=>{const Be=Re,De=complex.parse(Re);if(De.length>5)return Be;const Fe=complex.createTransformer(Re),ke=typeof De[0]!="number"?1:0,Oe=je.x.scale*Ce.x,Me=je.y.scale*Ce.y;De[0+ke]/=Oe,De[1+ke]/=Me;const Ue=mixNumber$1(Oe,Me,.5);return typeof De[2+ke]=="number"&&(De[2+ke]/=Ue),typeof De[3+ke]=="number"&&(De[3+ke]/=Ue),Fe(De)}};let hasTakenAnySnapshot=!1;class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:Ce,layoutGroup:je,switchLayoutGroup:Be,layoutId:De}=this.props,{projection:Fe}=Ce;addScaleCorrector(defaultScaleCorrectors),Fe&&(je.group&&je.group.add(Fe),Be&&Be.register&&De&&Be.register(Fe),hasTakenAnySnapshot&&Fe.root.didUpdate(),Fe.addEventListener("animationComplete",()=>{this.safeToRemove()}),Fe.setOptions({...Fe.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(Ce){const{layoutDependency:je,visualElement:Be,drag:De,isPresent:Fe}=this.props,{projection:ke}=Be;return ke&&(ke.isPresent=Fe,hasTakenAnySnapshot=!0,De||Ce.layoutDependency!==je||je===void 0||Ce.isPresent!==Fe?ke.willUpdate():this.safeToRemove(),Ce.isPresent!==Fe&&(Fe?ke.promote():ke.relegate()||frame.postRender(()=>{const Oe=ke.getStack();(!Oe||!Oe.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:Ce}=this.props.visualElement;Ce&&(Ce.root.didUpdate(),microtask.postRender(()=>{!Ce.currentAnimation&&Ce.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:Ce,layoutGroup:je,switchLayoutGroup:Be}=this.props,{projection:De}=Ce;hasTakenAnySnapshot=!0,De&&(De.scheduleCheckAfterUnmount(),je&&je.group&&je.group.remove(De),Be&&Be.deregister&&Be.deregister(De))}safeToRemove(){const{safeToRemove:Ce}=this.props;Ce&&Ce()}render(){return null}}function MeasureLayout(Re){const[Ce,je]=usePresence(),Be=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...Re,layoutGroup:Be,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:Ce,safeToRemove:je})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(Re,Ce,je){const Be=isMotionValue(Re)?Re:motionValue(Re);return Be.start(animateMotionValue("",Be,Ce,je)),Be.animation}const compareByDepth=(Re,Ce)=>Re.depth-Ce.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(Ce){addUniqueItem(this.children,Ce),this.isDirty=!0}remove(Ce){removeItem(this.children,Ce),this.isDirty=!0}forEach(Ce){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(Ce)}}function delay(Re,Ce){const je=time$1.now(),Be=({timestamp:De})=>{const Fe=De-je;Fe>=Ce&&(cancelFrame(Be),Re(Fe-Ce))};return frame.setup(Be,!0),()=>cancelFrame(Be)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=Re=>typeof Re=="string"?parseFloat(Re):Re,isPx=Re=>typeof Re=="number"||px.test(Re);function mixValues(Re,Ce,je,Be,De,Fe){De?(Re.opacity=mixNumber$1(0,je.opacity??1,easeCrossfadeIn(Be)),Re.opacityExit=mixNumber$1(Ce.opacity??1,0,easeCrossfadeOut(Be))):Fe&&(Re.opacity=mixNumber$1(Ce.opacity??1,je.opacity??1,Be));for(let ke=0;ke<numBorders;ke++){const Oe=`border${borders[ke]}Radius`;let Me=getRadius(Ce,Oe),Ue=getRadius(je,Oe);if(Me===void 0&&Ue===void 0)continue;Me||(Me=0),Ue||(Ue=0),Me===0||Ue===0||isPx(Me)===isPx(Ue)?(Re[Oe]=Math.max(mixNumber$1(asNumber(Me),asNumber(Ue),Be),0),(percent.test(Ue)||percent.test(Me))&&(Re[Oe]+="%")):Re[Oe]=Ue}(Ce.rotate||je.rotate)&&(Re.rotate=mixNumber$1(Ce.rotate||0,je.rotate||0,Be))}function getRadius(Re,Ce){return Re[Ce]!==void 0?Re[Ce]:Re.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$b);function compress(Re,Ce,je){return Be=>Be<Re?0:Be>Ce?1:je(progress(Re,Ce,Be))}function copyAxisInto(Re,Ce){Re.min=Ce.min,Re.max=Ce.max}function copyBoxInto(Re,Ce){copyAxisInto(Re.x,Ce.x),copyAxisInto(Re.y,Ce.y)}function copyAxisDeltaInto(Re,Ce){Re.translate=Ce.translate,Re.scale=Ce.scale,Re.originPoint=Ce.originPoint,Re.origin=Ce.origin}function removePointDelta(Re,Ce,je,Be,De){return Re-=Ce,Re=scalePoint(Re,1/je,Be),De!==void 0&&(Re=scalePoint(Re,1/De,Be)),Re}function removeAxisDelta(Re,Ce=0,je=1,Be=.5,De,Fe=Re,ke=Re){if(percent.test(Ce)&&(Ce=parseFloat(Ce),Ce=mixNumber$1(ke.min,ke.max,Ce/100)-ke.min),typeof Ce!="number")return;let Oe=mixNumber$1(Fe.min,Fe.max,Be);Re===Fe&&(Oe-=Ce),Re.min=removePointDelta(Re.min,Ce,je,Oe,De),Re.max=removePointDelta(Re.max,Ce,je,Oe,De)}function removeAxisTransforms(Re,Ce,[je,Be,De],Fe,ke){removeAxisDelta(Re,Ce[je],Ce[Be],Ce[De],Ce.scale,Fe,ke)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(Re,Ce,je,Be){removeAxisTransforms(Re.x,Ce,xKeys,je?je.x:void 0,Be?Be.x:void 0),removeAxisTransforms(Re.y,Ce,yKeys,je?je.y:void 0,Be?Be.y:void 0)}function isAxisDeltaZero(Re){return Re.translate===0&&Re.scale===1}function isDeltaZero(Re){return isAxisDeltaZero(Re.x)&&isAxisDeltaZero(Re.y)}function axisEquals(Re,Ce){return Re.min===Ce.min&&Re.max===Ce.max}function boxEquals(Re,Ce){return axisEquals(Re.x,Ce.x)&&axisEquals(Re.y,Ce.y)}function axisEqualsRounded(Re,Ce){return Math.round(Re.min)===Math.round(Ce.min)&&Math.round(Re.max)===Math.round(Ce.max)}function boxEqualsRounded(Re,Ce){return axisEqualsRounded(Re.x,Ce.x)&&axisEqualsRounded(Re.y,Ce.y)}function aspectRatio(Re){return calcLength(Re.x)/calcLength(Re.y)}function axisDeltaEquals(Re,Ce){return Re.translate===Ce.translate&&Re.scale===Ce.scale&&Re.originPoint===Ce.originPoint}class NodeStack{constructor(){this.members=[]}add(Ce){addUniqueItem(this.members,Ce),Ce.scheduleRender()}remove(Ce){if(removeItem(this.members,Ce),Ce===this.prevLead&&(this.prevLead=void 0),Ce===this.lead){const je=this.members[this.members.length-1];je&&this.promote(je)}}relegate(Ce){const je=this.members.findIndex(De=>Ce===De);if(je===0)return!1;let Be;for(let De=je;De>=0;De--){const Fe=this.members[De];if(Fe.isPresent!==!1){Be=Fe;break}}return Be?(this.promote(Be),!0):!1}promote(Ce,je){const Be=this.lead;if(Ce!==Be&&(this.prevLead=Be,this.lead=Ce,Ce.show(),Be)){Be.instance&&Be.scheduleRender(),Ce.scheduleRender(),Ce.resumeFrom=Be,je&&(Ce.resumeFrom.preserveOpacity=!0),Be.snapshot&&(Ce.snapshot=Be.snapshot,Ce.snapshot.latestValues=Be.animationValues||Be.latestValues),Ce.root&&Ce.root.isUpdating&&(Ce.isLayoutDirty=!0);const{crossfade:De}=Ce.options;De===!1&&Be.hide()}}exitAnimationComplete(){this.members.forEach(Ce=>{const{options:je,resumingFrom:Be}=Ce;je.onExitComplete&&je.onExitComplete(),Be&&Be.options.onExitComplete&&Be.options.onExitComplete()})}scheduleRender(){this.members.forEach(Ce=>{Ce.instance&&Ce.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(Re,Ce,je){let Be="";const De=Re.x.translate/Ce.x,Fe=Re.y.translate/Ce.y,ke=je?.z||0;if((De||Fe||ke)&&(Be=`translate3d(${De}px, ${Fe}px, ${ke}px) `),(Ce.x!==1||Ce.y!==1)&&(Be+=`scale(${1/Ce.x}, ${1/Ce.y}) `),je){const{transformPerspective:Ue,rotate:$e,rotateX:He,rotateY:Qe,skewX:We,skewY:qe}=je;Ue&&(Be=`perspective(${Ue}px) ${Be}`),$e&&(Be+=`rotate(${$e}deg) `),He&&(Be+=`rotateX(${He}deg) `),Qe&&(Be+=`rotateY(${Qe}deg) `),We&&(Be+=`skewX(${We}deg) `),qe&&(Be+=`skewY(${qe}deg) `)}const Oe=Re.x.scale*Ce.x,Me=Re.y.scale*Ce.y;return(Oe!==1||Me!==1)&&(Be+=`scale(${Oe}, ${Me})`),Be||"none"}const transformAxes=["","X","Y","Z"],animationTarget=1e3;let id=0;function resetDistortingTransform(Re,Ce,je,Be){const{latestValues:De}=Ce;De[Re]&&(je[Re]=De[Re],Ce.setStaticValue(Re,0),Be&&(Be[Re]=0))}function cancelTreeOptimisedTransformAnimations(Re){if(Re.hasCheckedOptimisedAppear=!0,Re.root===Re)return;const{visualElement:Ce}=Re.options;if(!Ce)return;const je=getOptimisedAppearId(Ce);if(window.MotionHasOptimisedAnimation(je,"transform")){const{layout:De,layoutId:Fe}=Re.options;window.MotionCancelOptimisedAnimation(je,"transform",frame,!(De||Fe))}const{parent:Be}=Re;Be&&!Be.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(Be)}function createProjectionNode({attachResizeListener:Re,defaultParent:Ce,measureScroll:je,checkIsScrollRoot:Be,resetTransform:De}){return class{constructor(ke={},Oe=Ce?.()){this.id=id++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=ke,this.root=Oe?Oe.root||Oe:this,this.path=Oe?[...Oe.path,Oe]:[],this.parent=Oe,this.depth=Oe?Oe.depth+1:0;for(let Me=0;Me<this.path.length;Me++)this.path[Me].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(ke,Oe){return this.eventHandlers.has(ke)||this.eventHandlers.set(ke,new SubscriptionManager),this.eventHandlers.get(ke).add(Oe)}notifyListeners(ke,...Oe){const Me=this.eventHandlers.get(ke);Me&&Me.notify(...Oe)}hasListeners(ke){return this.eventHandlers.has(ke)}mount(ke){if(this.instance)return;this.isSVG=isSVGElement(ke)&&!isSVGSVGElement(ke),this.instance=ke;const{layoutId:Oe,layout:Me,visualElement:Ue}=this.options;if(Ue&&!Ue.current&&Ue.mount(ke),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(Me||Oe)&&(this.isLayoutDirty=!0),Re){let $e,He=0;const Qe=()=>this.root.updateBlockedByResize=!1;frame.read(()=>{He=window.innerWidth}),Re(ke,()=>{const We=window.innerWidth;We!==He&&(He=We,this.root.updateBlockedByResize=!0,$e&&$e(),$e=delay(Qe,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation)))})}Oe&&this.root.registerSharedNode(Oe,this),this.options.animate!==!1&&Ue&&(Oe||Me)&&this.addEventListener("didUpdate",({delta:$e,hasLayoutChanged:He,hasRelativeLayoutChanged:Qe,layout:We})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const qe=this.options.transition||Ue.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:Ke,onLayoutAnimationComplete:Xe}=Ue.getProps(),Ye=!this.targetLayout||!boxEqualsRounded(this.targetLayout,We),Ze=!He&&Qe;if(this.options.layoutRoot||this.resumeFrom||Ze||He&&(Ye||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const Je={...getValueTransition(qe,"layout"),onPlay:Ke,onComplete:Xe};(Ue.shouldReduceMotion||this.options.layoutRoot)&&(Je.delay=0,Je.type=!1),this.startAnimation(Je),this.setAnimationOrigin($e,Ze)}else He||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=We})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const ke=this.getStack();ke&&ke.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:ke}=this.options;return ke&&ke.getProps().transformTemplate}willUpdate(ke=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let $e=0;$e<this.path.length;$e++){const He=this.path[$e];He.shouldResetTransform=!0,He.updateScroll("snapshot"),He.options.layoutRoot&&He.willUpdate(!1)}const{layoutId:Oe,layout:Me}=this.options;if(Oe===void 0&&!Me)return;const Ue=this.getTransformTemplate();this.prevTransformTemplateValue=Ue?Ue(this.latestValues,""):void 0,this.updateSnapshot(),ke&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(clearIsLayoutDirty);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate)):this.nodes.forEach(clearIsLayoutDirty),this.clearAllSnapshots();const Oe=time$1.now();frameData.delta=clamp$1(0,1e3/60,Oe-frameData.timestamp),frameData.timestamp=Oe,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Me=0;Me<this.path.length;Me++)this.path[Me].updateScroll();const ke=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Oe}=this.options;Oe&&Oe.notify("LayoutMeasure",this.layout.layoutBox,ke?ke.layoutBox:void 0)}updateScroll(ke="measure"){let Oe=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===ke&&(Oe=!1),Oe&&this.instance){const Me=Be(this.instance);this.scroll={animationId:this.root.animationId,phase:ke,isRoot:Me,offset:je(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Me}}}resetTransform(){if(!De)return;const ke=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Oe=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Me=this.getTransformTemplate(),Ue=Me?Me(this.latestValues,""):void 0,$e=Ue!==this.prevTransformTemplateValue;ke&&this.instance&&(Oe||hasTransform(this.latestValues)||$e)&&(De(this.instance,Ue),this.shouldResetTransform=!1,this.scheduleRender())}measure(ke=!0){const Oe=this.measurePageBox();let Me=this.removeElementScroll(Oe);return ke&&(Me=this.removeTransform(Me)),roundBox(Me),{animationId:this.root.animationId,measuredBox:Oe,layoutBox:Me,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:ke}=this.options;if(!ke)return createBox();const Oe=ke.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(checkNodeWasScrollRoot))){const{scroll:Ue}=this.root;Ue&&(translateAxis(Oe.x,Ue.offset.x),translateAxis(Oe.y,Ue.offset.y))}return Oe}removeElementScroll(ke){const Oe=createBox();if(copyBoxInto(Oe,ke),this.scroll?.wasRoot)return Oe;for(let Me=0;Me<this.path.length;Me++){const Ue=this.path[Me],{scroll:$e,options:He}=Ue;Ue!==this.root&&$e&&He.layoutScroll&&($e.wasRoot&&copyBoxInto(Oe,ke),translateAxis(Oe.x,$e.offset.x),translateAxis(Oe.y,$e.offset.y))}return Oe}applyTransform(ke,Oe=!1){const Me=createBox();copyBoxInto(Me,ke);for(let Ue=0;Ue<this.path.length;Ue++){const $e=this.path[Ue];!Oe&&$e.options.layoutScroll&&$e.scroll&&$e!==$e.root&&transformBox(Me,{x:-$e.scroll.offset.x,y:-$e.scroll.offset.y}),hasTransform($e.latestValues)&&transformBox(Me,$e.latestValues)}return hasTransform(this.latestValues)&&transformBox(Me,this.latestValues),Me}removeTransform(ke){const Oe=createBox();copyBoxInto(Oe,ke);for(let Me=0;Me<this.path.length;Me++){const Ue=this.path[Me];if(!Ue.instance||!hasTransform(Ue.latestValues))continue;hasScale(Ue.latestValues)&&Ue.updateSnapshot();const $e=createBox(),He=Ue.measurePageBox();copyBoxInto($e,He),removeBoxTransforms(Oe,Ue.latestValues,Ue.snapshot?Ue.snapshot.layoutBox:void 0,$e)}return hasTransform(this.latestValues)&&removeBoxTransforms(Oe,this.latestValues),Oe}setTargetDelta(ke){this.targetDelta=ke,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(ke){this.options={...this.options,...ke,crossfade:ke.crossfade!==void 0?ke.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(ke=!1){const Oe=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Oe.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Oe.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Oe.isSharedProjectionDirty);const Me=!!this.resumingFrom||this!==Oe;if(!(ke||Me&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:$e,layoutId:He}=this.options;if(!(!this.layout||!($e||He))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Qe=this.getClosestProjectingParent();Qe&&Qe.layout&&this.animationProgress!==1?(this.relativeParent=Qe,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Qe.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const Qe=this.getClosestProjectingParent();Qe&&!!Qe.resumingFrom==!!this.resumingFrom&&!Qe.options.layoutScroll&&Qe.target&&this.animationProgress!==1?(this.relativeParent=Qe,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Qe.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){const ke=this.getLead(),Oe=!!this.resumingFrom||this!==ke;let Me=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(Me=!1),Oe&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(Me=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(Me=!1),Me)return;const{layout:Ue,layoutId:$e}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ue||$e))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const He=this.treeScale.x,Qe=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Oe),ke.layout&&!ke.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(ke.target=ke.layout.layoutBox,ke.targetWithTransforms=createBox());const{target:We}=ke;if(!We){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,We,this.latestValues),(this.treeScale.x!==He||this.treeScale.y!==Qe||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",We))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(ke=!0){if(this.options.visualElement?.scheduleRender(),ke){const Oe=this.getStack();Oe&&Oe.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(ke,Oe=!1){const Me=this.snapshot,Ue=Me?Me.latestValues:{},$e={...this.latestValues},He=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Oe;const Qe=createBox(),We=Me?Me.source:void 0,qe=this.layout?this.layout.source:void 0,Ke=We!==qe,Xe=this.getStack(),Ye=!Xe||Xe.members.length<=1,Ze=!!(Ke&&!Ye&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let Je;this.mixTargetDelta=tr=>{const rr=tr/1e3;mixAxisDelta(He.x,ke.x,rr),mixAxisDelta(He.y,ke.y,rr),this.setTargetDelta(He),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(Qe,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,Qe,rr),Je&&boxEquals(this.relativeTarget,Je)&&(this.isProjectionDirty=!1),Je||(Je=createBox()),copyBoxInto(Je,this.relativeTarget)),Ke&&(this.animationValues=$e,mixValues($e,Ue,this.latestValues,rr,Ze,Ye)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=rr},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(ke){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=motionValue(0)),this.currentAnimation=animateSingleValue(this.motionValue,[0,1e3],{...ke,velocity:0,isSync:!0,onUpdate:Oe=>{this.mixTargetDelta(Oe),ke.onUpdate&&ke.onUpdate(Oe)},onStop:()=>{},onComplete:()=>{ke.onComplete&&ke.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const ke=this.getStack();ke&&ke.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const ke=this.getLead();let{targetWithTransforms:Oe,target:Me,layout:Ue,latestValues:$e}=ke;if(!(!Oe||!Me||!Ue)){if(this!==ke&&this.layout&&Ue&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,Ue.layoutBox)){Me=this.target||createBox();const He=calcLength(this.layout.layoutBox.x);Me.x.min=ke.target.x.min,Me.x.max=Me.x.min+He;const Qe=calcLength(this.layout.layoutBox.y);Me.y.min=ke.target.y.min,Me.y.max=Me.y.min+Qe}copyBoxInto(Oe,Me),transformBox(Oe,$e),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Oe,$e)}}registerSharedNode(ke,Oe){this.sharedNodes.has(ke)||this.sharedNodes.set(ke,new NodeStack),this.sharedNodes.get(ke).add(Oe);const Ue=Oe.options.initialPromotionConfig;Oe.promote({transition:Ue?Ue.transition:void 0,preserveFollowOpacity:Ue&&Ue.shouldPreserveFollowOpacity?Ue.shouldPreserveFollowOpacity(Oe):void 0})}isLead(){const ke=this.getStack();return ke?ke.lead===this:!0}getLead(){const{layoutId:ke}=this.options;return ke?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:ke}=this.options;return ke?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:ke}=this.options;if(ke)return this.root.sharedNodes.get(ke)}promote({needsReset:ke,transition:Oe,preserveFollowOpacity:Me}={}){const Ue=this.getStack();Ue&&Ue.promote(this,Me),ke&&(this.projectionDelta=void 0,this.needsReset=!0),Oe&&this.setOptions({transition:Oe})}relegate(){const ke=this.getStack();return ke?ke.relegate(this):!1}resetSkewAndRotation(){const{visualElement:ke}=this.options;if(!ke)return;let Oe=!1;const{latestValues:Me}=ke;if((Me.z||Me.rotate||Me.rotateX||Me.rotateY||Me.rotateZ||Me.skewX||Me.skewY)&&(Oe=!0),!Oe)return;const Ue={};Me.z&&resetDistortingTransform("z",ke,Ue,this.animationValues);for(let $e=0;$e<transformAxes.length;$e++)resetDistortingTransform(`rotate${transformAxes[$e]}`,ke,Ue,this.animationValues),resetDistortingTransform(`skew${transformAxes[$e]}`,ke,Ue,this.animationValues);ke.render();for(const $e in Ue)ke.setStaticValue($e,Ue[$e]),this.animationValues&&(this.animationValues[$e]=Ue[$e]);ke.scheduleRender()}applyProjectionStyles(ke,Oe){if(!this.instance||this.isSVG)return;if(!this.isVisible){ke.visibility="hidden";return}const Me=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,ke.visibility="",ke.opacity="",ke.pointerEvents=resolveMotionValue(Oe?.pointerEvents)||"",ke.transform=Me?Me(this.latestValues,""):"none";return}const Ue=this.getLead();if(!this.projectionDelta||!this.layout||!Ue.target){this.options.layoutId&&(ke.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,ke.pointerEvents=resolveMotionValue(Oe?.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(ke.transform=Me?Me({},""):"none",this.hasProjected=!1);return}ke.visibility="";const $e=Ue.animationValues||Ue.latestValues;this.applyTransformsToTarget();let He=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,$e);Me&&(He=Me($e,He)),ke.transform=He;const{x:Qe,y:We}=this.projectionDelta;ke.transformOrigin=`${Qe.origin*100}% ${We.origin*100}% 0`,Ue.animationValues?ke.opacity=Ue===this?$e.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:$e.opacityExit:ke.opacity=Ue===this?$e.opacity!==void 0?$e.opacity:"":$e.opacityExit!==void 0?$e.opacityExit:0;for(const qe in scaleCorrectors){if($e[qe]===void 0)continue;const{correct:Ke,applyTo:Xe,isCSSVariable:Ye}=scaleCorrectors[qe],Ze=He==="none"?$e[qe]:Ke($e[qe],Ue);if(Xe){const Je=Xe.length;for(let tr=0;tr<Je;tr++)ke[Xe[tr]]=Ze}else Ye?this.options.visualElement.renderState.vars[qe]=Ze:ke[qe]=Ze}this.options.layoutId&&(ke.pointerEvents=Ue===this?resolveMotionValue(Oe?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(ke=>ke.currentAnimation?.stop()),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(Re){Re.updateLayout()}function notifyLayoutUpdate(Re){const Ce=Re.resumeFrom?.snapshot||Re.snapshot;if(Re.isLead()&&Re.layout&&Ce&&Re.hasListeners("didUpdate")){const{layoutBox:je,measuredBox:Be}=Re.layout,{animationType:De}=Re.options,Fe=Ce.source!==Re.layout.source;De==="size"?eachAxis($e=>{const He=Fe?Ce.measuredBox[$e]:Ce.layoutBox[$e],Qe=calcLength(He);He.min=je[$e].min,He.max=He.min+Qe}):shouldAnimatePositionOnly(De,Ce.layoutBox,je)&&eachAxis($e=>{const He=Fe?Ce.measuredBox[$e]:Ce.layoutBox[$e],Qe=calcLength(je[$e]);He.max=He.min+Qe,Re.relativeTarget&&!Re.currentAnimation&&(Re.isProjectionDirty=!0,Re.relativeTarget[$e].max=Re.relativeTarget[$e].min+Qe)});const ke=createDelta();calcBoxDelta(ke,je,Ce.layoutBox);const Oe=createDelta();Fe?calcBoxDelta(Oe,Re.applyTransform(Be,!0),Ce.measuredBox):calcBoxDelta(Oe,je,Ce.layoutBox);const Me=!isDeltaZero(ke);let Ue=!1;if(!Re.resumeFrom){const $e=Re.getClosestProjectingParent();if($e&&!$e.resumeFrom){const{snapshot:He,layout:Qe}=$e;if(He&&Qe){const We=createBox();calcRelativePosition(We,Ce.layoutBox,He.layoutBox);const qe=createBox();calcRelativePosition(qe,je,Qe.layoutBox),boxEqualsRounded(We,qe)||(Ue=!0),$e.options.layoutRoot&&(Re.relativeTarget=qe,Re.relativeTargetOrigin=We,Re.relativeParent=$e)}}}Re.notifyListeners("didUpdate",{layout:je,snapshot:Ce,delta:Oe,layoutDelta:ke,hasLayoutChanged:Me,hasRelativeLayoutChanged:Ue})}else if(Re.isLead()){const{onExitComplete:je}=Re.options;je&&je()}Re.options.transition=void 0}function propagateDirtyNodes(Re){Re.parent&&(Re.isProjecting()||(Re.isProjectionDirty=Re.parent.isProjectionDirty),Re.isSharedProjectionDirty||(Re.isSharedProjectionDirty=!!(Re.isProjectionDirty||Re.parent.isProjectionDirty||Re.parent.isSharedProjectionDirty)),Re.isTransformDirty||(Re.isTransformDirty=Re.parent.isTransformDirty))}function cleanDirtyNodes(Re){Re.isProjectionDirty=Re.isSharedProjectionDirty=Re.isTransformDirty=!1}function clearSnapshot(Re){Re.clearSnapshot()}function clearMeasurements(Re){Re.clearMeasurements()}function clearIsLayoutDirty(Re){Re.isLayoutDirty=!1}function resetTransformStyle(Re){const{visualElement:Ce}=Re.options;Ce&&Ce.getProps().onBeforeLayoutMeasure&&Ce.notify("BeforeLayoutMeasure"),Re.resetTransform()}function finishAnimation(Re){Re.finishAnimation(),Re.targetDelta=Re.relativeTarget=Re.target=void 0,Re.isProjectionDirty=!0}function resolveTargetDelta(Re){Re.resolveTargetDelta()}function calcProjection(Re){Re.calcProjection()}function resetSkewAndRotation(Re){Re.resetSkewAndRotation()}function removeLeadSnapshots(Re){Re.removeLeadSnapshot()}function mixAxisDelta(Re,Ce,je){Re.translate=mixNumber$1(Ce.translate,0,je),Re.scale=mixNumber$1(Ce.scale,1,je),Re.origin=Ce.origin,Re.originPoint=Ce.originPoint}function mixAxis(Re,Ce,je,Be){Re.min=mixNumber$1(Ce.min,je.min,Be),Re.max=mixNumber$1(Ce.max,je.max,Be)}function mixBox(Re,Ce,je,Be){mixAxis(Re.x,Ce.x,je.x,Be),mixAxis(Re.y,Ce.y,je.y,Be)}function hasOpacityCrossfade(Re){return Re.animationValues&&Re.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=Re=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(Re),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$b;function roundAxis(Re){Re.min=roundPoint(Re.min),Re.max=roundPoint(Re.max)}function roundBox(Re){roundAxis(Re.x),roundAxis(Re.y)}function shouldAnimatePositionOnly(Re,Ce,je){return Re==="position"||Re==="preserve-aspect"&&!isNear(aspectRatio(Ce),aspectRatio(je),.2)}function checkNodeWasScrollRoot(Re){return Re!==Re.root&&Re.scroll?.wasRoot}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(Re,Ce)=>addDomEvent(Re,"resize",Ce),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:Re=>({x:Re.scrollLeft,y:Re.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const Re=new DocumentProjectionNode({});Re.mount(window),Re.setOptions({layoutScroll:!0}),rootProjectionNode.current=Re}return rootProjectionNode.current},resetTransform:(Re,Ce)=>{Re.style.transform=Ce!==void 0?Ce:"none"},checkIsScrollRoot:Re=>window.getComputedStyle(Re).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(Re,Ce,je){const{props:Be}=Re;Re.animationState&&Be.whileHover&&Re.animationState.setActive("whileHover",je==="Start");const De="onHover"+je,Fe=Be[De];Fe&&frame.postRender(()=>Fe(Ce,extractEventInfo(Ce)))}class HoverGesture extends Feature{mount(){const{current:Ce}=this.node;Ce&&(this.unmount=hover(Ce,(je,Be)=>(handleHoverEvent(this.node,Be,"Start"),De=>handleHoverEvent(this.node,De,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let Ce=!1;try{Ce=this.node.current.matches(":focus-visible")}catch{Ce=!0}!Ce||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(Re,Ce,je){const{props:Be}=Re;if(Re.current instanceof HTMLButtonElement&&Re.current.disabled)return;Re.animationState&&Be.whileTap&&Re.animationState.setActive("whileTap",je==="Start");const De="onTap"+(je==="End"?"":je),Fe=Be[De];Fe&&frame.postRender(()=>Fe(Ce,extractEventInfo(Ce)))}class PressGesture extends Feature{mount(){const{current:Ce}=this.node;Ce&&(this.unmount=press(Ce,(je,Be)=>(handlePressEvent(this.node,Be,"Start"),(De,{success:Fe})=>handlePressEvent(this.node,De,Fe?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=Re=>{const Ce=observerCallbacks.get(Re.target);Ce&&Ce(Re)},fireAllObserverCallbacks=Re=>{Re.forEach(fireObserverCallback)};function initIntersectionObserver({root:Re,...Ce}){const je=Re||document;observers.has(je)||observers.set(je,{});const Be=observers.get(je),De=JSON.stringify(Ce);return Be[De]||(Be[De]=new IntersectionObserver(fireAllObserverCallbacks,{root:Re,...Ce})),Be[De]}function observeIntersection(Re,Ce,je){const Be=initIntersectionObserver(Ce);return observerCallbacks.set(Re,je),Be.observe(Re),()=>{observerCallbacks.delete(Re),Be.unobserve(Re)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:Ce={}}=this.node.getProps(),{root:je,margin:Be,amount:De="some",once:Fe}=Ce,ke={root:je?je.current:void 0,rootMargin:Be,threshold:typeof De=="number"?De:thresholdNames[De]},Oe=Me=>{const{isIntersecting:Ue}=Me;if(this.isInView===Ue||(this.isInView=Ue,Fe&&!Ue&&this.hasEnteredView))return;Ue&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",Ue);const{onViewportEnter:$e,onViewportLeave:He}=this.node.getProps(),Qe=Ue?$e:He;Qe&&Qe(Me)};return observeIntersection(this.node.current,ke,Oe)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:Ce,prevProps:je}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(Ce,je))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:Re={}},{viewport:Ce={}}={}){return je=>Re[je]!==Ce[je]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},featureBundle={...animations,...gestureAnimations,...drag,...layout},motion=createMotionProxy(featureBundle,createDomVisualElement),ProfileSettings=()=>{const Re={Retailer:" Retailer",Distributor:" Distributor","Product Owner":" Product Owner"},[Ce,je]=reactExports.useState({ownerName:"",email:"",phone:"",businessName:"",address:"",logoUrl:"",gstNumber:"",businessType:"Retailer",invoicePreference:"Minimal",whatsappAlerts:!1,profileVersion:0,lastUpdated:"",businessMode:"Online",flypId:""}),[Be,De]=reactExports.useState("owner"),Fe=async()=>{if(!Ke||!window.confirm("Are you sure you want to generate your unique FLYP ID? This cannot be changed later."))return;const tr="FLYP-"+Math.random().toString(36).substring(2,8).toUpperCase(),rr=collection(db$2,"businesses");if(!(await getDocs(query(rr,where("flypId","==",tr)))).empty){y$2.error("Try again. FLYP ID already exists.");return}const ir=doc(db$2,"businesses",Ke.uid);await updateDoc(ir,{flypId:tr}),je(nr=>({...nr,flypId:tr})),y$2.success(" Your FLYP ID has been created!")},[ke,Oe]=reactExports.useState(null),[Me,Ue]=reactExports.useState(null),[$e,He]=reactExports.useState(!0),[Qe,We]=reactExports.useState(!1),Ke=getAuth().currentUser;reactExports.useEffect(()=>{(async()=>{if(!Ke)return;const tr=doc(db$2,"businesses",Ke.uid),rr=await getDoc(tr);rr.exists()&&(je(ar=>({...ar,...rr.data(),ownerName:rr.data().ownerName||""})),rr.data().logoUrl&&Ue(rr.data().logoUrl)),He(!1)})()},[Ke]);const Xe=Je=>{const{name:tr,value:rr}=Je.target;je(ar=>({...ar,[tr]:rr}))},Ye=Je=>{const tr=Je.target.files[0];tr&&(Oe(tr),Ue(URL.createObjectURL(tr)))},Ze=async()=>{if(!(!Ke||Qe)){We(!0);try{let Je={...Ce,name:Ce.ownerName};if(ke){const rr=ref(storage,`logos/${Ke.uid}`);await uploadBytes(rr,ke);const ar=await getDownloadURL(rr);Je.logoUrl=ar}Je.profileVersion=(Ce.profileVersion||0)+1,Je.lastUpdated=new Date().toISOString();const tr=doc(db$2,"businesses",Ke.uid);await updateDoc(tr,Je),y$2.success("Profile updated successfully!");try{const rr=getFunctions(void 0,"asia-south1");httpsCallable(rr,"resyncRetailerProfile")().catch(ir=>console.warn("[ProfileSync] background resync failed:",ir))}catch(rr){console.warn("[ProfileSync] init failed:",rr)}}catch(Je){console.error("Update failed",Je),y$2.error("Failed to update profile.")}finally{We(!1)}}};return $e?jsxRuntimeExports.jsx("div",{children:"Loading profile..."}):jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-2xl font-bold mb-6 text-gray-800 flex items-center gap-2",children:["Profile Settings",jsxRuntimeExports.jsx("span",{title:"Your business role in the system",className:"ml-1 px-2 py-1 rounded-full bg-indigo-100 text-indigo-700 text-xs font-medium",children:Re[Ce.businessType]||" User"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-6",children:[jsxRuntimeExports.jsx("div",{className:"w-1/4",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>De("owner"),className:`w-full py-2 px-4 rounded-lg shadow ${Be==="owner"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Owner Info"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>De("business"),className:`w-full py-2 px-4 rounded-lg shadow ${Be==="business"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Business Details"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>De("branding"),className:`w-full py-2 px-4 rounded-lg shadow ${Be==="branding"?"bg-indigo-600 text-white":"bg-gray-100 text-gray-800"}`,children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{children:"Branding"})]})})]})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},exit:{opacity:0,x:-30},transition:{duration:.3},className:"w-3/4",children:[Be==="owner"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsx("h3",{"data-section":"owner",className:"text-lg font-semibold mb-4",children:"Owner Information"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Owner Name"}),jsxRuntimeExports.jsx("input",{name:"ownerName",value:Ce.ownerName,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Email Address"}),jsxRuntimeExports.jsx("input",{name:"email",value:Ce.email,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{name:"phone",value:Ce.phone,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-indigo-300 bg-indigo-50 p-4",children:[jsxRuntimeExports.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:["FLYP ID",Ce.flypId&&jsxRuntimeExports.jsx("span",{className:"text-xs text-indigo-600 font-semibold bg-indigo-100 px-2 py-1 rounded-full",children:" Info"})]}),Ce.flypId?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{disabled:!0,value:Ce.flypId,className:"w-full border px-3 py-2 rounded bg-gray-100"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-green-600 text-xs font-semibold",children:" FLYP ID Linked"})]}):jsxRuntimeExports.jsx("button",{onClick:Fe,className:"bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700 transition-all animate-pulse",children:" Generate My FLYP ID"})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ze,disabled:Qe,className:`bg-indigo-600 text-white px-5 py-2 rounded transition ${Qe?"opacity-60 cursor-not-allowed":"hover:bg-indigo-700"}`,children:Qe?"Saving":" Save Changes"})})]}),Be==="business"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsx("h3",{"data-section":"business",className:"text-lg font-semibold mb-4",children:"Business Details"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Business Name"}),jsxRuntimeExports.jsx("input",{name:"businessName",value:Ce.businessName,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Address"}),jsxRuntimeExports.jsx("input",{name:"address",value:Ce.address,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"GST Number"}),jsxRuntimeExports.jsx("input",{name:"gstNumber",value:Ce.gstNumber,onChange:Xe,className:"w-full border px-3 py-2 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Business Type"}),jsxRuntimeExports.jsx("input",{name:"businessType",value:Ce.businessType,disabled:!0,className:"w-full border px-3 py-2 rounded bg-gray-100 cursor-not-allowed"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Invoice Preference"}),jsxRuntimeExports.jsxs("select",{name:"invoicePreference",value:Ce.invoicePreference,onChange:Xe,className:"w-full border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{children:"Minimal"}),jsxRuntimeExports.jsx("option",{children:"Detailed"}),jsxRuntimeExports.jsx("option",{children:"Modern"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Business Mode"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ce.businessMode==="Online",onChange:Je=>je(tr=>({...tr,businessMode:Je.target.checked?"Online":"Offline"}))}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-green-500 transition-all"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-700",children:Ce.businessMode})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Enable WhatsApp Notifications"}),jsxRuntimeExports.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",className:"sr-only peer",checked:Ce.whatsappAlerts,onChange:Je=>je(tr=>({...tr,whatsappAlerts:Je.target.checked}))}),jsxRuntimeExports.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-2 peer-focus:ring-blue-500 rounded-full peer peer-checked:bg-blue-500 transition-all"}),jsxRuntimeExports.jsx("span",{className:"ml-3 text-sm text-gray-700",children:Ce.whatsappAlerts?"Enabled":"Disabled"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ze,disabled:Qe,className:`bg-indigo-600 text-white px-5 py-2 rounded transition ${Qe?"opacity-60 cursor-not-allowed":"hover:bg-indigo-700"}`,children:Qe?"Saving":" Save Changes"})})]}),Be==="branding"&&jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-xl border hover:shadow-md transition bg-gray-50 space-y-6",children:[jsxRuntimeExports.jsxs("h3",{"data-section":"branding",className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[" Branding & Metadata",jsxRuntimeExports.jsx("span",{className:"text-sm text-gray-500",children:"(Customize your brand identity)"})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-2 font-medium",children:"Business Logo"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Ye,className:"w-full border border-gray-300 rounded-md px-4 py-2 text-sm"}),Me&&jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("img",{src:Me,alt:"Logo Preview",className:"w-24 h-24 rounded-full ring-2 ring-indigo-500 shadow-md"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Preview of your logo"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[Ce.lastUpdated&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{children:" Last Updated:"})," ",new Date(Ce.lastUpdated).toLocaleString()]}),Ce.profileVersion>0&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:[jsxRuntimeExports.jsx("strong",{children:" Profile Version:"})," ",Ce.profileVersion]}),jsxRuntimeExports.jsx("div",{className:"mt-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:Ze,disabled:Qe,className:`bg-indigo-600 text-white px-5 py-2 rounded transition ${Qe?"opacity-60 cursor-not-allowed":"hover:bg-indigo-700"}`,children:Qe?"Saving":" Save Changes"})})]})]})]})]},Be)})]})]})};function autoTableText(Re,Ce,je,Be,De){Be=Be||{};var Fe=1.15,ke=De.internal.scaleFactor,Oe=De.internal.getFontSize()/ke,Me=De.getLineHeightFactor?De.getLineHeightFactor():Fe,Ue=Oe*Me,$e=/\r\n|\r|\n/g,He="",Qe=1;if((Be.valign==="middle"||Be.valign==="bottom"||Be.halign==="center"||Be.halign==="right")&&(He=typeof Re=="string"?Re.split($e):Re,Qe=He.length||1),je+=Oe*(2-Fe),Be.valign==="middle"?je-=Qe/2*Ue:Be.valign==="bottom"&&(je-=Qe*Ue),Be.halign==="center"||Be.halign==="right"){var We=Oe;if(Be.halign==="center"&&(We*=.5),He&&Qe>=1){for(var qe=0;qe<He.length;qe++)De.text(He[qe],Ce-De.getStringUnitWidth(He[qe])*We,je),je+=Ue;return De}Ce-=De.getStringUnitWidth(Re)*We}return Be.halign==="justify"?De.text(Re,Ce,je,{maxWidth:Be.maxWidth||100,align:"justify"}):De.text(Re,Ce,je),De}var globalDefaults={},DocHandler=(function(){function Re(Ce){this.jsPDFDocument=Ce,this.userStyles={textColor:Ce.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:Ce.internal.getFontSize(),fontStyle:Ce.internal.getFont().fontStyle,font:Ce.internal.getFont().fontName,lineWidth:Ce.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:Ce.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return Re.setDefaults=function(Ce,je){je===void 0&&(je=null),je?je.__autoTableDocumentDefaults=Ce:globalDefaults=Ce},Re.unifyColor=function(Ce){return Array.isArray(Ce)?Ce:typeof Ce=="number"?[Ce,Ce,Ce]:typeof Ce=="string"?[Ce]:null},Re.prototype.applyStyles=function(Ce,je){var Be,De,Fe;je===void 0&&(je=!1),Ce.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(Ce.fontStyle);var ke=this.jsPDFDocument.internal.getFont(),Oe=ke.fontStyle,Me=ke.fontName;if(Ce.font&&(Me=Ce.font),Ce.fontStyle){Oe=Ce.fontStyle;var Ue=this.getFontList()[Me];Ue&&Ue.indexOf(Oe)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(Ue[0]),Oe=Ue[0])}if(this.jsPDFDocument.setFont(Me,Oe),Ce.fontSize&&this.jsPDFDocument.setFontSize(Ce.fontSize),!je){var $e=Re.unifyColor(Ce.fillColor);$e&&(Be=this.jsPDFDocument).setFillColor.apply(Be,$e),$e=Re.unifyColor(Ce.textColor),$e&&(De=this.jsPDFDocument).setTextColor.apply(De,$e),$e=Re.unifyColor(Ce.lineColor),$e&&(Fe=this.jsPDFDocument).setDrawColor.apply(Fe,$e),typeof Ce.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(Ce.lineWidth)}},Re.prototype.splitTextToSize=function(Ce,je,Be){return this.jsPDFDocument.splitTextToSize(Ce,je,Be)},Re.prototype.rect=function(Ce,je,Be,De,Fe){return this.jsPDFDocument.rect(Ce,je,Be,De,Fe)},Re.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Re.prototype.getTextWidth=function(Ce){return this.jsPDFDocument.getTextWidth(Ce)},Re.prototype.getDocument=function(){return this.jsPDFDocument},Re.prototype.setPage=function(Ce){this.jsPDFDocument.setPage(Ce)},Re.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Re.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Re.prototype.getGlobalOptions=function(){return globalDefaults||{}},Re.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Re.prototype.pageSize=function(){var Ce=this.jsPDFDocument.internal.pageSize;return Ce.width==null&&(Ce={width:Ce.getWidth(),height:Ce.getHeight()}),Ce},Re.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Re.prototype.getLineHeightFactor=function(){var Ce=this.jsPDFDocument;return Ce.getLineHeightFactor?Ce.getLineHeightFactor():1.15},Re.prototype.getLineHeight=function(Ce){return Ce/this.scaleFactor()*this.getLineHeightFactor()},Re.prototype.pageNumber=function(){var Ce=this.jsPDFDocument.internal.getCurrentPageInfo();return Ce?Ce.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Re})(),extendStatics=function(Re,Ce){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(je,Be){je.__proto__=Be}||function(je,Be){for(var De in Be)Object.prototype.hasOwnProperty.call(Be,De)&&(je[De]=Be[De])},extendStatics(Re,Ce)};function __extends(Re,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Class extends value "+String(Ce)+" is not a constructor or null");extendStatics(Re,Ce);function je(){this.constructor=Re}Re.prototype=Ce===null?Object.create(Ce):(je.prototype=Ce.prototype,new je)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=(function(Re){__extends(Ce,Re);function Ce(je){var Be=Re.call(this)||this;return Be._element=je,Be}return Ce})(Array);function defaultStyles$1(Re){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Re,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(Re){var Ce={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return Ce[Re]}function getStringWidth(Re,Ce,je){je.applyStyles(Ce,!0);var Be=Array.isArray(Re)?Re:[Re],De=Be.map(function(Fe){return je.getTextWidth(Fe)}).reduce(function(Fe,ke){return Math.max(Fe,ke)},0);return De}function addTableBorder(Re,Ce,je,Be){var De=Ce.settings.tableLineWidth,Fe=Ce.settings.tableLineColor;Re.applyStyles({lineWidth:De,lineColor:Fe});var ke=getFillStyle(De,!1);ke&&Re.rect(je.x,je.y,Ce.getWidth(Re.pageSize().width),Be.y-je.y,ke)}function getFillStyle(Re,Ce){var je=Re>0,Be=Ce||Ce===0;return je&&Be?"DF":je?"S":Be?"F":null}function parseSpacing(Re,Ce){var je,Be,De,Fe;if(Re=Re||Ce,Array.isArray(Re)){if(Re.length>=4)return{top:Re[0],right:Re[1],bottom:Re[2],left:Re[3]};if(Re.length===3)return{top:Re[0],right:Re[1],bottom:Re[2],left:Re[1]};if(Re.length===2)return{top:Re[0],right:Re[1],bottom:Re[0],left:Re[1]};Re.length===1?Re=Re[0]:Re=Ce}return typeof Re=="object"?(typeof Re.vertical=="number"&&(Re.top=Re.vertical,Re.bottom=Re.vertical),typeof Re.horizontal=="number"&&(Re.right=Re.horizontal,Re.left=Re.horizontal),{left:(je=Re.left)!==null&&je!==void 0?je:Ce,top:(Be=Re.top)!==null&&Be!==void 0?Be:Ce,right:(De=Re.right)!==null&&De!==void 0?De:Ce,bottom:(Fe=Re.bottom)!==null&&Fe!==void 0?Fe:Ce}):(typeof Re!="number"&&(Re=Ce),{top:Re,right:Re,bottom:Re,left:Re})}function getPageAvailableWidth(Re,Ce){var je=parseSpacing(Ce.settings.margin,0);return Re.pageSize().width-(je.left+je.right)}function parseCss(Re,Ce,je,Be,De){var Fe={},ke=1.3333333333333333,Oe=parseColor(Ce,function(Je){return De.getComputedStyle(Je).backgroundColor});Oe!=null&&(Fe.fillColor=Oe);var Me=parseColor(Ce,function(Je){return De.getComputedStyle(Je).color});Me!=null&&(Fe.textColor=Me);var Ue=parsePadding(Be,je);Ue&&(Fe.cellPadding=Ue);var $e="borderTopColor",He=ke*je,Qe=Be.borderTopWidth;if(Be.borderBottomWidth===Qe&&Be.borderRightWidth===Qe&&Be.borderLeftWidth===Qe){var We=(parseFloat(Qe)||0)/He;We&&(Fe.lineWidth=We)}else Fe.lineWidth={top:(parseFloat(Be.borderTopWidth)||0)/He,right:(parseFloat(Be.borderRightWidth)||0)/He,bottom:(parseFloat(Be.borderBottomWidth)||0)/He,left:(parseFloat(Be.borderLeftWidth)||0)/He},Fe.lineWidth.top||(Fe.lineWidth.right?$e="borderRightColor":Fe.lineWidth.bottom?$e="borderBottomColor":Fe.lineWidth.left&&($e="borderLeftColor"));var qe=parseColor(Ce,function(Je){return De.getComputedStyle(Je)[$e]});qe!=null&&(Fe.lineColor=qe);var Ke=["left","right","center","justify"];Ke.indexOf(Be.textAlign)!==-1&&(Fe.halign=Be.textAlign),Ke=["middle","bottom","top"],Ke.indexOf(Be.verticalAlign)!==-1&&(Fe.valign=Be.verticalAlign);var Xe=parseInt(Be.fontSize||"");isNaN(Xe)||(Fe.fontSize=Xe/ke);var Ye=parseFontStyle(Be);Ye&&(Fe.fontStyle=Ye);var Ze=(Be.fontFamily||"").toLowerCase();return Re.indexOf(Ze)!==-1&&(Fe.font=Ze),Fe}function parseFontStyle(Re){var Ce="";return(Re.fontWeight==="bold"||Re.fontWeight==="bolder"||parseInt(Re.fontWeight)>=700)&&(Ce="bold"),(Re.fontStyle==="italic"||Re.fontStyle==="oblique")&&(Ce+="italic"),Ce}function parseColor(Re,Ce){var je=realColor(Re,Ce);if(!je)return null;var Be=je.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Be||!Array.isArray(Be))return null;var De=[parseInt(Be[1]),parseInt(Be[2]),parseInt(Be[3])],Fe=parseInt(Be[4]);return Fe===0||isNaN(De[0])||isNaN(De[1])||isNaN(De[2])?null:De}function realColor(Re,Ce){var je=Ce(Re);return je==="rgba(0, 0, 0, 0)"||je==="transparent"||je==="initial"||je==="inherit"?Re.parentElement==null?null:realColor(Re.parentElement,Ce):je}function parsePadding(Re,Ce){var je=[Re.paddingTop,Re.paddingRight,Re.paddingBottom,Re.paddingLeft],Be=96/(72/Ce),De=(parseInt(Re.lineHeight)-parseInt(Re.fontSize))/Ce/2,Fe=je.map(function(Oe){return parseInt(Oe||"0")/Be}),ke=parseSpacing(Fe,0);return De>ke.top&&(ke.top=De),De>ke.bottom&&(ke.bottom=De),ke}function parseHtml(Re,Ce,je,Be,De){var Fe,ke;Be===void 0&&(Be=!1),De===void 0&&(De=!1);var Oe;typeof Ce=="string"?Oe=je.document.querySelector(Ce):Oe=Ce;var Me=Object.keys(Re.getFontList()),Ue=Re.scaleFactor(),$e=[],He=[],Qe=[];if(!Oe)return console.error("Html table could not be found with input: ",Ce),{head:$e,body:He,foot:Qe};for(var We=0;We<Oe.rows.length;We++){var qe=Oe.rows[We],Ke=(ke=(Fe=qe?.parentElement)===null||Fe===void 0?void 0:Fe.tagName)===null||ke===void 0?void 0:ke.toLowerCase(),Xe=parseRowContent(Me,Ue,je,qe,Be,De);Xe&&(Ke==="thead"?$e.push(Xe):Ke==="tfoot"?Qe.push(Xe):He.push(Xe))}return{head:$e,body:He,foot:Qe}}function parseRowContent(Re,Ce,je,Be,De,Fe){for(var ke=new HtmlRowInput(Be),Oe=0;Oe<Be.cells.length;Oe++){var Me=Be.cells[Oe],Ue=je.getComputedStyle(Me);if(De||Ue.display!=="none"){var $e=void 0;Fe&&($e=parseCss(Re,Me,Ce,Ue,je)),ke.push({rowSpan:Me.rowSpan,colSpan:Me.colSpan,styles:$e,_element:Me,content:parseCellContent(Me)})}}var He=je.getComputedStyle(Be);if(ke.length>0&&(De||He.display!=="none"))return ke}function parseCellContent(Re){var Ce=Re.cloneNode(!0);return Ce.innerHTML=Ce.innerHTML.replace(/\n/g,"").replace(/ +/g," "),Ce.innerHTML=Ce.innerHTML.split(/<br.*?>/).map(function(je){return je.trim()}).join(`
`),Ce.innerText||Ce.textContent||""}function validateInput(Re,Ce,je){for(var Be=0,De=[Re,Ce,je];Be<De.length;Be++){var Fe=De[Be];Fe&&typeof Fe!="object"&&console.error("The options parameter should be of type object, is: "+typeof Fe),Fe.startY&&typeof Fe.startY!="number"&&(console.error("Invalid value for startY option",Fe.startY),delete Fe.startY)}}function assign$2(Re,Ce,je,Be,De){if(Re==null)throw new TypeError("Cannot convert undefined or null to object");for(var Fe=Object(Re),ke=1;ke<arguments.length;ke++){var Oe=arguments[ke];if(Oe!=null)for(var Me in Oe)Object.prototype.hasOwnProperty.call(Oe,Me)&&(Fe[Me]=Oe[Me])}return Fe}function parseInput(Re,Ce){var je=new DocHandler(Re),Be=je.getDocumentOptions(),De=je.getGlobalOptions();validateInput(De,Be,Ce);var Fe=assign$2({},De,Be,Ce),ke;typeof window<"u"&&(ke=window);var Oe=parseStyles(De,Be,Ce),Me=parseHooks(De,Be,Ce),Ue=parseSettings(je,Fe),$e=parseContent$1(je,Fe,ke);return{id:Ce.tableId,content:$e,hooks:Me,styles:Oe,settings:Ue}}function parseStyles(Re,Ce,je){for(var Be={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},De=function(Me){if(Me==="columnStyles"){var Ue=Re[Me],$e=Ce[Me],He=je[Me];Be.columnStyles=assign$2({},Ue,$e,He)}else{var Qe=[Re,Ce,je],We=Qe.map(function(qe){return qe[Me]||{}});Be[Me]=assign$2({},We[0],We[1],We[2])}},Fe=0,ke=Object.keys(Be);Fe<ke.length;Fe++){var Oe=ke[Fe];De(Oe)}return Be}function parseHooks(Re,Ce,je){for(var Be=[Re,Ce,je],De={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},Fe=0,ke=Be;Fe<ke.length;Fe++){var Oe=ke[Fe];Oe.didParseCell&&De.didParseCell.push(Oe.didParseCell),Oe.willDrawCell&&De.willDrawCell.push(Oe.willDrawCell),Oe.didDrawCell&&De.didDrawCell.push(Oe.didDrawCell),Oe.willDrawPage&&De.willDrawPage.push(Oe.willDrawPage),Oe.didDrawPage&&De.didDrawPage.push(Oe.didDrawPage)}return De}function parseSettings(Re,Ce){var je,Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe,We,qe=parseSpacing(Ce.margin,40/Re.scaleFactor()),Ke=(je=getStartY(Re,Ce.startY))!==null&&je!==void 0?je:qe.top,Xe;Ce.showFoot===!0?Xe="everyPage":Ce.showFoot===!1?Xe="never":Xe=(Be=Ce.showFoot)!==null&&Be!==void 0?Be:"everyPage";var Ye;Ce.showHead===!0?Ye="everyPage":Ce.showHead===!1?Ye="never":Ye=(De=Ce.showHead)!==null&&De!==void 0?De:"everyPage";var Ze=(Fe=Ce.useCss)!==null&&Fe!==void 0?Fe:!1,Je=Ce.theme||(Ze?"plain":"striped"),tr=!!Ce.horizontalPageBreak,rr=(ke=Ce.horizontalPageBreakRepeat)!==null&&ke!==void 0?ke:null;return{includeHiddenHtml:(Oe=Ce.includeHiddenHtml)!==null&&Oe!==void 0?Oe:!1,useCss:Ze,theme:Je,startY:Ke,margin:qe,pageBreak:(Me=Ce.pageBreak)!==null&&Me!==void 0?Me:"auto",rowPageBreak:(Ue=Ce.rowPageBreak)!==null&&Ue!==void 0?Ue:"auto",tableWidth:($e=Ce.tableWidth)!==null&&$e!==void 0?$e:"auto",showHead:Ye,showFoot:Xe,tableLineWidth:(He=Ce.tableLineWidth)!==null&&He!==void 0?He:0,tableLineColor:(Qe=Ce.tableLineColor)!==null&&Qe!==void 0?Qe:200,horizontalPageBreak:tr,horizontalPageBreakRepeat:rr,horizontalPageBreakBehaviour:(We=Ce.horizontalPageBreakBehaviour)!==null&&We!==void 0?We:"afterAllRows"}}function getStartY(Re,Ce){var je=Re.getLastAutoTable(),Be=Re.scaleFactor(),De=Re.pageNumber(),Fe=!1;if(je&&je.startPageNumber){var ke=je.startPageNumber+je.pageNumber-1;Fe=ke===De}return typeof Ce=="number"?Ce:(Ce==null||Ce===!1)&&Fe&&je?.finalY!=null?je.finalY+20/Be:null}function parseContent$1(Re,Ce,je){var Be=Ce.head||[],De=Ce.body||[],Fe=Ce.foot||[];if(Ce.html){var ke=Ce.includeHiddenHtml;if(je){var Oe=parseHtml(Re,Ce.html,je,ke,Ce.useCss)||{};Be=Oe.head||Be,De=Oe.body||Be,Fe=Oe.foot||Be}else console.error("Cannot parse html in non browser environment")}var Me=Ce.columns||parseColumns(Be,De,Fe);return{columns:Me,head:Be,body:De,foot:Fe}}function parseColumns(Re,Ce,je){var Be=Re[0]||Ce[0]||je[0]||[],De=[];return Object.keys(Be).filter(function(Fe){return Fe!=="_element"}).forEach(function(Fe){var ke=1,Oe;Array.isArray(Be)?Oe=Be[parseInt(Fe)]:Oe=Be[Fe],typeof Oe=="object"&&!Array.isArray(Oe)&&(ke=Oe?.colSpan||1);for(var Me=0;Me<ke;Me++){var Ue=void 0;Array.isArray(Be)?Ue=De.length:Ue=Fe+(Me>0?"_".concat(Me):"");var $e={dataKey:Ue};De.push($e)}}),De}var HookData=(function(){function Re(Ce,je,Be){this.table=je,this.pageNumber=je.pageNumber,this.settings=je.settings,this.cursor=Be,this.doc=Ce.getDocument()}return Re})(),CellHookData=(function(Re){__extends(Ce,Re);function Ce(je,Be,De,Fe,ke,Oe){var Me=Re.call(this,je,Be,Oe)||this;return Me.cell=De,Me.row=Fe,Me.column=ke,Me.section=Fe.section,Me}return Ce})(HookData),Table=(function(){function Re(Ce,je){this.pageNumber=1,this.id=Ce.id,this.settings=Ce.settings,this.styles=Ce.styles,this.hooks=Ce.hooks,this.columns=je.columns,this.head=je.head,this.body=je.body,this.foot=je.foot}return Re.prototype.getHeadHeight=function(Ce){return this.head.reduce(function(je,Be){return je+Be.getMaxCellHeight(Ce)},0)},Re.prototype.getFootHeight=function(Ce){return this.foot.reduce(function(je,Be){return je+Be.getMaxCellHeight(Ce)},0)},Re.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Re.prototype.callCellHooks=function(Ce,je,Be,De,Fe,ke){for(var Oe=0,Me=je;Oe<Me.length;Oe++){var Ue=Me[Oe],$e=new CellHookData(Ce,this,Be,De,Fe,ke),He=Ue($e)===!1;if(Be.text=Array.isArray(Be.text)?Be.text:[Be.text],He)return!1}return!0},Re.prototype.callEndPageHooks=function(Ce,je){Ce.applyStyles(Ce.userStyles);for(var Be=0,De=this.hooks.didDrawPage;Be<De.length;Be++){var Fe=De[Be];Fe(new HookData(Ce,this,je))}},Re.prototype.callWillDrawPageHooks=function(Ce,je){for(var Be=0,De=this.hooks.willDrawPage;Be<De.length;Be++){var Fe=De[Be];Fe(new HookData(Ce,this,je))}},Re.prototype.getWidth=function(Ce){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var je=this.columns.reduce(function(De,Fe){return De+Fe.wrappedWidth},0);return je}else{var Be=this.settings.margin;return Ce-Be.left-Be.right}},Re})(),Row$2=(function(){function Re(Ce,je,Be,De,Fe){Fe===void 0&&(Fe=!1),this.height=0,this.raw=Ce,Ce instanceof HtmlRowInput&&(this.raw=Ce._element,this.element=Ce._element),this.index=je,this.section=Be,this.cells=De,this.spansMultiplePages=Fe}return Re.prototype.getMaxCellHeight=function(Ce){var je=this;return Ce.reduce(function(Be,De){var Fe;return Math.max(Be,((Fe=je.cells[De.index])===null||Fe===void 0?void 0:Fe.height)||0)},0)},Re.prototype.hasRowSpan=function(Ce){var je=this;return Ce.filter(function(Be){var De=je.cells[Be.index];return De?De.rowSpan>1:!1}).length>0},Re.prototype.canEntireRowFit=function(Ce,je){return this.getMaxCellHeight(je)<=Ce},Re.prototype.getMinimumRowHeight=function(Ce,je){var Be=this;return Ce.reduce(function(De,Fe){var ke=Be.cells[Fe.index];if(!ke)return 0;var Oe=je.getLineHeight(ke.styles.fontSize),Me=ke.padding("vertical"),Ue=Me+Oe;return Ue>De?Ue:De},0)},Re})(),Cell$1=(function(){function Re(Ce,je,Be){var De;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=je,this.section=Be,this.raw=Ce;var Fe=Ce;Ce!=null&&typeof Ce=="object"&&!Array.isArray(Ce)?(this.rowSpan=Ce.rowSpan||1,this.colSpan=Ce.colSpan||1,Fe=(De=Ce.content)!==null&&De!==void 0?De:Ce,Ce._element&&(this.raw=Ce._element)):(this.rowSpan=1,this.colSpan=1);var ke=Fe!=null?""+Fe:"",Oe=/\r\n|\r|\n/g;this.text=ke.split(Oe)}return Re.prototype.getTextPos=function(){var Ce;if(this.styles.valign==="top")Ce=this.y+this.padding("top");else if(this.styles.valign==="bottom")Ce=this.y+this.height-this.padding("bottom");else{var je=this.height-this.padding("vertical");Ce=this.y+je/2+this.padding("top")}var Be;if(this.styles.halign==="right")Be=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var De=this.width-this.padding("horizontal");Be=this.x+De/2+this.padding("left")}else Be=this.x+this.padding("left");return{x:Be,y:Ce}},Re.prototype.getContentHeight=function(Ce,je){je===void 0&&(je=1.15);var Be=Array.isArray(this.text)?this.text.length:1,De=this.styles.fontSize/Ce*je,Fe=Be*De+this.padding("vertical");return Math.max(Fe,this.styles.minCellHeight)},Re.prototype.padding=function(Ce){var je=parseSpacing(this.styles.cellPadding,0);return Ce==="vertical"?je.top+je.bottom:Ce==="horizontal"?je.left+je.right:je[Ce]},Re})(),Column=(function(){function Re(Ce,je,Be){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=Ce,this.raw=je,this.index=Be}return Re.prototype.getMaxCustomCellWidth=function(Ce){for(var je=0,Be=0,De=Ce.allRows();Be<De.length;Be++){var Fe=De[Be],ke=Fe.cells[this.index];ke&&typeof ke.styles.cellWidth=="number"&&(je=Math.max(je,ke.styles.cellWidth))}return je},Re})();function calculateWidths(Re,Ce){calculate(Re,Ce);var je=[],Be=0;Ce.columns.forEach(function(Fe){var ke=Fe.getMaxCustomCellWidth(Ce);ke?Fe.width=ke:(Fe.width=Fe.wrappedWidth,je.push(Fe)),Be+=Fe.width});var De=Ce.getWidth(Re.pageSize().width)-Be;De&&(De=resizeColumns(je,De,function(Fe){return Math.max(Fe.minReadableWidth,Fe.minWidth)})),De&&(De=resizeColumns(je,De,function(Fe){return Fe.minWidth})),De=Math.abs(De),!Ce.settings.horizontalPageBreak&&De>.1/Re.scaleFactor()&&(De=De<1?De:Math.round(De),console.warn("Of the table content, ".concat(De," units width could not fit page"))),applyColSpans(Ce),fitContent(Ce,Re),applyRowSpans(Ce)}function calculate(Re,Ce){var je=Re.scaleFactor(),Be=Ce.settings.horizontalPageBreak,De=getPageAvailableWidth(Re,Ce);Ce.allRows().forEach(function(Fe){for(var ke=0,Oe=Ce.columns;ke<Oe.length;ke++){var Me=Oe[ke],Ue=Fe.cells[Me.index];if(Ue){var $e=Ce.hooks.didParseCell;Ce.callCellHooks(Re,$e,Ue,Fe,Me,null);var He=Ue.padding("horizontal");Ue.contentWidth=getStringWidth(Ue.text,Ue.styles,Re)+He;var Qe=getStringWidth(Ue.text.join(" ").split(/[^\S\u00A0]+/),Ue.styles,Re);if(Ue.minReadableWidth=Qe+Ue.padding("horizontal"),typeof Ue.styles.cellWidth=="number")Ue.minWidth=Ue.styles.cellWidth,Ue.wrappedWidth=Ue.styles.cellWidth;else if(Ue.styles.cellWidth==="wrap"||Be===!0)Ue.contentWidth>De?(Ue.minWidth=De,Ue.wrappedWidth=De):(Ue.minWidth=Ue.contentWidth,Ue.wrappedWidth=Ue.contentWidth);else{var We=10/je;Ue.minWidth=Ue.styles.minCellWidth||We,Ue.wrappedWidth=Ue.contentWidth,Ue.minWidth>Ue.wrappedWidth&&(Ue.wrappedWidth=Ue.minWidth)}}}}),Ce.allRows().forEach(function(Fe){for(var ke=0,Oe=Ce.columns;ke<Oe.length;ke++){var Me=Oe[ke],Ue=Fe.cells[Me.index];if(Ue&&Ue.colSpan===1)Me.wrappedWidth=Math.max(Me.wrappedWidth,Ue.wrappedWidth),Me.minWidth=Math.max(Me.minWidth,Ue.minWidth),Me.minReadableWidth=Math.max(Me.minReadableWidth,Ue.minReadableWidth);else{var $e=Ce.styles.columnStyles[Me.dataKey]||Ce.styles.columnStyles[Me.index]||{},He=$e.cellWidth||$e.minCellWidth;He&&typeof He=="number"&&(Me.minWidth=He,Me.wrappedWidth=He)}Ue&&(Ue.colSpan>1&&!Me.minWidth&&(Me.minWidth=Ue.minWidth),Ue.colSpan>1&&!Me.wrappedWidth&&(Me.wrappedWidth=Ue.minWidth))}})}function resizeColumns(Re,Ce,je){for(var Be=Ce,De=Re.reduce(function(We,qe){return We+qe.wrappedWidth},0),Fe=0;Fe<Re.length;Fe++){var ke=Re[Fe],Oe=ke.wrappedWidth/De,Me=Be*Oe,Ue=ke.width+Me,$e=je(ke),He=Ue<$e?$e:Ue;Ce-=He-ke.width,ke.width=He}if(Ce=Math.round(Ce*1e10)/1e10,Ce){var Qe=Re.filter(function(We){return Ce<0?We.width>je(We):!0});Qe.length&&(Ce=resizeColumns(Qe,Ce,je))}return Ce}function applyRowSpans(Re){for(var Ce={},je=1,Be=Re.allRows(),De=0;De<Be.length;De++)for(var Fe=Be[De],ke=0,Oe=Re.columns;ke<Oe.length;ke++){var Me=Oe[ke],Ue=Ce[Me.index];if(je>1)je--,delete Fe.cells[Me.index];else if(Ue)Ue.cell.height+=Fe.height,je=Ue.cell.colSpan,delete Fe.cells[Me.index],Ue.left--,Ue.left<=1&&delete Ce[Me.index];else{var $e=Fe.cells[Me.index];if(!$e)continue;if($e.height=Fe.height,$e.rowSpan>1){var He=Be.length-De,Qe=$e.rowSpan>He?He:$e.rowSpan;Ce[Me.index]={cell:$e,left:Qe,row:Fe}}}}}function applyColSpans(Re){for(var Ce=Re.allRows(),je=0;je<Ce.length;je++)for(var Be=Ce[je],De=null,Fe=0,ke=0,Oe=0;Oe<Re.columns.length;Oe++){var Me=Re.columns[Oe];if(ke-=1,ke>1&&Re.columns[Oe+1])Fe+=Me.width,delete Be.cells[Me.index];else if(De){var Ue=De;delete Be.cells[Me.index],De=null,Ue.width=Me.width+Fe}else{var Ue=Be.cells[Me.index];if(!Ue)continue;if(ke=Ue.colSpan,Fe=0,Ue.colSpan>1){De=Ue,Fe+=Me.width;continue}Ue.width=Me.width+Fe}}}function fitContent(Re,Ce){for(var je={count:0,height:0},Be=0,De=Re.allRows();Be<De.length;Be++){for(var Fe=De[Be],ke=0,Oe=Re.columns;ke<Oe.length;ke++){var Me=Oe[ke],Ue=Fe.cells[Me.index];if(Ue){Ce.applyStyles(Ue.styles,!0);var $e=Ue.width-Ue.padding("horizontal");if(Ue.styles.overflow==="linebreak")Ue.text=Ce.splitTextToSize(Ue.text,$e+1/Ce.scaleFactor(),{fontSize:Ue.styles.fontSize});else if(Ue.styles.overflow==="ellipsize")Ue.text=ellipsize(Ue.text,$e,Ue.styles,Ce,"...");else if(Ue.styles.overflow==="hidden")Ue.text=ellipsize(Ue.text,$e,Ue.styles,Ce,"");else if(typeof Ue.styles.overflow=="function"){var He=Ue.styles.overflow(Ue.text,$e);typeof He=="string"?Ue.text=[He]:Ue.text=He}Ue.contentHeight=Ue.getContentHeight(Ce.scaleFactor(),Ce.getLineHeightFactor());var Qe=Ue.contentHeight/Ue.rowSpan;Ue.rowSpan>1&&je.count*je.height<Qe*Ue.rowSpan?je={height:Qe,count:Ue.rowSpan}:je&&je.count>0&&je.height>Qe&&(Qe=je.height),Qe>Fe.height&&(Fe.height=Qe)}}je.count--}}function ellipsize(Re,Ce,je,Be,De){return Re.map(function(Fe){return ellipsizeStr(Fe,Ce,je,Be,De)})}function ellipsizeStr(Re,Ce,je,Be,De){var Fe=1e4*Be.scaleFactor();if(Ce=Math.ceil(Ce*Fe)/Fe,Ce>=getStringWidth(Re,je,Be))return Re;for(;Ce<getStringWidth(Re+De,je,Be)&&!(Re.length<=1);)Re=Re.substring(0,Re.length-1);return Re.trim()+De}function createTable(Re,Ce){var je=new DocHandler(Re),Be=parseContent(Ce,je.scaleFactor()),De=new Table(Ce,Be);return calculateWidths(je,De),je.applyStyles(je.userStyles),De}function parseContent(Re,Ce){var je=Re.content,Be=createColumns(je.columns);if(je.head.length===0){var De=generateSectionRow(Be,"head");De&&je.head.push(De)}if(je.foot.length===0){var De=generateSectionRow(Be,"foot");De&&je.foot.push(De)}var Fe=Re.settings.theme,ke=Re.styles;return{columns:Be,head:parseSection("head",je.head,Be,ke,Fe,Ce),body:parseSection("body",je.body,Be,ke,Fe,Ce),foot:parseSection("foot",je.foot,Be,ke,Fe,Ce)}}function parseSection(Re,Ce,je,Be,De,Fe){var ke={},Oe=Ce.map(function(Me,Ue){for(var $e=0,He={},Qe=0,We=0,qe=0,Ke=je;qe<Ke.length;qe++){var Xe=Ke[qe];if(ke[Xe.index]==null||ke[Xe.index].left===0)if(We===0){var Ye=void 0;Array.isArray(Me)?Ye=Me[Xe.index-Qe-$e]:Ye=Me[Xe.dataKey];var Ze={};typeof Ye=="object"&&!Array.isArray(Ye)&&(Ze=Ye?.styles||{});var Je=cellStyles(Re,Xe,Ue,De,Be,Fe,Ze),tr=new Cell$1(Ye,Je,Re);He[Xe.dataKey]=tr,He[Xe.index]=tr,We=tr.colSpan-1,ke[Xe.index]={left:tr.rowSpan-1,times:We}}else We--,Qe++;else ke[Xe.index].left--,We=ke[Xe.index].times,$e++}return new Row$2(Me,Ue,Re,He)});return Oe}function generateSectionRow(Re,Ce){var je={};return Re.forEach(function(Be){if(Be.raw!=null){var De=getSectionTitle(Ce,Be.raw);De!=null&&(je[Be.dataKey]=De)}}),Object.keys(je).length>0?je:null}function getSectionTitle(Re,Ce){if(Re==="head"){if(typeof Ce=="object")return Ce.header||null;if(typeof Ce=="string"||typeof Ce=="number")return Ce}else if(Re==="foot"&&typeof Ce=="object")return Ce.footer;return null}function createColumns(Re){return Re.map(function(Ce,je){var Be,De;return typeof Ce=="object"?De=(Be=Ce.dataKey)!==null&&Be!==void 0?Be:je:De=je,new Column(De,Ce,je)})}function cellStyles(Re,Ce,je,Be,De,Fe,ke){var Oe=getTheme(Be),Me;Re==="head"?Me=De.headStyles:Re==="body"?Me=De.bodyStyles:Re==="foot"&&(Me=De.footStyles);var Ue=assign$2({},Oe.table,Oe[Re],De.styles,Me),$e=De.columnStyles[Ce.dataKey]||De.columnStyles[Ce.index]||{},He=Re==="body"?$e:{},Qe=Re==="body"&&je%2===0?assign$2({},Oe.alternateRow,De.alternateRowStyles):{},We=defaultStyles$1(Fe),qe=assign$2({},We,Ue,Qe,He);return assign$2(qe,ke)}function getColumnsCanFitInPage(Re,Ce,je){var Be;je===void 0&&(je={});var De=getPageAvailableWidth(Re,Ce),Fe=new Map,ke=[],Oe=[],Me=[];Array.isArray(Ce.settings.horizontalPageBreakRepeat)?Me=Ce.settings.horizontalPageBreakRepeat:(typeof Ce.settings.horizontalPageBreakRepeat=="string"||typeof Ce.settings.horizontalPageBreakRepeat=="number")&&(Me=[Ce.settings.horizontalPageBreakRepeat]),Me.forEach(function(Qe){var We=Ce.columns.find(function(qe){return qe.dataKey===Qe||qe.index===Qe});We&&!Fe.has(We.index)&&(Fe.set(We.index,!0),ke.push(We.index),Oe.push(Ce.columns[We.index]),De-=We.wrappedWidth)});for(var Ue=!0,$e=(Be=je?.start)!==null&&Be!==void 0?Be:0;$e<Ce.columns.length;){if(Fe.has($e)){$e++;continue}var He=Ce.columns[$e].wrappedWidth;if(Ue||De>=He)Ue=!1,ke.push($e),Oe.push(Ce.columns[$e]),De-=He;else break;$e++}return{colIndexes:ke,columns:Oe,lastIndex:$e-1}}function calculateAllColumnsCanFitInPage(Re,Ce){for(var je=[],Be=0;Be<Ce.columns.length;Be++){var De=getColumnsCanFitInPage(Re,Ce,{start:Be});De.columns.length&&(je.push(De),Be=De.lastIndex)}return je}function drawTable(Re,Ce){var je=Ce.settings,Be=je.startY,De=je.margin,Fe={x:De.left,y:Be},ke=Ce.getHeadHeight(Ce.columns)+Ce.getFootHeight(Ce.columns),Oe=Be+De.bottom+ke;if(je.pageBreak==="avoid"){var Me=Ce.body,Ue=Me.reduce(function(Qe,We){return Qe+We.height},0);Oe+=Ue}var $e=new DocHandler(Re);(je.pageBreak==="always"||je.startY!=null&&Oe>$e.pageSize().height)&&(nextPage($e),Fe.y=De.top),Ce.callWillDrawPageHooks($e,Fe);var He=assign$2({},Fe);Ce.startPageNumber=$e.pageNumber(),je.horizontalPageBreak?printTableWithHorizontalPageBreak($e,Ce,He,Fe):($e.applyStyles($e.userStyles),(je.showHead==="firstPage"||je.showHead==="everyPage")&&Ce.head.forEach(function(Qe){return printRow($e,Ce,Qe,Fe,Ce.columns)}),$e.applyStyles($e.userStyles),Ce.body.forEach(function(Qe,We){var qe=We===Ce.body.length-1;printFullRow($e,Ce,Qe,qe,He,Fe,Ce.columns)}),$e.applyStyles($e.userStyles),(je.showFoot==="lastPage"||je.showFoot==="everyPage")&&Ce.foot.forEach(function(Qe){return printRow($e,Ce,Qe,Fe,Ce.columns)})),addTableBorder($e,Ce,He,Fe),Ce.callEndPageHooks($e,Fe),Ce.finalY=Fe.y,Re.lastAutoTable=Ce,$e.applyStyles($e.userStyles)}function printTableWithHorizontalPageBreak(Re,Ce,je,Be){var De=calculateAllColumnsCanFitInPage(Re,Ce),Fe=Ce.settings;if(Fe.horizontalPageBreakBehaviour==="afterAllRows")De.forEach(function(Ue,$e){Re.applyStyles(Re.userStyles),$e>0?addPage(Re,Ce,je,Be,Ue.columns,!0):printHead(Re,Ce,Be,Ue.columns),printBody(Re,Ce,je,Be,Ue.columns),printFoot(Re,Ce,Be,Ue.columns)});else for(var ke=-1,Oe=De[0],Me=function(){var Ue=ke;if(Oe){Re.applyStyles(Re.userStyles);var $e=Oe.columns;ke>=0?addPage(Re,Ce,je,Be,$e,!0):printHead(Re,Ce,Be,$e),Ue=printBodyWithoutPageBreaks(Re,Ce,ke+1,Be,$e),printFoot(Re,Ce,Be,$e)}var He=Ue-ke;De.slice(1).forEach(function(Qe){Re.applyStyles(Re.userStyles),addPage(Re,Ce,je,Be,Qe.columns,!0),printBodyWithoutPageBreaks(Re,Ce,ke+1,Be,Qe.columns,He),printFoot(Re,Ce,Be,Qe.columns)}),ke=Ue};ke<Ce.body.length-1;)Me()}function printHead(Re,Ce,je,Be){var De=Ce.settings;Re.applyStyles(Re.userStyles),(De.showHead==="firstPage"||De.showHead==="everyPage")&&Ce.head.forEach(function(Fe){return printRow(Re,Ce,Fe,je,Be)})}function printBody(Re,Ce,je,Be,De){Re.applyStyles(Re.userStyles),Ce.body.forEach(function(Fe,ke){var Oe=ke===Ce.body.length-1;printFullRow(Re,Ce,Fe,Oe,je,Be,De)})}function printBodyWithoutPageBreaks(Re,Ce,je,Be,De,Fe){Re.applyStyles(Re.userStyles),Fe=Fe??Ce.body.length;var ke=Math.min(je+Fe,Ce.body.length),Oe=-1;return Ce.body.slice(je,ke).forEach(function(Me,Ue){var $e=je+Ue===Ce.body.length-1,He=getRemainingPageSpace(Re,Ce,$e,Be);Me.canEntireRowFit(He,De)&&(printRow(Re,Ce,Me,Be,De),Oe=je+Ue)}),Oe}function printFoot(Re,Ce,je,Be){var De=Ce.settings;Re.applyStyles(Re.userStyles),(De.showFoot==="lastPage"||De.showFoot==="everyPage")&&Ce.foot.forEach(function(Fe){return printRow(Re,Ce,Fe,je,Be)})}function getRemainingLineCount(Re,Ce,je){var Be=je.getLineHeight(Re.styles.fontSize),De=Re.padding("vertical"),Fe=Math.floor((Ce-De)/Be);return Math.max(0,Fe)}function modifyRowToFit(Re,Ce,je,Be){var De={};Re.spansMultiplePages=!0,Re.height=0;for(var Fe=0,ke=0,Oe=je.columns;ke<Oe.length;ke++){var Me=Oe[ke],Ue=Re.cells[Me.index];if(Ue){Array.isArray(Ue.text)||(Ue.text=[Ue.text]);var $e=new Cell$1(Ue.raw,Ue.styles,Ue.section);$e=assign$2($e,Ue),$e.text=[];var He=getRemainingLineCount(Ue,Ce,Be);Ue.text.length>He&&($e.text=Ue.text.splice(He,Ue.text.length));var Qe=Be.scaleFactor(),We=Be.getLineHeightFactor();Ue.contentHeight=Ue.getContentHeight(Qe,We),Ue.contentHeight>=Ce&&(Ue.contentHeight=Ce,$e.styles.minCellHeight-=Ce),Ue.contentHeight>Re.height&&(Re.height=Ue.contentHeight),$e.contentHeight=$e.getContentHeight(Qe,We),$e.contentHeight>Fe&&(Fe=$e.contentHeight),De[Me.index]=$e}}var qe=new Row$2(Re.raw,-1,Re.section,De,!0);qe.height=Fe;for(var Ke=0,Xe=je.columns;Ke<Xe.length;Ke++){var Me=Xe[Ke],$e=qe.cells[Me.index];$e&&($e.height=qe.height);var Ue=Re.cells[Me.index];Ue&&(Ue.height=Re.height)}return qe}function shouldPrintOnCurrentPage(Re,Ce,je,Be){var De=Re.pageSize().height,Fe=Be.settings.margin,ke=Fe.top+Fe.bottom,Oe=De-ke;Ce.section==="body"&&(Oe-=Be.getHeadHeight(Be.columns)+Be.getFootHeight(Be.columns));var Me=Ce.getMinimumRowHeight(Be.columns,Re),Ue=Me<je;if(Me>Oe)return console.error("Will not be able to print row ".concat(Ce.index," correctly since it's minimum height is larger than page height")),!0;if(!Ue)return!1;var $e=Ce.hasRowSpan(Be.columns),He=Ce.getMaxCellHeight(Be.columns)>Oe;return He?($e&&console.error("The content of row ".concat(Ce.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!($e||Be.settings.rowPageBreak==="avoid")}function printFullRow(Re,Ce,je,Be,De,Fe,ke){var Oe=getRemainingPageSpace(Re,Ce,Be,Fe);if(je.canEntireRowFit(Oe,ke))printRow(Re,Ce,je,Fe,ke);else if(shouldPrintOnCurrentPage(Re,je,Oe,Ce)){var Me=modifyRowToFit(je,Oe,Ce,Re);printRow(Re,Ce,je,Fe,ke),addPage(Re,Ce,De,Fe,ke),printFullRow(Re,Ce,Me,Be,De,Fe,ke)}else addPage(Re,Ce,De,Fe,ke),printFullRow(Re,Ce,je,Be,De,Fe,ke)}function printRow(Re,Ce,je,Be,De){Be.x=Ce.settings.margin.left;for(var Fe=0,ke=De;Fe<ke.length;Fe++){var Oe=ke[Fe],Me=je.cells[Oe.index];if(!Me){Be.x+=Oe.width;continue}Re.applyStyles(Me.styles),Me.x=Be.x,Me.y=Be.y;var Ue=Ce.callCellHooks(Re,Ce.hooks.willDrawCell,Me,je,Oe,Be);if(Ue===!1){Be.x+=Oe.width;continue}drawCellRect(Re,Me,Be);var $e=Me.getTextPos();autoTableText(Me.text,$e.x,$e.y,{halign:Me.styles.halign,valign:Me.styles.valign,maxWidth:Math.ceil(Me.width-Me.padding("left")-Me.padding("right"))},Re.getDocument()),Ce.callCellHooks(Re,Ce.hooks.didDrawCell,Me,je,Oe,Be),Be.x+=Oe.width}Be.y+=je.height}function drawCellRect(Re,Ce,je){var Be=Ce.styles;if(Re.getDocument().setFillColor(Re.getDocument().getFillColor()),typeof Be.lineWidth=="number"){var De=getFillStyle(Be.lineWidth,Be.fillColor);De&&Re.rect(Ce.x,je.y,Ce.width,Ce.height,De)}else typeof Be.lineWidth=="object"&&(Be.fillColor&&Re.rect(Ce.x,je.y,Ce.width,Ce.height,"F"),drawCellBorders(Re,Ce,je,Be.lineWidth))}function drawCellBorders(Re,Ce,je,Be){var De,Fe,ke,Oe;Be.top&&(De=je.x,Fe=je.y,ke=je.x+Ce.width,Oe=je.y,Be.right&&(ke+=.5*Be.right),Be.left&&(De-=.5*Be.left),Me(Be.top,De,Fe,ke,Oe)),Be.bottom&&(De=je.x,Fe=je.y+Ce.height,ke=je.x+Ce.width,Oe=je.y+Ce.height,Be.right&&(ke+=.5*Be.right),Be.left&&(De-=.5*Be.left),Me(Be.bottom,De,Fe,ke,Oe)),Be.left&&(De=je.x,Fe=je.y,ke=je.x,Oe=je.y+Ce.height,Be.top&&(Fe-=.5*Be.top),Be.bottom&&(Oe+=.5*Be.bottom),Me(Be.left,De,Fe,ke,Oe)),Be.right&&(De=je.x+Ce.width,Fe=je.y,ke=je.x+Ce.width,Oe=je.y+Ce.height,Be.top&&(Fe-=.5*Be.top),Be.bottom&&(Oe+=.5*Be.bottom),Me(Be.right,De,Fe,ke,Oe));function Me(Ue,$e,He,Qe,We){Re.getDocument().setLineWidth(Ue),Re.getDocument().line($e,He,Qe,We,"S")}}function getRemainingPageSpace(Re,Ce,je,Be){var De=Ce.settings.margin.bottom,Fe=Ce.settings.showFoot;return(Fe==="everyPage"||Fe==="lastPage"&&je)&&(De+=Ce.getFootHeight(Ce.columns)),Re.pageSize().height-Be.y-De}function addPage(Re,Ce,je,Be,De,Fe){De===void 0&&(De=[]),Fe===void 0&&(Fe=!1),Re.applyStyles(Re.userStyles),Ce.settings.showFoot==="everyPage"&&!Fe&&Ce.foot.forEach(function(Oe){return printRow(Re,Ce,Oe,Be,De)}),Ce.callEndPageHooks(Re,Be);var ke=Ce.settings.margin;addTableBorder(Re,Ce,je,Be),nextPage(Re),Ce.pageNumber++,Be.x=ke.left,Be.y=ke.top,je.y=ke.top,Ce.callWillDrawPageHooks(Re,Be),Ce.settings.showHead==="everyPage"&&(Ce.head.forEach(function(Oe){return printRow(Re,Ce,Oe,Be,De)}),Re.applyStyles(Re.userStyles))}function nextPage(Re){var Ce=Re.pageNumber();Re.setPage(Ce+1);var je=Re.pageNumber();return je===Ce?(Re.addPage(),!0):!1}function applyPlugin(Re){Re.API.autoTable=function(){for(var Ce=[],je=0;je<arguments.length;je++)Ce[je]=arguments[je];var Be=Ce[0],De=parseInput(this,Be),Fe=createTable(this,De);return drawTable(this,Fe),this},Re.API.lastAutoTable=!1,Re.API.autoTableText=function(Ce,je,Be,De){autoTableText(Ce,je,Be,De,this)},Re.API.autoTableSetDefaults=function(Ce){return DocHandler.setDefaults(Ce,this),this},Re.autoTableSetDefaults=function(Ce,je){DocHandler.setDefaults(Ce,je)},Re.API.autoTableHtmlToJson=function(Ce,je){var Be;if(je===void 0&&(je=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var De=new DocHandler(this),Fe=parseHtml(De,Ce,window,je,!1),ke=Fe.head,Oe=Fe.body,Me=((Be=ke[0])===null||Be===void 0?void 0:Be.map(function(Ue){return Ue.content}))||[];return{columns:Me,rows:Oe,data:Oe}}}var _a;function autoTable(Re,Ce){var je=parseInput(Re,Ce),Be=createTable(Re,je);drawTable(Re,Be)}try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a=anyWindow.jspdf)===null||_a===void 0?void 0:_a.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(Re){console.error("Could not apply autoTable plugin",Re)}function MoneyRow({k:Re,v:Ce,bold:je}){return jsxRuntimeExports.jsxs("div",{className:`flex justify-between ${je?"font-semibold text-white":""}`,children:[jsxRuntimeExports.jsx("span",{children:Re}),jsxRuntimeExports.jsxs("span",{children:["",Number(Ce||0).toFixed(2)]})]})}function ProformaSummary({proforma:Re,distributorState:Ce,retailerState:je}){if(!Re)return null;const Be=Re?.taxType==="IGST"?`IGST (Interstate: ${Ce||""}  ${je||""})`:`CGST + SGST (Intrastate: ${Ce||""}  ${je||""})`;return jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-3",children:"Proforma"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[jsxRuntimeExports.jsx(MoneyRow,{k:"SubTotal (precharges)",v:Re?.subTotal}),jsxRuntimeExports.jsx(MoneyRow,{k:"+ Delivery",v:Re?.orderCharges?.delivery}),jsxRuntimeExports.jsx(MoneyRow,{k:"+ Packing",v:Re?.orderCharges?.packing}),jsxRuntimeExports.jsx(MoneyRow,{k:"+ Insurance",v:Re?.orderCharges?.insurance}),jsxRuntimeExports.jsx(MoneyRow,{k:"+ Other",v:Re?.orderCharges?.other}),jsxRuntimeExports.jsx(MoneyRow,{k:" Order Discount",v:Re?.discountTotal}),jsxRuntimeExports.jsx(MoneyRow,{k:"Taxable Base",v:Re?.taxableBase,bold:!0}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Tax Type"}),jsxRuntimeExports.jsx("span",{children:Be})]}),Re?.taxType==="IGST"?jsxRuntimeExports.jsx(MoneyRow,{k:"IGST",v:Re?.taxBreakup?.igst}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(MoneyRow,{k:"CGST",v:Re?.taxBreakup?.cgst}),jsxRuntimeExports.jsx(MoneyRow,{k:"SGST",v:Re?.taxBreakup?.sgst})]}),jsxRuntimeExports.jsx(MoneyRow,{k:"Round Off",v:Re?.roundOff}),jsxRuntimeExports.jsx(MoneyRow,{k:"Grand Total",v:Re?.grandTotal,bold:!0})]})]})}const ORDER_STATUSES=Object.freeze({REQUESTED:"REQUESTED",QUOTED:"QUOTED",ACCEPTED:"ACCEPTED",PACKED:"PACKED",SHIPPED:"SHIPPED",DELIVERED:"DELIVERED",INVOICED:"INVOICED"});Object.freeze([ORDER_STATUSES.REQUESTED,ORDER_STATUSES.QUOTED,ORDER_STATUSES.ACCEPTED,ORDER_STATUSES.PACKED,ORDER_STATUSES.SHIPPED,ORDER_STATUSES.DELIVERED,ORDER_STATUSES.INVOICED]);function AcceptProformaButton({distributorId:Re,retailerId:Ce,orderId:je,disabled:Be,hasProforma:De=!0}){const Fe=getFirestore(),[ke,Oe]=reactExports.useState(!1),[Me,Ue]=reactExports.useState(!1);async function $e(){if(!(Be||ke)){if(!De){y$2.error("No proforma found to accept. Please refresh and try again.");return}Oe(!0);try{const He={statusCode:ORDER_STATUSES.ACCEPTED,status:"Accepted",statusTimestamps:{acceptedAt:serverTimestamp()},updatedAt:serverTimestamp()};await Promise.all([updateDoc(doc(Fe,`businesses/${Ce}/sentOrders/${je}`),He),updateDoc(doc(Fe,`businesses/${Re}/orderRequests/${je}`),He)]),y$2.success("Proforma accepted. The distributor can now proceed to pack/ship."),Ue(!1)}catch(He){console.error("Error accepting proforma:",He),y$2.error("Failed to accept proforma. Please try again.")}finally{Oe(!1)}}}return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>!Be&&De&&Ue(!0),disabled:Be||ke||!De,className:`rounded-lg px-4 py-2 font-semibold text-white ${Be||ke||!De?"bg-emerald-500/60 cursor-not-allowed":"bg-emerald-500/90 hover:bg-emerald-500"}`,title:De?"Accept Proforma":"Proforma not available",children:ke?"Accepting...":"Accept Proforma"}),Me&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[100] grid place-items-center","aria-modal":"true",role:"dialog",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm",onClick:()=>!ke&&Ue(!1)}),jsxRuntimeExports.jsxs("div",{className:"relative z-[101] w-full max-w-md rounded-2xl bg-[#1b2330] border border-white/10 shadow-xl p-6 text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accept this Proforma?"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/80 mb-4",children:"This will lock prices and taxes for this order. The distributor can proceed to packing & shipping."}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>!ke&&Ue(!1),className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15 border border-white/20",disabled:ke,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:$e,disabled:ke,className:`px-4 py-2 rounded-lg font-semibold text-white ${ke?"bg-emerald-500/60 cursor-not-allowed":"bg-emerald-500/90 hover:bg-emerald-500"}`,children:ke?"Accepting...":"Confirm & Accept"})]})]})]})]})}const formatINR=(Re=0)=>{const Ce=Number(Re||0);return new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(Ce)},formatDate=Re=>{let Ce=null;return!Re||(typeof Re?.toDate=="function"?Ce=Re.toDate():Re instanceof Date&&(Ce=Re),!Ce)?"-":new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(Ce)},computeBreakdown=Re=>{const Ce=Re?.proforma||{},je=Array.isArray(Re?.items)?Re.items.reduce((Ke,Xe)=>{const Ye=Xe.price!==void 0&&Xe.price!==null?Number(Xe.price):Number(Xe.unitPrice||0),Ze=Number(Xe.quantity||0);return Ke+Ye*Ze},0):0,Be=[Ce.subtotal,Ce.subTotal,Ce.itemsTotal].find(Ke=>Ke!=null)??je,De=[Ce.discountAmount,Ce.discountTotal,Ce.totalDiscount].find(Ke=>Ke!=null)??0,Fe=Ce.taxBreakup||{},ke=[Ce.cgst,Ce.cgstAmount,Fe.cgst].find(Ke=>Ke!=null)??0,Oe=[Ce.sgst,Ce.sgstAmount,Fe.sgst].find(Ke=>Ke!=null)??0,Me=[Ce.igst,Ce.igstAmount,Fe.igst].find(Ke=>Ke!=null)??0;let Ue=[Ce.taxTotal,Ce.totalTax].find(Ke=>Ke!=null)??ke+Oe+Me;const $e=Ce.orderCharges||{},He=[Ce.shipping,Ce.delivery,Ce.freight,$e.delivery].find(Ke=>Ke!=null)??0,Qe=[Ce.otherCharges,Ce.additionalCharges,$e.packing,$e.insurance,$e.other].find(Ke=>Ke!=null)??0,We=[Ce.rounding,Ce.roundOff,$e.roundOff].find(Ke=>Ke!=null)??0;let qe=[Ce.grandTotal,Ce.totalAmount,Re?.totalAmount].find(Ke=>Ke!=null);if(qe==null&&(qe=Number(Be)-Number(De)+Number(Ue)+Number(He)+Number(Qe)+Number(We)),(Ue==null||Number.isNaN(Number(Ue)))&&qe!==void 0){const Ke=Number(Be)-Number(De)+Number(He)+Number(Qe)+Number(We);Ue=Math.max(0,Number(qe)-Ke)}return{itemsTotal:Number(Be||0),discount:Number(De||0),cgst:Number(ke||0),sgst:Number(Oe||0),igst:Number(Me||0),taxTotal:Number(Ue||0),shipping:Number(He||0),other:Number(Qe||0),rounding:Number(We||0),grand:Number(qe||0)}},OrderStatusTab=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[ke,Oe]=reactExports.useState("All"),[Me,Ue]=reactExports.useState("All Time"),[$e,He]=reactExports.useState(null),[Qe,We]=reactExports.useState(null),[qe,Ke]=reactExports.useState(""),[Xe,Ye]=reactExports.useState("");reactExports.useEffect(()=>{const nr=onAuthStateChanged(auth$2,cr=>{cr&&(He(cr),Ze(cr.uid))});return()=>nr()},[]);const Ze=async nr=>{const cr=collection(db$2,`businesses/${nr}/sentOrders`),fr=(await getDocs(cr)).docs.map(or=>({id:or.id,...or.data()}));Ce(fr),Be(fr)};reactExports.useEffect(()=>{let nr=Re;if(ke!=="All"&&(nr=nr.filter(cr=>cr.status===ke)),De.trim()){const cr=De.toLowerCase();nr=nr.filter(mr=>(mr.distributorId?.toLowerCase()||"").includes(cr)||(mr.id?.toLowerCase()||"").includes(cr)||(mr.distributorName?.toLowerCase()||"").includes(cr)||(mr.distributorCity?.toLowerCase()||"").includes(cr)||(mr.distributorState?.toLowerCase()||"").includes(cr)||(mr.distributorEmail?.toLowerCase()||"").includes(cr))}if(Me==="Today"){const cr=new Date;nr=nr.filter(mr=>{const fr=mr.timestamp?.toDate?.();return fr&&fr.getDate()===cr.getDate()&&fr.getMonth()===cr.getMonth()&&fr.getFullYear()===cr.getFullYear()})}else if(Me==="This Week"){const cr=new Date,mr=new Date(cr);mr.setDate(cr.getDate()-cr.getDay()),nr=nr.filter(fr=>{const or=fr.timestamp?.toDate?.();return or&&or>=mr&&or<=cr})}else if(Me==="Custom Range"&&qe&&Xe){const cr=new Date(qe),mr=new Date(Xe);nr=nr.filter(fr=>{const or=fr.timestamp?.toDate?.();return or&&or>=cr&&or<=mr})}nr=nr.sort((cr,mr)=>{const fr=cr.timestamp?.toDate?.();return mr.timestamp?.toDate?.()-fr}),Be(nr)},[ke,De,Re,Me,qe,Xe]);const Je=nr=>{We(Qe===nr?null:nr)},tr=()=>{const nr=["Order ID","Distributor","Status","Amount","Date"],cr=je.map(Cr=>[Cr.id,Cr.distributorName,Cr.status,formatINR(ir(Cr)),formatDate(Cr.timestamp)]),mr=[nr,...cr].map(Cr=>Cr.join(",")).join(`
`),fr=new Blob([mr],{type:"text/csv"}),or=URL.createObjectURL(fr),yr=document.createElement("a");yr.href=or,yr.download="order-history.csv",yr.click()},rr=()=>{const nr=new E,cr=[["Order ID","Distributor","Status","Amount","Date"]],mr=je.map(fr=>[fr.id,fr.distributorName,fr.status,formatINR(ir(fr)),formatDate(fr.timestamp)]);nr.text("Order History (Retailer)",14,16),autoTable(nr,{startY:20,head:cr,body:mr,styles:{fontSize:8}}),nr.save("order-history.pdf")},ar=(nr,cr)=>{const mr=["Product","Brand","SKU","Qty","Unit","Price"],fr=(nr.items||[]).map(or=>[or.productName||or.name||"",or.brand||"",or.sku,or.quantity,or.unit,`${or.price!==void 0&&or.price!==null?or.price:or.unitPrice||0}`]);if(cr==="pdf"){const or=new E,yr=(vr,Tr)=>`${vr}: ${Tr||""}`,Cr=formatDate(nr.timestamp);or.setFontSize(12),or.text(`Order ID: ${nr.id}`,14,14),or.text(yr("Date",Cr),14,22),or.text(yr("Status",nr.status),14,30),or.text(yr("Payment Mode",nr.paymentMode),14,38),or.text(yr("Order Note",nr.note),14,46),or.text(yr("Distributor",nr.distributorName),14,58),or.text(yr("Distributor Location",`${nr.distributorCity||""}, ${nr.distributorState||""}`),14,66),or.text(yr("Distributor Phone",nr.distributorPhone),14,74),or.text(yr("Distributor Email",nr.distributorEmail),14,82),or.text(yr("Retailer ID",$e?.uid),14,94);const jr=computeBreakdown(nr);or.setFontSize(11),or.text("Amount Breakdown",120,58),autoTable(or,{startY:62,margin:{left:120},head:[["Label","Amount"]],body:[["Items Total",formatINR(jr.itemsTotal)],["Discount",formatINR(-jr.discount)],["CGST",formatINR(jr.cgst)],["SGST",formatINR(jr.sgst)],["IGST",formatINR(jr.igst)],["Other/Shipping",formatINR(jr.shipping+jr.other)],["Rounding",formatINR(jr.rounding)],["Grand Total",formatINR(jr.grand)]],styles:{fontSize:8},headStyles:{fillColor:[240,240,240],textColor:20}}),autoTable(or,{startY:or.lastAutoTable?or.lastAutoTable.finalY+6:102,head:[["Product","Brand","SKU","Qty","Unit","Price"]],body:(nr.items||[]).map(vr=>[vr.productName||vr.name||"",vr.brand||"",vr.sku,vr.quantity,vr.unit,`${vr.price!==void 0&&vr.price!==null?vr.price:vr.unitPrice||0}`]),styles:{fontSize:8}}),or.save(`order-${nr.id}.pdf`)}else if(cr==="csv"||cr==="excel"){const or=computeBreakdown(nr),yr=[[],["Amount Breakdown"],["Items Total",or.itemsTotal],["Discount",-or.discount],["CGST",or.cgst],["SGST",or.sgst],["IGST",or.igst],["Other/Shipping",or.shipping+or.other],["Rounding",or.rounding],["Grand Total",or.grand]],Cr=[mr,...fr,...yr].map(wr=>Array.isArray(wr)?wr.join(","):wr).join(`
`),jr=new Blob([Cr],{type:"text/csv"}),vr=URL.createObjectURL(jr),Tr=document.createElement("a");Tr.href=vr,Tr.download=`order-${nr.id}.${cr==="excel"?"xls":"csv"}`,Tr.click()}},ir=nr=>{const{grand:cr}=computeBreakdown(nr);return cr};return jsxRuntimeExports.jsxs("div",{className:"text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4 justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by distributor or order ID",className:"px-3 py-2 rounded-xl w-1/3 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:De,onChange:nr=>Fe(nr.target.value)}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:ke,onChange:nr=>Oe(nr.target.value),children:[jsxRuntimeExports.jsx("option",{children:"All"}),jsxRuntimeExports.jsx("option",{children:"Requested"}),jsxRuntimeExports.jsx("option",{children:"Quoted"}),jsxRuntimeExports.jsx("option",{children:"Accepted"}),jsxRuntimeExports.jsx("option",{children:"Rejected"}),jsxRuntimeExports.jsx("option",{children:"Modified"})]}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:Me,onChange:nr=>Ue(nr.target.value),children:[jsxRuntimeExports.jsx("option",{children:"All Time"}),jsxRuntimeExports.jsx("option",{children:"Today"}),jsxRuntimeExports.jsx("option",{children:"This Week"}),jsxRuntimeExports.jsx("option",{children:"Custom Range"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:tr,className:"px-3 py-2 rounded-xl text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:"Export CSV"}),jsxRuntimeExports.jsx("button",{onClick:rr,className:"px-3 py-2 rounded-xl text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:"Export PDF"})]})]}),Me==="Custom Range"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 items-center mb-4",children:[jsxRuntimeExports.jsx("label",{children:"From:"}),jsxRuntimeExports.jsx("input",{type:"date",value:qe,onChange:nr=>Ke(nr.target.value),className:"px-2 py-1 rounded-xl bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("label",{children:"To:"}),jsxRuntimeExports.jsx("input",{type:"date",value:Xe,onChange:nr=>Ye(nr.target.value),className:"px-2 py-1 rounded-xl bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("table",{className:"min-w-full rounded-xl overflow-hidden bg-white/5 backdrop-blur-xl border border-white/10 text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-white/10 text-left text-white/80",children:[jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10",children:"Order ID"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10",children:"Distributor (Name)"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10",children:"Date"})]})}),jsxRuntimeExports.jsx("tbody",{children:je.map(nr=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{onClick:()=>Je(nr.id),className:"cursor-pointer hover:bg-white/10",children:[jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10",children:nr.id}),jsxRuntimeExports.jsxs("td",{className:"p-2 border border-white/10",children:[jsxRuntimeExports.jsx("div",{children:nr.distributorName||""}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-white/60",children:[nr.distributorCity||"",", ",nr.distributorState||""]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white/40",children:nr.distributorId})]}),jsxRuntimeExports.jsxs("td",{className:"p-2 border border-white/10",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold ${nr.status==="Accepted"?"bg-emerald-400/20 text-emerald-300 border border-emerald-300/30":nr.status==="Rejected"?"bg-rose-400/20 text-rose-300 border border-rose-300/30":nr.status==="Modified"?"bg-amber-400/20 text-amber-300 border border-amber-300/30":nr.status==="Quoted"?"bg-yellow-400/20 text-yellow-300 border border-yellow-300/30":"bg-white/10 text-white/70 border border-white/15"}`,children:nr.status}),nr.status==="Rejected"&&nr.rejectionNote&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-rose-300 mt-1",children:["Reason: ",nr.rejectionNote]})]}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10",children:formatINR(ir(nr))}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10",children:formatDate(nr.timestamp)})]}),Qe===nr.id&&jsxRuntimeExports.jsx("tr",{className:"bg-white/5",children:jsxRuntimeExports.jsxs("td",{colSpan:"5",className:"p-4 border border-white/10",children:[nr.status==="Quoted"&&nr.proforma&&jsxRuntimeExports.jsxs("div",{className:"mb-4 space-y-3",children:[jsxRuntimeExports.jsx(ProformaSummary,{proforma:nr.proforma,distributorState:nr.distributorState,retailerState:nr.retailerState}),jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx(AcceptProformaButton,{distributorId:nr.distributorId,retailerId:$e?.uid,orderId:nr.id,hasProforma:!!nr.proforma})})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-white/10 bg-white/5 p-3",children:[jsxRuntimeExports.jsx("div",{className:"text-white/80 text-sm mb-2 font-semibold",children:"Amount Breakdown"}),(()=>{const cr=computeBreakdown(nr);return jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Items Total"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.itemsTotal)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Discount"}),jsxRuntimeExports.jsxs("span",{children:["-",formatINR(cr.discount)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"CGST"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.cgst)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"SGST"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.sgst)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"IGST"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.igst)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-medium text-white/90",children:[jsxRuntimeExports.jsx("span",{children:"Tax Total"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.taxTotal||cr.cgst+cr.sgst+cr.igst)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Other/Shipping"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.shipping+cr.other)})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Rounding"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.rounding)})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-white/10 my-2"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-semibold text-emerald-300",children:[jsxRuntimeExports.jsx("span",{children:"Grand Total"}),jsxRuntimeExports.jsx("span",{children:formatINR(cr.grand)})]}),jsxRuntimeExports.jsx("div",{className:"text-[11px] text-white/50 mt-1",children:"Formula: Items Total - Discount + CGST + SGST + IGST + Other/Shipping + Rounding = Grand Total"})]})})()]})}),jsxRuntimeExports.jsxs("div",{className:"text-sm mb-2 text-white/80",children:[jsxRuntimeExports.jsx("strong",{children:"Order Note:"})," ",nr.note||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",nr.paymentMode||"",jsxRuntimeExports.jsx("br",{}),nr.status==="Rejected"&&nr.rejectionNote&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("strong",{children:"Rejection Reason:"})," ",nr.rejectionNote,jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsx("strong",{children:"Items:"}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Distributor Info:"})," ",nr.distributorCity||"N/A",", ",nr.distributorState||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",nr.distributorPhone||"",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",nr.distributorEmail||"",jsxRuntimeExports.jsx("br",{})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ar(nr,"pdf"),className:"px-3 py-1 rounded-lg text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"PDF"}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(nr,"csv"),className:"px-3 py-1 rounded-lg text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>ar(nr,"excel"),className:"px-3 py-1 rounded-lg text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"Excel"})]}),jsxRuntimeExports.jsxs("table",{className:"w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/10",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-1 border",children:"Price"})]})}),jsxRuntimeExports.jsx("tbody",{children:(nr.items||[]).map((cr,mr)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"p-1 border",children:cr.productName||cr.name||""}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:cr.brand||""}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:cr.sku}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:cr.quantity}),jsxRuntimeExports.jsx("td",{className:"p-1 border",children:cr.unit}),jsxRuntimeExports.jsxs("td",{className:"p-1 border",children:["",cr.price!==void 0&&cr.price!==null?cr.price:cr.unitPrice||0]})]},mr))})]})]})})]},nr.id))})]})]})},byteToHex=[];for(let Re=0;Re<256;++Re)byteToHex.push((Re+256).toString(16).slice(1));function unsafeStringify(Re,Ce=0){return(byteToHex[Re[Ce+0]]+byteToHex[Re[Ce+1]]+byteToHex[Re[Ce+2]]+byteToHex[Re[Ce+3]]+"-"+byteToHex[Re[Ce+4]]+byteToHex[Re[Ce+5]]+"-"+byteToHex[Re[Ce+6]]+byteToHex[Re[Ce+7]]+"-"+byteToHex[Re[Ce+8]]+byteToHex[Re[Ce+9]]+"-"+byteToHex[Re[Ce+10]]+byteToHex[Re[Ce+11]]+byteToHex[Re[Ce+12]]+byteToHex[Re[Ce+13]]+byteToHex[Re[Ce+14]]+byteToHex[Re[Ce+15]]).toLowerCase()}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");getRandomValues=crypto.getRandomValues.bind(crypto)}return getRandomValues(rnds8)}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(Re,Ce,je){if(native.randomUUID&&!Re)return native.randomUUID();Re=Re||{};const Be=Re.random??Re.rng?.()??rng();if(Be.length<16)throw new Error("Random bytes length must be >= 16");return Be[6]=Be[6]&15|64,Be[8]=Be[8]&63|128,unsafeStringify(Be)}const AddDeliveredItemsToInventory=({order:Re,onClose:Ce})=>{const je=getAuth(),[Be,De]=reactExports.useState((Re.items||[]).map($e=>({...$e,sellingPrice:"",category:$e.category||"",brand:$e.brand||"",imageFile:null,imageUrl:"",sku:$e.sku||"",unit:$e.unit||""}))),[Fe,ke]=reactExports.useState(!1),Oe=($e,He,Qe)=>{const We=[...Be];We[$e][He]=Qe,De(We)},Me=($e,He)=>{const Qe=[...Be];Qe[$e].imageFile=He,De(Qe)},Ue=async()=>{ke(!0);try{const $e=Be.map(async(Qe,We)=>{let qe="";if(Qe.imageFile){const tr=ref(storage,`products/${v4()}`);await uploadBytes(tr,Qe.imageFile),qe=await getDownloadURL(tr)}const Ke=v4(),Xe={name:Qe.productName||Qe.name||`Product ${We+1}`,sku:Qe.sku||`SKU-${v4().slice(0,6)}`,quantity:Number(Qe.quantity||0),unit:Qe.unit||"unit",costPrice:Number(Qe.price||0),sellingPrice:Number(Qe.sellingPrice||0),brand:Qe.brand||"",category:Qe.category||"",imageUrl:qe,distributorPrice:Number(Qe.price||0),sourceOrderId:Re.id,createdAt:serverTimestamp()};console.log("Saving product to inventory:",Xe);const Ye=collection(db$2,"businesses",je.currentUser.uid,"products"),Ze=query(Ye,where("name","==",Xe.name),where("brand","==",Xe.brand)),Je=await getDocs(Ze);if(Je.empty)await setDoc(doc(Ye,Ke),Xe),console.log("Created new product:",Ke);else{const tr=Je.docs[0],rr=tr.data(),ar=Number(rr.quantity||0)+Number(Xe.quantity);await updateDoc(tr.ref,{quantity:ar,costPrice:Xe.costPrice,sellingPrice:Xe.sellingPrice,lastUpdatedFromOrder:Re.id}),console.log("Updated existing product:",tr.id)}});await Promise.all($e),console.log("All products saved successfully.");const He=doc(db$2,"businesses",je.currentUser.uid,"sentOrders",Re.id);await updateDoc(He,{inventorySynced:!0,"statusTimestamps.inventorySyncedAt":serverTimestamp()}),alert("Items added to inventory!"),Ce()}catch($e){console.error("Inventory addition failed:",$e),alert("Failed to add items.")}finally{ke(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Delivered Items to Inventory"}),Be.map(($e,He)=>jsxRuntimeExports.jsxs("div",{className:"border p-3 mb-3 rounded-md",children:[jsxRuntimeExports.jsx("p",{children:jsxRuntimeExports.jsx("strong",{children:$e.productName||$e.name})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Quantity"}),jsxRuntimeExports.jsx("input",{value:$e.quantity,disabled:!0,className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Distributor Price"}),jsxRuntimeExports.jsx("input",{value:$e.price,disabled:!0,className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Selling Price"}),jsxRuntimeExports.jsx("input",{type:"number",value:$e.sellingPrice,onChange:Qe=>Oe(He,"sellingPrice",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Brand"}),jsxRuntimeExports.jsx("input",{value:$e.brand,onChange:Qe=>Oe(He,"brand",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Category"}),jsxRuntimeExports.jsx("input",{value:$e.category,onChange:Qe=>Oe(He,"category",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Upload Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Qe=>Me(He,Qe.target.files[0])})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"Unit"}),jsxRuntimeExports.jsx("input",{value:$e.unit,onChange:Qe=>Oe(He,"unit",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{children:"SKU"}),jsxRuntimeExports.jsx("input",{value:$e.sku,onChange:Qe=>Oe(He,"sku",Qe.target.value),className:"w-full border px-2 py-1 rounded"})]})]})]},He)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{onClick:Ce,className:"bg-gray-400 text-white px-4 py-2 rounded",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Ue,disabled:Fe,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:Fe?"Adding...":"Add to Inventory"})]})]})},TrackOrderTab=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState(!0),[De,Fe]=reactExports.useState("All"),[ke,Oe]=reactExports.useState(null),[Me,Ue]=reactExports.useState(null),$e=getAuth(),He=getFirestore(),Qe=Ke=>{if(!Ke)return"Not specified";if(Ke?.seconds)return new Date(Ke.seconds*1e3).toLocaleDateString();if(Ke instanceof Date)return Ke.toLocaleDateString();if(typeof Ke=="string"){if(/^\d{4}-\d{2}-\d{2}$/.test(Ke)){const Xe=new Date(Ke+"T00:00:00");return isNaN(Xe.getTime())?Ke:Xe.toLocaleDateString()}return Ke}try{const Xe=new Date(Ke);return isNaN(Xe.getTime())?"Not specified":Xe.toLocaleDateString()}catch{return"Not specified"}};reactExports.useEffect(()=>{(()=>{const Xe=$e.currentUser;if(!Xe)return;const Ye=query(collection(He,"businesses",Xe.uid,"sentOrders")),Ze=onSnapshot(Ye,Je=>{const tr=Je.docs.map(rr=>({id:rr.id,...rr.data()})).sort((rr,ar)=>ar.timestamp?.seconds-rr.timestamp?.seconds);Ce(tr),Be(!1)});return()=>Ze()})()},[$e]);const We=De==="All"?Re:Re.filter(Ke=>Ke.status===De),qe=["Requested","Quoted","Accepted","Modified","Shipped","Delivered"];return jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"mr-2 font-semibold text-white/80",children:"Filter by Status:"}),jsxRuntimeExports.jsxs("select",{value:De,onChange:Ke=>Fe(Ke.target.value),className:"px-2 py-1 rounded-xl bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",children:[jsxRuntimeExports.jsx("option",{children:"All"}),jsxRuntimeExports.jsx("option",{children:"Requested"}),jsxRuntimeExports.jsx("option",{children:"Quoted"}),jsxRuntimeExports.jsx("option",{children:"Accepted"}),jsxRuntimeExports.jsx("option",{children:"Rejected"}),jsxRuntimeExports.jsx("option",{children:"Pending"}),jsxRuntimeExports.jsx("option",{children:"Modified"}),jsxRuntimeExports.jsx("option",{children:"Delivered"})]})]}),je?jsxRuntimeExports.jsx("p",{className:"text-white/80",children:"Loading orders..."}):We.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"No orders found for this filter."}):jsxRuntimeExports.jsxs("table",{className:"w-full table-auto rounded-xl overflow-hidden bg-white/5 backdrop-blur-xl border border-white/10",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-white/10 text-white/80",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border border-white/10",children:"Distributor"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border border-white/10",children:"Order Date"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border border-white/10",children:"Items"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border border-white/10",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border border-white/10",children:"Delivery ETA"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border border-white/10",children:"Progress"})]})}),jsxRuntimeExports.jsx("tbody",{children:We.map(Ke=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{onClick:()=>Oe(Xe=>Xe===Ke.id?null:Ke.id),className:"cursor-pointer hover:bg-white/10",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2 border border-white/10",children:Ke.distributorName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 border border-white/10",children:Ke.timestamp?.toDate().toLocaleString()||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 border border-white/10",children:Ke.items?.length||0}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 border border-white/10 font-medium",children:[Ke.status,Ke.status==="Rejected"&&Ke.rejectionNote&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-rose-300 mt-1",children:["Reason: ",Ke.rejectionNote]})]}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 border border-white/10",children:Qe(Ke.expectedDeliveryDate||Ke.eta)}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 border border-white/10",children:Ke.status==="Rejected"?jsxRuntimeExports.jsxs("div",{className:"flex gap-1 text-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-emerald-400 font-semibold",children:"Requested"}),jsxRuntimeExports.jsx("span",{children:""}),jsxRuntimeExports.jsx("span",{className:"text-rose-400 font-semibold",children:"Rejected"})]}):jsxRuntimeExports.jsx("div",{className:"flex gap-1 text-xs",children:qe.map((Xe,Ye)=>{const Ze=qe.indexOf(Ke.status);return jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:Ze===Ye?"text-emerald-300 font-semibold":Ze>Ye?"text-emerald-400 font-semibold":"text-white/40",children:Xe}),Ye!==qe.length-1&&jsxRuntimeExports.jsx("span",{children:""})]},Ye)})})})]}),ke===Ke.id&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"p-4 bg-white/5",children:jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/80",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",Ke.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Name:"})," ",Ke.distributorName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Email:"})," ",Ke.distributorEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Phone:"})," ",Ke.distributorPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distributor Address:"})," ",Ke.distributorAddress||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Mode:"})," ",Ke.paymentMode||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Note:"})," ",Ke.note||""]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery ETA:"})," ",Qe(Ke.expectedDeliveryDate||Ke.eta)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Status:"})," ",Ke.status]}),Ke.statusTimestamps&&jsxRuntimeExports.jsxs("div",{className:"mt-2 space-y-1 text-sm text-white/80",children:[Ke.statusTimestamps.requestedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Requested At:"})," ",new Date(Ke.statusTimestamps.requestedAt.seconds*1e3).toLocaleString()]}),Ke.statusTimestamps.acceptedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Accepted At:"})," ",new Date(Ke.statusTimestamps.acceptedAt.seconds*1e3).toLocaleString()]}),Ke.statusTimestamps.modifiedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Modified At:"})," ",new Date(Ke.statusTimestamps.modifiedAt.seconds*1e3).toLocaleString()]}),Ke.statusTimestamps.shippedAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Shipped At:"})," ",new Date(Ke.statusTimestamps.shippedAt.seconds*1e3).toLocaleString()]}),Ke.statusTimestamps.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered At:"})," ",new Date(Ke.statusTimestamps.deliveredAt.seconds*1e3).toLocaleString()]})]}),Ke.proforma&&jsxRuntimeExports.jsxs("div",{className:"mb-4 space-y-3",children:[jsxRuntimeExports.jsx(ProformaSummary,{proforma:Ke.proforma,distributorState:Ke.distributorState,retailerState:Ke.retailerState}),Ke.status==="Quoted"&&jsxRuntimeExports.jsx("div",{className:"flex gap-2",children:jsxRuntimeExports.jsx(AcceptProformaButton,{distributorId:Ke.distributorId,retailerId:$e.currentUser?.uid,orderId:Ke.id,hasProforma:!!Ke.proforma})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("strong",{children:"Products:"}),jsxRuntimeExports.jsxs("table",{className:"w-full mt-2 text-sm rounded-lg overflow-hidden border border-white/10 bg-white/5 backdrop-blur-xl",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/10",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-1 text-left border border-white/10",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(Ke.items||[]).map((Xe,Ye)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-1 border border-white/10",children:Xe.name||Xe.productName||""}),jsxRuntimeExports.jsx("td",{className:"px-3 py-1 border border-white/10",children:Xe.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-3 py-1 border border-white/10",children:Xe.category||""}),jsxRuntimeExports.jsx("td",{className:"px-3 py-1 border border-white/10",children:Xe.quantity}),jsxRuntimeExports.jsx("td",{className:"px-3 py-1 border border-white/10",children:Xe.unit}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-1 border border-white/10",children:["",parseFloat(Xe.price||Xe.unitPrice||Xe.sellingPrice||0).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-1 border border-white/10",children:["",(parseFloat(Xe.price||Xe.unitPrice||Xe.sellingPrice||0)*parseFloat(Xe.quantity||0)).toFixed(2)]})]},Ye))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 font-semibold text-white",children:["Total Price: ",(Ke.items||[]).reduce((Xe,Ye)=>{const Ze=parseFloat(Ye.price||Ye.unitPrice||Ye.sellingPrice||0),Je=parseFloat(Ye.quantity||0);return Xe+Ze*Je},0).toFixed(2)]}),Ke.status==="Delivered"&&(Ke.inventorySynced?jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-2 rounded-xl bg-white/20 text-white/80 cursor-not-allowed",disabled:!0,children:" Added to Inventory"}):jsxRuntimeExports.jsx("button",{className:"mt-3 px-4 py-2 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",onClick:()=>Ue(Ke),children:"Add Items to Inventory"}))]})})})]},Ke.id))})]}),Me&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:jsxRuntimeExports.jsx("div",{className:"rounded-xl w-11/12 max-w-3xl p-4 overflow-y-auto max-h-[90vh] border border-white/10 bg-[#0B0F14]/90 backdrop-blur-xl text-white shadow-[0_12px_40px_rgba(0,0,0,0.5)]",children:jsxRuntimeExports.jsx(AddDeliveredItemsToInventory,{order:Me,onClose:()=>Ue(null),onSuccess:()=>{y$2.success("Items successfully added to inventory!"),Ue(null)}})})})]})},InvoicePreviewModal=({invoice:Re,onClose:Ce})=>{if(!Re)return null;const je=Re.proforma||{},Be=je.orderCharges||{},De=je?.taxBreakup||{},Fe=(yr=0)=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:2}).format(Number(yr||0)),ke=yr=>{if(!yr)return"-";let Cr=null;return typeof yr?.toDate=="function"?Cr=yr.toDate():typeof yr?.seconds=="number"?Cr=new Date(yr.seconds*1e3):yr instanceof Date&&(Cr=yr),Cr?new Intl.DateTimeFormat("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}).format(Cr):"-"},Oe=Array.isArray(je?.lines)?je.lines:[],Me=yr=>Number(yr||0)===0,Ue=(...yr)=>yr.find(Cr=>typeof Cr=="string"&&Cr.trim().length)||null,He=((...yr)=>yr.find(Cr=>Cr&&typeof Cr=="object")||{})(Re.retailer,je.retailer,je.customer,je.buyer),Qe=Ue(Re.retailerBusinessName,Re.retailerName,Re.customerName,Re.buyerName,He.businessName,He.name),We=Ue(Re.retailerEmail,Re.customerEmail,Re.buyerEmail,He.email),qe=Ue(Re.retailerPhone,Re.customerPhone,Re.buyerPhone,He.phone,He.mobile),Ke=Ue(Re.retailerAddress,Re.customerAddress,He.address,He.addressLine1),Xe=Ue(He.addressLine2),Ye=Ue(Re.retailerCity,He.city),Ze=Ue(Re.retailerState,He.state),Je=Ue(Re.retailerPincode,He.pincode,He.pinCode),rr=[Ke,Xe,Ye&&Ze?`${Ye}, ${Ze}`:Ye||Ze,Je].filter(Boolean).join(", ")||null,ar=Ue(Re.retailerGST,Re.retailerGSTIN,He.gst,He.gstin),ir={name:Qe||"- ",email:We||"- ",phone:qe||"- ",address:rr||"- ",gst:ar||null},nr=Number(je?.taxBreakup?.taxableBase||Be?.subTotal||0),cr=yr=>{const Cr=Number(yr||0);return!nr||nr<=0?0:Math.round(Cr/nr*1e4)/100},mr=typeof De?.cgst<"u"?cr(De.cgst):null,fr=typeof De?.sgst<"u"?cr(De.sgst):null,or=typeof De?.igst<"u"?cr(De.igst):null;return reactExports.useEffect(()=>{const yr=document.body.style.overflow;document.body.style.overflow="hidden";const Cr=jr=>{jr.key==="Escape"&&Ce?.()};return window.addEventListener("keydown",Cr),()=>{window.removeEventListener("keydown",Cr),document.body.style.overflow=yr}},[Ce]),ReactDOM.createPortal(jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[9999] isolate flex items-center justify-center p-4 md:p-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:Ce}),jsxRuntimeExports.jsxs("div",{className:"relative w-[92vw] max-w-4xl max-h-[85vh] overflow-hidden rounded-2xl border border-white/10 bg-[#0F1216] text-white shadow-[0_10px_50px_rgba(0,0,0,0.65)]",onClick:yr=>yr.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-10 flex items-center justify-between border-b border-white/10 bg-[#0F1216] px-5 py-4",children:[jsxRuntimeExports.jsx("div",{className:"text-base font-semibold text-emerald-300",children:" Invoice Preview"}),jsxRuntimeExports.jsx("button",{onClick:Ce,className:"rounded-full px-3 text-2xl leading-none text-white hover:text-emerald-300","aria-label":"Close",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-5 overflow-y-auto px-5 py-5 pb-8 md:px-6 md:py-6 md:pb-10",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-white/10 bg-[#0f151a] p-4 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-xs uppercase tracking-wide text-white/60",children:"Sold By"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-white/90",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Name:"})," ",Re.distributorName||"-"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Email:"})," ",Re.distributorEmail||"-"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Phone:"})," ",Re.distributorPhone||"-"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"City/State:"})," ",Re.distributorCity||"-",Re.distributorState?`, ${Re.distributorState}`:""]}),Re.distributorGST&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"GSTIN:"})," ",Re.distributorGST]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-white/10 bg-[#0f151a] p-4 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-xs uppercase tracking-wide text-white/60",children:"Sold To"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-white/90",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Name:"})," ",ir.name]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Email:"})," ",ir.email]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Phone:"})," ",ir.phone]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Address:"})," ",ir.address]}),ir.gst&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"GSTIN:"})," ",ir.gst]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-white/10 bg-[#0f151a] p-4 text-sm",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-xs uppercase tracking-wide text-white/60",children:"Order"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-white/90",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Order ID:"})," ",Re.id||"-"]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Date:"})," ",ke(je?.date)]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Payment Mode:"})," ",Re.paymentMode||"-"]}),Re.soldByUser&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Sold By (User):"})," ",Re.soldByUser]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-hidden rounded-xl border border-white/10",children:jsxRuntimeExports.jsx("div",{className:"max-h-[34vh] overflow-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-left text-sm text-white/90",children:[jsxRuntimeExports.jsx("thead",{className:"sticky top-0 bg-[#131a20] text-xs uppercase tracking-wide text-emerald-300",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"border-b border-white/10 px-3 py-2",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"border-b border-white/10 px-3 py-2 text-right",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"border-b border-white/10 px-3 py-2 text-right",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"border-b border-white/10 px-3 py-2 text-right",children:"Subtotal"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Oe.map((yr,Cr)=>jsxRuntimeExports.jsxs("tr",{className:Cr%2?"bg-[#10161b]":"bg-transparent",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2 align-top",children:yr?.name||"-"}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-right align-top",children:yr?.qty??"-"}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-right align-top",children:Fe(yr?.price)}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-right align-top",children:Fe(yr?.gross)})]},Cr)),Oe.length===0&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{className:"px-3 py-4 text-center text-white/60",colSpan:4,children:"No items"})})]})]})})}),jsxRuntimeExports.jsx("div",{className:"rounded-lg border border-white/10 bg-[#0f151a] p-4 text-sm text-white/90 mb-1",children:jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx(Row$1,{label:"Subtotal",value:Fe(Be?.subTotal),dim:Me(Be?.subTotal)}),jsxRuntimeExports.jsx(Row$1,{label:"Delivery",value:Fe(Be?.delivery),dim:Me(Be?.delivery)}),jsxRuntimeExports.jsx(Row$1,{label:"Packing",value:Fe(Be?.packing),dim:Me(Be?.packing)}),jsxRuntimeExports.jsx(Row$1,{label:"Insurance",value:Fe(Be?.insurance),dim:Me(Be?.insurance)}),typeof Be?.other<"u"&&jsxRuntimeExports.jsx(Row$1,{label:"Other",value:Fe(Be?.other),dim:Me(Be?.other)}),typeof Be?.roundOff<"u"&&jsxRuntimeExports.jsx(Row$1,{label:"Round Off",value:Fe(Be?.roundOff),dim:Me(Be?.roundOff)}),jsxRuntimeExports.jsx("div",{className:"mt-3 border-t border-white/10 pt-3"}),typeof De?.cgst<"u"&&jsxRuntimeExports.jsx(Row$1,{label:`CGST${mr!==null?` (${mr}%)`:""}`,value:Fe(De?.cgst),dim:Me(De?.cgst)}),typeof De?.sgst<"u"&&jsxRuntimeExports.jsx(Row$1,{label:`SGST${fr!==null?` (${fr}%)`:""}`,value:Fe(De?.sgst),dim:Me(De?.sgst)}),typeof De?.igst<"u"&&jsxRuntimeExports.jsx(Row$1,{label:`IGST${or!==null?` (${or}%)`:""}`,value:Fe(De?.igst),dim:Me(De?.igst)}),jsxRuntimeExports.jsx("div",{className:"mt-3 border-t border-white/10 pt-3"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between text-lg font-bold text-emerald-400",children:[jsxRuntimeExports.jsx("span",{children:"Grand Total"}),jsxRuntimeExports.jsx("span",{children:Fe(je?.grandTotal)})]})]})})]})]})]}),document.body)},Row$1=({label:Re,value:Ce,dim:je})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70 "+(je?"opacity-60":""),children:Re}),jsxRuntimeExports.jsx("span",{className:"font-medium "+(je?"opacity-60":""),children:Ce})]}),RetailerInvoiceTab=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState(!0),[De,Fe]=reactExports.useState(null);return reactExports.useEffect(()=>{(async()=>{onAuthStateChanged(auth$2,async Oe=>{if(!Oe)return;const Me=query(collection(db$2,"businesses",Oe.uid,"sentOrders"),where("status","==","Delivered")),$e=(await getDocs(Me)).docs.map(He=>({id:He.id,...He.data()})).filter(He=>!!He.proforma);Ce($e),Be(!1)})})()},[]),je?jsxRuntimeExports.jsx("div",{className:"text-white p-4",children:"Loading invoices..."}):jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"My Invoices"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Re.map(ke=>jsxRuntimeExports.jsxs("div",{className:"bg-white/5 border border-white/10 p-4 rounded shadow",children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-lg",children:ke.distributorName||"Distributor"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-300",children:["Order ID: ",ke.id]}),jsxRuntimeExports.jsxs("div",{className:"text-sm",children:["Date: ",new Date(ke.proforma?.date?.seconds*1e3).toLocaleDateString("en-IN")]}),jsxRuntimeExports.jsxs("div",{className:"text-sm font-medium",children:["Grand Total: ",ke.proforma?.grandTotal?.toFixed(2)||"0.00"]}),jsxRuntimeExports.jsx("button",{onClick:()=>Fe(ke),className:"mt-2 text-sm underline text-cyan-400 hover:text-cyan-300",children:"View Invoice"})]},ke.id))}),De&&jsxRuntimeExports.jsx(InvoicePreviewModal,{invoice:De,onClose:()=>Fe(null)})]})},RetailerOrderHistory=()=>{const[Re,Ce]=reactExports.useState("status");return jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Order History"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ce("status"),className:`px-4 py-2 rounded-xl transition ${Re==="status"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:" Order Status"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("track"),className:`px-4 py-2 rounded-xl transition ${Re==="track"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:" Track Orders"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("invoice"),className:`px-4 py-2 rounded-xl transition ${Re==="invoice"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:" Invoices"})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_30px_rgba(0,0,0,0.35)]",children:[Re==="status"&&jsxRuntimeExports.jsx(OrderStatusTab,{}),Re==="track"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(TrackOrderTab,{}),jsxRuntimeExports.jsx("p",{className:"text-white/70 text-sm mt-4 ml-1",children:"Track order status across: Requested  Accepted/Rejected/Modified  Shipped  Delivered"})]}),Re==="invoice"&&jsxRuntimeExports.jsx(RetailerInvoiceTab,{})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function round$3(Re){return Re+.5|0}const lim=(Re,Ce,je)=>Math.max(Math.min(Re,je),Ce);function p2b(Re){return lim(round$3(Re*2.55),0,255)}function n2b(Re){return lim(round$3(Re*255),0,255)}function b2n(Re){return lim(round$3(Re/2.55)/100,0,1)}function n2p(Re){return lim(round$3(Re*100),0,100)}const map$1$1={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex$1=[..."0123456789ABCDEF"],h1=Re=>hex$1[Re&15],h2=Re=>hex$1[(Re&240)>>4]+hex$1[Re&15],eq$1=Re=>(Re&240)>>4===(Re&15),isShort=Re=>eq$1(Re.r)&&eq$1(Re.g)&&eq$1(Re.b)&&eq$1(Re.a);function hexParse(Re){var Ce=Re.length,je;return Re[0]==="#"&&(Ce===4||Ce===5?je={r:255&map$1$1[Re[1]]*17,g:255&map$1$1[Re[2]]*17,b:255&map$1$1[Re[3]]*17,a:Ce===5?map$1$1[Re[4]]*17:255}:(Ce===7||Ce===9)&&(je={r:map$1$1[Re[1]]<<4|map$1$1[Re[2]],g:map$1$1[Re[3]]<<4|map$1$1[Re[4]],b:map$1$1[Re[5]]<<4|map$1$1[Re[6]],a:Ce===9?map$1$1[Re[7]]<<4|map$1$1[Re[8]]:255})),je}const alpha$2=(Re,Ce)=>Re<255?Ce(Re):"";function hexString(Re){var Ce=isShort(Re)?h1:h2;return Re?"#"+Ce(Re.r)+Ce(Re.g)+Ce(Re.b)+alpha$2(Re.a,Ce):void 0}const HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(Re,Ce,je){const Be=Ce*Math.min(je,1-je),De=(Fe,ke=(Fe+Re/30)%12)=>je-Be*Math.max(Math.min(ke-3,9-ke,1),-1);return[De(0),De(8),De(4)]}function hsv2rgbn(Re,Ce,je){const Be=(De,Fe=(De+Re/60)%6)=>je-je*Ce*Math.max(Math.min(Fe,4-Fe,1),0);return[Be(5),Be(3),Be(1)]}function hwb2rgbn(Re,Ce,je){const Be=hsl2rgbn(Re,1,.5);let De;for(Ce+je>1&&(De=1/(Ce+je),Ce*=De,je*=De),De=0;De<3;De++)Be[De]*=1-Ce-je,Be[De]+=Ce;return Be}function hueValue(Re,Ce,je,Be,De){return Re===De?(Ce-je)/Be+(Ce<je?6:0):Ce===De?(je-Re)/Be+2:(Re-Ce)/Be+4}function rgb2hsl(Re){const je=Re.r/255,Be=Re.g/255,De=Re.b/255,Fe=Math.max(je,Be,De),ke=Math.min(je,Be,De),Oe=(Fe+ke)/2;let Me,Ue,$e;return Fe!==ke&&($e=Fe-ke,Ue=Oe>.5?$e/(2-Fe-ke):$e/(Fe+ke),Me=hueValue(je,Be,De,$e,Fe),Me=Me*60+.5),[Me|0,Ue||0,Oe]}function calln(Re,Ce,je,Be){return(Array.isArray(Ce)?Re(Ce[0],Ce[1],Ce[2]):Re(Ce,je,Be)).map(n2b)}function hsl2rgb$1(Re,Ce,je){return calln(hsl2rgbn,Re,Ce,je)}function hwb2rgb(Re,Ce,je){return calln(hwb2rgbn,Re,Ce,je)}function hsv2rgb(Re,Ce,je){return calln(hsv2rgbn,Re,Ce,je)}function hue(Re){return(Re%360+360)%360}function hueParse(Re){const Ce=HUE_RE.exec(Re);let je=255,Be;if(!Ce)return;Ce[5]!==Be&&(je=Ce[6]?p2b(+Ce[5]):n2b(+Ce[5]));const De=hue(+Ce[2]),Fe=+Ce[3]/100,ke=+Ce[4]/100;return Ce[1]==="hwb"?Be=hwb2rgb(De,Fe,ke):Ce[1]==="hsv"?Be=hsv2rgb(De,Fe,ke):Be=hsl2rgb$1(De,Fe,ke),{r:Be[0],g:Be[1],b:Be[2],a:je}}function rotate(Re,Ce){var je=rgb2hsl(Re);je[0]=hue(je[0]+Ce),je=hsl2rgb$1(je),Re.r=je[0],Re.g=je[1],Re.b=je[2]}function hslString(Re){if(!Re)return;const Ce=rgb2hsl(Re),je=Ce[0],Be=n2p(Ce[1]),De=n2p(Ce[2]);return Re.a<255?`hsla(${je}, ${Be}%, ${De}%, ${b2n(Re.a)})`:`hsl(${je}, ${Be}%, ${De}%)`}const map$2={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names$1={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function unpack(){const Re={},Ce=Object.keys(names$1),je=Object.keys(map$2);let Be,De,Fe,ke,Oe;for(Be=0;Be<Ce.length;Be++){for(ke=Oe=Ce[Be],De=0;De<je.length;De++)Fe=je[De],Oe=Oe.replace(Fe,map$2[Fe]);Fe=parseInt(names$1[ke],16),Re[Oe]=[Fe>>16&255,Fe>>8&255,Fe&255]}return Re}let names;function nameParse(Re){names||(names=unpack(),names.transparent=[0,0,0,0]);const Ce=names[Re.toLowerCase()];return Ce&&{r:Ce[0],g:Ce[1],b:Ce[2],a:Ce.length===4?Ce[3]:255}}const RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(Re){const Ce=RGB_RE.exec(Re);let je=255,Be,De,Fe;if(Ce){if(Ce[7]!==Be){const ke=+Ce[7];je=Ce[8]?p2b(ke):lim(ke*255,0,255)}return Be=+Ce[1],De=+Ce[3],Fe=+Ce[5],Be=255&(Ce[2]?p2b(Be):lim(Be,0,255)),De=255&(Ce[4]?p2b(De):lim(De,0,255)),Fe=255&(Ce[6]?p2b(Fe):lim(Fe,0,255)),{r:Be,g:De,b:Fe,a:je}}}function rgbString(Re){return Re&&(Re.a<255?`rgba(${Re.r}, ${Re.g}, ${Re.b}, ${b2n(Re.a)})`:`rgb(${Re.r}, ${Re.g}, ${Re.b})`)}const to$1=Re=>Re<=.0031308?Re*12.92:Math.pow(Re,1/2.4)*1.055-.055,from$2=Re=>Re<=.04045?Re/12.92:Math.pow((Re+.055)/1.055,2.4);function interpolate$3(Re,Ce,je){const Be=from$2(b2n(Re.r)),De=from$2(b2n(Re.g)),Fe=from$2(b2n(Re.b));return{r:n2b(to$1(Be+je*(from$2(b2n(Ce.r))-Be))),g:n2b(to$1(De+je*(from$2(b2n(Ce.g))-De))),b:n2b(to$1(Fe+je*(from$2(b2n(Ce.b))-Fe))),a:Re.a+je*(Ce.a-Re.a)}}function modHSL(Re,Ce,je){if(Re){let Be=rgb2hsl(Re);Be[Ce]=Math.max(0,Math.min(Be[Ce]+Be[Ce]*je,Ce===0?360:1)),Be=hsl2rgb$1(Be),Re.r=Be[0],Re.g=Be[1],Re.b=Be[2]}}function clone$2(Re,Ce){return Re&&Object.assign(Ce||{},Re)}function fromObject(Re){var Ce={r:0,g:0,b:0,a:255};return Array.isArray(Re)?Re.length>=3&&(Ce={r:Re[0],g:Re[1],b:Re[2],a:255},Re.length>3&&(Ce.a=n2b(Re[3]))):(Ce=clone$2(Re,{r:0,g:0,b:0,a:1}),Ce.a=n2b(Ce.a)),Ce}function functionParse(Re){return Re.charAt(0)==="r"?rgbParse(Re):hueParse(Re)}let Color$1=class Np{constructor(Ce){if(Ce instanceof Np)return Ce;const je=typeof Ce;let Be;je==="object"?Be=fromObject(Ce):je==="string"&&(Be=hexParse(Ce)||nameParse(Ce)||functionParse(Ce)),this._rgb=Be,this._valid=!!Be}get valid(){return this._valid}get rgb(){var Ce=clone$2(this._rgb);return Ce&&(Ce.a=b2n(Ce.a)),Ce}set rgb(Ce){this._rgb=fromObject(Ce)}rgbString(){return this._valid?rgbString(this._rgb):void 0}hexString(){return this._valid?hexString(this._rgb):void 0}hslString(){return this._valid?hslString(this._rgb):void 0}mix(Ce,je){if(Ce){const Be=this.rgb,De=Ce.rgb;let Fe;const ke=je===Fe?.5:je,Oe=2*ke-1,Me=Be.a-De.a,Ue=((Oe*Me===-1?Oe:(Oe+Me)/(1+Oe*Me))+1)/2;Fe=1-Ue,Be.r=255&Ue*Be.r+Fe*De.r+.5,Be.g=255&Ue*Be.g+Fe*De.g+.5,Be.b=255&Ue*Be.b+Fe*De.b+.5,Be.a=ke*Be.a+(1-ke)*De.a,this.rgb=Be}return this}interpolate(Ce,je){return Ce&&(this._rgb=interpolate$3(this._rgb,Ce._rgb,je)),this}clone(){return new Np(this.rgb)}alpha(Ce){return this._rgb.a=n2b(Ce),this}clearer(Ce){const je=this._rgb;return je.a*=1-Ce,this}greyscale(){const Ce=this._rgb,je=round$3(Ce.r*.3+Ce.g*.59+Ce.b*.11);return Ce.r=Ce.g=Ce.b=je,this}opaquer(Ce){const je=this._rgb;return je.a*=1+Ce,this}negate(){const Ce=this._rgb;return Ce.r=255-Ce.r,Ce.g=255-Ce.g,Ce.b=255-Ce.b,this}lighten(Ce){return modHSL(this._rgb,2,Ce),this}darken(Ce){return modHSL(this._rgb,2,-Ce),this}saturate(Ce){return modHSL(this._rgb,1,Ce),this}desaturate(Ce){return modHSL(this._rgb,1,-Ce),this}rotate(Ce){return rotate(this._rgb,Ce),this}};/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function noop$a(){}const uid=(()=>{let Re=0;return()=>Re++})();function isNullOrUndef(Re){return Re==null}function isArray$1(Re){if(Array.isArray&&Array.isArray(Re))return!0;const Ce=Object.prototype.toString.call(Re);return Ce.slice(0,7)==="[object"&&Ce.slice(-6)==="Array]"}function isObject$1(Re){return Re!==null&&Object.prototype.toString.call(Re)==="[object Object]"}function isNumberFinite(Re){return(typeof Re=="number"||Re instanceof Number)&&isFinite(+Re)}function finiteOrDefault(Re,Ce){return isNumberFinite(Re)?Re:Ce}function valueOrDefault(Re,Ce){return typeof Re>"u"?Ce:Re}const toPercentage=(Re,Ce)=>typeof Re=="string"&&Re.endsWith("%")?parseFloat(Re)/100:+Re/Ce,toDimension=(Re,Ce)=>typeof Re=="string"&&Re.endsWith("%")?parseFloat(Re)/100*Ce:+Re;function callback(Re,Ce,je){if(Re&&typeof Re.call=="function")return Re.apply(je,Ce)}function each$1(Re,Ce,je,Be){let De,Fe,ke;if(isArray$1(Re))for(Fe=Re.length,De=0;De<Fe;De++)Ce.call(je,Re[De],De);else if(isObject$1(Re))for(ke=Object.keys(Re),Fe=ke.length,De=0;De<Fe;De++)Ce.call(je,Re[ke[De]],ke[De])}function _elementsEqual(Re,Ce){let je,Be,De,Fe;if(!Re||!Ce||Re.length!==Ce.length)return!1;for(je=0,Be=Re.length;je<Be;++je)if(De=Re[je],Fe=Ce[je],De.datasetIndex!==Fe.datasetIndex||De.index!==Fe.index)return!1;return!0}function clone$1(Re){if(isArray$1(Re))return Re.map(clone$1);if(isObject$1(Re)){const Ce=Object.create(null),je=Object.keys(Re),Be=je.length;let De=0;for(;De<Be;++De)Ce[je[De]]=clone$1(Re[je[De]]);return Ce}return Re}function isValidKey(Re){return["__proto__","prototype","constructor"].indexOf(Re)===-1}function _merger(Re,Ce,je,Be){if(!isValidKey(Re))return;const De=Ce[Re],Fe=je[Re];isObject$1(De)&&isObject$1(Fe)?merge$1(De,Fe,Be):Ce[Re]=clone$1(Fe)}function merge$1(Re,Ce,je){const Be=isArray$1(Ce)?Ce:[Ce],De=Be.length;if(!isObject$1(Re))return Re;je=je||{};const Fe=je.merger||_merger;let ke;for(let Oe=0;Oe<De;++Oe){if(ke=Be[Oe],!isObject$1(ke))continue;const Me=Object.keys(ke);for(let Ue=0,$e=Me.length;Ue<$e;++Ue)Fe(Me[Ue],Re,ke,je)}return Re}function mergeIf(Re,Ce){return merge$1(Re,Ce,{merger:_mergerIf})}function _mergerIf(Re,Ce,je){if(!isValidKey(Re))return;const Be=Ce[Re],De=je[Re];isObject$1(Be)&&isObject$1(De)?mergeIf(Be,De):Object.prototype.hasOwnProperty.call(Ce,Re)||(Ce[Re]=clone$1(De))}const keyResolvers={"":Re=>Re,x:Re=>Re.x,y:Re=>Re.y};function _splitKey(Re){const Ce=Re.split("."),je=[];let Be="";for(const De of Ce)Be+=De,Be.endsWith("\\")?Be=Be.slice(0,-1)+".":(je.push(Be),Be="");return je}function _getKeyResolver(Re){const Ce=_splitKey(Re);return je=>{for(const Be of Ce){if(Be==="")break;je=je&&je[Be]}return je}}function resolveObjectKey(Re,Ce){return(keyResolvers[Ce]||(keyResolvers[Ce]=_getKeyResolver(Ce)))(Re)}function _capitalize(Re){return Re.charAt(0).toUpperCase()+Re.slice(1)}const defined$1=Re=>typeof Re<"u",isFunction=Re=>typeof Re=="function",setsEqual=(Re,Ce)=>{if(Re.size!==Ce.size)return!1;for(const je of Re)if(!Ce.has(je))return!1;return!0};function _isClickEvent(Re){return Re.type==="mouseup"||Re.type==="click"||Re.type==="contextmenu"}const PI=Math.PI,TAU=2*PI,PITAU=TAU+PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=PI*2/3,log10=Math.log10,sign$1=Math.sign;function almostEquals(Re,Ce,je){return Math.abs(Re-Ce)<je}function niceNum(Re){const Ce=Math.round(Re);Re=almostEquals(Re,Ce,Re/1e3)?Ce:Re;const je=Math.pow(10,Math.floor(log10(Re))),Be=Re/je;return(Be<=1?1:Be<=2?2:Be<=5?5:10)*je}function _factorize(Re){const Ce=[],je=Math.sqrt(Re);let Be;for(Be=1;Be<je;Be++)Re%Be===0&&(Ce.push(Be),Ce.push(Re/Be));return je===(je|0)&&Ce.push(je),Ce.sort((De,Fe)=>De-Fe).pop(),Ce}function isNonPrimitive(Re){return typeof Re=="symbol"||typeof Re=="object"&&Re!==null&&!(Symbol.toPrimitive in Re||"toString"in Re||"valueOf"in Re)}function isNumber$1(Re){return!isNonPrimitive(Re)&&!isNaN(parseFloat(Re))&&isFinite(Re)}function almostWhole(Re,Ce){const je=Math.round(Re);return je-Ce<=Re&&je+Ce>=Re}function _setMinAndMaxByKey(Re,Ce,je){let Be,De,Fe;for(Be=0,De=Re.length;Be<De;Be++)Fe=Re[Be][je],isNaN(Fe)||(Ce.min=Math.min(Ce.min,Fe),Ce.max=Math.max(Ce.max,Fe))}function toRadians(Re){return Re*(PI/180)}function toDegrees(Re){return Re*(180/PI)}function _decimalPlaces(Re){if(!isNumberFinite(Re))return;let Ce=1,je=0;for(;Math.round(Re*Ce)/Ce!==Re;)Ce*=10,je++;return je}function getAngleFromPoint(Re,Ce){const je=Ce.x-Re.x,Be=Ce.y-Re.y,De=Math.sqrt(je*je+Be*Be);let Fe=Math.atan2(Be,je);return Fe<-.5*PI&&(Fe+=TAU),{angle:Fe,distance:De}}function distanceBetweenPoints$1(Re,Ce){return Math.sqrt(Math.pow(Ce.x-Re.x,2)+Math.pow(Ce.y-Re.y,2))}function _angleDiff(Re,Ce){return(Re-Ce+PITAU)%TAU-PI}function _normalizeAngle(Re){return(Re%TAU+TAU)%TAU}function _angleBetween(Re,Ce,je,Be){const De=_normalizeAngle(Re),Fe=_normalizeAngle(Ce),ke=_normalizeAngle(je),Oe=_normalizeAngle(Fe-De),Me=_normalizeAngle(ke-De),Ue=_normalizeAngle(De-Fe),$e=_normalizeAngle(De-ke);return De===Fe||De===ke||Be&&Fe===ke||Oe>Me&&Ue<$e}function _limitValue(Re,Ce,je){return Math.max(Ce,Math.min(je,Re))}function _int16Range(Re){return _limitValue(Re,-32768,32767)}function _isBetween(Re,Ce,je,Be=1e-6){return Re>=Math.min(Ce,je)-Be&&Re<=Math.max(Ce,je)+Be}function _lookup(Re,Ce,je){je=je||(ke=>Re[ke]<Ce);let Be=Re.length-1,De=0,Fe;for(;Be-De>1;)Fe=De+Be>>1,je(Fe)?De=Fe:Be=Fe;return{lo:De,hi:Be}}const _lookupByKey=(Re,Ce,je,Be)=>_lookup(Re,je,Be?De=>{const Fe=Re[De][Ce];return Fe<je||Fe===je&&Re[De+1][Ce]===je}:De=>Re[De][Ce]<je),_rlookupByKey=(Re,Ce,je)=>_lookup(Re,je,Be=>Re[Be][Ce]>=je);function _filterBetween(Re,Ce,je){let Be=0,De=Re.length;for(;Be<De&&Re[Be]<Ce;)Be++;for(;De>Be&&Re[De-1]>je;)De--;return Be>0||De<Re.length?Re.slice(Be,De):Re}const arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(Re,Ce){if(Re._chartjs){Re._chartjs.listeners.push(Ce);return}Object.defineProperty(Re,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[Ce]}}),arrayEvents.forEach(je=>{const Be="_onData"+_capitalize(je),De=Re[je];Object.defineProperty(Re,je,{configurable:!0,enumerable:!1,value(...Fe){const ke=De.apply(this,Fe);return Re._chartjs.listeners.forEach(Oe=>{typeof Oe[Be]=="function"&&Oe[Be](...Fe)}),ke}})})}function unlistenArrayEvents(Re,Ce){const je=Re._chartjs;if(!je)return;const Be=je.listeners,De=Be.indexOf(Ce);De!==-1&&Be.splice(De,1),!(Be.length>0)&&(arrayEvents.forEach(Fe=>{delete Re[Fe]}),delete Re._chartjs)}function _arrayUnique(Re){const Ce=new Set(Re);return Ce.size===Re.length?Re:Array.from(Ce)}const requestAnimFrame=(function(){return typeof window>"u"?function(Re){return Re()}:window.requestAnimationFrame})();function throttled(Re,Ce){let je=[],Be=!1;return function(...De){je=De,Be||(Be=!0,requestAnimFrame.call(window,()=>{Be=!1,Re.apply(Ce,je)}))}}function debounce$3(Re,Ce){let je;return function(...Be){return Ce?(clearTimeout(je),je=setTimeout(Re,Ce,Be)):Re.apply(this,Be),Ce}}const _toLeftRightCenter=Re=>Re==="start"?"left":Re==="end"?"right":"center",_alignStartEnd=(Re,Ce,je)=>Re==="start"?Ce:Re==="end"?je:(Ce+je)/2,_textX=(Re,Ce,je,Be)=>Re===(Be?"left":"right")?je:Re==="center"?(Ce+je)/2:Ce,atEdge=Re=>Re===0||Re===1,elasticIn=(Re,Ce,je)=>-(Math.pow(2,10*(Re-=1))*Math.sin((Re-Ce)*TAU/je)),elasticOut=(Re,Ce,je)=>Math.pow(2,-10*Re)*Math.sin((Re-Ce)*TAU/je)+1,effects={linear:Re=>Re,easeInQuad:Re=>Re*Re,easeOutQuad:Re=>-Re*(Re-2),easeInOutQuad:Re=>(Re/=.5)<1?.5*Re*Re:-.5*(--Re*(Re-2)-1),easeInCubic:Re=>Re*Re*Re,easeOutCubic:Re=>(Re-=1)*Re*Re+1,easeInOutCubic:Re=>(Re/=.5)<1?.5*Re*Re*Re:.5*((Re-=2)*Re*Re+2),easeInQuart:Re=>Re*Re*Re*Re,easeOutQuart:Re=>-((Re-=1)*Re*Re*Re-1),easeInOutQuart:Re=>(Re/=.5)<1?.5*Re*Re*Re*Re:-.5*((Re-=2)*Re*Re*Re-2),easeInQuint:Re=>Re*Re*Re*Re*Re,easeOutQuint:Re=>(Re-=1)*Re*Re*Re*Re+1,easeInOutQuint:Re=>(Re/=.5)<1?.5*Re*Re*Re*Re*Re:.5*((Re-=2)*Re*Re*Re*Re+2),easeInSine:Re=>-Math.cos(Re*HALF_PI)+1,easeOutSine:Re=>Math.sin(Re*HALF_PI),easeInOutSine:Re=>-.5*(Math.cos(PI*Re)-1),easeInExpo:Re=>Re===0?0:Math.pow(2,10*(Re-1)),easeOutExpo:Re=>Re===1?1:-Math.pow(2,-10*Re)+1,easeInOutExpo:Re=>atEdge(Re)?Re:Re<.5?.5*Math.pow(2,10*(Re*2-1)):.5*(-Math.pow(2,-10*(Re*2-1))+2),easeInCirc:Re=>Re>=1?Re:-(Math.sqrt(1-Re*Re)-1),easeOutCirc:Re=>Math.sqrt(1-(Re-=1)*Re),easeInOutCirc:Re=>(Re/=.5)<1?-.5*(Math.sqrt(1-Re*Re)-1):.5*(Math.sqrt(1-(Re-=2)*Re)+1),easeInElastic:Re=>atEdge(Re)?Re:elasticIn(Re,.075,.3),easeOutElastic:Re=>atEdge(Re)?Re:elasticOut(Re,.075,.3),easeInOutElastic(Re){return atEdge(Re)?Re:Re<.5?.5*elasticIn(Re*2,.1125,.45):.5+.5*elasticOut(Re*2-1,.1125,.45)},easeInBack(Re){return Re*Re*((1.70158+1)*Re-1.70158)},easeOutBack(Re){return(Re-=1)*Re*((1.70158+1)*Re+1.70158)+1},easeInOutBack(Re){let Ce=1.70158;return(Re/=.5)<1?.5*(Re*Re*(((Ce*=1.525)+1)*Re-Ce)):.5*((Re-=2)*Re*(((Ce*=1.525)+1)*Re+Ce)+2)},easeInBounce:Re=>1-effects.easeOutBounce(1-Re),easeOutBounce(Re){return Re<1/2.75?7.5625*Re*Re:Re<2/2.75?7.5625*(Re-=1.5/2.75)*Re+.75:Re<2.5/2.75?7.5625*(Re-=2.25/2.75)*Re+.9375:7.5625*(Re-=2.625/2.75)*Re+.984375},easeInOutBounce:Re=>Re<.5?effects.easeInBounce(Re*2)*.5:effects.easeOutBounce(Re*2-1)*.5+.5};function isPatternOrGradient(Re){if(Re&&typeof Re=="object"){const Ce=Re.toString();return Ce==="[object CanvasPattern]"||Ce==="[object CanvasGradient]"}return!1}function color$2(Re){return isPatternOrGradient(Re)?Re:new Color$1(Re)}function getHoverColor(Re){return isPatternOrGradient(Re)?Re:new Color$1(Re).saturate(.5).darken(.1).hexString()}const numbers$1=["x","y","borderWidth","radius","tension"],colors$1=["color","borderColor","backgroundColor"];function applyAnimationsDefaults(Re){Re.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),Re.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:Ce=>Ce!=="onProgress"&&Ce!=="onComplete"&&Ce!=="fn"}),Re.set("animations",{colors:{type:"color",properties:colors$1},numbers:{type:"number",properties:numbers$1}}),Re.describe("animations",{_fallback:"animation"}),Re.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:Ce=>Ce|0}}}})}function applyLayoutsDefaults(Re){Re.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const intlCache=new Map;function getNumberFormat(Re,Ce){Ce=Ce||{};const je=Re+JSON.stringify(Ce);let Be=intlCache.get(je);return Be||(Be=new Intl.NumberFormat(Re,Ce),intlCache.set(je,Be)),Be}function formatNumber(Re,Ce,je){return getNumberFormat(Ce,je).format(Re)}const formatters$1={values(Re){return isArray$1(Re)?Re:""+Re},numeric(Re,Ce,je){if(Re===0)return"0";const Be=this.chart.options.locale;let De,Fe=Re;if(je.length>1){const Ue=Math.max(Math.abs(je[0].value),Math.abs(je[je.length-1].value));(Ue<1e-4||Ue>1e15)&&(De="scientific"),Fe=calculateDelta(Re,je)}const ke=log10(Math.abs(Fe)),Oe=isNaN(ke)?1:Math.max(Math.min(-1*Math.floor(ke),20),0),Me={notation:De,minimumFractionDigits:Oe,maximumFractionDigits:Oe};return Object.assign(Me,this.options.ticks.format),formatNumber(Re,Be,Me)}};function calculateDelta(Re,Ce){let je=Ce.length>3?Ce[2].value-Ce[1].value:Ce[1].value-Ce[0].value;return Math.abs(je)>=1&&Re!==Math.floor(Re)&&(je=Re-Math.floor(Re)),je}var Ticks={formatters:formatters$1};function applyScaleDefaults(Re){Re.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(Ce,je)=>je.lineWidth,tickColor:(Ce,je)=>je.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Re.route("scale.ticks","color","","color"),Re.route("scale.grid","color","","borderColor"),Re.route("scale.border","color","","borderColor"),Re.route("scale.title","color","","color"),Re.describe("scale",{_fallback:!1,_scriptable:Ce=>!Ce.startsWith("before")&&!Ce.startsWith("after")&&Ce!=="callback"&&Ce!=="parser",_indexable:Ce=>Ce!=="borderDash"&&Ce!=="tickBorderDash"&&Ce!=="dash"}),Re.describe("scales",{_fallback:"scale"}),Re.describe("scale.ticks",{_scriptable:Ce=>Ce!=="backdropPadding"&&Ce!=="callback",_indexable:Ce=>Ce!=="backdropPadding"})}const overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(Re,Ce){if(!Ce)return Re;const je=Ce.split(".");for(let Be=0,De=je.length;Be<De;++Be){const Fe=je[Be];Re=Re[Fe]||(Re[Fe]=Object.create(null))}return Re}function set$1(Re,Ce,je){return typeof Ce=="string"?merge$1(getScope$1(Re,Ce),je):merge$1(getScope$1(Re,""),Ce)}class Defaults{constructor(Ce,je){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=Be=>Be.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(Be,De)=>getHoverColor(De.backgroundColor),this.hoverBorderColor=(Be,De)=>getHoverColor(De.borderColor),this.hoverColor=(Be,De)=>getHoverColor(De.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(Ce),this.apply(je)}set(Ce,je){return set$1(this,Ce,je)}get(Ce){return getScope$1(this,Ce)}describe(Ce,je){return set$1(descriptors,Ce,je)}override(Ce,je){return set$1(overrides,Ce,je)}route(Ce,je,Be,De){const Fe=getScope$1(this,Ce),ke=getScope$1(this,Be),Oe="_"+je;Object.defineProperties(Fe,{[Oe]:{value:Fe[je],writable:!0},[je]:{enumerable:!0,get(){const Me=this[Oe],Ue=ke[De];return isObject$1(Me)?Object.assign({},Ue,Me):valueOrDefault(Me,Ue)},set(Me){this[Oe]=Me}}})}apply(Ce){Ce.forEach(je=>je(this))}}var defaults$1=new Defaults({_scriptable:Re=>!Re.startsWith("on"),_indexable:Re=>Re!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[applyAnimationsDefaults,applyLayoutsDefaults,applyScaleDefaults]);function toFontString(Re){return!Re||isNullOrUndef(Re.size)||isNullOrUndef(Re.family)?null:(Re.style?Re.style+" ":"")+(Re.weight?Re.weight+" ":"")+Re.size+"px "+Re.family}function _measureText(Re,Ce,je,Be,De){let Fe=Ce[De];return Fe||(Fe=Ce[De]=Re.measureText(De).width,je.push(De)),Fe>Be&&(Be=Fe),Be}function _alignPixel(Re,Ce,je){const Be=Re.currentDevicePixelRatio,De=je!==0?Math.max(je/2,.5):0;return Math.round((Ce-De)*Be)/Be+De}function clearCanvas(Re,Ce){!Ce&&!Re||(Ce=Ce||Re.getContext("2d"),Ce.save(),Ce.resetTransform(),Ce.clearRect(0,0,Re.width,Re.height),Ce.restore())}function drawPoint(Re,Ce,je,Be){drawPointLegend(Re,Ce,je,Be,null)}function drawPointLegend(Re,Ce,je,Be,De){let Fe,ke,Oe,Me,Ue,$e,He,Qe;const We=Ce.pointStyle,qe=Ce.rotation,Ke=Ce.radius;let Xe=(qe||0)*RAD_PER_DEG;if(We&&typeof We=="object"&&(Fe=We.toString(),Fe==="[object HTMLImageElement]"||Fe==="[object HTMLCanvasElement]")){Re.save(),Re.translate(je,Be),Re.rotate(Xe),Re.drawImage(We,-We.width/2,-We.height/2,We.width,We.height),Re.restore();return}if(!(isNaN(Ke)||Ke<=0)){switch(Re.beginPath(),We){default:De?Re.ellipse(je,Be,De/2,Ke,0,0,TAU):Re.arc(je,Be,Ke,0,TAU),Re.closePath();break;case"triangle":$e=De?De/2:Ke,Re.moveTo(je+Math.sin(Xe)*$e,Be-Math.cos(Xe)*Ke),Xe+=TWO_THIRDS_PI,Re.lineTo(je+Math.sin(Xe)*$e,Be-Math.cos(Xe)*Ke),Xe+=TWO_THIRDS_PI,Re.lineTo(je+Math.sin(Xe)*$e,Be-Math.cos(Xe)*Ke),Re.closePath();break;case"rectRounded":Ue=Ke*.516,Me=Ke-Ue,ke=Math.cos(Xe+QUARTER_PI)*Me,He=Math.cos(Xe+QUARTER_PI)*(De?De/2-Ue:Me),Oe=Math.sin(Xe+QUARTER_PI)*Me,Qe=Math.sin(Xe+QUARTER_PI)*(De?De/2-Ue:Me),Re.arc(je-He,Be-Oe,Ue,Xe-PI,Xe-HALF_PI),Re.arc(je+Qe,Be-ke,Ue,Xe-HALF_PI,Xe),Re.arc(je+He,Be+Oe,Ue,Xe,Xe+HALF_PI),Re.arc(je-Qe,Be+ke,Ue,Xe+HALF_PI,Xe+PI),Re.closePath();break;case"rect":if(!qe){Me=Math.SQRT1_2*Ke,$e=De?De/2:Me,Re.rect(je-$e,Be-Me,2*$e,2*Me);break}Xe+=QUARTER_PI;case"rectRot":He=Math.cos(Xe)*(De?De/2:Ke),ke=Math.cos(Xe)*Ke,Oe=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Re.moveTo(je-He,Be-Oe),Re.lineTo(je+Qe,Be-ke),Re.lineTo(je+He,Be+Oe),Re.lineTo(je-Qe,Be+ke),Re.closePath();break;case"crossRot":Xe+=QUARTER_PI;case"cross":He=Math.cos(Xe)*(De?De/2:Ke),ke=Math.cos(Xe)*Ke,Oe=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Re.moveTo(je-He,Be-Oe),Re.lineTo(je+He,Be+Oe),Re.moveTo(je+Qe,Be-ke),Re.lineTo(je-Qe,Be+ke);break;case"star":He=Math.cos(Xe)*(De?De/2:Ke),ke=Math.cos(Xe)*Ke,Oe=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Re.moveTo(je-He,Be-Oe),Re.lineTo(je+He,Be+Oe),Re.moveTo(je+Qe,Be-ke),Re.lineTo(je-Qe,Be+ke),Xe+=QUARTER_PI,He=Math.cos(Xe)*(De?De/2:Ke),ke=Math.cos(Xe)*Ke,Oe=Math.sin(Xe)*Ke,Qe=Math.sin(Xe)*(De?De/2:Ke),Re.moveTo(je-He,Be-Oe),Re.lineTo(je+He,Be+Oe),Re.moveTo(je+Qe,Be-ke),Re.lineTo(je-Qe,Be+ke);break;case"line":ke=De?De/2:Math.cos(Xe)*Ke,Oe=Math.sin(Xe)*Ke,Re.moveTo(je-ke,Be-Oe),Re.lineTo(je+ke,Be+Oe);break;case"dash":Re.moveTo(je,Be),Re.lineTo(je+Math.cos(Xe)*(De?De/2:Ke),Be+Math.sin(Xe)*Ke);break;case!1:Re.closePath();break}Re.fill(),Ce.borderWidth>0&&Re.stroke()}}function _isPointInArea(Re,Ce,je){return je=je||.5,!Ce||Re&&Re.x>Ce.left-je&&Re.x<Ce.right+je&&Re.y>Ce.top-je&&Re.y<Ce.bottom+je}function clipArea(Re,Ce){Re.save(),Re.beginPath(),Re.rect(Ce.left,Ce.top,Ce.right-Ce.left,Ce.bottom-Ce.top),Re.clip()}function unclipArea(Re){Re.restore()}function _steppedLineTo(Re,Ce,je,Be,De){if(!Ce)return Re.lineTo(je.x,je.y);if(De==="middle"){const Fe=(Ce.x+je.x)/2;Re.lineTo(Fe,Ce.y),Re.lineTo(Fe,je.y)}else De==="after"!=!!Be?Re.lineTo(Ce.x,je.y):Re.lineTo(je.x,Ce.y);Re.lineTo(je.x,je.y)}function _bezierCurveTo(Re,Ce,je,Be){if(!Ce)return Re.lineTo(je.x,je.y);Re.bezierCurveTo(Be?Ce.cp1x:Ce.cp2x,Be?Ce.cp1y:Ce.cp2y,Be?je.cp2x:je.cp1x,Be?je.cp2y:je.cp1y,je.x,je.y)}function setRenderOpts(Re,Ce){Ce.translation&&Re.translate(Ce.translation[0],Ce.translation[1]),isNullOrUndef(Ce.rotation)||Re.rotate(Ce.rotation),Ce.color&&(Re.fillStyle=Ce.color),Ce.textAlign&&(Re.textAlign=Ce.textAlign),Ce.textBaseline&&(Re.textBaseline=Ce.textBaseline)}function decorateText(Re,Ce,je,Be,De){if(De.strikethrough||De.underline){const Fe=Re.measureText(Be),ke=Ce-Fe.actualBoundingBoxLeft,Oe=Ce+Fe.actualBoundingBoxRight,Me=je-Fe.actualBoundingBoxAscent,Ue=je+Fe.actualBoundingBoxDescent,$e=De.strikethrough?(Me+Ue)/2:Ue;Re.strokeStyle=Re.fillStyle,Re.beginPath(),Re.lineWidth=De.decorationWidth||2,Re.moveTo(ke,$e),Re.lineTo(Oe,$e),Re.stroke()}}function drawBackdrop(Re,Ce){const je=Re.fillStyle;Re.fillStyle=Ce.color,Re.fillRect(Ce.left,Ce.top,Ce.width,Ce.height),Re.fillStyle=je}function renderText(Re,Ce,je,Be,De,Fe={}){const ke=isArray$1(Ce)?Ce:[Ce],Oe=Fe.strokeWidth>0&&Fe.strokeColor!=="";let Me,Ue;for(Re.save(),Re.font=De.string,setRenderOpts(Re,Fe),Me=0;Me<ke.length;++Me)Ue=ke[Me],Fe.backdrop&&drawBackdrop(Re,Fe.backdrop),Oe&&(Fe.strokeColor&&(Re.strokeStyle=Fe.strokeColor),isNullOrUndef(Fe.strokeWidth)||(Re.lineWidth=Fe.strokeWidth),Re.strokeText(Ue,je,Be,Fe.maxWidth)),Re.fillText(Ue,je,Be,Fe.maxWidth),decorateText(Re,je,Be,Ue,Fe),Be+=Number(De.lineHeight);Re.restore()}function addRoundedRectPath(Re,Ce){const{x:je,y:Be,w:De,h:Fe,radius:ke}=Ce;Re.arc(je+ke.topLeft,Be+ke.topLeft,ke.topLeft,1.5*PI,PI,!0),Re.lineTo(je,Be+Fe-ke.bottomLeft),Re.arc(je+ke.bottomLeft,Be+Fe-ke.bottomLeft,ke.bottomLeft,PI,HALF_PI,!0),Re.lineTo(je+De-ke.bottomRight,Be+Fe),Re.arc(je+De-ke.bottomRight,Be+Fe-ke.bottomRight,ke.bottomRight,HALF_PI,0,!0),Re.lineTo(je+De,Be+ke.topRight),Re.arc(je+De-ke.topRight,Be+ke.topRight,ke.topRight,0,-HALF_PI,!0),Re.lineTo(je+ke.topLeft,Be)}const LINE_HEIGHT=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,FONT_STYLE=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function toLineHeight(Re,Ce){const je=(""+Re).match(LINE_HEIGHT);if(!je||je[1]==="normal")return Ce*1.2;switch(Re=+je[2],je[3]){case"px":return Re;case"%":Re/=100;break}return Ce*Re}const numberOrZero=Re=>+Re||0;function _readValueToProps(Re,Ce){const je={},Be=isObject$1(Ce),De=Be?Object.keys(Ce):Ce,Fe=isObject$1(Re)?Be?ke=>valueOrDefault(Re[ke],Re[Ce[ke]]):ke=>Re[ke]:()=>Re;for(const ke of De)je[ke]=numberOrZero(Fe(ke));return je}function toTRBL(Re){return _readValueToProps(Re,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(Re){return _readValueToProps(Re,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(Re){const Ce=toTRBL(Re);return Ce.width=Ce.left+Ce.right,Ce.height=Ce.top+Ce.bottom,Ce}function toFont(Re,Ce){Re=Re||{},Ce=Ce||defaults$1.font;let je=valueOrDefault(Re.size,Ce.size);typeof je=="string"&&(je=parseInt(je,10));let Be=valueOrDefault(Re.style,Ce.style);Be&&!(""+Be).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+Be+'"'),Be=void 0);const De={family:valueOrDefault(Re.family,Ce.family),lineHeight:toLineHeight(valueOrDefault(Re.lineHeight,Ce.lineHeight),je),size:je,style:Be,weight:valueOrDefault(Re.weight,Ce.weight),string:""};return De.string=toFontString(De),De}function resolve(Re,Ce,je,Be){let De,Fe,ke;for(De=0,Fe=Re.length;De<Fe;++De)if(ke=Re[De],ke!==void 0&&ke!==void 0)return ke}function _addGrace(Re,Ce,je){const{min:Be,max:De}=Re,Fe=toDimension(Ce,(De-Be)/2),ke=(Oe,Me)=>je&&Oe===0?0:Oe+Me;return{min:ke(Be,-Math.abs(Fe)),max:ke(De,Fe)}}function createContext(Re,Ce){return Object.assign(Object.create(Re),Ce)}function _createResolver(Re,Ce=[""],je,Be,De=()=>Re[0]){const Fe=je||Re;typeof Be>"u"&&(Be=_resolve("_fallback",Re));const ke={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:Re,_rootScopes:Fe,_fallback:Be,_getTarget:De,override:Oe=>_createResolver([Oe,...Re],Ce,Fe,Be)};return new Proxy(ke,{deleteProperty(Oe,Me){return delete Oe[Me],delete Oe._keys,delete Re[0][Me],!0},get(Oe,Me){return _cached(Oe,Me,()=>_resolveWithPrefixes(Me,Ce,Re,Oe))},getOwnPropertyDescriptor(Oe,Me){return Reflect.getOwnPropertyDescriptor(Oe._scopes[0],Me)},getPrototypeOf(){return Reflect.getPrototypeOf(Re[0])},has(Oe,Me){return getKeysFromAllScopes(Oe).includes(Me)},ownKeys(Oe){return getKeysFromAllScopes(Oe)},set(Oe,Me,Ue){const $e=Oe._storage||(Oe._storage=De());return Oe[Me]=$e[Me]=Ue,delete Oe._keys,!0}})}function _attachContext(Re,Ce,je,Be){const De={_cacheable:!1,_proxy:Re,_context:Ce,_subProxy:je,_stack:new Set,_descriptors:_descriptors(Re,Be),setContext:Fe=>_attachContext(Re,Fe,je,Be),override:Fe=>_attachContext(Re.override(Fe),Ce,je,Be)};return new Proxy(De,{deleteProperty(Fe,ke){return delete Fe[ke],delete Re[ke],!0},get(Fe,ke,Oe){return _cached(Fe,ke,()=>_resolveWithContext(Fe,ke,Oe))},getOwnPropertyDescriptor(Fe,ke){return Fe._descriptors.allKeys?Reflect.has(Re,ke)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(Re,ke)},getPrototypeOf(){return Reflect.getPrototypeOf(Re)},has(Fe,ke){return Reflect.has(Re,ke)},ownKeys(){return Reflect.ownKeys(Re)},set(Fe,ke,Oe){return Re[ke]=Oe,delete Fe[ke],!0}})}function _descriptors(Re,Ce={scriptable:!0,indexable:!0}){const{_scriptable:je=Ce.scriptable,_indexable:Be=Ce.indexable,_allKeys:De=Ce.allKeys}=Re;return{allKeys:De,scriptable:je,indexable:Be,isScriptable:isFunction(je)?je:()=>je,isIndexable:isFunction(Be)?Be:()=>Be}}const readKey=(Re,Ce)=>Re?Re+_capitalize(Ce):Ce,needsSubResolver=(Re,Ce)=>isObject$1(Ce)&&Re!=="adapters"&&(Object.getPrototypeOf(Ce)===null||Ce.constructor===Object);function _cached(Re,Ce,je){if(Object.prototype.hasOwnProperty.call(Re,Ce)||Ce==="constructor")return Re[Ce];const Be=je();return Re[Ce]=Be,Be}function _resolveWithContext(Re,Ce,je){const{_proxy:Be,_context:De,_subProxy:Fe,_descriptors:ke}=Re;let Oe=Be[Ce];return isFunction(Oe)&&ke.isScriptable(Ce)&&(Oe=_resolveScriptable(Ce,Oe,Re,je)),isArray$1(Oe)&&Oe.length&&(Oe=_resolveArray(Ce,Oe,Re,ke.isIndexable)),needsSubResolver(Ce,Oe)&&(Oe=_attachContext(Oe,De,Fe&&Fe[Ce],ke)),Oe}function _resolveScriptable(Re,Ce,je,Be){const{_proxy:De,_context:Fe,_subProxy:ke,_stack:Oe}=je;if(Oe.has(Re))throw new Error("Recursion detected: "+Array.from(Oe).join("->")+"->"+Re);Oe.add(Re);let Me=Ce(Fe,ke||Be);return Oe.delete(Re),needsSubResolver(Re,Me)&&(Me=createSubResolver(De._scopes,De,Re,Me)),Me}function _resolveArray(Re,Ce,je,Be){const{_proxy:De,_context:Fe,_subProxy:ke,_descriptors:Oe}=je;if(typeof Fe.index<"u"&&Be(Re))return Ce[Fe.index%Ce.length];if(isObject$1(Ce[0])){const Me=Ce,Ue=De._scopes.filter($e=>$e!==Me);Ce=[];for(const $e of Me){const He=createSubResolver(Ue,De,Re,$e);Ce.push(_attachContext(He,Fe,ke&&ke[Re],Oe))}}return Ce}function resolveFallback(Re,Ce,je){return isFunction(Re)?Re(Ce,je):Re}const getScope=(Re,Ce)=>Re===!0?Ce:typeof Re=="string"?resolveObjectKey(Ce,Re):void 0;function addScopes(Re,Ce,je,Be,De){for(const Fe of Ce){const ke=getScope(je,Fe);if(ke){Re.add(ke);const Oe=resolveFallback(ke._fallback,je,De);if(typeof Oe<"u"&&Oe!==je&&Oe!==Be)return Oe}else if(ke===!1&&typeof Be<"u"&&je!==Be)return null}return!1}function createSubResolver(Re,Ce,je,Be){const De=Ce._rootScopes,Fe=resolveFallback(Ce._fallback,je,Be),ke=[...Re,...De],Oe=new Set;Oe.add(Be);let Me=addScopesFromKey(Oe,ke,je,Fe||je,Be);return Me===null||typeof Fe<"u"&&Fe!==je&&(Me=addScopesFromKey(Oe,ke,Fe,Me,Be),Me===null)?!1:_createResolver(Array.from(Oe),[""],De,Fe,()=>subGetTarget(Ce,je,Be))}function addScopesFromKey(Re,Ce,je,Be,De){for(;je;)je=addScopes(Re,Ce,je,Be,De);return je}function subGetTarget(Re,Ce,je){const Be=Re._getTarget();Ce in Be||(Be[Ce]={});const De=Be[Ce];return isArray$1(De)&&isObject$1(je)?je:De||{}}function _resolveWithPrefixes(Re,Ce,je,Be){let De;for(const Fe of Ce)if(De=_resolve(readKey(Fe,Re),je),typeof De<"u")return needsSubResolver(Re,De)?createSubResolver(je,Be,Re,De):De}function _resolve(Re,Ce){for(const je of Ce){if(!je)continue;const Be=je[Re];if(typeof Be<"u")return Be}}function getKeysFromAllScopes(Re){let Ce=Re._keys;return Ce||(Ce=Re._keys=resolveKeysFromAllScopes(Re._scopes)),Ce}function resolveKeysFromAllScopes(Re){const Ce=new Set;for(const je of Re)for(const Be of Object.keys(je).filter(De=>!De.startsWith("_")))Ce.add(Be);return Array.from(Ce)}const EPSILON=Number.EPSILON||1e-14,getPoint=(Re,Ce)=>Ce<Re.length&&!Re[Ce].skip&&Re[Ce],getValueAxis=Re=>Re==="x"?"y":"x";function splineCurve(Re,Ce,je,Be){const De=Re.skip?Ce:Re,Fe=Ce,ke=je.skip?Ce:je,Oe=distanceBetweenPoints$1(Fe,De),Me=distanceBetweenPoints$1(ke,Fe);let Ue=Oe/(Oe+Me),$e=Me/(Oe+Me);Ue=isNaN(Ue)?0:Ue,$e=isNaN($e)?0:$e;const He=Be*Ue,Qe=Be*$e;return{previous:{x:Fe.x-He*(ke.x-De.x),y:Fe.y-He*(ke.y-De.y)},next:{x:Fe.x+Qe*(ke.x-De.x),y:Fe.y+Qe*(ke.y-De.y)}}}function monotoneAdjust(Re,Ce,je){const Be=Re.length;let De,Fe,ke,Oe,Me,Ue=getPoint(Re,0);for(let $e=0;$e<Be-1;++$e)if(Me=Ue,Ue=getPoint(Re,$e+1),!(!Me||!Ue)){if(almostEquals(Ce[$e],0,EPSILON)){je[$e]=je[$e+1]=0;continue}De=je[$e]/Ce[$e],Fe=je[$e+1]/Ce[$e],Oe=Math.pow(De,2)+Math.pow(Fe,2),!(Oe<=9)&&(ke=3/Math.sqrt(Oe),je[$e]=De*ke*Ce[$e],je[$e+1]=Fe*ke*Ce[$e])}}function monotoneCompute(Re,Ce,je="x"){const Be=getValueAxis(je),De=Re.length;let Fe,ke,Oe,Me=getPoint(Re,0);for(let Ue=0;Ue<De;++Ue){if(ke=Oe,Oe=Me,Me=getPoint(Re,Ue+1),!Oe)continue;const $e=Oe[je],He=Oe[Be];ke&&(Fe=($e-ke[je])/3,Oe[`cp1${je}`]=$e-Fe,Oe[`cp1${Be}`]=He-Fe*Ce[Ue]),Me&&(Fe=(Me[je]-$e)/3,Oe[`cp2${je}`]=$e+Fe,Oe[`cp2${Be}`]=He+Fe*Ce[Ue])}}function splineCurveMonotone(Re,Ce="x"){const je=getValueAxis(Ce),Be=Re.length,De=Array(Be).fill(0),Fe=Array(Be);let ke,Oe,Me,Ue=getPoint(Re,0);for(ke=0;ke<Be;++ke)if(Oe=Me,Me=Ue,Ue=getPoint(Re,ke+1),!!Me){if(Ue){const $e=Ue[Ce]-Me[Ce];De[ke]=$e!==0?(Ue[je]-Me[je])/$e:0}Fe[ke]=Oe?Ue?sign$1(De[ke-1])!==sign$1(De[ke])?0:(De[ke-1]+De[ke])/2:De[ke-1]:De[ke]}monotoneAdjust(Re,De,Fe),monotoneCompute(Re,Fe,Ce)}function capControlPoint(Re,Ce,je){return Math.max(Math.min(Re,je),Ce)}function capBezierPoints(Re,Ce){let je,Be,De,Fe,ke,Oe=_isPointInArea(Re[0],Ce);for(je=0,Be=Re.length;je<Be;++je)ke=Fe,Fe=Oe,Oe=je<Be-1&&_isPointInArea(Re[je+1],Ce),Fe&&(De=Re[je],ke&&(De.cp1x=capControlPoint(De.cp1x,Ce.left,Ce.right),De.cp1y=capControlPoint(De.cp1y,Ce.top,Ce.bottom)),Oe&&(De.cp2x=capControlPoint(De.cp2x,Ce.left,Ce.right),De.cp2y=capControlPoint(De.cp2y,Ce.top,Ce.bottom)))}function _updateBezierControlPoints(Re,Ce,je,Be,De){let Fe,ke,Oe,Me;if(Ce.spanGaps&&(Re=Re.filter(Ue=>!Ue.skip)),Ce.cubicInterpolationMode==="monotone")splineCurveMonotone(Re,De);else{let Ue=Be?Re[Re.length-1]:Re[0];for(Fe=0,ke=Re.length;Fe<ke;++Fe)Oe=Re[Fe],Me=splineCurve(Ue,Oe,Re[Math.min(Fe+1,ke-(Be?0:1))%ke],Ce.tension),Oe.cp1x=Me.previous.x,Oe.cp1y=Me.previous.y,Oe.cp2x=Me.next.x,Oe.cp2y=Me.next.y,Ue=Oe}Ce.capBezierPoints&&capBezierPoints(Re,je)}function _isDomSupported(){return typeof window<"u"&&typeof document<"u"}function _getParentNode(Re){let Ce=Re.parentNode;return Ce&&Ce.toString()==="[object ShadowRoot]"&&(Ce=Ce.host),Ce}function parseMaxStyle(Re,Ce,je){let Be;return typeof Re=="string"?(Be=parseInt(Re,10),Re.indexOf("%")!==-1&&(Be=Be/100*Ce.parentNode[je])):Be=Re,Be}const getComputedStyle$2=Re=>Re.ownerDocument.defaultView.getComputedStyle(Re,null);function getStyle(Re,Ce){return getComputedStyle$2(Re).getPropertyValue(Ce)}const positions=["top","right","bottom","left"];function getPositionedStyle(Re,Ce,je){const Be={};je=je?"-"+je:"";for(let De=0;De<4;De++){const Fe=positions[De];Be[Fe]=parseFloat(Re[Ce+"-"+Fe+je])||0}return Be.width=Be.left+Be.right,Be.height=Be.top+Be.bottom,Be}const useOffsetPos=(Re,Ce,je)=>(Re>0||Ce>0)&&(!je||!je.shadowRoot);function getCanvasPosition(Re,Ce){const je=Re.touches,Be=je&&je.length?je[0]:Re,{offsetX:De,offsetY:Fe}=Be;let ke=!1,Oe,Me;if(useOffsetPos(De,Fe,Re.target))Oe=De,Me=Fe;else{const Ue=Ce.getBoundingClientRect();Oe=Be.clientX-Ue.left,Me=Be.clientY-Ue.top,ke=!0}return{x:Oe,y:Me,box:ke}}function getRelativePosition(Re,Ce){if("native"in Re)return Re;const{canvas:je,currentDevicePixelRatio:Be}=Ce,De=getComputedStyle$2(je),Fe=De.boxSizing==="border-box",ke=getPositionedStyle(De,"padding"),Oe=getPositionedStyle(De,"border","width"),{x:Me,y:Ue,box:$e}=getCanvasPosition(Re,je),He=ke.left+($e&&Oe.left),Qe=ke.top+($e&&Oe.top);let{width:We,height:qe}=Ce;return Fe&&(We-=ke.width+Oe.width,qe-=ke.height+Oe.height),{x:Math.round((Me-He)/We*je.width/Be),y:Math.round((Ue-Qe)/qe*je.height/Be)}}function getContainerSize(Re,Ce,je){let Be,De;if(Ce===void 0||je===void 0){const Fe=Re&&_getParentNode(Re);if(!Fe)Ce=Re.clientWidth,je=Re.clientHeight;else{const ke=Fe.getBoundingClientRect(),Oe=getComputedStyle$2(Fe),Me=getPositionedStyle(Oe,"border","width"),Ue=getPositionedStyle(Oe,"padding");Ce=ke.width-Ue.width-Me.width,je=ke.height-Ue.height-Me.height,Be=parseMaxStyle(Oe.maxWidth,Fe,"clientWidth"),De=parseMaxStyle(Oe.maxHeight,Fe,"clientHeight")}}return{width:Ce,height:je,maxWidth:Be||INFINITY,maxHeight:De||INFINITY}}const round1=Re=>Math.round(Re*10)/10;function getMaximumSize(Re,Ce,je,Be){const De=getComputedStyle$2(Re),Fe=getPositionedStyle(De,"margin"),ke=parseMaxStyle(De.maxWidth,Re,"clientWidth")||INFINITY,Oe=parseMaxStyle(De.maxHeight,Re,"clientHeight")||INFINITY,Me=getContainerSize(Re,Ce,je);let{width:Ue,height:$e}=Me;if(De.boxSizing==="content-box"){const Qe=getPositionedStyle(De,"border","width"),We=getPositionedStyle(De,"padding");Ue-=We.width+Qe.width,$e-=We.height+Qe.height}return Ue=Math.max(0,Ue-Fe.width),$e=Math.max(0,Be?Ue/Be:$e-Fe.height),Ue=round1(Math.min(Ue,ke,Me.maxWidth)),$e=round1(Math.min($e,Oe,Me.maxHeight)),Ue&&!$e&&($e=round1(Ue/2)),(Ce!==void 0||je!==void 0)&&Be&&Me.height&&$e>Me.height&&($e=Me.height,Ue=round1(Math.floor($e*Be))),{width:Ue,height:$e}}function retinaScale(Re,Ce,je){const Be=Ce||1,De=Math.floor(Re.height*Be),Fe=Math.floor(Re.width*Be);Re.height=Math.floor(Re.height),Re.width=Math.floor(Re.width);const ke=Re.canvas;return ke.style&&(je||!ke.style.height&&!ke.style.width)&&(ke.style.height=`${Re.height}px`,ke.style.width=`${Re.width}px`),Re.currentDevicePixelRatio!==Be||ke.height!==De||ke.width!==Fe?(Re.currentDevicePixelRatio=Be,ke.height=De,ke.width=Fe,Re.ctx.setTransform(Be,0,0,Be,0,0),!0):!1}const supportsEventListenerOptions=(function(){let Re=!1;try{const Ce={get passive(){return Re=!0,!1}};_isDomSupported()&&(window.addEventListener("test",null,Ce),window.removeEventListener("test",null,Ce))}catch{}return Re})();function readUsedSize(Re,Ce){const je=getStyle(Re,Ce),Be=je&&je.match(/^(\d+)(\.\d+)?px$/);return Be?+Be[1]:void 0}function _pointInLine(Re,Ce,je,Be){return{x:Re.x+je*(Ce.x-Re.x),y:Re.y+je*(Ce.y-Re.y)}}function _steppedInterpolation(Re,Ce,je,Be){return{x:Re.x+je*(Ce.x-Re.x),y:Be==="middle"?je<.5?Re.y:Ce.y:Be==="after"?je<1?Re.y:Ce.y:je>0?Ce.y:Re.y}}function _bezierInterpolation(Re,Ce,je,Be){const De={x:Re.cp2x,y:Re.cp2y},Fe={x:Ce.cp1x,y:Ce.cp1y},ke=_pointInLine(Re,De,je),Oe=_pointInLine(De,Fe,je),Me=_pointInLine(Fe,Ce,je),Ue=_pointInLine(ke,Oe,je),$e=_pointInLine(Oe,Me,je);return _pointInLine(Ue,$e,je)}const getRightToLeftAdapter=function(Re,Ce){return{x(je){return Re+Re+Ce-je},setWidth(je){Ce=je},textAlign(je){return je==="center"?je:je==="right"?"left":"right"},xPlus(je,Be){return je-Be},leftForLtr(je,Be){return je-Be}}},getLeftToRightAdapter=function(){return{x(Re){return Re},setWidth(Re){},textAlign(Re){return Re},xPlus(Re,Ce){return Re+Ce},leftForLtr(Re,Ce){return Re}}};function getRtlAdapter(Re,Ce,je){return Re?getRightToLeftAdapter(Ce,je):getLeftToRightAdapter()}function overrideTextDirection(Re,Ce){let je,Be;(Ce==="ltr"||Ce==="rtl")&&(je=Re.canvas.style,Be=[je.getPropertyValue("direction"),je.getPropertyPriority("direction")],je.setProperty("direction",Ce,"important"),Re.prevTextDirection=Be)}function restoreTextDirection(Re,Ce){Ce!==void 0&&(delete Re.prevTextDirection,Re.canvas.style.setProperty("direction",Ce[0],Ce[1]))}function propertyFn(Re){return Re==="angle"?{between:_angleBetween,compare:_angleDiff,normalize:_normalizeAngle}:{between:_isBetween,compare:(Ce,je)=>Ce-je,normalize:Ce=>Ce}}function normalizeSegment({start:Re,end:Ce,count:je,loop:Be,style:De}){return{start:Re%je,end:Ce%je,loop:Be&&(Ce-Re+1)%je===0,style:De}}function getSegment(Re,Ce,je){const{property:Be,start:De,end:Fe}=je,{between:ke,normalize:Oe}=propertyFn(Be),Me=Ce.length;let{start:Ue,end:$e,loop:He}=Re,Qe,We;if(He){for(Ue+=Me,$e+=Me,Qe=0,We=Me;Qe<We&&ke(Oe(Ce[Ue%Me][Be]),De,Fe);++Qe)Ue--,$e--;Ue%=Me,$e%=Me}return $e<Ue&&($e+=Me),{start:Ue,end:$e,loop:He,style:Re.style}}function _boundSegment(Re,Ce,je){if(!je)return[Re];const{property:Be,start:De,end:Fe}=je,ke=Ce.length,{compare:Oe,between:Me,normalize:Ue}=propertyFn(Be),{start:$e,end:He,loop:Qe,style:We}=getSegment(Re,Ce,je),qe=[];let Ke=!1,Xe=null,Ye,Ze,Je;const tr=()=>Me(De,Je,Ye)&&Oe(De,Je)!==0,rr=()=>Oe(Fe,Ye)===0||Me(Fe,Je,Ye),ar=()=>Ke||tr(),ir=()=>!Ke||rr();for(let nr=$e,cr=$e;nr<=He;++nr)Ze=Ce[nr%ke],!Ze.skip&&(Ye=Ue(Ze[Be]),Ye!==Je&&(Ke=Me(Ye,De,Fe),Xe===null&&ar()&&(Xe=Oe(Ye,De)===0?nr:cr),Xe!==null&&ir()&&(qe.push(normalizeSegment({start:Xe,end:nr,loop:Qe,count:ke,style:We})),Xe=null),cr=nr,Je=Ye));return Xe!==null&&qe.push(normalizeSegment({start:Xe,end:He,loop:Qe,count:ke,style:We})),qe}function _boundSegments(Re,Ce){const je=[],Be=Re.segments;for(let De=0;De<Be.length;De++){const Fe=_boundSegment(Be[De],Re.points,Ce);Fe.length&&je.push(...Fe)}return je}function findStartAndEnd(Re,Ce,je,Be){let De=0,Fe=Ce-1;if(je&&!Be)for(;De<Ce&&!Re[De].skip;)De++;for(;De<Ce&&Re[De].skip;)De++;for(De%=Ce,je&&(Fe+=De);Fe>De&&Re[Fe%Ce].skip;)Fe--;return Fe%=Ce,{start:De,end:Fe}}function solidSegments(Re,Ce,je,Be){const De=Re.length,Fe=[];let ke=Ce,Oe=Re[Ce],Me;for(Me=Ce+1;Me<=je;++Me){const Ue=Re[Me%De];Ue.skip||Ue.stop?Oe.skip||(Be=!1,Fe.push({start:Ce%De,end:(Me-1)%De,loop:Be}),Ce=ke=Ue.stop?Me:null):(ke=Me,Oe.skip&&(Ce=Me)),Oe=Ue}return ke!==null&&Fe.push({start:Ce%De,end:ke%De,loop:Be}),Fe}function _computeSegments(Re,Ce){const je=Re.points,Be=Re.options.spanGaps,De=je.length;if(!De)return[];const Fe=!!Re._loop,{start:ke,end:Oe}=findStartAndEnd(je,De,Fe,Be);if(Be===!0)return splitByStyles(Re,[{start:ke,end:Oe,loop:Fe}],je,Ce);const Me=Oe<ke?Oe+De:Oe,Ue=!!Re._fullLoop&&ke===0&&Oe===De-1;return splitByStyles(Re,solidSegments(je,ke,Me,Ue),je,Ce)}function splitByStyles(Re,Ce,je,Be){return!Be||!Be.setContext||!je?Ce:doSplitByStyles(Re,Ce,je,Be)}function doSplitByStyles(Re,Ce,je,Be){const De=Re._chart.getContext(),Fe=readStyle(Re.options),{_datasetIndex:ke,options:{spanGaps:Oe}}=Re,Me=je.length,Ue=[];let $e=Fe,He=Ce[0].start,Qe=He;function We(qe,Ke,Xe,Ye){const Ze=Oe?-1:1;if(qe!==Ke){for(qe+=Me;je[qe%Me].skip;)qe-=Ze;for(;je[Ke%Me].skip;)Ke+=Ze;qe%Me!==Ke%Me&&(Ue.push({start:qe%Me,end:Ke%Me,loop:Xe,style:Ye}),$e=Ye,He=Ke%Me)}}for(const qe of Ce){He=Oe?He:qe.start;let Ke=je[He%Me],Xe;for(Qe=He+1;Qe<=qe.end;Qe++){const Ye=je[Qe%Me];Xe=readStyle(Be.setContext(createContext(De,{type:"segment",p0:Ke,p1:Ye,p0DataIndex:(Qe-1)%Me,p1DataIndex:Qe%Me,datasetIndex:ke}))),styleChanged(Xe,$e)&&We(He,Qe-1,qe.loop,$e),Ke=Ye,$e=Xe}He<Qe-1&&We(He,Qe-1,qe.loop,$e)}return Ue}function readStyle(Re){return{backgroundColor:Re.backgroundColor,borderCapStyle:Re.borderCapStyle,borderDash:Re.borderDash,borderDashOffset:Re.borderDashOffset,borderJoinStyle:Re.borderJoinStyle,borderWidth:Re.borderWidth,borderColor:Re.borderColor}}function styleChanged(Re,Ce){if(!Ce)return!1;const je=[],Be=function(De,Fe){return isPatternOrGradient(Fe)?(je.includes(Fe)||je.push(Fe),je.indexOf(Fe)):Fe};return JSON.stringify(Re,Be)!==JSON.stringify(Ce,Be)}function getSizeForArea(Re,Ce,je){return Re.options.clip?Re[je]:Ce[je]}function getDatasetArea(Re,Ce){const{xScale:je,yScale:Be}=Re;return je&&Be?{left:getSizeForArea(je,Ce,"left"),right:getSizeForArea(je,Ce,"right"),top:getSizeForArea(Be,Ce,"top"),bottom:getSizeForArea(Be,Ce,"bottom")}:Ce}function getDatasetClipArea(Re,Ce){const je=Ce._clip;if(je.disabled)return!1;const Be=getDatasetArea(Ce,Re.chartArea);return{left:je.left===!1?0:Be.left-(je.left===!0?0:je.left),right:je.right===!1?Re.width:Be.right+(je.right===!0?0:je.right),top:je.top===!1?0:Be.top-(je.top===!0?0:je.top),bottom:je.bottom===!1?Re.height:Be.bottom+(je.bottom===!0?0:je.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Animator{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(Ce,je,Be,De){const Fe=je.listeners[De],ke=je.duration;Fe.forEach(Oe=>Oe({chart:Ce,initial:je.initial,numSteps:ke,currentStep:Math.min(Be-je.start,ke)}))}_refresh(){this._request||(this._running=!0,this._request=requestAnimFrame.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(Ce=Date.now()){let je=0;this._charts.forEach((Be,De)=>{if(!Be.running||!Be.items.length)return;const Fe=Be.items;let ke=Fe.length-1,Oe=!1,Me;for(;ke>=0;--ke)Me=Fe[ke],Me._active?(Me._total>Be.duration&&(Be.duration=Me._total),Me.tick(Ce),Oe=!0):(Fe[ke]=Fe[Fe.length-1],Fe.pop());Oe&&(De.draw(),this._notify(De,Be,Ce,"progress")),Fe.length||(Be.running=!1,this._notify(De,Be,Ce,"complete"),Be.initial=!1),je+=Fe.length}),this._lastDate=Ce,je===0&&(this._running=!1)}_getAnims(Ce){const je=this._charts;let Be=je.get(Ce);return Be||(Be={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},je.set(Ce,Be)),Be}listen(Ce,je,Be){this._getAnims(Ce).listeners[je].push(Be)}add(Ce,je){!je||!je.length||this._getAnims(Ce).items.push(...je)}has(Ce){return this._getAnims(Ce).items.length>0}start(Ce){const je=this._charts.get(Ce);je&&(je.running=!0,je.start=Date.now(),je.duration=je.items.reduce((Be,De)=>Math.max(Be,De._duration),0),this._refresh())}running(Ce){if(!this._running)return!1;const je=this._charts.get(Ce);return!(!je||!je.running||!je.items.length)}stop(Ce){const je=this._charts.get(Ce);if(!je||!je.items.length)return;const Be=je.items;let De=Be.length-1;for(;De>=0;--De)Be[De].cancel();je.items=[],this._notify(Ce,je,Date.now(),"complete")}remove(Ce){return this._charts.delete(Ce)}}var animator=new Animator;const transparent="transparent",interpolators={boolean(Re,Ce,je){return je>.5?Ce:Re},color(Re,Ce,je){const Be=color$2(Re||transparent),De=Be.valid&&color$2(Ce||transparent);return De&&De.valid?De.mix(Be,je).hexString():Ce},number(Re,Ce,je){return Re+(Ce-Re)*je}};class Animation{constructor(Ce,je,Be,De){const Fe=je[Be];De=resolve([Ce.to,De,Fe,Ce.from]);const ke=resolve([Ce.from,Fe,De]);this._active=!0,this._fn=Ce.fn||interpolators[Ce.type||typeof ke],this._easing=effects[Ce.easing]||effects.linear,this._start=Math.floor(Date.now()+(Ce.delay||0)),this._duration=this._total=Math.floor(Ce.duration),this._loop=!!Ce.loop,this._target=je,this._prop=Be,this._from=ke,this._to=De,this._promises=void 0}active(){return this._active}update(Ce,je,Be){if(this._active){this._notify(!1);const De=this._target[this._prop],Fe=Be-this._start,ke=this._duration-Fe;this._start=Be,this._duration=Math.floor(Math.max(ke,Ce.duration)),this._total+=Fe,this._loop=!!Ce.loop,this._to=resolve([Ce.to,je,De,Ce.from]),this._from=resolve([Ce.from,De,je])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(Ce){const je=Ce-this._start,Be=this._duration,De=this._prop,Fe=this._from,ke=this._loop,Oe=this._to;let Me;if(this._active=Fe!==Oe&&(ke||je<Be),!this._active){this._target[De]=Oe,this._notify(!0);return}if(je<0){this._target[De]=Fe;return}Me=je/Be%2,Me=ke&&Me>1?2-Me:Me,Me=this._easing(Math.min(1,Math.max(0,Me))),this._target[De]=this._fn(Fe,Oe,Me)}wait(){const Ce=this._promises||(this._promises=[]);return new Promise((je,Be)=>{Ce.push({res:je,rej:Be})})}_notify(Ce){const je=Ce?"res":"rej",Be=this._promises||[];for(let De=0;De<Be.length;De++)Be[De][je]()}}class Animations{constructor(Ce,je){this._chart=Ce,this._properties=new Map,this.configure(je)}configure(Ce){if(!isObject$1(Ce))return;const je=Object.keys(defaults$1.animation),Be=this._properties;Object.getOwnPropertyNames(Ce).forEach(De=>{const Fe=Ce[De];if(!isObject$1(Fe))return;const ke={};for(const Oe of je)ke[Oe]=Fe[Oe];(isArray$1(Fe.properties)&&Fe.properties||[De]).forEach(Oe=>{(Oe===De||!Be.has(Oe))&&Be.set(Oe,ke)})})}_animateOptions(Ce,je){const Be=je.options,De=resolveTargetOptions(Ce,Be);if(!De)return[];const Fe=this._createAnimations(De,Be);return Be.$shared&&awaitAll(Ce.options.$animations,Be).then(()=>{Ce.options=Be},()=>{}),Fe}_createAnimations(Ce,je){const Be=this._properties,De=[],Fe=Ce.$animations||(Ce.$animations={}),ke=Object.keys(je),Oe=Date.now();let Me;for(Me=ke.length-1;Me>=0;--Me){const Ue=ke[Me];if(Ue.charAt(0)==="$")continue;if(Ue==="options"){De.push(...this._animateOptions(Ce,je));continue}const $e=je[Ue];let He=Fe[Ue];const Qe=Be.get(Ue);if(He)if(Qe&&He.active()){He.update(Qe,$e,Oe);continue}else He.cancel();if(!Qe||!Qe.duration){Ce[Ue]=$e;continue}Fe[Ue]=He=new Animation(Qe,Ce,Ue,$e),De.push(He)}return De}update(Ce,je){if(this._properties.size===0){Object.assign(Ce,je);return}const Be=this._createAnimations(Ce,je);if(Be.length)return animator.add(this._chart,Be),!0}}function awaitAll(Re,Ce){const je=[],Be=Object.keys(Ce);for(let De=0;De<Be.length;De++){const Fe=Re[Be[De]];Fe&&Fe.active()&&je.push(Fe.wait())}return Promise.all(je)}function resolveTargetOptions(Re,Ce){if(!Ce)return;let je=Re.options;if(!je){Re.options=Ce;return}return je.$shared&&(Re.options=je=Object.assign({},je,{$shared:!1,$animations:{}})),je}function scaleClip(Re,Ce){const je=Re&&Re.options||{},Be=je.reverse,De=je.min===void 0?Ce:0,Fe=je.max===void 0?Ce:0;return{start:Be?Fe:De,end:Be?De:Fe}}function defaultClip(Re,Ce,je){if(je===!1)return!1;const Be=scaleClip(Re,je),De=scaleClip(Ce,je);return{top:De.end,right:Be.end,bottom:De.start,left:Be.start}}function toClip(Re){let Ce,je,Be,De;return isObject$1(Re)?(Ce=Re.top,je=Re.right,Be=Re.bottom,De=Re.left):Ce=je=Be=De=Re,{top:Ce,right:je,bottom:Be,left:De,disabled:Re===!1}}function getSortedDatasetIndices(Re,Ce){const je=[],Be=Re._getSortedDatasetMetas(Ce);let De,Fe;for(De=0,Fe=Be.length;De<Fe;++De)je.push(Be[De].index);return je}function applyStack(Re,Ce,je,Be={}){const De=Re.keys,Fe=Be.mode==="single";let ke,Oe,Me,Ue;if(Ce===null)return;let $e=!1;for(ke=0,Oe=De.length;ke<Oe;++ke){if(Me=+De[ke],Me===je){if($e=!0,Be.all)continue;break}Ue=Re.values[Me],isNumberFinite(Ue)&&(Fe||Ce===0||sign$1(Ce)===sign$1(Ue))&&(Ce+=Ue)}return!$e&&!Be.all?0:Ce}function convertObjectDataToArray(Re,Ce){const{iScale:je,vScale:Be}=Ce,De=je.axis==="x"?"x":"y",Fe=Be.axis==="x"?"x":"y",ke=Object.keys(Re),Oe=new Array(ke.length);let Me,Ue,$e;for(Me=0,Ue=ke.length;Me<Ue;++Me)$e=ke[Me],Oe[Me]={[De]:$e,[Fe]:Re[$e]};return Oe}function isStacked$1(Re,Ce){const je=Re&&Re.options.stacked;return je||je===void 0&&Ce.stack!==void 0}function getStackKey(Re,Ce,je){return`${Re.id}.${Ce.id}.${je.stack||je.type}`}function getUserBounds(Re){const{min:Ce,max:je,minDefined:Be,maxDefined:De}=Re.getUserBounds();return{min:Be?Ce:Number.NEGATIVE_INFINITY,max:De?je:Number.POSITIVE_INFINITY}}function getOrCreateStack(Re,Ce,je){const Be=Re[Ce]||(Re[Ce]={});return Be[je]||(Be[je]={})}function getLastIndexInStack(Re,Ce,je,Be){for(const De of Ce.getMatchingVisibleMetas(Be).reverse()){const Fe=Re[De.index];if(je&&Fe>0||!je&&Fe<0)return De.index}return null}function updateStacks(Re,Ce){const{chart:je,_cachedMeta:Be}=Re,De=je._stacks||(je._stacks={}),{iScale:Fe,vScale:ke,index:Oe}=Be,Me=Fe.axis,Ue=ke.axis,$e=getStackKey(Fe,ke,Be),He=Ce.length;let Qe;for(let We=0;We<He;++We){const qe=Ce[We],{[Me]:Ke,[Ue]:Xe}=qe,Ye=qe._stacks||(qe._stacks={});Qe=Ye[Ue]=getOrCreateStack(De,$e,Ke),Qe[Oe]=Xe,Qe._top=getLastIndexInStack(Qe,ke,!0,Be.type),Qe._bottom=getLastIndexInStack(Qe,ke,!1,Be.type);const Ze=Qe._visualValues||(Qe._visualValues={});Ze[Oe]=Xe}}function getFirstScaleId(Re,Ce){const je=Re.scales;return Object.keys(je).filter(Be=>je[Be].axis===Ce).shift()}function createDatasetContext(Re,Ce){return createContext(Re,{active:!1,dataset:void 0,datasetIndex:Ce,index:Ce,mode:"default",type:"dataset"})}function createDataContext(Re,Ce,je){return createContext(Re,{active:!1,dataIndex:Ce,parsed:void 0,raw:void 0,element:je,index:Ce,mode:"default",type:"data"})}function clearStacks(Re,Ce){const je=Re.controller.index,Be=Re.vScale&&Re.vScale.axis;if(Be){Ce=Ce||Re._parsed;for(const De of Ce){const Fe=De._stacks;if(!Fe||Fe[Be]===void 0||Fe[Be][je]===void 0)return;delete Fe[Be][je],Fe[Be]._visualValues!==void 0&&Fe[Be]._visualValues[je]!==void 0&&delete Fe[Be]._visualValues[je]}}}const isDirectUpdateMode=Re=>Re==="reset"||Re==="none",cloneIfNotShared=(Re,Ce)=>Ce?Re:Object.assign({},Re),createStack=(Re,Ce,je)=>Re&&!Ce.hidden&&Ce._stacked&&{keys:getSortedDatasetIndices(je,!0),values:null};class DatasetController{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(Ce,je){this.chart=Ce,this._ctx=Ce.ctx,this.index=je,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const Ce=this._cachedMeta;this.configure(),this.linkScales(),Ce._stacked=isStacked$1(Ce.vScale,Ce),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(Ce){this.index!==Ce&&clearStacks(this._cachedMeta),this.index=Ce}linkScales(){const Ce=this.chart,je=this._cachedMeta,Be=this.getDataset(),De=(He,Qe,We,qe)=>He==="x"?Qe:He==="r"?qe:We,Fe=je.xAxisID=valueOrDefault(Be.xAxisID,getFirstScaleId(Ce,"x")),ke=je.yAxisID=valueOrDefault(Be.yAxisID,getFirstScaleId(Ce,"y")),Oe=je.rAxisID=valueOrDefault(Be.rAxisID,getFirstScaleId(Ce,"r")),Me=je.indexAxis,Ue=je.iAxisID=De(Me,Fe,ke,Oe),$e=je.vAxisID=De(Me,ke,Fe,Oe);je.xScale=this.getScaleForId(Fe),je.yScale=this.getScaleForId(ke),je.rScale=this.getScaleForId(Oe),je.iScale=this.getScaleForId(Ue),je.vScale=this.getScaleForId($e)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(Ce){return this.chart.scales[Ce]}_getOtherScale(Ce){const je=this._cachedMeta;return Ce===je.iScale?je.vScale:je.iScale}reset(){this._update("reset")}_destroy(){const Ce=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),Ce._stacked&&clearStacks(Ce)}_dataCheck(){const Ce=this.getDataset(),je=Ce.data||(Ce.data=[]),Be=this._data;if(isObject$1(je)){const De=this._cachedMeta;this._data=convertObjectDataToArray(je,De)}else if(Be!==je){if(Be){unlistenArrayEvents(Be,this);const De=this._cachedMeta;clearStacks(De),De._parsed=[]}je&&Object.isExtensible(je)&&listenArrayEvents(je,this),this._syncList=[],this._data=je}}addElements(){const Ce=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(Ce.dataset=new this.datasetElementType)}buildOrUpdateElements(Ce){const je=this._cachedMeta,Be=this.getDataset();let De=!1;this._dataCheck();const Fe=je._stacked;je._stacked=isStacked$1(je.vScale,je),je.stack!==Be.stack&&(De=!0,clearStacks(je),je.stack=Be.stack),this._resyncElements(Ce),(De||Fe!==je._stacked)&&(updateStacks(this,je._parsed),je._stacked=isStacked$1(je.vScale,je))}configure(){const Ce=this.chart.config,je=Ce.datasetScopeKeys(this._type),Be=Ce.getOptionScopes(this.getDataset(),je,!0);this.options=Ce.createResolver(Be,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(Ce,je){const{_cachedMeta:Be,_data:De}=this,{iScale:Fe,_stacked:ke}=Be,Oe=Fe.axis;let Me=Ce===0&&je===De.length?!0:Be._sorted,Ue=Ce>0&&Be._parsed[Ce-1],$e,He,Qe;if(this._parsing===!1)Be._parsed=De,Be._sorted=!0,Qe=De;else{isArray$1(De[Ce])?Qe=this.parseArrayData(Be,De,Ce,je):isObject$1(De[Ce])?Qe=this.parseObjectData(Be,De,Ce,je):Qe=this.parsePrimitiveData(Be,De,Ce,je);const We=()=>He[Oe]===null||Ue&&He[Oe]<Ue[Oe];for($e=0;$e<je;++$e)Be._parsed[$e+Ce]=He=Qe[$e],Me&&(We()&&(Me=!1),Ue=He);Be._sorted=Me}ke&&updateStacks(this,Qe)}parsePrimitiveData(Ce,je,Be,De){const{iScale:Fe,vScale:ke}=Ce,Oe=Fe.axis,Me=ke.axis,Ue=Fe.getLabels(),$e=Fe===ke,He=new Array(De);let Qe,We,qe;for(Qe=0,We=De;Qe<We;++Qe)qe=Qe+Be,He[Qe]={[Oe]:$e||Fe.parse(Ue[qe],qe),[Me]:ke.parse(je[qe],qe)};return He}parseArrayData(Ce,je,Be,De){const{xScale:Fe,yScale:ke}=Ce,Oe=new Array(De);let Me,Ue,$e,He;for(Me=0,Ue=De;Me<Ue;++Me)$e=Me+Be,He=je[$e],Oe[Me]={x:Fe.parse(He[0],$e),y:ke.parse(He[1],$e)};return Oe}parseObjectData(Ce,je,Be,De){const{xScale:Fe,yScale:ke}=Ce,{xAxisKey:Oe="x",yAxisKey:Me="y"}=this._parsing,Ue=new Array(De);let $e,He,Qe,We;for($e=0,He=De;$e<He;++$e)Qe=$e+Be,We=je[Qe],Ue[$e]={x:Fe.parse(resolveObjectKey(We,Oe),Qe),y:ke.parse(resolveObjectKey(We,Me),Qe)};return Ue}getParsed(Ce){return this._cachedMeta._parsed[Ce]}getDataElement(Ce){return this._cachedMeta.data[Ce]}applyStack(Ce,je,Be){const De=this.chart,Fe=this._cachedMeta,ke=je[Ce.axis],Oe={keys:getSortedDatasetIndices(De,!0),values:je._stacks[Ce.axis]._visualValues};return applyStack(Oe,ke,Fe.index,{mode:Be})}updateRangeFromParsed(Ce,je,Be,De){const Fe=Be[je.axis];let ke=Fe===null?NaN:Fe;const Oe=De&&Be._stacks[je.axis];De&&Oe&&(De.values=Oe,ke=applyStack(De,Fe,this._cachedMeta.index)),Ce.min=Math.min(Ce.min,ke),Ce.max=Math.max(Ce.max,ke)}getMinMax(Ce,je){const Be=this._cachedMeta,De=Be._parsed,Fe=Be._sorted&&Ce===Be.iScale,ke=De.length,Oe=this._getOtherScale(Ce),Me=createStack(je,Be,this.chart),Ue={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:$e,max:He}=getUserBounds(Oe);let Qe,We;function qe(){We=De[Qe];const Ke=We[Oe.axis];return!isNumberFinite(We[Ce.axis])||$e>Ke||He<Ke}for(Qe=0;Qe<ke&&!(!qe()&&(this.updateRangeFromParsed(Ue,Ce,We,Me),Fe));++Qe);if(Fe){for(Qe=ke-1;Qe>=0;--Qe)if(!qe()){this.updateRangeFromParsed(Ue,Ce,We,Me);break}}return Ue}getAllParsedValues(Ce){const je=this._cachedMeta._parsed,Be=[];let De,Fe,ke;for(De=0,Fe=je.length;De<Fe;++De)ke=je[De][Ce.axis],isNumberFinite(ke)&&Be.push(ke);return Be}getMaxOverflow(){return!1}getLabelAndValue(Ce){const je=this._cachedMeta,Be=je.iScale,De=je.vScale,Fe=this.getParsed(Ce);return{label:Be?""+Be.getLabelForValue(Fe[Be.axis]):"",value:De?""+De.getLabelForValue(Fe[De.axis]):""}}_update(Ce){const je=this._cachedMeta;this.update(Ce||"default"),je._clip=toClip(valueOrDefault(this.options.clip,defaultClip(je.xScale,je.yScale,this.getMaxOverflow())))}update(Ce){}draw(){const Ce=this._ctx,je=this.chart,Be=this._cachedMeta,De=Be.data||[],Fe=je.chartArea,ke=[],Oe=this._drawStart||0,Me=this._drawCount||De.length-Oe,Ue=this.options.drawActiveElementsOnTop;let $e;for(Be.dataset&&Be.dataset.draw(Ce,Fe,Oe,Me),$e=Oe;$e<Oe+Me;++$e){const He=De[$e];He.hidden||(He.active&&Ue?ke.push(He):He.draw(Ce,Fe))}for($e=0;$e<ke.length;++$e)ke[$e].draw(Ce,Fe)}getStyle(Ce,je){const Be=je?"active":"default";return Ce===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(Be):this.resolveDataElementOptions(Ce||0,Be)}getContext(Ce,je,Be){const De=this.getDataset();let Fe;if(Ce>=0&&Ce<this._cachedMeta.data.length){const ke=this._cachedMeta.data[Ce];Fe=ke.$context||(ke.$context=createDataContext(this.getContext(),Ce,ke)),Fe.parsed=this.getParsed(Ce),Fe.raw=De.data[Ce],Fe.index=Fe.dataIndex=Ce}else Fe=this.$context||(this.$context=createDatasetContext(this.chart.getContext(),this.index)),Fe.dataset=De,Fe.index=Fe.datasetIndex=this.index;return Fe.active=!!je,Fe.mode=Be,Fe}resolveDatasetElementOptions(Ce){return this._resolveElementOptions(this.datasetElementType.id,Ce)}resolveDataElementOptions(Ce,je){return this._resolveElementOptions(this.dataElementType.id,je,Ce)}_resolveElementOptions(Ce,je="default",Be){const De=je==="active",Fe=this._cachedDataOpts,ke=Ce+"-"+je,Oe=Fe[ke],Me=this.enableOptionSharing&&defined$1(Be);if(Oe)return cloneIfNotShared(Oe,Me);const Ue=this.chart.config,$e=Ue.datasetElementScopeKeys(this._type,Ce),He=De?[`${Ce}Hover`,"hover",Ce,""]:[Ce,""],Qe=Ue.getOptionScopes(this.getDataset(),$e),We=Object.keys(defaults$1.elements[Ce]),qe=()=>this.getContext(Be,De,je),Ke=Ue.resolveNamedOptions(Qe,We,qe,He);return Ke.$shared&&(Ke.$shared=Me,Fe[ke]=Object.freeze(cloneIfNotShared(Ke,Me))),Ke}_resolveAnimations(Ce,je,Be){const De=this.chart,Fe=this._cachedDataOpts,ke=`animation-${je}`,Oe=Fe[ke];if(Oe)return Oe;let Me;if(De.options.animation!==!1){const $e=this.chart.config,He=$e.datasetAnimationScopeKeys(this._type,je),Qe=$e.getOptionScopes(this.getDataset(),He);Me=$e.createResolver(Qe,this.getContext(Ce,Be,je))}const Ue=new Animations(De,Me&&Me.animations);return Me&&Me._cacheable&&(Fe[ke]=Object.freeze(Ue)),Ue}getSharedOptions(Ce){if(Ce.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},Ce))}includeOptions(Ce,je){return!je||isDirectUpdateMode(Ce)||this.chart._animationsDisabled}_getSharedOptions(Ce,je){const Be=this.resolveDataElementOptions(Ce,je),De=this._sharedOptions,Fe=this.getSharedOptions(Be),ke=this.includeOptions(je,Fe)||Fe!==De;return this.updateSharedOptions(Fe,je,Be),{sharedOptions:Fe,includeOptions:ke}}updateElement(Ce,je,Be,De){isDirectUpdateMode(De)?Object.assign(Ce,Be):this._resolveAnimations(je,De).update(Ce,Be)}updateSharedOptions(Ce,je,Be){Ce&&!isDirectUpdateMode(je)&&this._resolveAnimations(void 0,je).update(Ce,Be)}_setStyle(Ce,je,Be,De){Ce.active=De;const Fe=this.getStyle(je,De);this._resolveAnimations(je,Be,De).update(Ce,{options:!De&&this.getSharedOptions(Fe)||Fe})}removeHoverStyle(Ce,je,Be){this._setStyle(Ce,Be,"active",!1)}setHoverStyle(Ce,je,Be){this._setStyle(Ce,Be,"active",!0)}_removeDatasetHoverStyle(){const Ce=this._cachedMeta.dataset;Ce&&this._setStyle(Ce,void 0,"active",!1)}_setDatasetHoverStyle(){const Ce=this._cachedMeta.dataset;Ce&&this._setStyle(Ce,void 0,"active",!0)}_resyncElements(Ce){const je=this._data,Be=this._cachedMeta.data;for(const[Oe,Me,Ue]of this._syncList)this[Oe](Me,Ue);this._syncList=[];const De=Be.length,Fe=je.length,ke=Math.min(Fe,De);ke&&this.parse(0,ke),Fe>De?this._insertElements(De,Fe-De,Ce):Fe<De&&this._removeElements(Fe,De-Fe)}_insertElements(Ce,je,Be=!0){const De=this._cachedMeta,Fe=De.data,ke=Ce+je;let Oe;const Me=Ue=>{for(Ue.length+=je,Oe=Ue.length-1;Oe>=ke;Oe--)Ue[Oe]=Ue[Oe-je]};for(Me(Fe),Oe=Ce;Oe<ke;++Oe)Fe[Oe]=new this.dataElementType;this._parsing&&Me(De._parsed),this.parse(Ce,je),Be&&this.updateElements(Fe,Ce,je,"reset")}updateElements(Ce,je,Be,De){}_removeElements(Ce,je){const Be=this._cachedMeta;if(this._parsing){const De=Be._parsed.splice(Ce,je);Be._stacked&&clearStacks(Be,De)}Be.data.splice(Ce,je)}_sync(Ce){if(this._parsing)this._syncList.push(Ce);else{const[je,Be,De]=Ce;this[je](Be,De)}this.chart._dataChanges.push([this.index,...Ce])}_onDataPush(){const Ce=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-Ce,Ce])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(Ce,je){je&&this._sync(["_removeElements",Ce,je]);const Be=arguments.length-2;Be&&this._sync(["_insertElements",Ce,Be])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function getAllScaleValues(Re,Ce){if(!Re._cache.$bar){const je=Re.getMatchingVisibleMetas(Ce);let Be=[];for(let De=0,Fe=je.length;De<Fe;De++)Be=Be.concat(je[De].controller.getAllParsedValues(Re));Re._cache.$bar=_arrayUnique(Be.sort((De,Fe)=>De-Fe))}return Re._cache.$bar}function computeMinSampleSize(Re){const Ce=Re.iScale,je=getAllScaleValues(Ce,Re.type);let Be=Ce._length,De,Fe,ke,Oe;const Me=()=>{ke===32767||ke===-32768||(defined$1(Oe)&&(Be=Math.min(Be,Math.abs(ke-Oe)||Be)),Oe=ke)};for(De=0,Fe=je.length;De<Fe;++De)ke=Ce.getPixelForValue(je[De]),Me();for(Oe=void 0,De=0,Fe=Ce.ticks.length;De<Fe;++De)ke=Ce.getPixelForTick(De),Me();return Be}function computeFitCategoryTraits(Re,Ce,je,Be){const De=je.barThickness;let Fe,ke;return isNullOrUndef(De)?(Fe=Ce.min*je.categoryPercentage,ke=je.barPercentage):(Fe=De*Be,ke=1),{chunk:Fe/Be,ratio:ke,start:Ce.pixels[Re]-Fe/2}}function computeFlexCategoryTraits(Re,Ce,je,Be){const De=Ce.pixels,Fe=De[Re];let ke=Re>0?De[Re-1]:null,Oe=Re<De.length-1?De[Re+1]:null;const Me=je.categoryPercentage;ke===null&&(ke=Fe-(Oe===null?Ce.end-Ce.start:Oe-Fe)),Oe===null&&(Oe=Fe+Fe-ke);const Ue=Fe-(Fe-Math.min(ke,Oe))/2*Me;return{chunk:Math.abs(Oe-ke)/2*Me/Be,ratio:je.barPercentage,start:Ue}}function parseFloatBar(Re,Ce,je,Be){const De=je.parse(Re[0],Be),Fe=je.parse(Re[1],Be),ke=Math.min(De,Fe),Oe=Math.max(De,Fe);let Me=ke,Ue=Oe;Math.abs(ke)>Math.abs(Oe)&&(Me=Oe,Ue=ke),Ce[je.axis]=Ue,Ce._custom={barStart:Me,barEnd:Ue,start:De,end:Fe,min:ke,max:Oe}}function parseValue(Re,Ce,je,Be){return isArray$1(Re)?parseFloatBar(Re,Ce,je,Be):Ce[je.axis]=je.parse(Re,Be),Ce}function parseArrayOrPrimitive(Re,Ce,je,Be){const De=Re.iScale,Fe=Re.vScale,ke=De.getLabels(),Oe=De===Fe,Me=[];let Ue,$e,He,Qe;for(Ue=je,$e=je+Be;Ue<$e;++Ue)Qe=Ce[Ue],He={},He[De.axis]=Oe||De.parse(ke[Ue],Ue),Me.push(parseValue(Qe,He,Fe,Ue));return Me}function isFloatBar(Re){return Re&&Re.barStart!==void 0&&Re.barEnd!==void 0}function barSign(Re,Ce,je){return Re!==0?sign$1(Re):(Ce.isHorizontal()?1:-1)*(Ce.min>=je?1:-1)}function borderProps(Re){let Ce,je,Be,De,Fe;return Re.horizontal?(Ce=Re.base>Re.x,je="left",Be="right"):(Ce=Re.base<Re.y,je="bottom",Be="top"),Ce?(De="end",Fe="start"):(De="start",Fe="end"),{start:je,end:Be,reverse:Ce,top:De,bottom:Fe}}function setBorderSkipped(Re,Ce,je,Be){let De=Ce.borderSkipped;const Fe={};if(!De){Re.borderSkipped=Fe;return}if(De===!0){Re.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:ke,end:Oe,reverse:Me,top:Ue,bottom:$e}=borderProps(Re);De==="middle"&&je&&(Re.enableBorderRadius=!0,(je._top||0)===Be?De=Ue:(je._bottom||0)===Be?De=$e:(Fe[parseEdge($e,ke,Oe,Me)]=!0,De=Ue)),Fe[parseEdge(De,ke,Oe,Me)]=!0,Re.borderSkipped=Fe}function parseEdge(Re,Ce,je,Be){return Be?(Re=swap$1(Re,Ce,je),Re=startEnd(Re,je,Ce)):Re=startEnd(Re,Ce,je),Re}function swap$1(Re,Ce,je){return Re===Ce?je:Re===je?Ce:Re}function startEnd(Re,Ce,je){return Re==="start"?Ce:Re==="end"?je:Re}function setInflateAmount(Re,{inflateAmount:Ce},je){Re.inflateAmount=Ce==="auto"?je===1?.33:0:Ce}class BarController extends DatasetController{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(Ce,je,Be,De){return parseArrayOrPrimitive(Ce,je,Be,De)}parseArrayData(Ce,je,Be,De){return parseArrayOrPrimitive(Ce,je,Be,De)}parseObjectData(Ce,je,Be,De){const{iScale:Fe,vScale:ke}=Ce,{xAxisKey:Oe="x",yAxisKey:Me="y"}=this._parsing,Ue=Fe.axis==="x"?Oe:Me,$e=ke.axis==="x"?Oe:Me,He=[];let Qe,We,qe,Ke;for(Qe=Be,We=Be+De;Qe<We;++Qe)Ke=je[Qe],qe={},qe[Fe.axis]=Fe.parse(resolveObjectKey(Ke,Ue),Qe),He.push(parseValue(resolveObjectKey(Ke,$e),qe,ke,Qe));return He}updateRangeFromParsed(Ce,je,Be,De){super.updateRangeFromParsed(Ce,je,Be,De);const Fe=Be._custom;Fe&&je===this._cachedMeta.vScale&&(Ce.min=Math.min(Ce.min,Fe.min),Ce.max=Math.max(Ce.max,Fe.max))}getMaxOverflow(){return 0}getLabelAndValue(Ce){const je=this._cachedMeta,{iScale:Be,vScale:De}=je,Fe=this.getParsed(Ce),ke=Fe._custom,Oe=isFloatBar(ke)?"["+ke.start+", "+ke.end+"]":""+De.getLabelForValue(Fe[De.axis]);return{label:""+Be.getLabelForValue(Fe[Be.axis]),value:Oe}}initialize(){this.enableOptionSharing=!0,super.initialize();const Ce=this._cachedMeta;Ce.stack=this.getDataset().stack}update(Ce){const je=this._cachedMeta;this.updateElements(je.data,0,je.data.length,Ce)}updateElements(Ce,je,Be,De){const Fe=De==="reset",{index:ke,_cachedMeta:{vScale:Oe}}=this,Me=Oe.getBasePixel(),Ue=Oe.isHorizontal(),$e=this._getRuler(),{sharedOptions:He,includeOptions:Qe}=this._getSharedOptions(je,De);for(let We=je;We<je+Be;We++){const qe=this.getParsed(We),Ke=Fe||isNullOrUndef(qe[Oe.axis])?{base:Me,head:Me}:this._calculateBarValuePixels(We),Xe=this._calculateBarIndexPixels(We,$e),Ye=(qe._stacks||{})[Oe.axis],Ze={horizontal:Ue,base:Ke.base,enableBorderRadius:!Ye||isFloatBar(qe._custom)||ke===Ye._top||ke===Ye._bottom,x:Ue?Ke.head:Xe.center,y:Ue?Xe.center:Ke.head,height:Ue?Xe.size:Math.abs(Ke.size),width:Ue?Math.abs(Ke.size):Xe.size};Qe&&(Ze.options=He||this.resolveDataElementOptions(We,Ce[We].active?"active":De));const Je=Ze.options||Ce[We].options;setBorderSkipped(Ze,Je,Ye,ke),setInflateAmount(Ze,Je,$e.ratio),this.updateElement(Ce[We],We,Ze,De)}}_getStacks(Ce,je){const{iScale:Be}=this._cachedMeta,De=Be.getMatchingVisibleMetas(this._type).filter($e=>$e.controller.options.grouped),Fe=Be.options.stacked,ke=[],Oe=this._cachedMeta.controller.getParsed(je),Me=Oe&&Oe[Be.axis],Ue=$e=>{const He=$e._parsed.find(We=>We[Be.axis]===Me),Qe=He&&He[$e.vScale.axis];if(isNullOrUndef(Qe)||isNaN(Qe))return!0};for(const $e of De)if(!(je!==void 0&&Ue($e))&&((Fe===!1||ke.indexOf($e.stack)===-1||Fe===void 0&&$e.stack===void 0)&&ke.push($e.stack),$e.index===Ce))break;return ke.length||ke.push(void 0),ke}_getStackCount(Ce){return this._getStacks(void 0,Ce).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const Ce=this.chart.scales,je=this.chart.options.indexAxis;return Object.keys(Ce).filter(Be=>Ce[Be].axis===je).shift()}_getAxis(){const Ce={},je=this.getFirstScaleIdForIndexAxis();for(const Be of this.chart.data.datasets)Ce[valueOrDefault(this.chart.options.indexAxis==="x"?Be.xAxisID:Be.yAxisID,je)]=!0;return Object.keys(Ce)}_getStackIndex(Ce,je,Be){const De=this._getStacks(Ce,Be),Fe=je!==void 0?De.indexOf(je):-1;return Fe===-1?De.length-1:Fe}_getRuler(){const Ce=this.options,je=this._cachedMeta,Be=je.iScale,De=[];let Fe,ke;for(Fe=0,ke=je.data.length;Fe<ke;++Fe)De.push(Be.getPixelForValue(this.getParsed(Fe)[Be.axis],Fe));const Oe=Ce.barThickness;return{min:Oe||computeMinSampleSize(je),pixels:De,start:Be._startPixel,end:Be._endPixel,stackCount:this._getStackCount(),scale:Be,grouped:Ce.grouped,ratio:Oe?1:Ce.categoryPercentage*Ce.barPercentage}}_calculateBarValuePixels(Ce){const{_cachedMeta:{vScale:je,_stacked:Be,index:De},options:{base:Fe,minBarLength:ke}}=this,Oe=Fe||0,Me=this.getParsed(Ce),Ue=Me._custom,$e=isFloatBar(Ue);let He=Me[je.axis],Qe=0,We=Be?this.applyStack(je,Me,Be):He,qe,Ke;We!==He&&(Qe=We-He,We=He),$e&&(He=Ue.barStart,We=Ue.barEnd-Ue.barStart,He!==0&&sign$1(He)!==sign$1(Ue.barEnd)&&(Qe=0),Qe+=He);const Xe=!isNullOrUndef(Fe)&&!$e?Fe:Qe;let Ye=je.getPixelForValue(Xe);if(this.chart.getDataVisibility(Ce)?qe=je.getPixelForValue(Qe+We):qe=Ye,Ke=qe-Ye,Math.abs(Ke)<ke){Ke=barSign(Ke,je,Oe)*ke,He===Oe&&(Ye-=Ke/2);const Ze=je.getPixelForDecimal(0),Je=je.getPixelForDecimal(1),tr=Math.min(Ze,Je),rr=Math.max(Ze,Je);Ye=Math.max(Math.min(Ye,rr),tr),qe=Ye+Ke,Be&&!$e&&(Me._stacks[je.axis]._visualValues[De]=je.getValueForPixel(qe)-je.getValueForPixel(Ye))}if(Ye===je.getPixelForValue(Oe)){const Ze=sign$1(Ke)*je.getLineWidthForValue(Oe)/2;Ye+=Ze,Ke-=Ze}return{size:Ke,base:Ye,head:qe,center:qe+Ke/2}}_calculateBarIndexPixels(Ce,je){const Be=je.scale,De=this.options,Fe=De.skipNull,ke=valueOrDefault(De.maxBarThickness,1/0);let Oe,Me;const Ue=this._getAxisCount();if(je.grouped){const $e=Fe?this._getStackCount(Ce):je.stackCount,He=De.barThickness==="flex"?computeFlexCategoryTraits(Ce,je,De,$e*Ue):computeFitCategoryTraits(Ce,je,De,$e*Ue),Qe=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,We=this._getAxis().indexOf(valueOrDefault(Qe,this.getFirstScaleIdForIndexAxis())),qe=this._getStackIndex(this.index,this._cachedMeta.stack,Fe?Ce:void 0)+We;Oe=He.start+He.chunk*qe+He.chunk/2,Me=Math.min(ke,He.chunk*He.ratio)}else Oe=Be.getPixelForValue(this.getParsed(Ce)[Be.axis],Ce),Me=Math.min(ke,je.min*je.ratio);return{base:Oe-Me/2,head:Oe+Me/2,center:Oe,size:Me}}draw(){const Ce=this._cachedMeta,je=Ce.vScale,Be=Ce.data,De=Be.length;let Fe=0;for(;Fe<De;++Fe)this.getParsed(Fe)[je.axis]!==null&&!Be[Fe].hidden&&Be[Fe].draw(this._ctx)}}function getRatioAndOffset(Re,Ce,je){let Be=1,De=1,Fe=0,ke=0;if(Ce<TAU){const Oe=Re,Me=Oe+Ce,Ue=Math.cos(Oe),$e=Math.sin(Oe),He=Math.cos(Me),Qe=Math.sin(Me),We=(Je,tr,rr)=>_angleBetween(Je,Oe,Me,!0)?1:Math.max(tr,tr*je,rr,rr*je),qe=(Je,tr,rr)=>_angleBetween(Je,Oe,Me,!0)?-1:Math.min(tr,tr*je,rr,rr*je),Ke=We(0,Ue,He),Xe=We(HALF_PI,$e,Qe),Ye=qe(PI,Ue,He),Ze=qe(PI+HALF_PI,$e,Qe);Be=(Ke-Ye)/2,De=(Xe-Ze)/2,Fe=-(Ke+Ye)/2,ke=-(Xe+Ze)/2}return{ratioX:Be,ratioY:De,offsetX:Fe,offsetY:ke}}class DoughnutController extends DatasetController{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:Ce=>Ce!=="spacing",_indexable:Ce=>Ce!=="spacing"&&!Ce.startsWith("borderDash")&&!Ce.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(Ce){const je=Ce.data;if(je.labels.length&&je.datasets.length){const{labels:{pointStyle:Be,color:De}}=Ce.legend.options;return je.labels.map((Fe,ke)=>{const Me=Ce.getDatasetMeta(0).controller.getStyle(ke);return{text:Fe,fillStyle:Me.backgroundColor,strokeStyle:Me.borderColor,fontColor:De,lineWidth:Me.borderWidth,pointStyle:Be,hidden:!Ce.getDataVisibility(ke),index:ke}})}return[]}},onClick(Ce,je,Be){Be.chart.toggleDataVisibility(je.index),Be.chart.update()}}}};constructor(Ce,je){super(Ce,je),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(Ce,je){const Be=this.getDataset().data,De=this._cachedMeta;if(this._parsing===!1)De._parsed=Be;else{let Fe=Me=>+Be[Me];if(isObject$1(Be[Ce])){const{key:Me="value"}=this._parsing;Fe=Ue=>+resolveObjectKey(Be[Ue],Me)}let ke,Oe;for(ke=Ce,Oe=Ce+je;ke<Oe;++ke)De._parsed[ke]=Fe(ke)}}_getRotation(){return toRadians(this.options.rotation-90)}_getCircumference(){return toRadians(this.options.circumference)}_getRotationExtents(){let Ce=TAU,je=-TAU;for(let Be=0;Be<this.chart.data.datasets.length;++Be)if(this.chart.isDatasetVisible(Be)&&this.chart.getDatasetMeta(Be).type===this._type){const De=this.chart.getDatasetMeta(Be).controller,Fe=De._getRotation(),ke=De._getCircumference();Ce=Math.min(Ce,Fe),je=Math.max(je,Fe+ke)}return{rotation:Ce,circumference:je-Ce}}update(Ce){const je=this.chart,{chartArea:Be}=je,De=this._cachedMeta,Fe=De.data,ke=this.getMaxBorderWidth()+this.getMaxOffset(Fe)+this.options.spacing,Oe=Math.max((Math.min(Be.width,Be.height)-ke)/2,0),Me=Math.min(toPercentage(this.options.cutout,Oe),1),Ue=this._getRingWeight(this.index),{circumference:$e,rotation:He}=this._getRotationExtents(),{ratioX:Qe,ratioY:We,offsetX:qe,offsetY:Ke}=getRatioAndOffset(He,$e,Me),Xe=(Be.width-ke)/Qe,Ye=(Be.height-ke)/We,Ze=Math.max(Math.min(Xe,Ye)/2,0),Je=toDimension(this.options.radius,Ze),tr=Math.max(Je*Me,0),rr=(Je-tr)/this._getVisibleDatasetWeightTotal();this.offsetX=qe*Je,this.offsetY=Ke*Je,De.total=this.calculateTotal(),this.outerRadius=Je-rr*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-rr*Ue,0),this.updateElements(Fe,0,Fe.length,Ce)}_circumference(Ce,je){const Be=this.options,De=this._cachedMeta,Fe=this._getCircumference();return je&&Be.animation.animateRotate||!this.chart.getDataVisibility(Ce)||De._parsed[Ce]===null||De.data[Ce].hidden?0:this.calculateCircumference(De._parsed[Ce]*Fe/TAU)}updateElements(Ce,je,Be,De){const Fe=De==="reset",ke=this.chart,Oe=ke.chartArea,Ue=ke.options.animation,$e=(Oe.left+Oe.right)/2,He=(Oe.top+Oe.bottom)/2,Qe=Fe&&Ue.animateScale,We=Qe?0:this.innerRadius,qe=Qe?0:this.outerRadius,{sharedOptions:Ke,includeOptions:Xe}=this._getSharedOptions(je,De);let Ye=this._getRotation(),Ze;for(Ze=0;Ze<je;++Ze)Ye+=this._circumference(Ze,Fe);for(Ze=je;Ze<je+Be;++Ze){const Je=this._circumference(Ze,Fe),tr=Ce[Ze],rr={x:$e+this.offsetX,y:He+this.offsetY,startAngle:Ye,endAngle:Ye+Je,circumference:Je,outerRadius:qe,innerRadius:We};Xe&&(rr.options=Ke||this.resolveDataElementOptions(Ze,tr.active?"active":De)),Ye+=Je,this.updateElement(tr,Ze,rr,De)}}calculateTotal(){const Ce=this._cachedMeta,je=Ce.data;let Be=0,De;for(De=0;De<je.length;De++){const Fe=Ce._parsed[De];Fe!==null&&!isNaN(Fe)&&this.chart.getDataVisibility(De)&&!je[De].hidden&&(Be+=Math.abs(Fe))}return Be}calculateCircumference(Ce){const je=this._cachedMeta.total;return je>0&&!isNaN(Ce)?TAU*(Math.abs(Ce)/je):0}getLabelAndValue(Ce){const je=this._cachedMeta,Be=this.chart,De=Be.data.labels||[],Fe=formatNumber(je._parsed[Ce],Be.options.locale);return{label:De[Ce]||"",value:Fe}}getMaxBorderWidth(Ce){let je=0;const Be=this.chart;let De,Fe,ke,Oe,Me;if(!Ce){for(De=0,Fe=Be.data.datasets.length;De<Fe;++De)if(Be.isDatasetVisible(De)){ke=Be.getDatasetMeta(De),Ce=ke.data,Oe=ke.controller;break}}if(!Ce)return 0;for(De=0,Fe=Ce.length;De<Fe;++De)Me=Oe.resolveDataElementOptions(De),Me.borderAlign!=="inner"&&(je=Math.max(je,Me.borderWidth||0,Me.hoverBorderWidth||0));return je}getMaxOffset(Ce){let je=0;for(let Be=0,De=Ce.length;Be<De;++Be){const Fe=this.resolveDataElementOptions(Be);je=Math.max(je,Fe.offset||0,Fe.hoverOffset||0)}return je}_getRingWeightOffset(Ce){let je=0;for(let Be=0;Be<Ce;++Be)this.chart.isDatasetVisible(Be)&&(je+=this._getRingWeight(Be));return je}_getRingWeight(Ce){return Math.max(valueOrDefault(this.chart.data.datasets[Ce].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class PieController extends DoughnutController{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}function abstract(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DateAdapterBase{static override(Ce){Object.assign(DateAdapterBase.prototype,Ce)}options;constructor(Ce){this.options=Ce||{}}init(){}formats(){return abstract()}parse(){return abstract()}format(){return abstract()}add(){return abstract()}diff(){return abstract()}startOf(){return abstract()}endOf(){return abstract()}}var adapters={_date:DateAdapterBase};function binarySearch(Re,Ce,je,Be){const{controller:De,data:Fe,_sorted:ke}=Re,Oe=De._cachedMeta.iScale,Me=Re.dataset&&Re.dataset.options?Re.dataset.options.spanGaps:null;if(Oe&&Ce===Oe.axis&&Ce!=="r"&&ke&&Fe.length){const Ue=Oe._reversePixels?_rlookupByKey:_lookupByKey;if(Be){if(De._sharedOptions){const $e=Fe[0],He=typeof $e.getRange=="function"&&$e.getRange(Ce);if(He){const Qe=Ue(Fe,Ce,je-He),We=Ue(Fe,Ce,je+He);return{lo:Qe.lo,hi:We.hi}}}}else{const $e=Ue(Fe,Ce,je);if(Me){const{vScale:He}=De._cachedMeta,{_parsed:Qe}=Re,We=Qe.slice(0,$e.lo+1).reverse().findIndex(Ke=>!isNullOrUndef(Ke[He.axis]));$e.lo-=Math.max(0,We);const qe=Qe.slice($e.hi).findIndex(Ke=>!isNullOrUndef(Ke[He.axis]));$e.hi+=Math.max(0,qe)}return $e}}return{lo:0,hi:Fe.length-1}}function evaluateInteractionItems(Re,Ce,je,Be,De){const Fe=Re.getSortedVisibleDatasetMetas(),ke=je[Ce];for(let Oe=0,Me=Fe.length;Oe<Me;++Oe){const{index:Ue,data:$e}=Fe[Oe],{lo:He,hi:Qe}=binarySearch(Fe[Oe],Ce,ke,De);for(let We=He;We<=Qe;++We){const qe=$e[We];qe.skip||Be(qe,Ue,We)}}}function getDistanceMetricForAxis(Re){const Ce=Re.indexOf("x")!==-1,je=Re.indexOf("y")!==-1;return function(Be,De){const Fe=Ce?Math.abs(Be.x-De.x):0,ke=je?Math.abs(Be.y-De.y):0;return Math.sqrt(Math.pow(Fe,2)+Math.pow(ke,2))}}function getIntersectItems(Re,Ce,je,Be,De){const Fe=[];return!De&&!Re.isPointInArea(Ce)||evaluateInteractionItems(Re,je,Ce,function(Oe,Me,Ue){!De&&!_isPointInArea(Oe,Re.chartArea,0)||Oe.inRange(Ce.x,Ce.y,Be)&&Fe.push({element:Oe,datasetIndex:Me,index:Ue})},!0),Fe}function getNearestRadialItems(Re,Ce,je,Be){let De=[];function Fe(ke,Oe,Me){const{startAngle:Ue,endAngle:$e}=ke.getProps(["startAngle","endAngle"],Be),{angle:He}=getAngleFromPoint(ke,{x:Ce.x,y:Ce.y});_angleBetween(He,Ue,$e)&&De.push({element:ke,datasetIndex:Oe,index:Me})}return evaluateInteractionItems(Re,je,Ce,Fe),De}function getNearestCartesianItems(Re,Ce,je,Be,De,Fe){let ke=[];const Oe=getDistanceMetricForAxis(je);let Me=Number.POSITIVE_INFINITY;function Ue($e,He,Qe){const We=$e.inRange(Ce.x,Ce.y,De);if(Be&&!We)return;const qe=$e.getCenterPoint(De);if(!(!!Fe||Re.isPointInArea(qe))&&!We)return;const Xe=Oe(Ce,qe);Xe<Me?(ke=[{element:$e,datasetIndex:He,index:Qe}],Me=Xe):Xe===Me&&ke.push({element:$e,datasetIndex:He,index:Qe})}return evaluateInteractionItems(Re,je,Ce,Ue),ke}function getNearestItems(Re,Ce,je,Be,De,Fe){return!Fe&&!Re.isPointInArea(Ce)?[]:je==="r"&&!Be?getNearestRadialItems(Re,Ce,je,De):getNearestCartesianItems(Re,Ce,je,Be,De,Fe)}function getAxisItems(Re,Ce,je,Be,De){const Fe=[],ke=je==="x"?"inXRange":"inYRange";let Oe=!1;return evaluateInteractionItems(Re,je,Ce,(Me,Ue,$e)=>{Me[ke]&&Me[ke](Ce[je],De)&&(Fe.push({element:Me,datasetIndex:Ue,index:$e}),Oe=Oe||Me.inRange(Ce.x,Ce.y,De))}),Be&&!Oe?[]:Fe}var Interaction={modes:{index(Re,Ce,je,Be){const De=getRelativePosition(Ce,Re),Fe=je.axis||"x",ke=je.includeInvisible||!1,Oe=je.intersect?getIntersectItems(Re,De,Fe,Be,ke):getNearestItems(Re,De,Fe,!1,Be,ke),Me=[];return Oe.length?(Re.getSortedVisibleDatasetMetas().forEach(Ue=>{const $e=Oe[0].index,He=Ue.data[$e];He&&!He.skip&&Me.push({element:He,datasetIndex:Ue.index,index:$e})}),Me):[]},dataset(Re,Ce,je,Be){const De=getRelativePosition(Ce,Re),Fe=je.axis||"xy",ke=je.includeInvisible||!1;let Oe=je.intersect?getIntersectItems(Re,De,Fe,Be,ke):getNearestItems(Re,De,Fe,!1,Be,ke);if(Oe.length>0){const Me=Oe[0].datasetIndex,Ue=Re.getDatasetMeta(Me).data;Oe=[];for(let $e=0;$e<Ue.length;++$e)Oe.push({element:Ue[$e],datasetIndex:Me,index:$e})}return Oe},point(Re,Ce,je,Be){const De=getRelativePosition(Ce,Re),Fe=je.axis||"xy",ke=je.includeInvisible||!1;return getIntersectItems(Re,De,Fe,Be,ke)},nearest(Re,Ce,je,Be){const De=getRelativePosition(Ce,Re),Fe=je.axis||"xy",ke=je.includeInvisible||!1;return getNearestItems(Re,De,Fe,je.intersect,Be,ke)},x(Re,Ce,je,Be){const De=getRelativePosition(Ce,Re);return getAxisItems(Re,De,"x",je.intersect,Be)},y(Re,Ce,je,Be){const De=getRelativePosition(Ce,Re);return getAxisItems(Re,De,"y",je.intersect,Be)}}};const STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(Re,Ce){return Re.filter(je=>je.pos===Ce)}function filterDynamicPositionByAxis(Re,Ce){return Re.filter(je=>STATIC_POSITIONS.indexOf(je.pos)===-1&&je.box.axis===Ce)}function sortByWeight(Re,Ce){return Re.sort((je,Be)=>{const De=Ce?Be:je,Fe=Ce?je:Be;return De.weight===Fe.weight?De.index-Fe.index:De.weight-Fe.weight})}function wrapBoxes(Re){const Ce=[];let je,Be,De,Fe,ke,Oe;for(je=0,Be=(Re||[]).length;je<Be;++je)De=Re[je],{position:Fe,options:{stack:ke,stackWeight:Oe=1}}=De,Ce.push({index:je,box:De,pos:Fe,horizontal:De.isHorizontal(),weight:De.weight,stack:ke&&Fe+ke,stackWeight:Oe});return Ce}function buildStacks(Re){const Ce={};for(const je of Re){const{stack:Be,pos:De,stackWeight:Fe}=je;if(!Be||!STATIC_POSITIONS.includes(De))continue;const ke=Ce[Be]||(Ce[Be]={count:0,placed:0,weight:0,size:0});ke.count++,ke.weight+=Fe}return Ce}function setLayoutDims(Re,Ce){const je=buildStacks(Re),{vBoxMaxWidth:Be,hBoxMaxHeight:De}=Ce;let Fe,ke,Oe;for(Fe=0,ke=Re.length;Fe<ke;++Fe){Oe=Re[Fe];const{fullSize:Me}=Oe.box,Ue=je[Oe.stack],$e=Ue&&Oe.stackWeight/Ue.weight;Oe.horizontal?(Oe.width=$e?$e*Be:Me&&Ce.availableWidth,Oe.height=De):(Oe.width=Be,Oe.height=$e?$e*De:Me&&Ce.availableHeight)}return je}function buildLayoutBoxes(Re){const Ce=wrapBoxes(Re),je=sortByWeight(Ce.filter(Ue=>Ue.box.fullSize),!0),Be=sortByWeight(filterByPosition(Ce,"left"),!0),De=sortByWeight(filterByPosition(Ce,"right")),Fe=sortByWeight(filterByPosition(Ce,"top"),!0),ke=sortByWeight(filterByPosition(Ce,"bottom")),Oe=filterDynamicPositionByAxis(Ce,"x"),Me=filterDynamicPositionByAxis(Ce,"y");return{fullSize:je,leftAndTop:Be.concat(Fe),rightAndBottom:De.concat(Me).concat(ke).concat(Oe),chartArea:filterByPosition(Ce,"chartArea"),vertical:Be.concat(De).concat(Me),horizontal:Fe.concat(ke).concat(Oe)}}function getCombinedMax(Re,Ce,je,Be){return Math.max(Re[je],Ce[je])+Math.max(Re[Be],Ce[Be])}function updateMaxPadding(Re,Ce){Re.top=Math.max(Re.top,Ce.top),Re.left=Math.max(Re.left,Ce.left),Re.bottom=Math.max(Re.bottom,Ce.bottom),Re.right=Math.max(Re.right,Ce.right)}function updateDims(Re,Ce,je,Be){const{pos:De,box:Fe}=je,ke=Re.maxPadding;if(!isObject$1(De)){je.size&&(Re[De]-=je.size);const He=Be[je.stack]||{size:0,count:1};He.size=Math.max(He.size,je.horizontal?Fe.height:Fe.width),je.size=He.size/He.count,Re[De]+=je.size}Fe.getPadding&&updateMaxPadding(ke,Fe.getPadding());const Oe=Math.max(0,Ce.outerWidth-getCombinedMax(ke,Re,"left","right")),Me=Math.max(0,Ce.outerHeight-getCombinedMax(ke,Re,"top","bottom")),Ue=Oe!==Re.w,$e=Me!==Re.h;return Re.w=Oe,Re.h=Me,je.horizontal?{same:Ue,other:$e}:{same:$e,other:Ue}}function handleMaxPadding(Re){const Ce=Re.maxPadding;function je(Be){const De=Math.max(Ce[Be]-Re[Be],0);return Re[Be]+=De,De}Re.y+=je("top"),Re.x+=je("left"),je("right"),je("bottom")}function getMargins(Re,Ce){const je=Ce.maxPadding;function Be(De){const Fe={left:0,top:0,right:0,bottom:0};return De.forEach(ke=>{Fe[ke]=Math.max(Ce[ke],je[ke])}),Fe}return Be(Re?["left","right"]:["top","bottom"])}function fitBoxes(Re,Ce,je,Be){const De=[];let Fe,ke,Oe,Me,Ue,$e;for(Fe=0,ke=Re.length,Ue=0;Fe<ke;++Fe){Oe=Re[Fe],Me=Oe.box,Me.update(Oe.width||Ce.w,Oe.height||Ce.h,getMargins(Oe.horizontal,Ce));const{same:He,other:Qe}=updateDims(Ce,je,Oe,Be);Ue|=He&&De.length,$e=$e||Qe,Me.fullSize||De.push(Oe)}return Ue&&fitBoxes(De,Ce,je,Be)||$e}function setBoxDims(Re,Ce,je,Be,De){Re.top=je,Re.left=Ce,Re.right=Ce+Be,Re.bottom=je+De,Re.width=Be,Re.height=De}function placeBoxes(Re,Ce,je,Be){const De=je.padding;let{x:Fe,y:ke}=Ce;for(const Oe of Re){const Me=Oe.box,Ue=Be[Oe.stack]||{placed:0,weight:1},$e=Oe.stackWeight/Ue.weight||1;if(Oe.horizontal){const He=Ce.w*$e,Qe=Ue.size||Me.height;defined$1(Ue.start)&&(ke=Ue.start),Me.fullSize?setBoxDims(Me,De.left,ke,je.outerWidth-De.right-De.left,Qe):setBoxDims(Me,Ce.left+Ue.placed,ke,He,Qe),Ue.start=ke,Ue.placed+=He,ke=Me.bottom}else{const He=Ce.h*$e,Qe=Ue.size||Me.width;defined$1(Ue.start)&&(Fe=Ue.start),Me.fullSize?setBoxDims(Me,Fe,De.top,Qe,je.outerHeight-De.bottom-De.top):setBoxDims(Me,Fe,Ce.top+Ue.placed,Qe,He),Ue.start=Fe,Ue.placed+=He,Fe=Me.right}}Ce.x=Fe,Ce.y=ke}var layouts={addBox(Re,Ce){Re.boxes||(Re.boxes=[]),Ce.fullSize=Ce.fullSize||!1,Ce.position=Ce.position||"top",Ce.weight=Ce.weight||0,Ce._layers=Ce._layers||function(){return[{z:0,draw(je){Ce.draw(je)}}]},Re.boxes.push(Ce)},removeBox(Re,Ce){const je=Re.boxes?Re.boxes.indexOf(Ce):-1;je!==-1&&Re.boxes.splice(je,1)},configure(Re,Ce,je){Ce.fullSize=je.fullSize,Ce.position=je.position,Ce.weight=je.weight},update(Re,Ce,je,Be){if(!Re)return;const De=toPadding(Re.options.layout.padding),Fe=Math.max(Ce-De.width,0),ke=Math.max(je-De.height,0),Oe=buildLayoutBoxes(Re.boxes),Me=Oe.vertical,Ue=Oe.horizontal;each$1(Re.boxes,Ke=>{typeof Ke.beforeLayout=="function"&&Ke.beforeLayout()});const $e=Me.reduce((Ke,Xe)=>Xe.box.options&&Xe.box.options.display===!1?Ke:Ke+1,0)||1,He=Object.freeze({outerWidth:Ce,outerHeight:je,padding:De,availableWidth:Fe,availableHeight:ke,vBoxMaxWidth:Fe/2/$e,hBoxMaxHeight:ke/2}),Qe=Object.assign({},De);updateMaxPadding(Qe,toPadding(Be));const We=Object.assign({maxPadding:Qe,w:Fe,h:ke,x:De.left,y:De.top},De),qe=setLayoutDims(Me.concat(Ue),He);fitBoxes(Oe.fullSize,We,He,qe),fitBoxes(Me,We,He,qe),fitBoxes(Ue,We,He,qe)&&fitBoxes(Me,We,He,qe),handleMaxPadding(We),placeBoxes(Oe.leftAndTop,We,He,qe),We.x+=We.w,We.y+=We.h,placeBoxes(Oe.rightAndBottom,We,He,qe),Re.chartArea={left:We.left,top:We.top,right:We.left+We.w,bottom:We.top+We.h,height:We.h,width:We.w},each$1(Oe.chartArea,Ke=>{const Xe=Ke.box;Object.assign(Xe,Re.chartArea),Xe.update(We.w,We.h,{left:0,top:0,right:0,bottom:0})})}};class BasePlatform{acquireContext(Ce,je){}releaseContext(Ce){return!1}addEventListener(Ce,je,Be){}removeEventListener(Ce,je,Be){}getDevicePixelRatio(){return 1}getMaximumSize(Ce,je,Be,De){return je=Math.max(0,je||Ce.width),Be=Be||Ce.height,{width:je,height:Math.max(0,De?Math.floor(je/De):Be)}}isAttached(Ce){return!0}updateConfig(Ce){}}class BasicPlatform extends BasePlatform{acquireContext(Ce){return Ce&&Ce.getContext&&Ce.getContext("2d")||null}updateConfig(Ce){Ce.options.animation=!1}}const EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=Re=>Re===null||Re==="";function initCanvas(Re,Ce){const je=Re.style,Be=Re.getAttribute("height"),De=Re.getAttribute("width");if(Re[EXPANDO_KEY]={initial:{height:Be,width:De,style:{display:je.display,height:je.height,width:je.width}}},je.display=je.display||"block",je.boxSizing=je.boxSizing||"border-box",isNullOrEmpty(De)){const Fe=readUsedSize(Re,"width");Fe!==void 0&&(Re.width=Fe)}if(isNullOrEmpty(Be))if(Re.style.height==="")Re.height=Re.width/(Ce||2);else{const Fe=readUsedSize(Re,"height");Fe!==void 0&&(Re.height=Fe)}return Re}const eventListenerOptions=supportsEventListenerOptions?{passive:!0}:!1;function addListener$1(Re,Ce,je){Re&&Re.addEventListener(Ce,je,eventListenerOptions)}function removeListener$1(Re,Ce,je){Re&&Re.canvas&&Re.canvas.removeEventListener(Ce,je,eventListenerOptions)}function fromNativeEvent(Re,Ce){const je=EVENT_TYPES[Re.type]||Re.type,{x:Be,y:De}=getRelativePosition(Re,Ce);return{type:je,chart:Ce,native:Re,x:Be!==void 0?Be:null,y:De!==void 0?De:null}}function nodeListContains(Re,Ce){for(const je of Re)if(je===Ce||je.contains(Ce))return!0}function createAttachObserver(Re,Ce,je){const Be=Re.canvas,De=new MutationObserver(Fe=>{let ke=!1;for(const Oe of Fe)ke=ke||nodeListContains(Oe.addedNodes,Be),ke=ke&&!nodeListContains(Oe.removedNodes,Be);ke&&je()});return De.observe(document,{childList:!0,subtree:!0}),De}function createDetachObserver(Re,Ce,je){const Be=Re.canvas,De=new MutationObserver(Fe=>{let ke=!1;for(const Oe of Fe)ke=ke||nodeListContains(Oe.removedNodes,Be),ke=ke&&!nodeListContains(Oe.addedNodes,Be);ke&&je()});return De.observe(document,{childList:!0,subtree:!0}),De}const drpListeningCharts=new Map;let oldDevicePixelRatio=0;function onWindowResize(){const Re=window.devicePixelRatio;Re!==oldDevicePixelRatio&&(oldDevicePixelRatio=Re,drpListeningCharts.forEach((Ce,je)=>{je.currentDevicePixelRatio!==Re&&Ce()}))}function listenDevicePixelRatioChanges(Re,Ce){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(Re,Ce)}function unlistenDevicePixelRatioChanges(Re){drpListeningCharts.delete(Re),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(Re,Ce,je){const Be=Re.canvas,De=Be&&_getParentNode(Be);if(!De)return;const Fe=throttled((Oe,Me)=>{const Ue=De.clientWidth;je(Oe,Me),Ue<De.clientWidth&&je()},window),ke=new ResizeObserver(Oe=>{const Me=Oe[0],Ue=Me.contentRect.width,$e=Me.contentRect.height;Ue===0&&$e===0||Fe(Ue,$e)});return ke.observe(De),listenDevicePixelRatioChanges(Re,Fe),ke}function releaseObserver(Re,Ce,je){je&&je.disconnect(),Ce==="resize"&&unlistenDevicePixelRatioChanges(Re)}function createProxyAndListen(Re,Ce,je){const Be=Re.canvas,De=throttled(Fe=>{Re.ctx!==null&&je(fromNativeEvent(Fe,Re))},Re);return addListener$1(Be,Ce,De),De}class DomPlatform extends BasePlatform{acquireContext(Ce,je){const Be=Ce&&Ce.getContext&&Ce.getContext("2d");return Be&&Be.canvas===Ce?(initCanvas(Ce,je),Be):null}releaseContext(Ce){const je=Ce.canvas;if(!je[EXPANDO_KEY])return!1;const Be=je[EXPANDO_KEY].initial;["height","width"].forEach(Fe=>{const ke=Be[Fe];isNullOrUndef(ke)?je.removeAttribute(Fe):je.setAttribute(Fe,ke)});const De=Be.style||{};return Object.keys(De).forEach(Fe=>{je.style[Fe]=De[Fe]}),je.width=je.width,delete je[EXPANDO_KEY],!0}addEventListener(Ce,je,Be){this.removeEventListener(Ce,je);const De=Ce.$proxies||(Ce.$proxies={}),ke={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[je]||createProxyAndListen;De[je]=ke(Ce,je,Be)}removeEventListener(Ce,je){const Be=Ce.$proxies||(Ce.$proxies={}),De=Be[je];if(!De)return;({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[je]||removeListener$1)(Ce,je,De),Be[je]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(Ce,je,Be,De){return getMaximumSize(Ce,je,Be,De)}isAttached(Ce){const je=Ce&&_getParentNode(Ce);return!!(je&&je.isConnected)}}function _detectPlatform(Re){return!_isDomSupported()||typeof OffscreenCanvas<"u"&&Re instanceof OffscreenCanvas?BasicPlatform:DomPlatform}let Element$1=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(Ce){const{x:je,y:Be}=this.getProps(["x","y"],Ce);return{x:je,y:Be}}hasValue(){return isNumber$1(this.x)&&isNumber$1(this.y)}getProps(Ce,je){const Be=this.$animations;if(!je||!Be)return this;const De={};return Ce.forEach(Fe=>{De[Fe]=Be[Fe]&&Be[Fe].active()?Be[Fe]._to:this[Fe]}),De}};function autoSkip(Re,Ce){const je=Re.options.ticks,Be=determineMaxTicks(Re),De=Math.min(je.maxTicksLimit||Be,Be),Fe=je.major.enabled?getMajorIndices(Ce):[],ke=Fe.length,Oe=Fe[0],Me=Fe[ke-1],Ue=[];if(ke>De)return skipMajors(Ce,Ue,Fe,ke/De),Ue;const $e=calculateSpacing(Fe,Ce,De);if(ke>0){let He,Qe;const We=ke>1?Math.round((Me-Oe)/(ke-1)):null;for(skip(Ce,Ue,$e,isNullOrUndef(We)?0:Oe-We,Oe),He=0,Qe=ke-1;He<Qe;He++)skip(Ce,Ue,$e,Fe[He],Fe[He+1]);return skip(Ce,Ue,$e,Me,isNullOrUndef(We)?Ce.length:Me+We),Ue}return skip(Ce,Ue,$e),Ue}function determineMaxTicks(Re){const Ce=Re.options.offset,je=Re._tickSize(),Be=Re._length/je+(Ce?0:1),De=Re._maxLength/je;return Math.floor(Math.min(Be,De))}function calculateSpacing(Re,Ce,je){const Be=getEvenSpacing(Re),De=Ce.length/je;if(!Be)return Math.max(De,1);const Fe=_factorize(Be);for(let ke=0,Oe=Fe.length-1;ke<Oe;ke++){const Me=Fe[ke];if(Me>De)return Me}return Math.max(De,1)}function getMajorIndices(Re){const Ce=[];let je,Be;for(je=0,Be=Re.length;je<Be;je++)Re[je].major&&Ce.push(je);return Ce}function skipMajors(Re,Ce,je,Be){let De=0,Fe=je[0],ke;for(Be=Math.ceil(Be),ke=0;ke<Re.length;ke++)ke===Fe&&(Ce.push(Re[ke]),De++,Fe=je[De*Be])}function skip(Re,Ce,je,Be,De){const Fe=valueOrDefault(Be,0),ke=Math.min(valueOrDefault(De,Re.length),Re.length);let Oe=0,Me,Ue,$e;for(je=Math.ceil(je),De&&(Me=De-Be,je=Me/Math.floor(Me/je)),$e=Fe;$e<0;)Oe++,$e=Math.round(Fe+Oe*je);for(Ue=Math.max(Fe,0);Ue<ke;Ue++)Ue===$e&&(Ce.push(Re[Ue]),Oe++,$e=Math.round(Fe+Oe*je))}function getEvenSpacing(Re){const Ce=Re.length;let je,Be;if(Ce<2)return!1;for(Be=Re[0],je=1;je<Ce;++je)if(Re[je]-Re[je-1]!==Be)return!1;return Be}const reverseAlign=Re=>Re==="left"?"right":Re==="right"?"left":Re,offsetFromEdge=(Re,Ce,je)=>Ce==="top"||Ce==="left"?Re[Ce]+je:Re[Ce]-je,getTicksLimit=(Re,Ce)=>Math.min(Ce||Re,Re);function sample(Re,Ce){const je=[],Be=Re.length/Ce,De=Re.length;let Fe=0;for(;Fe<De;Fe+=Be)je.push(Re[Math.floor(Fe)]);return je}function getPixelForGridLine(Re,Ce,je){const Be=Re.ticks.length,De=Math.min(Ce,Be-1),Fe=Re._startPixel,ke=Re._endPixel,Oe=1e-6;let Me=Re.getPixelForTick(De),Ue;if(!(je&&(Be===1?Ue=Math.max(Me-Fe,ke-Me):Ce===0?Ue=(Re.getPixelForTick(1)-Me)/2:Ue=(Me-Re.getPixelForTick(De-1))/2,Me+=De<Ce?Ue:-Ue,Me<Fe-Oe||Me>ke+Oe)))return Me}function garbageCollect(Re,Ce){each$1(Re,je=>{const Be=je.gc,De=Be.length/2;let Fe;if(De>Ce){for(Fe=0;Fe<De;++Fe)delete je.data[Be[Fe]];Be.splice(0,De)}})}function getTickMarkLength(Re){return Re.drawTicks?Re.tickLength:0}function getTitleHeight(Re,Ce){if(!Re.display)return 0;const je=toFont(Re.font,Ce),Be=toPadding(Re.padding);return(isArray$1(Re.text)?Re.text.length:1)*je.lineHeight+Be.height}function createScaleContext(Re,Ce){return createContext(Re,{scale:Ce,type:"scale"})}function createTickContext(Re,Ce,je){return createContext(Re,{tick:je,index:Ce,type:"tick"})}function titleAlign(Re,Ce,je){let Be=_toLeftRightCenter(Re);return(je&&Ce!=="right"||!je&&Ce==="right")&&(Be=reverseAlign(Be)),Be}function titleArgs(Re,Ce,je,Be){const{top:De,left:Fe,bottom:ke,right:Oe,chart:Me}=Re,{chartArea:Ue,scales:$e}=Me;let He=0,Qe,We,qe;const Ke=ke-De,Xe=Oe-Fe;if(Re.isHorizontal()){if(We=_alignStartEnd(Be,Fe,Oe),isObject$1(je)){const Ye=Object.keys(je)[0],Ze=je[Ye];qe=$e[Ye].getPixelForValue(Ze)+Ke-Ce}else je==="center"?qe=(Ue.bottom+Ue.top)/2+Ke-Ce:qe=offsetFromEdge(Re,je,Ce);Qe=Oe-Fe}else{if(isObject$1(je)){const Ye=Object.keys(je)[0],Ze=je[Ye];We=$e[Ye].getPixelForValue(Ze)-Xe+Ce}else je==="center"?We=(Ue.left+Ue.right)/2-Xe+Ce:We=offsetFromEdge(Re,je,Ce);qe=_alignStartEnd(Be,ke,De),He=je==="left"?-HALF_PI:HALF_PI}return{titleX:We,titleY:qe,maxWidth:Qe,rotation:He}}class Scale extends Element$1{constructor(Ce){super(),this.id=Ce.id,this.type=Ce.type,this.options=void 0,this.ctx=Ce.ctx,this.chart=Ce.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(Ce){this.options=Ce.setContext(this.getContext()),this.axis=Ce.axis,this._userMin=this.parse(Ce.min),this._userMax=this.parse(Ce.max),this._suggestedMin=this.parse(Ce.suggestedMin),this._suggestedMax=this.parse(Ce.suggestedMax)}parse(Ce,je){return Ce}getUserBounds(){let{_userMin:Ce,_userMax:je,_suggestedMin:Be,_suggestedMax:De}=this;return Ce=finiteOrDefault(Ce,Number.POSITIVE_INFINITY),je=finiteOrDefault(je,Number.NEGATIVE_INFINITY),Be=finiteOrDefault(Be,Number.POSITIVE_INFINITY),De=finiteOrDefault(De,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(Ce,Be),max:finiteOrDefault(je,De),minDefined:isNumberFinite(Ce),maxDefined:isNumberFinite(je)}}getMinMax(Ce){let{min:je,max:Be,minDefined:De,maxDefined:Fe}=this.getUserBounds(),ke;if(De&&Fe)return{min:je,max:Be};const Oe=this.getMatchingVisibleMetas();for(let Me=0,Ue=Oe.length;Me<Ue;++Me)ke=Oe[Me].controller.getMinMax(this,Ce),De||(je=Math.min(je,ke.min)),Fe||(Be=Math.max(Be,ke.max));return je=Fe&&je>Be?Be:je,Be=De&&je>Be?je:Be,{min:finiteOrDefault(je,finiteOrDefault(Be,je)),max:finiteOrDefault(Be,finiteOrDefault(je,Be))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const Ce=this.chart.data;return this.options.labels||(this.isHorizontal()?Ce.xLabels:Ce.yLabels)||Ce.labels||[]}getLabelItems(Ce=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(Ce))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){callback(this.options.beforeUpdate,[this])}update(Ce,je,Be){const{beginAtZero:De,grace:Fe,ticks:ke}=this.options,Oe=ke.sampleSize;this.beforeUpdate(),this.maxWidth=Ce,this.maxHeight=je,this._margins=Be=Object.assign({left:0,right:0,top:0,bottom:0},Be),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+Be.left+Be.right:this.height+Be.top+Be.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_addGrace(this,Fe,De),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const Me=Oe<this.ticks.length;this._convertTicksToLabels(Me?sample(this.ticks,Oe):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),ke.display&&(ke.autoSkip||ke.source==="auto")&&(this.ticks=autoSkip(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),Me&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let Ce=this.options.reverse,je,Be;this.isHorizontal()?(je=this.left,Be=this.right):(je=this.top,Be=this.bottom,Ce=!Ce),this._startPixel=je,this._endPixel=Be,this._reversePixels=Ce,this._length=Be-je,this._alignToPixels=this.options.alignToPixels}afterUpdate(){callback(this.options.afterUpdate,[this])}beforeSetDimensions(){callback(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){callback(this.options.afterSetDimensions,[this])}_callHooks(Ce){this.chart.notifyPlugins(Ce,this.getContext()),callback(this.options[Ce],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){callback(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(Ce){const je=this.options.ticks;let Be,De,Fe;for(Be=0,De=Ce.length;Be<De;Be++)Fe=Ce[Be],Fe.label=callback(je.callback,[Fe.value,Be,Ce],this)}afterTickToLabelConversion(){callback(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){callback(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const Ce=this.options,je=Ce.ticks,Be=getTicksLimit(this.ticks.length,Ce.ticks.maxTicksLimit),De=je.minRotation||0,Fe=je.maxRotation;let ke=De,Oe,Me,Ue;if(!this._isVisible()||!je.display||De>=Fe||Be<=1||!this.isHorizontal()){this.labelRotation=De;return}const $e=this._getLabelSizes(),He=$e.widest.width,Qe=$e.highest.height,We=_limitValue(this.chart.width-He,0,this.maxWidth);Oe=Ce.offset?this.maxWidth/Be:We/(Be-1),He+6>Oe&&(Oe=We/(Be-(Ce.offset?.5:1)),Me=this.maxHeight-getTickMarkLength(Ce.grid)-je.padding-getTitleHeight(Ce.title,this.chart.options.font),Ue=Math.sqrt(He*He+Qe*Qe),ke=toDegrees(Math.min(Math.asin(_limitValue(($e.highest.height+6)/Oe,-1,1)),Math.asin(_limitValue(Me/Ue,-1,1))-Math.asin(_limitValue(Qe/Ue,-1,1)))),ke=Math.max(De,Math.min(Fe,ke))),this.labelRotation=ke}afterCalculateLabelRotation(){callback(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){callback(this.options.beforeFit,[this])}fit(){const Ce={width:0,height:0},{chart:je,options:{ticks:Be,title:De,grid:Fe}}=this,ke=this._isVisible(),Oe=this.isHorizontal();if(ke){const Me=getTitleHeight(De,je.options.font);if(Oe?(Ce.width=this.maxWidth,Ce.height=getTickMarkLength(Fe)+Me):(Ce.height=this.maxHeight,Ce.width=getTickMarkLength(Fe)+Me),Be.display&&this.ticks.length){const{first:Ue,last:$e,widest:He,highest:Qe}=this._getLabelSizes(),We=Be.padding*2,qe=toRadians(this.labelRotation),Ke=Math.cos(qe),Xe=Math.sin(qe);if(Oe){const Ye=Be.mirror?0:Xe*He.width+Ke*Qe.height;Ce.height=Math.min(this.maxHeight,Ce.height+Ye+We)}else{const Ye=Be.mirror?0:Ke*He.width+Xe*Qe.height;Ce.width=Math.min(this.maxWidth,Ce.width+Ye+We)}this._calculatePadding(Ue,$e,Xe,Ke)}}this._handleMargins(),Oe?(this.width=this._length=je.width-this._margins.left-this._margins.right,this.height=Ce.height):(this.width=Ce.width,this.height=this._length=je.height-this._margins.top-this._margins.bottom)}_calculatePadding(Ce,je,Be,De){const{ticks:{align:Fe,padding:ke},position:Oe}=this.options,Me=this.labelRotation!==0,Ue=Oe!=="top"&&this.axis==="x";if(this.isHorizontal()){const $e=this.getPixelForTick(0)-this.left,He=this.right-this.getPixelForTick(this.ticks.length-1);let Qe=0,We=0;Me?Ue?(Qe=De*Ce.width,We=Be*je.height):(Qe=Be*Ce.height,We=De*je.width):Fe==="start"?We=je.width:Fe==="end"?Qe=Ce.width:Fe!=="inner"&&(Qe=Ce.width/2,We=je.width/2),this.paddingLeft=Math.max((Qe-$e+ke)*this.width/(this.width-$e),0),this.paddingRight=Math.max((We-He+ke)*this.width/(this.width-He),0)}else{let $e=je.height/2,He=Ce.height/2;Fe==="start"?($e=0,He=Ce.height):Fe==="end"&&($e=je.height,He=0),this.paddingTop=$e+ke,this.paddingBottom=He+ke}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){callback(this.options.afterFit,[this])}isHorizontal(){const{axis:Ce,position:je}=this.options;return je==="top"||je==="bottom"||Ce==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(Ce){this.beforeTickToLabelConversion(),this.generateTickLabels(Ce);let je,Be;for(je=0,Be=Ce.length;je<Be;je++)isNullOrUndef(Ce[je].label)&&(Ce.splice(je,1),Be--,je--);this.afterTickToLabelConversion()}_getLabelSizes(){let Ce=this._labelSizes;if(!Ce){const je=this.options.ticks.sampleSize;let Be=this.ticks;je<Be.length&&(Be=sample(Be,je)),this._labelSizes=Ce=this._computeLabelSizes(Be,Be.length,this.options.ticks.maxTicksLimit)}return Ce}_computeLabelSizes(Ce,je,Be){const{ctx:De,_longestTextCache:Fe}=this,ke=[],Oe=[],Me=Math.floor(je/getTicksLimit(je,Be));let Ue=0,$e=0,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr;for(He=0;He<je;He+=Me){if(qe=Ce[He].label,Ke=this._resolveTickFontOptions(He),De.font=Xe=Ke.string,Ye=Fe[Xe]=Fe[Xe]||{data:{},gc:[]},Ze=Ke.lineHeight,Je=tr=0,!isNullOrUndef(qe)&&!isArray$1(qe))Je=_measureText(De,Ye.data,Ye.gc,Je,qe),tr=Ze;else if(isArray$1(qe))for(Qe=0,We=qe.length;Qe<We;++Qe)rr=qe[Qe],!isNullOrUndef(rr)&&!isArray$1(rr)&&(Je=_measureText(De,Ye.data,Ye.gc,Je,rr),tr+=Ze);ke.push(Je),Oe.push(tr),Ue=Math.max(Je,Ue),$e=Math.max(tr,$e)}garbageCollect(Fe,je);const ar=ke.indexOf(Ue),ir=Oe.indexOf($e),nr=cr=>({width:ke[cr]||0,height:Oe[cr]||0});return{first:nr(0),last:nr(je-1),widest:nr(ar),highest:nr(ir),widths:ke,heights:Oe}}getLabelForValue(Ce){return Ce}getPixelForValue(Ce,je){return NaN}getValueForPixel(Ce){}getPixelForTick(Ce){const je=this.ticks;return Ce<0||Ce>je.length-1?null:this.getPixelForValue(je[Ce].value)}getPixelForDecimal(Ce){this._reversePixels&&(Ce=1-Ce);const je=this._startPixel+Ce*this._length;return _int16Range(this._alignToPixels?_alignPixel(this.chart,je,0):je)}getDecimalForPixel(Ce){const je=(Ce-this._startPixel)/this._length;return this._reversePixels?1-je:je}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:Ce,max:je}=this;return Ce<0&&je<0?je:Ce>0&&je>0?Ce:0}getContext(Ce){const je=this.ticks||[];if(Ce>=0&&Ce<je.length){const Be=je[Ce];return Be.$context||(Be.$context=createTickContext(this.getContext(),Ce,Be))}return this.$context||(this.$context=createScaleContext(this.chart.getContext(),this))}_tickSize(){const Ce=this.options.ticks,je=toRadians(this.labelRotation),Be=Math.abs(Math.cos(je)),De=Math.abs(Math.sin(je)),Fe=this._getLabelSizes(),ke=Ce.autoSkipPadding||0,Oe=Fe?Fe.widest.width+ke:0,Me=Fe?Fe.highest.height+ke:0;return this.isHorizontal()?Me*Be>Oe*De?Oe/Be:Me/De:Me*De<Oe*Be?Me/Be:Oe/De}_isVisible(){const Ce=this.options.display;return Ce!=="auto"?!!Ce:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(Ce){const je=this.axis,Be=this.chart,De=this.options,{grid:Fe,position:ke,border:Oe}=De,Me=Fe.offset,Ue=this.isHorizontal(),He=this.ticks.length+(Me?1:0),Qe=getTickMarkLength(Fe),We=[],qe=Oe.setContext(this.getContext()),Ke=qe.display?qe.width:0,Xe=Ke/2,Ye=function(vr){return _alignPixel(Be,vr,Ke)};let Ze,Je,tr,rr,ar,ir,nr,cr,mr,fr,or,yr;if(ke==="top")Ze=Ye(this.bottom),ir=this.bottom-Qe,cr=Ze-Xe,fr=Ye(Ce.top)+Xe,yr=Ce.bottom;else if(ke==="bottom")Ze=Ye(this.top),fr=Ce.top,yr=Ye(Ce.bottom)-Xe,ir=Ze+Xe,cr=this.top+Qe;else if(ke==="left")Ze=Ye(this.right),ar=this.right-Qe,nr=Ze-Xe,mr=Ye(Ce.left)+Xe,or=Ce.right;else if(ke==="right")Ze=Ye(this.left),mr=Ce.left,or=Ye(Ce.right)-Xe,ar=Ze+Xe,nr=this.left+Qe;else if(je==="x"){if(ke==="center")Ze=Ye((Ce.top+Ce.bottom)/2+.5);else if(isObject$1(ke)){const vr=Object.keys(ke)[0],Tr=ke[vr];Ze=Ye(this.chart.scales[vr].getPixelForValue(Tr))}fr=Ce.top,yr=Ce.bottom,ir=Ze+Xe,cr=ir+Qe}else if(je==="y"){if(ke==="center")Ze=Ye((Ce.left+Ce.right)/2);else if(isObject$1(ke)){const vr=Object.keys(ke)[0],Tr=ke[vr];Ze=Ye(this.chart.scales[vr].getPixelForValue(Tr))}ar=Ze-Xe,nr=ar-Qe,mr=Ce.left,or=Ce.right}const Cr=valueOrDefault(De.ticks.maxTicksLimit,He),jr=Math.max(1,Math.ceil(He/Cr));for(Je=0;Je<He;Je+=jr){const vr=this.getContext(Je),Tr=Fe.setContext(vr),wr=Oe.setContext(vr),Er=Tr.lineWidth,Pr=Tr.color,Mr=wr.dash||[],_r=wr.dashOffset,Ir=Tr.tickWidth,Dr=Tr.tickColor,Or=Tr.tickBorderDash||[],br=Tr.tickBorderDashOffset;tr=getPixelForGridLine(this,Je,Me),tr!==void 0&&(rr=_alignPixel(Be,tr,Er),Ue?ar=nr=mr=or=rr:ir=cr=fr=yr=rr,We.push({tx1:ar,ty1:ir,tx2:nr,ty2:cr,x1:mr,y1:fr,x2:or,y2:yr,width:Er,color:Pr,borderDash:Mr,borderDashOffset:_r,tickWidth:Ir,tickColor:Dr,tickBorderDash:Or,tickBorderDashOffset:br}))}return this._ticksLength=He,this._borderValue=Ze,We}_computeLabelItems(Ce){const je=this.axis,Be=this.options,{position:De,ticks:Fe}=Be,ke=this.isHorizontal(),Oe=this.ticks,{align:Me,crossAlign:Ue,padding:$e,mirror:He}=Fe,Qe=getTickMarkLength(Be.grid),We=Qe+$e,qe=He?-$e:We,Ke=-toRadians(this.labelRotation),Xe=[];let Ye,Ze,Je,tr,rr,ar,ir,nr,cr,mr,fr,or,yr="middle";if(De==="top")ar=this.bottom-qe,ir=this._getXAxisLabelAlignment();else if(De==="bottom")ar=this.top+qe,ir=this._getXAxisLabelAlignment();else if(De==="left"){const jr=this._getYAxisLabelAlignment(Qe);ir=jr.textAlign,rr=jr.x}else if(De==="right"){const jr=this._getYAxisLabelAlignment(Qe);ir=jr.textAlign,rr=jr.x}else if(je==="x"){if(De==="center")ar=(Ce.top+Ce.bottom)/2+We;else if(isObject$1(De)){const jr=Object.keys(De)[0],vr=De[jr];ar=this.chart.scales[jr].getPixelForValue(vr)+We}ir=this._getXAxisLabelAlignment()}else if(je==="y"){if(De==="center")rr=(Ce.left+Ce.right)/2-We;else if(isObject$1(De)){const jr=Object.keys(De)[0],vr=De[jr];rr=this.chart.scales[jr].getPixelForValue(vr)}ir=this._getYAxisLabelAlignment(Qe).textAlign}je==="y"&&(Me==="start"?yr="top":Me==="end"&&(yr="bottom"));const Cr=this._getLabelSizes();for(Ye=0,Ze=Oe.length;Ye<Ze;++Ye){Je=Oe[Ye],tr=Je.label;const jr=Fe.setContext(this.getContext(Ye));nr=this.getPixelForTick(Ye)+Fe.labelOffset,cr=this._resolveTickFontOptions(Ye),mr=cr.lineHeight,fr=isArray$1(tr)?tr.length:1;const vr=fr/2,Tr=jr.color,wr=jr.textStrokeColor,Er=jr.textStrokeWidth;let Pr=ir;ke?(rr=nr,ir==="inner"&&(Ye===Ze-1?Pr=this.options.reverse?"left":"right":Ye===0?Pr=this.options.reverse?"right":"left":Pr="center"),De==="top"?Ue==="near"||Ke!==0?or=-fr*mr+mr/2:Ue==="center"?or=-Cr.highest.height/2-vr*mr+mr:or=-Cr.highest.height+mr/2:Ue==="near"||Ke!==0?or=mr/2:Ue==="center"?or=Cr.highest.height/2-vr*mr:or=Cr.highest.height-fr*mr,He&&(or*=-1),Ke!==0&&!jr.showLabelBackdrop&&(rr+=mr/2*Math.sin(Ke))):(ar=nr,or=(1-fr)*mr/2);let Mr;if(jr.showLabelBackdrop){const _r=toPadding(jr.backdropPadding),Ir=Cr.heights[Ye],Dr=Cr.widths[Ye];let Or=or-_r.top,br=0-_r.left;switch(yr){case"middle":Or-=Ir/2;break;case"bottom":Or-=Ir;break}switch(ir){case"center":br-=Dr/2;break;case"right":br-=Dr;break;case"inner":Ye===Ze-1?br-=Dr:Ye>0&&(br-=Dr/2);break}Mr={left:br,top:Or,width:Dr+_r.width,height:Ir+_r.height,color:jr.backdropColor}}Xe.push({label:tr,font:cr,textOffset:or,options:{rotation:Ke,color:Tr,strokeColor:wr,strokeWidth:Er,textAlign:Pr,textBaseline:yr,translation:[rr,ar],backdrop:Mr}})}return Xe}_getXAxisLabelAlignment(){const{position:Ce,ticks:je}=this.options;if(-toRadians(this.labelRotation))return Ce==="top"?"left":"right";let De="center";return je.align==="start"?De="left":je.align==="end"?De="right":je.align==="inner"&&(De="inner"),De}_getYAxisLabelAlignment(Ce){const{position:je,ticks:{crossAlign:Be,mirror:De,padding:Fe}}=this.options,ke=this._getLabelSizes(),Oe=Ce+Fe,Me=ke.widest.width;let Ue,$e;return je==="left"?De?($e=this.right+Fe,Be==="near"?Ue="left":Be==="center"?(Ue="center",$e+=Me/2):(Ue="right",$e+=Me)):($e=this.right-Oe,Be==="near"?Ue="right":Be==="center"?(Ue="center",$e-=Me/2):(Ue="left",$e=this.left)):je==="right"?De?($e=this.left+Fe,Be==="near"?Ue="right":Be==="center"?(Ue="center",$e-=Me/2):(Ue="left",$e-=Me)):($e=this.left+Oe,Be==="near"?Ue="left":Be==="center"?(Ue="center",$e+=Me/2):(Ue="right",$e=this.right)):Ue="right",{textAlign:Ue,x:$e}}_computeLabelArea(){if(this.options.ticks.mirror)return;const Ce=this.chart,je=this.options.position;if(je==="left"||je==="right")return{top:0,left:this.left,bottom:Ce.height,right:this.right};if(je==="top"||je==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:Ce.width}}drawBackground(){const{ctx:Ce,options:{backgroundColor:je},left:Be,top:De,width:Fe,height:ke}=this;je&&(Ce.save(),Ce.fillStyle=je,Ce.fillRect(Be,De,Fe,ke),Ce.restore())}getLineWidthForValue(Ce){const je=this.options.grid;if(!this._isVisible()||!je.display)return 0;const De=this.ticks.findIndex(Fe=>Fe.value===Ce);return De>=0?je.setContext(this.getContext(De)).lineWidth:0}drawGrid(Ce){const je=this.options.grid,Be=this.ctx,De=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(Ce));let Fe,ke;const Oe=(Me,Ue,$e)=>{!$e.width||!$e.color||(Be.save(),Be.lineWidth=$e.width,Be.strokeStyle=$e.color,Be.setLineDash($e.borderDash||[]),Be.lineDashOffset=$e.borderDashOffset,Be.beginPath(),Be.moveTo(Me.x,Me.y),Be.lineTo(Ue.x,Ue.y),Be.stroke(),Be.restore())};if(je.display)for(Fe=0,ke=De.length;Fe<ke;++Fe){const Me=De[Fe];je.drawOnChartArea&&Oe({x:Me.x1,y:Me.y1},{x:Me.x2,y:Me.y2},Me),je.drawTicks&&Oe({x:Me.tx1,y:Me.ty1},{x:Me.tx2,y:Me.ty2},{color:Me.tickColor,width:Me.tickWidth,borderDash:Me.tickBorderDash,borderDashOffset:Me.tickBorderDashOffset})}}drawBorder(){const{chart:Ce,ctx:je,options:{border:Be,grid:De}}=this,Fe=Be.setContext(this.getContext()),ke=Be.display?Fe.width:0;if(!ke)return;const Oe=De.setContext(this.getContext(0)).lineWidth,Me=this._borderValue;let Ue,$e,He,Qe;this.isHorizontal()?(Ue=_alignPixel(Ce,this.left,ke)-ke/2,$e=_alignPixel(Ce,this.right,Oe)+Oe/2,He=Qe=Me):(He=_alignPixel(Ce,this.top,ke)-ke/2,Qe=_alignPixel(Ce,this.bottom,Oe)+Oe/2,Ue=$e=Me),je.save(),je.lineWidth=Fe.width,je.strokeStyle=Fe.color,je.beginPath(),je.moveTo(Ue,He),je.lineTo($e,Qe),je.stroke(),je.restore()}drawLabels(Ce){if(!this.options.ticks.display)return;const Be=this.ctx,De=this._computeLabelArea();De&&clipArea(Be,De);const Fe=this.getLabelItems(Ce);for(const ke of Fe){const Oe=ke.options,Me=ke.font,Ue=ke.label,$e=ke.textOffset;renderText(Be,Ue,0,$e,Me,Oe)}De&&unclipArea(Be)}drawTitle(){const{ctx:Ce,options:{position:je,title:Be,reverse:De}}=this;if(!Be.display)return;const Fe=toFont(Be.font),ke=toPadding(Be.padding),Oe=Be.align;let Me=Fe.lineHeight/2;je==="bottom"||je==="center"||isObject$1(je)?(Me+=ke.bottom,isArray$1(Be.text)&&(Me+=Fe.lineHeight*(Be.text.length-1))):Me+=ke.top;const{titleX:Ue,titleY:$e,maxWidth:He,rotation:Qe}=titleArgs(this,Me,je,Oe);renderText(Ce,Be.text,0,0,Fe,{color:Be.color,maxWidth:He,rotation:Qe,textAlign:titleAlign(Oe,je,De),textBaseline:"middle",translation:[Ue,$e]})}draw(Ce){this._isVisible()&&(this.drawBackground(),this.drawGrid(Ce),this.drawBorder(),this.drawTitle(),this.drawLabels(Ce))}_layers(){const Ce=this.options,je=Ce.ticks&&Ce.ticks.z||0,Be=valueOrDefault(Ce.grid&&Ce.grid.z,-1),De=valueOrDefault(Ce.border&&Ce.border.z,0);return!this._isVisible()||this.draw!==Scale.prototype.draw?[{z:je,draw:Fe=>{this.draw(Fe)}}]:[{z:Be,draw:Fe=>{this.drawBackground(),this.drawGrid(Fe),this.drawTitle()}},{z:De,draw:()=>{this.drawBorder()}},{z:je,draw:Fe=>{this.drawLabels(Fe)}}]}getMatchingVisibleMetas(Ce){const je=this.chart.getSortedVisibleDatasetMetas(),Be=this.axis+"AxisID",De=[];let Fe,ke;for(Fe=0,ke=je.length;Fe<ke;++Fe){const Oe=je[Fe];Oe[Be]===this.id&&(!Ce||Oe.type===Ce)&&De.push(Oe)}return De}_resolveTickFontOptions(Ce){const je=this.options.ticks.setContext(this.getContext(Ce));return toFont(je.font)}_maxDigits(){const Ce=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/Ce}}class TypedRegistry{constructor(Ce,je,Be){this.type=Ce,this.scope=je,this.override=Be,this.items=Object.create(null)}isForType(Ce){return Object.prototype.isPrototypeOf.call(this.type.prototype,Ce.prototype)}register(Ce){const je=Object.getPrototypeOf(Ce);let Be;isIChartComponent(je)&&(Be=this.register(je));const De=this.items,Fe=Ce.id,ke=this.scope+"."+Fe;if(!Fe)throw new Error("class does not have id: "+Ce);return Fe in De||(De[Fe]=Ce,registerDefaults(Ce,ke,Be),this.override&&defaults$1.override(Ce.id,Ce.overrides)),ke}get(Ce){return this.items[Ce]}unregister(Ce){const je=this.items,Be=Ce.id,De=this.scope;Be in je&&delete je[Be],De&&Be in defaults$1[De]&&(delete defaults$1[De][Be],this.override&&delete overrides[Be])}}function registerDefaults(Re,Ce,je){const Be=merge$1(Object.create(null),[je?defaults$1.get(je):{},defaults$1.get(Ce),Re.defaults]);defaults$1.set(Ce,Be),Re.defaultRoutes&&routeDefaults(Ce,Re.defaultRoutes),Re.descriptors&&defaults$1.describe(Ce,Re.descriptors)}function routeDefaults(Re,Ce){Object.keys(Ce).forEach(je=>{const Be=je.split("."),De=Be.pop(),Fe=[Re].concat(Be).join("."),ke=Ce[je].split("."),Oe=ke.pop(),Me=ke.join(".");defaults$1.route(Fe,De,Me,Oe)})}function isIChartComponent(Re){return"id"in Re&&"defaults"in Re}class Registry{constructor(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...Ce){this._each("register",Ce)}remove(...Ce){this._each("unregister",Ce)}addControllers(...Ce){this._each("register",Ce,this.controllers)}addElements(...Ce){this._each("register",Ce,this.elements)}addPlugins(...Ce){this._each("register",Ce,this.plugins)}addScales(...Ce){this._each("register",Ce,this.scales)}getController(Ce){return this._get(Ce,this.controllers,"controller")}getElement(Ce){return this._get(Ce,this.elements,"element")}getPlugin(Ce){return this._get(Ce,this.plugins,"plugin")}getScale(Ce){return this._get(Ce,this.scales,"scale")}removeControllers(...Ce){this._each("unregister",Ce,this.controllers)}removeElements(...Ce){this._each("unregister",Ce,this.elements)}removePlugins(...Ce){this._each("unregister",Ce,this.plugins)}removeScales(...Ce){this._each("unregister",Ce,this.scales)}_each(Ce,je,Be){[...je].forEach(De=>{const Fe=Be||this._getRegistryForType(De);Be||Fe.isForType(De)||Fe===this.plugins&&De.id?this._exec(Ce,Fe,De):each$1(De,ke=>{const Oe=Be||this._getRegistryForType(ke);this._exec(Ce,Oe,ke)})})}_exec(Ce,je,Be){const De=_capitalize(Ce);callback(Be["before"+De],[],Be),je[Ce](Be),callback(Be["after"+De],[],Be)}_getRegistryForType(Ce){for(let je=0;je<this._typedRegistries.length;je++){const Be=this._typedRegistries[je];if(Be.isForType(Ce))return Be}return this.plugins}_get(Ce,je,Be){const De=je.get(Ce);if(De===void 0)throw new Error('"'+Ce+'" is not a registered '+Be+".");return De}}var registry=new Registry;class PluginService{constructor(){this._init=[]}notify(Ce,je,Be,De){je==="beforeInit"&&(this._init=this._createDescriptors(Ce,!0),this._notify(this._init,Ce,"install"));const Fe=De?this._descriptors(Ce).filter(De):this._descriptors(Ce),ke=this._notify(Fe,Ce,je,Be);return je==="afterDestroy"&&(this._notify(Fe,Ce,"stop"),this._notify(this._init,Ce,"uninstall")),ke}_notify(Ce,je,Be,De){De=De||{};for(const Fe of Ce){const ke=Fe.plugin,Oe=ke[Be],Me=[je,De,Fe.options];if(callback(Oe,Me,ke)===!1&&De.cancelable)return!1}return!0}invalidate(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(Ce){if(this._cache)return this._cache;const je=this._cache=this._createDescriptors(Ce);return this._notifyStateChanges(Ce),je}_createDescriptors(Ce,je){const Be=Ce&&Ce.config,De=valueOrDefault(Be.options&&Be.options.plugins,{}),Fe=allPlugins(Be);return De===!1&&!je?[]:createDescriptors(Ce,Fe,De,je)}_notifyStateChanges(Ce){const je=this._oldCache||[],Be=this._cache,De=(Fe,ke)=>Fe.filter(Oe=>!ke.some(Me=>Oe.plugin.id===Me.plugin.id));this._notify(De(je,Be),Ce,"stop"),this._notify(De(Be,je),Ce,"start")}}function allPlugins(Re){const Ce={},je=[],Be=Object.keys(registry.plugins.items);for(let Fe=0;Fe<Be.length;Fe++)je.push(registry.getPlugin(Be[Fe]));const De=Re.plugins||[];for(let Fe=0;Fe<De.length;Fe++){const ke=De[Fe];je.indexOf(ke)===-1&&(je.push(ke),Ce[ke.id]=!0)}return{plugins:je,localIds:Ce}}function getOpts(Re,Ce){return!Ce&&Re===!1?null:Re===!0?{}:Re}function createDescriptors(Re,{plugins:Ce,localIds:je},Be,De){const Fe=[],ke=Re.getContext();for(const Oe of Ce){const Me=Oe.id,Ue=getOpts(Be[Me],De);Ue!==null&&Fe.push({plugin:Oe,options:pluginOpts(Re.config,{plugin:Oe,local:je[Me]},Ue,ke)})}return Fe}function pluginOpts(Re,{plugin:Ce,local:je},Be,De){const Fe=Re.pluginScopeKeys(Ce),ke=Re.getOptionScopes(Be,Fe);return je&&Ce.defaults&&ke.push(Ce.defaults),Re.createResolver(ke,De,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(Re,Ce){const je=defaults$1.datasets[Re]||{};return((Ce.datasets||{})[Re]||{}).indexAxis||Ce.indexAxis||je.indexAxis||"x"}function getAxisFromDefaultScaleID(Re,Ce){let je=Re;return Re==="_index_"?je=Ce:Re==="_value_"&&(je=Ce==="x"?"y":"x"),je}function getDefaultScaleIDFromAxis(Re,Ce){return Re===Ce?"_index_":"_value_"}function idMatchesAxis(Re){if(Re==="x"||Re==="y"||Re==="r")return Re}function axisFromPosition(Re){if(Re==="top"||Re==="bottom")return"x";if(Re==="left"||Re==="right")return"y"}function determineAxis(Re,...Ce){if(idMatchesAxis(Re))return Re;for(const je of Ce){const Be=je.axis||axisFromPosition(je.position)||Re.length>1&&idMatchesAxis(Re[0].toLowerCase());if(Be)return Be}throw new Error(`Cannot determine type of '${Re}' axis. Please provide 'axis' or 'position' option.`)}function getAxisFromDataset(Re,Ce,je){if(je[Ce+"AxisID"]===Re)return{axis:Ce}}function retrieveAxisFromDatasets(Re,Ce){if(Ce.data&&Ce.data.datasets){const je=Ce.data.datasets.filter(Be=>Be.xAxisID===Re||Be.yAxisID===Re);if(je.length)return getAxisFromDataset(Re,"x",je[0])||getAxisFromDataset(Re,"y",je[0])}return{}}function mergeScaleConfig(Re,Ce){const je=overrides[Re.type]||{scales:{}},Be=Ce.scales||{},De=getIndexAxis(Re.type,Ce),Fe=Object.create(null);return Object.keys(Be).forEach(ke=>{const Oe=Be[ke];if(!isObject$1(Oe))return console.error(`Invalid scale configuration for scale: ${ke}`);if(Oe._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${ke}`);const Me=determineAxis(ke,Oe,retrieveAxisFromDatasets(ke,Re),defaults$1.scales[Oe.type]),Ue=getDefaultScaleIDFromAxis(Me,De),$e=je.scales||{};Fe[ke]=mergeIf(Object.create(null),[{axis:Me},Oe,$e[Me],$e[Ue]])}),Re.data.datasets.forEach(ke=>{const Oe=ke.type||Re.type,Me=ke.indexAxis||getIndexAxis(Oe,Ce),$e=(overrides[Oe]||{}).scales||{};Object.keys($e).forEach(He=>{const Qe=getAxisFromDefaultScaleID(He,Me),We=ke[Qe+"AxisID"]||Qe;Fe[We]=Fe[We]||Object.create(null),mergeIf(Fe[We],[{axis:Qe},Be[We],$e[He]])})}),Object.keys(Fe).forEach(ke=>{const Oe=Fe[ke];mergeIf(Oe,[defaults$1.scales[Oe.type],defaults$1.scale])}),Fe}function initOptions(Re){const Ce=Re.options||(Re.options={});Ce.plugins=valueOrDefault(Ce.plugins,{}),Ce.scales=mergeScaleConfig(Re,Ce)}function initData(Re){return Re=Re||{},Re.datasets=Re.datasets||[],Re.labels=Re.labels||[],Re}function initConfig(Re){return Re=Re||{},Re.data=initData(Re.data),initOptions(Re),Re}const keyCache=new Map,keysCached=new Set;function cachedKeys(Re,Ce){let je=keyCache.get(Re);return je||(je=Ce(),keyCache.set(Re,je),keysCached.add(je)),je}const addIfFound=(Re,Ce,je)=>{const Be=resolveObjectKey(Ce,je);Be!==void 0&&Re.add(Be)};class Config{constructor(Ce){this._config=initConfig(Ce),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(Ce){this._config.type=Ce}get data(){return this._config.data}set data(Ce){this._config.data=initData(Ce)}get options(){return this._config.options}set options(Ce){this._config.options=Ce}get plugins(){return this._config.plugins}update(){const Ce=this._config;this.clearCache(),initOptions(Ce)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(Ce){return cachedKeys(Ce,()=>[[`datasets.${Ce}`,""]])}datasetAnimationScopeKeys(Ce,je){return cachedKeys(`${Ce}.transition.${je}`,()=>[[`datasets.${Ce}.transitions.${je}`,`transitions.${je}`],[`datasets.${Ce}`,""]])}datasetElementScopeKeys(Ce,je){return cachedKeys(`${Ce}-${je}`,()=>[[`datasets.${Ce}.elements.${je}`,`datasets.${Ce}`,`elements.${je}`,""]])}pluginScopeKeys(Ce){const je=Ce.id,Be=this.type;return cachedKeys(`${Be}-plugin-${je}`,()=>[[`plugins.${je}`,...Ce.additionalOptionScopes||[]]])}_cachedScopes(Ce,je){const Be=this._scopeCache;let De=Be.get(Ce);return(!De||je)&&(De=new Map,Be.set(Ce,De)),De}getOptionScopes(Ce,je,Be){const{options:De,type:Fe}=this,ke=this._cachedScopes(Ce,Be),Oe=ke.get(je);if(Oe)return Oe;const Me=new Set;je.forEach($e=>{Ce&&(Me.add(Ce),$e.forEach(He=>addIfFound(Me,Ce,He))),$e.forEach(He=>addIfFound(Me,De,He)),$e.forEach(He=>addIfFound(Me,overrides[Fe]||{},He)),$e.forEach(He=>addIfFound(Me,defaults$1,He)),$e.forEach(He=>addIfFound(Me,descriptors,He))});const Ue=Array.from(Me);return Ue.length===0&&Ue.push(Object.create(null)),keysCached.has(je)&&ke.set(je,Ue),Ue}chartOptionScopes(){const{options:Ce,type:je}=this;return[Ce,overrides[je]||{},defaults$1.datasets[je]||{},{type:je},defaults$1,descriptors]}resolveNamedOptions(Ce,je,Be,De=[""]){const Fe={$shared:!0},{resolver:ke,subPrefixes:Oe}=getResolver(this._resolverCache,Ce,De);let Me=ke;if(needContext(ke,je)){Fe.$shared=!1,Be=isFunction(Be)?Be():Be;const Ue=this.createResolver(Ce,Be,Oe);Me=_attachContext(ke,Be,Ue)}for(const Ue of je)Fe[Ue]=Me[Ue];return Fe}createResolver(Ce,je,Be=[""],De){const{resolver:Fe}=getResolver(this._resolverCache,Ce,Be);return isObject$1(je)?_attachContext(Fe,je,void 0,De):Fe}}function getResolver(Re,Ce,je){let Be=Re.get(Ce);Be||(Be=new Map,Re.set(Ce,Be));const De=je.join();let Fe=Be.get(De);return Fe||(Fe={resolver:_createResolver(Ce,je),subPrefixes:je.filter(Oe=>!Oe.toLowerCase().includes("hover"))},Be.set(De,Fe)),Fe}const hasFunction=Re=>isObject$1(Re)&&Object.getOwnPropertyNames(Re).some(Ce=>isFunction(Re[Ce]));function needContext(Re,Ce){const{isScriptable:je,isIndexable:Be}=_descriptors(Re);for(const De of Ce){const Fe=je(De),ke=Be(De),Oe=(ke||Fe)&&Re[De];if(Fe&&(isFunction(Oe)||hasFunction(Oe))||ke&&isArray$1(Oe))return!0}return!1}var version="4.5.0";const KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(Re,Ce){return Re==="top"||Re==="bottom"||KNOWN_POSITIONS.indexOf(Re)===-1&&Ce==="x"}function compare2Level(Re,Ce){return function(je,Be){return je[Re]===Be[Re]?je[Ce]-Be[Ce]:je[Re]-Be[Re]}}function onAnimationsComplete(Re){const Ce=Re.chart,je=Ce.options.animation;Ce.notifyPlugins("afterRender"),callback(je&&je.onComplete,[Re],Ce)}function onAnimationProgress(Re){const Ce=Re.chart,je=Ce.options.animation;callback(je&&je.onProgress,[Re],Ce)}function getCanvas(Re){return _isDomSupported()&&typeof Re=="string"?Re=document.getElementById(Re):Re&&Re.length&&(Re=Re[0]),Re&&Re.canvas&&(Re=Re.canvas),Re}const instances={},getChart=Re=>{const Ce=getCanvas(Re);return Object.values(instances).filter(je=>je.canvas===Ce).pop()};function moveNumericKeys(Re,Ce,je){const Be=Object.keys(Re);for(const De of Be){const Fe=+De;if(Fe>=Ce){const ke=Re[De];delete Re[De],(je>0||Fe>Ce)&&(Re[Fe+je]=ke)}}}function determineLastEvent(Re,Ce,je,Be){return!je||Re.type==="mouseout"?null:Be?Ce:Re}let Chart$1=class{static defaults=defaults$1;static instances=instances;static overrides=overrides;static registry=registry;static version=version;static getChart=getChart;static register(...Ce){registry.add(...Ce),invalidatePlugins()}static unregister(...Ce){registry.remove(...Ce),invalidatePlugins()}constructor(Ce,je){const Be=this.config=new Config(je),De=getCanvas(Ce),Fe=getChart(De);if(Fe)throw new Error("Canvas is already in use. Chart with ID '"+Fe.id+"' must be destroyed before the canvas with ID '"+Fe.canvas.id+"' can be reused.");const ke=Be.createResolver(Be.chartOptionScopes(),this.getContext());this.platform=new(Be.platform||_detectPlatform(De)),this.platform.updateConfig(Be);const Oe=this.platform.acquireContext(De,ke.aspectRatio),Me=Oe&&Oe.canvas,Ue=Me&&Me.height,$e=Me&&Me.width;if(this.id=uid(),this.ctx=Oe,this.canvas=Me,this.width=$e,this.height=Ue,this._options=ke,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce$3(He=>this.update(He),ke.resizeDelay||0),this._dataChanges=[],instances[this.id]=this,!Oe||!Me){console.error("Failed to create chart: can't acquire context from the given item");return}animator.listen(this,"complete",onAnimationsComplete),animator.listen(this,"progress",onAnimationProgress),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:Ce,maintainAspectRatio:je},width:Be,height:De,_aspectRatio:Fe}=this;return isNullOrUndef(Ce)?je&&Fe?Fe:De?Be/De:null:Ce}get data(){return this.config.data}set data(Ce){this.config.data=Ce}get options(){return this._options}set options(Ce){this.config.options=Ce}get registry(){return registry}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():retinaScale(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return clearCanvas(this.canvas,this.ctx),this}stop(){return animator.stop(this),this}resize(Ce,je){animator.running(this)?this._resizeBeforeDraw={width:Ce,height:je}:this._resize(Ce,je)}_resize(Ce,je){const Be=this.options,De=this.canvas,Fe=Be.maintainAspectRatio&&this.aspectRatio,ke=this.platform.getMaximumSize(De,Ce,je,Fe),Oe=Be.devicePixelRatio||this.platform.getDevicePixelRatio(),Me=this.width?"resize":"attach";this.width=ke.width,this.height=ke.height,this._aspectRatio=this.aspectRatio,retinaScale(this,Oe,!0)&&(this.notifyPlugins("resize",{size:ke}),callback(Be.onResize,[this,ke],this),this.attached&&this._doResize(Me)&&this.render())}ensureScalesHaveIDs(){const je=this.options.scales||{};each$1(je,(Be,De)=>{Be.id=De})}buildOrUpdateScales(){const Ce=this.options,je=Ce.scales,Be=this.scales,De=Object.keys(Be).reduce((ke,Oe)=>(ke[Oe]=!1,ke),{});let Fe=[];je&&(Fe=Fe.concat(Object.keys(je).map(ke=>{const Oe=je[ke],Me=determineAxis(ke,Oe),Ue=Me==="r",$e=Me==="x";return{options:Oe,dposition:Ue?"chartArea":$e?"bottom":"left",dtype:Ue?"radialLinear":$e?"category":"linear"}}))),each$1(Fe,ke=>{const Oe=ke.options,Me=Oe.id,Ue=determineAxis(Me,Oe),$e=valueOrDefault(Oe.type,ke.dtype);(Oe.position===void 0||positionIsHorizontal(Oe.position,Ue)!==positionIsHorizontal(ke.dposition))&&(Oe.position=ke.dposition),De[Me]=!0;let He=null;if(Me in Be&&Be[Me].type===$e)He=Be[Me];else{const Qe=registry.getScale($e);He=new Qe({id:Me,type:$e,ctx:this.ctx,chart:this}),Be[He.id]=He}He.init(Oe,Ce)}),each$1(De,(ke,Oe)=>{ke||delete Be[Oe]}),each$1(Be,ke=>{layouts.configure(this,ke,ke.options),layouts.addBox(this,ke)})}_updateMetasets(){const Ce=this._metasets,je=this.data.datasets.length,Be=Ce.length;if(Ce.sort((De,Fe)=>De.index-Fe.index),Be>je){for(let De=je;De<Be;++De)this._destroyDatasetMeta(De);Ce.splice(je,Be-je)}this._sortedMetasets=Ce.slice(0).sort(compare2Level("order","index"))}_removeUnreferencedMetasets(){const{_metasets:Ce,data:{datasets:je}}=this;Ce.length>je.length&&delete this._stacks,Ce.forEach((Be,De)=>{je.filter(Fe=>Fe===Be._dataset).length===0&&this._destroyDatasetMeta(De)})}buildOrUpdateControllers(){const Ce=[],je=this.data.datasets;let Be,De;for(this._removeUnreferencedMetasets(),Be=0,De=je.length;Be<De;Be++){const Fe=je[Be];let ke=this.getDatasetMeta(Be);const Oe=Fe.type||this.config.type;if(ke.type&&ke.type!==Oe&&(this._destroyDatasetMeta(Be),ke=this.getDatasetMeta(Be)),ke.type=Oe,ke.indexAxis=Fe.indexAxis||getIndexAxis(Oe,this.options),ke.order=Fe.order||0,ke.index=Be,ke.label=""+Fe.label,ke.visible=this.isDatasetVisible(Be),ke.controller)ke.controller.updateIndex(Be),ke.controller.linkScales();else{const Me=registry.getController(Oe),{datasetElementType:Ue,dataElementType:$e}=defaults$1.datasets[Oe];Object.assign(Me,{dataElementType:registry.getElement($e),datasetElementType:Ue&&registry.getElement(Ue)}),ke.controller=new Me(this,Be),Ce.push(ke.controller)}}return this._updateMetasets(),Ce}_resetElements(){each$1(this.data.datasets,(Ce,je)=>{this.getDatasetMeta(je).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(Ce){const je=this.config;je.update();const Be=this._options=je.createResolver(je.chartOptionScopes(),this.getContext()),De=this._animationsDisabled=!Be.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:Ce,cancelable:!0})===!1)return;const Fe=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let ke=0;for(let Ue=0,$e=this.data.datasets.length;Ue<$e;Ue++){const{controller:He}=this.getDatasetMeta(Ue),Qe=!De&&Fe.indexOf(He)===-1;He.buildOrUpdateElements(Qe),ke=Math.max(+He.getMaxOverflow(),ke)}ke=this._minPadding=Be.layout.autoPadding?ke:0,this._updateLayout(ke),De||each$1(Fe,Ue=>{Ue.reset()}),this._updateDatasets(Ce),this.notifyPlugins("afterUpdate",{mode:Ce}),this._layers.sort(compare2Level("z","_idx"));const{_active:Oe,_lastEvent:Me}=this;Me?this._eventHandler(Me,!0):Oe.length&&this._updateHoverStyles(Oe,Oe,!0),this.render()}_updateScales(){each$1(this.scales,Ce=>{layouts.removeBox(this,Ce)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const Ce=this.options,je=new Set(Object.keys(this._listeners)),Be=new Set(Ce.events);(!setsEqual(je,Be)||!!this._responsiveListeners!==Ce.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:Ce}=this,je=this._getUniformDataChanges()||[];for(const{method:Be,start:De,count:Fe}of je){const ke=Be==="_removeElements"?-Fe:Fe;moveNumericKeys(Ce,De,ke)}}_getUniformDataChanges(){const Ce=this._dataChanges;if(!Ce||!Ce.length)return;this._dataChanges=[];const je=this.data.datasets.length,Be=Fe=>new Set(Ce.filter(ke=>ke[0]===Fe).map((ke,Oe)=>Oe+","+ke.splice(1).join(","))),De=Be(0);for(let Fe=1;Fe<je;Fe++)if(!setsEqual(De,Be(Fe)))return;return Array.from(De).map(Fe=>Fe.split(",")).map(Fe=>({method:Fe[1],start:+Fe[2],count:+Fe[3]}))}_updateLayout(Ce){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;layouts.update(this,this.width,this.height,Ce);const je=this.chartArea,Be=je.width<=0||je.height<=0;this._layers=[],each$1(this.boxes,De=>{Be&&De.position==="chartArea"||(De.configure&&De.configure(),this._layers.push(...De._layers()))},this),this._layers.forEach((De,Fe)=>{De._idx=Fe}),this.notifyPlugins("afterLayout")}_updateDatasets(Ce){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:Ce,cancelable:!0})!==!1){for(let je=0,Be=this.data.datasets.length;je<Be;++je)this.getDatasetMeta(je).controller.configure();for(let je=0,Be=this.data.datasets.length;je<Be;++je)this._updateDataset(je,isFunction(Ce)?Ce({datasetIndex:je}):Ce);this.notifyPlugins("afterDatasetsUpdate",{mode:Ce})}}_updateDataset(Ce,je){const Be=this.getDatasetMeta(Ce),De={meta:Be,index:Ce,mode:je,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",De)!==!1&&(Be.controller._update(je),De.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",De))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(animator.has(this)?this.attached&&!animator.running(this)&&animator.start(this):(this.draw(),onAnimationsComplete({chart:this})))}draw(){let Ce;if(this._resizeBeforeDraw){const{width:Be,height:De}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(Be,De)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const je=this._layers;for(Ce=0;Ce<je.length&&je[Ce].z<=0;++Ce)je[Ce].draw(this.chartArea);for(this._drawDatasets();Ce<je.length;++Ce)je[Ce].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(Ce){const je=this._sortedMetasets,Be=[];let De,Fe;for(De=0,Fe=je.length;De<Fe;++De){const ke=je[De];(!Ce||ke.visible)&&Be.push(ke)}return Be}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const Ce=this.getSortedVisibleDatasetMetas();for(let je=Ce.length-1;je>=0;--je)this._drawDataset(Ce[je]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(Ce){const je=this.ctx,Be={meta:Ce,index:Ce.index,cancelable:!0},De=getDatasetClipArea(this,Ce);this.notifyPlugins("beforeDatasetDraw",Be)!==!1&&(De&&clipArea(je,De),Ce.controller.draw(),De&&unclipArea(je),Be.cancelable=!1,this.notifyPlugins("afterDatasetDraw",Be))}isPointInArea(Ce){return _isPointInArea(Ce,this.chartArea,this._minPadding)}getElementsAtEventForMode(Ce,je,Be,De){const Fe=Interaction.modes[je];return typeof Fe=="function"?Fe(this,Ce,Be,De):[]}getDatasetMeta(Ce){const je=this.data.datasets[Ce],Be=this._metasets;let De=Be.filter(Fe=>Fe&&Fe._dataset===je).pop();return De||(De={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:je&&je.order||0,index:Ce,_dataset:je,_parsed:[],_sorted:!1},Be.push(De)),De}getContext(){return this.$context||(this.$context=createContext(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(Ce){const je=this.data.datasets[Ce];if(!je)return!1;const Be=this.getDatasetMeta(Ce);return typeof Be.hidden=="boolean"?!Be.hidden:!je.hidden}setDatasetVisibility(Ce,je){const Be=this.getDatasetMeta(Ce);Be.hidden=!je}toggleDataVisibility(Ce){this._hiddenIndices[Ce]=!this._hiddenIndices[Ce]}getDataVisibility(Ce){return!this._hiddenIndices[Ce]}_updateVisibility(Ce,je,Be){const De=Be?"show":"hide",Fe=this.getDatasetMeta(Ce),ke=Fe.controller._resolveAnimations(void 0,De);defined$1(je)?(Fe.data[je].hidden=!Be,this.update()):(this.setDatasetVisibility(Ce,Be),ke.update(Fe,{visible:Be}),this.update(Oe=>Oe.datasetIndex===Ce?De:void 0))}hide(Ce,je){this._updateVisibility(Ce,je,!1)}show(Ce,je){this._updateVisibility(Ce,je,!0)}_destroyDatasetMeta(Ce){const je=this._metasets[Ce];je&&je.controller&&je.controller._destroy(),delete this._metasets[Ce]}_stop(){let Ce,je;for(this.stop(),animator.remove(this),Ce=0,je=this.data.datasets.length;Ce<je;++Ce)this._destroyDatasetMeta(Ce)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:Ce,ctx:je}=this;this._stop(),this.config.clearCache(),Ce&&(this.unbindEvents(),clearCanvas(Ce,je),this.platform.releaseContext(je),this.canvas=null,this.ctx=null),delete instances[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...Ce){return this.canvas.toDataURL(...Ce)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const Ce=this._listeners,je=this.platform,Be=(Fe,ke)=>{je.addEventListener(this,Fe,ke),Ce[Fe]=ke},De=(Fe,ke,Oe)=>{Fe.offsetX=ke,Fe.offsetY=Oe,this._eventHandler(Fe)};each$1(this.options.events,Fe=>Be(Fe,De))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const Ce=this._responsiveListeners,je=this.platform,Be=(Me,Ue)=>{je.addEventListener(this,Me,Ue),Ce[Me]=Ue},De=(Me,Ue)=>{Ce[Me]&&(je.removeEventListener(this,Me,Ue),delete Ce[Me])},Fe=(Me,Ue)=>{this.canvas&&this.resize(Me,Ue)};let ke;const Oe=()=>{De("attach",Oe),this.attached=!0,this.resize(),Be("resize",Fe),Be("detach",ke)};ke=()=>{this.attached=!1,De("resize",Fe),this._stop(),this._resize(0,0),Be("attach",Oe)},je.isAttached(this.canvas)?Oe():ke()}unbindEvents(){each$1(this._listeners,(Ce,je)=>{this.platform.removeEventListener(this,je,Ce)}),this._listeners={},each$1(this._responsiveListeners,(Ce,je)=>{this.platform.removeEventListener(this,je,Ce)}),this._responsiveListeners=void 0}updateHoverStyle(Ce,je,Be){const De=Be?"set":"remove";let Fe,ke,Oe,Me;for(je==="dataset"&&(Fe=this.getDatasetMeta(Ce[0].datasetIndex),Fe.controller["_"+De+"DatasetHoverStyle"]()),Oe=0,Me=Ce.length;Oe<Me;++Oe){ke=Ce[Oe];const Ue=ke&&this.getDatasetMeta(ke.datasetIndex).controller;Ue&&Ue[De+"HoverStyle"](ke.element,ke.datasetIndex,ke.index)}}getActiveElements(){return this._active||[]}setActiveElements(Ce){const je=this._active||[],Be=Ce.map(({datasetIndex:Fe,index:ke})=>{const Oe=this.getDatasetMeta(Fe);if(!Oe)throw new Error("No dataset found at index "+Fe);return{datasetIndex:Fe,element:Oe.data[ke],index:ke}});!_elementsEqual(Be,je)&&(this._active=Be,this._lastEvent=null,this._updateHoverStyles(Be,je))}notifyPlugins(Ce,je,Be){return this._plugins.notify(this,Ce,je,Be)}isPluginEnabled(Ce){return this._plugins._cache.filter(je=>je.plugin.id===Ce).length===1}_updateHoverStyles(Ce,je,Be){const De=this.options.hover,Fe=(Me,Ue)=>Me.filter($e=>!Ue.some(He=>$e.datasetIndex===He.datasetIndex&&$e.index===He.index)),ke=Fe(je,Ce),Oe=Be?Ce:Fe(Ce,je);ke.length&&this.updateHoverStyle(ke,De.mode,!1),Oe.length&&De.mode&&this.updateHoverStyle(Oe,De.mode,!0)}_eventHandler(Ce,je){const Be={event:Ce,replay:je,cancelable:!0,inChartArea:this.isPointInArea(Ce)},De=ke=>(ke.options.events||this.options.events).includes(Ce.native.type);if(this.notifyPlugins("beforeEvent",Be,De)===!1)return;const Fe=this._handleEvent(Ce,je,Be.inChartArea);return Be.cancelable=!1,this.notifyPlugins("afterEvent",Be,De),(Fe||Be.changed)&&this.render(),this}_handleEvent(Ce,je,Be){const{_active:De=[],options:Fe}=this,ke=je,Oe=this._getActiveElements(Ce,De,Be,ke),Me=_isClickEvent(Ce),Ue=determineLastEvent(Ce,this._lastEvent,Be,Me);Be&&(this._lastEvent=null,callback(Fe.onHover,[Ce,Oe,this],this),Me&&callback(Fe.onClick,[Ce,Oe,this],this));const $e=!_elementsEqual(Oe,De);return($e||je)&&(this._active=Oe,this._updateHoverStyles(Oe,De,je)),this._lastEvent=Ue,$e}_getActiveElements(Ce,je,Be,De){if(Ce.type==="mouseout")return[];if(!Be)return je;const Fe=this.options.hover;return this.getElementsAtEventForMode(Ce,Fe.mode,Fe,De)}};function invalidatePlugins(){return each$1(Chart$1.instances,Re=>Re._plugins.invalidate())}function clipSelf(Re,Ce,je){const{startAngle:Be,x:De,y:Fe,outerRadius:ke,innerRadius:Oe,options:Me}=Ce,{borderWidth:Ue,borderJoinStyle:$e}=Me,He=Math.min(Ue/ke,_normalizeAngle(Be-je));if(Re.beginPath(),Re.arc(De,Fe,ke-Ue/2,Be+He/2,je-He/2),Oe>0){const Qe=Math.min(Ue/Oe,_normalizeAngle(Be-je));Re.arc(De,Fe,Oe+Ue/2,je-Qe/2,Be+Qe/2,!0)}else{const Qe=Math.min(Ue/2,ke*_normalizeAngle(Be-je));if($e==="round")Re.arc(De,Fe,Qe,je-PI/2,Be+PI/2,!0);else if($e==="bevel"){const We=2*Qe*Qe,qe=-We*Math.cos(je+PI/2)+De,Ke=-We*Math.sin(je+PI/2)+Fe,Xe=We*Math.cos(Be+PI/2)+De,Ye=We*Math.sin(Be+PI/2)+Fe;Re.lineTo(qe,Ke),Re.lineTo(Xe,Ye)}}Re.closePath(),Re.moveTo(0,0),Re.rect(0,0,Re.canvas.width,Re.canvas.height),Re.clip("evenodd")}function clipArc(Re,Ce,je){const{startAngle:Be,pixelMargin:De,x:Fe,y:ke,outerRadius:Oe,innerRadius:Me}=Ce;let Ue=De/Oe;Re.beginPath(),Re.arc(Fe,ke,Oe,Be-Ue,je+Ue),Me>De?(Ue=De/Me,Re.arc(Fe,ke,Me,je+Ue,Be-Ue,!0)):Re.arc(Fe,ke,De,je+HALF_PI,Be-HALF_PI),Re.closePath(),Re.clip()}function toRadiusCorners(Re){return _readValueToProps(Re,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(Re,Ce,je,Be){const De=toRadiusCorners(Re.options.borderRadius),Fe=(je-Ce)/2,ke=Math.min(Fe,Be*Ce/2),Oe=Me=>{const Ue=(je-Math.min(Fe,Me))*Be/2;return _limitValue(Me,0,Math.min(Fe,Ue))};return{outerStart:Oe(De.outerStart),outerEnd:Oe(De.outerEnd),innerStart:_limitValue(De.innerStart,0,ke),innerEnd:_limitValue(De.innerEnd,0,ke)}}function rThetaToXY(Re,Ce,je,Be){return{x:je+Re*Math.cos(Ce),y:Be+Re*Math.sin(Ce)}}function pathArc(Re,Ce,je,Be,De,Fe){const{x:ke,y:Oe,startAngle:Me,pixelMargin:Ue,innerRadius:$e}=Ce,He=Math.max(Ce.outerRadius+Be+je-Ue,0),Qe=$e>0?$e+Be+je+Ue:0;let We=0;const qe=De-Me;if(Be){const jr=$e>0?$e-Be:0,vr=He>0?He-Be:0,Tr=(jr+vr)/2,wr=Tr!==0?qe*Tr/(Tr+Be):qe;We=(qe-wr)/2}const Ke=Math.max(.001,qe*He-je/PI)/He,Xe=(qe-Ke)/2,Ye=Me+Xe+We,Ze=De-Xe-We,{outerStart:Je,outerEnd:tr,innerStart:rr,innerEnd:ar}=parseBorderRadius$1(Ce,Qe,He,Ze-Ye),ir=He-Je,nr=He-tr,cr=Ye+Je/ir,mr=Ze-tr/nr,fr=Qe+rr,or=Qe+ar,yr=Ye+rr/fr,Cr=Ze-ar/or;if(Re.beginPath(),Fe){const jr=(cr+mr)/2;if(Re.arc(ke,Oe,He,cr,jr),Re.arc(ke,Oe,He,jr,mr),tr>0){const Er=rThetaToXY(nr,mr,ke,Oe);Re.arc(Er.x,Er.y,tr,mr,Ze+HALF_PI)}const vr=rThetaToXY(or,Ze,ke,Oe);if(Re.lineTo(vr.x,vr.y),ar>0){const Er=rThetaToXY(or,Cr,ke,Oe);Re.arc(Er.x,Er.y,ar,Ze+HALF_PI,Cr+Math.PI)}const Tr=(Ze-ar/Qe+(Ye+rr/Qe))/2;if(Re.arc(ke,Oe,Qe,Ze-ar/Qe,Tr,!0),Re.arc(ke,Oe,Qe,Tr,Ye+rr/Qe,!0),rr>0){const Er=rThetaToXY(fr,yr,ke,Oe);Re.arc(Er.x,Er.y,rr,yr+Math.PI,Ye-HALF_PI)}const wr=rThetaToXY(ir,Ye,ke,Oe);if(Re.lineTo(wr.x,wr.y),Je>0){const Er=rThetaToXY(ir,cr,ke,Oe);Re.arc(Er.x,Er.y,Je,Ye-HALF_PI,cr)}}else{Re.moveTo(ke,Oe);const jr=Math.cos(cr)*He+ke,vr=Math.sin(cr)*He+Oe;Re.lineTo(jr,vr);const Tr=Math.cos(mr)*He+ke,wr=Math.sin(mr)*He+Oe;Re.lineTo(Tr,wr)}Re.closePath()}function drawArc(Re,Ce,je,Be,De){const{fullCircles:Fe,startAngle:ke,circumference:Oe}=Ce;let Me=Ce.endAngle;if(Fe){pathArc(Re,Ce,je,Be,Me,De);for(let Ue=0;Ue<Fe;++Ue)Re.fill();isNaN(Oe)||(Me=ke+(Oe%TAU||TAU))}return pathArc(Re,Ce,je,Be,Me,De),Re.fill(),Me}function drawBorder(Re,Ce,je,Be,De){const{fullCircles:Fe,startAngle:ke,circumference:Oe,options:Me}=Ce,{borderWidth:Ue,borderJoinStyle:$e,borderDash:He,borderDashOffset:Qe,borderRadius:We}=Me,qe=Me.borderAlign==="inner";if(!Ue)return;Re.setLineDash(He||[]),Re.lineDashOffset=Qe,qe?(Re.lineWidth=Ue*2,Re.lineJoin=$e||"round"):(Re.lineWidth=Ue,Re.lineJoin=$e||"bevel");let Ke=Ce.endAngle;if(Fe){pathArc(Re,Ce,je,Be,Ke,De);for(let Xe=0;Xe<Fe;++Xe)Re.stroke();isNaN(Oe)||(Ke=ke+(Oe%TAU||TAU))}qe&&clipArc(Re,Ce,Ke),Me.selfJoin&&Ke-ke>=PI&&We===0&&$e!=="miter"&&clipSelf(Re,Ce,Ke),Fe||(pathArc(Re,Ce,je,Be,Ke,De),Re.stroke())}class ArcElement extends Element$1{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:Ce=>Ce!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(Ce){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,Ce&&Object.assign(this,Ce)}inRange(Ce,je,Be){const De=this.getProps(["x","y"],Be),{angle:Fe,distance:ke}=getAngleFromPoint(De,{x:Ce,y:je}),{startAngle:Oe,endAngle:Me,innerRadius:Ue,outerRadius:$e,circumference:He}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],Be),Qe=(this.options.spacing+this.options.borderWidth)/2,We=valueOrDefault(He,Me-Oe),qe=_angleBetween(Fe,Oe,Me)&&Oe!==Me,Ke=We>=TAU||qe,Xe=_isBetween(ke,Ue+Qe,$e+Qe);return Ke&&Xe}getCenterPoint(Ce){const{x:je,y:Be,startAngle:De,endAngle:Fe,innerRadius:ke,outerRadius:Oe}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],Ce),{offset:Me,spacing:Ue}=this.options,$e=(De+Fe)/2,He=(ke+Oe+Ue+Me)/2;return{x:je+Math.cos($e)*He,y:Be+Math.sin($e)*He}}tooltipPosition(Ce){return this.getCenterPoint(Ce)}draw(Ce){const{options:je,circumference:Be}=this,De=(je.offset||0)/4,Fe=(je.spacing||0)/2,ke=je.circular;if(this.pixelMargin=je.borderAlign==="inner"?.33:0,this.fullCircles=Be>TAU?Math.floor(Be/TAU):0,Be===0||this.innerRadius<0||this.outerRadius<0)return;Ce.save();const Oe=(this.startAngle+this.endAngle)/2;Ce.translate(Math.cos(Oe)*De,Math.sin(Oe)*De);const Me=1-Math.sin(Math.min(PI,Be||0)),Ue=De*Me;Ce.fillStyle=je.backgroundColor,Ce.strokeStyle=je.borderColor,drawArc(Ce,this,Ue,Fe,ke),drawBorder(Ce,this,Ue,Fe,ke),Ce.restore()}}function setStyle(Re,Ce,je=Ce){Re.lineCap=valueOrDefault(je.borderCapStyle,Ce.borderCapStyle),Re.setLineDash(valueOrDefault(je.borderDash,Ce.borderDash)),Re.lineDashOffset=valueOrDefault(je.borderDashOffset,Ce.borderDashOffset),Re.lineJoin=valueOrDefault(je.borderJoinStyle,Ce.borderJoinStyle),Re.lineWidth=valueOrDefault(je.borderWidth,Ce.borderWidth),Re.strokeStyle=valueOrDefault(je.borderColor,Ce.borderColor)}function lineTo(Re,Ce,je){Re.lineTo(je.x,je.y)}function getLineMethod(Re){return Re.stepped?_steppedLineTo:Re.tension||Re.cubicInterpolationMode==="monotone"?_bezierCurveTo:lineTo}function pathVars(Re,Ce,je={}){const Be=Re.length,{start:De=0,end:Fe=Be-1}=je,{start:ke,end:Oe}=Ce,Me=Math.max(De,ke),Ue=Math.min(Fe,Oe),$e=De<ke&&Fe<ke||De>Oe&&Fe>Oe;return{count:Be,start:Me,loop:Ce.loop,ilen:Ue<Me&&!$e?Be+Ue-Me:Ue-Me}}function pathSegment(Re,Ce,je,Be){const{points:De,options:Fe}=Ce,{count:ke,start:Oe,loop:Me,ilen:Ue}=pathVars(De,je,Be),$e=getLineMethod(Fe);let{move:He=!0,reverse:Qe}=Be||{},We,qe,Ke;for(We=0;We<=Ue;++We)qe=De[(Oe+(Qe?Ue-We:We))%ke],!qe.skip&&(He?(Re.moveTo(qe.x,qe.y),He=!1):$e(Re,Ke,qe,Qe,Fe.stepped),Ke=qe);return Me&&(qe=De[(Oe+(Qe?Ue:0))%ke],$e(Re,Ke,qe,Qe,Fe.stepped)),!!Me}function fastPathSegment(Re,Ce,je,Be){const De=Ce.points,{count:Fe,start:ke,ilen:Oe}=pathVars(De,je,Be),{move:Me=!0,reverse:Ue}=Be||{};let $e=0,He=0,Qe,We,qe,Ke,Xe,Ye;const Ze=tr=>(ke+(Ue?Oe-tr:tr))%Fe,Je=()=>{Ke!==Xe&&(Re.lineTo($e,Xe),Re.lineTo($e,Ke),Re.lineTo($e,Ye))};for(Me&&(We=De[Ze(0)],Re.moveTo(We.x,We.y)),Qe=0;Qe<=Oe;++Qe){if(We=De[Ze(Qe)],We.skip)continue;const tr=We.x,rr=We.y,ar=tr|0;ar===qe?(rr<Ke?Ke=rr:rr>Xe&&(Xe=rr),$e=(He*$e+tr)/++He):(Je(),Re.lineTo(tr,rr),qe=ar,He=0,Ke=Xe=rr),Ye=rr}Je()}function _getSegmentMethod(Re){const Ce=Re.options,je=Ce.borderDash&&Ce.borderDash.length;return!Re._decimated&&!Re._loop&&!Ce.tension&&Ce.cubicInterpolationMode!=="monotone"&&!Ce.stepped&&!je?fastPathSegment:pathSegment}function _getInterpolationMethod(Re){return Re.stepped?_steppedInterpolation:Re.tension||Re.cubicInterpolationMode==="monotone"?_bezierInterpolation:_pointInLine}function strokePathWithCache(Re,Ce,je,Be){let De=Ce._path;De||(De=Ce._path=new Path2D,Ce.path(De,je,Be)&&De.closePath()),setStyle(Re,Ce.options),Re.stroke(De)}function strokePathDirect(Re,Ce,je,Be){const{segments:De,options:Fe}=Ce,ke=_getSegmentMethod(Ce);for(const Oe of De)setStyle(Re,Fe,Oe.style),Re.beginPath(),ke(Re,Ce,Oe,{start:je,end:je+Be-1})&&Re.closePath(),Re.stroke()}const usePath2D=typeof Path2D=="function";function draw(Re,Ce,je,Be){usePath2D&&!Ce.options.segment?strokePathWithCache(Re,Ce,je,Be):strokePathDirect(Re,Ce,je,Be)}class LineElement extends Element$1{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:Ce=>Ce!=="borderDash"&&Ce!=="fill"};constructor(Ce){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,Ce&&Object.assign(this,Ce)}updateControlPoints(Ce,je){const Be=this.options;if((Be.tension||Be.cubicInterpolationMode==="monotone")&&!Be.stepped&&!this._pointsUpdated){const De=Be.spanGaps?this._loop:this._fullLoop;_updateBezierControlPoints(this._points,Be,Ce,De,je),this._pointsUpdated=!0}}set points(Ce){this._points=Ce,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=_computeSegments(this,this.options.segment))}first(){const Ce=this.segments,je=this.points;return Ce.length&&je[Ce[0].start]}last(){const Ce=this.segments,je=this.points,Be=Ce.length;return Be&&je[Ce[Be-1].end]}interpolate(Ce,je){const Be=this.options,De=Ce[je],Fe=this.points,ke=_boundSegments(this,{property:je,start:De,end:De});if(!ke.length)return;const Oe=[],Me=_getInterpolationMethod(Be);let Ue,$e;for(Ue=0,$e=ke.length;Ue<$e;++Ue){const{start:He,end:Qe}=ke[Ue],We=Fe[He],qe=Fe[Qe];if(We===qe){Oe.push(We);continue}const Ke=Math.abs((De-We[je])/(qe[je]-We[je])),Xe=Me(We,qe,Ke,Be.stepped);Xe[je]=Ce[je],Oe.push(Xe)}return Oe.length===1?Oe[0]:Oe}pathSegment(Ce,je,Be){return _getSegmentMethod(this)(Ce,this,je,Be)}path(Ce,je,Be){const De=this.segments,Fe=_getSegmentMethod(this);let ke=this._loop;je=je||0,Be=Be||this.points.length-je;for(const Oe of De)ke&=Fe(Ce,this,Oe,{start:je,end:je+Be-1});return!!ke}draw(Ce,je,Be,De){const Fe=this.options||{};(this.points||[]).length&&Fe.borderWidth&&(Ce.save(),draw(Ce,this,Be,De),Ce.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function inRange$1(Re,Ce,je,Be){const De=Re.options,{[je]:Fe}=Re.getProps([je],Be);return Math.abs(Ce-Fe)<De.radius+De.hitRadius}class PointElement extends Element$1{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Ce){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,Ce&&Object.assign(this,Ce)}inRange(Ce,je,Be){const De=this.options,{x:Fe,y:ke}=this.getProps(["x","y"],Be);return Math.pow(Ce-Fe,2)+Math.pow(je-ke,2)<Math.pow(De.hitRadius+De.radius,2)}inXRange(Ce,je){return inRange$1(this,Ce,"x",je)}inYRange(Ce,je){return inRange$1(this,Ce,"y",je)}getCenterPoint(Ce){const{x:je,y:Be}=this.getProps(["x","y"],Ce);return{x:je,y:Be}}size(Ce){Ce=Ce||this.options||{};let je=Ce.radius||0;je=Math.max(je,je&&Ce.hoverRadius||0);const Be=je&&Ce.borderWidth||0;return(je+Be)*2}draw(Ce,je){const Be=this.options;this.skip||Be.radius<.1||!_isPointInArea(this,je,this.size(Be)/2)||(Ce.strokeStyle=Be.borderColor,Ce.lineWidth=Be.borderWidth,Ce.fillStyle=Be.backgroundColor,drawPoint(Ce,Be,this.x,this.y))}getRange(){const Ce=this.options||{};return Ce.radius+Ce.hitRadius}}function getBarBounds(Re,Ce){const{x:je,y:Be,base:De,width:Fe,height:ke}=Re.getProps(["x","y","base","width","height"],Ce);let Oe,Me,Ue,$e,He;return Re.horizontal?(He=ke/2,Oe=Math.min(je,De),Me=Math.max(je,De),Ue=Be-He,$e=Be+He):(He=Fe/2,Oe=je-He,Me=je+He,Ue=Math.min(Be,De),$e=Math.max(Be,De)),{left:Oe,top:Ue,right:Me,bottom:$e}}function skipOrLimit(Re,Ce,je,Be){return Re?0:_limitValue(Ce,je,Be)}function parseBorderWidth(Re,Ce,je){const Be=Re.options.borderWidth,De=Re.borderSkipped,Fe=toTRBL(Be);return{t:skipOrLimit(De.top,Fe.top,0,je),r:skipOrLimit(De.right,Fe.right,0,Ce),b:skipOrLimit(De.bottom,Fe.bottom,0,je),l:skipOrLimit(De.left,Fe.left,0,Ce)}}function parseBorderRadius(Re,Ce,je){const{enableBorderRadius:Be}=Re.getProps(["enableBorderRadius"]),De=Re.options.borderRadius,Fe=toTRBLCorners(De),ke=Math.min(Ce,je),Oe=Re.borderSkipped,Me=Be||isObject$1(De);return{topLeft:skipOrLimit(!Me||Oe.top||Oe.left,Fe.topLeft,0,ke),topRight:skipOrLimit(!Me||Oe.top||Oe.right,Fe.topRight,0,ke),bottomLeft:skipOrLimit(!Me||Oe.bottom||Oe.left,Fe.bottomLeft,0,ke),bottomRight:skipOrLimit(!Me||Oe.bottom||Oe.right,Fe.bottomRight,0,ke)}}function boundingRects(Re){const Ce=getBarBounds(Re),je=Ce.right-Ce.left,Be=Ce.bottom-Ce.top,De=parseBorderWidth(Re,je/2,Be/2),Fe=parseBorderRadius(Re,je/2,Be/2);return{outer:{x:Ce.left,y:Ce.top,w:je,h:Be,radius:Fe},inner:{x:Ce.left+De.l,y:Ce.top+De.t,w:je-De.l-De.r,h:Be-De.t-De.b,radius:{topLeft:Math.max(0,Fe.topLeft-Math.max(De.t,De.l)),topRight:Math.max(0,Fe.topRight-Math.max(De.t,De.r)),bottomLeft:Math.max(0,Fe.bottomLeft-Math.max(De.b,De.l)),bottomRight:Math.max(0,Fe.bottomRight-Math.max(De.b,De.r))}}}}function inRange$2(Re,Ce,je,Be){const De=Ce===null,Fe=je===null,Oe=Re&&!(De&&Fe)&&getBarBounds(Re,Be);return Oe&&(De||_isBetween(Ce,Oe.left,Oe.right))&&(Fe||_isBetween(je,Oe.top,Oe.bottom))}function hasRadius(Re){return Re.topLeft||Re.topRight||Re.bottomLeft||Re.bottomRight}function addNormalRectPath(Re,Ce){Re.rect(Ce.x,Ce.y,Ce.w,Ce.h)}function inflateRect(Re,Ce,je={}){const Be=Re.x!==je.x?-Ce:0,De=Re.y!==je.y?-Ce:0,Fe=(Re.x+Re.w!==je.x+je.w?Ce:0)-Be,ke=(Re.y+Re.h!==je.y+je.h?Ce:0)-De;return{x:Re.x+Be,y:Re.y+De,w:Re.w+Fe,h:Re.h+ke,radius:Re.radius}}class BarElement extends Element$1{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(Ce){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,Ce&&Object.assign(this,Ce)}draw(Ce){const{inflateAmount:je,options:{borderColor:Be,backgroundColor:De}}=this,{inner:Fe,outer:ke}=boundingRects(this),Oe=hasRadius(ke.radius)?addRoundedRectPath:addNormalRectPath;Ce.save(),(ke.w!==Fe.w||ke.h!==Fe.h)&&(Ce.beginPath(),Oe(Ce,inflateRect(ke,je,Fe)),Ce.clip(),Oe(Ce,inflateRect(Fe,-je,ke)),Ce.fillStyle=Be,Ce.fill("evenodd")),Ce.beginPath(),Oe(Ce,inflateRect(Fe,je)),Ce.fillStyle=De,Ce.fill(),Ce.restore()}inRange(Ce,je,Be){return inRange$2(this,Ce,je,Be)}inXRange(Ce,je){return inRange$2(this,Ce,null,je)}inYRange(Ce,je){return inRange$2(this,null,Ce,je)}getCenterPoint(Ce){const{x:je,y:Be,base:De,horizontal:Fe}=this.getProps(["x","y","base","horizontal"],Ce);return{x:Fe?(je+De)/2:je,y:Fe?Be:(Be+De)/2}}getRange(Ce){return Ce==="x"?this.width/2:this.height/2}}const getBoxSize=(Re,Ce)=>{let{boxHeight:je=Ce,boxWidth:Be=Ce}=Re;return Re.usePointStyle&&(je=Math.min(je,Ce),Be=Re.pointStyleWidth||Math.min(Be,Ce)),{boxWidth:Be,boxHeight:je,itemHeight:Math.max(Ce,je)}},itemsEqual=(Re,Ce)=>Re!==null&&Ce!==null&&Re.datasetIndex===Ce.datasetIndex&&Re.index===Ce.index;let Legend$1=class extends Element$1{constructor(Ce){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=Ce.chart,this.options=Ce.options,this.ctx=Ce.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Ce,je,Be){this.maxWidth=Ce,this.maxHeight=je,this._margins=Be,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const Ce=this.options.labels||{};let je=callback(Ce.generateLabels,[this.chart],this)||[];Ce.filter&&(je=je.filter(Be=>Ce.filter(Be,this.chart.data))),Ce.sort&&(je=je.sort((Be,De)=>Ce.sort(Be,De,this.chart.data))),this.options.reverse&&je.reverse(),this.legendItems=je}fit(){const{options:Ce,ctx:je}=this;if(!Ce.display){this.width=this.height=0;return}const Be=Ce.labels,De=toFont(Be.font),Fe=De.size,ke=this._computeTitleHeight(),{boxWidth:Oe,itemHeight:Me}=getBoxSize(Be,Fe);let Ue,$e;je.font=De.string,this.isHorizontal()?(Ue=this.maxWidth,$e=this._fitRows(ke,Fe,Oe,Me)+10):($e=this.maxHeight,Ue=this._fitCols(ke,De,Oe,Me)+10),this.width=Math.min(Ue,Ce.maxWidth||this.maxWidth),this.height=Math.min($e,Ce.maxHeight||this.maxHeight)}_fitRows(Ce,je,Be,De){const{ctx:Fe,maxWidth:ke,options:{labels:{padding:Oe}}}=this,Me=this.legendHitBoxes=[],Ue=this.lineWidths=[0],$e=De+Oe;let He=Ce;Fe.textAlign="left",Fe.textBaseline="middle";let Qe=-1,We=-$e;return this.legendItems.forEach((qe,Ke)=>{const Xe=Be+je/2+Fe.measureText(qe.text).width;(Ke===0||Ue[Ue.length-1]+Xe+2*Oe>ke)&&(He+=$e,Ue[Ue.length-(Ke>0?0:1)]=0,We+=$e,Qe++),Me[Ke]={left:0,top:We,row:Qe,width:Xe,height:De},Ue[Ue.length-1]+=Xe+Oe}),He}_fitCols(Ce,je,Be,De){const{ctx:Fe,maxHeight:ke,options:{labels:{padding:Oe}}}=this,Me=this.legendHitBoxes=[],Ue=this.columnSizes=[],$e=ke-Ce;let He=Oe,Qe=0,We=0,qe=0,Ke=0;return this.legendItems.forEach((Xe,Ye)=>{const{itemWidth:Ze,itemHeight:Je}=calculateItemSize(Be,je,Fe,Xe,De);Ye>0&&We+Je+2*Oe>$e&&(He+=Qe+Oe,Ue.push({width:Qe,height:We}),qe+=Qe+Oe,Ke++,Qe=We=0),Me[Ye]={left:qe,top:We,col:Ke,width:Ze,height:Je},Qe=Math.max(Qe,Ze),We+=Je+Oe}),He+=Qe,Ue.push({width:Qe,height:We}),He}adjustHitBoxes(){if(!this.options.display)return;const Ce=this._computeTitleHeight(),{legendHitBoxes:je,options:{align:Be,labels:{padding:De},rtl:Fe}}=this,ke=getRtlAdapter(Fe,this.left,this.width);if(this.isHorizontal()){let Oe=0,Me=_alignStartEnd(Be,this.left+De,this.right-this.lineWidths[Oe]);for(const Ue of je)Oe!==Ue.row&&(Oe=Ue.row,Me=_alignStartEnd(Be,this.left+De,this.right-this.lineWidths[Oe])),Ue.top+=this.top+Ce+De,Ue.left=ke.leftForLtr(ke.x(Me),Ue.width),Me+=Ue.width+De}else{let Oe=0,Me=_alignStartEnd(Be,this.top+Ce+De,this.bottom-this.columnSizes[Oe].height);for(const Ue of je)Ue.col!==Oe&&(Oe=Ue.col,Me=_alignStartEnd(Be,this.top+Ce+De,this.bottom-this.columnSizes[Oe].height)),Ue.top=Me,Ue.left+=this.left+De,Ue.left=ke.leftForLtr(ke.x(Ue.left),Ue.width),Me+=Ue.height+De}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const Ce=this.ctx;clipArea(Ce,this),this._draw(),unclipArea(Ce)}}_draw(){const{options:Ce,columnSizes:je,lineWidths:Be,ctx:De}=this,{align:Fe,labels:ke}=Ce,Oe=defaults$1.color,Me=getRtlAdapter(Ce.rtl,this.left,this.width),Ue=toFont(ke.font),{padding:$e}=ke,He=Ue.size,Qe=He/2;let We;this.drawTitle(),De.textAlign=Me.textAlign("left"),De.textBaseline="middle",De.lineWidth=.5,De.font=Ue.string;const{boxWidth:qe,boxHeight:Ke,itemHeight:Xe}=getBoxSize(ke,He),Ye=function(ar,ir,nr){if(isNaN(qe)||qe<=0||isNaN(Ke)||Ke<0)return;De.save();const cr=valueOrDefault(nr.lineWidth,1);if(De.fillStyle=valueOrDefault(nr.fillStyle,Oe),De.lineCap=valueOrDefault(nr.lineCap,"butt"),De.lineDashOffset=valueOrDefault(nr.lineDashOffset,0),De.lineJoin=valueOrDefault(nr.lineJoin,"miter"),De.lineWidth=cr,De.strokeStyle=valueOrDefault(nr.strokeStyle,Oe),De.setLineDash(valueOrDefault(nr.lineDash,[])),ke.usePointStyle){const mr={radius:Ke*Math.SQRT2/2,pointStyle:nr.pointStyle,rotation:nr.rotation,borderWidth:cr},fr=Me.xPlus(ar,qe/2),or=ir+Qe;drawPointLegend(De,mr,fr,or,ke.pointStyleWidth&&qe)}else{const mr=ir+Math.max((He-Ke)/2,0),fr=Me.leftForLtr(ar,qe),or=toTRBLCorners(nr.borderRadius);De.beginPath(),Object.values(or).some(yr=>yr!==0)?addRoundedRectPath(De,{x:fr,y:mr,w:qe,h:Ke,radius:or}):De.rect(fr,mr,qe,Ke),De.fill(),cr!==0&&De.stroke()}De.restore()},Ze=function(ar,ir,nr){renderText(De,nr.text,ar,ir+Xe/2,Ue,{strikethrough:nr.hidden,textAlign:Me.textAlign(nr.textAlign)})},Je=this.isHorizontal(),tr=this._computeTitleHeight();Je?We={x:_alignStartEnd(Fe,this.left+$e,this.right-Be[0]),y:this.top+$e+tr,line:0}:We={x:this.left+$e,y:_alignStartEnd(Fe,this.top+tr+$e,this.bottom-je[0].height),line:0},overrideTextDirection(this.ctx,Ce.textDirection);const rr=Xe+$e;this.legendItems.forEach((ar,ir)=>{De.strokeStyle=ar.fontColor,De.fillStyle=ar.fontColor;const nr=De.measureText(ar.text).width,cr=Me.textAlign(ar.textAlign||(ar.textAlign=ke.textAlign)),mr=qe+Qe+nr;let fr=We.x,or=We.y;Me.setWidth(this.width),Je?ir>0&&fr+mr+$e>this.right&&(or=We.y+=rr,We.line++,fr=We.x=_alignStartEnd(Fe,this.left+$e,this.right-Be[We.line])):ir>0&&or+rr>this.bottom&&(fr=We.x=fr+je[We.line].width+$e,We.line++,or=We.y=_alignStartEnd(Fe,this.top+tr+$e,this.bottom-je[We.line].height));const yr=Me.x(fr);if(Ye(yr,or,ar),fr=_textX(cr,fr+qe+Qe,Je?fr+mr:this.right,Ce.rtl),Ze(Me.x(fr),or,ar),Je)We.x+=mr+$e;else if(typeof ar.text!="string"){const Cr=Ue.lineHeight;We.y+=calculateLegendItemHeight(ar,Cr)+$e}else We.y+=rr}),restoreTextDirection(this.ctx,Ce.textDirection)}drawTitle(){const Ce=this.options,je=Ce.title,Be=toFont(je.font),De=toPadding(je.padding);if(!je.display)return;const Fe=getRtlAdapter(Ce.rtl,this.left,this.width),ke=this.ctx,Oe=je.position,Me=Be.size/2,Ue=De.top+Me;let $e,He=this.left,Qe=this.width;if(this.isHorizontal())Qe=Math.max(...this.lineWidths),$e=this.top+Ue,He=_alignStartEnd(Ce.align,He,this.right-Qe);else{const qe=this.columnSizes.reduce((Ke,Xe)=>Math.max(Ke,Xe.height),0);$e=Ue+_alignStartEnd(Ce.align,this.top,this.bottom-qe-Ce.labels.padding-this._computeTitleHeight())}const We=_alignStartEnd(Oe,He,He+Qe);ke.textAlign=Fe.textAlign(_toLeftRightCenter(Oe)),ke.textBaseline="middle",ke.strokeStyle=je.color,ke.fillStyle=je.color,ke.font=Be.string,renderText(ke,je.text,We,$e,Be)}_computeTitleHeight(){const Ce=this.options.title,je=toFont(Ce.font),Be=toPadding(Ce.padding);return Ce.display?je.lineHeight+Be.height:0}_getLegendItemAt(Ce,je){let Be,De,Fe;if(_isBetween(Ce,this.left,this.right)&&_isBetween(je,this.top,this.bottom)){for(Fe=this.legendHitBoxes,Be=0;Be<Fe.length;++Be)if(De=Fe[Be],_isBetween(Ce,De.left,De.left+De.width)&&_isBetween(je,De.top,De.top+De.height))return this.legendItems[Be]}return null}handleEvent(Ce){const je=this.options;if(!isListened(Ce.type,je))return;const Be=this._getLegendItemAt(Ce.x,Ce.y);if(Ce.type==="mousemove"||Ce.type==="mouseout"){const De=this._hoveredItem,Fe=itemsEqual(De,Be);De&&!Fe&&callback(je.onLeave,[Ce,De,this],this),this._hoveredItem=Be,Be&&!Fe&&callback(je.onHover,[Ce,Be,this],this)}else Be&&callback(je.onClick,[Ce,Be,this],this)}};function calculateItemSize(Re,Ce,je,Be,De){const Fe=calculateItemWidth(Be,Re,Ce,je),ke=calculateItemHeight(De,Be,Ce.lineHeight);return{itemWidth:Fe,itemHeight:ke}}function calculateItemWidth(Re,Ce,je,Be){let De=Re.text;return De&&typeof De!="string"&&(De=De.reduce((Fe,ke)=>Fe.length>ke.length?Fe:ke)),Ce+je.size/2+Be.measureText(De).width}function calculateItemHeight(Re,Ce,je){let Be=Re;return typeof Ce.text!="string"&&(Be=calculateLegendItemHeight(Ce,je)),Be}function calculateLegendItemHeight(Re,Ce){const je=Re.text?Re.text.length:0;return Ce*je}function isListened(Re,Ce){return!!((Re==="mousemove"||Re==="mouseout")&&(Ce.onHover||Ce.onLeave)||Ce.onClick&&(Re==="click"||Re==="mouseup"))}var plugin_legend={id:"legend",_element:Legend$1,start(Re,Ce,je){const Be=Re.legend=new Legend$1({ctx:Re.ctx,options:je,chart:Re});layouts.configure(Re,Be,je),layouts.addBox(Re,Be)},stop(Re){layouts.removeBox(Re,Re.legend),delete Re.legend},beforeUpdate(Re,Ce,je){const Be=Re.legend;layouts.configure(Re,Be,je),Be.options=je},afterUpdate(Re){const Ce=Re.legend;Ce.buildLabels(),Ce.adjustHitBoxes()},afterEvent(Re,Ce){Ce.replay||Re.legend.handleEvent(Ce.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(Re,Ce,je){const Be=Ce.datasetIndex,De=je.chart;De.isDatasetVisible(Be)?(De.hide(Be),Ce.hidden=!0):(De.show(Be),Ce.hidden=!1)},onHover:null,onLeave:null,labels:{color:Re=>Re.chart.options.color,boxWidth:40,padding:10,generateLabels(Re){const Ce=Re.data.datasets,{labels:{usePointStyle:je,pointStyle:Be,textAlign:De,color:Fe,useBorderRadius:ke,borderRadius:Oe}}=Re.legend.options;return Re._getSortedDatasetMetas().map(Me=>{const Ue=Me.controller.getStyle(je?0:void 0),$e=toPadding(Ue.borderWidth);return{text:Ce[Me.index].label,fillStyle:Ue.backgroundColor,fontColor:Fe,hidden:!Me.visible,lineCap:Ue.borderCapStyle,lineDash:Ue.borderDash,lineDashOffset:Ue.borderDashOffset,lineJoin:Ue.borderJoinStyle,lineWidth:($e.width+$e.height)/4,strokeStyle:Ue.borderColor,pointStyle:Be||Ue.pointStyle,rotation:Ue.rotation,textAlign:De||Ue.textAlign,borderRadius:ke&&(Oe||Ue.borderRadius),datasetIndex:Me.index}},this)}},title:{color:Re=>Re.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:Re=>!Re.startsWith("on"),labels:{_scriptable:Re=>!["generateLabels","filter","sort"].includes(Re)}}};class Title extends Element$1{constructor(Ce){super(),this.chart=Ce.chart,this.options=Ce.options,this.ctx=Ce.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(Ce,je){const Be=this.options;if(this.left=0,this.top=0,!Be.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=Ce,this.height=this.bottom=je;const De=isArray$1(Be.text)?Be.text.length:1;this._padding=toPadding(Be.padding);const Fe=De*toFont(Be.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=Fe:this.width=Fe}isHorizontal(){const Ce=this.options.position;return Ce==="top"||Ce==="bottom"}_drawArgs(Ce){const{top:je,left:Be,bottom:De,right:Fe,options:ke}=this,Oe=ke.align;let Me=0,Ue,$e,He;return this.isHorizontal()?($e=_alignStartEnd(Oe,Be,Fe),He=je+Ce,Ue=Fe-Be):(ke.position==="left"?($e=Be+Ce,He=_alignStartEnd(Oe,De,je),Me=PI*-.5):($e=Fe-Ce,He=_alignStartEnd(Oe,je,De),Me=PI*.5),Ue=De-je),{titleX:$e,titleY:He,maxWidth:Ue,rotation:Me}}draw(){const Ce=this.ctx,je=this.options;if(!je.display)return;const Be=toFont(je.font),Fe=Be.lineHeight/2+this._padding.top,{titleX:ke,titleY:Oe,maxWidth:Me,rotation:Ue}=this._drawArgs(Fe);renderText(Ce,je.text,0,0,Be,{color:je.color,maxWidth:Me,rotation:Ue,textAlign:_toLeftRightCenter(je.align),textBaseline:"middle",translation:[ke,Oe]})}}function createTitle(Re,Ce){const je=new Title({ctx:Re.ctx,options:Ce,chart:Re});layouts.configure(Re,je,Ce),layouts.addBox(Re,je),Re.titleBlock=je}var plugin_title={id:"title",_element:Title,start(Re,Ce,je){createTitle(Re,je)},stop(Re){const Ce=Re.titleBlock;layouts.removeBox(Re,Ce),delete Re.titleBlock},beforeUpdate(Re,Ce,je){const Be=Re.titleBlock;layouts.configure(Re,Be,je),Be.options=je},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const positioners={average(Re){if(!Re.length)return!1;let Ce,je,Be=new Set,De=0,Fe=0;for(Ce=0,je=Re.length;Ce<je;++Ce){const Oe=Re[Ce].element;if(Oe&&Oe.hasValue()){const Me=Oe.tooltipPosition();Be.add(Me.x),De+=Me.y,++Fe}}return Fe===0||Be.size===0?!1:{x:[...Be].reduce((Oe,Me)=>Oe+Me)/Be.size,y:De/Fe}},nearest(Re,Ce){if(!Re.length)return!1;let je=Ce.x,Be=Ce.y,De=Number.POSITIVE_INFINITY,Fe,ke,Oe;for(Fe=0,ke=Re.length;Fe<ke;++Fe){const Me=Re[Fe].element;if(Me&&Me.hasValue()){const Ue=Me.getCenterPoint(),$e=distanceBetweenPoints$1(Ce,Ue);$e<De&&(De=$e,Oe=Me)}}if(Oe){const Me=Oe.tooltipPosition();je=Me.x,Be=Me.y}return{x:je,y:Be}}};function pushOrConcat(Re,Ce){return Ce&&(isArray$1(Ce)?Array.prototype.push.apply(Re,Ce):Re.push(Ce)),Re}function splitNewlines(Re){return(typeof Re=="string"||Re instanceof String)&&Re.indexOf(`
`)>-1?Re.split(`
`):Re}function createTooltipItem(Re,Ce){const{element:je,datasetIndex:Be,index:De}=Ce,Fe=Re.getDatasetMeta(Be).controller,{label:ke,value:Oe}=Fe.getLabelAndValue(De);return{chart:Re,label:ke,parsed:Fe.getParsed(De),raw:Re.data.datasets[Be].data[De],formattedValue:Oe,dataset:Fe.getDataset(),dataIndex:De,datasetIndex:Be,element:je}}function getTooltipSize(Re,Ce){const je=Re.chart.ctx,{body:Be,footer:De,title:Fe}=Re,{boxWidth:ke,boxHeight:Oe}=Ce,Me=toFont(Ce.bodyFont),Ue=toFont(Ce.titleFont),$e=toFont(Ce.footerFont),He=Fe.length,Qe=De.length,We=Be.length,qe=toPadding(Ce.padding);let Ke=qe.height,Xe=0,Ye=Be.reduce((tr,rr)=>tr+rr.before.length+rr.lines.length+rr.after.length,0);if(Ye+=Re.beforeBody.length+Re.afterBody.length,He&&(Ke+=He*Ue.lineHeight+(He-1)*Ce.titleSpacing+Ce.titleMarginBottom),Ye){const tr=Ce.displayColors?Math.max(Oe,Me.lineHeight):Me.lineHeight;Ke+=We*tr+(Ye-We)*Me.lineHeight+(Ye-1)*Ce.bodySpacing}Qe&&(Ke+=Ce.footerMarginTop+Qe*$e.lineHeight+(Qe-1)*Ce.footerSpacing);let Ze=0;const Je=function(tr){Xe=Math.max(Xe,je.measureText(tr).width+Ze)};return je.save(),je.font=Ue.string,each$1(Re.title,Je),je.font=Me.string,each$1(Re.beforeBody.concat(Re.afterBody),Je),Ze=Ce.displayColors?ke+2+Ce.boxPadding:0,each$1(Be,tr=>{each$1(tr.before,Je),each$1(tr.lines,Je),each$1(tr.after,Je)}),Ze=0,je.font=$e.string,each$1(Re.footer,Je),je.restore(),Xe+=qe.width,{width:Xe,height:Ke}}function determineYAlign(Re,Ce){const{y:je,height:Be}=Ce;return je<Be/2?"top":je>Re.height-Be/2?"bottom":"center"}function doesNotFitWithAlign(Re,Ce,je,Be){const{x:De,width:Fe}=Be,ke=je.caretSize+je.caretPadding;if(Re==="left"&&De+Fe+ke>Ce.width||Re==="right"&&De-Fe-ke<0)return!0}function determineXAlign(Re,Ce,je,Be){const{x:De,width:Fe}=je,{width:ke,chartArea:{left:Oe,right:Me}}=Re;let Ue="center";return Be==="center"?Ue=De<=(Oe+Me)/2?"left":"right":De<=Fe/2?Ue="left":De>=ke-Fe/2&&(Ue="right"),doesNotFitWithAlign(Ue,Re,Ce,je)&&(Ue="center"),Ue}function determineAlignment(Re,Ce,je){const Be=je.yAlign||Ce.yAlign||determineYAlign(Re,je);return{xAlign:je.xAlign||Ce.xAlign||determineXAlign(Re,Ce,je,Be),yAlign:Be}}function alignX(Re,Ce){let{x:je,width:Be}=Re;return Ce==="right"?je-=Be:Ce==="center"&&(je-=Be/2),je}function alignY(Re,Ce,je){let{y:Be,height:De}=Re;return Ce==="top"?Be+=je:Ce==="bottom"?Be-=De+je:Be-=De/2,Be}function getBackgroundPoint(Re,Ce,je,Be){const{caretSize:De,caretPadding:Fe,cornerRadius:ke}=Re,{xAlign:Oe,yAlign:Me}=je,Ue=De+Fe,{topLeft:$e,topRight:He,bottomLeft:Qe,bottomRight:We}=toTRBLCorners(ke);let qe=alignX(Ce,Oe);const Ke=alignY(Ce,Me,Ue);return Me==="center"?Oe==="left"?qe+=Ue:Oe==="right"&&(qe-=Ue):Oe==="left"?qe-=Math.max($e,Qe)+De:Oe==="right"&&(qe+=Math.max(He,We)+De),{x:_limitValue(qe,0,Be.width-Ce.width),y:_limitValue(Ke,0,Be.height-Ce.height)}}function getAlignedX(Re,Ce,je){const Be=toPadding(je.padding);return Ce==="center"?Re.x+Re.width/2:Ce==="right"?Re.x+Re.width-Be.right:Re.x+Be.left}function getBeforeAfterBodyLines(Re){return pushOrConcat([],splitNewlines(Re))}function createTooltipContext(Re,Ce,je){return createContext(Re,{tooltip:Ce,tooltipItems:je,type:"tooltip"})}function overrideCallbacks(Re,Ce){const je=Ce&&Ce.dataset&&Ce.dataset.tooltip&&Ce.dataset.tooltip.callbacks;return je?Re.override(je):Re}const defaultCallbacks={beforeTitle:noop$a,title(Re){if(Re.length>0){const Ce=Re[0],je=Ce.chart.data.labels,Be=je?je.length:0;if(this&&this.options&&this.options.mode==="dataset")return Ce.dataset.label||"";if(Ce.label)return Ce.label;if(Be>0&&Ce.dataIndex<Be)return je[Ce.dataIndex]}return""},afterTitle:noop$a,beforeBody:noop$a,beforeLabel:noop$a,label(Re){if(this&&this.options&&this.options.mode==="dataset")return Re.label+": "+Re.formattedValue||Re.formattedValue;let Ce=Re.dataset.label||"";Ce&&(Ce+=": ");const je=Re.formattedValue;return isNullOrUndef(je)||(Ce+=je),Ce},labelColor(Re){const je=Re.chart.getDatasetMeta(Re.datasetIndex).controller.getStyle(Re.dataIndex);return{borderColor:je.borderColor,backgroundColor:je.backgroundColor,borderWidth:je.borderWidth,borderDash:je.borderDash,borderDashOffset:je.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(Re){const je=Re.chart.getDatasetMeta(Re.datasetIndex).controller.getStyle(Re.dataIndex);return{pointStyle:je.pointStyle,rotation:je.rotation}},afterLabel:noop$a,afterBody:noop$a,beforeFooter:noop$a,footer:noop$a,afterFooter:noop$a};function invokeCallbackWithFallback(Re,Ce,je,Be){const De=Re[Ce].call(je,Be);return typeof De>"u"?defaultCallbacks[Ce].call(je,Be):De}let Tooltip$1=class extends Element$1{static positioners=positioners;constructor(Ce){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=Ce.chart,this.options=Ce.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(Ce){this.options=Ce,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const Ce=this._cachedAnimations;if(Ce)return Ce;const je=this.chart,Be=this.options.setContext(this.getContext()),De=Be.enabled&&je.options.animation&&Be.animations,Fe=new Animations(this.chart,De);return De._cacheable&&(this._cachedAnimations=Object.freeze(Fe)),Fe}getContext(){return this.$context||(this.$context=createTooltipContext(this.chart.getContext(),this,this._tooltipItems))}getTitle(Ce,je){const{callbacks:Be}=je,De=invokeCallbackWithFallback(Be,"beforeTitle",this,Ce),Fe=invokeCallbackWithFallback(Be,"title",this,Ce),ke=invokeCallbackWithFallback(Be,"afterTitle",this,Ce);let Oe=[];return Oe=pushOrConcat(Oe,splitNewlines(De)),Oe=pushOrConcat(Oe,splitNewlines(Fe)),Oe=pushOrConcat(Oe,splitNewlines(ke)),Oe}getBeforeBody(Ce,je){return getBeforeAfterBodyLines(invokeCallbackWithFallback(je.callbacks,"beforeBody",this,Ce))}getBody(Ce,je){const{callbacks:Be}=je,De=[];return each$1(Ce,Fe=>{const ke={before:[],lines:[],after:[]},Oe=overrideCallbacks(Be,Fe);pushOrConcat(ke.before,splitNewlines(invokeCallbackWithFallback(Oe,"beforeLabel",this,Fe))),pushOrConcat(ke.lines,invokeCallbackWithFallback(Oe,"label",this,Fe)),pushOrConcat(ke.after,splitNewlines(invokeCallbackWithFallback(Oe,"afterLabel",this,Fe))),De.push(ke)}),De}getAfterBody(Ce,je){return getBeforeAfterBodyLines(invokeCallbackWithFallback(je.callbacks,"afterBody",this,Ce))}getFooter(Ce,je){const{callbacks:Be}=je,De=invokeCallbackWithFallback(Be,"beforeFooter",this,Ce),Fe=invokeCallbackWithFallback(Be,"footer",this,Ce),ke=invokeCallbackWithFallback(Be,"afterFooter",this,Ce);let Oe=[];return Oe=pushOrConcat(Oe,splitNewlines(De)),Oe=pushOrConcat(Oe,splitNewlines(Fe)),Oe=pushOrConcat(Oe,splitNewlines(ke)),Oe}_createItems(Ce){const je=this._active,Be=this.chart.data,De=[],Fe=[],ke=[];let Oe=[],Me,Ue;for(Me=0,Ue=je.length;Me<Ue;++Me)Oe.push(createTooltipItem(this.chart,je[Me]));return Ce.filter&&(Oe=Oe.filter(($e,He,Qe)=>Ce.filter($e,He,Qe,Be))),Ce.itemSort&&(Oe=Oe.sort(($e,He)=>Ce.itemSort($e,He,Be))),each$1(Oe,$e=>{const He=overrideCallbacks(Ce.callbacks,$e);De.push(invokeCallbackWithFallback(He,"labelColor",this,$e)),Fe.push(invokeCallbackWithFallback(He,"labelPointStyle",this,$e)),ke.push(invokeCallbackWithFallback(He,"labelTextColor",this,$e))}),this.labelColors=De,this.labelPointStyles=Fe,this.labelTextColors=ke,this.dataPoints=Oe,Oe}update(Ce,je){const Be=this.options.setContext(this.getContext()),De=this._active;let Fe,ke=[];if(!De.length)this.opacity!==0&&(Fe={opacity:0});else{const Oe=positioners[Be.position].call(this,De,this._eventPosition);ke=this._createItems(Be),this.title=this.getTitle(ke,Be),this.beforeBody=this.getBeforeBody(ke,Be),this.body=this.getBody(ke,Be),this.afterBody=this.getAfterBody(ke,Be),this.footer=this.getFooter(ke,Be);const Me=this._size=getTooltipSize(this,Be),Ue=Object.assign({},Oe,Me),$e=determineAlignment(this.chart,Be,Ue),He=getBackgroundPoint(Be,Ue,$e,this.chart);this.xAlign=$e.xAlign,this.yAlign=$e.yAlign,Fe={opacity:1,x:He.x,y:He.y,width:Me.width,height:Me.height,caretX:Oe.x,caretY:Oe.y}}this._tooltipItems=ke,this.$context=void 0,Fe&&this._resolveAnimations().update(this,Fe),Ce&&Be.external&&Be.external.call(this,{chart:this.chart,tooltip:this,replay:je})}drawCaret(Ce,je,Be,De){const Fe=this.getCaretPosition(Ce,Be,De);je.lineTo(Fe.x1,Fe.y1),je.lineTo(Fe.x2,Fe.y2),je.lineTo(Fe.x3,Fe.y3)}getCaretPosition(Ce,je,Be){const{xAlign:De,yAlign:Fe}=this,{caretSize:ke,cornerRadius:Oe}=Be,{topLeft:Me,topRight:Ue,bottomLeft:$e,bottomRight:He}=toTRBLCorners(Oe),{x:Qe,y:We}=Ce,{width:qe,height:Ke}=je;let Xe,Ye,Ze,Je,tr,rr;return Fe==="center"?(tr=We+Ke/2,De==="left"?(Xe=Qe,Ye=Xe-ke,Je=tr+ke,rr=tr-ke):(Xe=Qe+qe,Ye=Xe+ke,Je=tr-ke,rr=tr+ke),Ze=Xe):(De==="left"?Ye=Qe+Math.max(Me,$e)+ke:De==="right"?Ye=Qe+qe-Math.max(Ue,He)-ke:Ye=this.caretX,Fe==="top"?(Je=We,tr=Je-ke,Xe=Ye-ke,Ze=Ye+ke):(Je=We+Ke,tr=Je+ke,Xe=Ye+ke,Ze=Ye-ke),rr=Je),{x1:Xe,x2:Ye,x3:Ze,y1:Je,y2:tr,y3:rr}}drawTitle(Ce,je,Be){const De=this.title,Fe=De.length;let ke,Oe,Me;if(Fe){const Ue=getRtlAdapter(Be.rtl,this.x,this.width);for(Ce.x=getAlignedX(this,Be.titleAlign,Be),je.textAlign=Ue.textAlign(Be.titleAlign),je.textBaseline="middle",ke=toFont(Be.titleFont),Oe=Be.titleSpacing,je.fillStyle=Be.titleColor,je.font=ke.string,Me=0;Me<Fe;++Me)je.fillText(De[Me],Ue.x(Ce.x),Ce.y+ke.lineHeight/2),Ce.y+=ke.lineHeight+Oe,Me+1===Fe&&(Ce.y+=Be.titleMarginBottom-Oe)}}_drawColorBox(Ce,je,Be,De,Fe){const ke=this.labelColors[Be],Oe=this.labelPointStyles[Be],{boxHeight:Me,boxWidth:Ue}=Fe,$e=toFont(Fe.bodyFont),He=getAlignedX(this,"left",Fe),Qe=De.x(He),We=Me<$e.lineHeight?($e.lineHeight-Me)/2:0,qe=je.y+We;if(Fe.usePointStyle){const Ke={radius:Math.min(Ue,Me)/2,pointStyle:Oe.pointStyle,rotation:Oe.rotation,borderWidth:1},Xe=De.leftForLtr(Qe,Ue)+Ue/2,Ye=qe+Me/2;Ce.strokeStyle=Fe.multiKeyBackground,Ce.fillStyle=Fe.multiKeyBackground,drawPoint(Ce,Ke,Xe,Ye),Ce.strokeStyle=ke.borderColor,Ce.fillStyle=ke.backgroundColor,drawPoint(Ce,Ke,Xe,Ye)}else{Ce.lineWidth=isObject$1(ke.borderWidth)?Math.max(...Object.values(ke.borderWidth)):ke.borderWidth||1,Ce.strokeStyle=ke.borderColor,Ce.setLineDash(ke.borderDash||[]),Ce.lineDashOffset=ke.borderDashOffset||0;const Ke=De.leftForLtr(Qe,Ue),Xe=De.leftForLtr(De.xPlus(Qe,1),Ue-2),Ye=toTRBLCorners(ke.borderRadius);Object.values(Ye).some(Ze=>Ze!==0)?(Ce.beginPath(),Ce.fillStyle=Fe.multiKeyBackground,addRoundedRectPath(Ce,{x:Ke,y:qe,w:Ue,h:Me,radius:Ye}),Ce.fill(),Ce.stroke(),Ce.fillStyle=ke.backgroundColor,Ce.beginPath(),addRoundedRectPath(Ce,{x:Xe,y:qe+1,w:Ue-2,h:Me-2,radius:Ye}),Ce.fill()):(Ce.fillStyle=Fe.multiKeyBackground,Ce.fillRect(Ke,qe,Ue,Me),Ce.strokeRect(Ke,qe,Ue,Me),Ce.fillStyle=ke.backgroundColor,Ce.fillRect(Xe,qe+1,Ue-2,Me-2))}Ce.fillStyle=this.labelTextColors[Be]}drawBody(Ce,je,Be){const{body:De}=this,{bodySpacing:Fe,bodyAlign:ke,displayColors:Oe,boxHeight:Me,boxWidth:Ue,boxPadding:$e}=Be,He=toFont(Be.bodyFont);let Qe=He.lineHeight,We=0;const qe=getRtlAdapter(Be.rtl,this.x,this.width),Ke=function(nr){je.fillText(nr,qe.x(Ce.x+We),Ce.y+Qe/2),Ce.y+=Qe+Fe},Xe=qe.textAlign(ke);let Ye,Ze,Je,tr,rr,ar,ir;for(je.textAlign=ke,je.textBaseline="middle",je.font=He.string,Ce.x=getAlignedX(this,Xe,Be),je.fillStyle=Be.bodyColor,each$1(this.beforeBody,Ke),We=Oe&&Xe!=="right"?ke==="center"?Ue/2+$e:Ue+2+$e:0,tr=0,ar=De.length;tr<ar;++tr){for(Ye=De[tr],Ze=this.labelTextColors[tr],je.fillStyle=Ze,each$1(Ye.before,Ke),Je=Ye.lines,Oe&&Je.length&&(this._drawColorBox(je,Ce,tr,qe,Be),Qe=Math.max(He.lineHeight,Me)),rr=0,ir=Je.length;rr<ir;++rr)Ke(Je[rr]),Qe=He.lineHeight;each$1(Ye.after,Ke)}We=0,Qe=He.lineHeight,each$1(this.afterBody,Ke),Ce.y-=Fe}drawFooter(Ce,je,Be){const De=this.footer,Fe=De.length;let ke,Oe;if(Fe){const Me=getRtlAdapter(Be.rtl,this.x,this.width);for(Ce.x=getAlignedX(this,Be.footerAlign,Be),Ce.y+=Be.footerMarginTop,je.textAlign=Me.textAlign(Be.footerAlign),je.textBaseline="middle",ke=toFont(Be.footerFont),je.fillStyle=Be.footerColor,je.font=ke.string,Oe=0;Oe<Fe;++Oe)je.fillText(De[Oe],Me.x(Ce.x),Ce.y+ke.lineHeight/2),Ce.y+=ke.lineHeight+Be.footerSpacing}}drawBackground(Ce,je,Be,De){const{xAlign:Fe,yAlign:ke}=this,{x:Oe,y:Me}=Ce,{width:Ue,height:$e}=Be,{topLeft:He,topRight:Qe,bottomLeft:We,bottomRight:qe}=toTRBLCorners(De.cornerRadius);je.fillStyle=De.backgroundColor,je.strokeStyle=De.borderColor,je.lineWidth=De.borderWidth,je.beginPath(),je.moveTo(Oe+He,Me),ke==="top"&&this.drawCaret(Ce,je,Be,De),je.lineTo(Oe+Ue-Qe,Me),je.quadraticCurveTo(Oe+Ue,Me,Oe+Ue,Me+Qe),ke==="center"&&Fe==="right"&&this.drawCaret(Ce,je,Be,De),je.lineTo(Oe+Ue,Me+$e-qe),je.quadraticCurveTo(Oe+Ue,Me+$e,Oe+Ue-qe,Me+$e),ke==="bottom"&&this.drawCaret(Ce,je,Be,De),je.lineTo(Oe+We,Me+$e),je.quadraticCurveTo(Oe,Me+$e,Oe,Me+$e-We),ke==="center"&&Fe==="left"&&this.drawCaret(Ce,je,Be,De),je.lineTo(Oe,Me+He),je.quadraticCurveTo(Oe,Me,Oe+He,Me),je.closePath(),je.fill(),De.borderWidth>0&&je.stroke()}_updateAnimationTarget(Ce){const je=this.chart,Be=this.$animations,De=Be&&Be.x,Fe=Be&&Be.y;if(De||Fe){const ke=positioners[Ce.position].call(this,this._active,this._eventPosition);if(!ke)return;const Oe=this._size=getTooltipSize(this,Ce),Me=Object.assign({},ke,this._size),Ue=determineAlignment(je,Ce,Me),$e=getBackgroundPoint(Ce,Me,Ue,je);(De._to!==$e.x||Fe._to!==$e.y)&&(this.xAlign=Ue.xAlign,this.yAlign=Ue.yAlign,this.width=Oe.width,this.height=Oe.height,this.caretX=ke.x,this.caretY=ke.y,this._resolveAnimations().update(this,$e))}}_willRender(){return!!this.opacity}draw(Ce){const je=this.options.setContext(this.getContext());let Be=this.opacity;if(!Be)return;this._updateAnimationTarget(je);const De={width:this.width,height:this.height},Fe={x:this.x,y:this.y};Be=Math.abs(Be)<.001?0:Be;const ke=toPadding(je.padding),Oe=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;je.enabled&&Oe&&(Ce.save(),Ce.globalAlpha=Be,this.drawBackground(Fe,Ce,De,je),overrideTextDirection(Ce,je.textDirection),Fe.y+=ke.top,this.drawTitle(Fe,Ce,je),this.drawBody(Fe,Ce,je),this.drawFooter(Fe,Ce,je),restoreTextDirection(Ce,je.textDirection),Ce.restore())}getActiveElements(){return this._active||[]}setActiveElements(Ce,je){const Be=this._active,De=Ce.map(({datasetIndex:Oe,index:Me})=>{const Ue=this.chart.getDatasetMeta(Oe);if(!Ue)throw new Error("Cannot find a dataset at index "+Oe);return{datasetIndex:Oe,element:Ue.data[Me],index:Me}}),Fe=!_elementsEqual(Be,De),ke=this._positionChanged(De,je);(Fe||ke)&&(this._active=De,this._eventPosition=je,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(Ce,je,Be=!0){if(je&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const De=this.options,Fe=this._active||[],ke=this._getActiveElements(Ce,Fe,je,Be),Oe=this._positionChanged(ke,Ce),Me=je||!_elementsEqual(ke,Fe)||Oe;return Me&&(this._active=ke,(De.enabled||De.external)&&(this._eventPosition={x:Ce.x,y:Ce.y},this.update(!0,je))),Me}_getActiveElements(Ce,je,Be,De){const Fe=this.options;if(Ce.type==="mouseout")return[];if(!De)return je.filter(Oe=>this.chart.data.datasets[Oe.datasetIndex]&&this.chart.getDatasetMeta(Oe.datasetIndex).controller.getParsed(Oe.index)!==void 0);const ke=this.chart.getElementsAtEventForMode(Ce,Fe.mode,Fe,Be);return Fe.reverse&&ke.reverse(),ke}_positionChanged(Ce,je){const{caretX:Be,caretY:De,options:Fe}=this,ke=positioners[Fe.position].call(this,Ce,je);return ke!==!1&&(Be!==ke.x||De!==ke.y)}};var plugin_tooltip={id:"tooltip",_element:Tooltip$1,positioners,afterInit(Re,Ce,je){je&&(Re.tooltip=new Tooltip$1({chart:Re,options:je}))},beforeUpdate(Re,Ce,je){Re.tooltip&&Re.tooltip.initialize(je)},reset(Re,Ce,je){Re.tooltip&&Re.tooltip.initialize(je)},afterDraw(Re){const Ce=Re.tooltip;if(Ce&&Ce._willRender()){const je={tooltip:Ce};if(Re.notifyPlugins("beforeTooltipDraw",{...je,cancelable:!0})===!1)return;Ce.draw(Re.ctx),Re.notifyPlugins("afterTooltipDraw",je)}},afterEvent(Re,Ce){if(Re.tooltip){const je=Ce.replay;Re.tooltip.handleEvent(Ce.event,je,Ce.inChartArea)&&(Ce.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(Re,Ce)=>Ce.bodyFont.size,boxWidth:(Re,Ce)=>Ce.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:defaultCallbacks},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:Re=>Re!=="filter"&&Re!=="itemSort"&&Re!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const addIfString=(Re,Ce,je,Be)=>(typeof Ce=="string"?(je=Re.push(Ce)-1,Be.unshift({index:je,label:Ce})):isNaN(Ce)&&(je=null),je);function findOrAddLabel(Re,Ce,je,Be){const De=Re.indexOf(Ce);if(De===-1)return addIfString(Re,Ce,je,Be);const Fe=Re.lastIndexOf(Ce);return De!==Fe?je:De}const validIndex=(Re,Ce)=>Re===null?null:_limitValue(Math.round(Re),0,Ce);function _getLabelForValue(Re){const Ce=this.getLabels();return Re>=0&&Re<Ce.length?Ce[Re]:Re}class CategoryScale extends Scale{static id="category";static defaults={ticks:{callback:_getLabelForValue}};constructor(Ce){super(Ce),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(Ce){const je=this._addedLabels;if(je.length){const Be=this.getLabels();for(const{index:De,label:Fe}of je)Be[De]===Fe&&Be.splice(De,1);this._addedLabels=[]}super.init(Ce)}parse(Ce,je){if(isNullOrUndef(Ce))return null;const Be=this.getLabels();return je=isFinite(je)&&Be[je]===Ce?je:findOrAddLabel(Be,Ce,valueOrDefault(je,Ce),this._addedLabels),validIndex(je,Be.length-1)}determineDataLimits(){const{minDefined:Ce,maxDefined:je}=this.getUserBounds();let{min:Be,max:De}=this.getMinMax(!0);this.options.bounds==="ticks"&&(Ce||(Be=0),je||(De=this.getLabels().length-1)),this.min=Be,this.max=De}buildTicks(){const Ce=this.min,je=this.max,Be=this.options.offset,De=[];let Fe=this.getLabels();Fe=Ce===0&&je===Fe.length-1?Fe:Fe.slice(Ce,je+1),this._valueRange=Math.max(Fe.length-(Be?0:1),1),this._startValue=this.min-(Be?.5:0);for(let ke=Ce;ke<=je;ke++)De.push({value:ke});return De}getLabelForValue(Ce){return _getLabelForValue.call(this,Ce)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(Ce){return typeof Ce!="number"&&(Ce=this.parse(Ce)),Ce===null?NaN:this.getPixelForDecimal((Ce-this._startValue)/this._valueRange)}getPixelForTick(Ce){const je=this.ticks;return Ce<0||Ce>je.length-1?null:this.getPixelForValue(je[Ce].value)}getValueForPixel(Ce){return Math.round(this._startValue+this.getDecimalForPixel(Ce)*this._valueRange)}getBasePixel(){return this.bottom}}function generateTicks$1(Re,Ce){const je=[],{bounds:De,step:Fe,min:ke,max:Oe,precision:Me,count:Ue,maxTicks:$e,maxDigits:He,includeBounds:Qe}=Re,We=Fe||1,qe=$e-1,{min:Ke,max:Xe}=Ce,Ye=!isNullOrUndef(ke),Ze=!isNullOrUndef(Oe),Je=!isNullOrUndef(Ue),tr=(Xe-Ke)/(He+1);let rr=niceNum((Xe-Ke)/qe/We)*We,ar,ir,nr,cr;if(rr<1e-14&&!Ye&&!Ze)return[{value:Ke},{value:Xe}];cr=Math.ceil(Xe/rr)-Math.floor(Ke/rr),cr>qe&&(rr=niceNum(cr*rr/qe/We)*We),isNullOrUndef(Me)||(ar=Math.pow(10,Me),rr=Math.ceil(rr*ar)/ar),De==="ticks"?(ir=Math.floor(Ke/rr)*rr,nr=Math.ceil(Xe/rr)*rr):(ir=Ke,nr=Xe),Ye&&Ze&&Fe&&almostWhole((Oe-ke)/Fe,rr/1e3)?(cr=Math.round(Math.min((Oe-ke)/rr,$e)),rr=(Oe-ke)/cr,ir=ke,nr=Oe):Je?(ir=Ye?ke:ir,nr=Ze?Oe:nr,cr=Ue-1,rr=(nr-ir)/cr):(cr=(nr-ir)/rr,almostEquals(cr,Math.round(cr),rr/1e3)?cr=Math.round(cr):cr=Math.ceil(cr));const mr=Math.max(_decimalPlaces(rr),_decimalPlaces(ir));ar=Math.pow(10,isNullOrUndef(Me)?mr:Me),ir=Math.round(ir*ar)/ar,nr=Math.round(nr*ar)/ar;let fr=0;for(Ye&&(Qe&&ir!==ke?(je.push({value:ke}),ir<ke&&fr++,almostEquals(Math.round((ir+fr*rr)*ar)/ar,ke,relativeLabelSize(ke,tr,Re))&&fr++):ir<ke&&fr++);fr<cr;++fr){const or=Math.round((ir+fr*rr)*ar)/ar;if(Ze&&or>Oe)break;je.push({value:or})}return Ze&&Qe&&nr!==Oe?je.length&&almostEquals(je[je.length-1].value,Oe,relativeLabelSize(Oe,tr,Re))?je[je.length-1].value=Oe:je.push({value:Oe}):(!Ze||nr===Oe)&&je.push({value:nr}),je}function relativeLabelSize(Re,Ce,{horizontal:je,minRotation:Be}){const De=toRadians(Be),Fe=(je?Math.sin(De):Math.cos(De))||.001,ke=.75*Ce*(""+Re).length;return Math.min(Ce/Fe,ke)}class LinearScaleBase extends Scale{constructor(Ce){super(Ce),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(Ce,je){return isNullOrUndef(Ce)||(typeof Ce=="number"||Ce instanceof Number)&&!isFinite(+Ce)?null:+Ce}handleTickRangeOptions(){const{beginAtZero:Ce}=this.options,{minDefined:je,maxDefined:Be}=this.getUserBounds();let{min:De,max:Fe}=this;const ke=Me=>De=je?De:Me,Oe=Me=>Fe=Be?Fe:Me;if(Ce){const Me=sign$1(De),Ue=sign$1(Fe);Me<0&&Ue<0?Oe(0):Me>0&&Ue>0&&ke(0)}if(De===Fe){let Me=Fe===0?1:Math.abs(Fe*.05);Oe(Fe+Me),Ce||ke(De-Me)}this.min=De,this.max=Fe}getTickLimit(){const Ce=this.options.ticks;let{maxTicksLimit:je,stepSize:Be}=Ce,De;return Be?(De=Math.ceil(this.max/Be)-Math.floor(this.min/Be)+1,De>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${Be} would result generating up to ${De} ticks. Limiting to 1000.`),De=1e3)):(De=this.computeTickLimit(),je=je||11),je&&(De=Math.min(je,De)),De}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const Ce=this.options,je=Ce.ticks;let Be=this.getTickLimit();Be=Math.max(2,Be);const De={maxTicks:Be,bounds:Ce.bounds,min:Ce.min,max:Ce.max,precision:je.precision,step:je.stepSize,count:je.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:je.minRotation||0,includeBounds:je.includeBounds!==!1},Fe=this._range||this,ke=generateTicks$1(De,Fe);return Ce.bounds==="ticks"&&_setMinAndMaxByKey(ke,this,"value"),Ce.reverse?(ke.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),ke}configure(){const Ce=this.ticks;let je=this.min,Be=this.max;if(super.configure(),this.options.offset&&Ce.length){const De=(Be-je)/Math.max(Ce.length-1,1)/2;je-=De,Be+=De}this._startValue=je,this._endValue=Be,this._valueRange=Be-je}getLabelForValue(Ce){return formatNumber(Ce,this.chart.options.locale,this.options.ticks.format)}}class LinearScale extends LinearScaleBase{static id="linear";static defaults={ticks:{callback:Ticks.formatters.numeric}};determineDataLimits(){const{min:Ce,max:je}=this.getMinMax(!0);this.min=isNumberFinite(Ce)?Ce:0,this.max=isNumberFinite(je)?je:1,this.handleTickRangeOptions()}computeTickLimit(){const Ce=this.isHorizontal(),je=Ce?this.width:this.height,Be=toRadians(this.options.ticks.minRotation),De=(Ce?Math.sin(Be):Math.cos(Be))||.001,Fe=this._resolveTickFontOptions(0);return Math.ceil(je/Math.min(40,Fe.lineHeight/De))}getPixelForValue(Ce){return Ce===null?NaN:this.getPixelForDecimal((Ce-this._startValue)/this._valueRange)}getValueForPixel(Ce){return this._startValue+this.getDecimalForPixel(Ce)*this._valueRange}}const INTERVALS={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);function sorter(Re,Ce){return Re-Ce}function parse$1(Re,Ce){if(isNullOrUndef(Ce))return null;const je=Re._adapter,{parser:Be,round:De,isoWeekday:Fe}=Re._parseOpts;let ke=Ce;return typeof Be=="function"&&(ke=Be(ke)),isNumberFinite(ke)||(ke=typeof Be=="string"?je.parse(ke,Be):je.parse(ke)),ke===null?null:(De&&(ke=De==="week"&&(isNumber$1(Fe)||Fe===!0)?je.startOf(ke,"isoWeek",Fe):je.startOf(ke,De)),+ke)}function determineUnitForAutoTicks(Re,Ce,je,Be){const De=UNITS.length;for(let Fe=UNITS.indexOf(Re);Fe<De-1;++Fe){const ke=INTERVALS[UNITS[Fe]],Oe=ke.steps?ke.steps:Number.MAX_SAFE_INTEGER;if(ke.common&&Math.ceil((je-Ce)/(Oe*ke.size))<=Be)return UNITS[Fe]}return UNITS[De-1]}function determineUnitForFormatting(Re,Ce,je,Be,De){for(let Fe=UNITS.length-1;Fe>=UNITS.indexOf(je);Fe--){const ke=UNITS[Fe];if(INTERVALS[ke].common&&Re._adapter.diff(De,Be,ke)>=Ce-1)return ke}return UNITS[je?UNITS.indexOf(je):0]}function determineMajorUnit(Re){for(let Ce=UNITS.indexOf(Re)+1,je=UNITS.length;Ce<je;++Ce)if(INTERVALS[UNITS[Ce]].common)return UNITS[Ce]}function addTick(Re,Ce,je){if(!je)Re[Ce]=!0;else if(je.length){const{lo:Be,hi:De}=_lookup(je,Ce),Fe=je[Be]>=Ce?je[Be]:je[De];Re[Fe]=!0}}function setMajorTicks(Re,Ce,je,Be){const De=Re._adapter,Fe=+De.startOf(Ce[0].value,Be),ke=Ce[Ce.length-1].value;let Oe,Me;for(Oe=Fe;Oe<=ke;Oe=+De.add(Oe,1,Be))Me=je[Oe],Me>=0&&(Ce[Me].major=!0);return Ce}function ticksFromTimestamps(Re,Ce,je){const Be=[],De={},Fe=Ce.length;let ke,Oe;for(ke=0;ke<Fe;++ke)Oe=Ce[ke],De[Oe]=ke,Be.push({value:Oe,major:!1});return Fe===0||!je?Be:setMajorTicks(Re,Be,De,je)}class TimeScale extends Scale{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(Ce){super(Ce),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(Ce,je={}){const Be=Ce.time||(Ce.time={}),De=this._adapter=new adapters._date(Ce.adapters.date);De.init(je),mergeIf(Be.displayFormats,De.formats()),this._parseOpts={parser:Be.parser,round:Be.round,isoWeekday:Be.isoWeekday},super.init(Ce),this._normalized=je.normalized}parse(Ce,je){return Ce===void 0?null:parse$1(this,Ce)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const Ce=this.options,je=this._adapter,Be=Ce.time.unit||"day";let{min:De,max:Fe,minDefined:ke,maxDefined:Oe}=this.getUserBounds();function Me(Ue){!ke&&!isNaN(Ue.min)&&(De=Math.min(De,Ue.min)),!Oe&&!isNaN(Ue.max)&&(Fe=Math.max(Fe,Ue.max))}(!ke||!Oe)&&(Me(this._getLabelBounds()),(Ce.bounds!=="ticks"||Ce.ticks.source!=="labels")&&Me(this.getMinMax(!1))),De=isNumberFinite(De)&&!isNaN(De)?De:+je.startOf(Date.now(),Be),Fe=isNumberFinite(Fe)&&!isNaN(Fe)?Fe:+je.endOf(Date.now(),Be)+1,this.min=Math.min(De,Fe-1),this.max=Math.max(De+1,Fe)}_getLabelBounds(){const Ce=this.getLabelTimestamps();let je=Number.POSITIVE_INFINITY,Be=Number.NEGATIVE_INFINITY;return Ce.length&&(je=Ce[0],Be=Ce[Ce.length-1]),{min:je,max:Be}}buildTicks(){const Ce=this.options,je=Ce.time,Be=Ce.ticks,De=Be.source==="labels"?this.getLabelTimestamps():this._generate();Ce.bounds==="ticks"&&De.length&&(this.min=this._userMin||De[0],this.max=this._userMax||De[De.length-1]);const Fe=this.min,ke=this.max,Oe=_filterBetween(De,Fe,ke);return this._unit=je.unit||(Be.autoSkip?determineUnitForAutoTicks(je.minUnit,this.min,this.max,this._getLabelCapacity(Fe)):determineUnitForFormatting(this,Oe.length,je.minUnit,this.min,this.max)),this._majorUnit=!Be.major.enabled||this._unit==="year"?void 0:determineMajorUnit(this._unit),this.initOffsets(De),Ce.reverse&&Oe.reverse(),ticksFromTimestamps(this,Oe,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(Ce=>+Ce.value))}initOffsets(Ce=[]){let je=0,Be=0,De,Fe;this.options.offset&&Ce.length&&(De=this.getDecimalForValue(Ce[0]),Ce.length===1?je=1-De:je=(this.getDecimalForValue(Ce[1])-De)/2,Fe=this.getDecimalForValue(Ce[Ce.length-1]),Ce.length===1?Be=Fe:Be=(Fe-this.getDecimalForValue(Ce[Ce.length-2]))/2);const ke=Ce.length<3?.5:.25;je=_limitValue(je,0,ke),Be=_limitValue(Be,0,ke),this._offsets={start:je,end:Be,factor:1/(je+1+Be)}}_generate(){const Ce=this._adapter,je=this.min,Be=this.max,De=this.options,Fe=De.time,ke=Fe.unit||determineUnitForAutoTicks(Fe.minUnit,je,Be,this._getLabelCapacity(je)),Oe=valueOrDefault(De.ticks.stepSize,1),Me=ke==="week"?Fe.isoWeekday:!1,Ue=isNumber$1(Me)||Me===!0,$e={};let He=je,Qe,We;if(Ue&&(He=+Ce.startOf(He,"isoWeek",Me)),He=+Ce.startOf(He,Ue?"day":ke),Ce.diff(Be,je,ke)>1e5*Oe)throw new Error(je+" and "+Be+" are too far apart with stepSize of "+Oe+" "+ke);const qe=De.ticks.source==="data"&&this.getDataTimestamps();for(Qe=He,We=0;Qe<Be;Qe=+Ce.add(Qe,Oe,ke),We++)addTick($e,Qe,qe);return(Qe===Be||De.bounds==="ticks"||We===1)&&addTick($e,Qe,qe),Object.keys($e).sort(sorter).map(Ke=>+Ke)}getLabelForValue(Ce){const je=this._adapter,Be=this.options.time;return Be.tooltipFormat?je.format(Ce,Be.tooltipFormat):je.format(Ce,Be.displayFormats.datetime)}format(Ce,je){const De=this.options.time.displayFormats,Fe=this._unit,ke=je||De[Fe];return this._adapter.format(Ce,ke)}_tickFormatFunction(Ce,je,Be,De){const Fe=this.options,ke=Fe.ticks.callback;if(ke)return callback(ke,[Ce,je,Be],this);const Oe=Fe.time.displayFormats,Me=this._unit,Ue=this._majorUnit,$e=Me&&Oe[Me],He=Ue&&Oe[Ue],Qe=Be[je],We=Ue&&He&&Qe&&Qe.major;return this._adapter.format(Ce,De||(We?He:$e))}generateTickLabels(Ce){let je,Be,De;for(je=0,Be=Ce.length;je<Be;++je)De=Ce[je],De.label=this._tickFormatFunction(De.value,je,Ce)}getDecimalForValue(Ce){return Ce===null?NaN:(Ce-this.min)/(this.max-this.min)}getPixelForValue(Ce){const je=this._offsets,Be=this.getDecimalForValue(Ce);return this.getPixelForDecimal((je.start+Be)*je.factor)}getValueForPixel(Ce){const je=this._offsets,Be=this.getDecimalForPixel(Ce)/je.factor-je.end;return this.min+Be*(this.max-this.min)}_getLabelSize(Ce){const je=this.options.ticks,Be=this.ctx.measureText(Ce).width,De=toRadians(this.isHorizontal()?je.maxRotation:je.minRotation),Fe=Math.cos(De),ke=Math.sin(De),Oe=this._resolveTickFontOptions(0).size;return{w:Be*Fe+Oe*ke,h:Be*ke+Oe*Fe}}_getLabelCapacity(Ce){const je=this.options.time,Be=je.displayFormats,De=Be[je.unit]||Be.millisecond,Fe=this._tickFormatFunction(Ce,0,ticksFromTimestamps(this,[Ce],this._majorUnit),De),ke=this._getLabelSize(Fe),Oe=Math.floor(this.isHorizontal()?this.width/ke.w:this.height/ke.h)-1;return Oe>0?Oe:1}getDataTimestamps(){let Ce=this._cache.data||[],je,Be;if(Ce.length)return Ce;const De=this.getMatchingVisibleMetas();if(this._normalized&&De.length)return this._cache.data=De[0].controller.getAllParsedValues(this);for(je=0,Be=De.length;je<Be;++je)Ce=Ce.concat(De[je].controller.getAllParsedValues(this));return this._cache.data=this.normalize(Ce)}getLabelTimestamps(){const Ce=this._cache.labels||[];let je,Be;if(Ce.length)return Ce;const De=this.getLabels();for(je=0,Be=De.length;je<Be;++je)Ce.push(parse$1(this,De[je]));return this._cache.labels=this._normalized?Ce:this.normalize(Ce)}normalize(Ce){return _arrayUnique(Ce.sort(sorter))}}function interpolate$2(Re,Ce,je){let Be=0,De=Re.length-1,Fe,ke,Oe,Me;je?(Ce>=Re[Be].pos&&Ce<=Re[De].pos&&({lo:Be,hi:De}=_lookupByKey(Re,"pos",Ce)),{pos:Fe,time:Oe}=Re[Be],{pos:ke,time:Me}=Re[De]):(Ce>=Re[Be].time&&Ce<=Re[De].time&&({lo:Be,hi:De}=_lookupByKey(Re,"time",Ce)),{time:Fe,pos:Oe}=Re[Be],{time:ke,pos:Me}=Re[De]);const Ue=ke-Fe;return Ue?Oe+(Me-Oe)*(Ce-Fe)/Ue:Oe}class TimeSeriesScale extends TimeScale{static id="timeseries";static defaults=TimeScale.defaults;constructor(Ce){super(Ce),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const Ce=this._getTimestampsForTable(),je=this._table=this.buildLookupTable(Ce);this._minPos=interpolate$2(je,this.min),this._tableRange=interpolate$2(je,this.max)-this._minPos,super.initOffsets(Ce)}buildLookupTable(Ce){const{min:je,max:Be}=this,De=[],Fe=[];let ke,Oe,Me,Ue,$e;for(ke=0,Oe=Ce.length;ke<Oe;++ke)Ue=Ce[ke],Ue>=je&&Ue<=Be&&De.push(Ue);if(De.length<2)return[{time:je,pos:0},{time:Be,pos:1}];for(ke=0,Oe=De.length;ke<Oe;++ke)$e=De[ke+1],Me=De[ke-1],Ue=De[ke],Math.round(($e+Me)/2)!==Ue&&Fe.push({time:Ue,pos:ke/(Oe-1)});return Fe}_generate(){const Ce=this.min,je=this.max;let Be=super.getDataTimestamps();return(!Be.includes(Ce)||!Be.length)&&Be.splice(0,0,Ce),(!Be.includes(je)||Be.length===1)&&Be.push(je),Be.sort((De,Fe)=>De-Fe)}_getTimestampsForTable(){let Ce=this._cache.all||[];if(Ce.length)return Ce;const je=this.getDataTimestamps(),Be=this.getLabelTimestamps();return je.length&&Be.length?Ce=this.normalize(je.concat(Be)):Ce=je.length?je:Be,Ce=this._cache.all=Ce,Ce}getDecimalForValue(Ce){return(interpolate$2(this._table,Ce)-this._minPos)/this._tableRange}getValueForPixel(Ce){const je=this._offsets,Be=this.getDecimalForPixel(Ce)/je.factor-je.end;return interpolate$2(this._table,Be*this._tableRange+this._minPos,!0)}}const defaultDatasetIdKey="label";function reforwardRef(Re,Ce){typeof Re=="function"?Re(Ce):Re&&(Re.current=Ce)}function setOptions(Re,Ce){const je=Re.options;je&&Ce&&Object.assign(je,Ce)}function setLabels(Re,Ce){Re.labels=Ce}function setDatasets(Re,Ce){let je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultDatasetIdKey;const Be=[];Re.datasets=Ce.map(De=>{const Fe=Re.datasets.find(ke=>ke[je]===De[je]);return!Fe||!De.data||Be.includes(Fe)?{...De}:(Be.push(Fe),Object.assign(Fe,De),Fe)})}function cloneData(Re){let Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultDatasetIdKey;const je={labels:[],datasets:[]};return setLabels(je,Re.labels),setDatasets(je,Re.datasets,Ce),je}function ChartComponent(Re,Ce){const{height:je=150,width:Be=300,redraw:De=!1,datasetIdKey:Fe,type:ke,data:Oe,options:Me,plugins:Ue=[],fallbackContent:$e,updateMode:He,...Qe}=Re,We=reactExports.useRef(null),qe=reactExports.useRef(null),Ke=()=>{We.current&&(qe.current=new Chart$1(We.current,{type:ke,data:cloneData(Oe,Fe),options:Me&&{...Me},plugins:Ue}),reforwardRef(Ce,qe.current))},Xe=()=>{reforwardRef(Ce,null),qe.current&&(qe.current.destroy(),qe.current=null)};return reactExports.useEffect(()=>{!De&&qe.current&&Me&&setOptions(qe.current,Me)},[De,Me]),reactExports.useEffect(()=>{!De&&qe.current&&setLabels(qe.current.config.data,Oe.labels)},[De,Oe.labels]),reactExports.useEffect(()=>{!De&&qe.current&&Oe.datasets&&setDatasets(qe.current.config.data,Oe.datasets,Fe)},[De,Oe.datasets]),reactExports.useEffect(()=>{qe.current&&(De?(Xe(),setTimeout(Ke)):qe.current.update(He))},[De,Me,Oe.labels,Oe.datasets,He]),reactExports.useEffect(()=>{qe.current&&(Xe(),setTimeout(Ke))},[ke]),reactExports.useEffect(()=>(Ke(),()=>Xe()),[]),React.createElement("canvas",{ref:We,role:"img",height:je,width:Be,...Qe},$e)}const Chart=reactExports.forwardRef(ChartComponent);function createTypedChart(Re,Ce){return Chart$1.register(Ce),reactExports.forwardRef((je,Be)=>React.createElement(Chart,{...je,ref:Be,type:Re}))}const Bar$1=createTypedChart("bar",BarController),Pie=createTypedChart("pie",PieController);Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const CustomerRetentionCard=()=>{const[Re,Ce]=reactExports.useState({totalCustomers:0,returningCustomers:0,retentionRate:0,chartData:[]});reactExports.useEffect(()=>{(async()=>{const De=auth$2.currentUser?.uid;if(!De)return;const Fe=collection(db$2,`businesses/${De}/finalizedInvoices`),ke=await getDocs(Fe),Oe={};ke.docs.forEach(Qe=>{const qe=Qe.data().customer||{},Ke=qe.custId||qe.phone||qe.email||qe.name;Oe[Ke]||(Oe[Ke]={custId:qe.custId,name:qe.name,visits:0}),Oe[Ke].visits+=1});const Me=Object.keys(Oe).length,Ue=Object.values(Oe).filter(Qe=>Qe.visits>1).length,$e=Me>0?(Ue/Me*100).toFixed(1):0,He=Object.values(Oe).sort((Qe,We)=>We.visits-Qe.visits).map(Qe=>({name:Qe.name||"Unknown",visits:Qe.visits}));Ce({totalCustomers:Me,returningCustomers:Ue,retentionRate:$e,chartData:He})})()},[]);const je={labels:Re.chartData.map(Be=>Be.name),datasets:[{label:"Visits",data:Re.chartData.map(Be=>Be.visits),backgroundColor:"#3B82F6"}]};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-2",children:" Customer Retention"}),jsxRuntimeExports.jsxs("p",{children:["Total Customers: ",jsxRuntimeExports.jsx("strong",{children:Re.totalCustomers})]}),jsxRuntimeExports.jsxs("p",{children:["Returning Customers: ",jsxRuntimeExports.jsx("strong",{children:Re.returningCustomers})]}),jsxRuntimeExports.jsxs("p",{children:["Retention Rate: ",jsxRuntimeExports.jsxs("strong",{children:[Re.retentionRate,"%"]})]}),Re.chartData.length>0&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(Bar$1,{data:je,options:{responsive:!0,plugins:{legend:{display:!1}}}})})]})},TopLoyalCustomersTable=()=>{const[Re,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),ke=(await getDocs(De)).docs.map(Ue=>Ue.data()),Oe={};ke.forEach(Ue=>{const $e=Ue.customer||{},He=$e.custId||$e.phone||$e.email||$e.name;Oe[He]||(Oe[He]={custId:$e.custId,name:$e.name,phone:$e.phone,totalSpend:0,orders:0}),Oe[He].orders+=1,Oe[He].totalSpend+=Ue.totalAmount||0});const Me=Object.values(Oe).map(Ue=>({...Ue,avgOrderValue:Ue.orders>0?(Ue.totalSpend/Ue.orders).toFixed(2):"0.00"})).sort((Ue,$e)=>$e.totalSpend-Ue.totalSpend).slice(0,5);Ce(Me)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Top Loyal / High-Spend Customers"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-center",children:"Orders"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Total Spend"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Avg Order Value"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((je,Be)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:je.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2",children:je.phone||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:je.orders}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",je.totalSpend.toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",je.avgOrderValue]})]},Be))})]})})]})},CustomerProductsTable=()=>{const[Re,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),ke=(await getDocs(De)).docs.map(Ue=>Ue.data()),Oe={};ke.forEach(Ue=>{const $e=Ue.customer||{},He=$e.custId||$e.phone||$e.email||$e.name;Oe[He]||(Oe[He]={custId:$e.custId,name:$e.name,phone:$e.phone,visits:0,totalSpend:0,products:{}}),Oe[He].visits+=1,Oe[He].totalSpend+=Ue.totalAmount||0,(Ue.cartItems||[]).forEach(Qe=>{Oe[He].products[Qe.name]||(Oe[He].products[Qe.name]=0),Oe[He].products[Qe.name]+=Qe.quantity})});const Me=Object.values(Oe).map(Ue=>({...Ue,topProducts:Object.entries(Ue.products).sort(($e,He)=>He[1]-$e[1]).slice(0,3).map(([$e,He])=>`${$e} (${He})`).join(", ")})).sort((Ue,$e)=>$e.visits-Ue.visits);Ce(Me)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Products Bought by Each Customer"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Customer Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-center",children:"Visits"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-left",children:"Top Products"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-right",children:"Total Spend"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((je,Be)=>jsxRuntimeExports.jsxs("tr",{className:"border-t",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:je.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"p-2 text-center",children:je.visits}),jsxRuntimeExports.jsx("td",{className:"p-2",children:je.topProducts}),jsxRuntimeExports.jsxs("td",{className:"p-2 text-right",children:["",je.totalSpend.toFixed(2)]})]},Be))})]})})]})};Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const HourlyVisitChart=()=>{const[Re,Ce]=reactExports.useState(new Array(24).fill(0));reactExports.useEffect(()=>{(async()=>{const Fe=auth$2.currentUser?.uid;if(!Fe)return;const ke=collection(db$2,`businesses/${Fe}/finalizedInvoices`),Oe=await getDocs(ke),Me=new Array(24).fill(0),Ue=new Set;Oe.docs.forEach($e=>{const He=$e.data(),Qe=He.issuedAt||He.createdAt;if(!Qe)return;const qe=new Date(Qe).getHours(),Ke=He.customer||{},Ye=`${Ke.custId||Ke.phone||Ke.email||Ke.name}-${qe}`;Ue.has(Ye)||(Ue.add(Ye),Me[qe]++)}),Ce(Me)})()},[]);const je={labels:Array.from({length:24},(De,Fe)=>`${Fe}:00`),datasets:[{label:"Invoices",data:Re,backgroundColor:"#10B981"}]},Be={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:1}}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Hourly Customer Visit Trends"}),jsxRuntimeExports.jsx(Bar$1,{data:je,options:Be})]})},CustomerInsights=()=>{const[Re,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),ke=(await getDocs(De)).docs.map(Me=>Me.data()),Oe={};ke.forEach(Me=>{const Ue=Me.customer||{},$e=Ue.custId||Ue.phone||Ue.email||Ue.name;Oe[$e]||(Oe[$e]={custId:Ue.custId,name:Ue.name,phone:Ue.phone,email:Ue.email,visits:0,totalSpend:0,products:{}}),Oe[$e].visits+=1,Oe[$e].totalSpend+=Me.totalAmount||0,(Me.cartItems||[]).forEach(He=>{Oe[$e].products[He.name]||(Oe[$e].products[He.name]=0),Oe[$e].products[He.name]+=He.quantity})}),Ce(Object.values(Oe))})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Customer Insights"}),jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Re.map((je,Be)=>jsxRuntimeExports.jsxs("div",{className:"border p-4 rounded shadow bg-white",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[je.name," (",je.phone,")"]}),jsxRuntimeExports.jsxs("p",{children:["Total Visits: ",je.visits]}),jsxRuntimeExports.jsxs("p",{children:["Total Spend: ",je.totalSpend.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:["Top Products: ",Object.entries(je.products).map(([De,Fe])=>`${De} (${Fe})`).join(", ")]})]},Be))})]})},CustomerLoyaltyTags=()=>{const[Re,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=auth$2.currentUser?.uid;if(!Be)return;const De=collection(db$2,`businesses/${Be}/finalizedInvoices`),Fe=await getDocs(De),ke={};Fe.docs.forEach(Me=>{const $e=Me.data().customer||{},He=$e.custId||$e.phone||$e.email||$e.name;ke[He]||(ke[He]={custId:$e.custId,name:$e.name,phone:$e.phone,visits:0}),ke[He].visits+=1});const Oe=Object.values(ke).map(Me=>({...Me,tier:Me.visits>=10?" Platinum":Me.visits>=5?" Gold":Me.visits>=1?" Silver":"New"})).sort((Me,Ue)=>Ue.visits-Me.visits);Ce(Oe)})()},[]),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Customer Loyalty Tiers"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Re.map((je,Be)=>jsxRuntimeExports.jsxs("div",{className:"border p-4 rounded shadow-sm",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold",children:[je.name," (",je.phone,")"]}),jsxRuntimeExports.jsxs("p",{children:["Visits: ",je.visits]}),jsxRuntimeExports.jsxs("p",{children:["Tier: ",jsxRuntimeExports.jsx("strong",{children:je.tier})]})]},Be))})]})};Chart$1.register(BarElement,CategoryScale,LinearScale,plugin_tooltip,plugin_legend);const TopProductsChart=()=>{const[Re,Ce]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{const Fe=auth$2.currentUser?.uid;if(!Fe)return;const ke=collection(db$2,`businesses/${Fe}/finalizedInvoices`),Oe=await getDocs(ke),Me={},Ue={};Oe.docs.forEach(He=>{const Qe=He.data(),We=Qe.customer||{},qe=We.custId||We.phone||We.email||We.name;(Qe.cartItems||[]).forEach(Ke=>{const Xe=Ke.name||"Unnamed",Ye=`${qe}-${Xe}`;Ue[Ye]||(Ue[Ye]=Ke.quantity,Me[Xe]=(Me[Xe]||0)+Ke.quantity)})});const $e=Object.entries(Me).sort((He,Qe)=>Qe[1]-He[1]).slice(0,5).map(([He,Qe])=>({name:He,qty:Qe}));Ce($e)})()},[]);const je={labels:Re.map(De=>De.name),datasets:[{label:"Quantity Sold",data:Re.map(De=>De.qty),backgroundColor:"#6366F1"}]},Be={responsive:!0,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,stepSize:1}}};return jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded shadow mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold mb-4",children:" Top 5 Most Frequently Bought Products"}),jsxRuntimeExports.jsx(Bar$1,{data:je,options:Be})]})},CustomerAnalysis=({custId:Re})=>jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4",children:" Customer Analysis"}),jsxRuntimeExports.jsx(CustomerRetentionCard,{custId:Re}),jsxRuntimeExports.jsx(TopLoyalCustomersTable,{custId:Re}),jsxRuntimeExports.jsx(CustomerProductsTable,{custId:Re}),jsxRuntimeExports.jsx(HourlyVisitChart,{custId:Re}),jsxRuntimeExports.jsx(TopProductsChart,{custId:Re}),jsxRuntimeExports.jsx(CustomerInsights,{custId:Re}),jsxRuntimeExports.jsx(CustomerLoyaltyTags,{custId:Re})]}),AuthContext=reactExports.createContext(),useAuth=()=>reactExports.useContext(AuthContext),getCurrentUserId=()=>auth$2.currentUser?.uid||null,AuthProvider=({children:Re})=>{const[Ce,je]=reactExports.useState(null),[Be,De]=reactExports.useState(null),[Fe,ke]=reactExports.useState(!0);return reactExports.useEffect(()=>{const Oe=onAuthStateChanged(auth$2,async Me=>{if(je(Me),Me){console.log("Authenticated user UID:",Me.uid);const Ue=doc(db$2,"businesses",Me.uid),$e=await getDoc(Ue);$e.exists()&&De($e.data().role)}else console.log("User signed out or no user authenticated."),De(null);ke(!1)});return()=>Oe()},[]),jsxRuntimeExports.jsx(AuthContext.Provider,{value:{user:Ce,role:Be,loading:Fe,setUser:je,setRole:De,setLoading:ke},children:Fe?null:Re})},logInventoryChange=async({productId:Re,sku:Ce,productName:je,brand:Be,category:De,previousData:Fe={},updatedData:ke={},action:Oe="updated",source:Me="manual"})=>{const Ue=auth$2.currentUser?.uid;if(!Ue||!Re)return;const $e={};for(const He in ke)Fe[He]!==ke[He]&&($e[He]={from:Fe[He]!==void 0?Fe[He]:null,to:ke[He]!==void 0?ke[He]:null});if(Object.keys($e).length!==0)try{const He=collection(db$2,`businesses/${Ue}/inventoryLogs`);await addDoc(He,{productId:Re,sku:Ce,productName:je||"N/A",brand:Be||"N/A",category:De||"N/A",changes:$e,action:Oe,source:Me,modifiedAt:serverTimestamp(),modifiedAtISO:new Date().toISOString(),modifiedBy:auth$2.currentUser?.email||"unknown"})}catch(He){console.error("Failed to log inventory change:",He)}},ManualEntryForm$1=()=>{const{currentUser:Re}=useAuth(),[Ce,je]=reactExports.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[Be,De]=reactExports.useState(null),[Fe,ke]=reactExports.useState(!1),Oe=Ue=>{const{name:$e,value:He,files:Qe}=Ue.target;if($e==="image"){const We=Qe[0];je({...Ce,image:We}),De(URL.createObjectURL(We))}else je({...Ce,[$e]:He})},Me=async Ue=>{Ue.preventDefault();const $e=getCurrentUserId();if(!$e)return;ke(!0);const{productName:He,sku:Qe,quantity:We,costPrice:qe,sellingPrice:Ke}=Ce;if(!He||!Qe||!We||!qe||!Ke){y$2.error("Please fill all required fields"),ke(!1);return}try{let Xe="";if(Ce.image){const Ze=ref(storage,`inventory/${$e}/${Date.now()}_${Ce.image.name}`);await uploadBytes(Ze,Ce.image),Xe=await getDownloadURL(Ze)}const Ye=doc(collection(db$2,"businesses",$e,"products"));await setDoc(Ye,{productName:Ce.productName,sku:Ce.sku,brand:Ce.brand,category:Ce.category,quantity:Ce.quantity,costPrice:Ce.costPrice,sellingPrice:Ce.sellingPrice,unit:Ce.unit,description:Ce.description,imageUrl:Xe,id:Ye.id,createdAt:serverTimestamp(),addedBy:$e}),await logInventoryChange({productId:Ye.id,sku:Ce.sku,previousData:{},updatedData:{productName:Ce.productName,sku:Ce.sku,brand:Ce.brand,category:Ce.category,quantity:Ce.quantity,costPrice:Ce.costPrice,sellingPrice:Ce.sellingPrice,unit:Ce.unit,description:Ce.description,imageUrl:Xe},action:"created",source:"manual"}),y$2.success(" Product added successfully!"),je({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),De(null)}catch(Xe){console.error("Error adding product:",Xe),y$2.error(" Failed to add product. Please try again.")}finally{ke(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4 mt-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Add Inventory Manually"}),jsxRuntimeExports.jsxs("form",{onSubmit:Me,className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:Ce.productName,onChange:Oe,required:!0,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:Ce.sku,onChange:Oe,required:!0,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:Ce.brand,onChange:Oe,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",value:Ce.category,onChange:Oe,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:Ce.quantity,onChange:Oe,required:!0,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:Ce.costPrice,onChange:Oe,required:!0,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:Ce.sellingPrice,onChange:Oe,required:!0,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., box, piece)",value:Ce.unit,onChange:Oe,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",value:Ce.description,onChange:Oe,className:"p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 col-span-2"}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:Oe,className:"mb-2 p-2 rounded bg-white/10 border border-white/20 text-white file:bg-white/10 file:border-0 file:px-3 file:py-1 file:mr-3 file:rounded cursor-pointer"}),Be&&jsxRuntimeExports.jsx("img",{src:Be,alt:"Product preview",className:"h-24 w-24 object-cover rounded border border-white/20 ring-1 ring-white/10"})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Fe,className:"px-4 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)] col-span-2 disabled:opacity-60 disabled:cursor-not-allowed",children:Fe?"Uploading...":"Add Product"})]})]})},__vite_import_meta_env__$1={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_OCR_FUNCTION_URL:"https://ocrfromimage-rg2uh6cnqq-el.a.run.app"},OCRUploadForm$1=({userId:Re})=>{const[Ce,je]=reactExports.useState(null),[Be,De]=reactExports.useState(""),[Fe,ke]=reactExports.useState(!1),[Oe,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState(!1),He=Je=>{const tr=Number(Je);return Number.isFinite(tr)&&tr>=0?tr:0},Qe=Je=>typeof Je=="string"?Je.trim():"",We=Je=>{const[tr,rr]=Je.split(","),ar=tr.match(/data:(.*);base64/)[1]||"application/octet-stream",ir=atob(rr),nr=new Array(ir.length);for(let mr=0;mr<ir.length;mr++)nr[mr]=ir.charCodeAt(mr);const cr=new Uint8Array(nr);return new Blob([cr],{type:ar})},qe=Je=>{const tr=Je.target.files[0];if(tr&&tr.size<=5*1024*1024&&(tr.type.includes("image")||tr.type==="application/pdf")){je(tr);const rr=new FileReader;rr.onload=()=>De(rr.result),rr.onerror=()=>y$2.error("Failed to read file for preview."),rr.readAsDataURL(tr),y$2.info(` ${tr.name} selected. Ready to scan.`)}else y$2.error("File must be under 5MB and in JPG/PNG/PDF format.")},Ke=async()=>{if(!Ce){y$2.error("No image selected.");return}if(!Re){console.error("handleScan: Missing userId from props or AuthContext."),y$2.dismiss(),y$2.error("User not authenticated. Please log in again.");return}ke(!0),y$2.loading(" Scanning Image with OCR...");try{const tr=await(mr=>new Promise((fr,or)=>{const yr=new FileReader;yr.readAsDataURL(mr),yr.onload=()=>fr(yr.result.split(",")[1]),yr.onerror=Cr=>or(Cr)}))(Ce),ar=await fetch(typeof import.meta<"u"&&__vite_import_meta_env__$1&&void 0||"https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:tr})}),ir=await ar.json();if(!ar.ok)throw new Error(ir?.error||"Cloud Function OCR failed.");const nr=ir?.products||[];if(!Array.isArray(nr)||nr.length===0)throw new Error("No recognizable products parsed.");const cr=nr.map(mr=>({productName:Qe(mr.name||mr.productName||""),brand:Qe(mr.brand||""),sku:Qe(mr.sku||""),category:Qe(mr.category||""),quantity:String(mr.quantity??""),unit:Qe(mr.unit||"pcs"),costPrice:String(mr.price??mr.costPrice??""),sellingPrice:String(mr.sellingPrice??""),description:Qe(mr.description||""),imageURL:Be}));Me(cr),y$2.dismiss(),y$2.success(" Scan complete. Review and save.")}catch(Je){y$2.dismiss(),y$2.error(" OCR scan failed. Check console for details."),console.error("OCR Scan Error:",Je)}finally{ke(!1)}},Xe=(Je,tr,rr)=>{const ar=[...Oe];ar[Je][tr]=rr,Me(ar)},Ye=async()=>{if(!Re){y$2.error("User not authenticated.");return}if(!Oe.length){y$2.info("Nothing to save.");return}let Je=null;try{if(Be&&Be.startsWith("data:")){const rr=We(Be),ar=Ce?.name||`ocr-${Date.now()}.png`,ir=`businesses/${Re}/products/ocr/${Date.now()}-${ar}`,nr=ref(storage,ir);await uploadBytes(nr,rr),Je=await getDownloadURL(nr)}else Be&&(Je=Be)}catch(rr){console.warn("Image upload failed, proceeding without imageURL",rr),Je=null}const tr=Oe.map(rr=>({productName:Qe(rr.productName),brand:Qe(rr.brand),sku:Qe(rr.sku||""),category:Qe(rr.category||""),quantity:He(rr.quantity),unit:Qe(rr.unit||"pcs"),costPrice:He(rr.costPrice),sellingPrice:He(rr.sellingPrice),description:Qe(rr.description),imageURL:Je||null})).filter(rr=>rr.productName&&rr.quantity>0);if(!tr.length){y$2.error("Please provide at least one valid product with name and quantity.");return}$e(!0),y$2.loading(" Saving products...");try{const rr=writeBatch(db$2),ar=collection(db$2,"businesses",Re,"products");tr.forEach(ir=>{const nr=doc(ar);rr.set(nr,{...ir,ownerUid:Re,createdAt:serverTimestamp(),source:"ocr"})}),await rr.commit();try{for(const ir of tr)await logInventoryChange({productId:"",sku:ir.sku||"",previousData:{},updatedData:ir,action:"created",source:"ocr"})}catch(ir){console.warn("logInventoryChange failed (non-blocking)",ir)}y$2.dismiss(),y$2.success(` Saved ${tr.length} product${tr.length>1?"s":""}.`),Me([]),je(null),De("")}catch(rr){y$2.dismiss(),console.error(rr),y$2.error("Failed to save products. See console.")}finally{$e(!1)}},Ze=Je=>{const tr=Oe.filter((rr,ar)=>ar!==Je);Me(tr)};return jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[typeof import.meta<"u"&&__vite_import_meta_env__$1&&!1,jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"OCR Inventory Upload"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*,.pdf",onChange:qe,className:"mt-1 p-2 rounded bg-white/10 border border-white/20 text-white file:bg-white/10 file:border-0 file:px-3 file:py-1 file:mr-3 file:rounded cursor-pointer"}),Be&&jsxRuntimeExports.jsx("img",{src:Be,alt:"Preview",className:"mt-2 w-40 h-40 object-cover rounded border border-white/20 ring-1 ring-white/10"}),jsxRuntimeExports.jsx("button",{onClick:Ke,className:"mt-4 px-4 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] disabled:opacity-50 disabled:cursor-not-allowed",disabled:Fe||!Ce,children:Fe?"Scanning...":"Scan & Import"}),Oe.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("table",{className:"mt-4 w-full text-sm border border-white/10 bg-white/5 backdrop-blur-xl rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-white/10 text-white/80",children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:"Desc"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 border-b border-white/10",children:""})]})}),jsxRuntimeExports.jsx("tbody",{children:Oe.map((Je,tr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5 border-t border-white/10",children:[["productName","brand","quantity","unit","costPrice","sellingPrice","description"].map(rr=>jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("input",{type:["quantity","costPrice","sellingPrice"].includes(rr)?"number":"text",value:Je[rr],onChange:ar=>Xe(tr,rr,ar.target.value),className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40"})},rr)),jsxRuntimeExports.jsx("td",{children:jsxRuntimeExports.jsx("button",{onClick:()=>Ze(tr),className:"text-rose-300 hover:text-rose-200",children:""})})]},tr))})]}),jsxRuntimeExports.jsx("button",{onClick:Ye,disabled:Ue,className:"mt-4 px-4 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)] disabled:opacity-60 disabled:cursor-not-allowed",children:Ue?"Saving...":"Save Products"})]})]})},inputClass="mb-2 w-full rounded px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-transparent",AdvancedBrandInputForm=({onGenerate:Re})=>{const[Ce,je]=reactExports.useState(""),[Be,De]=reactExports.useState(""),[Fe,ke]=reactExports.useState(""),[Oe,Me]=reactExports.useState("20"),[Ue,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(""),[We,qe]=reactExports.useState(""),[Ke,Xe]=reactExports.useState(""),[Ye,Ze]=reactExports.useState(!1),Je=()=>`
You are an inventory assistant. Return ONLY a markdown table of ${Oe} products.
Start the response with the following header row exactly:

| Product Name | Brand | Category | SKU | Price (INR) | Unit |

Each product must follow this format and ensure the **Unit** column includes both quantity and container type (e.g., "100ml Bottle", "250g Jar", "50ml Tube").
Do not include any text above or below the table.

Brand: ${Ce}
Category: ${Be}
Known Types: ${Fe}
SKU Pattern: ${He}
Region Context: ${We}
Additional Notes: ${Ue}
`.trim(),tr=async()=>{const rr=Ke.trim()||Je();if(!Ce||!Be){alert("Please enter Brand Name and Category");return}Ze(!0),await Re(rr),Ze(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] space-y-6 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Advanced Inventory Generator"}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-white/10 rounded-xl p-4 bg-white/5 backdrop-blur",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2 text-white/80",children:"Brand Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Brand Name"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:rr=>je(rr.target.value),className:inputClass})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Product Category"}),jsxRuntimeExports.jsx("input",{type:"text",value:Be,onChange:rr=>De(rr.target.value),className:inputClass})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Known Product Types"}),jsxRuntimeExports.jsx("input",{type:"text",value:Fe,onChange:rr=>ke(rr.target.value),className:inputClass,placeholder:"e.g. Front Load, Cream Biscuit"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Quantity of Products"}),jsxRuntimeExports.jsxs("select",{value:Oe,onChange:rr=>Me(rr.target.value),className:inputClass,children:[jsxRuntimeExports.jsx("option",{value:"10",children:"10"}),jsxRuntimeExports.jsx("option",{value:"20",children:"20"}),jsxRuntimeExports.jsx("option",{value:"30",children:"30"}),jsxRuntimeExports.jsx("option",{value:"50",children:"50"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Brand Description"}),jsxRuntimeExports.jsx("textarea",{value:Ue,onChange:rr=>$e(rr.target.value),className:inputClass,rows:2})]})]})]}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-white/10 rounded-xl p-4 bg-white/5 backdrop-blur",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2 text-white/80",children:"SKU Pattern"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Optional SKU Pattern"}),jsxRuntimeExports.jsx("input",{type:"text",value:He,onChange:rr=>Qe(rr.target.value),className:inputClass,placeholder:"e.g. RL-TEA-*, SMG-WM-*"})]})]}),jsxRuntimeExports.jsxs("fieldset",{className:"border border-white/10 rounded-xl p-4 bg-white/5 backdrop-blur",children:[jsxRuntimeExports.jsx("legend",{className:"text-md font-semibold px-2 text-white/80",children:"Region Context"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Smart Region Note (optional)"}),jsxRuntimeExports.jsx("input",{type:"text",value:We,onChange:rr=>qe(rr.target.value),className:inputClass,placeholder:"e.g. Local brand sold only in Gujarat"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 mt-4 text-white/80",children:" Prompt Preview (Editable)"}),jsxRuntimeExports.jsx("textarea",{rows:6,value:Ke||Je(),onChange:rr=>Xe(rr.target.value),className:"w-full rounded p-2 text-sm font-mono bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-transparent"})]}),jsxRuntimeExports.jsx("button",{onClick:tr,disabled:Ye,className:`mt-3 px-4 py-2 rounded-xl font-semibold ${Ye?"opacity-60 cursor-not-allowed text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400":"text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]"}`,children:Ye?" Generating...":" Generate Inventory"})]})},AddInventoryAI=({userId:Re})=>{const[Ce,je]=reactExports.useState(""),[Be,De]=reactExports.useState([]),[Fe,ke]=reactExports.useState([]),[Oe,Me]=reactExports.useState(!1),Ue=getFirestore(app),$e=async We=>{if(!We||We.trim().length===0){y$2.error("Prompt is empty.");return}Me(!0);try{const Xe=(await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryByBrand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:We})})).json()).inventory,Ye=[];if(Array.isArray(Xe))for(const Ze of Xe)!Ze.productName||!Ze.sku||Ye.push({productName:Ze.productName||"",brand:Ze.brand||"",category:Ze.category||"Food",sku:Ze.sku||"",unit:Ze.unit||"",quantity:"",costPrice:"",sellingPrice:Ze.price||"",imageUrl:Ze.imageUrl||""});ke(Ye),Ye.length===0&&y$2.info("No inventory returned. Try adjusting prompt.")}catch(qe){console.error("Prompt-based inventory error:",qe),y$2.error("Failed to fetch inventory.")}finally{Me(!1)}},He=async()=>{if(!Re||Fe.length===0){y$2.error("No inventory to upload.");return}try{for(const We of Fe){const qe=await addDoc(collection(Ue,"businesses",Re,"products"),{...We,source:"ai",createdAt:serverTimestamp()});await logInventoryChange({productId:qe.id,sku:We.sku,previousData:{},updatedData:We,action:"created",source:"ai"})}y$2.success("Inventory added successfully!"),ke([])}catch(We){console.error("Upload Error:",We),y$2.error("Failed to add inventory.")}},Qe=(We,qe,Ke)=>{const Xe=[...Fe];Xe[We][qe]=Ke,ke(Xe)};return jsxRuntimeExports.jsxs("div",{className:"p-6 max-w-6xl mx-auto text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"AI-Based Inventory Generator"}),jsxRuntimeExports.jsx(AdvancedBrandInputForm,{onGenerate:$e}),Fe.length>0&&jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full mt-6 text-sm border border-white/10 bg-white/5 backdrop-blur-xl rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-white/10 text-white/80",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 border-b border-white/10",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Fe.map((We,qe)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5 border-t border-white/10",children:[jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We.productName??"(productName)",onChange:Ke=>Qe(qe,"productName",Ke.target.value),className:"w-full rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40"})}),jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We.brand??"(brand)",onChange:Ke=>Qe(qe,"brand",Ke.target.value),className:"w-full rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40"})}),["category","sku","unit","quantity","costPrice","sellingPrice"].map(Ke=>jsxRuntimeExports.jsx("td",{className:"border px-2 py-1",children:jsxRuntimeExports.jsx("input",{value:We[Ke]??`(${Ke})`,onChange:Xe=>Qe(qe,Ke,Xe.target.value),className:"w-full rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40"})},Ke)),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 border text-center",children:jsxRuntimeExports.jsx("button",{className:"text-rose-300 hover:text-rose-200 font-bold",onClick:()=>{const Ke=[...Fe];Ke.splice(qe,1),ke(Ke)},children:""})})]},qe))})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:He,className:"px-4 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]",children:" Add to Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>ke([]),className:"px-4 py-2 rounded-xl border border-white/20 bg-white/10 text-white hover:bg-white/15",children:"Clear All"})]})]})]})},fetchGoogleImages=async Re=>{const Ce="AIzaSyBPkkXZWll0VifG5kb0DDSsoV5UB-n5pFE",je="82ccaaa87aa2e40a6",De=(Fe=>{let ke=[];if(typeof Fe=="object"&&Fe!==null){const{brand:Oe="",name:Me="",unit:Ue=""}=Fe;ke=[`${Oe} ${Me} ${Ue} product packaging`,`${Oe} ${Me} ${Ue}`,`${Oe} ${Me}`,`${Me} ${Ue}`,`${Oe} ${Ue}`,`${Oe} product`,`${Me} product`,`${Oe} ${Me} pack photo`]}else ke=[`${Fe} product packaging`,`${Fe} product`,`${Fe} pack photo`,`${Fe} retail image`,`${Fe} ecommerce packaging`];return ke.map(Oe=>`${Oe} product packaging image`)})(Re);for(const Fe of De)try{const ke=await fetch(`https://www.googleapis.com/customsearch/v1?q=${encodeURIComponent(Fe)}&searchType=image&key=${Ce}&cx=${je}&num=6`);if(ke.ok){const Oe=await ke.json();if(Oe.items&&Oe.items.length>0)return Oe.items.filter(Me=>Me.link&&Me.link.startsWith("http")).map(Me=>Me.link)}}catch(ke){console.error("Google Image Fetch Error:",ke.message)}return console.warn(" No image results found for:",Re),[]},fetchGoogleImages$1=Object.freeze(Object.defineProperty({__proto__:null,default:fetchGoogleImages},Symbol.toStringTag,{value:"Module"})),DeleteConfirmationModal$1=({product:Re,confirmationText:Ce,onChange:je,onCancel:Be,onConfirm:De})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"rounded p-6 w-[90%] md:w-[400px] bg-white/10 backdrop-blur-2xl border border-white/10 shadow-[0_12px_50px_rgba(0,0,0,0.45)]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-rose-300",children:"Delete Product?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete ",jsxRuntimeExports.jsx("strong",{children:Re?.productName||"this product"})," (SKU: ",jsxRuntimeExports.jsx("strong",{children:Re?.sku||"N/A"}),")?"]}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-white/70",children:["Type ",jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-1 rounded border",children:"delete"})," to confirm."]}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full rounded px-3 py-2 mb-4 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:'Type "delete" to confirm',value:Ce,onChange:je}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Be,className:"px-4 py-2 rounded border border-white/20 bg-white/10 text-white hover:bg-white/15",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:De,disabled:Ce.trim().toLowerCase()!=="delete",className:`px-4 py-2 rounded text-slate-900 ${Ce.trim().toLowerCase()==="delete"?"bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/20 text-white/70 cursor-not-allowed"}`,children:"Delete"})]})]})}),ViewInventory$1=({userId:Re})=>{const[Ce,je]=reactExports.useState(!1),[Be,De]=reactExports.useState(null),[Fe,ke]=reactExports.useState([]),[Oe,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(""),[We,qe]=reactExports.useState("asc"),[Ke,Xe]=reactExports.useState({rowId:null,field:null}),[Ye,Ze]=reactExports.useState(""),[Je,tr]=reactExports.useState(""),[rr,ar]=reactExports.useState([]),[ir,nr]=reactExports.useState(!1),[cr,mr]=reactExports.useState([]),[fr,or]=reactExports.useState(!1),[yr,Cr]=reactExports.useState(null),[jr,vr]=reactExports.useState(""),[Tr,wr]=reactExports.useState(!1),[Er,Pr]=reactExports.useState(null),[Mr,_r]=reactExports.useState(null),[Ir,Dr]=reactExports.useState(!1),[Or,br]=reactExports.useState(""),[Ur,Qr]=reactExports.useState(null),[zr,Gr]=reactExports.useState(""),[fn,nn]=reactExports.useState([]),[bn,hn]=reactExports.useState(!1),[yn,Zr]=reactExports.useState(""),[Rn,ri]=reactExports.useState([]),[Yn,ti]=reactExports.useState(!1),[ei,Gn]=reactExports.useState([]),[Ei,Ci]=reactExports.useState("view"),Fi=async()=>{if(!yn)return;ti(!0);const jn=await fetchGoogleImages(yn);ri(jn||[]),ti(!1)},[Si,Ti]=reactExports.useState("list"),ji=getFirestore();if(!Re)return jsxRuntimeExports.jsx("div",{className:"text-center p-4",children:"Loading user data..."});reactExports.useEffect(()=>{if(!Re)return;console.log("Current user UID:",Re);const jn=collection(ji,"businesses",Re,"products"),vn=onSnapshot(jn,async Ni=>{const xi=getStorage(),Gi=await Promise.all(Ni.docs.map(async Ai=>{const hi=Ai.data();let Bi="";try{if(hi.imageUrl)Bi=hi.imageUrl;else if(hi.imagePath){const Zi=ref(xi,hi.imagePath);Bi=await getDownloadURL(Zi)}}catch(Zi){console.warn("Image fetch error for:",hi.imagePath||"unknown",Zi.message)}return{id:Ai.id,...hi,imageUrl:Bi,imagePath:hi.imagePath||""}}));ke(Gi),Me(Gi);const ki=[...new Set(Gi.map(Ai=>Ai.brand).filter(Boolean))];mr(ki)});return()=>vn()},[Re]),reactExports.useEffect(()=>{if(!auth$2.currentUser?.uid)return;const jn=query(collection(ji,`businesses/${auth$2.currentUser.uid}/inventoryLogs`),orderBy$1("modifiedAt","desc")),vn=onSnapshot(jn,Ni=>{Gn(Ni.docs.map(xi=>xi.data()))});return()=>vn()},[]),reactExports.useEffect(()=>{const jn=Ue.toLowerCase(),vn=Fe.filter(Ni=>{const xi=Ni.productName?.toLowerCase().includes(jn)||Ni.sku?.toLowerCase().includes(jn)||Ni.brand?.toLowerCase().includes(jn)||Ni.category?.toLowerCase().includes(jn),Gi=!Je||an(Ni.quantity)===Je,ki=rr.length===0||Ni.brand&&rr.includes(Ni.brand);return xi&&Gi&&ki});Me(vn)},[Ue,Fe,Je,rr]),reactExports.useEffect(()=>{if(!He){Me(jn=>[...jn]);return}Me(jn=>[...jn].sort((Ni,xi)=>{const Gi=parseFloat(Ni[He])||0,ki=parseFloat(xi[He])||0;return We==="asc"?Gi-ki:ki-Gi}))},[He,We]);const wi=(jn,vn,Ni)=>{Xe({rowId:jn,field:vn}),Ze(Ni)},En=async(jn,vn,Ni)=>{try{const xi=doc(ji,"businesses",Re,"products",jn),Gi=await getDoc(xi),ki=Gi.exists()?Gi.data():{};await updateDoc(xi,{[vn]:Ni}),await logInventoryChange({userId:Re,productId:jn,sku:ki.sku||"N/A",productName:ki.productName||"N/A",brand:ki.brand||"N/A",category:ki.category||"N/A",previousData:ki,updatedData:{...ki,[vn]:Ni},action:"updated",source:"inline-edit"})}catch(xi){console.error("Error updating inventory field:",xi)}finally{Xe({rowId:null,field:null}),Ze("")}},an=jn=>{const vn=parseInt(jn);return isNaN(vn)?"Unknown":vn<=5?"Low":"In Stock"},On=jn=>{Cr(jn),vr(""),or(!0)},Mn=async()=>{if(yr&&jr.trim().toLowerCase()==="delete")try{const jn=doc(ji,"businesses",Re,"products",yr.id);await deleteDoc(jn)}catch(jn){console.error("Error deleting product:",jn)}finally{or(!1),Cr(null),vr("")}},ui=jn=>{Pr(jn),_r(null),Dr(!1),br(""),Qr(null),wr(!0)},Vn=jn=>{const vn=jn.target.files?.[0]||null;if(_r(vn),br(""),vn){const Ni=URL.createObjectURL(vn);Qr(Ni)}else Qr(null)},yi=async()=>{if(!Er||!Mr&&!Ur){y$2.error("No image selected");return}Dr(!0),br("");try{let jn=null,vn=null;if(Mr){const xi=getStorage(),Gi=Mr.name.split(".").pop();vn=`product_images/${Re}/${Er.id}.${Gi}`;const ki=ref(xi,vn);await uploadBytes(ki,Mr),jn=await getDownloadURL(ki)}else Ur&&(jn=Ur);const Ni=doc(getFirestore(),"businesses",Re,"products",Er.id);await updateDoc(Ni,vn?{imageUrl:jn,imagePath:vn}:{imageUrl:jn}),y$2.success("Image uploaded successfully"),wr(!1),Pr(null),_r(null),Qr(null)}catch(jn){console.error("Error uploading image:",jn),br("Image upload failed: "+(jn?.message||"Unknown error")),y$2.error("Failed to upload image")}finally{Dr(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full md:w-1/3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:Ue,onChange:jn=>$e(jn.target.value),className:"px-4 py-2 rounded-xl w-full bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("button",{onClick:()=>hn(!0),className:"ml-2 py-2 px-4 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:"Search with AI"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",onChange:jn=>Qe(jn.target.value),value:He,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sort by"}),jsxRuntimeExports.jsx("option",{value:"quantity",children:"Quantity"}),jsxRuntimeExports.jsx("option",{value:"costPrice",children:"Cost Price"}),jsxRuntimeExports.jsx("option",{value:"sellingPrice",children:"Selling Price"})]}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",onChange:jn=>qe(jn.target.value),value:We,children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",onChange:jn=>tr(jn.target.value),value:Je,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{className:"px-3 py-2 rounded min-w-[120px] text-left bg-white/10 border border-white/20",type:"button",onClick:()=>nr(jn=>!jn),children:[rr.length===0?"All Brands":rr.length===1?rr[0]:rr.join(", "),jsxRuntimeExports.jsx("span",{className:"ml-1",children:""})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 mt-1 z-[1000] p-2 min-w-[180px] max-h-56 overflow-y-auto rounded-xl border border-white/10 bg-[#0B0F14]/70 backdrop-blur-xl shadow-[0_12px_40px_rgba(0,0,0,0.45)]",children:[cr.length===0&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 px-2 py-1",children:"No brands"}),cr.map((jn,vn)=>jsxRuntimeExports.jsxs("label",{className:"block px-2 py-1 cursor-pointer hover:bg-white/10",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr.includes(jn),onChange:Ni=>{Ni.target.checked?ar([...rr,jn]):ar(rr.filter(xi=>xi!==jn))},className:"mr-2"}),jn]},vn)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs text-emerald-300 underline",type:"button",onClick:()=>ar([]),children:"Clear All"}),jsxRuntimeExports.jsx("button",{className:"text-xs text-white/70 underline",type:"button",onClick:()=>nr(!1),children:"Close"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ci("view"),className:`px-4 py-2 rounded-t-md transition ${Ei==="view"?"bg-emerald-500 text-slate-900 font-semibold":"bg-white/10 text-white hover:bg-white/15"}`,children:"Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ci("recent"),className:`px-4 py-2 rounded-t-md transition ${Ei==="recent"?"bg-emerald-500 text-slate-900 font-semibold":"bg-white/10 text-white hover:bg-white/15"}`,children:"Recently Modified"})]}),Ei==="view"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 mr-2 rounded transition ${Si==="list"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,onClick:()=>Ti("list"),children:"List View"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded transition ${Si==="grid"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,onClick:()=>Ti("grid"),children:"Grid View"})]}),Si==="list"?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border border-white/10 bg-white/5 backdrop-blur-xl rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/10 text-left",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Source"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Delete"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80 border-b border-white/10",children:"Edit"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Oe.map(jn=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>ui(jn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:jn.imageUrl||"/placeholder.png",alt:"product",className:"h-10 w-10 rounded object-cover border border-white/20 ring-1 ring-white/10"})})}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(jn.id,"productName",jn.productName),children:Ke.rowId===jn.id&&Ke.field==="productName"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"productName",Ye),autoFocus:!0}):jn.productName}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(jn.id,"sku",jn.sku),children:Ke.rowId===jn.id&&Ke.field==="sku"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"sku",Ye),autoFocus:!0}):jn.sku}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(jn.id,"brand",jn.brand),children:Ke.rowId===jn.id&&Ke.field==="brand"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"brand",Ye),autoFocus:!0}):jn.brand}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(jn.id,"category",jn.category),children:Ke.rowId===jn.id&&Ke.field==="category"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"category",Ye),autoFocus:!0}):jn.category}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>wi(jn.id,"quantity",jn.quantity),children:Ke.rowId===jn.id&&Ke.field==="quantity"?jsxRuntimeExports.jsx("input",{type:"number",className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"quantity",Number(Ye)),autoFocus:!0}):jn.quantity}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(jn.id,"unit",jn.unit),children:Ke.rowId===jn.id&&Ke.field==="unit"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"unit",Ye),autoFocus:!0}):jn.unit}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>wi(jn.id,"costPrice",jn.costPrice),children:Ke.rowId===jn.id&&Ke.field==="costPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"costPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jn.costPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>wi(jn.id,"sellingPrice",jn.sellingPrice),children:Ke.rowId===jn.id&&Ke.field==="sellingPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:vn=>Ze(vn.target.value),onBlur:()=>En(jn.id,"sellingPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["",jn.sellingPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[80px] text-center",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded text-xs ${an(jn.quantity)==="Low"?"bg-rose-500 text-white":"bg-emerald-500 text-slate-900"}`,children:an(jn.quantity)})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[100px] max-w-[120px] text-center",children:jn.sourceOrderId?jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs bg-blue-500 text-white break-words whitespace-normal leading-snug",children:"From Order"}):""}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>On(jn),className:"text-rose-300 hover:text-rose-200",title:"Delete Item",children:""})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{De(jn.id),je(!0)},className:"text-sm text-emerald-300 underline",children:"Edit"})})]},jn.id)),Oe.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center p-4 text-white/70",children:Fe.length===0?"No products found.":"Loading inventory..."})}):null]})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Oe.map(jn=>jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl flex flex-col bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx("button",{className:"focus:outline-none",style:{width:"100%"},onClick:()=>ui(jn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:jn.imageUrl||"/placeholder.png",alt:jn.productName,className:"w-full h-32 object-contain rounded border border-white/20 ring-1 ring-white/10"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-1",children:jn.productName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70 mb-1",children:[jn.brand," | ",jn.category]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mb-1",children:["Qty: ",jn.quantity," | ",jn.sellingPrice]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/60 mb-1",children:["SKU: ",jn.sku||"N/A"," | Unit: ",jn.unit||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded font-semibold ${(jn.status||an(jn.quantity))==="In Stock"?"bg-emerald-500 text-slate-900":"bg-rose-500 text-white"}`,children:jn.status||an(jn.quantity)}),jsxRuntimeExports.jsx("button",{className:"ml-auto text-rose-300 hover:text-rose-200 px-2",title:"Delete Item",onClick:()=>On(jn),children:""})]})]},jn.id))})]}),Ei==="recent"&&jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Recent Inventory Modifications"}),ei.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"No recent modifications found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ei.map((jn,vn)=>jsxRuntimeExports.jsxs("div",{className:"p-4 text-sm rounded-md bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-white mb-1",children:["SKU: ",jn.sku]}),jsxRuntimeExports.jsxs("div",{children:["Product: ",jn.productName||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Brand: ",jn.brand||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Category: ",jn.category||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-white/70",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Action:"})," ",jn.action,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Source:"})," ",jn.source,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Modified By:"})," ",jn.modifiedBy||"Unknown",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"})," ",jn.modifiedAt?.toDate?.().toLocaleString?.()||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Changes:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Object.entries(jn.changes||{}).map(([Ni,xi])=>jsxRuntimeExports.jsxs("li",{children:[Ni,": ",xi.from??"N/A","  ",xi.to??"N/A"]},Ni))})]})]},vn))})]}),fr&&jsxRuntimeExports.jsx(DeleteConfirmationModal$1,{product:yr,confirmationText:jr,onChange:jn=>vr(jn.target.value),onCancel:()=>{or(!1),Cr(null),vr("")},onConfirm:Mn}),Tr&&jsxRuntimeExports.jsx(UploadProductImageModal$1,{imageTargetProduct:Er,setShowImageModal:wr,setImageTargetProduct:Pr,setImageUploadFile:_r,setImageUploadError:br,setImagePreviewUrl:Qr,imageUploadFile:Mr,imageUploadLoading:Ir,imageUploadError:Or,imagePreviewUrl:Ur,handleImageFileChange:Vn,handleImageUpload:yi}),bn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"p-6 rounded w-11/12 max-w-2xl relative bg-white/10 backdrop-blur-2xl border border-white/10 shadow-[0_12px_50px_rgba(0,0,0,0.45)] text-white",children:[jsxRuntimeExports.jsx("button",{onClick:()=>hn(!1),className:"absolute top-2 right-2 text-white/70 hover:text-rose-300",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Product Images"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter product description...",className:"flex-grow px-4 py-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:yn,onChange:jn=>Zr(jn.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Fi,className:"px-4 py-2 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:Yn?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-80 overflow-y-auto",children:Rn.map((jn,vn)=>jsxRuntimeExports.jsx("img",{src:jn,alt:"AI result",className:"w-full h-28 object-cover rounded cursor-pointer border border-white/20 hover:border-emerald-300/50 ring-1 ring-white/10",onClick:()=>{navigator.clipboard.writeText(jn),alert("Image URL copied to clipboard!")}},vn))})]})})]})},UploadProductImageModal$1=({imageTargetProduct:Re,setShowImageModal:Ce,setImageTargetProduct:je,setImageUploadFile:Be,setImageUploadError:De,setImagePreviewUrl:Fe,imageUploadFile:ke,imageUploadLoading:Oe,imageUploadError:Me,imagePreviewUrl:Ue,handleImageFileChange:$e,handleImageUpload:He})=>{const[Qe,We]=reactExports.useState(""),[qe,Ke]=reactExports.useState([]),[Xe,Ye]=reactExports.useState(!1),[Ze,Je]=reactExports.useState("unsplash"),tr=async()=>{Ye(!0);try{let rr=[];if(Ze==="unsplash")rr=await fetchUnsplashImages(Qe);else{const ar=(await __vitePreload(async()=>{const{default:ir}=await Promise.resolve().then(()=>fetchGoogleImages$1);return{default:ir}},void 0,import.meta.url)).default;rr=await ar(Qe)}Ke(rr)}catch(rr){console.error("Image search error:",rr)}Ye(!1)};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"p-6 rounded w-11/12 max-w-2xl relative bg-white/10 backdrop-blur-2xl border border-white/10 shadow-[0_12px_50px_rgba(0,0,0,0.45)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3 text-white",children:"Upload Product Image"}),jsxRuntimeExports.jsx("p",{className:"mb-2 text-white/70",children:Re?.productName||"Product"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je("unsplash"),className:`px-3 py-1 rounded transition ${Ze==="unsplash"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:"Unsplash"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("google"),className:`px-3 py-1 rounded transition ${Ze==="google"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:"Google"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:`Search image with ${Ze==="unsplash"?"Unsplash":"Google"}...`,value:Qe,onChange:rr=>We(rr.target.value),className:"px-2 py-1 rounded w-full bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-1 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",onClick:tr,type:"button",disabled:Xe,children:Xe?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2 mb-4",children:qe.map((rr,ar)=>jsxRuntimeExports.jsx("img",{src:rr,alt:"AI result",className:"w-24 h-24 object-cover rounded cursor-pointer hover:scale-105 transition-all border border-white/20 ring-1 ring-white/10",onClick:()=>{Be(null),De(""),Fe(rr)},onError:ir=>ir.target.src="/placeholder.jpg"},ar))}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"mb-3 p-2 rounded bg-white/10 border border-white/20 text-white file:bg-white/10 file:border-0 file:px-3 file:py-1 file:mr-3 file:rounded cursor-pointer",disabled:Oe}),Ue&&jsxRuntimeExports.jsx("div",{className:"mb-3 flex justify-center",children:jsxRuntimeExports.jsx("img",{src:Ue,alt:"Preview",className:"max-h-40 max-w-full rounded border border-white/20 ring-1 ring-white/10",style:{objectFit:"contain"}})}),ke&&jsxRuntimeExports.jsx("div",{className:"mb-2",children:jsxRuntimeExports.jsx("span",{className:"text-xs text-white/60",children:ke.name})}),Me&&jsxRuntimeExports.jsx("div",{className:"mb-2 text-rose-300 text-sm",children:Me}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ce(!1),je(null),Be(null),De(""),Fe(null),We(""),Ke([])},className:"px-4 py-2 rounded border border-white/20 bg-white/10 text-white hover:bg-white/15",disabled:Oe,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:He,className:`px-4 py-2 rounded-xl font-medium ${(ke||Ue)&&!Oe?"text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/20 text-white/70 cursor-not-allowed"}`,disabled:!(ke||Ue)||Oe,children:Oe?"Uploading...":"Upload"})]})]})})};Chart$1.register(CategoryScale,LinearScale,BarElement,plugin_title,plugin_tooltip,plugin_legend);Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);Chart$1.register(LineElement,CategoryScale,LinearScale,PointElement,plugin_tooltip,plugin_legend);const KpiCards=({invoiceData:Re})=>{const Ce=Re.filter(Me=>Me.paymentMode?.toLowerCase()==="credit"?Me.isPaid===!0:!0),je=Ce.reduce((Me,Ue)=>Me+(Ue.totalAmount||Ue.total||0),0),Be=Ce.length,De=Be>0?(je/Be).toFixed(2):0,Fe=Re.reduce((Me,Ue)=>{const $e=(Ue.paymentMode||"").toLowerCase(),He=Ue.totalAmount||Ue.total||0;if($e==="credit"&&Ue.isPaid!==!0)return Me;if($e==="split"){const Qe=Ue.splitPayment||{};Me.cash=(Me.cash||0)+(parseFloat(Qe.cash)||0),Me.card=(Me.card||0)+(parseFloat(Qe.card)||0),Me.upi=(Me.upi||0)+(parseFloat(Qe.upi)||0)}else if($e==="credit"){const Qe=(Ue.paidVia||"").toLowerCase();Me[Qe]=(Me[Qe]||0)+He}else["cash","card","upi"].includes($e)?Me[$e]=(Me[$e]||0)+He:Me.unknown=(Me.unknown||0)+He;return Me},{}),ke=new Set(Ce.map(Me=>Me.customer?.email||Me.customer?.name||"")).size,Oe=[{label:"Total Revenue",value:`${je.toLocaleString()}`,icon:""},{label:"Total Invoices",value:Be,icon:""},{label:"Avg Order Value",value:`${De}`,icon:""},{label:"Total Customers",value:ke,icon:""}];if(Fe){const Me={cash:"",upi:"",card:"",unknown:""},Ue={cash:"Cash",upi:"UPI",card:"Card",unknown:"Unknown"};Object.entries(Fe).forEach(([$e,He])=>{Oe.push({label:`Revenue via ${Ue[$e]||$e}`,value:`${parseFloat(He).toLocaleString()}`,icon:Me[$e]||""})})}return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:Oe.map((Me,Ue)=>jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-4 flex items-center space-x-4 bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] hover:bg-white/15 transition",children:[jsxRuntimeExports.jsx("div",{className:"text-3xl",title:Me.label,children:Me.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:Me.label}),jsxRuntimeExports.jsx("div",{className:"text-lg font-bold text-white",children:Me.value})]})]},Ue))})},RecentInvoices=({invoiceData:Re})=>{const Ce=[...Re].sort((je,Be)=>(Be.createdAt?.toDate?.()||new Date(Be.createdAt))-(je.createdAt?.toDate?.()||new Date(je.createdAt))).slice(0,5);return jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Recent Invoices"}),jsxRuntimeExports.jsx("div",{className:"max-h-[300px] overflow-y-auto pr-1",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Ce.map((je,Be)=>{const De=je.createdAt?.toDate?.()||new Date(je.createdAt),Fe=je.paymentMode?.toLowerCase?.();let ke="Unknown";if(Fe==="cash")ke=" Cash";else if(Fe==="card")ke=" Card";else if(Fe==="upi")ke=" UPI";else if(Fe==="split"){const Oe=je.splitPayment||{},Me=Oe.cash||0,Ue=Oe.upi||0,$e=Oe.card||0;ke=` Split ( ${Me} /  ${Ue} /  ${$e})`}else if(Fe==="credit")if(je.isPaid){const Oe=je.paidVia?.toLowerCase?.();Oe==="cash"?ke=" Paid via  Cash":Oe==="upi"?ke=" Paid via  UPI":Oe==="card"?ke=" Paid via  Card":ke=" Paid"}else{const Oe=je.settings?.creditDueDate||je.creditDueDate||null;ke=` Credit  Due on ${Oe?hooks(Oe.toDate?.()||Oe).local().format("DD MMM, YYYY"):"N/A"}`}return jsxRuntimeExports.jsxs("li",{className:"border-b border-white/10 pb-2 hover:bg-white/5 rounded",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-sm",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white",children:je.customer?.name||"Unknown Customer"}),jsxRuntimeExports.jsx("span",{className:"text-white/60",children:hooks(De).local().format("DD MMM, hh:mm:ss A")})]}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-white/70",children:["",je.totalAmount??je.total??0,"  ",ke]})]},Be)})})})]})},LowStockAlertWidget=({userId:Re})=>{const[Ce,je]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{if(!Re)return;const De=collection(db$2,"businesses",Re,"products"),Fe=await getDocs(De),ke=[];Fe.forEach(Oe=>{const Me=Oe.data();parseInt(Me.quantity,10)<=5&&ke.push({...Me,id:Oe.id})}),je(ke)}catch(De){console.error("Error fetching low stock items:",De)}})()},[Re]),jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h3",{className:"text-md font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Low Stock Alerts"}),Ce.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:"All items are sufficiently stocked."}):jsxRuntimeExports.jsx("div",{className:"max-h-[300px] overflow-y-auto pr-1",children:jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm",children:Ce.map(Be=>jsxRuntimeExports.jsxs("li",{className:"flex justify-between border-b border-white/10 pb-1 hover:bg-white/5 rounded",children:[jsxRuntimeExports.jsx("span",{children:Be.productName}),jsxRuntimeExports.jsx("span",{className:"text-rose-300 font-semibold",children:Be.quantity})]},Be.id))})})]})},parseDate$1=Re=>{if(!Re)return null;let Ce=new Date(`${Re}T00:00:00`);if(isNaN(Ce.getTime())){const[je,Be,De]=Re.split("-");je&&Be&&De&&(Ce=new Date(`${De}-${Be}-${je}T00:00:00`))}return isNaN(Ce.getTime())?null:Ce},CreditDueList=({creditInvoices:Re=[],dueToday:Ce=[],dueTomorrow:je=[],totalDue:Be=0,businessName:De="Your Business",businessAddress:Fe="",layout:ke="vertical"})=>{const Oe=new Date;Oe.setHours(0,0,0,0);const Me=new Date(Oe);Me.setDate(Me.getDate()+1);const Ue=tr=>{const rr=tr.creditDueDate||tr.settings?.creditDueDate,ar=parseDate$1(rr);if(!ar)return"Invalid";ar.setHours(0,0,0,0);const ir=(ar-Oe)/(1e3*60*60*24);return ir<0?"Overdue":ir===0?"Due Today":ir===1?"Due Tomorrow":"Upcoming"},$e={Overdue:[],"Due Today":[],"Due Tomorrow":[],Upcoming:[]};Re.forEach(tr=>{if(tr.isPaid)return;const rr=tr.creditDueDate||tr.settings?.creditDueDate;if(!parseDate$1(rr))return;const ir=Ue(tr);$e[ir].push(tr)});const He=(tr,rr,ar="")=>rr.length>0&&jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-white mb-1",children:tr}),jsxRuntimeExports.jsx("table",{className:"min-w-full text-sm mb-2 border border-white/10 bg-white/5 rounded-xl overflow-hidden",children:jsxRuntimeExports.jsx("tbody",{children:rr.map((ir,nr)=>{const cr=ir.creditDueDate||ir.settings?.creditDueDate,mr=parseDate$1(cr),fr=parseFloat(ir.splitPayment?.totalAmount||ir.totalAmount||ir.settings?.totalAmount||0).toFixed(2);if(tr==="Upcoming")return jsxRuntimeExports.jsxs("tr",{className:`border-b border-white/10 hover:bg-white/5 ${ar}`,children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-white/90",children:ir.name||ir.customer?.name||"N/A"}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1 text-white/90",children:["",fr]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-white/90",children:mr?mr.toLocaleDateString():"Invalid Date"})]},nr);const or=mr?Math.ceil((mr-Oe)/(1e3*60*60*24)):null,yr=tr==="Overdue"?`Overdue by ${Math.abs(or)} days`:tr;return jsxRuntimeExports.jsxs("tr",{className:`border-b border-white/10 hover:bg-white/5 ${ar}`,children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-white/90",children:ir.name||ir.customer?.name||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-white/90",children:ir.invoiceId||ir.id}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-white/90",children:mr?mr.toLocaleDateString():"Invalid Date"}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-1 text-white/90",children:["",fr]}),jsxRuntimeExports.jsx("td",{className:"px-2 py-1 text-white/90",children:ir.isPaid?`Paid via ${ir.paidVia||"N/A"} on ${new Date(ir.paidOn).toLocaleDateString()}`:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yr,or!==null&&or<=1&&jsxRuntimeExports.jsx("button",{onClick:()=>We(ir),className:"ml-2 px-2 py-1 rounded text-xs font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"Send Reminder"})]})})]},nr)})})})]}),Qe=Object.values($e).some(tr=>tr.length>0),We=tr=>{const rr=tr.customer?.phone?.replace("+91","").trim();if(!rr)return alert("Phone number missing");const ar=tr.creditDueDate||tr.settings?.creditDueDate||"",ir=parseDate$1(ar),nr=ir?ir.toLocaleDateString("en-GB",{day:"numeric",month:"short",year:"numeric"}):"N/A",cr=parseFloat(tr.splitPayment?.totalAmount||tr.totalAmount||tr.settings?.totalAmount||0).toFixed(2),mr=tr.customer?.name||tr.name||"Customer",fr=tr.invoiceId||tr.id||"N/A",or=tr.createdAt?.toDate?.()||new Date(tr.createdAt),yr=or?or.toLocaleDateString():"N/A",Cr=tr.items?.map(Tr=>{const wr=Tr.quantity||1,Er=Tr.price||0;return` ${Tr.productName||Tr.name} (${wr} x ${Er})`}).join(`
`)||"No items listed.",jr=`Hello *${mr}*, 

This is a kind reminder regarding your purchase from *${De}*.

 *Invoice ID:* ${fr}
 *Date of Purchase:* ${yr}
 *Items Purchased:*
${Cr}

 *Total Due:* ${cr}
 *Due Date:* ${nr}

 *How to Pay:*
- Visit our store & pay by Cash or Card
- UPI: upi_id@bank

Thank you for shopping with us!
We appreciate your timely payment. 

 ${De}
${Fe?Fe+`
`:""}_Powered by FLYP_`,vr=`https://wa.me/91${rr}?text=${encodeURIComponent(jr)}`;window.open(vr,"_blank")},qe=()=>{[...$e.Overdue,...$e["Due Today"],...$e["Due Tomorrow"]].forEach(rr=>We(rr))},Ke=$e.Overdue,Xe=$e["Due Today"],Ye=$e["Due Tomorrow"],Ze=$e.Upcoming,Je=(tr,rr)=>{const ar=tr.creditDueDate||tr.settings?.creditDueDate,ir=parseDate$1(ar),nr=parseFloat(tr.splitPayment?.totalAmount||tr.totalAmount||tr.settings?.totalAmount||0).toFixed(2);return jsxRuntimeExports.jsxs("div",{className:"rounded p-2 flex flex-col gap-1 bg-white/10 backdrop-blur border border-white/10",style:{borderLeftColor:rr==="Overdue"?"rgb(244 63 94)":rr==="Due Today"?"rgb(16 185 129)":rr==="Due Tomorrow"?"rgb(245 158 11)":"rgba(255,255,255,0.2)",borderLeftWidth:"3px"},children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-xs text-white",children:tr.invoiceId||tr.id}),jsxRuntimeExports.jsx("div",{className:"text-xs text-white/70",children:ir?ir.toLocaleDateString():"Invalid Date"}),jsxRuntimeExports.jsxs("div",{className:"text-xs font-semibold text-white",children:["",nr]}),!tr.isPaid&&jsxRuntimeExports.jsx("button",{onClick:()=>We(tr),className:"text-xs px-2 py-1 rounded font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"Send Reminder"})]},tr.invoiceId||tr.id)};return ke==="horizontal"?jsxRuntimeExports.jsxs("div",{className:"rounded-lg p-4 flex flex-col gap-4 bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Credit Dues"}),Qe&&jsxRuntimeExports.jsx("button",{onClick:qe,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:" Send All Reminders"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-white mb-2",children:"Overdue"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ke.length>0?Ke.map(tr=>Je(tr,"Overdue")):jsxRuntimeExports.jsx("div",{className:"text-xs text-white/70",children:"No items"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-white mb-2",children:"Due Today"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Xe.length>0?Xe.map(tr=>Je(tr,"Due Today")):jsxRuntimeExports.jsx("div",{className:"text-xs text-white/70",children:"No items"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-white mb-2",children:"Due Tomorrow"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ye.length>0?Ye.map(tr=>Je(tr,"Due Tomorrow")):jsxRuntimeExports.jsx("div",{className:"text-xs text-white/70",children:"No items"})})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-sm text-white mb-2",children:"Upcoming"}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:Ze.length>0?Ze.map(tr=>Je(tr,"Upcoming")):jsxRuntimeExports.jsx("div",{className:"text-xs text-white/70",children:"No items"})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl text-white",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-[14px] bg-white/10 backdrop-blur-xl border border-white/10 p-4 md:p-5",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Credit Dues"}),Qe&&jsxRuntimeExports.jsx("button",{onClick:qe,className:"inline-flex items-center gap-2 px-3 py-2 rounded-lg text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:" Send All Reminders"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 text-sm mb-4",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Total Due Pending"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-white",children:["",Re.reduce((tr,rr)=>tr+parseFloat(rr.splitPayment?.totalAmount||rr.totalAmount||rr.settings?.totalAmount||0),0).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-white/70",children:["/",Re.length," invoice(s)"]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Due Today"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-white",children:["",Ce.reduce((tr,rr)=>tr+parseFloat(rr.splitPayment?.totalAmount||rr.totalAmount||rr.settings?.totalAmount||0),0).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-white/70",children:["/",Ce.length]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Due Tomorrow"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-white",children:["",je.reduce((tr,rr)=>tr+parseFloat(rr.splitPayment?.totalAmount||rr.totalAmount||rr.settings?.totalAmount||0),0).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"text-white/70",children:["/",je.length]})]})]}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto max-h-[300px] overflow-y-auto pr-1",children:[He("Overdue",$e.Overdue),He("Due Today",$e["Due Today"]),He("Due Tomorrow",$e["Due Tomorrow"]),He("Upcoming",$e.Upcoming)]})]})]})},HomeSnapshot=({filterDates:Re,filterType:Ce})=>{const[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(null),[ke,Oe]=reactExports.useState(Ce||"All"),[Me,Ue]=reactExports.useState([]),[$e,He]=reactExports.useState({name:"",address:""});reactExports.useEffect(()=>{const ir=onAuthStateChanged(auth$2,nr=>{if(nr){Fe(nr.uid),(async()=>{try{const or=doc(db$2,"businesses",nr.uid),yr=await getDoc(or);if(yr.exists()){const Cr=yr.data();He({name:Cr.businessName||"Your Business",address:Cr.businessAddress||""})}}catch(or){console.error("Error fetching business info:",or)}})();const mr=collection(db$2,"businesses",nr.uid,"finalizedInvoices"),fr=onSnapshot(mr,or=>{const yr=[];or.forEach(Cr=>{yr.push({...Cr.data(),id:Cr.id})}),Be(yr),Ue(Qe(yr,Ce||"All",Re))},or=>{console.error("Error in snapshot listener:",or)});return()=>fr()}});return()=>ir()},[]);const Qe=(ir,nr,cr={})=>{const mr=new Date,{start:fr,end:or}=cr;return ir.filter(yr=>{const Cr=yr.issuedAt?typeof yr.issuedAt.toDate=="function"?yr.issuedAt.toDate():new Date(yr.issuedAt):null;if(!Cr)return!1;if(fr&&or)return Cr>=fr&&Cr<=or;if(nr==="Today"){const jr=new Date;jr.setHours(0,0,0,0);const vr=new Date;return vr.setHours(23,59,59,999),Cr>=jr&&Cr<=vr}else if(nr==="ThisWeek"){const jr=new Date(mr),vr=jr.getDay(),Tr=vr===0?6:vr-1;jr.setDate(jr.getDate()-Tr),jr.setHours(0,0,0,0);const wr=new Date(jr);return wr.setDate(jr.getDate()+6),wr.setHours(23,59,59,999),Cr>=jr&&Cr<=wr}else if(nr==="ThisMonth"){const jr=new Date(mr.getFullYear(),mr.getMonth(),1),vr=new Date(mr.getFullYear(),mr.getMonth()+1,0);return vr.setHours(23,59,59,999),Cr>=jr&&Cr<=vr}else if(nr==="ThisYear"){const jr=new Date(mr.getFullYear(),0,1),vr=new Date(mr.getFullYear(),11,31,23,59,59,999);return Cr>=jr&&Cr<=vr}return!0})};reactExports.useEffect(()=>{Ue(Qe(je,ke,Re))},[ke,Re,je]),reactExports.useEffect(()=>{Oe(Ce||"All")},[Ce]);const We=Me.reduce((ir,nr)=>{const cr=parseFloat(nr.totalAmount||nr.total||0);return nr.isPaid?ir+cr:ir},0),qe=Me.reduce((ir,nr)=>{if(!nr.isPaid)return ir;const cr=parseFloat(nr.totalAmount||nr.total||0),mr=(nr.paymentMode||"").toLowerCase();if(mr==="split"){const fr=nr.splitPayment||{},or=parseFloat(fr.cash||0),yr=parseFloat(fr.card||0),Cr=parseFloat(fr.upi||0);ir.Cash=(ir.Cash||0)+or,ir.Card=(ir.Card||0)+yr,ir.UPI=(ir.UPI||0)+Cr}else if(mr==="credit"){const fr=(nr.paidVia||"").toLowerCase();fr==="cash"?ir.Cash=(ir.Cash||0)+cr:fr==="card"?ir.Card=(ir.Card||0)+cr:fr==="upi"?ir.UPI=(ir.UPI||0)+cr:ir.Other=(ir.Other||0)+cr}else{const fr=mr==="cash"?"Cash":mr==="card"?"Card":mr==="upi"?"UPI":"Other";ir[fr]=(ir[fr]||0)+cr}return ir},{}),Ke=Me.filter(ir=>ir.paymentMode?.toLowerCase()==="credit"&&ir.isPaid===!1&&(ir.settings?.creditDueDate||ir.creditDueDate)),Xe=new Date;Xe.setHours(0,0,0,0);const Ye=new Date(Xe);Ye.setDate(Xe.getDate()+1);const Ze=Ke.filter(ir=>{const nr=ir.settings?.creditDueDate||ir.creditDueDate,cr=new Date(`${nr}T00:00:00`);return cr.setHours(0,0,0,0),cr.getTime()===Xe.getTime()}),Je=Ze.reduce((ir,nr)=>{const cr=parseFloat(nr.totalAmount||nr.settings?.totalAmount||0);return ir+cr},0),tr=Ke.filter(ir=>{const nr=ir.settings?.creditDueDate||ir.creditDueDate,cr=new Date(`${nr}T00:00:00`);return cr.setHours(0,0,0,0),cr.getTime()===Ye.getTime()}),rr=tr.reduce((ir,nr)=>{const cr=parseFloat(nr.totalAmount||nr.settings?.totalAmount||0);return ir+cr},0);console.log("Filtered invoices:",Me);const ar=Ke.reduce((ir,nr)=>{const cr=parseFloat(nr.totalAmount||nr.settings?.totalAmount||0);return ir+cr},0);return jsxRuntimeExports.jsxs("div",{className:"p-4 md:p-6 space-y-6 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"text-xs text-white/70 mb-1",children:[ke==="All"&&!Re?.start?"Showing all time data":`Filtered by: ${ke}`,Re?.start&&Re?.end&&jsxRuntimeExports.jsxs("span",{children:[" | Custom Range: ",Re.start.toLocaleDateString()," - ",Re.end.toLocaleDateString()]})]}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Home Snapshot: Todays KPIs"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white/10 backdrop-blur-xl border border-white/10",children:jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:"Business"}),jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold text-white",children:$e.name})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Revenue"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-white",children:["",Math.round(We).toLocaleString("en-IN")]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Due Today"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-white",children:["",Math.round(Je).toLocaleString("en-IN")]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Due Tomorrow"}),jsxRuntimeExports.jsxs("span",{className:"font-semibold text-white",children:["",Math.round(rr).toLocaleString("en-IN")]})]}),jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-white/15 bg-white/10 px-3 py-1 text-sm",children:[jsxRuntimeExports.jsx("span",{className:"text-white/70",children:"Pending Credits"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:Ke?.filter(ir=>ir.isPaid===!1).length||0})]})]})]})})]}),jsxRuntimeExports.jsx(KpiCards,{invoiceData:Me,totalRevenue:We,paymentStats:qe,dueToday:Je,dueTomorrow:rr,totalDue:ar,totalDueCount:Ke?.filter(ir=>ir.isPaid===!1).length||0}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white/10 backdrop-blur-xl border border-white/10 p-4 h-full",children:jsxRuntimeExports.jsx(LowStockAlertWidget,{userId:De})})]}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white/10 backdrop-blur-xl border border-white/10 p-4 h-full",children:jsxRuntimeExports.jsx(RecentInvoices,{invoiceData:[...Me].sort((ir,nr)=>new Date(nr.createdAt)-new Date(ir.createdAt))})})]}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl h-full",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl p-[1px] bg-gradient-to-r from-cyan-500/10 to-fuchsia-500/10 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"relative rounded-[14px] bg-white/10 backdrop-blur-xl border border-white/10 p-4 h-full",children:jsxRuntimeExports.jsx(CreditDueList,{creditInvoices:Ke,dueToday:Ze,dueTomorrow:tr,totalDue:ar,businessName:$e.name,businessAddress:$e.address})})]})]})]})},AnalyticsFilterContext=reactExports.createContext(),AnalyticsFilterProvider=({children:Re})=>{const[Ce,je]=reactExports.useState(null),[Be,De]=reactExports.useState(null);return jsxRuntimeExports.jsx(AnalyticsFilterContext.Provider,{value:{selectedProduct:Ce,setSelectedProduct:je,selectedDate:Be,setSelectedDate:De},children:Re})},useAnalyticsFilter=()=>reactExports.useContext(AnalyticsFilterContext);var get$2={},isUnsafeProperty={},hasRequiredIsUnsafeProperty;function requireIsUnsafeProperty(){return hasRequiredIsUnsafeProperty||(hasRequiredIsUnsafeProperty=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return je==="__proto__"}Re.isUnsafeProperty=Ce})(isUnsafeProperty)),isUnsafeProperty}var isDeepKey={},hasRequiredIsDeepKey;function requireIsDeepKey(){return hasRequiredIsDeepKey||(hasRequiredIsDeepKey=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){switch(typeof je){case"number":case"symbol":return!1;case"string":return je.includes(".")||je.includes("[")||je.includes("]")}}Re.isDeepKey=Ce})(isDeepKey)),isDeepKey}var toKey={},hasRequiredToKey;function requireToKey(){return hasRequiredToKey||(hasRequiredToKey=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return typeof je=="string"||typeof je=="symbol"?je:Object.is(je?.valueOf?.(),-0)?"-0":String(je)}Re.toKey=Ce})(toKey)),toKey}var toPath={},hasRequiredToPath;function requireToPath(){return hasRequiredToPath||(hasRequiredToPath=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){const Be=[],De=je.length;if(De===0)return Be;let Fe=0,ke="",Oe="",Me=!1;for(je.charCodeAt(0)===46&&(Be.push(""),Fe++);Fe<De;){const Ue=je[Fe];Oe?Ue==="\\"&&Fe+1<De?(Fe++,ke+=je[Fe]):Ue===Oe?Oe="":ke+=Ue:Me?Ue==='"'||Ue==="'"?Oe=Ue:Ue==="]"?(Me=!1,Be.push(ke),ke=""):ke+=Ue:Ue==="["?(Me=!0,ke&&(Be.push(ke),ke="")):Ue==="."?ke&&(Be.push(ke),ke=""):ke+=Ue,Fe++}return ke&&Be.push(ke),Be}Re.toPath=Ce})(toPath)),toPath}var hasRequiredGet$1;function requireGet$1(){return hasRequiredGet$1||(hasRequiredGet$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsUnsafeProperty(),je=requireIsDeepKey(),Be=requireToKey(),De=requireToPath();function Fe(Oe,Me,Ue){if(Oe==null)return Ue;switch(typeof Me){case"string":{if(Ce.isUnsafeProperty(Me))return Ue;const $e=Oe[Me];return $e===void 0?je.isDeepKey(Me)?Fe(Oe,De.toPath(Me),Ue):Ue:$e}case"number":case"symbol":{typeof Me=="number"&&(Me=Be.toKey(Me));const $e=Oe[Me];return $e===void 0?Ue:$e}default:{if(Array.isArray(Me))return ke(Oe,Me,Ue);if(Object.is(Me?.valueOf(),-0)?Me="-0":Me=String(Me),Ce.isUnsafeProperty(Me))return Ue;const $e=Oe[Me];return $e===void 0?Ue:$e}}}function ke(Oe,Me,Ue){if(Me.length===0)return Ue;let $e=Oe;for(let He=0;He<Me.length;He++){if($e==null||Ce.isUnsafeProperty(Me[He]))return Ue;$e=$e[Me[He]]}return $e===void 0?Ue:$e}Re.get=Fe})(get$2)),get$2}var get$1,hasRequiredGet;function requireGet(){return hasRequiredGet||(hasRequiredGet=1,get$1=requireGet$1().get),get$1}var getExports=requireGet();const get=getDefaultExportFromCjs(getExports);var reactIs$1={exports:{}},reactIs_production={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production;function requireReactIs_production(){if(hasRequiredReactIs_production)return reactIs_production;hasRequiredReactIs_production=1;var Re=Symbol.for("react.transitional.element"),Ce=Symbol.for("react.portal"),je=Symbol.for("react.fragment"),Be=Symbol.for("react.strict_mode"),De=Symbol.for("react.profiler"),Fe=Symbol.for("react.consumer"),ke=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Me=Symbol.for("react.suspense"),Ue=Symbol.for("react.suspense_list"),$e=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Qe=Symbol.for("react.view_transition"),We=Symbol.for("react.client.reference");function qe(Ke){if(typeof Ke=="object"&&Ke!==null){var Xe=Ke.$$typeof;switch(Xe){case Re:switch(Ke=Ke.type,Ke){case je:case De:case Be:case Me:case Ue:case Qe:return Ke;default:switch(Ke=Ke&&Ke.$$typeof,Ke){case ke:case Oe:case He:case $e:return Ke;case Fe:return Ke;default:return Xe}}case Ce:return Xe}}}return reactIs_production.ContextConsumer=Fe,reactIs_production.ContextProvider=ke,reactIs_production.Element=Re,reactIs_production.ForwardRef=Oe,reactIs_production.Fragment=je,reactIs_production.Lazy=He,reactIs_production.Memo=$e,reactIs_production.Portal=Ce,reactIs_production.Profiler=De,reactIs_production.StrictMode=Be,reactIs_production.Suspense=Me,reactIs_production.SuspenseList=Ue,reactIs_production.isContextConsumer=function(Ke){return qe(Ke)===Fe},reactIs_production.isContextProvider=function(Ke){return qe(Ke)===ke},reactIs_production.isElement=function(Ke){return typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===Re},reactIs_production.isForwardRef=function(Ke){return qe(Ke)===Oe},reactIs_production.isFragment=function(Ke){return qe(Ke)===je},reactIs_production.isLazy=function(Ke){return qe(Ke)===He},reactIs_production.isMemo=function(Ke){return qe(Ke)===$e},reactIs_production.isPortal=function(Ke){return qe(Ke)===Ce},reactIs_production.isProfiler=function(Ke){return qe(Ke)===De},reactIs_production.isStrictMode=function(Ke){return qe(Ke)===Be},reactIs_production.isSuspense=function(Ke){return qe(Ke)===Me},reactIs_production.isSuspenseList=function(Ke){return qe(Ke)===Ue},reactIs_production.isValidElementType=function(Ke){return typeof Ke=="string"||typeof Ke=="function"||Ke===je||Ke===De||Ke===Be||Ke===Me||Ke===Ue||typeof Ke=="object"&&Ke!==null&&(Ke.$$typeof===He||Ke.$$typeof===$e||Ke.$$typeof===ke||Ke.$$typeof===Fe||Ke.$$typeof===Oe||Ke.$$typeof===We||Ke.getModuleId!==void 0)},reactIs_production.typeOf=qe,reactIs_production}var hasRequiredReactIs$1;function requireReactIs$1(){return hasRequiredReactIs$1||(hasRequiredReactIs$1=1,reactIs$1.exports=requireReactIs_production()),reactIs$1.exports}var reactIsExports=requireReactIs$1(),mathSign=Re=>Re===0?0:Re>0?1:-1,isNan=Re=>typeof Re=="number"&&Re!=+Re,isPercent=Re=>typeof Re=="string"&&Re.indexOf("%")===Re.length-1,isNumber=Re=>(typeof Re=="number"||Re instanceof Number)&&!isNan(Re),isNumOrStr=Re=>isNumber(Re)||typeof Re=="string",idCounter=0,uniqueId=Re=>{var Ce=++idCounter;return"".concat(Re||"").concat(Ce)},getPercentValue=function Re(Ce,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,De=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!isNumber(Ce)&&typeof Ce!="string")return Be;var Fe;if(isPercent(Ce)){if(je==null)return Be;var ke=Ce.indexOf("%");Fe=je*parseFloat(Ce.slice(0,ke))/100}else Fe=+Ce;return isNan(Fe)&&(Fe=Be),De&&je!=null&&Fe>je&&(Fe=je),Fe},hasDuplicate=Re=>{if(!Array.isArray(Re))return!1;for(var Ce=Re.length,je={},Be=0;Be<Ce;Be++)if(!je[Re[Be]])je[Re[Be]]=!0;else return!0;return!1};function interpolate$1(Re,Ce,je){return isNumber(Re)&&isNumber(Ce)?Re+je*(Ce-Re):Ce}function findEntryInArray(Re,Ce,je){if(!(!Re||!Re.length))return Re.find(Be=>Be&&(typeof Ce=="function"?Ce(Be):get(Be,Ce))===je)}var isNullish=Re=>Re===null||typeof Re>"u",upperFirst=Re=>isNullish(Re)?Re:"".concat(Re.charAt(0).toUpperCase()).concat(Re.slice(1)),EventKeys=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function isEventKey(Re){if(typeof Re!="string")return!1;var Ce=EventKeys;return Ce.includes(Re)}var SVGContainerPropKeys=["viewBox","children"],PolyElementKeys=["points","pathLength"],FilteredElementKeyMap={svg:SVGContainerPropKeys,polygon:PolyElementKeys,polyline:PolyElementKeys},adaptEventHandlers=(Re,Ce)=>{if(!Re||typeof Re=="function"||typeof Re=="boolean")return null;var je=Re;if(reactExports.isValidElement(Re)&&(je=Re.props),typeof je!="object"&&typeof je!="function")return null;var Be={};return Object.keys(je).forEach(De=>{isEventKey(De)&&(Be[De]=(Fe=>je[De](je,Fe)))}),Be},getEventHandlerOfChild=(Re,Ce,je)=>Be=>(Re(Ce,je,Be),null),adaptEventsOfChild=(Re,Ce,je)=>{if(Re===null||typeof Re!="object"&&typeof Re!="function")return null;var Be=null;return Object.keys(Re).forEach(De=>{var Fe=Re[De];isEventKey(De)&&typeof Fe=="function"&&(Be||(Be={}),Be[De]=getEventHandlerOfChild(Fe,Ce,je))}),Be},SVGElementPropKeys=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function isSvgElementPropKey(Re){if(typeof Re!="string")return!1;var Ce=SVGElementPropKeys;return Ce.includes(Re)}function svgPropertiesNoEvents(Re){var Ce=Object.entries(Re).filter(je=>{var[Be]=je;return isSvgElementPropKey(Be)});return Object.fromEntries(Ce)}var getDisplayName=Re=>typeof Re=="string"?Re:Re?Re.displayName||Re.name||"Component":"",lastChildren=null,lastResult=null,toArray$1=Re=>{if(Re===lastChildren&&Array.isArray(lastResult))return lastResult;var Ce=[];return reactExports.Children.forEach(Re,je=>{isNullish(je)||(reactIsExports.isFragment(je)?Ce=Ce.concat(toArray$1(je.props.children)):Ce.push(je))}),lastResult=Ce,lastChildren=Re,Ce};function findAllByType(Re,Ce){var je=[],Be=[];return Array.isArray(Ce)?Be=Ce.map(De=>getDisplayName(De)):Be=[getDisplayName(Ce)],toArray$1(Re).forEach(De=>{var Fe=get(De,"type.displayName")||get(De,"type.name");Be.indexOf(Fe)!==-1&&je.push(De)}),je}var isClipDot=Re=>Re&&typeof Re=="object"&&"clipDot"in Re?!!Re.clipDot:!0,isValidSpreadableProp=(Re,Ce,je,Be)=>{var De;if(typeof Ce=="symbol"||typeof Ce=="number")return!0;var Fe=(De=Be&&FilteredElementKeyMap?.[Be])!==null&&De!==void 0?De:[],ke=Ce.startsWith("data-"),Oe=typeof Re!="function"&&(!!Be&&Fe.includes(Ce)||isSvgElementPropKey(Ce)),Me=!!je&&isEventKey(Ce);return ke||Oe||Me},filterProps=(Re,Ce,je)=>{if(!Re||typeof Re=="function"||typeof Re=="boolean")return null;var Be=Re;if(reactExports.isValidElement(Re)&&(Be=Re.props),typeof Be!="object"&&typeof Be!="function")return null;var De={};return Object.keys(Be).forEach(Fe=>{var ke;isValidSpreadableProp((ke=Be)===null||ke===void 0?void 0:ke[Fe],Fe,Ce,je)&&(De[Fe]=Be[Fe])}),De},_excluded$r=["children","width","height","viewBox","className","style","title","desc"];function _extends$r(){return _extends$r=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$r.apply(null,arguments)}function _objectWithoutProperties$m(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$m(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$m(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var Surface=reactExports.forwardRef((Re,Ce)=>{var{children:je,width:Be,height:De,viewBox:Fe,className:ke,style:Oe,title:Me,desc:Ue}=Re,$e=_objectWithoutProperties$m(Re,_excluded$r),He=Fe||{width:Be,height:De,x:0,y:0},Qe=clsx("recharts-surface",ke);return reactExports.createElement("svg",_extends$r({},filterProps($e,!0,"svg"),{className:Qe,width:Be,height:De,style:Oe,viewBox:"".concat(He.x," ").concat(He.y," ").concat(He.width," ").concat(He.height),ref:Ce}),reactExports.createElement("title",null,Me),reactExports.createElement("desc",null,Ue),je)}),_excluded$q=["children","className"];function _extends$q(){return _extends$q=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$q.apply(null,arguments)}function _objectWithoutProperties$l(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$l(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$l(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var Layer=reactExports.forwardRef((Re,Ce)=>{var{children:je,className:Be}=Re,De=_objectWithoutProperties$l(Re,_excluded$q),Fe=clsx("recharts-layer",Be);return reactExports.createElement("g",_extends$q({className:Fe},filterProps(De,!0),{ref:Ce}),je)}),LegendPortalContext=reactExports.createContext(null),useLegendPortal=()=>reactExports.useContext(LegendPortalContext);function constant$1(Re){return function(){return Re}}const cos=Math.cos,sin=Math.sin,sqrt$1=Math.sqrt,pi$1=Math.PI,tau$1=2*pi$1,pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;function append$1(Re){this._+=Re[0];for(let Ce=1,je=Re.length;Ce<je;++Ce)this._+=arguments[Ce]+Re[Ce]}function appendRound(Re){let Ce=Math.floor(Re);if(!(Ce>=0))throw new Error(`invalid digits: ${Re}`);if(Ce>15)return append$1;const je=10**Ce;return function(Be){this._+=Be[0];for(let De=1,Fe=Be.length;De<Fe;++De)this._+=Math.round(arguments[De]*je)/je+Be[De]}}class Path{constructor(Ce){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=Ce==null?append$1:appendRound(Ce)}moveTo(Ce,je){this._append`M${this._x0=this._x1=+Ce},${this._y0=this._y1=+je}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(Ce,je){this._append`L${this._x1=+Ce},${this._y1=+je}`}quadraticCurveTo(Ce,je,Be,De){this._append`Q${+Ce},${+je},${this._x1=+Be},${this._y1=+De}`}bezierCurveTo(Ce,je,Be,De,Fe,ke){this._append`C${+Ce},${+je},${+Be},${+De},${this._x1=+Fe},${this._y1=+ke}`}arcTo(Ce,je,Be,De,Fe){if(Ce=+Ce,je=+je,Be=+Be,De=+De,Fe=+Fe,Fe<0)throw new Error(`negative radius: ${Fe}`);let ke=this._x1,Oe=this._y1,Me=Be-Ce,Ue=De-je,$e=ke-Ce,He=Oe-je,Qe=$e*$e+He*He;if(this._x1===null)this._append`M${this._x1=Ce},${this._y1=je}`;else if(Qe>epsilon)if(!(Math.abs(He*Me-Ue*$e)>epsilon)||!Fe)this._append`L${this._x1=Ce},${this._y1=je}`;else{let We=Be-ke,qe=De-Oe,Ke=Me*Me+Ue*Ue,Xe=We*We+qe*qe,Ye=Math.sqrt(Ke),Ze=Math.sqrt(Qe),Je=Fe*Math.tan((pi-Math.acos((Ke+Qe-Xe)/(2*Ye*Ze)))/2),tr=Je/Ze,rr=Je/Ye;Math.abs(tr-1)>epsilon&&this._append`L${Ce+tr*$e},${je+tr*He}`,this._append`A${Fe},${Fe},0,0,${+(He*We>$e*qe)},${this._x1=Ce+rr*Me},${this._y1=je+rr*Ue}`}}arc(Ce,je,Be,De,Fe,ke){if(Ce=+Ce,je=+je,Be=+Be,ke=!!ke,Be<0)throw new Error(`negative radius: ${Be}`);let Oe=Be*Math.cos(De),Me=Be*Math.sin(De),Ue=Ce+Oe,$e=je+Me,He=1^ke,Qe=ke?De-Fe:Fe-De;this._x1===null?this._append`M${Ue},${$e}`:(Math.abs(this._x1-Ue)>epsilon||Math.abs(this._y1-$e)>epsilon)&&this._append`L${Ue},${$e}`,Be&&(Qe<0&&(Qe=Qe%tau+tau),Qe>tauEpsilon?this._append`A${Be},${Be},0,1,${He},${Ce-Oe},${je-Me}A${Be},${Be},0,1,${He},${this._x1=Ue},${this._y1=$e}`:Qe>epsilon&&this._append`A${Be},${Be},0,${+(Qe>=pi)},${He},${this._x1=Ce+Be*Math.cos(Fe)},${this._y1=je+Be*Math.sin(Fe)}`)}rect(Ce,je,Be,De){this._append`M${this._x0=this._x1=+Ce},${this._y0=this._y1=+je}h${Be=+Be}v${+De}h${-Be}Z`}toString(){return this._}}function withPath(Re){let Ce=3;return Re.digits=function(je){if(!arguments.length)return Ce;if(je==null)Ce=null;else{const Be=Math.floor(je);if(!(Be>=0))throw new RangeError(`invalid digits: ${je}`);Ce=Be}return Re},()=>new Path(Ce)}function array(Re){return typeof Re=="object"&&"length"in Re?Re:Array.from(Re)}function Linear(Re){this._context=Re}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Re,Ce){switch(Re=+Re,Ce=+Ce,this._point){case 0:this._point=1,this._line?this._context.lineTo(Re,Ce):this._context.moveTo(Re,Ce);break;case 1:this._point=2;default:this._context.lineTo(Re,Ce);break}}};function curveLinear(Re){return new Linear(Re)}function x$1(Re){return Re[0]}function y$1(Re){return Re[1]}function shapeLine(Re,Ce){var je=constant$1(!0),Be=null,De=curveLinear,Fe=null,ke=withPath(Oe);Re=typeof Re=="function"?Re:Re===void 0?x$1:constant$1(Re),Ce=typeof Ce=="function"?Ce:Ce===void 0?y$1:constant$1(Ce);function Oe(Me){var Ue,$e=(Me=array(Me)).length,He,Qe=!1,We;for(Be==null&&(Fe=De(We=ke())),Ue=0;Ue<=$e;++Ue)!(Ue<$e&&je(He=Me[Ue],Ue,Me))===Qe&&((Qe=!Qe)?Fe.lineStart():Fe.lineEnd()),Qe&&Fe.point(+Re(He,Ue,Me),+Ce(He,Ue,Me));if(We)return Fe=null,We+""||null}return Oe.x=function(Me){return arguments.length?(Re=typeof Me=="function"?Me:constant$1(+Me),Oe):Re},Oe.y=function(Me){return arguments.length?(Ce=typeof Me=="function"?Me:constant$1(+Me),Oe):Ce},Oe.defined=function(Me){return arguments.length?(je=typeof Me=="function"?Me:constant$1(!!Me),Oe):je},Oe.curve=function(Me){return arguments.length?(De=Me,Be!=null&&(Fe=De(Be)),Oe):De},Oe.context=function(Me){return arguments.length?(Me==null?Be=Fe=null:Fe=De(Be=Me),Oe):Be},Oe}function shapeArea(Re,Ce,je){var Be=null,De=constant$1(!0),Fe=null,ke=curveLinear,Oe=null,Me=withPath(Ue);Re=typeof Re=="function"?Re:Re===void 0?x$1:constant$1(+Re),Ce=typeof Ce=="function"?Ce:constant$1(Ce===void 0?0:+Ce),je=typeof je=="function"?je:je===void 0?y$1:constant$1(+je);function Ue(He){var Qe,We,qe,Ke=(He=array(He)).length,Xe,Ye=!1,Ze,Je=new Array(Ke),tr=new Array(Ke);for(Fe==null&&(Oe=ke(Ze=Me())),Qe=0;Qe<=Ke;++Qe){if(!(Qe<Ke&&De(Xe=He[Qe],Qe,He))===Ye)if(Ye=!Ye)We=Qe,Oe.areaStart(),Oe.lineStart();else{for(Oe.lineEnd(),Oe.lineStart(),qe=Qe-1;qe>=We;--qe)Oe.point(Je[qe],tr[qe]);Oe.lineEnd(),Oe.areaEnd()}Ye&&(Je[Qe]=+Re(Xe,Qe,He),tr[Qe]=+Ce(Xe,Qe,He),Oe.point(Be?+Be(Xe,Qe,He):Je[Qe],je?+je(Xe,Qe,He):tr[Qe]))}if(Ze)return Oe=null,Ze+""||null}function $e(){return shapeLine().defined(De).curve(ke).context(Fe)}return Ue.x=function(He){return arguments.length?(Re=typeof He=="function"?He:constant$1(+He),Be=null,Ue):Re},Ue.x0=function(He){return arguments.length?(Re=typeof He=="function"?He:constant$1(+He),Ue):Re},Ue.x1=function(He){return arguments.length?(Be=He==null?null:typeof He=="function"?He:constant$1(+He),Ue):Be},Ue.y=function(He){return arguments.length?(Ce=typeof He=="function"?He:constant$1(+He),je=null,Ue):Ce},Ue.y0=function(He){return arguments.length?(Ce=typeof He=="function"?He:constant$1(+He),Ue):Ce},Ue.y1=function(He){return arguments.length?(je=He==null?null:typeof He=="function"?He:constant$1(+He),Ue):je},Ue.lineX0=Ue.lineY0=function(){return $e().x(Re).y(Ce)},Ue.lineY1=function(){return $e().x(Re).y(je)},Ue.lineX1=function(){return $e().x(Be).y(Ce)},Ue.defined=function(He){return arguments.length?(De=typeof He=="function"?He:constant$1(!!He),Ue):De},Ue.curve=function(He){return arguments.length?(ke=He,Fe!=null&&(Oe=ke(Fe)),Ue):ke},Ue.context=function(He){return arguments.length?(He==null?Fe=Oe=null:Oe=ke(Fe=He),Ue):Fe},Ue}class Bump{constructor(Ce,je){this._context=Ce,this._x=je}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(Ce,je){switch(Ce=+Ce,je=+je,this._point){case 0:{this._point=1,this._line?this._context.lineTo(Ce,je):this._context.moveTo(Ce,je);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+Ce)/2,this._y0,this._x0,je,Ce,je):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+je)/2,Ce,this._y0,Ce,je);break}}this._x0=Ce,this._y0=je}}function bumpX(Re){return new Bump(Re,!0)}function bumpY(Re){return new Bump(Re,!1)}const symbolCircle={draw(Re,Ce){const je=sqrt$1(Ce/pi$1);Re.moveTo(je,0),Re.arc(0,0,je,0,tau$1)}},symbolCross={draw(Re,Ce){const je=sqrt$1(Ce/5)/2;Re.moveTo(-3*je,-je),Re.lineTo(-je,-je),Re.lineTo(-je,-3*je),Re.lineTo(je,-3*je),Re.lineTo(je,-je),Re.lineTo(3*je,-je),Re.lineTo(3*je,je),Re.lineTo(je,je),Re.lineTo(je,3*je),Re.lineTo(-je,3*je),Re.lineTo(-je,je),Re.lineTo(-3*je,je),Re.closePath()}},tan30=sqrt$1(1/3),tan30_2=tan30*2,symbolDiamond={draw(Re,Ce){const je=sqrt$1(Ce/tan30_2),Be=je*tan30;Re.moveTo(0,-je),Re.lineTo(Be,0),Re.lineTo(0,je),Re.lineTo(-Be,0),Re.closePath()}},symbolSquare={draw(Re,Ce){const je=sqrt$1(Ce),Be=-je/2;Re.rect(Be,Be,je,je)}},ka=.8908130915292852,kr=sin(pi$1/10)/sin(7*pi$1/10),kx=sin(tau$1/10)*kr,ky=-cos(tau$1/10)*kr,symbolStar={draw(Re,Ce){const je=sqrt$1(Ce*ka),Be=kx*je,De=ky*je;Re.moveTo(0,-je),Re.lineTo(Be,De);for(let Fe=1;Fe<5;++Fe){const ke=tau$1*Fe/5,Oe=cos(ke),Me=sin(ke);Re.lineTo(Me*je,-Oe*je),Re.lineTo(Oe*Be-Me*De,Me*Be+Oe*De)}Re.closePath()}},sqrt3=sqrt$1(3),symbolTriangle={draw(Re,Ce){const je=-sqrt$1(Ce/(sqrt3*3));Re.moveTo(0,je*2),Re.lineTo(-sqrt3*je,-je),Re.lineTo(sqrt3*je,-je),Re.closePath()}},c$2=-.5,s$1=sqrt$1(3)/2,k$1=1/sqrt$1(12),a$1=(k$1/2+1)*3,symbolWye={draw(Re,Ce){const je=sqrt$1(Ce/a$1),Be=je/2,De=je*k$1,Fe=Be,ke=je*k$1+je,Oe=-Fe,Me=ke;Re.moveTo(Be,De),Re.lineTo(Fe,ke),Re.lineTo(Oe,Me),Re.lineTo(c$2*Be-s$1*De,s$1*Be+c$2*De),Re.lineTo(c$2*Fe-s$1*ke,s$1*Fe+c$2*ke),Re.lineTo(c$2*Oe-s$1*Me,s$1*Oe+c$2*Me),Re.lineTo(c$2*Be+s$1*De,c$2*De-s$1*Be),Re.lineTo(c$2*Fe+s$1*ke,c$2*ke-s$1*Fe),Re.lineTo(c$2*Oe+s$1*Me,c$2*Me-s$1*Oe),Re.closePath()}};function Symbol$1(Re,Ce){let je=null,Be=withPath(De);Re=typeof Re=="function"?Re:constant$1(Re||symbolCircle),Ce=typeof Ce=="function"?Ce:constant$1(Ce===void 0?64:+Ce);function De(){let Fe;if(je||(je=Fe=Be()),Re.apply(this,arguments).draw(je,+Ce.apply(this,arguments)),Fe)return je=null,Fe+""||null}return De.type=function(Fe){return arguments.length?(Re=typeof Fe=="function"?Fe:constant$1(Fe),De):Re},De.size=function(Fe){return arguments.length?(Ce=typeof Fe=="function"?Fe:constant$1(+Fe),De):Ce},De.context=function(Fe){return arguments.length?(je=Fe??null,De):je},De}function noop$9(){}function point$2(Re,Ce,je){Re._context.bezierCurveTo((2*Re._x0+Re._x1)/3,(2*Re._y0+Re._y1)/3,(Re._x0+2*Re._x1)/3,(Re._y0+2*Re._y1)/3,(Re._x0+4*Re._x1+Ce)/6,(Re._y0+4*Re._y1+je)/6)}function Basis(Re){this._context=Re}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Re,Ce){switch(Re=+Re,Ce=+Ce,this._point){case 0:this._point=1,this._line?this._context.lineTo(Re,Ce):this._context.moveTo(Re,Ce);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,Re,Ce);break}this._x0=this._x1,this._x1=Re,this._y0=this._y1,this._y1=Ce}};function curveBasis(Re){return new Basis(Re)}function BasisClosed(Re){this._context=Re}BasisClosed.prototype={areaStart:noop$9,areaEnd:noop$9,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(Re,Ce){switch(Re=+Re,Ce=+Ce,this._point){case 0:this._point=1,this._x2=Re,this._y2=Ce;break;case 1:this._point=2,this._x3=Re,this._y3=Ce;break;case 2:this._point=3,this._x4=Re,this._y4=Ce,this._context.moveTo((this._x0+4*this._x1+Re)/6,(this._y0+4*this._y1+Ce)/6);break;default:point$2(this,Re,Ce);break}this._x0=this._x1,this._x1=Re,this._y0=this._y1,this._y1=Ce}};function curveBasisClosed(Re){return new BasisClosed(Re)}function BasisOpen(Re){this._context=Re}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(Re,Ce){switch(Re=+Re,Ce=+Ce,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var je=(this._x0+4*this._x1+Re)/6,Be=(this._y0+4*this._y1+Ce)/6;this._line?this._context.lineTo(je,Be):this._context.moveTo(je,Be);break;case 3:this._point=4;default:point$2(this,Re,Ce);break}this._x0=this._x1,this._x1=Re,this._y0=this._y1,this._y1=Ce}};function curveBasisOpen(Re){return new BasisOpen(Re)}function LinearClosed(Re){this._context=Re}LinearClosed.prototype={areaStart:noop$9,areaEnd:noop$9,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(Re,Ce){Re=+Re,Ce=+Ce,this._point?this._context.lineTo(Re,Ce):(this._point=1,this._context.moveTo(Re,Ce))}};function curveLinearClosed(Re){return new LinearClosed(Re)}function sign(Re){return Re<0?-1:1}function slope3(Re,Ce,je){var Be=Re._x1-Re._x0,De=Ce-Re._x1,Fe=(Re._y1-Re._y0)/(Be||De<0&&-0),ke=(je-Re._y1)/(De||Be<0&&-0),Oe=(Fe*De+ke*Be)/(Be+De);return(sign(Fe)+sign(ke))*Math.min(Math.abs(Fe),Math.abs(ke),.5*Math.abs(Oe))||0}function slope2(Re,Ce){var je=Re._x1-Re._x0;return je?(3*(Re._y1-Re._y0)/je-Ce)/2:Ce}function point$1(Re,Ce,je){var Be=Re._x0,De=Re._y0,Fe=Re._x1,ke=Re._y1,Oe=(Fe-Be)/3;Re._context.bezierCurveTo(Be+Oe,De+Oe*Ce,Fe-Oe,ke-Oe*je,Fe,ke)}function MonotoneX(Re){this._context=Re}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(Re,Ce){var je=NaN;if(Re=+Re,Ce=+Ce,!(Re===this._x1&&Ce===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(Re,Ce):this._context.moveTo(Re,Ce);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,je=slope3(this,Re,Ce)),je);break;default:point$1(this,this._t0,je=slope3(this,Re,Ce));break}this._x0=this._x1,this._x1=Re,this._y0=this._y1,this._y1=Ce,this._t0=je}}};function MonotoneY(Re){this._context=new ReflectContext(Re)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(Re,Ce){MonotoneX.prototype.point.call(this,Ce,Re)};function ReflectContext(Re){this._context=Re}ReflectContext.prototype={moveTo:function(Re,Ce){this._context.moveTo(Ce,Re)},closePath:function(){this._context.closePath()},lineTo:function(Re,Ce){this._context.lineTo(Ce,Re)},bezierCurveTo:function(Re,Ce,je,Be,De,Fe){this._context.bezierCurveTo(Ce,Re,Be,je,Fe,De)}};function monotoneX(Re){return new MonotoneX(Re)}function monotoneY(Re){return new MonotoneY(Re)}function Natural(Re){this._context=Re}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var Re=this._x,Ce=this._y,je=Re.length;if(je)if(this._line?this._context.lineTo(Re[0],Ce[0]):this._context.moveTo(Re[0],Ce[0]),je===2)this._context.lineTo(Re[1],Ce[1]);else for(var Be=controlPoints(Re),De=controlPoints(Ce),Fe=0,ke=1;ke<je;++Fe,++ke)this._context.bezierCurveTo(Be[0][Fe],De[0][Fe],Be[1][Fe],De[1][Fe],Re[ke],Ce[ke]);(this._line||this._line!==0&&je===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(Re,Ce){this._x.push(+Re),this._y.push(+Ce)}};function controlPoints(Re){var Ce,je=Re.length-1,Be,De=new Array(je),Fe=new Array(je),ke=new Array(je);for(De[0]=0,Fe[0]=2,ke[0]=Re[0]+2*Re[1],Ce=1;Ce<je-1;++Ce)De[Ce]=1,Fe[Ce]=4,ke[Ce]=4*Re[Ce]+2*Re[Ce+1];for(De[je-1]=2,Fe[je-1]=7,ke[je-1]=8*Re[je-1]+Re[je],Ce=1;Ce<je;++Ce)Be=De[Ce]/Fe[Ce-1],Fe[Ce]-=Be,ke[Ce]-=Be*ke[Ce-1];for(De[je-1]=ke[je-1]/Fe[je-1],Ce=je-2;Ce>=0;--Ce)De[Ce]=(ke[Ce]-De[Ce+1])/Fe[Ce];for(Fe[je-1]=(Re[je]+De[je-1])/2,Ce=0;Ce<je-1;++Ce)Fe[Ce]=2*Re[Ce+1]-De[Ce+1];return[De,Fe]}function curveNatural(Re){return new Natural(Re)}function Step(Re,Ce){this._context=Re,this._t=Ce}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(Re,Ce){switch(Re=+Re,Ce=+Ce,this._point){case 0:this._point=1,this._line?this._context.lineTo(Re,Ce):this._context.moveTo(Re,Ce);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,Ce),this._context.lineTo(Re,Ce);else{var je=this._x*(1-this._t)+Re*this._t;this._context.lineTo(je,this._y),this._context.lineTo(je,Ce)}break}}this._x=Re,this._y=Ce}};function curveStep(Re){return new Step(Re,.5)}function stepBefore(Re){return new Step(Re,0)}function stepAfter(Re){return new Step(Re,1)}function stackOffsetNone(Re,Ce){if((ke=Re.length)>1)for(var je=1,Be,De,Fe=Re[Ce[0]],ke,Oe=Fe.length;je<ke;++je)for(De=Fe,Fe=Re[Ce[je]],Be=0;Be<Oe;++Be)Fe[Be][1]+=Fe[Be][0]=isNaN(De[Be][1])?De[Be][0]:De[Be][1]}function stackOrderNone(Re){for(var Ce=Re.length,je=new Array(Ce);--Ce>=0;)je[Ce]=Ce;return je}function stackValue(Re,Ce){return Re[Ce]}function stackSeries(Re){const Ce=[];return Ce.key=Re,Ce}function shapeStack(){var Re=constant$1([]),Ce=stackOrderNone,je=stackOffsetNone,Be=stackValue;function De(Fe){var ke=Array.from(Re.apply(this,arguments),stackSeries),Oe,Me=ke.length,Ue=-1,$e;for(const He of Fe)for(Oe=0,++Ue;Oe<Me;++Oe)(ke[Oe][Ue]=[0,+Be(He,ke[Oe].key,Ue,Fe)]).data=He;for(Oe=0,$e=array(Ce(ke));Oe<Me;++Oe)ke[$e[Oe]].index=Oe;return je(ke,$e),ke}return De.keys=function(Fe){return arguments.length?(Re=typeof Fe=="function"?Fe:constant$1(Array.from(Fe)),De):Re},De.value=function(Fe){return arguments.length?(Be=typeof Fe=="function"?Fe:constant$1(+Fe),De):Be},De.order=function(Fe){return arguments.length?(Ce=Fe==null?stackOrderNone:typeof Fe=="function"?Fe:constant$1(Array.from(Fe)),De):Ce},De.offset=function(Fe){return arguments.length?(je=Fe??stackOffsetNone,De):je},De}function stackOffsetExpand(Re,Ce){if((Be=Re.length)>0){for(var je,Be,De=0,Fe=Re[0].length,ke;De<Fe;++De){for(ke=je=0;je<Be;++je)ke+=Re[je][De][1]||0;if(ke)for(je=0;je<Be;++je)Re[je][De][1]/=ke}stackOffsetNone(Re,Ce)}}function stackOffsetSilhouette(Re,Ce){if((De=Re.length)>0){for(var je=0,Be=Re[Ce[0]],De,Fe=Be.length;je<Fe;++je){for(var ke=0,Oe=0;ke<De;++ke)Oe+=Re[ke][je][1]||0;Be[je][1]+=Be[je][0]=-Oe/2}stackOffsetNone(Re,Ce)}}function stackOffsetWiggle(Re,Ce){if(!(!((ke=Re.length)>0)||!((Fe=(De=Re[Ce[0]]).length)>0))){for(var je=0,Be=1,De,Fe,ke;Be<Fe;++Be){for(var Oe=0,Me=0,Ue=0;Oe<ke;++Oe){for(var $e=Re[Ce[Oe]],He=$e[Be][1]||0,Qe=$e[Be-1][1]||0,We=(He-Qe)/2,qe=0;qe<Oe;++qe){var Ke=Re[Ce[qe]],Xe=Ke[Be][1]||0,Ye=Ke[Be-1][1]||0;We+=Xe-Ye}Me+=He,Ue+=We*He}De[Be-1][1]+=De[Be-1][0]=je,Me&&(je-=Ue/Me)}De[Be-1][1]+=De[Be-1][0]=je,stackOffsetNone(Re,Ce)}}var _excluded$p=["type","size","sizeType"];function _extends$p(){return _extends$p=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$p.apply(null,arguments)}function ownKeys$A(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$z(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$A(Object(je),!0).forEach(function(Be){_defineProperty$E(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$A(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$E(Re,Ce,je){return(Ce=_toPropertyKey$D(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$D(Re){var Ce=_toPrimitive$D(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$D(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$k(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$k(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$k(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var symbolFactories={symbolCircle,symbolCross,symbolDiamond,symbolSquare,symbolStar,symbolTriangle,symbolWye},RADIAN$1=Math.PI/180,getSymbolFactory=Re=>{var Ce="symbol".concat(upperFirst(Re));return symbolFactories[Ce]||symbolCircle},calculateAreaSize=(Re,Ce,je)=>{if(Ce==="area")return Re;switch(je){case"cross":return 5*Re*Re/9;case"diamond":return .5*Re*Re/Math.sqrt(3);case"square":return Re*Re;case"star":{var Be=18*RADIAN$1;return 1.25*Re*Re*(Math.tan(Be)-Math.tan(Be*2)*Math.tan(Be)**2)}case"triangle":return Math.sqrt(3)*Re*Re/4;case"wye":return(21-10*Math.sqrt(3))*Re*Re/8;default:return Math.PI*Re*Re/4}},registerSymbol=(Re,Ce)=>{symbolFactories["symbol".concat(upperFirst(Re))]=Ce},Symbols=Re=>{var{type:Ce="circle",size:je=64,sizeType:Be="area"}=Re,De=_objectWithoutProperties$k(Re,_excluded$p),Fe=_objectSpread$z(_objectSpread$z({},De),{},{type:Ce,size:je,sizeType:Be}),ke=()=>{var He=getSymbolFactory(Ce),Qe=Symbol$1().type(He).size(calculateAreaSize(je,Be,Ce));return Qe()},{className:Oe,cx:Me,cy:Ue}=Fe,$e=filterProps(Fe,!0);return Me===+Me&&Ue===+Ue&&je===+je?reactExports.createElement("path",_extends$p({},$e,{className:clsx("recharts-symbols",Oe),transform:"translate(".concat(Me,", ").concat(Ue,")"),d:ke()})):null};Symbols.registerSymbol=registerSymbol;function _extends$o(){return _extends$o=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$o.apply(null,arguments)}function ownKeys$z(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$y(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$z(Object(je),!0).forEach(function(Be){_defineProperty$D(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$z(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$D(Re,Ce,je){return(Ce=_toPropertyKey$C(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$C(Re){var Ce=_toPrimitive$C(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$C(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var SIZE=32;class DefaultLegendContent extends reactExports.PureComponent{renderIcon(Ce,je){var{inactiveColor:Be}=this.props,De=SIZE/2,Fe=SIZE/6,ke=SIZE/3,Oe=Ce.inactive?Be:Ce.color,Me=je??Ce.type;if(Me==="none")return null;if(Me==="plainline")return reactExports.createElement("line",{strokeWidth:4,fill:"none",stroke:Oe,strokeDasharray:Ce.payload.strokeDasharray,x1:0,y1:De,x2:SIZE,y2:De,className:"recharts-legend-icon"});if(Me==="line")return reactExports.createElement("path",{strokeWidth:4,fill:"none",stroke:Oe,d:"M0,".concat(De,"h").concat(ke,`
            A`).concat(Fe,",").concat(Fe,",0,1,1,").concat(2*ke,",").concat(De,`
            H`).concat(SIZE,"M").concat(2*ke,",").concat(De,`
            A`).concat(Fe,",").concat(Fe,",0,1,1,").concat(ke,",").concat(De),className:"recharts-legend-icon"});if(Me==="rect")return reactExports.createElement("path",{stroke:"none",fill:Oe,d:"M0,".concat(SIZE/8,"h").concat(SIZE,"v").concat(SIZE*3/4,"h").concat(-SIZE,"z"),className:"recharts-legend-icon"});if(reactExports.isValidElement(Ce.legendIcon)){var Ue=_objectSpread$y({},Ce);return delete Ue.legendIcon,reactExports.cloneElement(Ce.legendIcon,Ue)}return reactExports.createElement(Symbols,{fill:Oe,cx:De,cy:De,size:SIZE,sizeType:"diameter",type:Me})}renderItems(){var{payload:Ce,iconSize:je,layout:Be,formatter:De,inactiveColor:Fe,iconType:ke}=this.props,Oe={x:0,y:0,width:SIZE,height:SIZE},Me={display:Be==="horizontal"?"inline-block":"block",marginRight:10},Ue={display:"inline-block",verticalAlign:"middle",marginRight:4};return Ce.map(($e,He)=>{var Qe=$e.formatter||De,We=clsx({"recharts-legend-item":!0,["legend-item-".concat(He)]:!0,inactive:$e.inactive});if($e.type==="none")return null;var qe=$e.inactive?Fe:$e.color,Ke=Qe?Qe($e.value,$e,He):$e.value;return reactExports.createElement("li",_extends$o({className:We,style:Me,key:"legend-item-".concat(He)},adaptEventsOfChild(this.props,$e,He)),reactExports.createElement(Surface,{width:je,height:je,viewBox:Oe,style:Ue,"aria-label":"".concat(Ke," legend icon")},this.renderIcon($e,ke)),reactExports.createElement("span",{className:"recharts-legend-item-text",style:{color:qe}},Ke))})}render(){var{payload:Ce,layout:je,align:Be}=this.props;if(!Ce||!Ce.length)return null;var De={padding:0,margin:0,textAlign:je==="horizontal"?Be:"left"};return reactExports.createElement("ul",{className:"recharts-default-legend",style:De},this.renderItems())}}_defineProperty$D(DefaultLegendContent,"displayName","Legend");_defineProperty$D(DefaultLegendContent,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var uniqBy$3={},uniqBy$2={},hasRequiredUniqBy$2;function requireUniqBy$2(){return hasRequiredUniqBy$2||(hasRequiredUniqBy$2=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je,Be){const De=new Map;for(let Fe=0;Fe<je.length;Fe++){const ke=je[Fe],Oe=Be(ke);De.has(Oe)||De.set(Oe,ke)}return Array.from(De.values())}Re.uniqBy=Ce})(uniqBy$2)),uniqBy$2}var identity$4={},hasRequiredIdentity;function requireIdentity(){return hasRequiredIdentity||(hasRequiredIdentity=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return je}Re.identity=Ce})(identity$4)),identity$4}var isArrayLikeObject={},isArrayLike={},isLength={},hasRequiredIsLength;function requireIsLength(){return hasRequiredIsLength||(hasRequiredIsLength=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return Number.isSafeInteger(je)&&je>=0}Re.isLength=Ce})(isLength)),isLength}var hasRequiredIsArrayLike;function requireIsArrayLike(){return hasRequiredIsArrayLike||(hasRequiredIsArrayLike=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsLength();function je(Be){return Be!=null&&typeof Be!="function"&&Ce.isLength(Be.length)}Re.isArrayLike=je})(isArrayLike)),isArrayLike}var isObjectLike={},hasRequiredIsObjectLike;function requireIsObjectLike(){return hasRequiredIsObjectLike||(hasRequiredIsObjectLike=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return typeof je=="object"&&je!==null}Re.isObjectLike=Ce})(isObjectLike)),isObjectLike}var hasRequiredIsArrayLikeObject;function requireIsArrayLikeObject(){return hasRequiredIsArrayLikeObject||(hasRequiredIsArrayLikeObject=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsArrayLike(),je=requireIsObjectLike();function Be(De){return je.isObjectLike(De)&&Ce.isArrayLike(De)}Re.isArrayLikeObject=Be})(isArrayLikeObject)),isArrayLikeObject}var iteratee={},property={},hasRequiredProperty;function requireProperty(){return hasRequiredProperty||(hasRequiredProperty=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireGet$1();function je(Be){return function(De){return Ce.get(De,Be)}}Re.property=je})(property)),property}var matches={},isMatch={},isMatchWith={},isObject={},hasRequiredIsObject;function requireIsObject(){return hasRequiredIsObject||(hasRequiredIsObject=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return je!==null&&(typeof je=="object"||typeof je=="function")}Re.isObject=Ce})(isObject)),isObject}var isPrimitive={},hasRequiredIsPrimitive;function requireIsPrimitive(){return hasRequiredIsPrimitive||(hasRequiredIsPrimitive=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return je==null||typeof je!="object"&&typeof je!="function"}Re.isPrimitive=Ce})(isPrimitive)),isPrimitive}var eq={},hasRequiredEq;function requireEq(){return hasRequiredEq||(hasRequiredEq=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je,Be){return je===Be||Number.isNaN(je)&&Number.isNaN(Be)}Re.eq=Ce})(eq)),eq}var hasRequiredIsMatchWith;function requireIsMatchWith(){return hasRequiredIsMatchWith||(hasRequiredIsMatchWith=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsMatch(),je=requireIsObject(),Be=requireIsPrimitive(),De=requireEq();function Fe(He,Qe,We){return typeof We!="function"?Ce.isMatch(He,Qe):ke(He,Qe,function qe(Ke,Xe,Ye,Ze,Je,tr){const rr=We(Ke,Xe,Ye,Ze,Je,tr);return rr!==void 0?!!rr:ke(Ke,Xe,qe,tr)},new Map)}function ke(He,Qe,We,qe){if(Qe===He)return!0;switch(typeof Qe){case"object":return Oe(He,Qe,We,qe);case"function":return Object.keys(Qe).length>0?ke(He,{...Qe},We,qe):De.eq(He,Qe);default:return je.isObject(He)?typeof Qe=="string"?Qe==="":!0:De.eq(He,Qe)}}function Oe(He,Qe,We,qe){if(Qe==null)return!0;if(Array.isArray(Qe))return Ue(He,Qe,We,qe);if(Qe instanceof Map)return Me(He,Qe,We,qe);if(Qe instanceof Set)return $e(He,Qe,We,qe);const Ke=Object.keys(Qe);if(He==null)return Ke.length===0;if(Ke.length===0)return!0;if(qe&&qe.has(Qe))return qe.get(Qe)===He;qe&&qe.set(Qe,He);try{for(let Xe=0;Xe<Ke.length;Xe++){const Ye=Ke[Xe];if(!Be.isPrimitive(He)&&!(Ye in He)||Qe[Ye]===void 0&&He[Ye]!==void 0||Qe[Ye]===null&&He[Ye]!==null||!We(He[Ye],Qe[Ye],Ye,He,Qe,qe))return!1}return!0}finally{qe&&qe.delete(Qe)}}function Me(He,Qe,We,qe){if(Qe.size===0)return!0;if(!(He instanceof Map))return!1;for(const[Ke,Xe]of Qe.entries()){const Ye=He.get(Ke);if(We(Ye,Xe,Ke,He,Qe,qe)===!1)return!1}return!0}function Ue(He,Qe,We,qe){if(Qe.length===0)return!0;if(!Array.isArray(He))return!1;const Ke=new Set;for(let Xe=0;Xe<Qe.length;Xe++){const Ye=Qe[Xe];let Ze=!1;for(let Je=0;Je<He.length;Je++){if(Ke.has(Je))continue;const tr=He[Je];let rr=!1;if(We(tr,Ye,Xe,He,Qe,qe)&&(rr=!0),rr){Ke.add(Je),Ze=!0;break}}if(!Ze)return!1}return!0}function $e(He,Qe,We,qe){return Qe.size===0?!0:He instanceof Set?Ue([...He],[...Qe],We,qe):!1}Re.isMatchWith=Fe,Re.isSetMatch=$e})(isMatchWith)),isMatchWith}var hasRequiredIsMatch;function requireIsMatch(){return hasRequiredIsMatch||(hasRequiredIsMatch=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsMatchWith();function je(Be,De){return Ce.isMatchWith(Be,De,()=>{})}Re.isMatch=je})(isMatch)),isMatch}var cloneDeep$1={},cloneDeepWith$1={},getSymbols={},hasRequiredGetSymbols;function requireGetSymbols(){return hasRequiredGetSymbols||(hasRequiredGetSymbols=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return Object.getOwnPropertySymbols(je).filter(Be=>Object.prototype.propertyIsEnumerable.call(je,Be))}Re.getSymbols=Ce})(getSymbols)),getSymbols}var getTag={},hasRequiredGetTag;function requireGetTag(){return hasRequiredGetTag||(hasRequiredGetTag=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return je==null?je===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(je)}Re.getTag=Ce})(getTag)),getTag}var tags$1={},hasRequiredTags;function requireTags(){return hasRequiredTags||(hasRequiredTags=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce="[object RegExp]",je="[object String]",Be="[object Number]",De="[object Boolean]",Fe="[object Arguments]",ke="[object Symbol]",Oe="[object Date]",Me="[object Map]",Ue="[object Set]",$e="[object Array]",He="[object Function]",Qe="[object ArrayBuffer]",We="[object Object]",qe="[object Error]",Ke="[object DataView]",Xe="[object Uint8Array]",Ye="[object Uint8ClampedArray]",Ze="[object Uint16Array]",Je="[object Uint32Array]",tr="[object BigUint64Array]",rr="[object Int8Array]",ar="[object Int16Array]",ir="[object Int32Array]",nr="[object BigInt64Array]",cr="[object Float32Array]",mr="[object Float64Array]";Re.argumentsTag=Fe,Re.arrayBufferTag=Qe,Re.arrayTag=$e,Re.bigInt64ArrayTag=nr,Re.bigUint64ArrayTag=tr,Re.booleanTag=De,Re.dataViewTag=Ke,Re.dateTag=Oe,Re.errorTag=qe,Re.float32ArrayTag=cr,Re.float64ArrayTag=mr,Re.functionTag=He,Re.int16ArrayTag=ar,Re.int32ArrayTag=ir,Re.int8ArrayTag=rr,Re.mapTag=Me,Re.numberTag=Be,Re.objectTag=We,Re.regexpTag=Ce,Re.setTag=Ue,Re.stringTag=je,Re.symbolTag=ke,Re.uint16ArrayTag=Ze,Re.uint32ArrayTag=Je,Re.uint8ArrayTag=Xe,Re.uint8ClampedArrayTag=Ye})(tags$1)),tags$1}var isTypedArray={},hasRequiredIsTypedArray;function requireIsTypedArray(){return hasRequiredIsTypedArray||(hasRequiredIsTypedArray=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return ArrayBuffer.isView(je)&&!(je instanceof DataView)}Re.isTypedArray=Ce})(isTypedArray)),isTypedArray}var hasRequiredCloneDeepWith$1;function requireCloneDeepWith$1(){return hasRequiredCloneDeepWith$1||(hasRequiredCloneDeepWith$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireGetSymbols(),je=requireGetTag(),Be=requireTags(),De=requireIsPrimitive(),Fe=requireIsTypedArray();function ke($e,He){return Oe($e,void 0,$e,new Map,He)}function Oe($e,He,Qe,We=new Map,qe=void 0){const Ke=qe?.($e,He,Qe,We);if(Ke!==void 0)return Ke;if(De.isPrimitive($e))return $e;if(We.has($e))return We.get($e);if(Array.isArray($e)){const Xe=new Array($e.length);We.set($e,Xe);for(let Ye=0;Ye<$e.length;Ye++)Xe[Ye]=Oe($e[Ye],Ye,Qe,We,qe);return Object.hasOwn($e,"index")&&(Xe.index=$e.index),Object.hasOwn($e,"input")&&(Xe.input=$e.input),Xe}if($e instanceof Date)return new Date($e.getTime());if($e instanceof RegExp){const Xe=new RegExp($e.source,$e.flags);return Xe.lastIndex=$e.lastIndex,Xe}if($e instanceof Map){const Xe=new Map;We.set($e,Xe);for(const[Ye,Ze]of $e)Xe.set(Ye,Oe(Ze,Ye,Qe,We,qe));return Xe}if($e instanceof Set){const Xe=new Set;We.set($e,Xe);for(const Ye of $e)Xe.add(Oe(Ye,void 0,Qe,We,qe));return Xe}if(typeof Buffer<"u"&&Buffer.isBuffer($e))return $e.subarray();if(Fe.isTypedArray($e)){const Xe=new(Object.getPrototypeOf($e)).constructor($e.length);We.set($e,Xe);for(let Ye=0;Ye<$e.length;Ye++)Xe[Ye]=Oe($e[Ye],Ye,Qe,We,qe);return Xe}if($e instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&$e instanceof SharedArrayBuffer)return $e.slice(0);if($e instanceof DataView){const Xe=new DataView($e.buffer.slice(0),$e.byteOffset,$e.byteLength);return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}if(typeof File<"u"&&$e instanceof File){const Xe=new File([$e],$e.name,{type:$e.type});return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}if($e instanceof Blob){const Xe=new Blob([$e],{type:$e.type});return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}if($e instanceof Error){const Xe=new $e.constructor;return We.set($e,Xe),Xe.message=$e.message,Xe.name=$e.name,Xe.stack=$e.stack,Xe.cause=$e.cause,Me(Xe,$e,Qe,We,qe),Xe}if(typeof $e=="object"&&Ue($e)){const Xe=Object.create(Object.getPrototypeOf($e));return We.set($e,Xe),Me(Xe,$e,Qe,We,qe),Xe}return $e}function Me($e,He,Qe=$e,We,qe){const Ke=[...Object.keys(He),...Ce.getSymbols(He)];for(let Xe=0;Xe<Ke.length;Xe++){const Ye=Ke[Xe],Ze=Object.getOwnPropertyDescriptor($e,Ye);(Ze==null||Ze.writable)&&($e[Ye]=Oe(He[Ye],Ye,Qe,We,qe))}}function Ue($e){switch(je.getTag($e)){case Be.argumentsTag:case Be.arrayTag:case Be.arrayBufferTag:case Be.dataViewTag:case Be.booleanTag:case Be.dateTag:case Be.float32ArrayTag:case Be.float64ArrayTag:case Be.int8ArrayTag:case Be.int16ArrayTag:case Be.int32ArrayTag:case Be.mapTag:case Be.numberTag:case Be.objectTag:case Be.regexpTag:case Be.setTag:case Be.stringTag:case Be.symbolTag:case Be.uint8ArrayTag:case Be.uint8ClampedArrayTag:case Be.uint16ArrayTag:case Be.uint32ArrayTag:return!0;default:return!1}}Re.cloneDeepWith=ke,Re.cloneDeepWithImpl=Oe,Re.copyProperties=Me})(cloneDeepWith$1)),cloneDeepWith$1}var hasRequiredCloneDeep$1;function requireCloneDeep$1(){return hasRequiredCloneDeep$1||(hasRequiredCloneDeep$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireCloneDeepWith$1();function je(Be){return Ce.cloneDeepWithImpl(Be,void 0,Be,new Map,void 0)}Re.cloneDeep=je})(cloneDeep$1)),cloneDeep$1}var hasRequiredMatches;function requireMatches(){return hasRequiredMatches||(hasRequiredMatches=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsMatch(),je=requireCloneDeep$1();function Be(De){return De=je.cloneDeep(De),Fe=>Ce.isMatch(Fe,De)}Re.matches=Be})(matches)),matches}var matchesProperty={},cloneDeep={},cloneDeepWith={},hasRequiredCloneDeepWith;function requireCloneDeepWith(){return hasRequiredCloneDeepWith||(hasRequiredCloneDeepWith=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireCloneDeepWith$1(),je=requireTags();function Be(De,Fe){return Ce.cloneDeepWith(De,(ke,Oe,Me,Ue)=>{const $e=Fe?.(ke,Oe,Me,Ue);if($e!==void 0)return $e;if(typeof De=="object")switch(Object.prototype.toString.call(De)){case je.numberTag:case je.stringTag:case je.booleanTag:{const He=new De.constructor(De?.valueOf());return Ce.copyProperties(He,De),He}case je.argumentsTag:{const He={};return Ce.copyProperties(He,De),He.length=De.length,He[Symbol.iterator]=De[Symbol.iterator],He}default:return}})}Re.cloneDeepWith=Be})(cloneDeepWith)),cloneDeepWith}var hasRequiredCloneDeep;function requireCloneDeep(){return hasRequiredCloneDeep||(hasRequiredCloneDeep=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireCloneDeepWith();function je(Be){return Ce.cloneDeepWith(Be)}Re.cloneDeep=je})(cloneDeep)),cloneDeep}var has$1={},isIndex={},hasRequiredIsIndex;function requireIsIndex(){return hasRequiredIsIndex||(hasRequiredIsIndex=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=/^(?:0|[1-9]\d*)$/;function je(Be,De=Number.MAX_SAFE_INTEGER){switch(typeof Be){case"number":return Number.isInteger(Be)&&Be>=0&&Be<De;case"symbol":return!1;case"string":return Ce.test(Be)}}Re.isIndex=je})(isIndex)),isIndex}var isArguments={},hasRequiredIsArguments;function requireIsArguments(){return hasRequiredIsArguments||(hasRequiredIsArguments=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireGetTag();function je(Be){return Be!==null&&typeof Be=="object"&&Ce.getTag(Be)==="[object Arguments]"}Re.isArguments=je})(isArguments)),isArguments}var hasRequiredHas;function requireHas(){return hasRequiredHas||(hasRequiredHas=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsDeepKey(),je=requireIsIndex(),Be=requireIsArguments(),De=requireToPath();function Fe(ke,Oe){let Me;if(Array.isArray(Oe)?Me=Oe:typeof Oe=="string"&&Ce.isDeepKey(Oe)&&ke?.[Oe]==null?Me=De.toPath(Oe):Me=[Oe],Me.length===0)return!1;let Ue=ke;for(let $e=0;$e<Me.length;$e++){const He=Me[$e];if((Ue==null||!Object.hasOwn(Ue,He))&&!((Array.isArray(Ue)||Be.isArguments(Ue))&&je.isIndex(He)&&He<Ue.length))return!1;Ue=Ue[He]}return!0}Re.has=Fe})(has$1)),has$1}var hasRequiredMatchesProperty;function requireMatchesProperty(){return hasRequiredMatchesProperty||(hasRequiredMatchesProperty=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsMatch(),je=requireToKey(),Be=requireCloneDeep(),De=requireGet$1(),Fe=requireHas();function ke(Oe,Me){switch(typeof Oe){case"object":{Object.is(Oe?.valueOf(),-0)&&(Oe="-0");break}case"number":{Oe=je.toKey(Oe);break}}return Me=Be.cloneDeep(Me),function(Ue){const $e=De.get(Ue,Oe);return $e===void 0?Fe.has(Ue,Oe):Me===void 0?$e===void 0:Ce.isMatch($e,Me)}}Re.matchesProperty=ke})(matchesProperty)),matchesProperty}var hasRequiredIteratee;function requireIteratee(){return hasRequiredIteratee||(hasRequiredIteratee=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIdentity(),je=requireProperty(),Be=requireMatches(),De=requireMatchesProperty();function Fe(ke){if(ke==null)return Ce.identity;switch(typeof ke){case"function":return ke;case"object":return Array.isArray(ke)&&ke.length===2?De.matchesProperty(ke[0],ke[1]):Be.matches(ke);case"string":case"symbol":case"number":return je.property(ke)}}Re.iteratee=Fe})(iteratee)),iteratee}var hasRequiredUniqBy$1;function requireUniqBy$1(){return hasRequiredUniqBy$1||(hasRequiredUniqBy$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireUniqBy$2(),je=requireIdentity(),Be=requireIsArrayLikeObject(),De=requireIteratee();function Fe(ke,Oe=je.identity){return Be.isArrayLikeObject(ke)?Ce.uniqBy(Array.from(ke),De.iteratee(Oe)):[]}Re.uniqBy=Fe})(uniqBy$3)),uniqBy$3}var uniqBy$1,hasRequiredUniqBy;function requireUniqBy(){return hasRequiredUniqBy||(hasRequiredUniqBy=1,uniqBy$1=requireUniqBy$1().uniqBy),uniqBy$1}var uniqByExports=requireUniqBy();const uniqBy=getDefaultExportFromCjs(uniqByExports);function getUniqPayload(Re,Ce,je){return Ce===!0?uniqBy(Re,je):typeof Ce=="function"?uniqBy(Re,Ce):Re}var withSelector$1={exports:{}},withSelector_production={},shim={exports:{}},useSyncExternalStoreShim_production={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreShim_production;function requireUseSyncExternalStoreShim_production(){if(hasRequiredUseSyncExternalStoreShim_production)return useSyncExternalStoreShim_production;hasRequiredUseSyncExternalStoreShim_production=1;var Re=requireReact();function Ce(He,Qe){return He===Qe&&(He!==0||1/He===1/Qe)||He!==He&&Qe!==Qe}var je=typeof Object.is=="function"?Object.is:Ce,Be=Re.useState,De=Re.useEffect,Fe=Re.useLayoutEffect,ke=Re.useDebugValue;function Oe(He,Qe){var We=Qe(),qe=Be({inst:{value:We,getSnapshot:Qe}}),Ke=qe[0].inst,Xe=qe[1];return Fe(function(){Ke.value=We,Ke.getSnapshot=Qe,Me(Ke)&&Xe({inst:Ke})},[He,We,Qe]),De(function(){return Me(Ke)&&Xe({inst:Ke}),He(function(){Me(Ke)&&Xe({inst:Ke})})},[He]),ke(We),We}function Me(He){var Qe=He.getSnapshot;He=He.value;try{var We=Qe();return!je(He,We)}catch{return!0}}function Ue(He,Qe){return Qe()}var $e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ue:Oe;return useSyncExternalStoreShim_production.useSyncExternalStore=Re.useSyncExternalStore!==void 0?Re.useSyncExternalStore:$e,useSyncExternalStoreShim_production}var hasRequiredShim;function requireShim(){return hasRequiredShim||(hasRequiredShim=1,shim.exports=requireUseSyncExternalStoreShim_production()),shim.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredWithSelector_production;function requireWithSelector_production(){if(hasRequiredWithSelector_production)return withSelector_production;hasRequiredWithSelector_production=1;var Re=requireReact(),Ce=requireShim();function je(Ue,$e){return Ue===$e&&(Ue!==0||1/Ue===1/$e)||Ue!==Ue&&$e!==$e}var Be=typeof Object.is=="function"?Object.is:je,De=Ce.useSyncExternalStore,Fe=Re.useRef,ke=Re.useEffect,Oe=Re.useMemo,Me=Re.useDebugValue;return withSelector_production.useSyncExternalStoreWithSelector=function(Ue,$e,He,Qe,We){var qe=Fe(null);if(qe.current===null){var Ke={hasValue:!1,value:null};qe.current=Ke}else Ke=qe.current;qe=Oe(function(){function Ye(ar){if(!Ze){if(Ze=!0,Je=ar,ar=Qe(ar),We!==void 0&&Ke.hasValue){var ir=Ke.value;if(We(ir,ar))return tr=ir}return tr=ar}if(ir=tr,Be(Je,ar))return ir;var nr=Qe(ar);return We!==void 0&&We(ir,nr)?(Je=ar,ir):(Je=ar,tr=nr)}var Ze=!1,Je,tr,rr=He===void 0?null:He;return[function(){return Ye($e())},rr===null?void 0:function(){return Ye(rr())}]},[$e,He,Qe,We]);var Xe=De(Ue,qe[0],qe[1]);return ke(function(){Ke.hasValue=!0,Ke.value=Xe},[Xe]),Me(Xe),Xe},withSelector_production}var hasRequiredWithSelector$1;function requireWithSelector$1(){return hasRequiredWithSelector$1||(hasRequiredWithSelector$1=1,withSelector$1.exports=requireWithSelector_production()),withSelector$1.exports}var withSelectorExports=requireWithSelector$1(),RechartsReduxContext=reactExports.createContext(null),noopDispatch=Re=>Re,useAppDispatch=()=>{var Re=reactExports.useContext(RechartsReduxContext);return Re?Re.store.dispatch:noopDispatch},noop$8=()=>{},addNestedSubNoop=()=>noop$8,refEquality=(Re,Ce)=>Re===Ce;function useAppSelector(Re){var Ce=reactExports.useContext(RechartsReduxContext);return withSelectorExports.useSyncExternalStoreWithSelector(Ce?Ce.subscription.addNestedSub:addNestedSubNoop,Ce?Ce.store.getState:noop$8,Ce?Ce.store.getState:noop$8,Ce?Re:noop$8,refEquality)}function assertIsFunction(Re,Ce=`expected a function, instead received ${typeof Re}`){if(typeof Re!="function")throw new TypeError(Ce)}function assertIsObject(Re,Ce=`expected an object, instead received ${typeof Re}`){if(typeof Re!="object")throw new TypeError(Ce)}function assertIsArrayOfFunctions(Re,Ce="expected all items to be functions, instead received the following types: "){if(!Re.every(je=>typeof je=="function")){const je=Re.map(Be=>typeof Be=="function"?`function ${Be.name||"unnamed"}()`:typeof Be).join(", ");throw new TypeError(`${Ce}[${je}]`)}}var ensureIsArray=Re=>Array.isArray(Re)?Re:[Re];function getDependencies(Re){const Ce=Array.isArray(Re[0])?Re[0]:Re;return assertIsArrayOfFunctions(Ce,"createSelector expects all input-selectors to be functions, but received the following types: "),Ce}function collectInputSelectorResults(Re,Ce){const je=[],{length:Be}=Re;for(let De=0;De<Be;De++)je.push(Re[De].apply(null,Ce));return je}var StrongRef=class{constructor(Re){this.value=Re}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(Re,Ce={}){let je=createCacheNode();const{resultEqualityCheck:Be}=Ce;let De,Fe=0;function ke(){let Oe=je;const{length:Me}=arguments;for(let He=0,Qe=Me;He<Qe;He++){const We=arguments[He];if(typeof We=="function"||typeof We=="object"&&We!==null){let qe=Oe.o;qe===null&&(Oe.o=qe=new WeakMap);const Ke=qe.get(We);Ke===void 0?(Oe=createCacheNode(),qe.set(We,Oe)):Oe=Ke}else{let qe=Oe.p;qe===null&&(Oe.p=qe=new Map);const Ke=qe.get(We);Ke===void 0?(Oe=createCacheNode(),qe.set(We,Oe)):Oe=Ke}}const Ue=Oe;let $e;if(Oe.s===TERMINATED)$e=Oe.v;else if($e=Re.apply(null,arguments),Fe++,Be){const He=De?.deref?.()??De;He!=null&&Be(He,$e)&&($e=He,Fe!==0&&Fe--),De=typeof $e=="object"&&$e!==null||typeof $e=="function"?new Ref($e):$e}return Ue.s=TERMINATED,Ue.v=$e,$e}return ke.clearCache=()=>{je=createCacheNode(),ke.resetResultsCount()},ke.resultsCount=()=>Fe,ke.resetResultsCount=()=>{Fe=0},ke}function createSelectorCreator(Re,...Ce){const je=typeof Re=="function"?{memoize:Re,memoizeOptions:Ce}:Re,Be=(...De)=>{let Fe=0,ke=0,Oe,Me={},Ue=De.pop();typeof Ue=="object"&&(Me=Ue,Ue=De.pop()),assertIsFunction(Ue,`createSelector expects an output function after the inputs, but received: [${typeof Ue}]`);const $e={...je,...Me},{memoize:He,memoizeOptions:Qe=[],argsMemoize:We=weakMapMemoize,argsMemoizeOptions:qe=[]}=$e,Ke=ensureIsArray(Qe),Xe=ensureIsArray(qe),Ye=getDependencies(De),Ze=He(function(){return Fe++,Ue.apply(null,arguments)},...Ke),Je=We(function(){ke++;const rr=collectInputSelectorResults(Ye,arguments);return Oe=Ze.apply(null,rr),Oe},...Xe);return Object.assign(Je,{resultFunc:Ue,memoizedResultFunc:Ze,dependencies:Ye,dependencyRecomputations:()=>ke,resetDependencyRecomputations:()=>{ke=0},lastResult:()=>Oe,recomputations:()=>Fe,resetRecomputations:()=>{Fe=0},memoize:He,argsMemoize:We})};return Object.assign(Be,{withTypes:()=>Be}),Be}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((Re,Ce=createSelector)=>{assertIsObject(Re,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof Re}`);const je=Object.keys(Re),Be=je.map(Fe=>Re[Fe]);return Ce(Be,(...Fe)=>Fe.reduce((ke,Oe,Me)=>(ke[je[Me]]=Oe,ke),{}))},{withTypes:()=>createStructuredSelector}),sortBy$2={},orderBy={},compareValues={},hasRequiredCompareValues;function requireCompareValues(){return hasRequiredCompareValues||(hasRequiredCompareValues=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(Be){return typeof Be=="symbol"?1:Be===null?2:Be===void 0?3:Be!==Be?4:0}const je=(Be,De,Fe)=>{if(Be!==De){const ke=Ce(Be),Oe=Ce(De);if(ke===Oe&&ke===0){if(Be<De)return Fe==="desc"?1:-1;if(Be>De)return Fe==="desc"?-1:1}return Fe==="desc"?Oe-ke:ke-Oe}return 0};Re.compareValues=je})(compareValues)),compareValues}var isKey={},isSymbol={},hasRequiredIsSymbol;function requireIsSymbol(){return hasRequiredIsSymbol||(hasRequiredIsSymbol=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return typeof je=="symbol"||je instanceof Symbol}Re.isSymbol=Ce})(isSymbol)),isSymbol}var hasRequiredIsKey;function requireIsKey(){return hasRequiredIsKey||(hasRequiredIsKey=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsSymbol(),je=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Be=/^\w*$/;function De(Fe,ke){return Array.isArray(Fe)?!1:typeof Fe=="number"||typeof Fe=="boolean"||Fe==null||Ce.isSymbol(Fe)?!0:typeof Fe=="string"&&(Be.test(Fe)||!je.test(Fe))||ke!=null&&Object.hasOwn(ke,Fe)}Re.isKey=De})(isKey)),isKey}var hasRequiredOrderBy;function requireOrderBy(){return hasRequiredOrderBy||(hasRequiredOrderBy=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireCompareValues(),je=requireIsKey(),Be=requireToPath();function De(Fe,ke,Oe,Me){if(Fe==null)return[];Oe=Me?void 0:Oe,Array.isArray(Fe)||(Fe=Object.values(Fe)),Array.isArray(ke)||(ke=ke==null?[null]:[ke]),ke.length===0&&(ke=[null]),Array.isArray(Oe)||(Oe=Oe==null?[]:[Oe]),Oe=Oe.map(We=>String(We));const Ue=(We,qe)=>{let Ke=We;for(let Xe=0;Xe<qe.length&&Ke!=null;++Xe)Ke=Ke[qe[Xe]];return Ke},$e=(We,qe)=>qe==null||We==null?qe:typeof We=="object"&&"key"in We?Object.hasOwn(qe,We.key)?qe[We.key]:Ue(qe,We.path):typeof We=="function"?We(qe):Array.isArray(We)?Ue(qe,We):typeof qe=="object"?qe[We]:qe,He=ke.map(We=>(Array.isArray(We)&&We.length===1&&(We=We[0]),We==null||typeof We=="function"||Array.isArray(We)||je.isKey(We)?We:{key:We,path:Be.toPath(We)}));return Fe.map(We=>({original:We,criteria:He.map(qe=>$e(qe,We))})).slice().sort((We,qe)=>{for(let Ke=0;Ke<He.length;Ke++){const Xe=Ce.compareValues(We.criteria[Ke],qe.criteria[Ke],Oe[Ke]);if(Xe!==0)return Xe}return 0}).map(We=>We.original)}Re.orderBy=De})(orderBy)),orderBy}var flatten={},hasRequiredFlatten;function requireFlatten(){return hasRequiredFlatten||(hasRequiredFlatten=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je,Be=1){const De=[],Fe=Math.floor(Be),ke=(Oe,Me)=>{for(let Ue=0;Ue<Oe.length;Ue++){const $e=Oe[Ue];Array.isArray($e)&&Me<Fe?ke($e,Me+1):De.push($e)}};return ke(je,0),De}Re.flatten=Ce})(flatten)),flatten}var isIterateeCall={},hasRequiredIsIterateeCall;function requireIsIterateeCall(){return hasRequiredIsIterateeCall||(hasRequiredIsIterateeCall=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsIndex(),je=requireIsArrayLike(),Be=requireIsObject(),De=requireEq();function Fe(ke,Oe,Me){return Be.isObject(Me)&&(typeof Oe=="number"&&je.isArrayLike(Me)&&Ce.isIndex(Oe)&&Oe<Me.length||typeof Oe=="string"&&Oe in Me)?De.eq(Me[Oe],ke):!1}Re.isIterateeCall=Fe})(isIterateeCall)),isIterateeCall}var hasRequiredSortBy$1;function requireSortBy$1(){return hasRequiredSortBy$1||(hasRequiredSortBy$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireOrderBy(),je=requireFlatten(),Be=requireIsIterateeCall();function De(Fe,...ke){const Oe=ke.length;return Oe>1&&Be.isIterateeCall(Fe,ke[0],ke[1])?ke=[]:Oe>2&&Be.isIterateeCall(ke[0],ke[1],ke[2])&&(ke=[ke[0]]),Ce.orderBy(Fe,je.flatten(ke),["asc"])}Re.sortBy=De})(sortBy$2)),sortBy$2}var sortBy$1,hasRequiredSortBy;function requireSortBy(){return hasRequiredSortBy||(hasRequiredSortBy=1,sortBy$1=requireSortBy$1().sortBy),sortBy$1}var sortByExports=requireSortBy();const sortBy=getDefaultExportFromCjs(sortByExports);var selectLegendSettings=Re=>Re.legend.settings,selectLegendSize=Re=>Re.legend.size,selectAllLegendPayload2DArray=Re=>Re.legend.payload,selectLegendPayload=createSelector([selectAllLegendPayload2DArray,selectLegendSettings],(Re,Ce)=>{var{itemSorter:je}=Ce,Be=Re.flat(1);return je?sortBy(Be,je):Be});function useLegendPayload(){return useAppSelector(selectLegendPayload)}var EPS$1=1;function useElementOffset(){var Re=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[Ce,je]=reactExports.useState({height:0,left:0,top:0,width:0}),Be=reactExports.useCallback(De=>{if(De!=null){var Fe=De.getBoundingClientRect(),ke={height:Fe.height,left:Fe.left,top:Fe.top,width:Fe.width};(Math.abs(ke.height-Ce.height)>EPS$1||Math.abs(ke.left-Ce.left)>EPS$1||Math.abs(ke.top-Ce.top)>EPS$1||Math.abs(ke.width-Ce.width)>EPS$1)&&je({height:ke.height,left:ke.left,top:ke.top,width:ke.width})}},[Ce.width,Ce.height,Ce.top,Ce.left,...Re]);return[Ce,Be]}function formatProdErrorMessage$1(Re){return`Minified Redux error #${Re}; visit https://redux.js.org/Errors?code=${Re} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$6(Re){if(typeof Re!="object"||Re===null)return!1;let Ce=Re;for(;Object.getPrototypeOf(Ce)!==null;)Ce=Object.getPrototypeOf(Ce);return Object.getPrototypeOf(Re)===Ce||Object.getPrototypeOf(Re)===null}function createStore(Re,Ce,je){if(typeof Re!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof Ce=="function"&&typeof je=="function"||typeof je=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof Ce=="function"&&typeof je>"u"&&(je=Ce,Ce=void 0),typeof je<"u"){if(typeof je!="function")throw new Error(formatProdErrorMessage$1(1));return je(createStore)(Re,Ce)}let Be=Re,De=Ce,Fe=new Map,ke=Fe,Oe=0,Me=!1;function Ue(){ke===Fe&&(ke=new Map,Fe.forEach((Xe,Ye)=>{ke.set(Ye,Xe)}))}function $e(){if(Me)throw new Error(formatProdErrorMessage$1(3));return De}function He(Xe){if(typeof Xe!="function")throw new Error(formatProdErrorMessage$1(4));if(Me)throw new Error(formatProdErrorMessage$1(5));let Ye=!0;Ue();const Ze=Oe++;return ke.set(Ze,Xe),function(){if(Ye){if(Me)throw new Error(formatProdErrorMessage$1(6));Ye=!1,Ue(),ke.delete(Ze),Fe=null}}}function Qe(Xe){if(!isPlainObject$6(Xe))throw new Error(formatProdErrorMessage$1(7));if(typeof Xe.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof Xe.type!="string")throw new Error(formatProdErrorMessage$1(17));if(Me)throw new Error(formatProdErrorMessage$1(9));try{Me=!0,De=Be(De,Xe)}finally{Me=!1}return(Fe=ke).forEach(Ze=>{Ze()}),Xe}function We(Xe){if(typeof Xe!="function")throw new Error(formatProdErrorMessage$1(10));Be=Xe,Qe({type:actionTypes_default.REPLACE})}function qe(){const Xe=He;return{subscribe(Ye){if(typeof Ye!="object"||Ye===null)throw new Error(formatProdErrorMessage$1(11));function Ze(){const tr=Ye;tr.next&&tr.next($e())}return Ze(),{unsubscribe:Xe(Ze)}},[symbol_observable_default](){return this}}}return Qe({type:actionTypes_default.INIT}),{dispatch:Qe,subscribe:He,getState:$e,replaceReducer:We,[symbol_observable_default]:qe}}function assertReducerShape(Re){Object.keys(Re).forEach(Ce=>{const je=Re[Ce];if(typeof je(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof je(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(Re){const Ce=Object.keys(Re),je={};for(let Fe=0;Fe<Ce.length;Fe++){const ke=Ce[Fe];typeof Re[ke]=="function"&&(je[ke]=Re[ke])}const Be=Object.keys(je);let De;try{assertReducerShape(je)}catch(Fe){De=Fe}return function(ke={},Oe){if(De)throw De;let Me=!1;const Ue={};for(let $e=0;$e<Be.length;$e++){const He=Be[$e],Qe=je[He],We=ke[He],qe=Qe(We,Oe);if(typeof qe>"u")throw Oe&&Oe.type,new Error(formatProdErrorMessage$1(14));Ue[He]=qe,Me=Me||qe!==We}return Me=Me||Be.length!==Object.keys(ke).length,Me?Ue:ke}}function compose$2(...Re){return Re.length===0?Ce=>Ce:Re.length===1?Re[0]:Re.reduce((Ce,je)=>(...Be)=>Ce(je(...Be)))}function applyMiddleware(...Re){return Ce=>(je,Be)=>{const De=Ce(je,Be);let Fe=()=>{throw new Error(formatProdErrorMessage$1(15))};const ke={getState:De.getState,dispatch:(Me,...Ue)=>Fe(Me,...Ue)},Oe=Re.map(Me=>Me(ke));return Fe=compose$2(...Oe)(De.dispatch),{...De,dispatch:Fe}}}function isAction(Re){return isPlainObject$6(Re)&&"type"in Re&&typeof Re.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(Re,...Ce){throw new Error(`[Immer] minified error nr: ${Re}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(Re){return!!Re&&!!Re[DRAFT_STATE]}function isDraftable(Re){return Re?isPlainObject$5(Re)||Array.isArray(Re)||!!Re[DRAFTABLE]||!!Re.constructor?.[DRAFTABLE]||isMap(Re)||isSet(Re):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$5(Re){if(!Re||typeof Re!="object")return!1;const Ce=getPrototypeOf(Re);if(Ce===null)return!0;const je=Object.hasOwnProperty.call(Ce,"constructor")&&Ce.constructor;return je===Object?!0:typeof je=="function"&&Function.toString.call(je)===objectCtorString}function each(Re,Ce){getArchtype(Re)===0?Reflect.ownKeys(Re).forEach(je=>{Ce(je,Re[je],Re)}):Re.forEach((je,Be)=>Ce(Be,je,Re))}function getArchtype(Re){const Ce=Re[DRAFT_STATE];return Ce?Ce.type_:Array.isArray(Re)?1:isMap(Re)?2:isSet(Re)?3:0}function has(Re,Ce){return getArchtype(Re)===2?Re.has(Ce):Object.prototype.hasOwnProperty.call(Re,Ce)}function set(Re,Ce,je){const Be=getArchtype(Re);Be===2?Re.set(Ce,je):Be===3?Re.add(je):Re[Ce]=je}function is(Re,Ce){return Re===Ce?Re!==0||1/Re===1/Ce:Re!==Re&&Ce!==Ce}function isMap(Re){return Re instanceof Map}function isSet(Re){return Re instanceof Set}function latest(Re){return Re.copy_||Re.base_}function shallowCopy(Re,Ce){if(isMap(Re))return new Map(Re);if(isSet(Re))return new Set(Re);if(Array.isArray(Re))return Array.prototype.slice.call(Re);const je=isPlainObject$5(Re);if(Ce===!0||Ce==="class_only"&&!je){const Be=Object.getOwnPropertyDescriptors(Re);delete Be[DRAFT_STATE];let De=Reflect.ownKeys(Be);for(let Fe=0;Fe<De.length;Fe++){const ke=De[Fe],Oe=Be[ke];Oe.writable===!1&&(Oe.writable=!0,Oe.configurable=!0),(Oe.get||Oe.set)&&(Be[ke]={configurable:!0,writable:!0,enumerable:Oe.enumerable,value:Re[ke]})}return Object.create(getPrototypeOf(Re),Be)}else{const Be=getPrototypeOf(Re);if(Be!==null&&je)return{...Re};const De=Object.create(Be);return Object.assign(De,Re)}}function freeze(Re,Ce=!1){return isFrozen(Re)||isDraft(Re)||!isDraftable(Re)||(getArchtype(Re)>1&&(Re.set=Re.add=Re.clear=Re.delete=dontMutateFrozenCollections),Object.freeze(Re),Ce&&Object.entries(Re).forEach(([je,Be])=>freeze(Be,!0))),Re}function dontMutateFrozenCollections(){die(2)}function isFrozen(Re){return Object.isFrozen(Re)}var plugins={};function getPlugin(Re){const Ce=plugins[Re];return Ce||die(0,Re),Ce}var currentScope;function getCurrentScope(){return currentScope}function createScope(Re,Ce){return{drafts_:[],parent_:Re,immer_:Ce,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(Re,Ce){Ce&&(getPlugin("Patches"),Re.patches_=[],Re.inversePatches_=[],Re.patchListener_=Ce)}function revokeScope(Re){leaveScope(Re),Re.drafts_.forEach(revokeDraft),Re.drafts_=null}function leaveScope(Re){Re===currentScope&&(currentScope=Re.parent_)}function enterScope(Re){return currentScope=createScope(currentScope,Re)}function revokeDraft(Re){const Ce=Re[DRAFT_STATE];Ce.type_===0||Ce.type_===1?Ce.revoke_():Ce.revoked_=!0}function processResult(Re,Ce){Ce.unfinalizedDrafts_=Ce.drafts_.length;const je=Ce.drafts_[0];return Re!==void 0&&Re!==je?(je[DRAFT_STATE].modified_&&(revokeScope(Ce),die(4)),isDraftable(Re)&&(Re=finalize(Ce,Re),Ce.parent_||maybeFreeze(Ce,Re)),Ce.patches_&&getPlugin("Patches").generateReplacementPatches_(je[DRAFT_STATE].base_,Re,Ce.patches_,Ce.inversePatches_)):Re=finalize(Ce,je,[]),revokeScope(Ce),Ce.patches_&&Ce.patchListener_(Ce.patches_,Ce.inversePatches_),Re!==NOTHING?Re:void 0}function finalize(Re,Ce,je){if(isFrozen(Ce))return Ce;const Be=Ce[DRAFT_STATE];if(!Be)return each(Ce,(De,Fe)=>finalizeProperty(Re,Be,Ce,De,Fe,je)),Ce;if(Be.scope_!==Re)return Ce;if(!Be.modified_)return maybeFreeze(Re,Be.base_,!0),Be.base_;if(!Be.finalized_){Be.finalized_=!0,Be.scope_.unfinalizedDrafts_--;const De=Be.copy_;let Fe=De,ke=!1;Be.type_===3&&(Fe=new Set(De),De.clear(),ke=!0),each(Fe,(Oe,Me)=>finalizeProperty(Re,Be,De,Oe,Me,je,ke)),maybeFreeze(Re,De,!1),je&&Re.patches_&&getPlugin("Patches").generatePatches_(Be,je,Re.patches_,Re.inversePatches_)}return Be.copy_}function finalizeProperty(Re,Ce,je,Be,De,Fe,ke){if(isDraft(De)){const Oe=Fe&&Ce&&Ce.type_!==3&&!has(Ce.assigned_,Be)?Fe.concat(Be):void 0,Me=finalize(Re,De,Oe);if(set(je,Be,Me),isDraft(Me))Re.canAutoFreeze_=!1;else return}else ke&&je.add(De);if(isDraftable(De)&&!isFrozen(De)){if(!Re.immer_.autoFreeze_&&Re.unfinalizedDrafts_<1)return;finalize(Re,De),(!Ce||!Ce.scope_.parent_)&&typeof Be!="symbol"&&Object.prototype.propertyIsEnumerable.call(je,Be)&&maybeFreeze(Re,De)}}function maybeFreeze(Re,Ce,je=!1){!Re.parent_&&Re.immer_.autoFreeze_&&Re.canAutoFreeze_&&freeze(Ce,je)}function createProxyProxy(Re,Ce){const je=Array.isArray(Re),Be={type_:je?1:0,scope_:Ce?Ce.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:Ce,base_:Re,draft_:null,copy_:null,revoke_:null,isManual_:!1};let De=Be,Fe=objectTraps;je&&(De=[Be],Fe=arrayTraps);const{revoke:ke,proxy:Oe}=Proxy.revocable(De,Fe);return Be.draft_=Oe,Be.revoke_=ke,Oe}var objectTraps={get(Re,Ce){if(Ce===DRAFT_STATE)return Re;const je=latest(Re);if(!has(je,Ce))return readPropFromProto(Re,je,Ce);const Be=je[Ce];return Re.finalized_||!isDraftable(Be)?Be:Be===peek$1(Re.base_,Ce)?(prepareCopy(Re),Re.copy_[Ce]=createProxy(Be,Re)):Be},has(Re,Ce){return Ce in latest(Re)},ownKeys(Re){return Reflect.ownKeys(latest(Re))},set(Re,Ce,je){const Be=getDescriptorFromProto(latest(Re),Ce);if(Be?.set)return Be.set.call(Re.draft_,je),!0;if(!Re.modified_){const De=peek$1(latest(Re),Ce),Fe=De?.[DRAFT_STATE];if(Fe&&Fe.base_===je)return Re.copy_[Ce]=je,Re.assigned_[Ce]=!1,!0;if(is(je,De)&&(je!==void 0||has(Re.base_,Ce)))return!0;prepareCopy(Re),markChanged(Re)}return Re.copy_[Ce]===je&&(je!==void 0||Ce in Re.copy_)||Number.isNaN(je)&&Number.isNaN(Re.copy_[Ce])||(Re.copy_[Ce]=je,Re.assigned_[Ce]=!0),!0},deleteProperty(Re,Ce){return peek$1(Re.base_,Ce)!==void 0||Ce in Re.base_?(Re.assigned_[Ce]=!1,prepareCopy(Re),markChanged(Re)):delete Re.assigned_[Ce],Re.copy_&&delete Re.copy_[Ce],!0},getOwnPropertyDescriptor(Re,Ce){const je=latest(Re),Be=Reflect.getOwnPropertyDescriptor(je,Ce);return Be&&{writable:!0,configurable:Re.type_!==1||Ce!=="length",enumerable:Be.enumerable,value:je[Ce]}},defineProperty(){die(11)},getPrototypeOf(Re){return getPrototypeOf(Re.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(Re,Ce)=>{arrayTraps[Re]=function(){return arguments[0]=arguments[0][0],Ce.apply(this,arguments)}});arrayTraps.deleteProperty=function(Re,Ce){return arrayTraps.set.call(this,Re,Ce,void 0)};arrayTraps.set=function(Re,Ce,je){return objectTraps.set.call(this,Re[0],Ce,je,Re[0])};function peek$1(Re,Ce){const je=Re[DRAFT_STATE];return(je?latest(je):Re)[Ce]}function readPropFromProto(Re,Ce,je){const Be=getDescriptorFromProto(Ce,je);return Be?"value"in Be?Be.value:Be.get?.call(Re.draft_):void 0}function getDescriptorFromProto(Re,Ce){if(!(Ce in Re))return;let je=getPrototypeOf(Re);for(;je;){const Be=Object.getOwnPropertyDescriptor(je,Ce);if(Be)return Be;je=getPrototypeOf(je)}}function markChanged(Re){Re.modified_||(Re.modified_=!0,Re.parent_&&markChanged(Re.parent_))}function prepareCopy(Re){Re.copy_||(Re.copy_=shallowCopy(Re.base_,Re.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(Re){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(Ce,je,Be)=>{if(typeof Ce=="function"&&typeof je!="function"){const Fe=je;je=Ce;const ke=this;return function(Me=Fe,...Ue){return ke.produce(Me,$e=>je.call(this,$e,...Ue))}}typeof je!="function"&&die(6),Be!==void 0&&typeof Be!="function"&&die(7);let De;if(isDraftable(Ce)){const Fe=enterScope(this),ke=createProxy(Ce,void 0);let Oe=!0;try{De=je(ke),Oe=!1}finally{Oe?revokeScope(Fe):leaveScope(Fe)}return usePatchesInScope(Fe,Be),processResult(De,Fe)}else if(!Ce||typeof Ce!="object"){if(De=je(Ce),De===void 0&&(De=Ce),De===NOTHING&&(De=void 0),this.autoFreeze_&&freeze(De,!0),Be){const Fe=[],ke=[];getPlugin("Patches").generateReplacementPatches_(Ce,De,Fe,ke),Be(Fe,ke)}return De}else die(1,Ce)},this.produceWithPatches=(Ce,je)=>{if(typeof Ce=="function")return(ke,...Oe)=>this.produceWithPatches(ke,Me=>Ce(Me,...Oe));let Be,De;return[this.produce(Ce,je,(ke,Oe)=>{Be=ke,De=Oe}),Be,De]},typeof Re?.autoFreeze=="boolean"&&this.setAutoFreeze(Re.autoFreeze),typeof Re?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(Re.useStrictShallowCopy)}createDraft(Re){isDraftable(Re)||die(8),isDraft(Re)&&(Re=current(Re));const Ce=enterScope(this),je=createProxy(Re,void 0);return je[DRAFT_STATE].isManual_=!0,leaveScope(Ce),je}finishDraft(Re,Ce){const je=Re&&Re[DRAFT_STATE];(!je||!je.isManual_)&&die(9);const{scope_:Be}=je;return usePatchesInScope(Be,Ce),processResult(void 0,Be)}setAutoFreeze(Re){this.autoFreeze_=Re}setUseStrictShallowCopy(Re){this.useStrictShallowCopy_=Re}applyPatches(Re,Ce){let je;for(je=Ce.length-1;je>=0;je--){const De=Ce[je];if(De.path.length===0&&De.op==="replace"){Re=De.value;break}}je>-1&&(Ce=Ce.slice(je+1));const Be=getPlugin("Patches").applyPatches_;return isDraft(Re)?Be(Re,Ce):this.produce(Re,De=>Be(De,Ce))}};function createProxy(Re,Ce){const je=isMap(Re)?getPlugin("MapSet").proxyMap_(Re,Ce):isSet(Re)?getPlugin("MapSet").proxySet_(Re,Ce):createProxyProxy(Re,Ce);return(Ce?Ce.scope_:getCurrentScope()).drafts_.push(je),je}function current(Re){return isDraft(Re)||die(10,Re),currentImpl(Re)}function currentImpl(Re){if(!isDraftable(Re)||isFrozen(Re))return Re;const Ce=Re[DRAFT_STATE];let je;if(Ce){if(!Ce.modified_)return Ce.base_;Ce.finalized_=!0,je=shallowCopy(Re,Ce.scope_.immer_.useStrictShallowCopy_)}else je=shallowCopy(Re,!0);return each(je,(Be,De)=>{set(je,Be,currentImpl(De))}),Ce&&(Ce.finalized_=!1),je}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function castDraft(Re){return Re}function createThunkMiddleware(Re){return({dispatch:je,getState:Be})=>De=>Fe=>typeof Fe=="function"?Fe(je,Be,Re):De(Fe)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$2:compose$2.apply(null,arguments)};function createAction(Re,Ce){function je(...Be){if(Ce){let De=Ce(...Be);if(!De)throw new Error(formatProdErrorMessage(0));return{type:Re,payload:De.payload,..."meta"in De&&{meta:De.meta},..."error"in De&&{error:De.error}}}return{type:Re,payload:Be[0]}}return je.toString=()=>`${Re}`,je.type=Re,je.match=Be=>isAction(Be)&&Be.type===Re,je}var Tuple=class vA extends Array{constructor(...Ce){super(...Ce),Object.setPrototypeOf(this,vA.prototype)}static get[Symbol.species](){return vA}concat(...Ce){return super.concat.apply(this,Ce)}prepend(...Ce){return Ce.length===1&&Array.isArray(Ce[0])?new vA(...Ce[0].concat(this)):new vA(...Ce.concat(this))}};function freezeDraftable(Re){return isDraftable(Re)?produce(Re,()=>{}):Re}function getOrInsertComputed(Re,Ce,je){return Re.has(Ce)?Re.get(Ce):Re.set(Ce,je(Ce)).get(Ce)}function isBoolean(Re){return typeof Re=="boolean"}var buildGetDefaultMiddleware=()=>function(Ce){const{thunk:je=!0,immutableCheck:Be=!0,serializableCheck:De=!0,actionCreatorCheck:Fe=!0}=Ce??{};let ke=new Tuple;return je&&(isBoolean(je)?ke.push(thunk):ke.push(withExtraArgument(je.extraArgument))),ke},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=Re=>Ce=>{setTimeout(Ce,Re)},autoBatchEnhancer=(Re={type:"raf"})=>Ce=>(...je)=>{const Be=Ce(...je);let De=!0,Fe=!1,ke=!1;const Oe=new Set,Me=Re.type==="tick"?queueMicrotask:Re.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10):Re.type==="callback"?Re.queueNotification:createQueueWithTimer(Re.timeout),Ue=()=>{ke=!1,Fe&&(Fe=!1,Oe.forEach($e=>$e()))};return Object.assign({},Be,{subscribe($e){const He=()=>De&&$e(),Qe=Be.subscribe(He);return Oe.add($e),()=>{Qe(),Oe.delete($e)}},dispatch($e){try{return De=!$e?.meta?.[SHOULD_AUTOBATCH],Fe=!De,Fe&&(ke||(ke=!0,Me(Ue))),Be.dispatch($e)}finally{De=!0}}})},buildGetDefaultEnhancers=Re=>function(je){const{autoBatch:Be=!0}=je??{};let De=new Tuple(Re);return Be&&De.push(autoBatchEnhancer(typeof Be=="object"?Be:void 0)),De};function configureStore(Re){const Ce=buildGetDefaultMiddleware(),{reducer:je=void 0,middleware:Be,devTools:De=!0,preloadedState:Fe=void 0,enhancers:ke=void 0}=Re||{};let Oe;if(typeof je=="function")Oe=je;else if(isPlainObject$6(je))Oe=combineReducers(je);else throw new Error(formatProdErrorMessage(1));let Me;typeof Be=="function"?Me=Be(Ce):Me=Ce();let Ue=compose$2;De&&(Ue=composeWithDevTools({trace:!1,...typeof De=="object"&&De}));const $e=applyMiddleware(...Me),He=buildGetDefaultEnhancers($e);let Qe=typeof ke=="function"?ke(He):He();const We=Ue(...Qe);return createStore(Oe,Fe,We)}function executeReducerBuilderCallback(Re){const Ce={},je=[];let Be;const De={addCase(Fe,ke){const Oe=typeof Fe=="string"?Fe:Fe.type;if(!Oe)throw new Error(formatProdErrorMessage(28));if(Oe in Ce)throw new Error(formatProdErrorMessage(29));return Ce[Oe]=ke,De},addMatcher(Fe,ke){return je.push({matcher:Fe,reducer:ke}),De},addDefaultCase(Fe){return Be=Fe,De}};return Re(De),[Ce,je,Be]}function isStateFunction(Re){return typeof Re=="function"}function createReducer(Re,Ce){let[je,Be,De]=executeReducerBuilderCallback(Ce),Fe;if(isStateFunction(Re))Fe=()=>freezeDraftable(Re());else{const Oe=freezeDraftable(Re);Fe=()=>Oe}function ke(Oe=Fe(),Me){let Ue=[je[Me.type],...Be.filter(({matcher:$e})=>$e(Me)).map(({reducer:$e})=>$e)];return Ue.filter($e=>!!$e).length===0&&(Ue=[De]),Ue.reduce(($e,He)=>{if(He)if(isDraft($e)){const We=He($e,Me);return We===void 0?$e:We}else{if(isDraftable($e))return produce($e,Qe=>He(Qe,Me));{const Qe=He($e,Me);if(Qe===void 0){if($e===null)return $e;throw Error("A case reducer on a non-draftable value must not return undefined")}return Qe}}return $e},Oe)}return ke.getInitialState=Fe,ke}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(Re=21)=>{let Ce="",je=Re;for(;je--;)Ce+=urlAlphabet[Math.random()*64|0];return Ce},asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(Re,Ce){return`${Re}/${Ce}`}function buildCreateSlice({creators:Re}={}){const Ce=Re?.asyncThunk?.[asyncThunkSymbol];return function(Be){const{name:De,reducerPath:Fe=De}=Be;if(!De)throw new Error(formatProdErrorMessage(11));const ke=(typeof Be.reducers=="function"?Be.reducers(buildReducerCreators()):Be.reducers)||{},Oe=Object.keys(ke),Me={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},Ue={addCase(Je,tr){const rr=typeof Je=="string"?Je:Je.type;if(!rr)throw new Error(formatProdErrorMessage(12));if(rr in Me.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return Me.sliceCaseReducersByType[rr]=tr,Ue},addMatcher(Je,tr){return Me.sliceMatchers.push({matcher:Je,reducer:tr}),Ue},exposeAction(Je,tr){return Me.actionCreators[Je]=tr,Ue},exposeCaseReducer(Je,tr){return Me.sliceCaseReducersByName[Je]=tr,Ue}};Oe.forEach(Je=>{const tr=ke[Je],rr={reducerName:Je,type:getType(De,Je),createNotation:typeof Be.reducers=="function"};isAsyncThunkSliceReducerDefinition(tr)?handleThunkCaseReducerDefinition(rr,tr,Ue,Ce):handleNormalReducerDefinition(rr,tr,Ue)});function $e(){const[Je={},tr=[],rr=void 0]=typeof Be.extraReducers=="function"?executeReducerBuilderCallback(Be.extraReducers):[Be.extraReducers],ar={...Je,...Me.sliceCaseReducersByType};return createReducer(Be.initialState,ir=>{for(let nr in ar)ir.addCase(nr,ar[nr]);for(let nr of Me.sliceMatchers)ir.addMatcher(nr.matcher,nr.reducer);for(let nr of tr)ir.addMatcher(nr.matcher,nr.reducer);rr&&ir.addDefaultCase(rr)})}const He=Je=>Je,Qe=new Map,We=new WeakMap;let qe;function Ke(Je,tr){return qe||(qe=$e()),qe(Je,tr)}function Xe(){return qe||(qe=$e()),qe.getInitialState()}function Ye(Je,tr=!1){function rr(ir){let nr=ir[Je];return typeof nr>"u"&&tr&&(nr=getOrInsertComputed(We,rr,Xe)),nr}function ar(ir=He){const nr=getOrInsertComputed(Qe,tr,()=>new WeakMap);return getOrInsertComputed(nr,ir,()=>{const cr={};for(const[mr,fr]of Object.entries(Be.selectors??{}))cr[mr]=wrapSelector(fr,ir,()=>getOrInsertComputed(We,ir,Xe),tr);return cr})}return{reducerPath:Je,getSelectors:ar,get selectors(){return ar(rr)},selectSlice:rr}}const Ze={name:De,reducer:Ke,actions:Me.actionCreators,caseReducers:Me.sliceCaseReducersByName,getInitialState:Xe,...Ye(Fe),injectInto(Je,{reducerPath:tr,...rr}={}){const ar=tr??Fe;return Je.inject({reducerPath:ar,reducer:Ke},rr),{...Ze,...Ye(ar,!0)}}};return Ze}}function wrapSelector(Re,Ce,je,Be){function De(Fe,...ke){let Oe=Ce(Fe);return typeof Oe>"u"&&Be&&(Oe=je()),Re(Oe,...ke)}return De.unwrapped=Re,De}var createSlice=buildCreateSlice();function buildReducerCreators(){function Re(Ce,je){return{_reducerDefinitionType:"asyncThunk",payloadCreator:Ce,...je}}return Re.withTypes=()=>Re,{reducer(Ce){return Object.assign({[Ce.name](...je){return Ce(...je)}}[Ce.name],{_reducerDefinitionType:"reducer"})},preparedReducer(Ce,je){return{_reducerDefinitionType:"reducerWithPrepare",prepare:Ce,reducer:je}},asyncThunk:Re}}function handleNormalReducerDefinition({type:Re,reducerName:Ce,createNotation:je},Be,De){let Fe,ke;if("reducer"in Be){if(je&&!isCaseReducerWithPrepareDefinition(Be))throw new Error(formatProdErrorMessage(17));Fe=Be.reducer,ke=Be.prepare}else Fe=Be;De.addCase(Re,Fe).exposeCaseReducer(Ce,Fe).exposeAction(Ce,ke?createAction(Re,ke):createAction(Re))}function isAsyncThunkSliceReducerDefinition(Re){return Re._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(Re){return Re._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:Re,reducerName:Ce},je,Be,De){if(!De)throw new Error(formatProdErrorMessage(18));const{payloadCreator:Fe,fulfilled:ke,pending:Oe,rejected:Me,settled:Ue,options:$e}=je,He=De(Re,Fe,$e);Be.exposeAction(Ce,He),ke&&Be.addCase(He.fulfilled,ke),Oe&&Be.addCase(He.pending,Oe),Me&&Be.addCase(He.rejected,Me),Ue&&Be.addMatcher(He.settled,Ue),Be.exposeCaseReducer(Ce,{fulfilled:ke||noop$7,pending:Oe||noop$7,rejected:Me||noop$7,settled:Ue||noop$7})}function noop$7(){}var task="task",listener="listener",completed="completed",cancelled="cancelled",taskCancelled=`task-${cancelled}`,taskCompleted=`task-${completed}`,listenerCancelled=`${listener}-${cancelled}`,listenerCompleted=`${listener}-${completed}`,TaskAbortError=class{constructor(Re){this.code=Re,this.message=`${task} ${cancelled} (reason: ${Re})`}name="TaskAbortError";message},assertFunction=(Re,Ce)=>{if(typeof Re!="function")throw new TypeError(formatProdErrorMessage(32))},noop2=()=>{},catchRejection=(Re,Ce=noop2)=>(Re.catch(Ce),Re),addAbortSignalListener=(Re,Ce)=>(Re.addEventListener("abort",Ce,{once:!0}),()=>Re.removeEventListener("abort",Ce)),abortControllerWithReason=(Re,Ce)=>{const je=Re.signal;je.aborted||("reason"in je||Object.defineProperty(je,"reason",{enumerable:!0,value:Ce,configurable:!0,writable:!0}),Re.abort(Ce))},validateActive=Re=>{if(Re.aborted){const{reason:Ce}=Re;throw new TaskAbortError(Ce)}};function raceWithSignal(Re,Ce){let je=noop2;return new Promise((Be,De)=>{const Fe=()=>De(new TaskAbortError(Re.reason));if(Re.aborted){Fe();return}je=addAbortSignalListener(Re,Fe),Ce.finally(()=>je()).then(Be,De)}).finally(()=>{je=noop2})}var runTask=async(Re,Ce)=>{try{return await Promise.resolve(),{status:"ok",value:await Re()}}catch(je){return{status:je instanceof TaskAbortError?"cancelled":"rejected",error:je}}finally{Ce?.()}},createPause=Re=>Ce=>catchRejection(raceWithSignal(Re,Ce).then(je=>(validateActive(Re),je))),createDelay=Re=>{const Ce=createPause(Re);return je=>Ce(new Promise(Be=>setTimeout(Be,je)))},{assign:assign$1}=Object,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=(Re,Ce)=>{const je=Be=>addAbortSignalListener(Re,()=>abortControllerWithReason(Be,Re.reason));return(Be,De)=>{assertFunction(Be);const Fe=new AbortController;je(Fe);const ke=runTask(async()=>{validateActive(Re),validateActive(Fe.signal);const Oe=await Be({pause:createPause(Fe.signal),delay:createDelay(Fe.signal),signal:Fe.signal});return validateActive(Fe.signal),Oe},()=>abortControllerWithReason(Fe,taskCompleted));return De?.autoJoin&&Ce.push(ke.catch(noop2)),{result:createPause(Re)(ke),cancel(){abortControllerWithReason(Fe,taskCancelled)}}}},createTakePattern=(Re,Ce)=>{const je=async(Be,De)=>{validateActive(Ce);let Fe=()=>{};const Oe=[new Promise((Me,Ue)=>{let $e=Re({predicate:Be,effect:(He,Qe)=>{Qe.unsubscribe(),Me([He,Qe.getState(),Qe.getOriginalState()])}});Fe=()=>{$e(),Ue()}})];De!=null&&Oe.push(new Promise(Me=>setTimeout(Me,De,null)));try{const Me=await raceWithSignal(Ce,Promise.race(Oe));return validateActive(Ce),Me}finally{Fe()}};return(Be,De)=>catchRejection(je(Be,De))},getListenerEntryPropsFrom=Re=>{let{type:Ce,actionCreator:je,matcher:Be,predicate:De,effect:Fe}=Re;if(Ce)De=createAction(Ce).match;else if(je)Ce=je.type,De=je.match;else if(Be)De=Be;else if(!De)throw new Error(formatProdErrorMessage(21));return assertFunction(Fe),{predicate:De,type:Ce,effect:Fe}},createListenerEntry=assign$1(Re=>{const{type:Ce,predicate:je,effect:Be}=getListenerEntryPropsFrom(Re);return{id:nanoid(),effect:Be,type:Ce,predicate:je,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),findListenerEntry=(Re,Ce)=>{const{type:je,effect:Be,predicate:De}=getListenerEntryPropsFrom(Ce);return Array.from(Re.values()).find(Fe=>(typeof je=="string"?Fe.type===je:Fe.predicate===De)&&Fe.effect===Be)},cancelActiveListeners=Re=>{Re.pending.forEach(Ce=>{abortControllerWithReason(Ce,listenerCancelled)})},createClearListenerMiddleware=Re=>()=>{Re.forEach(cancelActiveListeners),Re.clear()},safelyNotifyError=(Re,Ce,je)=>{try{Re(Ce,je)}catch(Be){setTimeout(()=>{throw Be},0)}},addListener=assign$1(createAction(`${alm}/add`),{withTypes:()=>addListener}),clearAllListeners=createAction(`${alm}/removeAll`),removeListener=assign$1(createAction(`${alm}/remove`),{withTypes:()=>removeListener}),defaultErrorHandler=(...Re)=>{console.error(`${alm}/error`,...Re)},createListenerMiddleware=(Re={})=>{const Ce=new Map,{extra:je,onError:Be=defaultErrorHandler}=Re;assertFunction(Be);const De=$e=>($e.unsubscribe=()=>Ce.delete($e.id),Ce.set($e.id,$e),He=>{$e.unsubscribe(),He?.cancelActive&&cancelActiveListeners($e)}),Fe=$e=>{const He=findListenerEntry(Ce,$e)??createListenerEntry($e);return De(He)};assign$1(Fe,{withTypes:()=>Fe});const ke=$e=>{const He=findListenerEntry(Ce,$e);return He&&(He.unsubscribe(),$e.cancelActive&&cancelActiveListeners(He)),!!He};assign$1(ke,{withTypes:()=>ke});const Oe=async($e,He,Qe,We)=>{const qe=new AbortController,Ke=createTakePattern(Fe,qe.signal),Xe=[];try{$e.pending.add(qe),await Promise.resolve($e.effect(He,assign$1({},Qe,{getOriginalState:We,condition:(Ye,Ze)=>Ke(Ye,Ze).then(Boolean),take:Ke,delay:createDelay(qe.signal),pause:createPause(qe.signal),extra:je,signal:qe.signal,fork:createFork(qe.signal,Xe),unsubscribe:$e.unsubscribe,subscribe:()=>{Ce.set($e.id,$e)},cancelActiveListeners:()=>{$e.pending.forEach((Ye,Ze,Je)=>{Ye!==qe&&(abortControllerWithReason(Ye,listenerCancelled),Je.delete(Ye))})},cancel:()=>{abortControllerWithReason(qe,listenerCancelled),$e.pending.delete(qe)},throwIfCancelled:()=>{validateActive(qe.signal)}})))}catch(Ye){Ye instanceof TaskAbortError||safelyNotifyError(Be,Ye,{raisedBy:"effect"})}finally{await Promise.all(Xe),abortControllerWithReason(qe,listenerCompleted),$e.pending.delete(qe)}},Me=createClearListenerMiddleware(Ce);return{middleware:$e=>He=>Qe=>{if(!isAction(Qe))return He(Qe);if(addListener.match(Qe))return Fe(Qe.payload);if(clearAllListeners.match(Qe)){Me();return}if(removeListener.match(Qe))return ke(Qe.payload);let We=$e.getState();const qe=()=>{if(We===INTERNAL_NIL_TOKEN)throw new Error(formatProdErrorMessage(23));return We};let Ke;try{if(Ke=He(Qe),Ce.size>0){const Xe=$e.getState(),Ye=Array.from(Ce.values());for(const Ze of Ye){let Je=!1;try{Je=Ze.predicate(Qe,Xe,We)}catch(tr){Je=!1,safelyNotifyError(Be,tr,{raisedBy:"predicate"})}Je&&Oe(Ze,Qe,$e,qe)}}}finally{We=INTERNAL_NIL_TOKEN}return Ke},startListening:Fe,stopListening:ke,clearListeners:Me}};function formatProdErrorMessage(Re){return`Minified Redux Toolkit error #${Re}; visit https://redux-toolkit.js.org/Errors?code=${Re} for the full message or use the non-minified dev environment for full errors. `}var initialState$a={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},chartLayoutSlice=createSlice({name:"chartLayout",initialState:initialState$a,reducers:{setLayout(Re,Ce){Re.layoutType=Ce.payload},setChartSize(Re,Ce){Re.width=Ce.payload.width,Re.height=Ce.payload.height},setMargin(Re,Ce){Re.margin.top=Ce.payload.top,Re.margin.right=Ce.payload.right,Re.margin.bottom=Ce.payload.bottom,Re.margin.left=Ce.payload.left},setScale(Re,Ce){Re.scale=Ce.payload}}}),{setMargin,setLayout,setChartSize,setScale}=chartLayoutSlice.actions,chartLayoutReducer=chartLayoutSlice.reducer;function ownKeys$y(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$x(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$y(Object(je),!0).forEach(function(Be){_defineProperty$C(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$y(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$C(Re,Ce,je){return(Ce=_toPropertyKey$B(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$B(Re){var Ce=_toPrimitive$B(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$B(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var RADIAN=Math.PI/180,radianToDegree=Re=>Re*180/Math.PI,polarToCartesian=(Re,Ce,je,Be)=>({x:Re+Math.cos(-RADIAN*Be)*je,y:Ce+Math.sin(-RADIAN*Be)*je}),getMaxRadius=function Re(Ce,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(Ce-(Be.left||0)-(Be.right||0)),Math.abs(je-(Be.top||0)-(Be.bottom||0)))/2},distanceBetweenPoints=(Re,Ce)=>{var{x:je,y:Be}=Re,{x:De,y:Fe}=Ce;return Math.sqrt((je-De)**2+(Be-Fe)**2)},getAngleOfPoint=(Re,Ce)=>{var{x:je,y:Be}=Re,{cx:De,cy:Fe}=Ce,ke=distanceBetweenPoints({x:je,y:Be},{x:De,y:Fe});if(ke<=0)return{radius:ke,angle:0};var Oe=(je-De)/ke,Me=Math.acos(Oe);return Be>Fe&&(Me=2*Math.PI-Me),{radius:ke,angle:radianToDegree(Me),angleInRadian:Me}},formatAngleOfSector=Re=>{var{startAngle:Ce,endAngle:je}=Re,Be=Math.floor(Ce/360),De=Math.floor(je/360),Fe=Math.min(Be,De);return{startAngle:Ce-Fe*360,endAngle:je-Fe*360}},reverseFormatAngleOfSector=(Re,Ce)=>{var{startAngle:je,endAngle:Be}=Ce,De=Math.floor(je/360),Fe=Math.floor(Be/360),ke=Math.min(De,Fe);return Re+ke*360},inRangeOfSector=(Re,Ce)=>{var{x:je,y:Be}=Re,{radius:De,angle:Fe}=getAngleOfPoint({x:je,y:Be},Ce),{innerRadius:ke,outerRadius:Oe}=Ce;if(De<ke||De>Oe||De===0)return null;var{startAngle:Me,endAngle:Ue}=formatAngleOfSector(Ce),$e=Fe,He;if(Me<=Ue){for(;$e>Ue;)$e-=360;for(;$e<Me;)$e+=360;He=$e>=Me&&$e<=Ue}else{for(;$e>Me;)$e-=360;for(;$e<Ue;)$e+=360;He=$e>=Ue&&$e<=Me}return He?_objectSpread$x(_objectSpread$x({},Ce),{},{radius:De,angle:reverseFormatAngleOfSector($e,Ce)}):null};function getSliced(Re,Ce,je){return Array.isArray(Re)&&Re&&Ce+je!==0?Re.slice(Ce,je+1):Re}function ownKeys$x(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$w(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$x(Object(je),!0).forEach(function(Be){_defineProperty$B(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$x(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$B(Re,Ce,je){return(Ce=_toPropertyKey$A(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$A(Re){var Ce=_toPrimitive$A(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$A(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function getValueByDataKey(Re,Ce,je){return isNullish(Re)||isNullish(Ce)?je:isNumOrStr(Ce)?get(Re,Ce,je):typeof Ce=="function"?Ce(Re):je}var calculateActiveTickIndex=(Re,Ce,je,Be,De)=>{var Fe,ke=-1,Oe=(Fe=Ce?.length)!==null&&Fe!==void 0?Fe:0;if(Oe<=1||Re==null)return 0;if(Be==="angleAxis"&&De!=null&&Math.abs(Math.abs(De[1]-De[0])-360)<=1e-6)for(var Me=0;Me<Oe;Me++){var Ue=Me>0?je[Me-1].coordinate:je[Oe-1].coordinate,$e=je[Me].coordinate,He=Me>=Oe-1?je[0].coordinate:je[Me+1].coordinate,Qe=void 0;if(mathSign($e-Ue)!==mathSign(He-$e)){var We=[];if(mathSign(He-$e)===mathSign(De[1]-De[0])){Qe=He;var qe=$e+De[1]-De[0];We[0]=Math.min(qe,(qe+Ue)/2),We[1]=Math.max(qe,(qe+Ue)/2)}else{Qe=Ue;var Ke=He+De[1]-De[0];We[0]=Math.min($e,(Ke+$e)/2),We[1]=Math.max($e,(Ke+$e)/2)}var Xe=[Math.min($e,(Qe+$e)/2),Math.max($e,(Qe+$e)/2)];if(Re>Xe[0]&&Re<=Xe[1]||Re>=We[0]&&Re<=We[1]){({index:ke}=je[Me]);break}}else{var Ye=Math.min(Ue,He),Ze=Math.max(Ue,He);if(Re>(Ye+$e)/2&&Re<=(Ze+$e)/2){({index:ke}=je[Me]);break}}}else if(Ce){for(var Je=0;Je<Oe;Je++)if(Je===0&&Re<=(Ce[Je].coordinate+Ce[Je+1].coordinate)/2||Je>0&&Je<Oe-1&&Re>(Ce[Je].coordinate+Ce[Je-1].coordinate)/2&&Re<=(Ce[Je].coordinate+Ce[Je+1].coordinate)/2||Je===Oe-1&&Re>(Ce[Je].coordinate+Ce[Je-1].coordinate)/2){({index:ke}=Ce[Je]);break}}return ke},appendOffsetOfLegend=(Re,Ce,je)=>{if(Ce&&je){var{width:Be,height:De}=je,{align:Fe,verticalAlign:ke,layout:Oe}=Ce;if((Oe==="vertical"||Oe==="horizontal"&&ke==="middle")&&Fe!=="center"&&isNumber(Re[Fe]))return _objectSpread$w(_objectSpread$w({},Re),{},{[Fe]:Re[Fe]+(Be||0)});if((Oe==="horizontal"||Oe==="vertical"&&Fe==="center")&&ke!=="middle"&&isNumber(Re[ke]))return _objectSpread$w(_objectSpread$w({},Re),{},{[ke]:Re[ke]+(De||0)})}return Re},isCategoricalAxis=(Re,Ce)=>Re==="horizontal"&&Ce==="xAxis"||Re==="vertical"&&Ce==="yAxis"||Re==="centric"&&Ce==="angleAxis"||Re==="radial"&&Ce==="radiusAxis",getCoordinatesOfGrid=(Re,Ce,je,Be)=>{if(Be)return Re.map(Oe=>Oe.coordinate);var De,Fe,ke=Re.map(Oe=>(Oe.coordinate===Ce&&(De=!0),Oe.coordinate===je&&(Fe=!0),Oe.coordinate));return De||ke.push(Ce),Fe||ke.push(je),ke},getTicksOfAxis=(Re,Ce,je)=>{if(!Re)return null;var{duplicateDomain:Be,type:De,range:Fe,scale:ke,realScaleType:Oe,isCategorical:Me,categoricalDomain:Ue,tickCount:$e,ticks:He,niceTicks:Qe,axisType:We}=Re;if(!ke)return null;var qe=Oe==="scaleBand"&&ke.bandwidth?ke.bandwidth()/2:2,Ke=De==="category"&&ke.bandwidth?ke.bandwidth()/qe:0;if(Ke=We==="angleAxis"&&Fe&&Fe.length>=2?mathSign(Fe[0]-Fe[1])*2*Ke:Ke,He||Qe){var Xe=(He||Qe||[]).map((Ye,Ze)=>{var Je=Be?Be.indexOf(Ye):Ye;return{coordinate:ke(Je)+Ke,value:Ye,offset:Ke,index:Ze}});return Xe.filter(Ye=>!isNan(Ye.coordinate))}return Me&&Ue?Ue.map((Ye,Ze)=>({coordinate:ke(Ye)+Ke,value:Ye,index:Ze,offset:Ke})):ke.ticks&&$e!=null?ke.ticks($e).map((Ye,Ze)=>({coordinate:ke(Ye)+Ke,value:Ye,offset:Ke,index:Ze})):ke.domain().map((Ye,Ze)=>({coordinate:ke(Ye)+Ke,value:Be?Be[Ye]:Ye,index:Ze,offset:Ke}))},EPS=1e-4,checkDomainOfScale=Re=>{var Ce=Re.domain();if(!(!Ce||Ce.length<=2)){var je=Ce.length,Be=Re.range(),De=Math.min(Be[0],Be[1])-EPS,Fe=Math.max(Be[0],Be[1])+EPS,ke=Re(Ce[0]),Oe=Re(Ce[je-1]);(ke<De||ke>Fe||Oe<De||Oe>Fe)&&Re.domain([Ce[0],Ce[je-1]])}},truncateByDomain=(Re,Ce)=>{if(!Ce||Ce.length!==2||!isNumber(Ce[0])||!isNumber(Ce[1]))return Re;var je=Math.min(Ce[0],Ce[1]),Be=Math.max(Ce[0],Ce[1]),De=[Re[0],Re[1]];return(!isNumber(Re[0])||Re[0]<je)&&(De[0]=je),(!isNumber(Re[1])||Re[1]>Be)&&(De[1]=Be),De[0]>Be&&(De[0]=Be),De[1]<je&&(De[1]=je),De},offsetSign=Re=>{var Ce=Re.length;if(!(Ce<=0))for(var je=0,Be=Re[0].length;je<Be;++je)for(var De=0,Fe=0,ke=0;ke<Ce;++ke){var Oe=isNan(Re[ke][je][1])?Re[ke][je][0]:Re[ke][je][1];Oe>=0?(Re[ke][je][0]=De,Re[ke][je][1]=De+Oe,De=Re[ke][je][1]):(Re[ke][je][0]=Fe,Re[ke][je][1]=Fe+Oe,Fe=Re[ke][je][1])}},offsetPositive=Re=>{var Ce=Re.length;if(!(Ce<=0))for(var je=0,Be=Re[0].length;je<Be;++je)for(var De=0,Fe=0;Fe<Ce;++Fe){var ke=isNan(Re[Fe][je][1])?Re[Fe][je][0]:Re[Fe][je][1];ke>=0?(Re[Fe][je][0]=De,Re[Fe][je][1]=De+ke,De=Re[Fe][je][1]):(Re[Fe][je][0]=0,Re[Fe][je][1]=0)}},STACK_OFFSET_MAP={sign:offsetSign,expand:stackOffsetExpand,none:stackOffsetNone,silhouette:stackOffsetSilhouette,wiggle:stackOffsetWiggle,positive:offsetPositive},getStackedData=(Re,Ce,je)=>{var Be=STACK_OFFSET_MAP[je],De=shapeStack().keys(Ce).value((Fe,ke)=>+getValueByDataKey(Fe,ke,0)).order(stackOrderNone).offset(Be);return De(Re)};function getNormalizedStackId(Re){return Re==null?void 0:String(Re)}function getCateCoordinateOfLine(Re){var{axis:Ce,ticks:je,bandSize:Be,entry:De,index:Fe,dataKey:ke}=Re;if(Ce.type==="category"){if(!Ce.allowDuplicatedCategory&&Ce.dataKey&&!isNullish(De[Ce.dataKey])){var Oe=findEntryInArray(je,"value",De[Ce.dataKey]);if(Oe)return Oe.coordinate+Be/2}return je[Fe]?je[Fe].coordinate+Be/2:null}var Me=getValueByDataKey(De,isNullish(ke)?Ce.dataKey:ke);return isNullish(Me)?null:Ce.scale(Me)}var getCateCoordinateOfBar=Re=>{var{axis:Ce,ticks:je,offset:Be,bandSize:De,entry:Fe,index:ke}=Re;if(Ce.type==="category")return je[ke]?je[ke].coordinate+Be:null;var Oe=getValueByDataKey(Fe,Ce.dataKey,Ce.scale.domain()[ke]);return isNullish(Oe)?null:Ce.scale(Oe)-De/2+Be},getBaseValueOfBar=Re=>{var{numericAxis:Ce}=Re,je=Ce.scale.domain();if(Ce.type==="number"){var Be=Math.min(je[0],je[1]),De=Math.max(je[0],je[1]);return Be<=0&&De>=0?0:De<0?De:Be}return je[0]},getDomainOfSingle=Re=>{var Ce=Re.flat(2).filter(isNumber);return[Math.min(...Ce),Math.max(...Ce)]},makeDomainFinite=Re=>[Re[0]===1/0?0:Re[0],Re[1]===-1/0?0:Re[1]],getDomainOfStackGroups=(Re,Ce,je)=>{if(Re!=null)return makeDomainFinite(Object.keys(Re).reduce((Be,De)=>{var Fe=Re[De],{stackedData:ke}=Fe,Oe=ke.reduce((Me,Ue)=>{var $e=getSliced(Ue,Ce,je),He=getDomainOfSingle($e);return[Math.min(Me[0],He[0]),Math.max(Me[1],He[1])]},[1/0,-1/0]);return[Math.min(Oe[0],Be[0]),Math.max(Oe[1],Be[1])]},[1/0,-1/0]))},MIN_VALUE_REG=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,MAX_VALUE_REG=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,getBandSizeOfAxis=(Re,Ce,je)=>{if(Re&&Re.scale&&Re.scale.bandwidth){var Be=Re.scale.bandwidth();if(!je||Be>0)return Be}if(Re&&Ce&&Ce.length>=2){for(var De=sortBy(Ce,$e=>$e.coordinate),Fe=1/0,ke=1,Oe=De.length;ke<Oe;ke++){var Me=De[ke],Ue=De[ke-1];Fe=Math.min((Me.coordinate||0)-(Ue.coordinate||0),Fe)}return Fe===1/0?0:Fe}return je?void 0:0};function getTooltipEntry(Re){var{tooltipEntrySettings:Ce,dataKey:je,payload:Be,value:De,name:Fe}=Re;return _objectSpread$w(_objectSpread$w({},Ce),{},{dataKey:je,payload:Be,value:De,name:Fe})}function getTooltipNameProp(Re,Ce){if(Re)return String(Re);if(typeof Ce=="string")return Ce}function inRange(Re,Ce,je,Be,De){if(je==="horizontal"||je==="vertical"){var Fe=Re>=De.left&&Re<=De.left+De.width&&Ce>=De.top&&Ce<=De.top+De.height;return Fe?{x:Re,y:Ce}:null}return Be?inRangeOfSector({x:Re,y:Ce},Be):null}var getActiveCoordinate=(Re,Ce,je,Be)=>{var De=Ce.find(Ue=>Ue&&Ue.index===je);if(De){if(Re==="horizontal")return{x:De.coordinate,y:Be.y};if(Re==="vertical")return{x:Be.x,y:De.coordinate};if(Re==="centric"){var Fe=De.coordinate,{radius:ke}=Be;return _objectSpread$w(_objectSpread$w(_objectSpread$w({},Be),polarToCartesian(Be.cx,Be.cy,ke,Fe)),{},{angle:Fe,radius:ke})}var Oe=De.coordinate,{angle:Me}=Be;return _objectSpread$w(_objectSpread$w(_objectSpread$w({},Be),polarToCartesian(Be.cx,Be.cy,Oe,Me)),{},{angle:Me,radius:Oe})}return{x:0,y:0}},calculateTooltipPos=(Re,Ce)=>Ce==="horizontal"?Re.x:Ce==="vertical"?Re.y:Ce==="centric"?Re.angle:Re.radius,selectChartWidth=Re=>Re.layout.width,selectChartHeight=Re=>Re.layout.height,selectContainerScale=Re=>Re.layout.scale,selectMargin=Re=>Re.layout.margin,selectAllXAxes=createSelector(Re=>Re.cartesianAxis.xAxis,Re=>Object.values(Re)),selectAllYAxes=createSelector(Re=>Re.cartesianAxis.yAxis,Re=>Object.values(Re)),DATA_ITEM_INDEX_ATTRIBUTE_NAME="data-recharts-item-index",DATA_ITEM_DATAKEY_ATTRIBUTE_NAME="data-recharts-item-data-key",DEFAULT_Y_AXIS_WIDTH=60;function ownKeys$w(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$v(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$w(Object(je),!0).forEach(function(Be){_defineProperty$A(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$w(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$A(Re,Ce,je){return(Ce=_toPropertyKey$z(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$z(Re){var Ce=_toPrimitive$z(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$z(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var selectBrushHeight=Re=>Re.brush.height,selectChartOffsetInternal=createSelector([selectChartWidth,selectChartHeight,selectMargin,selectBrushHeight,selectAllXAxes,selectAllYAxes,selectLegendSettings,selectLegendSize],(Re,Ce,je,Be,De,Fe,ke,Oe)=>{var Me=Fe.reduce((qe,Ke)=>{var{orientation:Xe}=Ke;if(!Ke.mirror&&!Ke.hide){var Ye=typeof Ke.width=="number"?Ke.width:DEFAULT_Y_AXIS_WIDTH;return _objectSpread$v(_objectSpread$v({},qe),{},{[Xe]:qe[Xe]+Ye})}return qe},{left:je.left||0,right:je.right||0}),Ue=De.reduce((qe,Ke)=>{var{orientation:Xe}=Ke;return!Ke.mirror&&!Ke.hide?_objectSpread$v(_objectSpread$v({},qe),{},{[Xe]:get(qe,"".concat(Xe))+Ke.height}):qe},{top:je.top||0,bottom:je.bottom||0}),$e=_objectSpread$v(_objectSpread$v({},Ue),Me),He=$e.bottom;$e.bottom+=Be,$e=appendOffsetOfLegend($e,ke,Oe);var Qe=Re-$e.left-$e.right,We=Ce-$e.top-$e.bottom;return _objectSpread$v(_objectSpread$v({brushBottom:He},$e),{},{width:Math.max(Qe,0),height:Math.max(We,0)})}),selectChartViewBox=createSelector(selectChartOffsetInternal,Re=>({x:Re.left,y:Re.top,width:Re.width,height:Re.height})),selectAxisViewBox=createSelector(selectChartWidth,selectChartHeight,(Re,Ce)=>({x:0,y:0,width:Re,height:Ce})),PanoramaContext=reactExports.createContext(null),useIsPanorama=()=>reactExports.useContext(PanoramaContext)!=null,selectBrushSettings=Re=>Re.brush,selectBrushDimensions=createSelector([selectBrushSettings,selectChartOffsetInternal,selectMargin],(Re,Ce,je)=>({height:Re.height,x:isNumber(Re.x)?Re.x:Ce.left,y:isNumber(Re.y)?Re.y:Ce.top+Ce.height+Ce.brushBottom-(je?.bottom||0),width:isNumber(Re.width)?Re.width:Ce.width})),useViewBox=()=>{var Re,Ce=useIsPanorama(),je=useAppSelector(selectChartViewBox),Be=useAppSelector(selectBrushDimensions),De=(Re=useAppSelector(selectBrushSettings))===null||Re===void 0?void 0:Re.padding;return!Ce||!Be||!De?je:{width:Be.width-De.left-De.right,height:Be.height-De.top-De.bottom,x:De.left,y:De.top}},manyComponentsThrowErrorsIfOffsetIsUndefined={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},useOffsetInternal=()=>{var Re;return(Re=useAppSelector(selectChartOffsetInternal))!==null&&Re!==void 0?Re:manyComponentsThrowErrorsIfOffsetIsUndefined},useChartWidth=()=>useAppSelector(selectChartWidth),useChartHeight=()=>useAppSelector(selectChartHeight),manyComponentsThrowErrorsIfMarginIsUndefined={top:0,right:0,bottom:0,left:0},useMargin=()=>{var Re;return(Re=useAppSelector(Ce=>Ce.layout.margin))!==null&&Re!==void 0?Re:manyComponentsThrowErrorsIfMarginIsUndefined},selectChartLayout=Re=>Re.layout.layoutType,useChartLayout=()=>useAppSelector(selectChartLayout),initialState$9={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},legendSlice=createSlice({name:"legend",initialState:initialState$9,reducers:{setLegendSize(Re,Ce){Re.size.width=Ce.payload.width,Re.size.height=Ce.payload.height},setLegendSettings(Re,Ce){Re.settings.align=Ce.payload.align,Re.settings.layout=Ce.payload.layout,Re.settings.verticalAlign=Ce.payload.verticalAlign,Re.settings.itemSorter=Ce.payload.itemSorter},addLegendPayload(Re,Ce){Re.payload.push(Ce.payload)},removeLegendPayload(Re,Ce){var je=current(Re).payload.indexOf(Ce.payload);je>-1&&Re.payload.splice(je,1)}}}),{setLegendSize,setLegendSettings,addLegendPayload,removeLegendPayload}=legendSlice.actions,legendReducer=legendSlice.reducer,_excluded$o=["contextPayload"];function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$n.apply(null,arguments)}function ownKeys$v(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$u(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$v(Object(je),!0).forEach(function(Be){_defineProperty$z(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$v(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$z(Re,Ce,je){return(Ce=_toPropertyKey$y(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$y(Re){var Ce=_toPrimitive$y(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$y(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$j(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$j(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$j(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function defaultUniqBy$1(Re){return Re.value}function LegendContent(Re){var{contextPayload:Ce}=Re,je=_objectWithoutProperties$j(Re,_excluded$o),Be=getUniqPayload(Ce,Re.payloadUniqBy,defaultUniqBy$1),De=_objectSpread$u(_objectSpread$u({},je),{},{payload:Be});return reactExports.isValidElement(Re.content)?reactExports.cloneElement(Re.content,De):typeof Re.content=="function"?reactExports.createElement(Re.content,De):reactExports.createElement(DefaultLegendContent,De)}function getDefaultPosition(Re,Ce,je,Be,De,Fe){var{layout:ke,align:Oe,verticalAlign:Me}=Ce,Ue,$e;return(!Re||(Re.left===void 0||Re.left===null)&&(Re.right===void 0||Re.right===null))&&(Oe==="center"&&ke==="vertical"?Ue={left:((Be||0)-Fe.width)/2}:Ue=Oe==="right"?{right:je&&je.right||0}:{left:je&&je.left||0}),(!Re||(Re.top===void 0||Re.top===null)&&(Re.bottom===void 0||Re.bottom===null))&&(Me==="middle"?$e={top:((De||0)-Fe.height)/2}:$e=Me==="bottom"?{bottom:je&&je.bottom||0}:{top:je&&je.top||0}),_objectSpread$u(_objectSpread$u({},Ue),$e)}function LegendSettingsDispatcher(Re){var Ce=useAppDispatch();return reactExports.useEffect(()=>{Ce(setLegendSettings(Re))},[Ce,Re]),null}function LegendSizeDispatcher(Re){var Ce=useAppDispatch();return reactExports.useEffect(()=>(Ce(setLegendSize(Re)),()=>{Ce(setLegendSize({width:0,height:0}))}),[Ce,Re]),null}function LegendWrapper(Re){var Ce=useLegendPayload(),je=useLegendPortal(),Be=useMargin(),{width:De,height:Fe,wrapperStyle:ke,portal:Oe}=Re,[Me,Ue]=useElementOffset([Ce]),$e=useChartWidth(),He=useChartHeight(),Qe=$e-(Be.left||0)-(Be.right||0),We=Legend.getWidthOrHeight(Re.layout,Fe,De,Qe),qe=Oe?ke:_objectSpread$u(_objectSpread$u({position:"absolute",width:We?.width||De||"auto",height:We?.height||Fe||"auto"},getDefaultPosition(ke,Re,Be,$e,He,Me)),ke),Ke=Oe??je;if(Ke==null)return null;var Xe=reactExports.createElement("div",{className:"recharts-legend-wrapper",style:qe,ref:Ue},reactExports.createElement(LegendSettingsDispatcher,{layout:Re.layout,align:Re.align,verticalAlign:Re.verticalAlign,itemSorter:Re.itemSorter}),reactExports.createElement(LegendSizeDispatcher,{width:Me.width,height:Me.height}),reactExports.createElement(LegendContent,_extends$n({},Re,We,{margin:Be,chartWidth:$e,chartHeight:He,contextPayload:Ce})));return reactDomExports.createPortal(Xe,Ke)}class Legend extends reactExports.PureComponent{static getWidthOrHeight(Ce,je,Be,De){return Ce==="vertical"&&isNumber(je)?{height:je}:Ce==="horizontal"?{width:Be||De}:null}render(){return reactExports.createElement(LegendWrapper,this.props)}}_defineProperty$z(Legend,"displayName","Legend");_defineProperty$z(Legend,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function _extends$m(){return _extends$m=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$m.apply(null,arguments)}function ownKeys$u(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$t(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$u(Object(je),!0).forEach(function(Be){_defineProperty$y(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$u(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$y(Re,Ce,je){return(Ce=_toPropertyKey$x(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$x(Re){var Ce=_toPrimitive$x(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$x(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function defaultFormatter(Re){return Array.isArray(Re)&&isNumOrStr(Re[0])&&isNumOrStr(Re[1])?Re.join(" ~ "):Re}var DefaultTooltipContent=Re=>{var{separator:Ce=" : ",contentStyle:je={},itemStyle:Be={},labelStyle:De={},payload:Fe,formatter:ke,itemSorter:Oe,wrapperClassName:Me,labelClassName:Ue,label:$e,labelFormatter:He,accessibilityLayer:Qe=!1}=Re,We=()=>{if(Fe&&Fe.length){var rr={padding:0,margin:0},ar=(Oe?sortBy(Fe,Oe):Fe).map((ir,nr)=>{if(ir.type==="none")return null;var cr=ir.formatter||ke||defaultFormatter,{value:mr,name:fr}=ir,or=mr,yr=fr;if(cr){var Cr=cr(mr,fr,ir,nr,Fe);if(Array.isArray(Cr))[or,yr]=Cr;else if(Cr!=null)or=Cr;else return null}var jr=_objectSpread$t({display:"block",paddingTop:4,paddingBottom:4,color:ir.color||"#000"},Be);return reactExports.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(nr),style:jr},isNumOrStr(yr)?reactExports.createElement("span",{className:"recharts-tooltip-item-name"},yr):null,isNumOrStr(yr)?reactExports.createElement("span",{className:"recharts-tooltip-item-separator"},Ce):null,reactExports.createElement("span",{className:"recharts-tooltip-item-value"},or),reactExports.createElement("span",{className:"recharts-tooltip-item-unit"},ir.unit||""))});return reactExports.createElement("ul",{className:"recharts-tooltip-item-list",style:rr},ar)}return null},qe=_objectSpread$t({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},je),Ke=_objectSpread$t({margin:0},De),Xe=!isNullish($e),Ye=Xe?$e:"",Ze=clsx("recharts-default-tooltip",Me),Je=clsx("recharts-tooltip-label",Ue);Xe&&He&&Fe!==void 0&&Fe!==null&&(Ye=He($e,Fe));var tr=Qe?{role:"status","aria-live":"assertive"}:{};return reactExports.createElement("div",_extends$m({className:Ze,style:qe},tr),reactExports.createElement("p",{className:Je,style:Ke},reactExports.isValidElement(Ye)?Ye:"".concat(Ye)),We())},CSS_CLASS_PREFIX="recharts-tooltip-wrapper",TOOLTIP_HIDDEN={visibility:"hidden"};function getTooltipCSSClassName(Re){var{coordinate:Ce,translateX:je,translateY:Be}=Re;return clsx(CSS_CLASS_PREFIX,{["".concat(CSS_CLASS_PREFIX,"-right")]:isNumber(je)&&Ce&&isNumber(Ce.x)&&je>=Ce.x,["".concat(CSS_CLASS_PREFIX,"-left")]:isNumber(je)&&Ce&&isNumber(Ce.x)&&je<Ce.x,["".concat(CSS_CLASS_PREFIX,"-bottom")]:isNumber(Be)&&Ce&&isNumber(Ce.y)&&Be>=Ce.y,["".concat(CSS_CLASS_PREFIX,"-top")]:isNumber(Be)&&Ce&&isNumber(Ce.y)&&Be<Ce.y})}function getTooltipTranslateXY(Re){var{allowEscapeViewBox:Ce,coordinate:je,key:Be,offsetTopLeft:De,position:Fe,reverseDirection:ke,tooltipDimension:Oe,viewBox:Me,viewBoxDimension:Ue}=Re;if(Fe&&isNumber(Fe[Be]))return Fe[Be];var $e=je[Be]-Oe-(De>0?De:0),He=je[Be]+De;if(Ce[Be])return ke[Be]?$e:He;var Qe=Me[Be];if(Qe==null)return 0;if(ke[Be]){var We=$e,qe=Qe;return We<qe?Math.max(He,Qe):Math.max($e,Qe)}if(Ue==null)return 0;var Ke=He+Oe,Xe=Qe+Ue;return Ke>Xe?Math.max($e,Qe):Math.max(He,Qe)}function getTransformStyle(Re){var{translateX:Ce,translateY:je,useTranslate3d:Be}=Re;return{transform:Be?"translate3d(".concat(Ce,"px, ").concat(je,"px, 0)"):"translate(".concat(Ce,"px, ").concat(je,"px)")}}function getTooltipTranslate(Re){var{allowEscapeViewBox:Ce,coordinate:je,offsetTopLeft:Be,position:De,reverseDirection:Fe,tooltipBox:ke,useTranslate3d:Oe,viewBox:Me}=Re,Ue,$e,He;return ke.height>0&&ke.width>0&&je?($e=getTooltipTranslateXY({allowEscapeViewBox:Ce,coordinate:je,key:"x",offsetTopLeft:Be,position:De,reverseDirection:Fe,tooltipDimension:ke.width,viewBox:Me,viewBoxDimension:Me.width}),He=getTooltipTranslateXY({allowEscapeViewBox:Ce,coordinate:je,key:"y",offsetTopLeft:Be,position:De,reverseDirection:Fe,tooltipDimension:ke.height,viewBox:Me,viewBoxDimension:Me.height}),Ue=getTransformStyle({translateX:$e,translateY:He,useTranslate3d:Oe})):Ue=TOOLTIP_HIDDEN,{cssProperties:Ue,cssClasses:getTooltipCSSClassName({translateX:$e,translateY:He,coordinate:je})}}function ownKeys$t(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$s(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$t(Object(je),!0).forEach(function(Be){_defineProperty$x(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$t(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$x(Re,Ce,je){return(Ce=_toPropertyKey$w(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$w(Re){var Ce=_toPrimitive$w(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$w(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}class TooltipBoundingBox extends reactExports.PureComponent{constructor(){super(...arguments),_defineProperty$x(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),_defineProperty$x(this,"handleKeyDown",Ce=>{if(Ce.key==="Escape"){var je,Be,De,Fe;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(je=(Be=this.props.coordinate)===null||Be===void 0?void 0:Be.x)!==null&&je!==void 0?je:0,y:(De=(Fe=this.props.coordinate)===null||Fe===void 0?void 0:Fe.y)!==null&&De!==void 0?De:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var Ce,je;this.state.dismissed&&(((Ce=this.props.coordinate)===null||Ce===void 0?void 0:Ce.x)!==this.state.dismissedAtCoordinate.x||((je=this.props.coordinate)===null||je===void 0?void 0:je.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:Ce,allowEscapeViewBox:je,animationDuration:Be,animationEasing:De,children:Fe,coordinate:ke,hasPayload:Oe,isAnimationActive:Me,offset:Ue,position:$e,reverseDirection:He,useTranslate3d:Qe,viewBox:We,wrapperStyle:qe,lastBoundingBox:Ke,innerRef:Xe,hasPortalFromProps:Ye}=this.props,{cssClasses:Ze,cssProperties:Je}=getTooltipTranslate({allowEscapeViewBox:je,coordinate:ke,offsetTopLeft:Ue,position:$e,reverseDirection:He,tooltipBox:{height:Ke.height,width:Ke.width},useTranslate3d:Qe,viewBox:We}),tr=Ye?{}:_objectSpread$s(_objectSpread$s({transition:Me&&Ce?"transform ".concat(Be,"ms ").concat(De):void 0},Je),{},{pointerEvents:"none",visibility:!this.state.dismissed&&Ce&&Oe?"visible":"hidden",position:"absolute",top:0,left:0}),rr=_objectSpread$s(_objectSpread$s({},tr),{},{visibility:!this.state.dismissed&&Ce&&Oe?"visible":"hidden"},qe);return reactExports.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:Ze,style:rr,ref:Xe},Fe)}}var parseIsSsrByDefault=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Global$1={isSsr:parseIsSsrByDefault()},useAccessibilityLayer=()=>useAppSelector(Re=>Re.rootProps.accessibilityLayer);function isWellBehavedNumber(Re){return Number.isFinite(Re)}function isPositiveNumber(Re){return typeof Re=="number"&&Re>0&&Number.isFinite(Re)}function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$l.apply(null,arguments)}function ownKeys$s(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$r(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$s(Object(je),!0).forEach(function(Be){_defineProperty$w(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$s(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$w(Re,Ce,je){return(Ce=_toPropertyKey$v(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$v(Re){var Ce=_toPrimitive$v(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$v(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var CURVE_FACTORIES={curveBasisClosed,curveBasisOpen,curveBasis,curveBumpX:bumpX,curveBumpY:bumpY,curveLinearClosed,curveLinear,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},defined=Re=>isWellBehavedNumber(Re.x)&&isWellBehavedNumber(Re.y),getX=Re=>Re.x,getY=Re=>Re.y,getCurveFactory=(Re,Ce)=>{if(typeof Re=="function")return Re;var je="curve".concat(upperFirst(Re));return(je==="curveMonotone"||je==="curveBump")&&Ce?CURVE_FACTORIES["".concat(je).concat(Ce==="vertical"?"Y":"X")]:CURVE_FACTORIES[je]||curveLinear},getPath$2=Re=>{var{type:Ce="linear",points:je=[],baseLine:Be,layout:De,connectNulls:Fe=!1}=Re,ke=getCurveFactory(Ce,De),Oe=Fe?je.filter(defined):je,Me;if(Array.isArray(Be)){var Ue=Fe?Be.filter(He=>defined(He)):Be,$e=Oe.map((He,Qe)=>_objectSpread$r(_objectSpread$r({},He),{},{base:Ue[Qe]}));return De==="vertical"?Me=shapeArea().y(getY).x1(getX).x0(He=>He.base.x):Me=shapeArea().x(getX).y1(getY).y0(He=>He.base.y),Me.defined(defined).curve(ke),Me($e)}return De==="vertical"&&isNumber(Be)?Me=shapeArea().y(getY).x1(getX).x0(Be):isNumber(Be)?Me=shapeArea().x(getX).y1(getY).y0(Be):Me=shapeLine().x(getX).y(getY),Me.defined(defined).curve(ke),Me(Oe)},Curve=Re=>{var{className:Ce,points:je,path:Be,pathRef:De}=Re;if((!je||!je.length)&&!Be)return null;var Fe=je&&je.length?getPath$2(Re):Be;return reactExports.createElement("path",_extends$l({},svgPropertiesNoEvents(Re),adaptEventHandlers(Re),{className:clsx("recharts-curve",Ce),d:Fe===null?void 0:Fe,ref:De}))},_excluded$n=["x","y","top","left","width","height","className"];function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$k.apply(null,arguments)}function ownKeys$r(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$q(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$r(Object(je),!0).forEach(function(Be){_defineProperty$v(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$r(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$v(Re,Ce,je){return(Ce=_toPropertyKey$u(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$u(Re){var Ce=_toPrimitive$u(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$u(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$i(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$i(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$i(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var getPath$1=(Re,Ce,je,Be,De,Fe)=>"M".concat(Re,",").concat(De,"v").concat(Be,"M").concat(Fe,",").concat(Ce,"h").concat(je),Cross=Re=>{var{x:Ce=0,y:je=0,top:Be=0,left:De=0,width:Fe=0,height:ke=0,className:Oe}=Re,Me=_objectWithoutProperties$i(Re,_excluded$n),Ue=_objectSpread$q({x:Ce,y:je,top:Be,left:De,width:Fe,height:ke},Me);return!isNumber(Ce)||!isNumber(je)||!isNumber(Fe)||!isNumber(ke)||!isNumber(Be)||!isNumber(De)?null:reactExports.createElement("path",_extends$k({},filterProps(Ue,!0),{className:clsx("recharts-cross",Oe),d:getPath$1(Ce,je,Fe,ke,Be,De)}))};function getCursorRectangle(Re,Ce,je,Be){var De=Be/2;return{stroke:"none",fill:"#ccc",x:Re==="horizontal"?Ce.x-De:je.left+.5,y:Re==="horizontal"?je.top+.5:Ce.y-De,width:Re==="horizontal"?Be:je.width-1,height:Re==="horizontal"?je.height-1:Be}}function ownKeys$q(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$p(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$q(Object(je),!0).forEach(function(Be){_defineProperty$u(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$q(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$u(Re,Ce,je){return(Ce=_toPropertyKey$t(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$t(Re){var Ce=_toPrimitive$t(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$t(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function resolveDefaultProps(Re,Ce){var je=_objectSpread$p({},Re),Be=Ce,De=Object.keys(Ce),Fe=De.reduce((ke,Oe)=>(ke[Oe]===void 0&&Be[Oe]!==void 0&&(ke[Oe]=Be[Oe]),ke),je);return Fe}var isEqual$3={},isEqualWith={},isPlainObject$4={},hasRequiredIsPlainObject$2;function requireIsPlainObject$2(){return hasRequiredIsPlainObject$2||(hasRequiredIsPlainObject$2=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){if(!je||typeof je!="object")return!1;const Be=Object.getPrototypeOf(je);return Be===null||Be===Object.prototype||Object.getPrototypeOf(Be)===null?Object.prototype.toString.call(je)==="[object Object]":!1}Re.isPlainObject=Ce})(isPlainObject$4)),isPlainObject$4}var hasRequiredIsEqualWith;function requireIsEqualWith(){return hasRequiredIsEqualWith||(hasRequiredIsEqualWith=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsPlainObject$2(),je=requireGetSymbols(),Be=requireGetTag(),De=requireTags(),Fe=requireEq();function ke(Ue,$e,He){return Oe(Ue,$e,void 0,void 0,void 0,void 0,He)}function Oe(Ue,$e,He,Qe,We,qe,Ke){const Xe=Ke(Ue,$e,He,Qe,We,qe);if(Xe!==void 0)return Xe;if(typeof Ue==typeof $e)switch(typeof Ue){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return Ue===$e;case"number":return Ue===$e||Object.is(Ue,$e);case"function":return Ue===$e;case"object":return Me(Ue,$e,qe,Ke)}return Me(Ue,$e,qe,Ke)}function Me(Ue,$e,He,Qe){if(Object.is(Ue,$e))return!0;let We=Be.getTag(Ue),qe=Be.getTag($e);if(We===De.argumentsTag&&(We=De.objectTag),qe===De.argumentsTag&&(qe=De.objectTag),We!==qe)return!1;switch(We){case De.stringTag:return Ue.toString()===$e.toString();case De.numberTag:{const Ye=Ue.valueOf(),Ze=$e.valueOf();return Fe.eq(Ye,Ze)}case De.booleanTag:case De.dateTag:case De.symbolTag:return Object.is(Ue.valueOf(),$e.valueOf());case De.regexpTag:return Ue.source===$e.source&&Ue.flags===$e.flags;case De.functionTag:return Ue===$e}He=He??new Map;const Ke=He.get(Ue),Xe=He.get($e);if(Ke!=null&&Xe!=null)return Ke===$e;He.set(Ue,$e),He.set($e,Ue);try{switch(We){case De.mapTag:{if(Ue.size!==$e.size)return!1;for(const[Ye,Ze]of Ue.entries())if(!$e.has(Ye)||!Oe(Ze,$e.get(Ye),Ye,Ue,$e,He,Qe))return!1;return!0}case De.setTag:{if(Ue.size!==$e.size)return!1;const Ye=Array.from(Ue.values()),Ze=Array.from($e.values());for(let Je=0;Je<Ye.length;Je++){const tr=Ye[Je],rr=Ze.findIndex(ar=>Oe(tr,ar,void 0,Ue,$e,He,Qe));if(rr===-1)return!1;Ze.splice(rr,1)}return!0}case De.arrayTag:case De.uint8ArrayTag:case De.uint8ClampedArrayTag:case De.uint16ArrayTag:case De.uint32ArrayTag:case De.bigUint64ArrayTag:case De.int8ArrayTag:case De.int16ArrayTag:case De.int32ArrayTag:case De.bigInt64ArrayTag:case De.float32ArrayTag:case De.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(Ue)!==Buffer.isBuffer($e)||Ue.length!==$e.length)return!1;for(let Ye=0;Ye<Ue.length;Ye++)if(!Oe(Ue[Ye],$e[Ye],Ye,Ue,$e,He,Qe))return!1;return!0}case De.arrayBufferTag:return Ue.byteLength!==$e.byteLength?!1:Me(new Uint8Array(Ue),new Uint8Array($e),He,Qe);case De.dataViewTag:return Ue.byteLength!==$e.byteLength||Ue.byteOffset!==$e.byteOffset?!1:Me(new Uint8Array(Ue),new Uint8Array($e),He,Qe);case De.errorTag:return Ue.name===$e.name&&Ue.message===$e.message;case De.objectTag:{if(!(Me(Ue.constructor,$e.constructor,He,Qe)||Ce.isPlainObject(Ue)&&Ce.isPlainObject($e)))return!1;const Ze=[...Object.keys(Ue),...je.getSymbols(Ue)],Je=[...Object.keys($e),...je.getSymbols($e)];if(Ze.length!==Je.length)return!1;for(let tr=0;tr<Ze.length;tr++){const rr=Ze[tr],ar=Ue[rr];if(!Object.hasOwn($e,rr))return!1;const ir=$e[rr];if(!Oe(ar,ir,rr,Ue,$e,He,Qe))return!1}return!0}default:return!1}}finally{He.delete(Ue),He.delete($e)}}Re.isEqualWith=ke})(isEqualWith)),isEqualWith}var noop$6={},hasRequiredNoop;function requireNoop(){return hasRequiredNoop||(hasRequiredNoop=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(){}Re.noop=Ce})(noop$6)),noop$6}var hasRequiredIsEqual$1;function requireIsEqual$1(){return hasRequiredIsEqual$1||(hasRequiredIsEqual$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsEqualWith(),je=requireNoop();function Be(De,Fe){return Ce.isEqualWith(De,Fe,je.noop)}Re.isEqual=Be})(isEqual$3)),isEqual$3}var isEqual$2,hasRequiredIsEqual;function requireIsEqual(){return hasRequiredIsEqual||(hasRequiredIsEqual=1,isEqual$2=requireIsEqual$1().isEqual),isEqual$2}var isEqualExports=requireIsEqual();const isEqual$1=getDefaultExportFromCjs(isEqualExports);var ACCURACY=1e-4,cubicBezierFactor=(Re,Ce)=>[0,3*Re,3*Ce-6*Re,3*Re-3*Ce+1],evaluatePolynomial=(Re,Ce)=>Re.map((je,Be)=>je*Ce**Be).reduce((je,Be)=>je+Be),cubicBezier=(Re,Ce)=>je=>{var Be=cubicBezierFactor(Re,Ce);return evaluatePolynomial(Be,je)},derivativeCubicBezier=(Re,Ce)=>je=>{var Be=cubicBezierFactor(Re,Ce),De=[...Be.map((Fe,ke)=>Fe*ke).slice(1),0];return evaluatePolynomial(De,je)},configBezier=function Re(){for(var Ce,je,Be,De,Fe=arguments.length,ke=new Array(Fe),Oe=0;Oe<Fe;Oe++)ke[Oe]=arguments[Oe];if(ke.length===1)switch(ke[0]){case"linear":[Ce,Be,je,De]=[0,0,1,1];break;case"ease":[Ce,Be,je,De]=[.25,.1,.25,1];break;case"ease-in":[Ce,Be,je,De]=[.42,0,1,1];break;case"ease-out":[Ce,Be,je,De]=[.42,0,.58,1];break;case"ease-in-out":[Ce,Be,je,De]=[0,0,.58,1];break;default:{var Me=ke[0].split("(");Me[0]==="cubic-bezier"&&Me[1].split(")")[0].split(",").length===4&&([Ce,Be,je,De]=Me[1].split(")")[0].split(",").map(qe=>parseFloat(qe)))}}else ke.length===4&&([Ce,Be,je,De]=ke);var Ue=cubicBezier(Ce,je),$e=cubicBezier(Be,De),He=derivativeCubicBezier(Ce,je),Qe=qe=>qe>1?1:qe<0?0:qe,We=qe=>{for(var Ke=qe>1?1:qe,Xe=Ke,Ye=0;Ye<8;++Ye){var Ze=Ue(Xe)-Ke,Je=He(Xe);if(Math.abs(Ze-Ke)<ACCURACY||Je<ACCURACY)return $e(Xe);Xe=Qe(Xe-Ze/Je)}return $e(Xe)};return We.isStepper=!1,We},configSpring=function Re(){var Ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:je=100,damping:Be=8,dt:De=17}=Ce,Fe=(ke,Oe,Me)=>{var Ue=-(ke-Oe)*je,$e=Me*Be,He=Me+(Ue-$e)*De/1e3,Qe=Me*De/1e3+ke;return Math.abs(Qe-Oe)<ACCURACY&&Math.abs(He)<ACCURACY?[Oe,0]:[Qe,He]};return Fe.isStepper=!0,Fe.dt=De,Fe},configEasing=Re=>{if(typeof Re=="string")switch(Re){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return configBezier(Re);case"spring":return configSpring();default:if(Re.split("(")[0]==="cubic-bezier")return configBezier(Re)}return typeof Re=="function"?Re:null};function ownKeys$p(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$o(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$p(Object(je),!0).forEach(function(Be){_defineProperty$t(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$p(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$t(Re,Ce,je){return(Ce=_toPropertyKey$s(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$s(Re){var Ce=_toPrimitive$s(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$s(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var getDashCase=Re=>Re.replace(/([A-Z])/g,Ce=>"-".concat(Ce.toLowerCase())),getTransitionVal=(Re,Ce,je)=>Re.map(Be=>"".concat(getDashCase(Be)," ").concat(Ce,"ms ").concat(je)).join(","),getIntersectionKeys=(Re,Ce)=>[Object.keys(Re),Object.keys(Ce)].reduce((je,Be)=>je.filter(De=>Be.includes(De))),mapObject=(Re,Ce)=>Object.keys(Ce).reduce((je,Be)=>_objectSpread$o(_objectSpread$o({},je),{},{[Be]:Re(Be,Ce[Be])}),{});function ownKeys$o(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$n(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$o(Object(je),!0).forEach(function(Be){_defineProperty$s(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$o(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$s(Re,Ce,je){return(Ce=_toPropertyKey$r(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$r(Re){var Ce=_toPrimitive$r(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$r(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var alpha$1=(Re,Ce,je)=>Re+(Ce-Re)*je,needContinue=Re=>{var{from:Ce,to:je}=Re;return Ce!==je},calStepperVals=(Re,Ce,je)=>{var Be=mapObject((De,Fe)=>{if(needContinue(Fe)){var[ke,Oe]=Re(Fe.from,Fe.to,Fe.velocity);return _objectSpread$n(_objectSpread$n({},Fe),{},{from:ke,velocity:Oe})}return Fe},Ce);return je<1?mapObject((De,Fe)=>needContinue(Fe)?_objectSpread$n(_objectSpread$n({},Fe),{},{velocity:alpha$1(Fe.velocity,Be[De].velocity,je),from:alpha$1(Fe.from,Be[De].from,je)}):Fe,Ce):calStepperVals(Re,Be,je-1)};function createStepperUpdate(Re,Ce,je,Be,De,Fe){var ke,Oe=Be.reduce((Qe,We)=>_objectSpread$n(_objectSpread$n({},Qe),{},{[We]:{from:Re[We],velocity:0,to:Ce[We]}}),{}),Me=()=>mapObject((Qe,We)=>We.from,Oe),Ue=()=>!Object.values(Oe).filter(needContinue).length,$e=null,He=Qe=>{ke||(ke=Qe);var We=Qe-ke,qe=We/je.dt;Oe=calStepperVals(je,Oe,qe),De(_objectSpread$n(_objectSpread$n(_objectSpread$n({},Re),Ce),Me())),ke=Qe,Ue()||($e=Fe.setTimeout(He))};return()=>($e=Fe.setTimeout(He),()=>{$e()})}function createTimingUpdate(Re,Ce,je,Be,De,Fe,ke){var Oe=null,Me=De.reduce((He,Qe)=>_objectSpread$n(_objectSpread$n({},He),{},{[Qe]:[Re[Qe],Ce[Qe]]}),{}),Ue,$e=He=>{Ue||(Ue=He);var Qe=(He-Ue)/Be,We=mapObject((Ke,Xe)=>alpha$1(...Xe,je(Qe)),Me);if(Fe(_objectSpread$n(_objectSpread$n(_objectSpread$n({},Re),Ce),We)),Qe<1)Oe=ke.setTimeout($e);else{var qe=mapObject((Ke,Xe)=>alpha$1(...Xe,je(1)),Me);Fe(_objectSpread$n(_objectSpread$n(_objectSpread$n({},Re),Ce),qe))}};return()=>(Oe=ke.setTimeout($e),()=>{Oe()})}const configUpdate=(Re,Ce,je,Be,De,Fe)=>{var ke=getIntersectionKeys(Re,Ce);return je.isStepper===!0?createStepperUpdate(Re,Ce,je,ke,De,Fe):createTimingUpdate(Re,Ce,je,Be,ke,De,Fe)};function createAnimateManager(Re){var Ce,je=()=>null,Be=!1,De=null,Fe=ke=>{if(!Be){if(Array.isArray(ke)){if(!ke.length)return;var Oe=ke,[Me,...Ue]=Oe;if(typeof Me=="number"){De=Re.setTimeout(Fe.bind(null,Ue),Me);return}Fe(Me),De=Re.setTimeout(Fe.bind(null,Ue));return}typeof ke=="string"&&(Ce=ke,je(Ce)),typeof ke=="object"&&(Ce=ke,je(Ce)),typeof ke=="function"&&ke()}};return{stop:()=>{Be=!0},start:ke=>{Be=!1,De&&(De(),De=null),Fe(ke)},subscribe:ke=>(je=ke,()=>{je=()=>null}),getTimeoutController:()=>Re}}class RequestAnimationFrameTimeoutController{setTimeout(Ce){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Be=performance.now(),De=null,Fe=ke=>{ke-Be>=je?Ce(ke):typeof requestAnimationFrame=="function"&&(De=requestAnimationFrame(Fe))};return De=requestAnimationFrame(Fe),()=>{cancelAnimationFrame(De)}}}function createDefaultAnimationManager(){return createAnimateManager(new RequestAnimationFrameTimeoutController)}var AnimationManagerContext=reactExports.createContext(createDefaultAnimationManager);function useAnimationManager(Re,Ce){var je=reactExports.useContext(AnimationManagerContext);return reactExports.useMemo(()=>Ce??je(Re),[Re,Ce,je])}var _excluded$m=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$j.apply(null,arguments)}function _objectWithoutProperties$h(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$h(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$h(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function ownKeys$n(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$m(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$n(Object(je),!0).forEach(function(Be){_defineProperty$r(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$n(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$r(Re,Ce,je){return(Ce=_toPropertyKey$q(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$q(Re){var Ce=_toPrimitive$q(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$q(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}class AnimateImpl extends reactExports.PureComponent{constructor(Ce,je){super(Ce,je),_defineProperty$r(this,"mounted",!1),_defineProperty$r(this,"manager",void 0),_defineProperty$r(this,"stopJSAnimation",null),_defineProperty$r(this,"unSubscribe",null);var{isActive:Be,attributeName:De,from:Fe,to:ke,children:Oe,duration:Me,animationManager:Ue}=this.props;if(this.manager=Ue,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!Be||Me<=0){this.state={style:{}},typeof Oe=="function"&&(this.state={style:ke});return}if(Fe){if(typeof Oe=="function"){this.state={style:Fe};return}this.state={style:De?{[De]:Fe}:Fe}}else this.state={style:{}}}componentDidMount(){var{isActive:Ce,canBegin:je}=this.props;this.mounted=!0,!(!Ce||!je)&&this.runAnimation(this.props)}componentDidUpdate(Ce){var{isActive:je,canBegin:Be,attributeName:De,shouldReAnimate:Fe,to:ke,from:Oe}=this.props,{style:Me}=this.state;if(Be){if(!je){var Ue={style:De?{[De]:ke}:ke};this.state&&Me&&(De&&Me[De]!==ke||!De&&Me!==ke)&&this.setState(Ue);return}if(!(isEqual$1(Ce.to,ke)&&Ce.canBegin&&Ce.isActive)){var $e=!Ce.canBegin||!Ce.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var He=$e||Fe?Oe:Ce.to;if(this.state&&Me){var Qe={style:De?{[De]:He}:He};(De&&Me[De]!==He||!De&&Me!==He)&&this.setState(Qe)}this.runAnimation(_objectSpread$m(_objectSpread$m({},this.props),{},{from:He,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:Ce}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),Ce&&Ce()}handleStyleChange(Ce){this.changeStyle(Ce)}changeStyle(Ce){this.mounted&&this.setState({style:Ce})}runJSAnimation(Ce){var{from:je,to:Be,duration:De,easing:Fe,begin:ke,onAnimationEnd:Oe,onAnimationStart:Me}=Ce,Ue=configUpdate(je,Be,configEasing(Fe),De,this.changeStyle,this.manager.getTimeoutController()),$e=()=>{this.stopJSAnimation=Ue()};this.manager.start([Me,ke,$e,De,Oe])}runAnimation(Ce){var{begin:je,duration:Be,attributeName:De,to:Fe,easing:ke,onAnimationStart:Oe,onAnimationEnd:Me,children:Ue}=Ce;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof ke=="function"||typeof Ue=="function"||ke==="spring"){this.runJSAnimation(Ce);return}var $e=De?{[De]:Fe}:Fe,He=getTransitionVal(Object.keys($e),Be,ke);this.manager.start([Oe,je,_objectSpread$m(_objectSpread$m({},$e),{},{transition:He}),Be,Me])}render(){var Ce=this.props,{children:je,begin:Be,duration:De,attributeName:Fe,easing:ke,isActive:Oe,from:Me,to:Ue,canBegin:$e,onAnimationEnd:He,shouldReAnimate:Qe,onAnimationReStart:We,animationManager:qe}=Ce,Ke=_objectWithoutProperties$h(Ce,_excluded$m),Xe=reactExports.Children.count(je),Ye=this.state.style;if(typeof je=="function")return je(Ye);if(!Oe||Xe===0||De<=0)return je;var Ze=Je=>{var{style:tr={},className:rr}=Je.props,ar=reactExports.cloneElement(Je,_objectSpread$m(_objectSpread$m({},Ke),{},{style:_objectSpread$m(_objectSpread$m({},tr),Ye),className:rr}));return ar};return Xe===1?Ze(reactExports.Children.only(je)):reactExports.createElement("div",null,reactExports.Children.map(je,Je=>Ze(Je)))}}_defineProperty$r(AnimateImpl,"displayName","Animate");_defineProperty$r(AnimateImpl,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Animate(Re){var Ce,je=useAnimationManager((Ce=Re.attributeName)!==null&&Ce!==void 0?Ce:Object.keys(Re.to).join(","),Re.animationManager);return reactExports.createElement(AnimateImpl,_extends$j({},Re,{animationManager:je}))}function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$i.apply(null,arguments)}var getRectanglePath=(Re,Ce,je,Be,De)=>{var Fe=Math.min(Math.abs(je)/2,Math.abs(Be)/2),ke=Be>=0?1:-1,Oe=je>=0?1:-1,Me=Be>=0&&je>=0||Be<0&&je<0?1:0,Ue;if(Fe>0&&De instanceof Array){for(var $e=[0,0,0,0],He=0,Qe=4;He<Qe;He++)$e[He]=De[He]>Fe?Fe:De[He];Ue="M".concat(Re,",").concat(Ce+ke*$e[0]),$e[0]>0&&(Ue+="A ".concat($e[0],",").concat($e[0],",0,0,").concat(Me,",").concat(Re+Oe*$e[0],",").concat(Ce)),Ue+="L ".concat(Re+je-Oe*$e[1],",").concat(Ce),$e[1]>0&&(Ue+="A ".concat($e[1],",").concat($e[1],",0,0,").concat(Me,`,
        `).concat(Re+je,",").concat(Ce+ke*$e[1])),Ue+="L ".concat(Re+je,",").concat(Ce+Be-ke*$e[2]),$e[2]>0&&(Ue+="A ".concat($e[2],",").concat($e[2],",0,0,").concat(Me,`,
        `).concat(Re+je-Oe*$e[2],",").concat(Ce+Be)),Ue+="L ".concat(Re+Oe*$e[3],",").concat(Ce+Be),$e[3]>0&&(Ue+="A ".concat($e[3],",").concat($e[3],",0,0,").concat(Me,`,
        `).concat(Re,",").concat(Ce+Be-ke*$e[3])),Ue+="Z"}else if(Fe>0&&De===+De&&De>0){var We=Math.min(Fe,De);Ue="M ".concat(Re,",").concat(Ce+ke*We,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Re+Oe*We,",").concat(Ce,`
            L `).concat(Re+je-Oe*We,",").concat(Ce,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Re+je,",").concat(Ce+ke*We,`
            L `).concat(Re+je,",").concat(Ce+Be-ke*We,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Re+je-Oe*We,",").concat(Ce+Be,`
            L `).concat(Re+Oe*We,",").concat(Ce+Be,`
            A `).concat(We,",").concat(We,",0,0,").concat(Me,",").concat(Re,",").concat(Ce+Be-ke*We," Z")}else Ue="M ".concat(Re,",").concat(Ce," h ").concat(je," v ").concat(Be," h ").concat(-je," Z");return Ue},defaultProps$6={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rectangle=Re=>{var Ce=resolveDefaultProps(Re,defaultProps$6),je=reactExports.useRef(null),[Be,De]=reactExports.useState(-1);reactExports.useEffect(()=>{if(je.current&&je.current.getTotalLength)try{var Ye=je.current.getTotalLength();Ye&&De(Ye)}catch{}},[]);var{x:Fe,y:ke,width:Oe,height:Me,radius:Ue,className:$e}=Ce,{animationEasing:He,animationDuration:Qe,animationBegin:We,isAnimationActive:qe,isUpdateAnimationActive:Ke}=Ce;if(Fe!==+Fe||ke!==+ke||Oe!==+Oe||Me!==+Me||Oe===0||Me===0)return null;var Xe=clsx("recharts-rectangle",$e);return Ke?reactExports.createElement(Animate,{canBegin:Be>0,from:{width:Oe,height:Me,x:Fe,y:ke},to:{width:Oe,height:Me,x:Fe,y:ke},duration:Qe,animationEasing:He,isActive:Ke},Ye=>{var{width:Ze,height:Je,x:tr,y:rr}=Ye;return reactExports.createElement(Animate,{canBegin:Be>0,from:"0px ".concat(Be===-1?1:Be,"px"),to:"".concat(Be,"px 0px"),attributeName:"strokeDasharray",begin:We,duration:Qe,isActive:qe,easing:He},reactExports.createElement("path",_extends$i({},filterProps(Ce,!0),{className:Xe,d:getRectanglePath(tr,rr,Ze,Je,Ue),ref:je})))}):reactExports.createElement("path",_extends$i({},filterProps(Ce,!0),{className:Xe,d:getRectanglePath(Fe,ke,Oe,Me,Ue)}))};function getRadialCursorPoints(Re){var{cx:Ce,cy:je,radius:Be,startAngle:De,endAngle:Fe}=Re,ke=polarToCartesian(Ce,je,Be,De),Oe=polarToCartesian(Ce,je,Be,Fe);return{points:[ke,Oe],cx:Ce,cy:je,radius:Be,startAngle:De,endAngle:Fe}}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$h.apply(null,arguments)}var getDeltaAngle$1=(Re,Ce)=>{var je=mathSign(Ce-Re),Be=Math.min(Math.abs(Ce-Re),359.999);return je*Be},getTangentCircle=Re=>{var{cx:Ce,cy:je,radius:Be,angle:De,sign:Fe,isExternal:ke,cornerRadius:Oe,cornerIsExternal:Me}=Re,Ue=Oe*(ke?1:-1)+Be,$e=Math.asin(Oe/Ue)/RADIAN,He=Me?De:De+Fe*$e,Qe=polarToCartesian(Ce,je,Ue,He),We=polarToCartesian(Ce,je,Be,He),qe=Me?De-Fe*$e:De,Ke=polarToCartesian(Ce,je,Ue*Math.cos($e*RADIAN),qe);return{center:Qe,circleTangency:We,lineTangency:Ke,theta:$e}},getSectorPath=Re=>{var{cx:Ce,cy:je,innerRadius:Be,outerRadius:De,startAngle:Fe,endAngle:ke}=Re,Oe=getDeltaAngle$1(Fe,ke),Me=Fe+Oe,Ue=polarToCartesian(Ce,je,De,Fe),$e=polarToCartesian(Ce,je,De,Me),He="M ".concat(Ue.x,",").concat(Ue.y,`
    A `).concat(De,",").concat(De,`,0,
    `).concat(+(Math.abs(Oe)>180),",").concat(+(Fe>Me),`,
    `).concat($e.x,",").concat($e.y,`
  `);if(Be>0){var Qe=polarToCartesian(Ce,je,Be,Fe),We=polarToCartesian(Ce,je,Be,Me);He+="L ".concat(We.x,",").concat(We.y,`
            A `).concat(Be,",").concat(Be,`,0,
            `).concat(+(Math.abs(Oe)>180),",").concat(+(Fe<=Me),`,
            `).concat(Qe.x,",").concat(Qe.y," Z")}else He+="L ".concat(Ce,",").concat(je," Z");return He},getSectorWithCorner=Re=>{var{cx:Ce,cy:je,innerRadius:Be,outerRadius:De,cornerRadius:Fe,forceCornerRadius:ke,cornerIsExternal:Oe,startAngle:Me,endAngle:Ue}=Re,$e=mathSign(Ue-Me),{circleTangency:He,lineTangency:Qe,theta:We}=getTangentCircle({cx:Ce,cy:je,radius:De,angle:Me,sign:$e,cornerRadius:Fe,cornerIsExternal:Oe}),{circleTangency:qe,lineTangency:Ke,theta:Xe}=getTangentCircle({cx:Ce,cy:je,radius:De,angle:Ue,sign:-$e,cornerRadius:Fe,cornerIsExternal:Oe}),Ye=Oe?Math.abs(Me-Ue):Math.abs(Me-Ue)-We-Xe;if(Ye<0)return ke?"M ".concat(Qe.x,",").concat(Qe.y,`
        a`).concat(Fe,",").concat(Fe,",0,0,1,").concat(Fe*2,`,0
        a`).concat(Fe,",").concat(Fe,",0,0,1,").concat(-Fe*2,`,0
      `):getSectorPath({cx:Ce,cy:je,innerRadius:Be,outerRadius:De,startAngle:Me,endAngle:Ue});var Ze="M ".concat(Qe.x,",").concat(Qe.y,`
    A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(He.x,",").concat(He.y,`
    A`).concat(De,",").concat(De,",0,").concat(+(Ye>180),",").concat(+($e<0),",").concat(qe.x,",").concat(qe.y,`
    A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(Ke.x,",").concat(Ke.y,`
  `);if(Be>0){var{circleTangency:Je,lineTangency:tr,theta:rr}=getTangentCircle({cx:Ce,cy:je,radius:Be,angle:Me,sign:$e,isExternal:!0,cornerRadius:Fe,cornerIsExternal:Oe}),{circleTangency:ar,lineTangency:ir,theta:nr}=getTangentCircle({cx:Ce,cy:je,radius:Be,angle:Ue,sign:-$e,isExternal:!0,cornerRadius:Fe,cornerIsExternal:Oe}),cr=Oe?Math.abs(Me-Ue):Math.abs(Me-Ue)-rr-nr;if(cr<0&&Fe===0)return"".concat(Ze,"L").concat(Ce,",").concat(je,"Z");Ze+="L".concat(ir.x,",").concat(ir.y,`
      A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(ar.x,",").concat(ar.y,`
      A`).concat(Be,",").concat(Be,",0,").concat(+(cr>180),",").concat(+($e>0),",").concat(Je.x,",").concat(Je.y,`
      A`).concat(Fe,",").concat(Fe,",0,0,").concat(+($e<0),",").concat(tr.x,",").concat(tr.y,"Z")}else Ze+="L".concat(Ce,",").concat(je,"Z");return Ze},defaultProps$5={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sector=Re=>{var Ce=resolveDefaultProps(Re,defaultProps$5),{cx:je,cy:Be,innerRadius:De,outerRadius:Fe,cornerRadius:ke,forceCornerRadius:Oe,cornerIsExternal:Me,startAngle:Ue,endAngle:$e,className:He}=Ce;if(Fe<De||Ue===$e)return null;var Qe=clsx("recharts-sector",He),We=Fe-De,qe=getPercentValue(ke,We,0,!0),Ke;return qe>0&&Math.abs(Ue-$e)<360?Ke=getSectorWithCorner({cx:je,cy:Be,innerRadius:De,outerRadius:Fe,cornerRadius:Math.min(qe,We/2),forceCornerRadius:Oe,cornerIsExternal:Me,startAngle:Ue,endAngle:$e}):Ke=getSectorPath({cx:je,cy:Be,innerRadius:De,outerRadius:Fe,startAngle:Ue,endAngle:$e}),reactExports.createElement("path",_extends$h({},filterProps(Ce,!0),{className:Qe,d:Ke}))};function getCursorPoints(Re,Ce,je){var Be,De,Fe,ke;if(Re==="horizontal")Be=Ce.x,Fe=Be,De=je.top,ke=je.top+je.height;else if(Re==="vertical")De=Ce.y,ke=De,Be=je.left,Fe=je.left+je.width;else if(Ce.cx!=null&&Ce.cy!=null)if(Re==="centric"){var{cx:Oe,cy:Me,innerRadius:Ue,outerRadius:$e,angle:He}=Ce,Qe=polarToCartesian(Oe,Me,Ue,He),We=polarToCartesian(Oe,Me,$e,He);Be=Qe.x,De=Qe.y,Fe=We.x,ke=We.y}else return getRadialCursorPoints(Ce);return[{x:Be,y:De},{x:Fe,y:ke}]}var range$4={},toFinite={},toNumber={},hasRequiredToNumber;function requireToNumber(){return hasRequiredToNumber||(hasRequiredToNumber=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsSymbol();function je(Be){return Ce.isSymbol(Be)?NaN:Number(Be)}Re.toNumber=je})(toNumber)),toNumber}var hasRequiredToFinite;function requireToFinite(){return hasRequiredToFinite||(hasRequiredToFinite=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireToNumber();function je(Be){return Be?(Be=Ce.toNumber(Be),Be===1/0||Be===-1/0?(Be<0?-1:1)*Number.MAX_VALUE:Be===Be?Be:0):Be===0?Be:0}Re.toFinite=je})(toFinite)),toFinite}var hasRequiredRange$1;function requireRange$1(){return hasRequiredRange$1||(hasRequiredRange$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireIsIterateeCall(),je=requireToFinite();function Be(De,Fe,ke){ke&&typeof ke!="number"&&Ce.isIterateeCall(De,Fe,ke)&&(Fe=ke=void 0),De=je.toFinite(De),Fe===void 0?(Fe=De,De=0):Fe=je.toFinite(Fe),ke=ke===void 0?De<Fe?1:-1:je.toFinite(ke);const Oe=Math.max(Math.ceil((Fe-De)/(ke||1)),0),Me=new Array(Oe);for(let Ue=0;Ue<Oe;Ue++)Me[Ue]=De,De+=ke;return Me}Re.range=Be})(range$4)),range$4}var range$3,hasRequiredRange;function requireRange(){return hasRequiredRange||(hasRequiredRange=1,range$3=requireRange$1().range),range$3}var rangeExports=requireRange();const range$2=getDefaultExportFromCjs(rangeExports);function ascending(Re,Ce){return Re==null||Ce==null?NaN:Re<Ce?-1:Re>Ce?1:Re>=Ce?0:NaN}function descending(Re,Ce){return Re==null||Ce==null?NaN:Ce<Re?-1:Ce>Re?1:Ce>=Re?0:NaN}function bisector(Re){let Ce,je,Be;Re.length!==2?(Ce=ascending,je=(Oe,Me)=>ascending(Re(Oe),Me),Be=(Oe,Me)=>Re(Oe)-Me):(Ce=Re===ascending||Re===descending?Re:zero$1,je=Re,Be=Re);function De(Oe,Me,Ue=0,$e=Oe.length){if(Ue<$e){if(Ce(Me,Me)!==0)return $e;do{const He=Ue+$e>>>1;je(Oe[He],Me)<0?Ue=He+1:$e=He}while(Ue<$e)}return Ue}function Fe(Oe,Me,Ue=0,$e=Oe.length){if(Ue<$e){if(Ce(Me,Me)!==0)return $e;do{const He=Ue+$e>>>1;je(Oe[He],Me)<=0?Ue=He+1:$e=He}while(Ue<$e)}return Ue}function ke(Oe,Me,Ue=0,$e=Oe.length){const He=De(Oe,Me,Ue,$e-1);return He>Ue&&Be(Oe[He-1],Me)>-Be(Oe[He],Me)?He-1:He}return{left:De,center:ke,right:Fe}}function zero$1(){return 0}function number$2(Re){return Re===null?NaN:+Re}function*numbers(Re,Ce){for(let je of Re)je!=null&&(je=+je)>=je&&(yield je)}const ascendingBisect=bisector(ascending),bisectRight=ascendingBisect.right;bisector(number$2).center;class InternMap extends Map{constructor(Ce,je=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:je}}),Ce!=null)for(const[Be,De]of Ce)this.set(Be,De)}get(Ce){return super.get(intern_get(this,Ce))}has(Ce){return super.has(intern_get(this,Ce))}set(Ce,je){return super.set(intern_set(this,Ce),je)}delete(Ce){return super.delete(intern_delete(this,Ce))}}function intern_get({_intern:Re,_key:Ce},je){const Be=Ce(je);return Re.has(Be)?Re.get(Be):je}function intern_set({_intern:Re,_key:Ce},je){const Be=Ce(je);return Re.has(Be)?Re.get(Be):(Re.set(Be,je),je)}function intern_delete({_intern:Re,_key:Ce},je){const Be=Ce(je);return Re.has(Be)&&(je=Re.get(Be),Re.delete(Be)),je}function keyof(Re){return Re!==null&&typeof Re=="object"?Re.valueOf():Re}function compareDefined(Re=ascending){if(Re===ascending)return ascendingDefined;if(typeof Re!="function")throw new TypeError("compare is not a function");return(Ce,je)=>{const Be=Re(Ce,je);return Be||Be===0?Be:(Re(je,je)===0)-(Re(Ce,Ce)===0)}}function ascendingDefined(Re,Ce){return(Re==null||!(Re>=Re))-(Ce==null||!(Ce>=Ce))||(Re<Ce?-1:Re>Ce?1:0)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(Re,Ce,je){const Be=(Ce-Re)/Math.max(0,je),De=Math.floor(Math.log10(Be)),Fe=Be/Math.pow(10,De),ke=Fe>=e10?10:Fe>=e5?5:Fe>=e2?2:1;let Oe,Me,Ue;return De<0?(Ue=Math.pow(10,-De)/ke,Oe=Math.round(Re*Ue),Me=Math.round(Ce*Ue),Oe/Ue<Re&&++Oe,Me/Ue>Ce&&--Me,Ue=-Ue):(Ue=Math.pow(10,De)*ke,Oe=Math.round(Re/Ue),Me=Math.round(Ce/Ue),Oe*Ue<Re&&++Oe,Me*Ue>Ce&&--Me),Me<Oe&&.5<=je&&je<2?tickSpec(Re,Ce,je*2):[Oe,Me,Ue]}function ticks(Re,Ce,je){if(Ce=+Ce,Re=+Re,je=+je,!(je>0))return[];if(Re===Ce)return[Re];const Be=Ce<Re,[De,Fe,ke]=Be?tickSpec(Ce,Re,je):tickSpec(Re,Ce,je);if(!(Fe>=De))return[];const Oe=Fe-De+1,Me=new Array(Oe);if(Be)if(ke<0)for(let Ue=0;Ue<Oe;++Ue)Me[Ue]=(Fe-Ue)/-ke;else for(let Ue=0;Ue<Oe;++Ue)Me[Ue]=(Fe-Ue)*ke;else if(ke<0)for(let Ue=0;Ue<Oe;++Ue)Me[Ue]=(De+Ue)/-ke;else for(let Ue=0;Ue<Oe;++Ue)Me[Ue]=(De+Ue)*ke;return Me}function tickIncrement(Re,Ce,je){return Ce=+Ce,Re=+Re,je=+je,tickSpec(Re,Ce,je)[2]}function tickStep(Re,Ce,je){Ce=+Ce,Re=+Re,je=+je;const Be=Ce<Re,De=Be?tickIncrement(Ce,Re,je):tickIncrement(Re,Ce,je);return(Be?-1:1)*(De<0?1/-De:De)}function max$1(Re,Ce){let je;for(const Be of Re)Be!=null&&(je<Be||je===void 0&&Be>=Be)&&(je=Be);return je}function min$1(Re,Ce){let je;for(const Be of Re)Be!=null&&(je>Be||je===void 0&&Be>=Be)&&(je=Be);return je}function quickselect(Re,Ce,je=0,Be=1/0,De){if(Ce=Math.floor(Ce),je=Math.floor(Math.max(0,je)),Be=Math.floor(Math.min(Re.length-1,Be)),!(je<=Ce&&Ce<=Be))return Re;for(De=De===void 0?ascendingDefined:compareDefined(De);Be>je;){if(Be-je>600){const Me=Be-je+1,Ue=Ce-je+1,$e=Math.log(Me),He=.5*Math.exp(2*$e/3),Qe=.5*Math.sqrt($e*He*(Me-He)/Me)*(Ue-Me/2<0?-1:1),We=Math.max(je,Math.floor(Ce-Ue*He/Me+Qe)),qe=Math.min(Be,Math.floor(Ce+(Me-Ue)*He/Me+Qe));quickselect(Re,Ce,We,qe,De)}const Fe=Re[Ce];let ke=je,Oe=Be;for(swap(Re,je,Ce),De(Re[Be],Fe)>0&&swap(Re,je,Be);ke<Oe;){for(swap(Re,ke,Oe),++ke,--Oe;De(Re[ke],Fe)<0;)++ke;for(;De(Re[Oe],Fe)>0;)--Oe}De(Re[je],Fe)===0?swap(Re,je,Oe):(++Oe,swap(Re,Oe,Be)),Oe<=Ce&&(je=Oe+1),Ce<=Oe&&(Be=Oe-1)}return Re}function swap(Re,Ce,je){const Be=Re[Ce];Re[Ce]=Re[je],Re[je]=Be}function quantile$1(Re,Ce,je){if(Re=Float64Array.from(numbers(Re)),!(!(Be=Re.length)||isNaN(Ce=+Ce))){if(Ce<=0||Be<2)return min$1(Re);if(Ce>=1)return max$1(Re);var Be,De=(Be-1)*Ce,Fe=Math.floor(De),ke=max$1(quickselect(Re,Fe).subarray(0,Fe+1)),Oe=min$1(Re.subarray(Fe+1));return ke+(Oe-ke)*(De-Fe)}}function quantileSorted(Re,Ce,je=number$2){if(!(!(Be=Re.length)||isNaN(Ce=+Ce))){if(Ce<=0||Be<2)return+je(Re[0],0,Re);if(Ce>=1)return+je(Re[Be-1],Be-1,Re);var Be,De=(Be-1)*Ce,Fe=Math.floor(De),ke=+je(Re[Fe],Fe,Re),Oe=+je(Re[Fe+1],Fe+1,Re);return ke+(Oe-ke)*(De-Fe)}}function range$1(Re,Ce,je){Re=+Re,Ce=+Ce,je=(De=arguments.length)<2?(Ce=Re,Re=0,1):De<3?1:+je;for(var Be=-1,De=Math.max(0,Math.ceil((Ce-Re)/je))|0,Fe=new Array(De);++Be<De;)Fe[Be]=Re+Be*je;return Fe}function initRange(Re,Ce){switch(arguments.length){case 0:break;case 1:this.range(Re);break;default:this.range(Ce).domain(Re);break}return this}function initInterpolator(Re,Ce){switch(arguments.length){case 0:break;case 1:{typeof Re=="function"?this.interpolator(Re):this.range(Re);break}default:{this.domain(Re),typeof Ce=="function"?this.interpolator(Ce):this.range(Ce);break}}return this}const implicit=Symbol("implicit");function ordinal(){var Re=new InternMap,Ce=[],je=[],Be=implicit;function De(Fe){let ke=Re.get(Fe);if(ke===void 0){if(Be!==implicit)return Be;Re.set(Fe,ke=Ce.push(Fe)-1)}return je[ke%je.length]}return De.domain=function(Fe){if(!arguments.length)return Ce.slice();Ce=[],Re=new InternMap;for(const ke of Fe)Re.has(ke)||Re.set(ke,Ce.push(ke)-1);return De},De.range=function(Fe){return arguments.length?(je=Array.from(Fe),De):je.slice()},De.unknown=function(Fe){return arguments.length?(Be=Fe,De):Be},De.copy=function(){return ordinal(Ce,je).unknown(Be)},initRange.apply(De,arguments),De}function band(){var Re=ordinal().unknown(void 0),Ce=Re.domain,je=Re.range,Be=0,De=1,Fe,ke,Oe=!1,Me=0,Ue=0,$e=.5;delete Re.unknown;function He(){var Qe=Ce().length,We=De<Be,qe=We?De:Be,Ke=We?Be:De;Fe=(Ke-qe)/Math.max(1,Qe-Me+Ue*2),Oe&&(Fe=Math.floor(Fe)),qe+=(Ke-qe-Fe*(Qe-Me))*$e,ke=Fe*(1-Me),Oe&&(qe=Math.round(qe),ke=Math.round(ke));var Xe=range$1(Qe).map(function(Ye){return qe+Fe*Ye});return je(We?Xe.reverse():Xe)}return Re.domain=function(Qe){return arguments.length?(Ce(Qe),He()):Ce()},Re.range=function(Qe){return arguments.length?([Be,De]=Qe,Be=+Be,De=+De,He()):[Be,De]},Re.rangeRound=function(Qe){return[Be,De]=Qe,Be=+Be,De=+De,Oe=!0,He()},Re.bandwidth=function(){return ke},Re.step=function(){return Fe},Re.round=function(Qe){return arguments.length?(Oe=!!Qe,He()):Oe},Re.padding=function(Qe){return arguments.length?(Me=Math.min(1,Ue=+Qe),He()):Me},Re.paddingInner=function(Qe){return arguments.length?(Me=Math.min(1,Qe),He()):Me},Re.paddingOuter=function(Qe){return arguments.length?(Ue=+Qe,He()):Ue},Re.align=function(Qe){return arguments.length?($e=Math.max(0,Math.min(1,Qe)),He()):$e},Re.copy=function(){return band(Ce(),[Be,De]).round(Oe).paddingInner(Me).paddingOuter(Ue).align($e)},initRange.apply(He(),arguments)}function pointish(Re){var Ce=Re.copy;return Re.padding=Re.paddingOuter,delete Re.paddingInner,delete Re.paddingOuter,Re.copy=function(){return pointish(Ce())},Re}function point(){return pointish(band.apply(null,arguments).paddingInner(1))}function define(Re,Ce,je){Re.prototype=Ce.prototype=je,je.constructor=Re}function extend(Re,Ce){var je=Object.create(Re.prototype);for(var Be in Ce)je[Be]=Ce[Be];return je}function Color(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color,color$1,{copy(Re){return Object.assign(new this.constructor,this,Re)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color$1(Re){var Ce,je;return Re=(Re+"").trim().toLowerCase(),(Ce=reHex.exec(Re))?(je=Ce[1].length,Ce=parseInt(Ce[1],16),je===6?rgbn(Ce):je===3?new Rgb(Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,(Ce&15)<<4|Ce&15,1):je===8?rgba(Ce>>24&255,Ce>>16&255,Ce>>8&255,(Ce&255)/255):je===4?rgba(Ce>>12&15|Ce>>8&240,Ce>>8&15|Ce>>4&240,Ce>>4&15|Ce&240,((Ce&15)<<4|Ce&15)/255):null):(Ce=reRgbInteger.exec(Re))?new Rgb(Ce[1],Ce[2],Ce[3],1):(Ce=reRgbPercent.exec(Re))?new Rgb(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,1):(Ce=reRgbaInteger.exec(Re))?rgba(Ce[1],Ce[2],Ce[3],Ce[4]):(Ce=reRgbaPercent.exec(Re))?rgba(Ce[1]*255/100,Ce[2]*255/100,Ce[3]*255/100,Ce[4]):(Ce=reHslPercent.exec(Re))?hsla(Ce[1],Ce[2]/100,Ce[3]/100,1):(Ce=reHslaPercent.exec(Re))?hsla(Ce[1],Ce[2]/100,Ce[3]/100,Ce[4]):named.hasOwnProperty(Re)?rgbn(named[Re]):Re==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(Re){return new Rgb(Re>>16&255,Re>>8&255,Re&255,1)}function rgba(Re,Ce,je,Be){return Be<=0&&(Re=Ce=je=NaN),new Rgb(Re,Ce,je,Be)}function rgbConvert(Re){return Re instanceof Color||(Re=color$1(Re)),Re?(Re=Re.rgb(),new Rgb(Re.r,Re.g,Re.b,Re.opacity)):new Rgb}function rgb$1(Re,Ce,je,Be){return arguments.length===1?rgbConvert(Re):new Rgb(Re,Ce,je,Be??1)}function Rgb(Re,Ce,je,Be){this.r=+Re,this.g=+Ce,this.b=+je,this.opacity=+Be}define(Rgb,rgb$1,extend(Color,{brighter(Re){return Re=Re==null?brighter:Math.pow(brighter,Re),new Rgb(this.r*Re,this.g*Re,this.b*Re,this.opacity)},darker(Re){return Re=Re==null?darker:Math.pow(darker,Re),new Rgb(this.r*Re,this.g*Re,this.b*Re,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const Re=clampa(this.opacity);return`${Re===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${Re===1?")":`, ${Re})`}`}function clampa(Re){return isNaN(Re)?1:Math.max(0,Math.min(1,Re))}function clampi(Re){return Math.max(0,Math.min(255,Math.round(Re)||0))}function hex(Re){return Re=clampi(Re),(Re<16?"0":"")+Re.toString(16)}function hsla(Re,Ce,je,Be){return Be<=0?Re=Ce=je=NaN:je<=0||je>=1?Re=Ce=NaN:Ce<=0&&(Re=NaN),new Hsl(Re,Ce,je,Be)}function hslConvert(Re){if(Re instanceof Hsl)return new Hsl(Re.h,Re.s,Re.l,Re.opacity);if(Re instanceof Color||(Re=color$1(Re)),!Re)return new Hsl;if(Re instanceof Hsl)return Re;Re=Re.rgb();var Ce=Re.r/255,je=Re.g/255,Be=Re.b/255,De=Math.min(Ce,je,Be),Fe=Math.max(Ce,je,Be),ke=NaN,Oe=Fe-De,Me=(Fe+De)/2;return Oe?(Ce===Fe?ke=(je-Be)/Oe+(je<Be)*6:je===Fe?ke=(Be-Ce)/Oe+2:ke=(Ce-je)/Oe+4,Oe/=Me<.5?Fe+De:2-Fe-De,ke*=60):Oe=Me>0&&Me<1?0:ke,new Hsl(ke,Oe,Me,Re.opacity)}function hsl(Re,Ce,je,Be){return arguments.length===1?hslConvert(Re):new Hsl(Re,Ce,je,Be??1)}function Hsl(Re,Ce,je,Be){this.h=+Re,this.s=+Ce,this.l=+je,this.opacity=+Be}define(Hsl,hsl,extend(Color,{brighter(Re){return Re=Re==null?brighter:Math.pow(brighter,Re),new Hsl(this.h,this.s,this.l*Re,this.opacity)},darker(Re){return Re=Re==null?darker:Math.pow(darker,Re),new Hsl(this.h,this.s,this.l*Re,this.opacity)},rgb(){var Re=this.h%360+(this.h<0)*360,Ce=isNaN(Re)||isNaN(this.s)?0:this.s,je=this.l,Be=je+(je<.5?je:1-je)*Ce,De=2*je-Be;return new Rgb(hsl2rgb(Re>=240?Re-240:Re+120,De,Be),hsl2rgb(Re,De,Be),hsl2rgb(Re<120?Re+240:Re-120,De,Be),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const Re=clampa(this.opacity);return`${Re===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${Re===1?")":`, ${Re})`}`}}));function clamph(Re){return Re=(Re||0)%360,Re<0?Re+360:Re}function clampt(Re){return Math.max(0,Math.min(1,Re||0))}function hsl2rgb(Re,Ce,je){return(Re<60?Ce+(je-Ce)*Re/60:Re<180?je:Re<240?Ce+(je-Ce)*(240-Re)/60:Ce)*255}const constant=Re=>()=>Re;function linear$1(Re,Ce){return function(je){return Re+je*Ce}}function exponential(Re,Ce,je){return Re=Math.pow(Re,je),Ce=Math.pow(Ce,je)-Re,je=1/je,function(Be){return Math.pow(Re+Be*Ce,je)}}function gamma(Re){return(Re=+Re)==1?nogamma:function(Ce,je){return je-Ce?exponential(Ce,je,Re):constant(isNaN(Ce)?je:Ce)}}function nogamma(Re,Ce){var je=Ce-Re;return je?linear$1(Re,je):constant(isNaN(Re)?Ce:Re)}const rgb=(function Re(Ce){var je=gamma(Ce);function Be(De,Fe){var ke=je((De=rgb$1(De)).r,(Fe=rgb$1(Fe)).r),Oe=je(De.g,Fe.g),Me=je(De.b,Fe.b),Ue=nogamma(De.opacity,Fe.opacity);return function($e){return De.r=ke($e),De.g=Oe($e),De.b=Me($e),De.opacity=Ue($e),De+""}}return Be.gamma=Re,Be})(1);function numberArray(Re,Ce){Ce||(Ce=[]);var je=Re?Math.min(Ce.length,Re.length):0,Be=Ce.slice(),De;return function(Fe){for(De=0;De<je;++De)Be[De]=Re[De]*(1-Fe)+Ce[De]*Fe;return Be}}function isNumberArray(Re){return ArrayBuffer.isView(Re)&&!(Re instanceof DataView)}function genericArray(Re,Ce){var je=Ce?Ce.length:0,Be=Re?Math.min(je,Re.length):0,De=new Array(Be),Fe=new Array(je),ke;for(ke=0;ke<Be;++ke)De[ke]=interpolate(Re[ke],Ce[ke]);for(;ke<je;++ke)Fe[ke]=Ce[ke];return function(Oe){for(ke=0;ke<Be;++ke)Fe[ke]=De[ke](Oe);return Fe}}function date$1(Re,Ce){var je=new Date;return Re=+Re,Ce=+Ce,function(Be){return je.setTime(Re*(1-Be)+Ce*Be),je}}function interpolateNumber(Re,Ce){return Re=+Re,Ce=+Ce,function(je){return Re*(1-je)+Ce*je}}function object(Re,Ce){var je={},Be={},De;(Re===null||typeof Re!="object")&&(Re={}),(Ce===null||typeof Ce!="object")&&(Ce={});for(De in Ce)De in Re?je[De]=interpolate(Re[De],Ce[De]):Be[De]=Ce[De];return function(Fe){for(De in je)Be[De]=je[De](Fe);return Be}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(Re){return function(){return Re}}function one(Re){return function(Ce){return Re(Ce)+""}}function string(Re,Ce){var je=reA.lastIndex=reB.lastIndex=0,Be,De,Fe,ke=-1,Oe=[],Me=[];for(Re=Re+"",Ce=Ce+"";(Be=reA.exec(Re))&&(De=reB.exec(Ce));)(Fe=De.index)>je&&(Fe=Ce.slice(je,Fe),Oe[ke]?Oe[ke]+=Fe:Oe[++ke]=Fe),(Be=Be[0])===(De=De[0])?Oe[ke]?Oe[ke]+=De:Oe[++ke]=De:(Oe[++ke]=null,Me.push({i:ke,x:interpolateNumber(Be,De)})),je=reB.lastIndex;return je<Ce.length&&(Fe=Ce.slice(je),Oe[ke]?Oe[ke]+=Fe:Oe[++ke]=Fe),Oe.length<2?Me[0]?one(Me[0].x):zero(Ce):(Ce=Me.length,function(Ue){for(var $e=0,He;$e<Ce;++$e)Oe[(He=Me[$e]).i]=He.x(Ue);return Oe.join("")})}function interpolate(Re,Ce){var je=typeof Ce,Be;return Ce==null||je==="boolean"?constant(Ce):(je==="number"?interpolateNumber:je==="string"?(Be=color$1(Ce))?(Ce=Be,rgb):string:Ce instanceof color$1?rgb:Ce instanceof Date?date$1:isNumberArray(Ce)?numberArray:Array.isArray(Ce)?genericArray:typeof Ce.valueOf!="function"&&typeof Ce.toString!="function"||isNaN(Ce)?object:interpolateNumber)(Re,Ce)}function interpolateRound(Re,Ce){return Re=+Re,Ce=+Ce,function(je){return Math.round(Re*(1-je)+Ce*je)}}function piecewise(Re,Ce){Ce===void 0&&(Ce=Re,Re=interpolate);for(var je=0,Be=Ce.length-1,De=Ce[0],Fe=new Array(Be<0?0:Be);je<Be;)Fe[je]=Re(De,De=Ce[++je]);return function(ke){var Oe=Math.max(0,Math.min(Be-1,Math.floor(ke*=Be)));return Fe[Oe](ke-Oe)}}function constants(Re){return function(){return Re}}function number$1(Re){return+Re}var unit=[0,1];function identity$3(Re){return Re}function normalize(Re,Ce){return(Ce-=Re=+Re)?function(je){return(je-Re)/Ce}:constants(isNaN(Ce)?NaN:.5)}function clamper(Re,Ce){var je;return Re>Ce&&(je=Re,Re=Ce,Ce=je),function(Be){return Math.max(Re,Math.min(Ce,Be))}}function bimap(Re,Ce,je){var Be=Re[0],De=Re[1],Fe=Ce[0],ke=Ce[1];return De<Be?(Be=normalize(De,Be),Fe=je(ke,Fe)):(Be=normalize(Be,De),Fe=je(Fe,ke)),function(Oe){return Fe(Be(Oe))}}function polymap(Re,Ce,je){var Be=Math.min(Re.length,Ce.length)-1,De=new Array(Be),Fe=new Array(Be),ke=-1;for(Re[Be]<Re[0]&&(Re=Re.slice().reverse(),Ce=Ce.slice().reverse());++ke<Be;)De[ke]=normalize(Re[ke],Re[ke+1]),Fe[ke]=je(Ce[ke],Ce[ke+1]);return function(Oe){var Me=bisectRight(Re,Oe,1,Be)-1;return Fe[Me](De[Me](Oe))}}function copy$2(Re,Ce){return Ce.domain(Re.domain()).range(Re.range()).interpolate(Re.interpolate()).clamp(Re.clamp()).unknown(Re.unknown())}function transformer$2(){var Re=unit,Ce=unit,je=interpolate,Be,De,Fe,ke=identity$3,Oe,Me,Ue;function $e(){var Qe=Math.min(Re.length,Ce.length);return ke!==identity$3&&(ke=clamper(Re[0],Re[Qe-1])),Oe=Qe>2?polymap:bimap,Me=Ue=null,He}function He(Qe){return Qe==null||isNaN(Qe=+Qe)?Fe:(Me||(Me=Oe(Re.map(Be),Ce,je)))(Be(ke(Qe)))}return He.invert=function(Qe){return ke(De((Ue||(Ue=Oe(Ce,Re.map(Be),interpolateNumber)))(Qe)))},He.domain=function(Qe){return arguments.length?(Re=Array.from(Qe,number$1),$e()):Re.slice()},He.range=function(Qe){return arguments.length?(Ce=Array.from(Qe),$e()):Ce.slice()},He.rangeRound=function(Qe){return Ce=Array.from(Qe),je=interpolateRound,$e()},He.clamp=function(Qe){return arguments.length?(ke=Qe?!0:identity$3,$e()):ke!==identity$3},He.interpolate=function(Qe){return arguments.length?(je=Qe,$e()):je},He.unknown=function(Qe){return arguments.length?(Fe=Qe,He):Fe},function(Qe,We){return Be=Qe,De=We,$e()}}function continuous(){return transformer$2()(identity$3,identity$3)}function formatDecimal(Re){return Math.abs(Re=Math.round(Re))>=1e21?Re.toLocaleString("en").replace(/,/g,""):Re.toString(10)}function formatDecimalParts(Re,Ce){if((je=(Re=Ce?Re.toExponential(Ce-1):Re.toExponential()).indexOf("e"))<0)return null;var je,Be=Re.slice(0,je);return[Be.length>1?Be[0]+Be.slice(2):Be,+Re.slice(je+1)]}function exponent(Re){return Re=formatDecimalParts(Math.abs(Re)),Re?Re[1]:NaN}function formatGroup(Re,Ce){return function(je,Be){for(var De=je.length,Fe=[],ke=0,Oe=Re[0],Me=0;De>0&&Oe>0&&(Me+Oe+1>Be&&(Oe=Math.max(1,Be-Me)),Fe.push(je.substring(De-=Oe,De+Oe)),!((Me+=Oe+1)>Be));)Oe=Re[ke=(ke+1)%Re.length];return Fe.reverse().join(Ce)}}function formatNumerals(Re){return function(Ce){return Ce.replace(/[0-9]/g,function(je){return Re[+je]})}}var re$1=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(Re){if(!(Ce=re$1.exec(Re)))throw new Error("invalid format: "+Re);var Ce;return new FormatSpecifier({fill:Ce[1],align:Ce[2],sign:Ce[3],symbol:Ce[4],zero:Ce[5],width:Ce[6],comma:Ce[7],precision:Ce[8]&&Ce[8].slice(1),trim:Ce[9],type:Ce[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(Re){this.fill=Re.fill===void 0?" ":Re.fill+"",this.align=Re.align===void 0?">":Re.align+"",this.sign=Re.sign===void 0?"-":Re.sign+"",this.symbol=Re.symbol===void 0?"":Re.symbol+"",this.zero=!!Re.zero,this.width=Re.width===void 0?void 0:+Re.width,this.comma=!!Re.comma,this.precision=Re.precision===void 0?void 0:+Re.precision,this.trim=!!Re.trim,this.type=Re.type===void 0?"":Re.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(Re){e:for(var Ce=Re.length,je=1,Be=-1,De;je<Ce;++je)switch(Re[je]){case".":Be=De=je;break;case"0":Be===0&&(Be=je),De=je;break;default:if(!+Re[je])break e;Be>0&&(Be=0);break}return Be>0?Re.slice(0,Be)+Re.slice(De+1):Re}var prefixExponent;function formatPrefixAuto(Re,Ce){var je=formatDecimalParts(Re,Ce);if(!je)return Re+"";var Be=je[0],De=je[1],Fe=De-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(De/3)))*3)+1,ke=Be.length;return Fe===ke?Be:Fe>ke?Be+new Array(Fe-ke+1).join("0"):Fe>0?Be.slice(0,Fe)+"."+Be.slice(Fe):"0."+new Array(1-Fe).join("0")+formatDecimalParts(Re,Math.max(0,Ce+Fe-1))[0]}function formatRounded(Re,Ce){var je=formatDecimalParts(Re,Ce);if(!je)return Re+"";var Be=je[0],De=je[1];return De<0?"0."+new Array(-De).join("0")+Be:Be.length>De+1?Be.slice(0,De+1)+"."+Be.slice(De+1):Be+new Array(De-Be.length+2).join("0")}const formatTypes={"%":(Re,Ce)=>(Re*100).toFixed(Ce),b:Re=>Math.round(Re).toString(2),c:Re=>Re+"",d:formatDecimal,e:(Re,Ce)=>Re.toExponential(Ce),f:(Re,Ce)=>Re.toFixed(Ce),g:(Re,Ce)=>Re.toPrecision(Ce),o:Re=>Math.round(Re).toString(8),p:(Re,Ce)=>formatRounded(Re*100,Ce),r:formatRounded,s:formatPrefixAuto,X:Re=>Math.round(Re).toString(16).toUpperCase(),x:Re=>Math.round(Re).toString(16)};function identity$2(Re){return Re}var map$1=Array.prototype.map,prefixes=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(Re){var Ce=Re.grouping===void 0||Re.thousands===void 0?identity$2:formatGroup(map$1.call(Re.grouping,Number),Re.thousands+""),je=Re.currency===void 0?"":Re.currency[0]+"",Be=Re.currency===void 0?"":Re.currency[1]+"",De=Re.decimal===void 0?".":Re.decimal+"",Fe=Re.numerals===void 0?identity$2:formatNumerals(map$1.call(Re.numerals,String)),ke=Re.percent===void 0?"%":Re.percent+"",Oe=Re.minus===void 0?"":Re.minus+"",Me=Re.nan===void 0?"NaN":Re.nan+"";function Ue(He){He=formatSpecifier(He);var Qe=He.fill,We=He.align,qe=He.sign,Ke=He.symbol,Xe=He.zero,Ye=He.width,Ze=He.comma,Je=He.precision,tr=He.trim,rr=He.type;rr==="n"?(Ze=!0,rr="g"):formatTypes[rr]||(Je===void 0&&(Je=12),tr=!0,rr="g"),(Xe||Qe==="0"&&We==="=")&&(Xe=!0,Qe="0",We="=");var ar=Ke==="$"?je:Ke==="#"&&/[boxX]/.test(rr)?"0"+rr.toLowerCase():"",ir=Ke==="$"?Be:/[%p]/.test(rr)?ke:"",nr=formatTypes[rr],cr=/[defgprs%]/.test(rr);Je=Je===void 0?6:/[gprs]/.test(rr)?Math.max(1,Math.min(21,Je)):Math.max(0,Math.min(20,Je));function mr(fr){var or=ar,yr=ir,Cr,jr,vr;if(rr==="c")yr=nr(fr)+yr,fr="";else{fr=+fr;var Tr=fr<0||1/fr<0;if(fr=isNaN(fr)?Me:nr(Math.abs(fr),Je),tr&&(fr=formatTrim(fr)),Tr&&+fr==0&&qe!=="+"&&(Tr=!1),or=(Tr?qe==="("?qe:Oe:qe==="-"||qe==="("?"":qe)+or,yr=(rr==="s"?prefixes[8+prefixExponent/3]:"")+yr+(Tr&&qe==="("?")":""),cr){for(Cr=-1,jr=fr.length;++Cr<jr;)if(vr=fr.charCodeAt(Cr),48>vr||vr>57){yr=(vr===46?De+fr.slice(Cr+1):fr.slice(Cr))+yr,fr=fr.slice(0,Cr);break}}}Ze&&!Xe&&(fr=Ce(fr,1/0));var wr=or.length+fr.length+yr.length,Er=wr<Ye?new Array(Ye-wr+1).join(Qe):"";switch(Ze&&Xe&&(fr=Ce(Er+fr,Er.length?Ye-yr.length:1/0),Er=""),We){case"<":fr=or+fr+yr+Er;break;case"=":fr=or+Er+fr+yr;break;case"^":fr=Er.slice(0,wr=Er.length>>1)+or+fr+yr+Er.slice(wr);break;default:fr=Er+or+fr+yr;break}return Fe(fr)}return mr.toString=function(){return He+""},mr}function $e(He,Qe){var We=Ue((He=formatSpecifier(He),He.type="f",He)),qe=Math.max(-8,Math.min(8,Math.floor(exponent(Qe)/3)))*3,Ke=Math.pow(10,-qe),Xe=prefixes[8+qe/3];return function(Ye){return We(Ke*Ye)+Xe}}return{format:Ue,formatPrefix:$e}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(Re){return locale$1=formatLocale$1(Re),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(Re){return Math.max(0,-exponent(Math.abs(Re)))}function precisionPrefix(Re,Ce){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(Ce)/3)))*3-exponent(Math.abs(Re)))}function precisionRound(Re,Ce){return Re=Math.abs(Re),Ce=Math.abs(Ce)-Re,Math.max(0,exponent(Ce)-exponent(Re))+1}function tickFormat(Re,Ce,je,Be){var De=tickStep(Re,Ce,je),Fe;switch(Be=formatSpecifier(Be??",f"),Be.type){case"s":{var ke=Math.max(Math.abs(Re),Math.abs(Ce));return Be.precision==null&&!isNaN(Fe=precisionPrefix(De,ke))&&(Be.precision=Fe),formatPrefix(Be,ke)}case"":case"e":case"g":case"p":case"r":{Be.precision==null&&!isNaN(Fe=precisionRound(De,Math.max(Math.abs(Re),Math.abs(Ce))))&&(Be.precision=Fe-(Be.type==="e"));break}case"f":case"%":{Be.precision==null&&!isNaN(Fe=precisionFixed(De))&&(Be.precision=Fe-(Be.type==="%")*2);break}}return format$1(Be)}function linearish(Re){var Ce=Re.domain;return Re.ticks=function(je){var Be=Ce();return ticks(Be[0],Be[Be.length-1],je??10)},Re.tickFormat=function(je,Be){var De=Ce();return tickFormat(De[0],De[De.length-1],je??10,Be)},Re.nice=function(je){je==null&&(je=10);var Be=Ce(),De=0,Fe=Be.length-1,ke=Be[De],Oe=Be[Fe],Me,Ue,$e=10;for(Oe<ke&&(Ue=ke,ke=Oe,Oe=Ue,Ue=De,De=Fe,Fe=Ue);$e-- >0;){if(Ue=tickIncrement(ke,Oe,je),Ue===Me)return Be[De]=ke,Be[Fe]=Oe,Ce(Be);if(Ue>0)ke=Math.floor(ke/Ue)*Ue,Oe=Math.ceil(Oe/Ue)*Ue;else if(Ue<0)ke=Math.ceil(ke*Ue)/Ue,Oe=Math.floor(Oe*Ue)/Ue;else break;Me=Ue}return Re},Re}function linear(){var Re=continuous();return Re.copy=function(){return copy$2(Re,linear())},initRange.apply(Re,arguments),linearish(Re)}function identity$1(Re){var Ce;function je(Be){return Be==null||isNaN(Be=+Be)?Ce:Be}return je.invert=je,je.domain=je.range=function(Be){return arguments.length?(Re=Array.from(Be,number$1),je):Re.slice()},je.unknown=function(Be){return arguments.length?(Ce=Be,je):Ce},je.copy=function(){return identity$1(Re).unknown(Ce)},Re=arguments.length?Array.from(Re,number$1):[0,1],linearish(je)}function nice(Re,Ce){Re=Re.slice();var je=0,Be=Re.length-1,De=Re[je],Fe=Re[Be],ke;return Fe<De&&(ke=je,je=Be,Be=ke,ke=De,De=Fe,Fe=ke),Re[je]=Ce.floor(De),Re[Be]=Ce.ceil(Fe),Re}function transformLog(Re){return Math.log(Re)}function transformExp(Re){return Math.exp(Re)}function transformLogn(Re){return-Math.log(-Re)}function transformExpn(Re){return-Math.exp(-Re)}function pow10(Re){return isFinite(Re)?+("1e"+Re):Re<0?0:Re}function powp(Re){return Re===10?pow10:Re===Math.E?Math.exp:Ce=>Math.pow(Re,Ce)}function logp(Re){return Re===Math.E?Math.log:Re===10&&Math.log10||Re===2&&Math.log2||(Re=Math.log(Re),Ce=>Math.log(Ce)/Re)}function reflect(Re){return(Ce,je)=>-Re(-Ce,je)}function loggish(Re){const Ce=Re(transformLog,transformExp),je=Ce.domain;let Be=10,De,Fe;function ke(){return De=logp(Be),Fe=powp(Be),je()[0]<0?(De=reflect(De),Fe=reflect(Fe),Re(transformLogn,transformExpn)):Re(transformLog,transformExp),Ce}return Ce.base=function(Oe){return arguments.length?(Be=+Oe,ke()):Be},Ce.domain=function(Oe){return arguments.length?(je(Oe),ke()):je()},Ce.ticks=Oe=>{const Me=je();let Ue=Me[0],$e=Me[Me.length-1];const He=$e<Ue;He&&([Ue,$e]=[$e,Ue]);let Qe=De(Ue),We=De($e),qe,Ke;const Xe=Oe==null?10:+Oe;let Ye=[];if(!(Be%1)&&We-Qe<Xe){if(Qe=Math.floor(Qe),We=Math.ceil(We),Ue>0){for(;Qe<=We;++Qe)for(qe=1;qe<Be;++qe)if(Ke=Qe<0?qe/Fe(-Qe):qe*Fe(Qe),!(Ke<Ue)){if(Ke>$e)break;Ye.push(Ke)}}else for(;Qe<=We;++Qe)for(qe=Be-1;qe>=1;--qe)if(Ke=Qe>0?qe/Fe(-Qe):qe*Fe(Qe),!(Ke<Ue)){if(Ke>$e)break;Ye.push(Ke)}Ye.length*2<Xe&&(Ye=ticks(Ue,$e,Xe))}else Ye=ticks(Qe,We,Math.min(We-Qe,Xe)).map(Fe);return He?Ye.reverse():Ye},Ce.tickFormat=(Oe,Me)=>{if(Oe==null&&(Oe=10),Me==null&&(Me=Be===10?"s":","),typeof Me!="function"&&(!(Be%1)&&(Me=formatSpecifier(Me)).precision==null&&(Me.trim=!0),Me=format$1(Me)),Oe===1/0)return Me;const Ue=Math.max(1,Be*Oe/Ce.ticks().length);return $e=>{let He=$e/Fe(Math.round(De($e)));return He*Be<Be-.5&&(He*=Be),He<=Ue?Me($e):""}},Ce.nice=()=>je(nice(je(),{floor:Oe=>Fe(Math.floor(De(Oe))),ceil:Oe=>Fe(Math.ceil(De(Oe)))})),Ce}function log(){const Re=loggish(transformer$2()).domain([1,10]);return Re.copy=()=>copy$2(Re,log()).base(Re.base()),initRange.apply(Re,arguments),Re}function transformSymlog(Re){return function(Ce){return Math.sign(Ce)*Math.log1p(Math.abs(Ce/Re))}}function transformSymexp(Re){return function(Ce){return Math.sign(Ce)*Math.expm1(Math.abs(Ce))*Re}}function symlogish(Re){var Ce=1,je=Re(transformSymlog(Ce),transformSymexp(Ce));return je.constant=function(Be){return arguments.length?Re(transformSymlog(Ce=+Be),transformSymexp(Ce)):Ce},linearish(je)}function symlog(){var Re=symlogish(transformer$2());return Re.copy=function(){return copy$2(Re,symlog()).constant(Re.constant())},initRange.apply(Re,arguments)}function transformPow(Re){return function(Ce){return Ce<0?-Math.pow(-Ce,Re):Math.pow(Ce,Re)}}function transformSqrt(Re){return Re<0?-Math.sqrt(-Re):Math.sqrt(Re)}function transformSquare(Re){return Re<0?-Re*Re:Re*Re}function powish(Re){var Ce=Re(identity$3,identity$3),je=1;function Be(){return je===1?Re(identity$3,identity$3):je===.5?Re(transformSqrt,transformSquare):Re(transformPow(je),transformPow(1/je))}return Ce.exponent=function(De){return arguments.length?(je=+De,Be()):je},linearish(Ce)}function pow(){var Re=powish(transformer$2());return Re.copy=function(){return copy$2(Re,pow()).exponent(Re.exponent())},initRange.apply(Re,arguments),Re}function sqrt(){return pow.apply(null,arguments).exponent(.5)}function square(Re){return Math.sign(Re)*Re*Re}function unsquare(Re){return Math.sign(Re)*Math.sqrt(Math.abs(Re))}function radial(){var Re=continuous(),Ce=[0,1],je=!1,Be;function De(Fe){var ke=unsquare(Re(Fe));return isNaN(ke)?Be:je?Math.round(ke):ke}return De.invert=function(Fe){return Re.invert(square(Fe))},De.domain=function(Fe){return arguments.length?(Re.domain(Fe),De):Re.domain()},De.range=function(Fe){return arguments.length?(Re.range((Ce=Array.from(Fe,number$1)).map(square)),De):Ce.slice()},De.rangeRound=function(Fe){return De.range(Fe).round(!0)},De.round=function(Fe){return arguments.length?(je=!!Fe,De):je},De.clamp=function(Fe){return arguments.length?(Re.clamp(Fe),De):Re.clamp()},De.unknown=function(Fe){return arguments.length?(Be=Fe,De):Be},De.copy=function(){return radial(Re.domain(),Ce).round(je).clamp(Re.clamp()).unknown(Be)},initRange.apply(De,arguments),linearish(De)}function quantile(){var Re=[],Ce=[],je=[],Be;function De(){var ke=0,Oe=Math.max(1,Ce.length);for(je=new Array(Oe-1);++ke<Oe;)je[ke-1]=quantileSorted(Re,ke/Oe);return Fe}function Fe(ke){return ke==null||isNaN(ke=+ke)?Be:Ce[bisectRight(je,ke)]}return Fe.invertExtent=function(ke){var Oe=Ce.indexOf(ke);return Oe<0?[NaN,NaN]:[Oe>0?je[Oe-1]:Re[0],Oe<je.length?je[Oe]:Re[Re.length-1]]},Fe.domain=function(ke){if(!arguments.length)return Re.slice();Re=[];for(let Oe of ke)Oe!=null&&!isNaN(Oe=+Oe)&&Re.push(Oe);return Re.sort(ascending),De()},Fe.range=function(ke){return arguments.length?(Ce=Array.from(ke),De()):Ce.slice()},Fe.unknown=function(ke){return arguments.length?(Be=ke,Fe):Be},Fe.quantiles=function(){return je.slice()},Fe.copy=function(){return quantile().domain(Re).range(Ce).unknown(Be)},initRange.apply(Fe,arguments)}function quantize(){var Re=0,Ce=1,je=1,Be=[.5],De=[0,1],Fe;function ke(Me){return Me!=null&&Me<=Me?De[bisectRight(Be,Me,0,je)]:Fe}function Oe(){var Me=-1;for(Be=new Array(je);++Me<je;)Be[Me]=((Me+1)*Ce-(Me-je)*Re)/(je+1);return ke}return ke.domain=function(Me){return arguments.length?([Re,Ce]=Me,Re=+Re,Ce=+Ce,Oe()):[Re,Ce]},ke.range=function(Me){return arguments.length?(je=(De=Array.from(Me)).length-1,Oe()):De.slice()},ke.invertExtent=function(Me){var Ue=De.indexOf(Me);return Ue<0?[NaN,NaN]:Ue<1?[Re,Be[0]]:Ue>=je?[Be[je-1],Ce]:[Be[Ue-1],Be[Ue]]},ke.unknown=function(Me){return arguments.length&&(Fe=Me),ke},ke.thresholds=function(){return Be.slice()},ke.copy=function(){return quantize().domain([Re,Ce]).range(De).unknown(Fe)},initRange.apply(linearish(ke),arguments)}function threshold(){var Re=[.5],Ce=[0,1],je,Be=1;function De(Fe){return Fe!=null&&Fe<=Fe?Ce[bisectRight(Re,Fe,0,Be)]:je}return De.domain=function(Fe){return arguments.length?(Re=Array.from(Fe),Be=Math.min(Re.length,Ce.length-1),De):Re.slice()},De.range=function(Fe){return arguments.length?(Ce=Array.from(Fe),Be=Math.min(Re.length,Ce.length-1),De):Ce.slice()},De.invertExtent=function(Fe){var ke=Ce.indexOf(Fe);return[Re[ke-1],Re[ke]]},De.unknown=function(Fe){return arguments.length?(je=Fe,De):je},De.copy=function(){return threshold().domain(Re).range(Ce).unknown(je)},initRange.apply(De,arguments)}const t0=new Date,t1=new Date;function timeInterval(Re,Ce,je,Be){function De(Fe){return Re(Fe=arguments.length===0?new Date:new Date(+Fe)),Fe}return De.floor=Fe=>(Re(Fe=new Date(+Fe)),Fe),De.ceil=Fe=>(Re(Fe=new Date(Fe-1)),Ce(Fe,1),Re(Fe),Fe),De.round=Fe=>{const ke=De(Fe),Oe=De.ceil(Fe);return Fe-ke<Oe-Fe?ke:Oe},De.offset=(Fe,ke)=>(Ce(Fe=new Date(+Fe),ke==null?1:Math.floor(ke)),Fe),De.range=(Fe,ke,Oe)=>{const Me=[];if(Fe=De.ceil(Fe),Oe=Oe==null?1:Math.floor(Oe),!(Fe<ke)||!(Oe>0))return Me;let Ue;do Me.push(Ue=new Date(+Fe)),Ce(Fe,Oe),Re(Fe);while(Ue<Fe&&Fe<ke);return Me},De.filter=Fe=>timeInterval(ke=>{if(ke>=ke)for(;Re(ke),!Fe(ke);)ke.setTime(ke-1)},(ke,Oe)=>{if(ke>=ke)if(Oe<0)for(;++Oe<=0;)for(;Ce(ke,-1),!Fe(ke););else for(;--Oe>=0;)for(;Ce(ke,1),!Fe(ke););}),je&&(De.count=(Fe,ke)=>(t0.setTime(+Fe),t1.setTime(+ke),Re(t0),Re(t1),Math.floor(je(t0,t1))),De.every=Fe=>(Fe=Math.floor(Fe),!isFinite(Fe)||!(Fe>0)?null:Fe>1?De.filter(Be?ke=>Be(ke)%Fe===0:ke=>De.count(0,ke)%Fe===0):De)),De}const millisecond=timeInterval(()=>{},(Re,Ce)=>{Re.setTime(+Re+Ce)},(Re,Ce)=>Ce-Re);millisecond.every=Re=>(Re=Math.floor(Re),!isFinite(Re)||!(Re>0)?null:Re>1?timeInterval(Ce=>{Ce.setTime(Math.floor(Ce/Re)*Re)},(Ce,je)=>{Ce.setTime(+Ce+je*Re)},(Ce,je)=>(je-Ce)/Re):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(Re=>{Re.setTime(Re-Re.getMilliseconds())},(Re,Ce)=>{Re.setTime(+Re+Ce*durationSecond)},(Re,Ce)=>(Ce-Re)/durationSecond,Re=>Re.getUTCSeconds());second.range;const timeMinute=timeInterval(Re=>{Re.setTime(Re-Re.getMilliseconds()-Re.getSeconds()*durationSecond)},(Re,Ce)=>{Re.setTime(+Re+Ce*durationMinute)},(Re,Ce)=>(Ce-Re)/durationMinute,Re=>Re.getMinutes());timeMinute.range;const utcMinute=timeInterval(Re=>{Re.setUTCSeconds(0,0)},(Re,Ce)=>{Re.setTime(+Re+Ce*durationMinute)},(Re,Ce)=>(Ce-Re)/durationMinute,Re=>Re.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(Re=>{Re.setTime(Re-Re.getMilliseconds()-Re.getSeconds()*durationSecond-Re.getMinutes()*durationMinute)},(Re,Ce)=>{Re.setTime(+Re+Ce*durationHour)},(Re,Ce)=>(Ce-Re)/durationHour,Re=>Re.getHours());timeHour.range;const utcHour=timeInterval(Re=>{Re.setUTCMinutes(0,0,0)},(Re,Ce)=>{Re.setTime(+Re+Ce*durationHour)},(Re,Ce)=>(Ce-Re)/durationHour,Re=>Re.getUTCHours());utcHour.range;const timeDay=timeInterval(Re=>Re.setHours(0,0,0,0),(Re,Ce)=>Re.setDate(Re.getDate()+Ce),(Re,Ce)=>(Ce-Re-(Ce.getTimezoneOffset()-Re.getTimezoneOffset())*durationMinute)/durationDay,Re=>Re.getDate()-1);timeDay.range;const utcDay=timeInterval(Re=>{Re.setUTCHours(0,0,0,0)},(Re,Ce)=>{Re.setUTCDate(Re.getUTCDate()+Ce)},(Re,Ce)=>(Ce-Re)/durationDay,Re=>Re.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(Re=>{Re.setUTCHours(0,0,0,0)},(Re,Ce)=>{Re.setUTCDate(Re.getUTCDate()+Ce)},(Re,Ce)=>(Ce-Re)/durationDay,Re=>Math.floor(Re/durationDay));unixDay.range;function timeWeekday(Re){return timeInterval(Ce=>{Ce.setDate(Ce.getDate()-(Ce.getDay()+7-Re)%7),Ce.setHours(0,0,0,0)},(Ce,je)=>{Ce.setDate(Ce.getDate()+je*7)},(Ce,je)=>(je-Ce-(je.getTimezoneOffset()-Ce.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(Re){return timeInterval(Ce=>{Ce.setUTCDate(Ce.getUTCDate()-(Ce.getUTCDay()+7-Re)%7),Ce.setUTCHours(0,0,0,0)},(Ce,je)=>{Ce.setUTCDate(Ce.getUTCDate()+je*7)},(Ce,je)=>(je-Ce)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(Re=>{Re.setDate(1),Re.setHours(0,0,0,0)},(Re,Ce)=>{Re.setMonth(Re.getMonth()+Ce)},(Re,Ce)=>Ce.getMonth()-Re.getMonth()+(Ce.getFullYear()-Re.getFullYear())*12,Re=>Re.getMonth());timeMonth.range;const utcMonth=timeInterval(Re=>{Re.setUTCDate(1),Re.setUTCHours(0,0,0,0)},(Re,Ce)=>{Re.setUTCMonth(Re.getUTCMonth()+Ce)},(Re,Ce)=>Ce.getUTCMonth()-Re.getUTCMonth()+(Ce.getUTCFullYear()-Re.getUTCFullYear())*12,Re=>Re.getUTCMonth());utcMonth.range;const timeYear=timeInterval(Re=>{Re.setMonth(0,1),Re.setHours(0,0,0,0)},(Re,Ce)=>{Re.setFullYear(Re.getFullYear()+Ce)},(Re,Ce)=>Ce.getFullYear()-Re.getFullYear(),Re=>Re.getFullYear());timeYear.every=Re=>!isFinite(Re=Math.floor(Re))||!(Re>0)?null:timeInterval(Ce=>{Ce.setFullYear(Math.floor(Ce.getFullYear()/Re)*Re),Ce.setMonth(0,1),Ce.setHours(0,0,0,0)},(Ce,je)=>{Ce.setFullYear(Ce.getFullYear()+je*Re)});timeYear.range;const utcYear=timeInterval(Re=>{Re.setUTCMonth(0,1),Re.setUTCHours(0,0,0,0)},(Re,Ce)=>{Re.setUTCFullYear(Re.getUTCFullYear()+Ce)},(Re,Ce)=>Ce.getUTCFullYear()-Re.getUTCFullYear(),Re=>Re.getUTCFullYear());utcYear.every=Re=>!isFinite(Re=Math.floor(Re))||!(Re>0)?null:timeInterval(Ce=>{Ce.setUTCFullYear(Math.floor(Ce.getUTCFullYear()/Re)*Re),Ce.setUTCMonth(0,1),Ce.setUTCHours(0,0,0,0)},(Ce,je)=>{Ce.setUTCFullYear(Ce.getUTCFullYear()+je*Re)});utcYear.range;function ticker(Re,Ce,je,Be,De,Fe){const ke=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[Fe,1,durationMinute],[Fe,5,5*durationMinute],[Fe,15,15*durationMinute],[Fe,30,30*durationMinute],[De,1,durationHour],[De,3,3*durationHour],[De,6,6*durationHour],[De,12,12*durationHour],[Be,1,durationDay],[Be,2,2*durationDay],[je,1,durationWeek],[Ce,1,durationMonth],[Ce,3,3*durationMonth],[Re,1,durationYear]];function Oe(Ue,$e,He){const Qe=$e<Ue;Qe&&([Ue,$e]=[$e,Ue]);const We=He&&typeof He.range=="function"?He:Me(Ue,$e,He),qe=We?We.range(Ue,+$e+1):[];return Qe?qe.reverse():qe}function Me(Ue,$e,He){const Qe=Math.abs($e-Ue)/He,We=bisector(([,,Xe])=>Xe).right(ke,Qe);if(We===ke.length)return Re.every(tickStep(Ue/durationYear,$e/durationYear,He));if(We===0)return millisecond.every(Math.max(tickStep(Ue,$e,He),1));const[qe,Ke]=ke[Qe/ke[We-1][2]<ke[We][2]/Qe?We-1:We];return qe.every(Ke)}return[Oe,Me]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(Re){if(0<=Re.y&&Re.y<100){var Ce=new Date(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L);return Ce.setFullYear(Re.y),Ce}return new Date(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L)}function utcDate(Re){if(0<=Re.y&&Re.y<100){var Ce=new Date(Date.UTC(-1,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L));return Ce.setUTCFullYear(Re.y),Ce}return new Date(Date.UTC(Re.y,Re.m,Re.d,Re.H,Re.M,Re.S,Re.L))}function newDate(Re,Ce,je){return{y:Re,m:Ce,d:je,H:0,M:0,S:0,L:0}}function formatLocale(Re){var Ce=Re.dateTime,je=Re.date,Be=Re.time,De=Re.periods,Fe=Re.days,ke=Re.shortDays,Oe=Re.months,Me=Re.shortMonths,Ue=formatRe(De),$e=formatLookup(De),He=formatRe(Fe),Qe=formatLookup(Fe),We=formatRe(ke),qe=formatLookup(ke),Ke=formatRe(Oe),Xe=formatLookup(Oe),Ye=formatRe(Me),Ze=formatLookup(Me),Je={a:Tr,A:wr,b:Er,B:Pr,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:Mr,q:_r,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},tr={a:Ir,A:Dr,b:Or,B:br,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:Ur,q:Qr,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},rr={a:mr,A:fr,b:or,B:yr,c:Cr,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:cr,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:jr,X:vr,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};Je.x=ar(je,Je),Je.X=ar(Be,Je),Je.c=ar(Ce,Je),tr.x=ar(je,tr),tr.X=ar(Be,tr),tr.c=ar(Ce,tr);function ar(zr,Gr){return function(fn){var nn=[],bn=-1,hn=0,yn=zr.length,Zr,Rn,ri;for(fn instanceof Date||(fn=new Date(+fn));++bn<yn;)zr.charCodeAt(bn)===37&&(nn.push(zr.slice(hn,bn)),(Rn=pads[Zr=zr.charAt(++bn)])!=null?Zr=zr.charAt(++bn):Rn=Zr==="e"?" ":"0",(ri=Gr[Zr])&&(Zr=ri(fn,Rn)),nn.push(Zr),hn=bn+1);return nn.push(zr.slice(hn,bn)),nn.join("")}}function ir(zr,Gr){return function(fn){var nn=newDate(1900,void 0,1),bn=nr(nn,zr,fn+="",0),hn,yn;if(bn!=fn.length)return null;if("Q"in nn)return new Date(nn.Q);if("s"in nn)return new Date(nn.s*1e3+("L"in nn?nn.L:0));if(Gr&&!("Z"in nn)&&(nn.Z=0),"p"in nn&&(nn.H=nn.H%12+nn.p*12),nn.m===void 0&&(nn.m="q"in nn?nn.q:0),"V"in nn){if(nn.V<1||nn.V>53)return null;"w"in nn||(nn.w=1),"Z"in nn?(hn=utcDate(newDate(nn.y,0,1)),yn=hn.getUTCDay(),hn=yn>4||yn===0?utcMonday.ceil(hn):utcMonday(hn),hn=utcDay.offset(hn,(nn.V-1)*7),nn.y=hn.getUTCFullYear(),nn.m=hn.getUTCMonth(),nn.d=hn.getUTCDate()+(nn.w+6)%7):(hn=localDate(newDate(nn.y,0,1)),yn=hn.getDay(),hn=yn>4||yn===0?timeMonday.ceil(hn):timeMonday(hn),hn=timeDay.offset(hn,(nn.V-1)*7),nn.y=hn.getFullYear(),nn.m=hn.getMonth(),nn.d=hn.getDate()+(nn.w+6)%7)}else("W"in nn||"U"in nn)&&("w"in nn||(nn.w="u"in nn?nn.u%7:"W"in nn?1:0),yn="Z"in nn?utcDate(newDate(nn.y,0,1)).getUTCDay():localDate(newDate(nn.y,0,1)).getDay(),nn.m=0,nn.d="W"in nn?(nn.w+6)%7+nn.W*7-(yn+5)%7:nn.w+nn.U*7-(yn+6)%7);return"Z"in nn?(nn.H+=nn.Z/100|0,nn.M+=nn.Z%100,utcDate(nn)):localDate(nn)}}function nr(zr,Gr,fn,nn){for(var bn=0,hn=Gr.length,yn=fn.length,Zr,Rn;bn<hn;){if(nn>=yn)return-1;if(Zr=Gr.charCodeAt(bn++),Zr===37){if(Zr=Gr.charAt(bn++),Rn=rr[Zr in pads?Gr.charAt(bn++):Zr],!Rn||(nn=Rn(zr,fn,nn))<0)return-1}else if(Zr!=fn.charCodeAt(nn++))return-1}return nn}function cr(zr,Gr,fn){var nn=Ue.exec(Gr.slice(fn));return nn?(zr.p=$e.get(nn[0].toLowerCase()),fn+nn[0].length):-1}function mr(zr,Gr,fn){var nn=We.exec(Gr.slice(fn));return nn?(zr.w=qe.get(nn[0].toLowerCase()),fn+nn[0].length):-1}function fr(zr,Gr,fn){var nn=He.exec(Gr.slice(fn));return nn?(zr.w=Qe.get(nn[0].toLowerCase()),fn+nn[0].length):-1}function or(zr,Gr,fn){var nn=Ye.exec(Gr.slice(fn));return nn?(zr.m=Ze.get(nn[0].toLowerCase()),fn+nn[0].length):-1}function yr(zr,Gr,fn){var nn=Ke.exec(Gr.slice(fn));return nn?(zr.m=Xe.get(nn[0].toLowerCase()),fn+nn[0].length):-1}function Cr(zr,Gr,fn){return nr(zr,Ce,Gr,fn)}function jr(zr,Gr,fn){return nr(zr,je,Gr,fn)}function vr(zr,Gr,fn){return nr(zr,Be,Gr,fn)}function Tr(zr){return ke[zr.getDay()]}function wr(zr){return Fe[zr.getDay()]}function Er(zr){return Me[zr.getMonth()]}function Pr(zr){return Oe[zr.getMonth()]}function Mr(zr){return De[+(zr.getHours()>=12)]}function _r(zr){return 1+~~(zr.getMonth()/3)}function Ir(zr){return ke[zr.getUTCDay()]}function Dr(zr){return Fe[zr.getUTCDay()]}function Or(zr){return Me[zr.getUTCMonth()]}function br(zr){return Oe[zr.getUTCMonth()]}function Ur(zr){return De[+(zr.getUTCHours()>=12)]}function Qr(zr){return 1+~~(zr.getUTCMonth()/3)}return{format:function(zr){var Gr=ar(zr+="",Je);return Gr.toString=function(){return zr},Gr},parse:function(zr){var Gr=ir(zr+="",!1);return Gr.toString=function(){return zr},Gr},utcFormat:function(zr){var Gr=ar(zr+="",tr);return Gr.toString=function(){return zr},Gr},utcParse:function(zr){var Gr=ir(zr+="",!0);return Gr.toString=function(){return zr},Gr}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(Re,Ce,je){var Be=Re<0?"-":"",De=(Be?-Re:Re)+"",Fe=De.length;return Be+(Fe<je?new Array(je-Fe+1).join(Ce)+De:De)}function requote(Re){return Re.replace(requoteRe,"\\$&")}function formatRe(Re){return new RegExp("^(?:"+Re.map(requote).join("|")+")","i")}function formatLookup(Re){return new Map(Re.map((Ce,je)=>[Ce.toLowerCase(),je]))}function parseWeekdayNumberSunday(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+1));return Be?(Re.w=+Be[0],je+Be[0].length):-1}function parseWeekdayNumberMonday(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+1));return Be?(Re.u=+Be[0],je+Be[0].length):-1}function parseWeekNumberSunday(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.U=+Be[0],je+Be[0].length):-1}function parseWeekNumberISO(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.V=+Be[0],je+Be[0].length):-1}function parseWeekNumberMonday(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.W=+Be[0],je+Be[0].length):-1}function parseFullYear(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+4));return Be?(Re.y=+Be[0],je+Be[0].length):-1}function parseYear(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.y=+Be[0]+(+Be[0]>68?1900:2e3),je+Be[0].length):-1}function parseZone(Re,Ce,je){var Be=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Ce.slice(je,je+6));return Be?(Re.Z=Be[1]?0:-(Be[2]+(Be[3]||"00")),je+Be[0].length):-1}function parseQuarter(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+1));return Be?(Re.q=Be[0]*3-3,je+Be[0].length):-1}function parseMonthNumber(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.m=Be[0]-1,je+Be[0].length):-1}function parseDayOfMonth(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.d=+Be[0],je+Be[0].length):-1}function parseDayOfYear(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+3));return Be?(Re.m=0,Re.d=+Be[0],je+Be[0].length):-1}function parseHour24(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.H=+Be[0],je+Be[0].length):-1}function parseMinutes(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.M=+Be[0],je+Be[0].length):-1}function parseSeconds(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+2));return Be?(Re.S=+Be[0],je+Be[0].length):-1}function parseMilliseconds(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+3));return Be?(Re.L=+Be[0],je+Be[0].length):-1}function parseMicroseconds(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je,je+6));return Be?(Re.L=Math.floor(Be[0]/1e3),je+Be[0].length):-1}function parseLiteralPercent(Re,Ce,je){var Be=percentRe.exec(Ce.slice(je,je+1));return Be?je+Be[0].length:-1}function parseUnixTimestamp(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je));return Be?(Re.Q=+Be[0],je+Be[0].length):-1}function parseUnixTimestampSeconds(Re,Ce,je){var Be=numberRe.exec(Ce.slice(je));return Be?(Re.s=+Be[0],je+Be[0].length):-1}function formatDayOfMonth(Re,Ce){return pad(Re.getDate(),Ce,2)}function formatHour24(Re,Ce){return pad(Re.getHours(),Ce,2)}function formatHour12(Re,Ce){return pad(Re.getHours()%12||12,Ce,2)}function formatDayOfYear(Re,Ce){return pad(1+timeDay.count(timeYear(Re),Re),Ce,3)}function formatMilliseconds(Re,Ce){return pad(Re.getMilliseconds(),Ce,3)}function formatMicroseconds(Re,Ce){return formatMilliseconds(Re,Ce)+"000"}function formatMonthNumber(Re,Ce){return pad(Re.getMonth()+1,Ce,2)}function formatMinutes(Re,Ce){return pad(Re.getMinutes(),Ce,2)}function formatSeconds(Re,Ce){return pad(Re.getSeconds(),Ce,2)}function formatWeekdayNumberMonday(Re){var Ce=Re.getDay();return Ce===0?7:Ce}function formatWeekNumberSunday(Re,Ce){return pad(timeSunday.count(timeYear(Re)-1,Re),Ce,2)}function dISO(Re){var Ce=Re.getDay();return Ce>=4||Ce===0?timeThursday(Re):timeThursday.ceil(Re)}function formatWeekNumberISO(Re,Ce){return Re=dISO(Re),pad(timeThursday.count(timeYear(Re),Re)+(timeYear(Re).getDay()===4),Ce,2)}function formatWeekdayNumberSunday(Re){return Re.getDay()}function formatWeekNumberMonday(Re,Ce){return pad(timeMonday.count(timeYear(Re)-1,Re),Ce,2)}function formatYear(Re,Ce){return pad(Re.getFullYear()%100,Ce,2)}function formatYearISO(Re,Ce){return Re=dISO(Re),pad(Re.getFullYear()%100,Ce,2)}function formatFullYear(Re,Ce){return pad(Re.getFullYear()%1e4,Ce,4)}function formatFullYearISO(Re,Ce){var je=Re.getDay();return Re=je>=4||je===0?timeThursday(Re):timeThursday.ceil(Re),pad(Re.getFullYear()%1e4,Ce,4)}function formatZone(Re){var Ce=Re.getTimezoneOffset();return(Ce>0?"-":(Ce*=-1,"+"))+pad(Ce/60|0,"0",2)+pad(Ce%60,"0",2)}function formatUTCDayOfMonth(Re,Ce){return pad(Re.getUTCDate(),Ce,2)}function formatUTCHour24(Re,Ce){return pad(Re.getUTCHours(),Ce,2)}function formatUTCHour12(Re,Ce){return pad(Re.getUTCHours()%12||12,Ce,2)}function formatUTCDayOfYear(Re,Ce){return pad(1+utcDay.count(utcYear(Re),Re),Ce,3)}function formatUTCMilliseconds(Re,Ce){return pad(Re.getUTCMilliseconds(),Ce,3)}function formatUTCMicroseconds(Re,Ce){return formatUTCMilliseconds(Re,Ce)+"000"}function formatUTCMonthNumber(Re,Ce){return pad(Re.getUTCMonth()+1,Ce,2)}function formatUTCMinutes(Re,Ce){return pad(Re.getUTCMinutes(),Ce,2)}function formatUTCSeconds(Re,Ce){return pad(Re.getUTCSeconds(),Ce,2)}function formatUTCWeekdayNumberMonday(Re){var Ce=Re.getUTCDay();return Ce===0?7:Ce}function formatUTCWeekNumberSunday(Re,Ce){return pad(utcSunday.count(utcYear(Re)-1,Re),Ce,2)}function UTCdISO(Re){var Ce=Re.getUTCDay();return Ce>=4||Ce===0?utcThursday(Re):utcThursday.ceil(Re)}function formatUTCWeekNumberISO(Re,Ce){return Re=UTCdISO(Re),pad(utcThursday.count(utcYear(Re),Re)+(utcYear(Re).getUTCDay()===4),Ce,2)}function formatUTCWeekdayNumberSunday(Re){return Re.getUTCDay()}function formatUTCWeekNumberMonday(Re,Ce){return pad(utcMonday.count(utcYear(Re)-1,Re),Ce,2)}function formatUTCYear(Re,Ce){return pad(Re.getUTCFullYear()%100,Ce,2)}function formatUTCYearISO(Re,Ce){return Re=UTCdISO(Re),pad(Re.getUTCFullYear()%100,Ce,2)}function formatUTCFullYear(Re,Ce){return pad(Re.getUTCFullYear()%1e4,Ce,4)}function formatUTCFullYearISO(Re,Ce){var je=Re.getUTCDay();return Re=je>=4||je===0?utcThursday(Re):utcThursday.ceil(Re),pad(Re.getUTCFullYear()%1e4,Ce,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(Re){return+Re}function formatUnixTimestampSeconds(Re){return Math.floor(+Re/1e3)}var locale,timeFormat,utcFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(Re){return locale=formatLocale(Re),timeFormat=locale.format,locale.parse,utcFormat=locale.utcFormat,locale.utcParse,locale}function date(Re){return new Date(Re)}function number(Re){return Re instanceof Date?+Re:+new Date(+Re)}function calendar(Re,Ce,je,Be,De,Fe,ke,Oe,Me,Ue){var $e=continuous(),He=$e.invert,Qe=$e.domain,We=Ue(".%L"),qe=Ue(":%S"),Ke=Ue("%I:%M"),Xe=Ue("%I %p"),Ye=Ue("%a %d"),Ze=Ue("%b %d"),Je=Ue("%B"),tr=Ue("%Y");function rr(ar){return(Me(ar)<ar?We:Oe(ar)<ar?qe:ke(ar)<ar?Ke:Fe(ar)<ar?Xe:Be(ar)<ar?De(ar)<ar?Ye:Ze:je(ar)<ar?Je:tr)(ar)}return $e.invert=function(ar){return new Date(He(ar))},$e.domain=function(ar){return arguments.length?Qe(Array.from(ar,number)):Qe().map(date)},$e.ticks=function(ar){var ir=Qe();return Re(ir[0],ir[ir.length-1],ar??10)},$e.tickFormat=function(ar,ir){return ir==null?rr:Ue(ir)},$e.nice=function(ar){var ir=Qe();return(!ar||typeof ar.range!="function")&&(ar=Ce(ir[0],ir[ir.length-1],ar??10)),ar?Qe(nice(ir,ar)):$e},$e.copy=function(){return copy$2($e,calendar(Re,Ce,je,Be,De,Fe,ke,Oe,Me,Ue))},$e}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function utcTime(){return initRange.apply(calendar(utcTicks,utcTickInterval,utcYear,utcMonth,utcSunday,utcDay,utcHour,utcMinute,second,utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function transformer$1(){var Re=0,Ce=1,je,Be,De,Fe,ke=identity$3,Oe=!1,Me;function Ue(He){return He==null||isNaN(He=+He)?Me:ke(De===0?.5:(He=(Fe(He)-je)*De,Oe?Math.max(0,Math.min(1,He)):He))}Ue.domain=function(He){return arguments.length?([Re,Ce]=He,je=Fe(Re=+Re),Be=Fe(Ce=+Ce),De=je===Be?0:1/(Be-je),Ue):[Re,Ce]},Ue.clamp=function(He){return arguments.length?(Oe=!!He,Ue):Oe},Ue.interpolator=function(He){return arguments.length?(ke=He,Ue):ke};function $e(He){return function(Qe){var We,qe;return arguments.length?([We,qe]=Qe,ke=He(We,qe),Ue):[ke(0),ke(1)]}}return Ue.range=$e(interpolate),Ue.rangeRound=$e(interpolateRound),Ue.unknown=function(He){return arguments.length?(Me=He,Ue):Me},function(He){return Fe=He,je=He(Re),Be=He(Ce),De=je===Be?0:1/(Be-je),Ue}}function copy$1(Re,Ce){return Ce.domain(Re.domain()).interpolator(Re.interpolator()).clamp(Re.clamp()).unknown(Re.unknown())}function sequential(){var Re=linearish(transformer$1()(identity$3));return Re.copy=function(){return copy$1(Re,sequential())},initInterpolator.apply(Re,arguments)}function sequentialLog(){var Re=loggish(transformer$1()).domain([1,10]);return Re.copy=function(){return copy$1(Re,sequentialLog()).base(Re.base())},initInterpolator.apply(Re,arguments)}function sequentialSymlog(){var Re=symlogish(transformer$1());return Re.copy=function(){return copy$1(Re,sequentialSymlog()).constant(Re.constant())},initInterpolator.apply(Re,arguments)}function sequentialPow(){var Re=powish(transformer$1());return Re.copy=function(){return copy$1(Re,sequentialPow()).exponent(Re.exponent())},initInterpolator.apply(Re,arguments)}function sequentialSqrt(){return sequentialPow.apply(null,arguments).exponent(.5)}function sequentialQuantile(){var Re=[],Ce=identity$3;function je(Be){if(Be!=null&&!isNaN(Be=+Be))return Ce((bisectRight(Re,Be,1)-1)/(Re.length-1))}return je.domain=function(Be){if(!arguments.length)return Re.slice();Re=[];for(let De of Be)De!=null&&!isNaN(De=+De)&&Re.push(De);return Re.sort(ascending),je},je.interpolator=function(Be){return arguments.length?(Ce=Be,je):Ce},je.range=function(){return Re.map((Be,De)=>Ce(De/(Re.length-1)))},je.quantiles=function(Be){return Array.from({length:Be+1},(De,Fe)=>quantile$1(Re,Fe/Be))},je.copy=function(){return sequentialQuantile(Ce).domain(Re)},initInterpolator.apply(je,arguments)}function transformer(){var Re=0,Ce=.5,je=1,Be=1,De,Fe,ke,Oe,Me,Ue=identity$3,$e,He=!1,Qe;function We(Ke){return isNaN(Ke=+Ke)?Qe:(Ke=.5+((Ke=+$e(Ke))-Fe)*(Be*Ke<Be*Fe?Oe:Me),Ue(He?Math.max(0,Math.min(1,Ke)):Ke))}We.domain=function(Ke){return arguments.length?([Re,Ce,je]=Ke,De=$e(Re=+Re),Fe=$e(Ce=+Ce),ke=$e(je=+je),Oe=De===Fe?0:.5/(Fe-De),Me=Fe===ke?0:.5/(ke-Fe),Be=Fe<De?-1:1,We):[Re,Ce,je]},We.clamp=function(Ke){return arguments.length?(He=!!Ke,We):He},We.interpolator=function(Ke){return arguments.length?(Ue=Ke,We):Ue};function qe(Ke){return function(Xe){var Ye,Ze,Je;return arguments.length?([Ye,Ze,Je]=Xe,Ue=piecewise(Ke,[Ye,Ze,Je]),We):[Ue(0),Ue(.5),Ue(1)]}}return We.range=qe(interpolate),We.rangeRound=qe(interpolateRound),We.unknown=function(Ke){return arguments.length?(Qe=Ke,We):Qe},function(Ke){return $e=Ke,De=Ke(Re),Fe=Ke(Ce),ke=Ke(je),Oe=De===Fe?0:.5/(Fe-De),Me=Fe===ke?0:.5/(ke-Fe),Be=Fe<De?-1:1,We}}function diverging(){var Re=linearish(transformer()(identity$3));return Re.copy=function(){return copy$1(Re,diverging())},initInterpolator.apply(Re,arguments)}function divergingLog(){var Re=loggish(transformer()).domain([.1,1,10]);return Re.copy=function(){return copy$1(Re,divergingLog()).base(Re.base())},initInterpolator.apply(Re,arguments)}function divergingSymlog(){var Re=symlogish(transformer());return Re.copy=function(){return copy$1(Re,divergingSymlog()).constant(Re.constant())},initInterpolator.apply(Re,arguments)}function divergingPow(){var Re=powish(transformer());return Re.copy=function(){return copy$1(Re,divergingPow()).exponent(Re.exponent())},initInterpolator.apply(Re,arguments)}function divergingSqrt(){return divergingPow.apply(null,arguments).exponent(.5)}const d3Scales=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:band,scaleDiverging:diverging,scaleDivergingLog:divergingLog,scaleDivergingPow:divergingPow,scaleDivergingSqrt:divergingSqrt,scaleDivergingSymlog:divergingSymlog,scaleIdentity:identity$1,scaleImplicit:implicit,scaleLinear:linear,scaleLog:log,scaleOrdinal:ordinal,scalePoint:point,scalePow:pow,scaleQuantile:quantile,scaleQuantize:quantize,scaleRadial:radial,scaleSequential:sequential,scaleSequentialLog:sequentialLog,scaleSequentialPow:sequentialPow,scaleSequentialQuantile:sequentialQuantile,scaleSequentialSqrt:sequentialSqrt,scaleSequentialSymlog:sequentialSymlog,scaleSqrt:sqrt,scaleSymlog:symlog,scaleThreshold:threshold,scaleTime:time,scaleUtc:utcTime,tickFormat},Symbol.toStringTag,{value:"Module"}));var selectChartDataWithIndexes=Re=>Re.chartData,selectChartDataAndAlwaysIgnoreIndexes=createSelector([selectChartDataWithIndexes],Re=>{var Ce=Re.chartData!=null?Re.chartData.length-1:0;return{chartData:Re.chartData,computedData:Re.computedData,dataEndIndex:Ce,dataStartIndex:0}}),selectChartDataWithIndexesIfNotInPanorama=(Re,Ce,je,Be)=>Be?selectChartDataAndAlwaysIgnoreIndexes(Re):selectChartDataWithIndexes(Re);function isWellFormedNumberDomain(Re){if(Array.isArray(Re)&&Re.length===2){var[Ce,je]=Re;if(isWellBehavedNumber(Ce)&&isWellBehavedNumber(je))return!0}return!1}function extendDomain(Re,Ce,je){return je?Re:[Math.min(Re[0],Ce[0]),Math.max(Re[1],Ce[1])]}function numericalDomainSpecifiedWithoutRequiringData(Re,Ce){if(Ce&&typeof Re!="function"&&Array.isArray(Re)&&Re.length===2){var[je,Be]=Re,De,Fe;if(isWellBehavedNumber(je))De=je;else if(typeof je=="function")return;if(isWellBehavedNumber(Be))Fe=Be;else if(typeof Be=="function")return;var ke=[De,Fe];if(isWellFormedNumberDomain(ke))return ke}}function parseNumericalUserDomain(Re,Ce,je){if(!(!je&&Ce==null)){if(typeof Re=="function"&&Ce!=null)try{var Be=Re(Ce,je);if(isWellFormedNumberDomain(Be))return extendDomain(Be,Ce,je)}catch{}if(Array.isArray(Re)&&Re.length===2){var[De,Fe]=Re,ke,Oe;if(De==="auto")Ce!=null&&(ke=Math.min(...Ce));else if(isNumber(De))ke=De;else if(typeof De=="function")try{Ce!=null&&(ke=De(Ce?.[0]))}catch{}else if(typeof De=="string"&&MIN_VALUE_REG.test(De)){var Me=MIN_VALUE_REG.exec(De);if(Me==null||Ce==null)ke=void 0;else{var Ue=+Me[1];ke=Ce[0]-Ue}}else ke=Ce?.[0];if(Fe==="auto")Ce!=null&&(Oe=Math.max(...Ce));else if(isNumber(Fe))Oe=Fe;else if(typeof Fe=="function")try{Ce!=null&&(Oe=Fe(Ce?.[1]))}catch{}else if(typeof Fe=="string"&&MAX_VALUE_REG.test(Fe)){var $e=MAX_VALUE_REG.exec(Fe);if($e==null||Ce==null)Oe=void 0;else{var He=+$e[1];Oe=Ce[1]+He}}else Oe=Ce?.[1];var Qe=[ke,Oe];if(isWellFormedNumberDomain(Qe))return Ce==null?Qe:extendDomain(Qe,Ce,je)}}}var MAX_DIGITS=1e9,defaults={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Decimal,external=!0,decimalError="[DecimalError] ",invalidArgument=decimalError+"Invalid argument: ",exponentOutOfRange=decimalError+"Exponent out of range: ",mathfloor=Math.floor,mathpow=Math.pow,isDecimal=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ONE,BASE=1e7,LOG_BASE=7,MAX_SAFE_INTEGER=9007199254740991,MAX_E=mathfloor(MAX_SAFE_INTEGER/LOG_BASE),P$1={};P$1.absoluteValue=P$1.abs=function(){var Re=new this.constructor(this);return Re.s&&(Re.s=1),Re};P$1.comparedTo=P$1.cmp=function(Re){var Ce,je,Be,De,Fe=this;if(Re=new Fe.constructor(Re),Fe.s!==Re.s)return Fe.s||-Re.s;if(Fe.e!==Re.e)return Fe.e>Re.e^Fe.s<0?1:-1;for(Be=Fe.d.length,De=Re.d.length,Ce=0,je=Be<De?Be:De;Ce<je;++Ce)if(Fe.d[Ce]!==Re.d[Ce])return Fe.d[Ce]>Re.d[Ce]^Fe.s<0?1:-1;return Be===De?0:Be>De^Fe.s<0?1:-1};P$1.decimalPlaces=P$1.dp=function(){var Re=this,Ce=Re.d.length-1,je=(Ce-Re.e)*LOG_BASE;if(Ce=Re.d[Ce],Ce)for(;Ce%10==0;Ce/=10)je--;return je<0?0:je};P$1.dividedBy=P$1.div=function(Re){return divide(this,new this.constructor(Re))};P$1.dividedToIntegerBy=P$1.idiv=function(Re){var Ce=this,je=Ce.constructor;return round$2(divide(Ce,new je(Re),0,1),je.precision)};P$1.equals=P$1.eq=function(Re){return!this.cmp(Re)};P$1.exponent=function(){return getBase10Exponent(this)};P$1.greaterThan=P$1.gt=function(Re){return this.cmp(Re)>0};P$1.greaterThanOrEqualTo=P$1.gte=function(Re){return this.cmp(Re)>=0};P$1.isInteger=P$1.isint=function(){return this.e>this.d.length-2};P$1.isNegative=P$1.isneg=function(){return this.s<0};P$1.isPositive=P$1.ispos=function(){return this.s>0};P$1.isZero=function(){return this.s===0};P$1.lessThan=P$1.lt=function(Re){return this.cmp(Re)<0};P$1.lessThanOrEqualTo=P$1.lte=function(Re){return this.cmp(Re)<1};P$1.logarithm=P$1.log=function(Re){var Ce,je=this,Be=je.constructor,De=Be.precision,Fe=De+5;if(Re===void 0)Re=new Be(10);else if(Re=new Be(Re),Re.s<1||Re.eq(ONE))throw Error(decimalError+"NaN");if(je.s<1)throw Error(decimalError+(je.s?"NaN":"-Infinity"));return je.eq(ONE)?new Be(0):(external=!1,Ce=divide(ln(je,Fe),ln(Re,Fe),Fe),external=!0,round$2(Ce,De))};P$1.minus=P$1.sub=function(Re){var Ce=this;return Re=new Ce.constructor(Re),Ce.s==Re.s?subtract(Ce,Re):add(Ce,(Re.s=-Re.s,Re))};P$1.modulo=P$1.mod=function(Re){var Ce,je=this,Be=je.constructor,De=Be.precision;if(Re=new Be(Re),!Re.s)throw Error(decimalError+"NaN");return je.s?(external=!1,Ce=divide(je,Re,0,1).times(Re),external=!0,je.minus(Ce)):round$2(new Be(je),De)};P$1.naturalExponential=P$1.exp=function(){return exp(this)};P$1.naturalLogarithm=P$1.ln=function(){return ln(this)};P$1.negated=P$1.neg=function(){var Re=new this.constructor(this);return Re.s=-Re.s||0,Re};P$1.plus=P$1.add=function(Re){var Ce=this;return Re=new Ce.constructor(Re),Ce.s==Re.s?add(Ce,Re):subtract(Ce,(Re.s=-Re.s,Re))};P$1.precision=P$1.sd=function(Re){var Ce,je,Be,De=this;if(Re!==void 0&&Re!==!!Re&&Re!==1&&Re!==0)throw Error(invalidArgument+Re);if(Ce=getBase10Exponent(De)+1,Be=De.d.length-1,je=Be*LOG_BASE+1,Be=De.d[Be],Be){for(;Be%10==0;Be/=10)je--;for(Be=De.d[0];Be>=10;Be/=10)je++}return Re&&Ce>je?Ce:je};P$1.squareRoot=P$1.sqrt=function(){var Re,Ce,je,Be,De,Fe,ke,Oe=this,Me=Oe.constructor;if(Oe.s<1){if(!Oe.s)return new Me(0);throw Error(decimalError+"NaN")}for(Re=getBase10Exponent(Oe),external=!1,De=Math.sqrt(+Oe),De==0||De==1/0?(Ce=digitsToString(Oe.d),(Ce.length+Re)%2==0&&(Ce+="0"),De=Math.sqrt(Ce),Re=mathfloor((Re+1)/2)-(Re<0||Re%2),De==1/0?Ce="5e"+Re:(Ce=De.toExponential(),Ce=Ce.slice(0,Ce.indexOf("e")+1)+Re),Be=new Me(Ce)):Be=new Me(De.toString()),je=Me.precision,De=ke=je+3;;)if(Fe=Be,Be=Fe.plus(divide(Oe,Fe,ke+2)).times(.5),digitsToString(Fe.d).slice(0,ke)===(Ce=digitsToString(Be.d)).slice(0,ke)){if(Ce=Ce.slice(ke-3,ke+1),De==ke&&Ce=="4999"){if(round$2(Fe,je+1,0),Fe.times(Fe).eq(Oe)){Be=Fe;break}}else if(Ce!="9999")break;ke+=4}return external=!0,round$2(Be,je)};P$1.times=P$1.mul=function(Re){var Ce,je,Be,De,Fe,ke,Oe,Me,Ue,$e=this,He=$e.constructor,Qe=$e.d,We=(Re=new He(Re)).d;if(!$e.s||!Re.s)return new He(0);for(Re.s*=$e.s,je=$e.e+Re.e,Me=Qe.length,Ue=We.length,Me<Ue&&(Fe=Qe,Qe=We,We=Fe,ke=Me,Me=Ue,Ue=ke),Fe=[],ke=Me+Ue,Be=ke;Be--;)Fe.push(0);for(Be=Ue;--Be>=0;){for(Ce=0,De=Me+Be;De>Be;)Oe=Fe[De]+We[Be]*Qe[De-Be-1]+Ce,Fe[De--]=Oe%BASE|0,Ce=Oe/BASE|0;Fe[De]=(Fe[De]+Ce)%BASE|0}for(;!Fe[--ke];)Fe.pop();return Ce?++je:Fe.shift(),Re.d=Fe,Re.e=je,external?round$2(Re,He.precision):Re};P$1.toDecimalPlaces=P$1.todp=function(Re,Ce){var je=this,Be=je.constructor;return je=new Be(je),Re===void 0?je:(checkInt32(Re,0,MAX_DIGITS),Ce===void 0?Ce=Be.rounding:checkInt32(Ce,0,8),round$2(je,Re+getBase10Exponent(je)+1,Ce))};P$1.toExponential=function(Re,Ce){var je,Be=this,De=Be.constructor;return Re===void 0?je=toString(Be,!0):(checkInt32(Re,0,MAX_DIGITS),Ce===void 0?Ce=De.rounding:checkInt32(Ce,0,8),Be=round$2(new De(Be),Re+1,Ce),je=toString(Be,!0,Re+1)),je};P$1.toFixed=function(Re,Ce){var je,Be,De=this,Fe=De.constructor;return Re===void 0?toString(De):(checkInt32(Re,0,MAX_DIGITS),Ce===void 0?Ce=Fe.rounding:checkInt32(Ce,0,8),Be=round$2(new Fe(De),Re+getBase10Exponent(De)+1,Ce),je=toString(Be.abs(),!1,Re+getBase10Exponent(Be)+1),De.isneg()&&!De.isZero()?"-"+je:je)};P$1.toInteger=P$1.toint=function(){var Re=this,Ce=Re.constructor;return round$2(new Ce(Re),getBase10Exponent(Re)+1,Ce.rounding)};P$1.toNumber=function(){return+this};P$1.toPower=P$1.pow=function(Re){var Ce,je,Be,De,Fe,ke,Oe=this,Me=Oe.constructor,Ue=12,$e=+(Re=new Me(Re));if(!Re.s)return new Me(ONE);if(Oe=new Me(Oe),!Oe.s){if(Re.s<1)throw Error(decimalError+"Infinity");return Oe}if(Oe.eq(ONE))return Oe;if(Be=Me.precision,Re.eq(ONE))return round$2(Oe,Be);if(Ce=Re.e,je=Re.d.length-1,ke=Ce>=je,Fe=Oe.s,ke){if((je=$e<0?-$e:$e)<=MAX_SAFE_INTEGER){for(De=new Me(ONE),Ce=Math.ceil(Be/LOG_BASE+4),external=!1;je%2&&(De=De.times(Oe),truncate(De.d,Ce)),je=mathfloor(je/2),je!==0;)Oe=Oe.times(Oe),truncate(Oe.d,Ce);return external=!0,Re.s<0?new Me(ONE).div(De):round$2(De,Be)}}else if(Fe<0)throw Error(decimalError+"NaN");return Fe=Fe<0&&Re.d[Math.max(Ce,je)]&1?-1:1,Oe.s=1,external=!1,De=Re.times(ln(Oe,Be+Ue)),external=!0,De=exp(De),De.s=Fe,De};P$1.toPrecision=function(Re,Ce){var je,Be,De=this,Fe=De.constructor;return Re===void 0?(je=getBase10Exponent(De),Be=toString(De,je<=Fe.toExpNeg||je>=Fe.toExpPos)):(checkInt32(Re,1,MAX_DIGITS),Ce===void 0?Ce=Fe.rounding:checkInt32(Ce,0,8),De=round$2(new Fe(De),Re,Ce),je=getBase10Exponent(De),Be=toString(De,Re<=je||je<=Fe.toExpNeg,Re)),Be};P$1.toSignificantDigits=P$1.tosd=function(Re,Ce){var je=this,Be=je.constructor;return Re===void 0?(Re=Be.precision,Ce=Be.rounding):(checkInt32(Re,1,MAX_DIGITS),Ce===void 0?Ce=Be.rounding:checkInt32(Ce,0,8)),round$2(new Be(je),Re,Ce)};P$1.toString=P$1.valueOf=P$1.val=P$1.toJSON=P$1[Symbol.for("nodejs.util.inspect.custom")]=function(){var Re=this,Ce=getBase10Exponent(Re),je=Re.constructor;return toString(Re,Ce<=je.toExpNeg||Ce>=je.toExpPos)};function add(Re,Ce){var je,Be,De,Fe,ke,Oe,Me,Ue,$e=Re.constructor,He=$e.precision;if(!Re.s||!Ce.s)return Ce.s||(Ce=new $e(Re)),external?round$2(Ce,He):Ce;if(Me=Re.d,Ue=Ce.d,ke=Re.e,De=Ce.e,Me=Me.slice(),Fe=ke-De,Fe){for(Fe<0?(Be=Me,Fe=-Fe,Oe=Ue.length):(Be=Ue,De=ke,Oe=Me.length),ke=Math.ceil(He/LOG_BASE),Oe=ke>Oe?ke+1:Oe+1,Fe>Oe&&(Fe=Oe,Be.length=1),Be.reverse();Fe--;)Be.push(0);Be.reverse()}for(Oe=Me.length,Fe=Ue.length,Oe-Fe<0&&(Fe=Oe,Be=Ue,Ue=Me,Me=Be),je=0;Fe;)je=(Me[--Fe]=Me[Fe]+Ue[Fe]+je)/BASE|0,Me[Fe]%=BASE;for(je&&(Me.unshift(je),++De),Oe=Me.length;Me[--Oe]==0;)Me.pop();return Ce.d=Me,Ce.e=De,external?round$2(Ce,He):Ce}function checkInt32(Re,Ce,je){if(Re!==~~Re||Re<Ce||Re>je)throw Error(invalidArgument+Re)}function digitsToString(Re){var Ce,je,Be,De=Re.length-1,Fe="",ke=Re[0];if(De>0){for(Fe+=ke,Ce=1;Ce<De;Ce++)Be=Re[Ce]+"",je=LOG_BASE-Be.length,je&&(Fe+=getZeroString(je)),Fe+=Be;ke=Re[Ce],Be=ke+"",je=LOG_BASE-Be.length,je&&(Fe+=getZeroString(je))}else if(ke===0)return"0";for(;ke%10===0;)ke/=10;return Fe+ke}var divide=(function(){function Re(Be,De){var Fe,ke=0,Oe=Be.length;for(Be=Be.slice();Oe--;)Fe=Be[Oe]*De+ke,Be[Oe]=Fe%BASE|0,ke=Fe/BASE|0;return ke&&Be.unshift(ke),Be}function Ce(Be,De,Fe,ke){var Oe,Me;if(Fe!=ke)Me=Fe>ke?1:-1;else for(Oe=Me=0;Oe<Fe;Oe++)if(Be[Oe]!=De[Oe]){Me=Be[Oe]>De[Oe]?1:-1;break}return Me}function je(Be,De,Fe){for(var ke=0;Fe--;)Be[Fe]-=ke,ke=Be[Fe]<De[Fe]?1:0,Be[Fe]=ke*BASE+Be[Fe]-De[Fe];for(;!Be[0]&&Be.length>1;)Be.shift()}return function(Be,De,Fe,ke){var Oe,Me,Ue,$e,He,Qe,We,qe,Ke,Xe,Ye,Ze,Je,tr,rr,ar,ir,nr,cr=Be.constructor,mr=Be.s==De.s?1:-1,fr=Be.d,or=De.d;if(!Be.s)return new cr(Be);if(!De.s)throw Error(decimalError+"Division by zero");for(Me=Be.e-De.e,ir=or.length,rr=fr.length,We=new cr(mr),qe=We.d=[],Ue=0;or[Ue]==(fr[Ue]||0);)++Ue;if(or[Ue]>(fr[Ue]||0)&&--Me,Fe==null?Ze=Fe=cr.precision:ke?Ze=Fe+(getBase10Exponent(Be)-getBase10Exponent(De))+1:Ze=Fe,Ze<0)return new cr(0);if(Ze=Ze/LOG_BASE+2|0,Ue=0,ir==1)for($e=0,or=or[0],Ze++;(Ue<rr||$e)&&Ze--;Ue++)Je=$e*BASE+(fr[Ue]||0),qe[Ue]=Je/or|0,$e=Je%or|0;else{for($e=BASE/(or[0]+1)|0,$e>1&&(or=Re(or,$e),fr=Re(fr,$e),ir=or.length,rr=fr.length),tr=ir,Ke=fr.slice(0,ir),Xe=Ke.length;Xe<ir;)Ke[Xe++]=0;nr=or.slice(),nr.unshift(0),ar=or[0],or[1]>=BASE/2&&++ar;do $e=0,Oe=Ce(or,Ke,ir,Xe),Oe<0?(Ye=Ke[0],ir!=Xe&&(Ye=Ye*BASE+(Ke[1]||0)),$e=Ye/ar|0,$e>1?($e>=BASE&&($e=BASE-1),He=Re(or,$e),Qe=He.length,Xe=Ke.length,Oe=Ce(He,Ke,Qe,Xe),Oe==1&&($e--,je(He,ir<Qe?nr:or,Qe))):($e==0&&(Oe=$e=1),He=or.slice()),Qe=He.length,Qe<Xe&&He.unshift(0),je(Ke,He,Xe),Oe==-1&&(Xe=Ke.length,Oe=Ce(or,Ke,ir,Xe),Oe<1&&($e++,je(Ke,ir<Xe?nr:or,Xe))),Xe=Ke.length):Oe===0&&($e++,Ke=[0]),qe[Ue++]=$e,Oe&&Ke[0]?Ke[Xe++]=fr[tr]||0:(Ke=[fr[tr]],Xe=1);while((tr++<rr||Ke[0]!==void 0)&&Ze--)}return qe[0]||qe.shift(),We.e=Me,round$2(We,ke?Fe+getBase10Exponent(We)+1:Fe)}})();function exp(Re,Ce){var je,Be,De,Fe,ke,Oe,Me=0,Ue=0,$e=Re.constructor,He=$e.precision;if(getBase10Exponent(Re)>16)throw Error(exponentOutOfRange+getBase10Exponent(Re));if(!Re.s)return new $e(ONE);for(external=!1,Oe=He,ke=new $e(.03125);Re.abs().gte(.1);)Re=Re.times(ke),Ue+=5;for(Be=Math.log(mathpow(2,Ue))/Math.LN10*2+5|0,Oe+=Be,je=De=Fe=new $e(ONE),$e.precision=Oe;;){if(De=round$2(De.times(Re),Oe),je=je.times(++Me),ke=Fe.plus(divide(De,je,Oe)),digitsToString(ke.d).slice(0,Oe)===digitsToString(Fe.d).slice(0,Oe)){for(;Ue--;)Fe=round$2(Fe.times(Fe),Oe);return $e.precision=He,Ce==null?(external=!0,round$2(Fe,He)):Fe}Fe=ke}}function getBase10Exponent(Re){for(var Ce=Re.e*LOG_BASE,je=Re.d[0];je>=10;je/=10)Ce++;return Ce}function getLn10(Re,Ce,je){if(Ce>Re.LN10.sd())throw external=!0,je&&(Re.precision=je),Error(decimalError+"LN10 precision limit exceeded");return round$2(new Re(Re.LN10),Ce)}function getZeroString(Re){for(var Ce="";Re--;)Ce+="0";return Ce}function ln(Re,Ce){var je,Be,De,Fe,ke,Oe,Me,Ue,$e,He=1,Qe=10,We=Re,qe=We.d,Ke=We.constructor,Xe=Ke.precision;if(We.s<1)throw Error(decimalError+(We.s?"NaN":"-Infinity"));if(We.eq(ONE))return new Ke(0);if(Ce==null?(external=!1,Ue=Xe):Ue=Ce,We.eq(10))return Ce==null&&(external=!0),getLn10(Ke,Ue);if(Ue+=Qe,Ke.precision=Ue,je=digitsToString(qe),Be=je.charAt(0),Fe=getBase10Exponent(We),Math.abs(Fe)<15e14){for(;Be<7&&Be!=1||Be==1&&je.charAt(1)>3;)We=We.times(Re),je=digitsToString(We.d),Be=je.charAt(0),He++;Fe=getBase10Exponent(We),Be>1?(We=new Ke("0."+je),Fe++):We=new Ke(Be+"."+je.slice(1))}else return Me=getLn10(Ke,Ue+2,Xe).times(Fe+""),We=ln(new Ke(Be+"."+je.slice(1)),Ue-Qe).plus(Me),Ke.precision=Xe,Ce==null?(external=!0,round$2(We,Xe)):We;for(Oe=ke=We=divide(We.minus(ONE),We.plus(ONE),Ue),$e=round$2(We.times(We),Ue),De=3;;){if(ke=round$2(ke.times($e),Ue),Me=Oe.plus(divide(ke,new Ke(De),Ue)),digitsToString(Me.d).slice(0,Ue)===digitsToString(Oe.d).slice(0,Ue))return Oe=Oe.times(2),Fe!==0&&(Oe=Oe.plus(getLn10(Ke,Ue+2,Xe).times(Fe+""))),Oe=divide(Oe,new Ke(He),Ue),Ke.precision=Xe,Ce==null?(external=!0,round$2(Oe,Xe)):Oe;Oe=Me,De+=2}}function parseDecimal(Re,Ce){var je,Be,De;for((je=Ce.indexOf("."))>-1&&(Ce=Ce.replace(".","")),(Be=Ce.search(/e/i))>0?(je<0&&(je=Be),je+=+Ce.slice(Be+1),Ce=Ce.substring(0,Be)):je<0&&(je=Ce.length),Be=0;Ce.charCodeAt(Be)===48;)++Be;for(De=Ce.length;Ce.charCodeAt(De-1)===48;)--De;if(Ce=Ce.slice(Be,De),Ce){if(De-=Be,je=je-Be-1,Re.e=mathfloor(je/LOG_BASE),Re.d=[],Be=(je+1)%LOG_BASE,je<0&&(Be+=LOG_BASE),Be<De){for(Be&&Re.d.push(+Ce.slice(0,Be)),De-=LOG_BASE;Be<De;)Re.d.push(+Ce.slice(Be,Be+=LOG_BASE));Ce=Ce.slice(Be),Be=LOG_BASE-Ce.length}else Be-=De;for(;Be--;)Ce+="0";if(Re.d.push(+Ce),external&&(Re.e>MAX_E||Re.e<-MAX_E))throw Error(exponentOutOfRange+je)}else Re.s=0,Re.e=0,Re.d=[0];return Re}function round$2(Re,Ce,je){var Be,De,Fe,ke,Oe,Me,Ue,$e,He=Re.d;for(ke=1,Fe=He[0];Fe>=10;Fe/=10)ke++;if(Be=Ce-ke,Be<0)Be+=LOG_BASE,De=Ce,Ue=He[$e=0];else{if($e=Math.ceil((Be+1)/LOG_BASE),Fe=He.length,$e>=Fe)return Re;for(Ue=Fe=He[$e],ke=1;Fe>=10;Fe/=10)ke++;Be%=LOG_BASE,De=Be-LOG_BASE+ke}if(je!==void 0&&(Fe=mathpow(10,ke-De-1),Oe=Ue/Fe%10|0,Me=Ce<0||He[$e+1]!==void 0||Ue%Fe,Me=je<4?(Oe||Me)&&(je==0||je==(Re.s<0?3:2)):Oe>5||Oe==5&&(je==4||Me||je==6&&(Be>0?De>0?Ue/mathpow(10,ke-De):0:He[$e-1])%10&1||je==(Re.s<0?8:7))),Ce<1||!He[0])return Me?(Fe=getBase10Exponent(Re),He.length=1,Ce=Ce-Fe-1,He[0]=mathpow(10,(LOG_BASE-Ce%LOG_BASE)%LOG_BASE),Re.e=mathfloor(-Ce/LOG_BASE)||0):(He.length=1,He[0]=Re.e=Re.s=0),Re;if(Be==0?(He.length=$e,Fe=1,$e--):(He.length=$e+1,Fe=mathpow(10,LOG_BASE-Be),He[$e]=De>0?(Ue/mathpow(10,ke-De)%mathpow(10,De)|0)*Fe:0),Me)for(;;)if($e==0){(He[0]+=Fe)==BASE&&(He[0]=1,++Re.e);break}else{if(He[$e]+=Fe,He[$e]!=BASE)break;He[$e--]=0,Fe=1}for(Be=He.length;He[--Be]===0;)He.pop();if(external&&(Re.e>MAX_E||Re.e<-MAX_E))throw Error(exponentOutOfRange+getBase10Exponent(Re));return Re}function subtract(Re,Ce){var je,Be,De,Fe,ke,Oe,Me,Ue,$e,He,Qe=Re.constructor,We=Qe.precision;if(!Re.s||!Ce.s)return Ce.s?Ce.s=-Ce.s:Ce=new Qe(Re),external?round$2(Ce,We):Ce;if(Me=Re.d,He=Ce.d,Be=Ce.e,Ue=Re.e,Me=Me.slice(),ke=Ue-Be,ke){for($e=ke<0,$e?(je=Me,ke=-ke,Oe=He.length):(je=He,Be=Ue,Oe=Me.length),De=Math.max(Math.ceil(We/LOG_BASE),Oe)+2,ke>De&&(ke=De,je.length=1),je.reverse(),De=ke;De--;)je.push(0);je.reverse()}else{for(De=Me.length,Oe=He.length,$e=De<Oe,$e&&(Oe=De),De=0;De<Oe;De++)if(Me[De]!=He[De]){$e=Me[De]<He[De];break}ke=0}for($e&&(je=Me,Me=He,He=je,Ce.s=-Ce.s),Oe=Me.length,De=He.length-Oe;De>0;--De)Me[Oe++]=0;for(De=He.length;De>ke;){if(Me[--De]<He[De]){for(Fe=De;Fe&&Me[--Fe]===0;)Me[Fe]=BASE-1;--Me[Fe],Me[De]+=BASE}Me[De]-=He[De]}for(;Me[--Oe]===0;)Me.pop();for(;Me[0]===0;Me.shift())--Be;return Me[0]?(Ce.d=Me,Ce.e=Be,external?round$2(Ce,We):Ce):new Qe(0)}function toString(Re,Ce,je){var Be,De=getBase10Exponent(Re),Fe=digitsToString(Re.d),ke=Fe.length;return Ce?(je&&(Be=je-ke)>0?Fe=Fe.charAt(0)+"."+Fe.slice(1)+getZeroString(Be):ke>1&&(Fe=Fe.charAt(0)+"."+Fe.slice(1)),Fe=Fe+(De<0?"e":"e+")+De):De<0?(Fe="0."+getZeroString(-De-1)+Fe,je&&(Be=je-ke)>0&&(Fe+=getZeroString(Be))):De>=ke?(Fe+=getZeroString(De+1-ke),je&&(Be=je-De-1)>0&&(Fe=Fe+"."+getZeroString(Be))):((Be=De+1)<ke&&(Fe=Fe.slice(0,Be)+"."+Fe.slice(Be)),je&&(Be=je-ke)>0&&(De+1===ke&&(Fe+="."),Fe+=getZeroString(Be))),Re.s<0?"-"+Fe:Fe}function truncate(Re,Ce){if(Re.length>Ce)return Re.length=Ce,!0}function clone(Re){var Ce,je,Be;function De(Fe){var ke=this;if(!(ke instanceof De))return new De(Fe);if(ke.constructor=De,Fe instanceof De){ke.s=Fe.s,ke.e=Fe.e,ke.d=(Fe=Fe.d)?Fe.slice():Fe;return}if(typeof Fe=="number"){if(Fe*0!==0)throw Error(invalidArgument+Fe);if(Fe>0)ke.s=1;else if(Fe<0)Fe=-Fe,ke.s=-1;else{ke.s=0,ke.e=0,ke.d=[0];return}if(Fe===~~Fe&&Fe<1e7){ke.e=0,ke.d=[Fe];return}return parseDecimal(ke,Fe.toString())}else if(typeof Fe!="string")throw Error(invalidArgument+Fe);if(Fe.charCodeAt(0)===45?(Fe=Fe.slice(1),ke.s=-1):ke.s=1,isDecimal.test(Fe))parseDecimal(ke,Fe);else throw Error(invalidArgument+Fe)}if(De.prototype=P$1,De.ROUND_UP=0,De.ROUND_DOWN=1,De.ROUND_CEIL=2,De.ROUND_FLOOR=3,De.ROUND_HALF_UP=4,De.ROUND_HALF_DOWN=5,De.ROUND_HALF_EVEN=6,De.ROUND_HALF_CEIL=7,De.ROUND_HALF_FLOOR=8,De.clone=clone,De.config=De.set=config$1,Re===void 0&&(Re={}),Re)for(Be=["precision","rounding","toExpNeg","toExpPos","LN10"],Ce=0;Ce<Be.length;)Re.hasOwnProperty(je=Be[Ce++])||(Re[je]=this[je]);return De.config(Re),De}function config$1(Re){if(!Re||typeof Re!="object")throw Error(decimalError+"Object expected");var Ce,je,Be,De=["precision",1,MAX_DIGITS,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(Ce=0;Ce<De.length;Ce+=3)if((Be=Re[je=De[Ce]])!==void 0)if(mathfloor(Be)===Be&&Be>=De[Ce+1]&&Be<=De[Ce+2])this[je]=Be;else throw Error(invalidArgument+je+": "+Be);if((Be=Re[je="LN10"])!==void 0)if(Be==Math.LN10)this[je]=new this(Be);else throw Error(invalidArgument+je+": "+Be);return this}var Decimal=clone(defaults);ONE=new Decimal(1);const Decimal$1=Decimal;var identity=Re=>Re,PLACE_HOLDER={},isPlaceHolder=Re=>Re===PLACE_HOLDER,curry0=Re=>function Ce(){return arguments.length===0||arguments.length===1&&isPlaceHolder(arguments.length<=0?void 0:arguments[0])?Ce:Re(...arguments)},curryN=(Re,Ce)=>Re===1?Ce:curry0(function(){for(var je=arguments.length,Be=new Array(je),De=0;De<je;De++)Be[De]=arguments[De];var Fe=Be.filter(ke=>ke!==PLACE_HOLDER).length;return Fe>=Re?Ce(...Be):curryN(Re-Fe,curry0(function(){for(var ke=arguments.length,Oe=new Array(ke),Me=0;Me<ke;Me++)Oe[Me]=arguments[Me];var Ue=Be.map($e=>isPlaceHolder($e)?Oe.shift():$e);return Ce(...Ue,...Oe)}))}),curry=Re=>curryN(Re.length,Re),range=(Re,Ce)=>{for(var je=[],Be=Re;Be<Ce;++Be)je[Be-Re]=Be;return je},map=curry((Re,Ce)=>Array.isArray(Ce)?Ce.map(Re):Object.keys(Ce).map(je=>Ce[je]).map(Re)),compose$1=function Re(){for(var Ce=arguments.length,je=new Array(Ce),Be=0;Be<Ce;Be++)je[Be]=arguments[Be];if(!je.length)return identity;var De=je.reverse(),Fe=De[0],ke=De.slice(1);return function(){return ke.reduce((Oe,Me)=>Me(Oe),Fe(...arguments))}},reverse=Re=>Array.isArray(Re)?Re.reverse():Re.split("").reverse().join(""),memoize$2=Re=>{var Ce=null,je=null;return function(){for(var Be=arguments.length,De=new Array(Be),Fe=0;Fe<Be;Fe++)De[Fe]=arguments[Fe];return Ce&&De.every((ke,Oe)=>{var Me;return ke===((Me=Ce)===null||Me===void 0?void 0:Me[Oe])})||(Ce=De,je=Re(...De)),je}};function getDigitCount(Re){var Ce;return Re===0?Ce=1:Ce=Math.floor(new Decimal$1(Re).abs().log(10).toNumber())+1,Ce}function rangeStep(Re,Ce,je){for(var Be=new Decimal$1(Re),De=0,Fe=[];Be.lt(Ce)&&De<1e5;)Fe.push(Be.toNumber()),Be=Be.add(je),De++;return Fe}curry((Re,Ce,je)=>{var Be=+Re,De=+Ce;return Be+je*(De-Be)});curry((Re,Ce,je)=>{var Be=Ce-+Re;return Be=Be||1/0,(je-Re)/Be});curry((Re,Ce,je)=>{var Be=Ce-+Re;return Be=Be||1/0,Math.max(0,Math.min(1,(je-Re)/Be))});var getValidInterval=Re=>{var[Ce,je]=Re,[Be,De]=[Ce,je];return Ce>je&&([Be,De]=[je,Ce]),[Be,De]},getFormatStep=(Re,Ce,je)=>{if(Re.lte(0))return new Decimal$1(0);var Be=getDigitCount(Re.toNumber()),De=new Decimal$1(10).pow(Be),Fe=Re.div(De),ke=Be!==1?.05:.1,Oe=new Decimal$1(Math.ceil(Fe.div(ke).toNumber())).add(je).mul(ke),Me=Oe.mul(De);return Ce?new Decimal$1(Me.toNumber()):new Decimal$1(Math.ceil(Me.toNumber()))},getTickOfSingleValue=(Re,Ce,je)=>{var Be=new Decimal$1(1),De=new Decimal$1(Re);if(!De.isint()&&je){var Fe=Math.abs(Re);Fe<1?(Be=new Decimal$1(10).pow(getDigitCount(Re)-1),De=new Decimal$1(Math.floor(De.div(Be).toNumber())).mul(Be)):Fe>1&&(De=new Decimal$1(Math.floor(Re)))}else Re===0?De=new Decimal$1(Math.floor((Ce-1)/2)):je||(De=new Decimal$1(Math.floor(Re)));var ke=Math.floor((Ce-1)/2),Oe=compose$1(map(Me=>De.add(new Decimal$1(Me-ke).mul(Be)).toNumber()),range);return Oe(0,Ce)},_calculateStep=function Re(Ce,je,Be,De){var Fe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((je-Ce)/(Be-1)))return{step:new Decimal$1(0),tickMin:new Decimal$1(0),tickMax:new Decimal$1(0)};var ke=getFormatStep(new Decimal$1(je).sub(Ce).div(Be-1),De,Fe),Oe;Ce<=0&&je>=0?Oe=new Decimal$1(0):(Oe=new Decimal$1(Ce).add(je).div(2),Oe=Oe.sub(new Decimal$1(Oe).mod(ke)));var Me=Math.ceil(Oe.sub(Ce).div(ke).toNumber()),Ue=Math.ceil(new Decimal$1(je).sub(Oe).div(ke).toNumber()),$e=Me+Ue+1;return $e>Be?_calculateStep(Ce,je,Be,De,Fe+1):($e<Be&&(Ue=je>0?Ue+(Be-$e):Ue,Me=je>0?Me:Me+(Be-$e)),{step:ke,tickMin:Oe.sub(new Decimal$1(Me).mul(ke)),tickMax:Oe.add(new Decimal$1(Ue).mul(ke))})};function getNiceTickValuesFn(Re){var[Ce,je]=Re,Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Fe=Math.max(Be,2),[ke,Oe]=getValidInterval([Ce,je]);if(ke===-1/0||Oe===1/0){var Me=Oe===1/0?[ke,...range(0,Be-1).map(()=>1/0)]:[...range(0,Be-1).map(()=>-1/0),Oe];return Ce>je?reverse(Me):Me}if(ke===Oe)return getTickOfSingleValue(ke,Be,De);var{step:Ue,tickMin:$e,tickMax:He}=_calculateStep(ke,Oe,Fe,De,0),Qe=rangeStep($e,He.add(new Decimal$1(.1).mul(Ue)),Ue);return Ce>je?reverse(Qe):Qe}function getTickValuesFixedDomainFn(Re,Ce){var[je,Be]=Re,De=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[Fe,ke]=getValidInterval([je,Be]);if(Fe===-1/0||ke===1/0)return[je,Be];if(Fe===ke)return[Fe];var Oe=Math.max(Ce,2),Me=getFormatStep(new Decimal$1(ke).sub(Fe).div(Oe-1),De,0),Ue=[...rangeStep(new Decimal$1(Fe),new Decimal$1(ke),Me),ke];return De===!1&&(Ue=Ue.map($e=>Math.round($e))),je>Be?reverse(Ue):Ue}var getNiceTickValues=memoize$2(getNiceTickValuesFn),getTickValuesFixedDomain=memoize$2(getTickValuesFixedDomainFn),selectRootMaxBarSize=Re=>Re.rootProps.maxBarSize,selectBarGap=Re=>Re.rootProps.barGap,selectBarCategoryGap=Re=>Re.rootProps.barCategoryGap,selectRootBarSize=Re=>Re.rootProps.barSize,selectStackOffsetType=Re=>Re.rootProps.stackOffset,selectChartName=Re=>Re.options.chartName,selectSyncId=Re=>Re.rootProps.syncId,selectSyncMethod=Re=>Re.rootProps.syncMethod,selectEventEmitter=Re=>Re.options.eventEmitter,defaultPolarAngleAxisProps={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},defaultPolarRadiusAxisProps={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},combineAxisRangeWithReverse=(Re,Ce)=>{if(!(!Re||!Ce))return Re!=null&&Re.reversed?[Ce[1],Ce[0]]:Ce},implicitAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:defaultPolarAngleAxisProps.reversed,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:defaultPolarAngleAxisProps.type,unit:void 0},implicitRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:defaultPolarRadiusAxisProps.type,unit:void 0},implicitRadialBarAngleAxis={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:defaultPolarAngleAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarAngleAxisProps.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarAngleAxisProps.scale,tick:defaultPolarAngleAxisProps.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},implicitRadialBarRadiusAxis={allowDataOverflow:defaultPolarRadiusAxisProps.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:defaultPolarRadiusAxisProps.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:defaultPolarRadiusAxisProps.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:defaultPolarRadiusAxisProps.scale,tick:defaultPolarRadiusAxisProps.tick,tickCount:defaultPolarRadiusAxisProps.tickCount,ticks:void 0,type:"category",unit:void 0},selectAngleAxis=(Re,Ce)=>Re.polarAxis.angleAxis[Ce]!=null?Re.polarAxis.angleAxis[Ce]:Re.layout.layoutType==="radial"?implicitRadialBarAngleAxis:implicitAngleAxis,selectRadiusAxis=(Re,Ce)=>Re.polarAxis.radiusAxis[Ce]!=null?Re.polarAxis.radiusAxis[Ce]:Re.layout.layoutType==="radial"?implicitRadialBarRadiusAxis:implicitRadiusAxis,selectPolarOptions=Re=>Re.polarOptions,selectMaxRadius=createSelector([selectChartWidth,selectChartHeight,selectChartOffsetInternal],getMaxRadius),selectInnerRadius=createSelector([selectPolarOptions,selectMaxRadius],(Re,Ce)=>{if(Re!=null)return getPercentValue(Re.innerRadius,Ce,0)}),selectOuterRadius=createSelector([selectPolarOptions,selectMaxRadius],(Re,Ce)=>{if(Re!=null)return getPercentValue(Re.outerRadius,Ce,Ce*.8)}),combineAngleAxisRange=Re=>{if(Re==null)return[0,0];var{startAngle:Ce,endAngle:je}=Re;return[Ce,je]},selectAngleAxisRange=createSelector([selectPolarOptions],combineAngleAxisRange);createSelector([selectAngleAxis,selectAngleAxisRange],combineAxisRangeWithReverse);var selectRadiusAxisRange=createSelector([selectMaxRadius,selectInnerRadius,selectOuterRadius],(Re,Ce,je)=>{if(!(Re==null||Ce==null||je==null))return[Ce,je]});createSelector([selectRadiusAxis,selectRadiusAxisRange],combineAxisRangeWithReverse);var selectPolarViewBox=createSelector([selectChartLayout,selectPolarOptions,selectInnerRadius,selectOuterRadius,selectChartWidth,selectChartHeight],(Re,Ce,je,Be,De,Fe)=>{if(!(Re!=="centric"&&Re!=="radial"||Ce==null||je==null||Be==null)){var{cx:ke,cy:Oe,startAngle:Me,endAngle:Ue}=Ce;return{cx:getPercentValue(ke,De,De/2),cy:getPercentValue(Oe,Fe,Fe/2),innerRadius:je,outerRadius:Be,startAngle:Me,endAngle:Ue,clockWise:!1}}}),pickAxisType=(Re,Ce)=>Ce,pickAxisId=(Re,Ce,je)=>je;function getStackSeriesIdentifier(Re){return Re?.id}var selectTooltipAxisType=Re=>{var Ce=selectChartLayout(Re);return Ce==="horizontal"?"xAxis":Ce==="vertical"?"yAxis":Ce==="centric"?"angleAxis":"radiusAxis"},selectTooltipAxisId=Re=>Re.tooltip.settings.axisId,selectTooltipAxis=Re=>{var Ce=selectTooltipAxisType(Re),je=selectTooltipAxisId(Re);return selectAxisSettings(Re,Ce,je)};function combineDisplayedStackedData(Re,Ce,je){var{chartData:Be=[]}=Ce,De=je?.dataKey,Fe=new Map;return Re.forEach(ke=>{var Oe,Me=(Oe=ke.data)!==null&&Oe!==void 0?Oe:Be;if(!(Me==null||Me.length===0)){var Ue=getStackSeriesIdentifier(ke);Me.forEach(($e,He)=>{var Qe=De==null?He:String(getValueByDataKey($e,De,null)),We=getValueByDataKey($e,ke.dataKey,0),qe;Fe.has(Qe)?qe=Fe.get(Qe):qe={},Object.assign(qe,{[Ue]:We}),Fe.set(Qe,qe)})}}),Array.from(Fe.values())}function isStacked(Re){return Re.stackId!=null&&Re.dataKey!=null}function ownKeys$m(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$l(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$m(Object(je),!0).forEach(function(Be){_defineProperty$q(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$m(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$q(Re,Ce,je){return(Ce=_toPropertyKey$p(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$p(Re){var Ce=_toPrimitive$p(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$p(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var defaultNumericDomain=[0,"auto"],implicitXAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},selectXAxisSettings=(Re,Ce)=>{var je=Re.cartesianAxis.xAxis[Ce];return je??implicitXAxis},implicitYAxis={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:defaultNumericDomain,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:DEFAULT_Y_AXIS_WIDTH},selectYAxisSettings=(Re,Ce)=>{var je=Re.cartesianAxis.yAxis[Ce];return je??implicitYAxis},implicitZAxis={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},selectZAxisSettings=(Re,Ce)=>{var je=Re.cartesianAxis.zAxis[Ce];return je??implicitZAxis},selectBaseAxis=(Re,Ce,je)=>{switch(Ce){case"xAxis":return selectXAxisSettings(Re,je);case"yAxis":return selectYAxisSettings(Re,je);case"zAxis":return selectZAxisSettings(Re,je);case"angleAxis":return selectAngleAxis(Re,je);case"radiusAxis":return selectRadiusAxis(Re,je);default:throw new Error("Unexpected axis type: ".concat(Ce))}},selectCartesianAxisSettings=(Re,Ce,je)=>{switch(Ce){case"xAxis":return selectXAxisSettings(Re,je);case"yAxis":return selectYAxisSettings(Re,je);default:throw new Error("Unexpected axis type: ".concat(Ce))}},selectAxisSettings=(Re,Ce,je)=>{switch(Ce){case"xAxis":return selectXAxisSettings(Re,je);case"yAxis":return selectYAxisSettings(Re,je);case"angleAxis":return selectAngleAxis(Re,je);case"radiusAxis":return selectRadiusAxis(Re,je);default:throw new Error("Unexpected axis type: ".concat(Ce))}},selectHasBar=Re=>Re.graphicalItems.cartesianItems.some(Ce=>Ce.type==="bar")||Re.graphicalItems.polarItems.some(Ce=>Ce.type==="radialBar");function itemAxisPredicate(Re,Ce){return je=>{switch(Re){case"xAxis":return"xAxisId"in je&&je.xAxisId===Ce;case"yAxis":return"yAxisId"in je&&je.yAxisId===Ce;case"zAxis":return"zAxisId"in je&&je.zAxisId===Ce;case"angleAxis":return"angleAxisId"in je&&je.angleAxisId===Ce;case"radiusAxis":return"radiusAxisId"in je&&je.radiusAxisId===Ce;default:return!1}}}var selectUnfilteredCartesianItems=Re=>Re.graphicalItems.cartesianItems,selectAxisPredicate=createSelector([pickAxisType,pickAxisId],itemAxisPredicate),combineGraphicalItemsSettings=(Re,Ce,je)=>Re.filter(je).filter(Be=>Ce?.includeHidden===!0?!0:!Be.hide),selectCartesianItemsSettings=createSelector([selectUnfilteredCartesianItems,selectBaseAxis,selectAxisPredicate],combineGraphicalItemsSettings),selectStackedCartesianItemsSettings=createSelector([selectCartesianItemsSettings],Re=>Re.filter(Ce=>Ce.type==="area"||Ce.type==="bar").filter(isStacked)),filterGraphicalNotStackedItems=Re=>Re.filter(Ce=>!("stackId"in Ce)||Ce.stackId===void 0),selectCartesianItemsSettingsExceptStacked=createSelector([selectCartesianItemsSettings],filterGraphicalNotStackedItems),combineGraphicalItemsData=Re=>Re.map(Ce=>Ce.data).filter(Boolean).flat(1),selectCartesianGraphicalItemsData=createSelector([selectCartesianItemsSettings],combineGraphicalItemsData),combineDisplayedData=(Re,Ce)=>{var{chartData:je=[],dataStartIndex:Be,dataEndIndex:De}=Ce;return Re.length>0?Re:je.slice(Be,De+1)},selectDisplayedData=createSelector([selectCartesianGraphicalItemsData,selectChartDataWithIndexesIfNotInPanorama],combineDisplayedData),combineAppliedValues=(Re,Ce,je)=>Ce?.dataKey!=null?Re.map(Be=>({value:getValueByDataKey(Be,Ce.dataKey)})):je.length>0?je.map(Be=>Be.dataKey).flatMap(Be=>Re.map(De=>({value:getValueByDataKey(De,Be)}))):Re.map(Be=>({value:Be})),selectAllAppliedValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettings],combineAppliedValues);function isErrorBarRelevantForAxisType(Re,Ce){switch(Re){case"xAxis":return Ce.direction==="x";case"yAxis":return Ce.direction==="y";default:return!1}}function onlyAllowNumbers(Re){return Re.filter(Ce=>isNumOrStr(Ce)||Ce instanceof Date).map(Number).filter(Ce=>isNan(Ce)===!1)}function getErrorDomainByDataKey(Re,Ce,je){return!je||typeof Ce!="number"||isNan(Ce)?[]:je.length?onlyAllowNumbers(je.flatMap(Be=>{var De=getValueByDataKey(Re,Be.dataKey),Fe,ke;if(Array.isArray(De)?[Fe,ke]=De:Fe=ke=De,!(!isWellBehavedNumber(Fe)||!isWellBehavedNumber(ke)))return[Ce-Fe,Ce+ke]})):[]}var selectDisplayedStackedData=createSelector([selectStackedCartesianItemsSettings,selectChartDataWithIndexesIfNotInPanorama,selectTooltipAxis],combineDisplayedStackedData),combineStackGroups=(Re,Ce,je)=>{var Be={},De=Ce.reduce((Fe,ke)=>(ke.stackId==null||(Fe[ke.stackId]==null&&(Fe[ke.stackId]=[]),Fe[ke.stackId].push(ke)),Fe),Be);return Object.fromEntries(Object.entries(De).map(Fe=>{var[ke,Oe]=Fe,Me=Oe.map(getStackSeriesIdentifier);return[ke,{stackedData:getStackedData(Re,Me,je),graphicalItems:Oe}]}))},selectStackGroups=createSelector([selectDisplayedStackedData,selectStackedCartesianItemsSettings,selectStackOffsetType],combineStackGroups),combineDomainOfStackGroups=(Re,Ce,je)=>{var{dataStartIndex:Be,dataEndIndex:De}=Ce;if(je!=="zAxis"){var Fe=getDomainOfStackGroups(Re,Be,De);if(!(Fe!=null&&Fe[0]===0&&Fe[1]===0))return Fe}},selectDomainOfStackGroups=createSelector([selectStackGroups,selectChartDataWithIndexes,pickAxisType],combineDomainOfStackGroups),combineAppliedNumericalValuesIncludingErrorValues=(Re,Ce,je,Be,De)=>je.length>0?Re.flatMap(Fe=>je.flatMap(ke=>{var Oe,Me,Ue=(Oe=Be[ke.id])===null||Oe===void 0?void 0:Oe.filter(He=>isErrorBarRelevantForAxisType(De,He)),$e=getValueByDataKey(Fe,(Me=Ce.dataKey)!==null&&Me!==void 0?Me:ke.dataKey);return{value:$e,errorDomain:getErrorDomainByDataKey(Fe,$e,Ue)}})).filter(Boolean):Ce?.dataKey!=null?Re.map(Fe=>({value:getValueByDataKey(Fe,Ce.dataKey),errorDomain:[]})):Re.map(Fe=>({value:Fe,errorDomain:[]})),selectAllErrorBarSettings=Re=>Re.errorBars,combineRelevantErrorBarSettings=(Re,Ce,je)=>Re.flatMap(Be=>Ce[Be.id]).filter(Boolean).filter(Be=>isErrorBarRelevantForAxisType(je,Be));createSelector([selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);var selectAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectDisplayedData,selectBaseAxis,selectCartesianItemsSettingsExceptStacked,selectAllErrorBarSettings,pickAxisType],combineAppliedNumericalValuesIncludingErrorValues);function onlyAllowNumbersAndStringsAndDates(Re){var{value:Ce}=Re;if(isNumOrStr(Ce)||Ce instanceof Date)return Ce}var computeNumericalDomain=Re=>{var Ce=Re.flatMap(Be=>[Be.value,Be.errorDomain]).flat(1),je=onlyAllowNumbers(Ce);if(je.length!==0)return[Math.min(...je),Math.max(...je)]},computeDomainOfTypeCategory=(Re,Ce,je)=>{var Be=Re.map(onlyAllowNumbersAndStringsAndDates).filter(De=>De!=null);return je&&(Ce.dataKey==null||Ce.allowDuplicatedCategory&&hasDuplicate(Be))?range$2(0,Re.length):Ce.allowDuplicatedCategory?Be:Array.from(new Set(Be))},getDomainDefinition=Re=>{var Ce;if(Re==null||!("domain"in Re))return defaultNumericDomain;if(Re.domain!=null)return Re.domain;if(Re.ticks!=null){if(Re.type==="number"){var je=onlyAllowNumbers(Re.ticks);return[Math.min(...je),Math.max(...je)]}if(Re.type==="category")return Re.ticks.map(String)}return(Ce=Re?.domain)!==null&&Ce!==void 0?Ce:defaultNumericDomain},mergeDomains=function Re(){for(var Ce=arguments.length,je=new Array(Ce),Be=0;Be<Ce;Be++)je[Be]=arguments[Be];var De=je.filter(Boolean);if(De.length!==0){var Fe=De.flat(),ke=Math.min(...Fe),Oe=Math.max(...Fe);return[ke,Oe]}},selectReferenceDots=Re=>Re.referenceElements.dots,filterReferenceElements=(Re,Ce,je)=>Re.filter(Be=>Be.ifOverflow==="extendDomain").filter(Be=>Ce==="xAxis"?Be.xAxisId===je:Be.yAxisId===je),selectReferenceDotsByAxis=createSelector([selectReferenceDots,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceAreas=Re=>Re.referenceElements.areas,selectReferenceAreasByAxis=createSelector([selectReferenceAreas,pickAxisType,pickAxisId],filterReferenceElements),selectReferenceLines=Re=>Re.referenceElements.lines,selectReferenceLinesByAxis=createSelector([selectReferenceLines,pickAxisType,pickAxisId],filterReferenceElements),combineDotsDomain=(Re,Ce)=>{var je=onlyAllowNumbers(Re.map(Be=>Ce==="xAxis"?Be.x:Be.y));if(je.length!==0)return[Math.min(...je),Math.max(...je)]},selectReferenceDotsDomain=createSelector(selectReferenceDotsByAxis,pickAxisType,combineDotsDomain),combineAreasDomain=(Re,Ce)=>{var je=onlyAllowNumbers(Re.flatMap(Be=>[Ce==="xAxis"?Be.x1:Be.y1,Ce==="xAxis"?Be.x2:Be.y2]));if(je.length!==0)return[Math.min(...je),Math.max(...je)]},selectReferenceAreasDomain=createSelector([selectReferenceAreasByAxis,pickAxisType],combineAreasDomain),combineLinesDomain=(Re,Ce)=>{var je=onlyAllowNumbers(Re.map(Be=>Ce==="xAxis"?Be.x:Be.y));if(je.length!==0)return[Math.min(...je),Math.max(...je)]},selectReferenceLinesDomain=createSelector(selectReferenceLinesByAxis,pickAxisType,combineLinesDomain),selectReferenceElementsDomain=createSelector(selectReferenceDotsDomain,selectReferenceLinesDomain,selectReferenceAreasDomain,(Re,Ce,je)=>mergeDomains(Re,je,Ce)),selectDomainDefinition=createSelector([selectBaseAxis],getDomainDefinition),combineNumericalDomain=(Re,Ce,je,Be,De,Fe,ke)=>{var Oe=numericalDomainSpecifiedWithoutRequiringData(Ce,Re.allowDataOverflow);if(Oe!=null)return Oe;var Me=Fe==="vertical"&&ke==="xAxis"||Fe==="horizontal"&&ke==="yAxis",Ue=Me?mergeDomains(je,De,computeNumericalDomain(Be)):mergeDomains(De,computeNumericalDomain(Be));return parseNumericalUserDomain(Ce,Ue,Re.allowDataOverflow)},selectNumericalDomain=createSelector([selectBaseAxis,selectDomainDefinition,selectDomainOfStackGroups,selectAllAppliedNumericalValuesIncludingErrorValues,selectReferenceElementsDomain,selectChartLayout,pickAxisType],combineNumericalDomain),expandDomain=[0,1],combineAxisDomain=(Re,Ce,je,Be,De,Fe,ke)=>{if(!((Re==null||je==null||je.length===0)&&ke===void 0)){var{dataKey:Oe,type:Me}=Re,Ue=isCategoricalAxis(Ce,Fe);return Ue&&Oe==null?range$2(0,je.length):Me==="category"?computeDomainOfTypeCategory(Be,Re,Ue):De==="expand"?expandDomain:ke}},selectAxisDomain=createSelector([selectBaseAxis,selectChartLayout,selectDisplayedData,selectAllAppliedValues,selectStackOffsetType,pickAxisType,selectNumericalDomain],combineAxisDomain),combineRealScaleType=(Re,Ce,je,Be,De)=>{if(Re!=null){var{scale:Fe,type:ke}=Re;if(Fe==="auto")return Ce==="radial"&&De==="radiusAxis"?"band":Ce==="radial"&&De==="angleAxis"?"linear":ke==="category"&&Be&&(Be.indexOf("LineChart")>=0||Be.indexOf("AreaChart")>=0||Be.indexOf("ComposedChart")>=0&&!je)?"point":ke==="category"?"band":"linear";if(typeof Fe=="string"){var Oe="scale".concat(upperFirst(Fe));return Oe in d3Scales?Oe:"point"}}},selectRealScaleType=createSelector([selectBaseAxis,selectChartLayout,selectHasBar,selectChartName,pickAxisType],combineRealScaleType);function getD3ScaleFromType(Re){if(Re!=null){if(Re in d3Scales)return d3Scales[Re]();var Ce="scale".concat(upperFirst(Re));if(Ce in d3Scales)return d3Scales[Ce]()}}function combineScaleFunction(Re,Ce,je,Be){if(!(je==null||Be==null)){if(typeof Re.scale=="function")return Re.scale.copy().domain(je).range(Be);var De=getD3ScaleFromType(Ce);if(De!=null){var Fe=De.domain(je).range(Be);return checkDomainOfScale(Fe),Fe}}}var combineNiceTicks=(Re,Ce,je)=>{var Be=getDomainDefinition(Ce);if(!(je!=="auto"&&je!=="linear")){if(Ce!=null&&Ce.tickCount&&Array.isArray(Be)&&(Be[0]==="auto"||Be[1]==="auto")&&isWellFormedNumberDomain(Re))return getNiceTickValues(Re,Ce.tickCount,Ce.allowDecimals);if(Ce!=null&&Ce.tickCount&&Ce.type==="number"&&isWellFormedNumberDomain(Re))return getTickValuesFixedDomain(Re,Ce.tickCount,Ce.allowDecimals)}},selectNiceTicks=createSelector([selectAxisDomain,selectAxisSettings,selectRealScaleType],combineNiceTicks),combineAxisDomainWithNiceTicks=(Re,Ce,je,Be)=>{if(Be!=="angleAxis"&&Re?.type==="number"&&isWellFormedNumberDomain(Ce)&&Array.isArray(je)&&je.length>0){var De=Ce[0],Fe=je[0],ke=Ce[1],Oe=je[je.length-1];return[Math.min(De,Fe),Math.max(ke,Oe)]}return Ce},selectAxisDomainIncludingNiceTicks=createSelector([selectBaseAxis,selectAxisDomain,selectNiceTicks,pickAxisType],combineAxisDomainWithNiceTicks),selectSmallestDistanceBetweenValues=createSelector(selectAllAppliedValues,selectBaseAxis,(Re,Ce)=>{if(!(!Ce||Ce.type!=="number")){var je=1/0,Be=Array.from(onlyAllowNumbers(Re.map(Oe=>Oe.value))).sort((Oe,Me)=>Oe-Me);if(Be.length<2)return 1/0;var De=Be[Be.length-1]-Be[0];if(De===0)return 1/0;for(var Fe=0;Fe<Be.length-1;Fe++){var ke=Be[Fe+1]-Be[Fe];je=Math.min(je,ke)}return je/De}}),selectCalculatedPadding=createSelector(selectSmallestDistanceBetweenValues,selectChartLayout,selectBarCategoryGap,selectChartOffsetInternal,(Re,Ce,je,Be)=>Be,(Re,Ce,je,Be,De)=>{if(!isWellBehavedNumber(Re))return 0;var Fe=Ce==="vertical"?Be.height:Be.width;if(De==="gap")return Re*Fe/2;if(De==="no-gap"){var ke=getPercentValue(je,Re*Fe),Oe=Re*Fe/2;return Oe-ke-(Oe-ke)/Fe*ke}return 0}),selectCalculatedXAxisPadding=(Re,Ce)=>{var je=selectXAxisSettings(Re,Ce);return je==null||typeof je.padding!="string"?0:selectCalculatedPadding(Re,"xAxis",Ce,je.padding)},selectCalculatedYAxisPadding=(Re,Ce)=>{var je=selectYAxisSettings(Re,Ce);return je==null||typeof je.padding!="string"?0:selectCalculatedPadding(Re,"yAxis",Ce,je.padding)},selectXAxisPadding=createSelector(selectXAxisSettings,selectCalculatedXAxisPadding,(Re,Ce)=>{var je,Be;if(Re==null)return{left:0,right:0};var{padding:De}=Re;return typeof De=="string"?{left:Ce,right:Ce}:{left:((je=De.left)!==null&&je!==void 0?je:0)+Ce,right:((Be=De.right)!==null&&Be!==void 0?Be:0)+Ce}}),selectYAxisPadding=createSelector(selectYAxisSettings,selectCalculatedYAxisPadding,(Re,Ce)=>{var je,Be;if(Re==null)return{top:0,bottom:0};var{padding:De}=Re;return typeof De=="string"?{top:Ce,bottom:Ce}:{top:((je=De.top)!==null&&je!==void 0?je:0)+Ce,bottom:((Be=De.bottom)!==null&&Be!==void 0?Be:0)+Ce}}),combineXAxisRange=createSelector([selectChartOffsetInternal,selectXAxisPadding,selectBrushDimensions,selectBrushSettings,(Re,Ce,je)=>je],(Re,Ce,je,Be,De)=>{var{padding:Fe}=Be;return De?[Fe.left,je.width-Fe.right]:[Re.left+Ce.left,Re.left+Re.width-Ce.right]}),combineYAxisRange=createSelector([selectChartOffsetInternal,selectChartLayout,selectYAxisPadding,selectBrushDimensions,selectBrushSettings,(Re,Ce,je)=>je],(Re,Ce,je,Be,De,Fe)=>{var{padding:ke}=De;return Fe?[Be.height-ke.bottom,ke.top]:Ce==="horizontal"?[Re.top+Re.height-je.bottom,Re.top+je.top]:[Re.top+je.top,Re.top+Re.height-je.bottom]}),selectAxisRange=(Re,Ce,je,Be)=>{var De;switch(Ce){case"xAxis":return combineXAxisRange(Re,je,Be);case"yAxis":return combineYAxisRange(Re,je,Be);case"zAxis":return(De=selectZAxisSettings(Re,je))===null||De===void 0?void 0:De.range;case"angleAxis":return selectAngleAxisRange(Re);case"radiusAxis":return selectRadiusAxisRange(Re,je);default:return}},selectAxisRangeWithReverse=createSelector([selectBaseAxis,selectAxisRange],combineAxisRangeWithReverse),selectAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomainIncludingNiceTicks,selectAxisRangeWithReverse],combineScaleFunction);createSelector([selectCartesianItemsSettings,selectAllErrorBarSettings,pickAxisType],combineRelevantErrorBarSettings);function compareIds(Re,Ce){return Re.id<Ce.id?-1:Re.id>Ce.id?1:0}var pickAxisOrientation=(Re,Ce)=>Ce,pickMirror=(Re,Ce,je)=>je,selectAllXAxesWithOffsetType=createSelector(selectAllXAxes,pickAxisOrientation,pickMirror,(Re,Ce,je)=>Re.filter(Be=>Be.orientation===Ce).filter(Be=>Be.mirror===je).sort(compareIds)),selectAllYAxesWithOffsetType=createSelector(selectAllYAxes,pickAxisOrientation,pickMirror,(Re,Ce,je)=>Re.filter(Be=>Be.orientation===Ce).filter(Be=>Be.mirror===je).sort(compareIds)),getXAxisSize=(Re,Ce)=>({width:Re.width,height:Ce.height}),getYAxisSize=(Re,Ce)=>{var je=typeof Ce.width=="number"?Ce.width:DEFAULT_Y_AXIS_WIDTH;return{width:je,height:Re.height}},selectXAxisSize=createSelector(selectChartOffsetInternal,selectXAxisSettings,getXAxisSize),combineXAxisPositionStartingPoint=(Re,Ce,je)=>{switch(Ce){case"top":return Re.top;case"bottom":return je-Re.bottom;default:return 0}},combineYAxisPositionStartingPoint=(Re,Ce,je)=>{switch(Ce){case"left":return Re.left;case"right":return je-Re.right;default:return 0}},selectAllXAxesOffsetSteps=createSelector(selectChartHeight,selectChartOffsetInternal,selectAllXAxesWithOffsetType,pickAxisOrientation,pickMirror,(Re,Ce,je,Be,De)=>{var Fe={},ke;return je.forEach(Oe=>{var Me=getXAxisSize(Ce,Oe);ke==null&&(ke=combineXAxisPositionStartingPoint(Ce,Be,Re));var Ue=Be==="top"&&!De||Be==="bottom"&&De;Fe[Oe.id]=ke-Number(Ue)*Me.height,ke+=(Ue?-1:1)*Me.height}),Fe}),selectAllYAxesOffsetSteps=createSelector(selectChartWidth,selectChartOffsetInternal,selectAllYAxesWithOffsetType,pickAxisOrientation,pickMirror,(Re,Ce,je,Be,De)=>{var Fe={},ke;return je.forEach(Oe=>{var Me=getYAxisSize(Ce,Oe);ke==null&&(ke=combineYAxisPositionStartingPoint(Ce,Be,Re));var Ue=Be==="left"&&!De||Be==="right"&&De;Fe[Oe.id]=ke-Number(Ue)*Me.width,ke+=(Ue?-1:1)*Me.width}),Fe}),selectXAxisPosition=(Re,Ce)=>{var je=selectChartOffsetInternal(Re),Be=selectXAxisSettings(Re,Ce);if(Be!=null){var De=selectAllXAxesOffsetSteps(Re,Be.orientation,Be.mirror),Fe=De[Ce];return Fe==null?{x:je.left,y:0}:{x:je.left,y:Fe}}},selectYAxisPosition=(Re,Ce)=>{var je=selectChartOffsetInternal(Re),Be=selectYAxisSettings(Re,Ce);if(Be!=null){var De=selectAllYAxesOffsetSteps(Re,Be.orientation,Be.mirror),Fe=De[Ce];return Fe==null?{x:0,y:je.top}:{x:Fe,y:je.top}}},selectYAxisSize=createSelector(selectChartOffsetInternal,selectYAxisSettings,(Re,Ce)=>{var je=typeof Ce.width=="number"?Ce.width:DEFAULT_Y_AXIS_WIDTH;return{width:je,height:Re.height}}),selectCartesianAxisSize=(Re,Ce,je)=>{switch(Ce){case"xAxis":return selectXAxisSize(Re,je).width;case"yAxis":return selectYAxisSize(Re,je).height;default:return}},combineDuplicateDomain=(Re,Ce,je,Be)=>{if(je!=null){var{allowDuplicatedCategory:De,type:Fe,dataKey:ke}=je,Oe=isCategoricalAxis(Re,Be),Me=Ce.map(Ue=>Ue.value);if(ke&&Oe&&Fe==="category"&&De&&hasDuplicate(Me))return Me}},selectDuplicateDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectBaseAxis,pickAxisType],combineDuplicateDomain),combineCategoricalDomain=(Re,Ce,je,Be)=>{if(!(je==null||je.dataKey==null)){var{type:De,scale:Fe}=je,ke=isCategoricalAxis(Re,Be);if(ke&&(De==="number"||Fe!=="auto"))return Ce.map(Oe=>Oe.value)}},selectCategoricalDomain=createSelector([selectChartLayout,selectAllAppliedValues,selectAxisSettings,pickAxisType],combineCategoricalDomain),selectAxisPropsNeededForCartesianGridTicksGenerator=createSelector([selectChartLayout,selectCartesianAxisSettings,selectRealScaleType,selectAxisScale,selectDuplicateDomain,selectCategoricalDomain,selectAxisRange,selectNiceTicks,pickAxisType],(Re,Ce,je,Be,De,Fe,ke,Oe,Me)=>{if(Ce==null)return null;var Ue=isCategoricalAxis(Re,Me);return{angle:Ce.angle,interval:Ce.interval,minTickGap:Ce.minTickGap,orientation:Ce.orientation,tick:Ce.tick,tickCount:Ce.tickCount,tickFormatter:Ce.tickFormatter,ticks:Ce.ticks,type:Ce.type,unit:Ce.unit,axisType:Me,categoricalDomain:Fe,duplicateDomain:De,isCategorical:Ue,niceTicks:Oe,range:ke,realScaleType:je,scale:Be}}),combineAxisTicks=(Re,Ce,je,Be,De,Fe,ke,Oe,Me)=>{if(!(Ce==null||Be==null)){var Ue=isCategoricalAxis(Re,Me),{type:$e,ticks:He,tickCount:Qe}=Ce,We=je==="scaleBand"&&typeof Be.bandwidth=="function"?Be.bandwidth()/2:2,qe=$e==="category"&&Be.bandwidth?Be.bandwidth()/We:0;qe=Me==="angleAxis"&&Fe!=null&&Fe.length>=2?mathSign(Fe[0]-Fe[1])*2*qe:qe;var Ke=He||De;if(Ke){var Xe=Ke.map((Ye,Ze)=>{var Je=ke?ke.indexOf(Ye):Ye;return{index:Ze,coordinate:Be(Je)+qe,value:Ye,offset:qe}});return Xe.filter(Ye=>!isNan(Ye.coordinate))}return Ue&&Oe?Oe.map((Ye,Ze)=>({coordinate:Be(Ye)+qe,value:Ye,index:Ze,offset:qe})):Be.ticks?Be.ticks(Qe).map(Ye=>({coordinate:Be(Ye)+qe,value:Ye,offset:qe})):Be.domain().map((Ye,Ze)=>({coordinate:Be(Ye)+qe,value:ke?ke[Ye]:Ye,index:Ze,offset:qe}))}},selectTicksOfAxis=createSelector([selectChartLayout,selectAxisSettings,selectRealScaleType,selectAxisScale,selectNiceTicks,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineAxisTicks),combineGraphicalItemTicks=(Re,Ce,je,Be,De,Fe,ke)=>{if(!(Ce==null||je==null||Be==null||Be[0]===Be[1])){var Oe=isCategoricalAxis(Re,ke),{tickCount:Me}=Ce,Ue=0;return Ue=ke==="angleAxis"&&Be?.length>=2?mathSign(Be[0]-Be[1])*2*Ue:Ue,Oe&&Fe?Fe.map(($e,He)=>({coordinate:je($e)+Ue,value:$e,index:He,offset:Ue})):je.ticks?je.ticks(Me).map($e=>({coordinate:je($e)+Ue,value:$e,offset:Ue})):je.domain().map(($e,He)=>({coordinate:je($e)+Ue,value:De?De[$e]:$e,index:He,offset:Ue}))}},selectTicksOfGraphicalItem=createSelector([selectChartLayout,selectAxisSettings,selectAxisScale,selectAxisRange,selectDuplicateDomain,selectCategoricalDomain,pickAxisType],combineGraphicalItemTicks),selectAxisWithScale=createSelector(selectBaseAxis,selectAxisScale,(Re,Ce)=>{if(!(Re==null||Ce==null))return _objectSpread$l(_objectSpread$l({},Re),{},{scale:Ce})}),selectZAxisScale=createSelector([selectBaseAxis,selectRealScaleType,selectAxisDomain,selectAxisRangeWithReverse],combineScaleFunction);createSelector((Re,Ce,je)=>selectZAxisSettings(Re,je),selectZAxisScale,(Re,Ce)=>{if(!(Re==null||Ce==null))return _objectSpread$l(_objectSpread$l({},Re),{},{scale:Ce})});var selectChartDirection=createSelector([selectChartLayout,selectAllXAxes,selectAllYAxes],(Re,Ce,je)=>{switch(Re){case"horizontal":return Ce.some(Be=>Be.reversed)?"right-to-left":"left-to-right";case"vertical":return je.some(Be=>Be.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),selectDefaultTooltipEventType=Re=>Re.options.defaultTooltipEventType,selectValidateTooltipEventTypes=Re=>Re.options.validateTooltipEventTypes;function combineTooltipEventType(Re,Ce,je){if(Re==null)return Ce;var Be=Re?"axis":"item";return je==null?Ce:je.includes(Be)?Be:Ce}function selectTooltipEventType$1(Re,Ce){var je=selectDefaultTooltipEventType(Re),Be=selectValidateTooltipEventTypes(Re);return combineTooltipEventType(Ce,je,Be)}function useTooltipEventType(Re){return useAppSelector(Ce=>selectTooltipEventType$1(Ce,Re))}var combineActiveLabel=(Re,Ce)=>{var je,Be=Number(Ce);if(!(isNan(Be)||Ce==null))return Be>=0?Re==null||(je=Re[Be])===null||je===void 0?void 0:je.value:void 0},selectTooltipSettings=Re=>Re.tooltip.settings,noInteraction={active:!1,index:null,dataKey:void 0,coordinate:void 0},initialState$8={itemInteraction:{click:noInteraction,hover:noInteraction},axisInteraction:{click:noInteraction,hover:noInteraction},keyboardInteraction:noInteraction,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},tooltipSlice=createSlice({name:"tooltip",initialState:initialState$8,reducers:{addTooltipEntrySettings(Re,Ce){Re.tooltipItemPayloads.push(Ce.payload)},removeTooltipEntrySettings(Re,Ce){var je=current(Re).tooltipItemPayloads.indexOf(Ce.payload);je>-1&&Re.tooltipItemPayloads.splice(je,1)},setTooltipSettingsState(Re,Ce){Re.settings=Ce.payload},setActiveMouseOverItemIndex(Re,Ce){Re.syncInteraction.active=!1,Re.keyboardInteraction.active=!1,Re.itemInteraction.hover.active=!0,Re.itemInteraction.hover.index=Ce.payload.activeIndex,Re.itemInteraction.hover.dataKey=Ce.payload.activeDataKey,Re.itemInteraction.hover.coordinate=Ce.payload.activeCoordinate},mouseLeaveChart(Re){Re.itemInteraction.hover.active=!1,Re.axisInteraction.hover.active=!1},mouseLeaveItem(Re){Re.itemInteraction.hover.active=!1},setActiveClickItemIndex(Re,Ce){Re.syncInteraction.active=!1,Re.itemInteraction.click.active=!0,Re.keyboardInteraction.active=!1,Re.itemInteraction.click.index=Ce.payload.activeIndex,Re.itemInteraction.click.dataKey=Ce.payload.activeDataKey,Re.itemInteraction.click.coordinate=Ce.payload.activeCoordinate},setMouseOverAxisIndex(Re,Ce){Re.syncInteraction.active=!1,Re.axisInteraction.hover.active=!0,Re.keyboardInteraction.active=!1,Re.axisInteraction.hover.index=Ce.payload.activeIndex,Re.axisInteraction.hover.dataKey=Ce.payload.activeDataKey,Re.axisInteraction.hover.coordinate=Ce.payload.activeCoordinate},setMouseClickAxisIndex(Re,Ce){Re.syncInteraction.active=!1,Re.keyboardInteraction.active=!1,Re.axisInteraction.click.active=!0,Re.axisInteraction.click.index=Ce.payload.activeIndex,Re.axisInteraction.click.dataKey=Ce.payload.activeDataKey,Re.axisInteraction.click.coordinate=Ce.payload.activeCoordinate},setSyncInteraction(Re,Ce){Re.syncInteraction=Ce.payload},setKeyboardInteraction(Re,Ce){Re.keyboardInteraction.active=Ce.payload.active,Re.keyboardInteraction.index=Ce.payload.activeIndex,Re.keyboardInteraction.coordinate=Ce.payload.activeCoordinate,Re.keyboardInteraction.dataKey=Ce.payload.activeDataKey}}}),{addTooltipEntrySettings,removeTooltipEntrySettings,setTooltipSettingsState,setActiveMouseOverItemIndex,mouseLeaveItem,mouseLeaveChart,setActiveClickItemIndex,setMouseOverAxisIndex,setMouseClickAxisIndex,setSyncInteraction,setKeyboardInteraction}=tooltipSlice.actions,tooltipReducer=tooltipSlice.reducer;function ownKeys$l(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$k(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$l(Object(je),!0).forEach(function(Be){_defineProperty$p(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$l(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$p(Re,Ce,je){return(Ce=_toPropertyKey$o(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$o(Re){var Ce=_toPrimitive$o(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$o(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function chooseAppropriateMouseInteraction(Re,Ce,je){return Ce==="axis"?je==="click"?Re.axisInteraction.click:Re.axisInteraction.hover:je==="click"?Re.itemInteraction.click:Re.itemInteraction.hover}function hasBeenActivePreviously(Re){return Re.index!=null}var combineTooltipInteractionState=(Re,Ce,je,Be)=>{if(Ce==null)return noInteraction;var De=chooseAppropriateMouseInteraction(Re,Ce,je);if(De==null)return noInteraction;if(De.active)return De;if(Re.keyboardInteraction.active)return Re.keyboardInteraction;if(Re.syncInteraction.active&&Re.syncInteraction.index!=null)return Re.syncInteraction;var Fe=Re.settings.active===!0;if(hasBeenActivePreviously(De)){if(Fe)return _objectSpread$k(_objectSpread$k({},De),{},{active:!0})}else if(Be!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:Be};return _objectSpread$k(_objectSpread$k({},noInteraction),{},{coordinate:De.coordinate})},combineActiveTooltipIndex=(Re,Ce)=>{var je=Re?.index;if(je==null)return null;var Be=Number(je);if(!isWellBehavedNumber(Be))return je;var De=0,Fe=1/0;return Ce.length>0&&(Fe=Ce.length-1),String(Math.max(De,Math.min(Be,Fe)))},combineCoordinateForDefaultIndex=(Re,Ce,je,Be,De,Fe,ke,Oe)=>{if(!(Fe==null||Oe==null)){var Me=ke[0],Ue=Me==null?void 0:Oe(Me.positions,Fe);if(Ue!=null)return Ue;var $e=De?.[Number(Fe)];if($e)switch(je){case"horizontal":return{x:$e.coordinate,y:(Be.top+Ce)/2};default:return{x:(Be.left+Re)/2,y:$e.coordinate}}}},combineTooltipPayloadConfigurations=(Re,Ce,je,Be)=>{if(Ce==="axis")return Re.tooltipItemPayloads;if(Re.tooltipItemPayloads.length===0)return[];var De;return je==="hover"?De=Re.itemInteraction.hover.dataKey:De=Re.itemInteraction.click.dataKey,De==null&&Be!=null?[Re.tooltipItemPayloads[0]]:Re.tooltipItemPayloads.filter(Fe=>{var ke;return((ke=Fe.settings)===null||ke===void 0?void 0:ke.dataKey)===De})},selectTooltipPayloadSearcher=Re=>Re.options.tooltipPayloadSearcher,selectTooltipState=Re=>Re.tooltip;function ownKeys$k(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$j(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$k(Object(je),!0).forEach(function(Be){_defineProperty$o(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$k(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$o(Re,Ce,je){return(Ce=_toPropertyKey$n(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$n(Re){var Ce=_toPrimitive$n(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$n(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function selectFinalData(Re,Ce){return Re??Ce}var combineTooltipPayload=(Re,Ce,je,Be,De,Fe,ke)=>{if(!(Ce==null||Fe==null)){var{chartData:Oe,computedData:Me,dataStartIndex:Ue,dataEndIndex:$e}=je,He=[];return Re.reduce((Qe,We)=>{var qe,{dataDefinedOnItem:Ke,settings:Xe}=We,Ye=selectFinalData(Ke,Oe),Ze=Array.isArray(Ye)?getSliced(Ye,Ue,$e):Ye,Je=(qe=Xe?.dataKey)!==null&&qe!==void 0?qe:Be?.dataKey,tr=Xe?.nameKey,rr;if(Be!=null&&Be.dataKey&&Array.isArray(Ze)&&!Array.isArray(Ze[0])&&ke==="axis"?rr=findEntryInArray(Ze,Be.dataKey,De):rr=Fe(Ze,Ce,Me,tr),Array.isArray(rr))rr.forEach(ir=>{var nr=_objectSpread$j(_objectSpread$j({},Xe),{},{name:ir.name,unit:ir.unit,color:void 0,fill:void 0});Qe.push(getTooltipEntry({tooltipEntrySettings:nr,dataKey:ir.dataKey,payload:ir.payload,value:getValueByDataKey(ir.payload,ir.dataKey),name:ir.name}))});else{var ar;Qe.push(getTooltipEntry({tooltipEntrySettings:Xe,dataKey:Je,payload:rr,value:getValueByDataKey(rr,Je),name:(ar=getValueByDataKey(rr,tr))!==null&&ar!==void 0?ar:Xe?.name}))}return Qe},He)}},selectTooltipAxisRealScaleType=createSelector([selectTooltipAxis,selectChartLayout,selectHasBar,selectChartName,selectTooltipAxisType],combineRealScaleType),selectAllUnfilteredGraphicalItems=createSelector([Re=>Re.graphicalItems.cartesianItems,Re=>Re.graphicalItems.polarItems],(Re,Ce)=>[...Re,...Ce]),selectTooltipAxisPredicate=createSelector([selectTooltipAxisType,selectTooltipAxisId],itemAxisPredicate),selectAllGraphicalItemsSettings=createSelector([selectAllUnfilteredGraphicalItems,selectTooltipAxis,selectTooltipAxisPredicate],combineGraphicalItemsSettings),selectAllStackedGraphicalItemsSettings=createSelector([selectAllGraphicalItemsSettings],Re=>Re.filter(isStacked)),selectTooltipGraphicalItemsData=createSelector([selectAllGraphicalItemsSettings],combineGraphicalItemsData),selectTooltipDisplayedData=createSelector([selectTooltipGraphicalItemsData,selectChartDataWithIndexes],combineDisplayedData),selectTooltipStackedData=createSelector([selectAllStackedGraphicalItemsSettings,selectChartDataWithIndexes,selectTooltipAxis],combineDisplayedStackedData),selectAllTooltipAppliedValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectAllGraphicalItemsSettings],combineAppliedValues),selectTooltipAxisDomainDefinition=createSelector([selectTooltipAxis],getDomainDefinition),selectAllStackedGraphicalItems=createSelector([selectAllGraphicalItemsSettings],Re=>Re.filter(isStacked)),selectTooltipStackGroups=createSelector([selectTooltipStackedData,selectAllStackedGraphicalItems,selectStackOffsetType],combineStackGroups),selectTooltipDomainOfStackGroups=createSelector([selectTooltipStackGroups,selectChartDataWithIndexes,selectTooltipAxisType],combineDomainOfStackGroups),selectTooltipItemsSettingsExceptStacked=createSelector([selectAllGraphicalItemsSettings],filterGraphicalNotStackedItems),selectTooltipAllAppliedNumericalValuesIncludingErrorValues=createSelector([selectTooltipDisplayedData,selectTooltipAxis,selectTooltipItemsSettingsExceptStacked,selectAllErrorBarSettings,selectTooltipAxisType],combineAppliedNumericalValuesIncludingErrorValues),selectReferenceDotsByTooltipAxis=createSelector([selectReferenceDots,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceDotsDomain=createSelector([selectReferenceDotsByTooltipAxis,selectTooltipAxisType],combineDotsDomain),selectReferenceAreasByTooltipAxis=createSelector([selectReferenceAreas,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceAreasDomain=createSelector([selectReferenceAreasByTooltipAxis,selectTooltipAxisType],combineAreasDomain),selectReferenceLinesByTooltipAxis=createSelector([selectReferenceLines,selectTooltipAxisType,selectTooltipAxisId],filterReferenceElements),selectTooltipReferenceLinesDomain=createSelector([selectReferenceLinesByTooltipAxis,selectTooltipAxisType],combineLinesDomain),selectTooltipReferenceElementsDomain=createSelector([selectTooltipReferenceDotsDomain,selectTooltipReferenceLinesDomain,selectTooltipReferenceAreasDomain],mergeDomains),selectTooltipNumericalDomain=createSelector([selectTooltipAxis,selectTooltipAxisDomainDefinition,selectTooltipDomainOfStackGroups,selectTooltipAllAppliedNumericalValuesIncludingErrorValues,selectTooltipReferenceElementsDomain,selectChartLayout,selectTooltipAxisType],combineNumericalDomain),selectTooltipAxisDomain=createSelector([selectTooltipAxis,selectChartLayout,selectTooltipDisplayedData,selectAllTooltipAppliedValues,selectStackOffsetType,selectTooltipAxisType,selectTooltipNumericalDomain],combineAxisDomain),selectTooltipNiceTicks=createSelector([selectTooltipAxisDomain,selectTooltipAxis,selectTooltipAxisRealScaleType],combineNiceTicks),selectTooltipAxisDomainIncludingNiceTicks=createSelector([selectTooltipAxis,selectTooltipAxisDomain,selectTooltipNiceTicks,selectTooltipAxisType],combineAxisDomainWithNiceTicks),selectTooltipAxisRange=Re=>{var Ce=selectTooltipAxisType(Re),je=selectTooltipAxisId(Re),Be=!1;return selectAxisRange(Re,Ce,je,Be)},selectTooltipAxisRangeWithReverse=createSelector([selectTooltipAxis,selectTooltipAxisRange],combineAxisRangeWithReverse),selectTooltipAxisScale=createSelector([selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisDomainIncludingNiceTicks,selectTooltipAxisRangeWithReverse],combineScaleFunction),selectTooltipDuplicateDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineDuplicateDomain),selectTooltipCategoricalDomain=createSelector([selectChartLayout,selectAllTooltipAppliedValues,selectTooltipAxis,selectTooltipAxisType],combineCategoricalDomain),combineTicksOfTooltipAxis=(Re,Ce,je,Be,De,Fe,ke,Oe)=>{if(Ce){var{type:Me}=Ce,Ue=isCategoricalAxis(Re,Oe);if(Be){var $e=je==="scaleBand"&&Be.bandwidth?Be.bandwidth()/2:2,He=Me==="category"&&Be.bandwidth?Be.bandwidth()/$e:0;return He=Oe==="angleAxis"&&De!=null&&De?.length>=2?mathSign(De[0]-De[1])*2*He:He,Ue&&ke?ke.map((Qe,We)=>({coordinate:Be(Qe)+He,value:Qe,index:We,offset:He})):Be.domain().map((Qe,We)=>({coordinate:Be(Qe)+He,value:Fe?Fe[Qe]:Qe,index:We,offset:He}))}}},selectTooltipAxisTicks=createSelector([selectChartLayout,selectTooltipAxis,selectTooltipAxisRealScaleType,selectTooltipAxisScale,selectTooltipAxisRange,selectTooltipDuplicateDomain,selectTooltipCategoricalDomain,selectTooltipAxisType],combineTicksOfTooltipAxis),selectTooltipEventType=createSelector([selectDefaultTooltipEventType,selectValidateTooltipEventTypes,selectTooltipSettings],(Re,Ce,je)=>combineTooltipEventType(je.shared,Re,Ce)),selectTooltipTrigger=Re=>Re.tooltip.settings.trigger,selectDefaultIndex=Re=>Re.tooltip.settings.defaultIndex,selectTooltipInteractionState$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipInteractionState),selectActiveTooltipIndex=createSelector([selectTooltipInteractionState$1,selectTooltipDisplayedData],combineActiveTooltipIndex),selectActiveLabel$1=createSelector([selectTooltipAxisTicks,selectActiveTooltipIndex],combineActiveLabel),selectActiveTooltipDataKey=createSelector([selectTooltipInteractionState$1],Re=>{if(Re)return Re.dataKey}),selectTooltipPayloadConfigurations$1=createSelector([selectTooltipState,selectTooltipEventType,selectTooltipTrigger,selectDefaultIndex],combineTooltipPayloadConfigurations),selectTooltipCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,selectDefaultIndex,selectTooltipPayloadConfigurations$1,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveTooltipCoordinate=createSelector([selectTooltipInteractionState$1,selectTooltipCoordinateForDefaultIndex],(Re,Ce)=>Re!=null&&Re.coordinate?Re.coordinate:Ce),selectIsTooltipActive$1=createSelector([selectTooltipInteractionState$1],Re=>Re.active),selectActiveTooltipPayload=createSelector([selectTooltipPayloadConfigurations$1,selectActiveTooltipIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel$1,selectTooltipPayloadSearcher,selectTooltipEventType],combineTooltipPayload),selectActiveTooltipDataPoints=createSelector([selectActiveTooltipPayload],Re=>{if(Re!=null){var Ce=Re.map(je=>je.payload).filter(je=>je!=null);return Array.from(new Set(Ce))}});function ownKeys$j(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$i(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$j(Object(je),!0).forEach(function(Be){_defineProperty$n(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$j(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$n(Re,Ce,je){return(Ce=_toPropertyKey$m(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$m(Re){var Ce=_toPrimitive$m(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$m(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var useTooltipAxis=()=>useAppSelector(selectTooltipAxis),useTooltipAxisBandSize=()=>{var Re=useTooltipAxis(),Ce=useAppSelector(selectTooltipAxisTicks),je=useAppSelector(selectTooltipAxisScale);return getBandSizeOfAxis(_objectSpread$i(_objectSpread$i({},Re),{},{scale:je}),Ce)},useChartName=()=>useAppSelector(selectChartName),pickTooltipEventType=(Re,Ce)=>Ce,pickTrigger=(Re,Ce,je)=>je,pickDefaultIndex=(Re,Ce,je,Be)=>Be,selectOrderedTooltipTicks=createSelector(selectTooltipAxisTicks,Re=>sortBy(Re,Ce=>Ce.coordinate)),selectTooltipInteractionState=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipInteractionState),selectActiveIndex=createSelector([selectTooltipInteractionState,selectTooltipDisplayedData],combineActiveTooltipIndex),selectTooltipDataKey=(Re,Ce,je)=>{if(Ce!=null){var Be=selectTooltipState(Re);return Ce==="axis"?je==="hover"?Be.axisInteraction.hover.dataKey:Be.axisInteraction.click.dataKey:je==="hover"?Be.itemInteraction.hover.dataKey:Be.itemInteraction.click.dataKey}},selectTooltipPayloadConfigurations=createSelector([selectTooltipState,pickTooltipEventType,pickTrigger,pickDefaultIndex],combineTooltipPayloadConfigurations),selectCoordinateForDefaultIndex=createSelector([selectChartWidth,selectChartHeight,selectChartLayout,selectChartOffsetInternal,selectTooltipAxisTicks,pickDefaultIndex,selectTooltipPayloadConfigurations,selectTooltipPayloadSearcher],combineCoordinateForDefaultIndex),selectActiveCoordinate=createSelector([selectTooltipInteractionState,selectCoordinateForDefaultIndex],(Re,Ce)=>{var je;return(je=Re.coordinate)!==null&&je!==void 0?je:Ce}),selectActiveLabel=createSelector(selectTooltipAxisTicks,selectActiveIndex,combineActiveLabel),selectTooltipPayload=createSelector([selectTooltipPayloadConfigurations,selectActiveIndex,selectChartDataWithIndexes,selectTooltipAxis,selectActiveLabel,selectTooltipPayloadSearcher,pickTooltipEventType],combineTooltipPayload),selectIsTooltipActive=createSelector([selectTooltipInteractionState],Re=>({isActive:Re.active,activeIndex:Re.index})),combineActiveProps=(Re,Ce,je,Be,De,Fe,ke,Oe)=>{if(!(!Re||!Ce||!Be||!De||!Fe)){var Me=inRange(Re.chartX,Re.chartY,Ce,je,Oe);if(Me){var Ue=calculateTooltipPos(Me,Ce),$e=calculateActiveTickIndex(Ue,ke,Fe,Be,De),He=getActiveCoordinate(Ce,Fe,$e,Me);return{activeIndex:String($e),activeCoordinate:He}}}};function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$g.apply(null,arguments)}function ownKeys$i(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$h(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$i(Object(je),!0).forEach(function(Be){_defineProperty$m(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$i(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$m(Re,Ce,je){return(Ce=_toPropertyKey$l(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$l(Re){var Ce=_toPrimitive$l(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$l(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function CursorInternal(Re){var{coordinate:Ce,payload:je,index:Be,offset:De,tooltipAxisBandSize:Fe,layout:ke,cursor:Oe,tooltipEventType:Me,chartName:Ue}=Re,$e=Ce,He=je,Qe=Be;if(!Oe||!$e||Ue!=="ScatterChart"&&Me!=="axis")return null;var We,qe;if(Ue==="ScatterChart")We=$e,qe=Cross;else if(Ue==="BarChart")We=getCursorRectangle(ke,$e,De,Fe),qe=Rectangle;else if(ke==="radial"){var{cx:Ke,cy:Xe,radius:Ye,startAngle:Ze,endAngle:Je}=getRadialCursorPoints($e);We={cx:Ke,cy:Xe,startAngle:Ze,endAngle:Je,innerRadius:Ye,outerRadius:Ye},qe=Sector}else We={points:getCursorPoints(ke,$e,De)},qe=Curve;var tr=typeof Oe=="object"&&"className"in Oe?Oe.className:void 0,rr=_objectSpread$h(_objectSpread$h(_objectSpread$h(_objectSpread$h({stroke:"#ccc",pointerEvents:"none"},De),We),filterProps(Oe,!1)),{},{payload:He,payloadIndex:Qe,className:clsx("recharts-tooltip-cursor",tr)});return reactExports.isValidElement(Oe)?reactExports.cloneElement(Oe,rr):reactExports.createElement(qe,rr)}function Cursor(Re){var Ce=useTooltipAxisBandSize(),je=useOffsetInternal(),Be=useChartLayout(),De=useChartName();return reactExports.createElement(CursorInternal,_extends$g({},Re,{coordinate:Re.coordinate,index:Re.index,payload:Re.payload,offset:je,layout:Be,tooltipAxisBandSize:Ce,chartName:De}))}var TooltipPortalContext=reactExports.createContext(null),useTooltipPortal=()=>reactExports.useContext(TooltipPortalContext),eventemitter3={exports:{}},hasRequiredEventemitter3;function requireEventemitter3(){return hasRequiredEventemitter3||(hasRequiredEventemitter3=1,(function(Re){var Ce=Object.prototype.hasOwnProperty,je="~";function Be(){}Object.create&&(Be.prototype=Object.create(null),new Be().__proto__||(je=!1));function De(Me,Ue,$e){this.fn=Me,this.context=Ue,this.once=$e||!1}function Fe(Me,Ue,$e,He,Qe){if(typeof $e!="function")throw new TypeError("The listener must be a function");var We=new De($e,He||Me,Qe),qe=je?je+Ue:Ue;return Me._events[qe]?Me._events[qe].fn?Me._events[qe]=[Me._events[qe],We]:Me._events[qe].push(We):(Me._events[qe]=We,Me._eventsCount++),Me}function ke(Me,Ue){--Me._eventsCount===0?Me._events=new Be:delete Me._events[Ue]}function Oe(){this._events=new Be,this._eventsCount=0}Oe.prototype.eventNames=function(){var Ue=[],$e,He;if(this._eventsCount===0)return Ue;for(He in $e=this._events)Ce.call($e,He)&&Ue.push(je?He.slice(1):He);return Object.getOwnPropertySymbols?Ue.concat(Object.getOwnPropertySymbols($e)):Ue},Oe.prototype.listeners=function(Ue){var $e=je?je+Ue:Ue,He=this._events[$e];if(!He)return[];if(He.fn)return[He.fn];for(var Qe=0,We=He.length,qe=new Array(We);Qe<We;Qe++)qe[Qe]=He[Qe].fn;return qe},Oe.prototype.listenerCount=function(Ue){var $e=je?je+Ue:Ue,He=this._events[$e];return He?He.fn?1:He.length:0},Oe.prototype.emit=function(Ue,$e,He,Qe,We,qe){var Ke=je?je+Ue:Ue;if(!this._events[Ke])return!1;var Xe=this._events[Ke],Ye=arguments.length,Ze,Je;if(Xe.fn){switch(Xe.once&&this.removeListener(Ue,Xe.fn,void 0,!0),Ye){case 1:return Xe.fn.call(Xe.context),!0;case 2:return Xe.fn.call(Xe.context,$e),!0;case 3:return Xe.fn.call(Xe.context,$e,He),!0;case 4:return Xe.fn.call(Xe.context,$e,He,Qe),!0;case 5:return Xe.fn.call(Xe.context,$e,He,Qe,We),!0;case 6:return Xe.fn.call(Xe.context,$e,He,Qe,We,qe),!0}for(Je=1,Ze=new Array(Ye-1);Je<Ye;Je++)Ze[Je-1]=arguments[Je];Xe.fn.apply(Xe.context,Ze)}else{var tr=Xe.length,rr;for(Je=0;Je<tr;Je++)switch(Xe[Je].once&&this.removeListener(Ue,Xe[Je].fn,void 0,!0),Ye){case 1:Xe[Je].fn.call(Xe[Je].context);break;case 2:Xe[Je].fn.call(Xe[Je].context,$e);break;case 3:Xe[Je].fn.call(Xe[Je].context,$e,He);break;case 4:Xe[Je].fn.call(Xe[Je].context,$e,He,Qe);break;default:if(!Ze)for(rr=1,Ze=new Array(Ye-1);rr<Ye;rr++)Ze[rr-1]=arguments[rr];Xe[Je].fn.apply(Xe[Je].context,Ze)}}return!0},Oe.prototype.on=function(Ue,$e,He){return Fe(this,Ue,$e,He,!1)},Oe.prototype.once=function(Ue,$e,He){return Fe(this,Ue,$e,He,!0)},Oe.prototype.removeListener=function(Ue,$e,He,Qe){var We=je?je+Ue:Ue;if(!this._events[We])return this;if(!$e)return ke(this,We),this;var qe=this._events[We];if(qe.fn)qe.fn===$e&&(!Qe||qe.once)&&(!He||qe.context===He)&&ke(this,We);else{for(var Ke=0,Xe=[],Ye=qe.length;Ke<Ye;Ke++)(qe[Ke].fn!==$e||Qe&&!qe[Ke].once||He&&qe[Ke].context!==He)&&Xe.push(qe[Ke]);Xe.length?this._events[We]=Xe.length===1?Xe[0]:Xe:ke(this,We)}return this},Oe.prototype.removeAllListeners=function(Ue){var $e;return Ue?($e=je?je+Ue:Ue,this._events[$e]&&ke(this,$e)):(this._events=new Be,this._eventsCount=0),this},Oe.prototype.off=Oe.prototype.removeListener,Oe.prototype.addListener=Oe.prototype.on,Oe.prefixed=je,Oe.EventEmitter=Oe,Re.exports=Oe})(eventemitter3)),eventemitter3.exports}var eventemitter3Exports=requireEventemitter3();const EventEmitter=getDefaultExportFromCjs(eventemitter3Exports);var eventCenter=new EventEmitter,TOOLTIP_SYNC_EVENT="recharts.syncEvent.tooltip",BRUSH_SYNC_EVENT="recharts.syncEvent.brush";function arrayTooltipSearcher(Re,Ce){if(Ce){var je=Number.parseInt(Ce,10);if(!isNan(je))return Re?.[je]}}var initialState$7={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},optionsSlice=createSlice({name:"options",initialState:initialState$7,reducers:{createEventEmitter:Re=>{Re.eventEmitter==null&&(Re.eventEmitter=Symbol("rechartsEventEmitter"))}}}),optionsReducer=optionsSlice.reducer,{createEventEmitter}=optionsSlice.actions;function selectSynchronisedTooltipState(Re){return Re.tooltip.syncInteraction}var initialChartDataState={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},chartDataSlice=createSlice({name:"chartData",initialState:initialChartDataState,reducers:{setChartData(Re,Ce){if(Re.chartData=Ce.payload,Ce.payload==null){Re.dataStartIndex=0,Re.dataEndIndex=0;return}Ce.payload.length>0&&Re.dataEndIndex!==Ce.payload.length-1&&(Re.dataEndIndex=Ce.payload.length-1)},setComputedData(Re,Ce){Re.computedData=Ce.payload},setDataStartEndIndexes(Re,Ce){var{startIndex:je,endIndex:Be}=Ce.payload;je!=null&&(Re.dataStartIndex=je),Be!=null&&(Re.dataEndIndex=Be)}}}),{setChartData,setDataStartEndIndexes,setComputedData}=chartDataSlice.actions,chartDataReducer=chartDataSlice.reducer,noop$5=()=>{};function useTooltipSyncEventsListener(){var Re=useAppSelector(selectSyncId),Ce=useAppSelector(selectEventEmitter),je=useAppDispatch(),Be=useAppSelector(selectSyncMethod),De=useAppSelector(selectTooltipAxisTicks),Fe=useChartLayout(),ke=useViewBox(),Oe=useAppSelector(Me=>Me.rootProps.className);reactExports.useEffect(()=>{if(Re==null)return noop$5;var Me=(Ue,$e,He)=>{if(Ce!==He&&Re===Ue){if(Be==="index"){je($e);return}if(De!=null){var Qe;if(typeof Be=="function"){var We={activeTooltipIndex:$e.payload.index==null?void 0:Number($e.payload.index),isTooltipActive:$e.payload.active,activeIndex:$e.payload.index==null?void 0:Number($e.payload.index),activeLabel:$e.payload.label,activeDataKey:$e.payload.dataKey,activeCoordinate:$e.payload.coordinate},qe=Be(De,We);Qe=De[qe]}else Be==="value"&&(Qe=De.find(ar=>String(ar.value)===$e.payload.label));var{coordinate:Ke}=$e.payload;if(Qe==null||$e.payload.active===!1||Ke==null||ke==null){je(setSyncInteraction({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:Xe,y:Ye}=Ke,Ze=Math.min(Xe,ke.x+ke.width),Je=Math.min(Ye,ke.y+ke.height),tr={x:Fe==="horizontal"?Qe.coordinate:Ze,y:Fe==="horizontal"?Je:Qe.coordinate},rr=setSyncInteraction({active:$e.payload.active,coordinate:tr,dataKey:$e.payload.dataKey,index:String(Qe.index),label:$e.payload.label});je(rr)}}};return eventCenter.on(TOOLTIP_SYNC_EVENT,Me),()=>{eventCenter.off(TOOLTIP_SYNC_EVENT,Me)}},[Oe,je,Ce,Re,Be,De,Fe,ke])}function useBrushSyncEventsListener(){var Re=useAppSelector(selectSyncId),Ce=useAppSelector(selectEventEmitter),je=useAppDispatch();reactExports.useEffect(()=>{if(Re==null)return noop$5;var Be=(De,Fe,ke)=>{Ce!==ke&&Re===De&&je(setDataStartEndIndexes(Fe))};return eventCenter.on(BRUSH_SYNC_EVENT,Be),()=>{eventCenter.off(BRUSH_SYNC_EVENT,Be)}},[je,Ce,Re])}function useSynchronisedEventsFromOtherCharts(){var Re=useAppDispatch();reactExports.useEffect(()=>{Re(createEventEmitter())},[Re]),useTooltipSyncEventsListener(),useBrushSyncEventsListener()}function useTooltipChartSynchronisation(Re,Ce,je,Be,De,Fe){var ke=useAppSelector(Qe=>selectTooltipDataKey(Qe,Re,Ce)),Oe=useAppSelector(selectEventEmitter),Me=useAppSelector(selectSyncId),Ue=useAppSelector(selectSyncMethod),$e=useAppSelector(selectSynchronisedTooltipState),He=$e?.active;reactExports.useEffect(()=>{if(!He&&Me!=null&&Oe!=null){var Qe=setSyncInteraction({active:Fe,coordinate:je,dataKey:ke,index:De,label:typeof Be=="number"?String(Be):Be});eventCenter.emit(TOOLTIP_SYNC_EVENT,Me,Qe,Oe)}},[He,je,ke,De,Be,Oe,Me,Ue,Fe])}function ownKeys$h(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$g(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$h(Object(je),!0).forEach(function(Be){_defineProperty$l(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$h(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$l(Re,Ce,je){return(Ce=_toPropertyKey$k(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$k(Re){var Ce=_toPrimitive$k(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$k(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function defaultUniqBy(Re){return Re.dataKey}function renderContent(Re,Ce){return reactExports.isValidElement(Re)?reactExports.cloneElement(Re,Ce):typeof Re=="function"?reactExports.createElement(Re,Ce):reactExports.createElement(DefaultTooltipContent,Ce)}var emptyPayload=[],defaultTooltipProps={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Global$1.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Tooltip(Re){var Ce=resolveDefaultProps(Re,defaultTooltipProps),{active:je,allowEscapeViewBox:Be,animationDuration:De,animationEasing:Fe,content:ke,filterNull:Oe,isAnimationActive:Me,offset:Ue,payloadUniqBy:$e,position:He,reverseDirection:Qe,useTranslate3d:We,wrapperStyle:qe,cursor:Ke,shared:Xe,trigger:Ye,defaultIndex:Ze,portal:Je,axisId:tr}=Ce,rr=useAppDispatch(),ar=typeof Ze=="number"?String(Ze):Ze;reactExports.useEffect(()=>{rr(setTooltipSettingsState({shared:Xe,trigger:Ye,axisId:tr,active:je,defaultIndex:ar}))},[rr,Xe,Ye,tr,je,ar]);var ir=useViewBox(),nr=useAccessibilityLayer(),cr=useTooltipEventType(Xe),{activeIndex:mr,isActive:fr}=useAppSelector(Or=>selectIsTooltipActive(Or,cr,Ye,ar)),or=useAppSelector(Or=>selectTooltipPayload(Or,cr,Ye,ar)),yr=useAppSelector(Or=>selectActiveLabel(Or,cr,Ye,ar)),Cr=useAppSelector(Or=>selectActiveCoordinate(Or,cr,Ye,ar)),jr=or,vr=useTooltipPortal(),Tr=je??fr,[wr,Er]=useElementOffset([jr,Tr]),Pr=cr==="axis"?yr:void 0;useTooltipChartSynchronisation(cr,Ye,Cr,Pr,mr,Tr);var Mr=Je??vr;if(Mr==null)return null;var _r=jr??emptyPayload;Tr||(_r=emptyPayload),Oe&&_r.length&&(_r=getUniqPayload(jr.filter(Or=>Or.value!=null&&(Or.hide!==!0||Ce.includeHidden)),$e,defaultUniqBy));var Ir=_r.length>0,Dr=reactExports.createElement(TooltipBoundingBox,{allowEscapeViewBox:Be,animationDuration:De,animationEasing:Fe,isAnimationActive:Me,active:Tr,coordinate:Cr,hasPayload:Ir,offset:Ue,position:He,reverseDirection:Qe,useTranslate3d:We,viewBox:ir,wrapperStyle:qe,lastBoundingBox:wr,innerRef:Er,hasPortalFromProps:!!Je},renderContent(ke,_objectSpread$g(_objectSpread$g({},Ce),{},{payload:_r,label:Pr,active:Tr,coordinate:Cr,accessibilityLayer:nr})));return reactExports.createElement(reactExports.Fragment,null,reactDomExports.createPortal(Dr,Mr),Tr&&reactExports.createElement(Cursor,{cursor:Ke,tooltipEventType:cr,coordinate:Cr,payload:jr,index:mr}))}var throttle$2={},debounce$2={},debounce$1={},hasRequiredDebounce$1;function requireDebounce$1(){return hasRequiredDebounce$1||(hasRequiredDebounce$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je,Be,{signal:De,edges:Fe}={}){let ke,Oe=null;const Me=Fe!=null&&Fe.includes("leading"),Ue=Fe==null||Fe.includes("trailing"),$e=()=>{Oe!==null&&(je.apply(ke,Oe),ke=void 0,Oe=null)},He=()=>{Ue&&$e(),Ke()};let Qe=null;const We=()=>{Qe!=null&&clearTimeout(Qe),Qe=setTimeout(()=>{Qe=null,He()},Be)},qe=()=>{Qe!==null&&(clearTimeout(Qe),Qe=null)},Ke=()=>{qe(),ke=void 0,Oe=null},Xe=()=>{$e()},Ye=function(...Ze){if(De?.aborted)return;ke=this,Oe=Ze;const Je=Qe==null;We(),Me&&Je&&$e()};return Ye.schedule=We,Ye.cancel=Ke,Ye.flush=Xe,De?.addEventListener("abort",Ke,{once:!0}),Ye}Re.debounce=Ce})(debounce$1)),debounce$1}var hasRequiredDebounce;function requireDebounce(){return hasRequiredDebounce||(hasRequiredDebounce=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireDebounce$1();function je(Be,De=0,Fe={}){typeof Fe!="object"&&(Fe={});const{leading:ke=!1,trailing:Oe=!0,maxWait:Me}=Fe,Ue=Array(2);ke&&(Ue[0]="leading"),Oe&&(Ue[1]="trailing");let $e,He=null;const Qe=Ce.debounce(function(...Ke){$e=Be.apply(this,Ke),He=null},De,{edges:Ue}),We=function(...Ke){return Me!=null&&(He===null&&(He=Date.now()),Date.now()-He>=Me)?($e=Be.apply(this,Ke),He=Date.now(),Qe.cancel(),Qe.schedule(),$e):(Qe.apply(this,Ke),$e)},qe=()=>(Qe.flush(),$e);return We.cancel=Qe.cancel,We.flush=qe,We}Re.debounce=je})(debounce$2)),debounce$2}var hasRequiredThrottle$1;function requireThrottle$1(){return hasRequiredThrottle$1||(hasRequiredThrottle$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireDebounce();function je(Be,De=0,Fe={}){const{leading:ke=!0,trailing:Oe=!0}=Fe;return Ce.debounce(Be,De,{leading:ke,maxWait:De,trailing:Oe})}Re.throttle=je})(throttle$2)),throttle$2}var throttle$1,hasRequiredThrottle;function requireThrottle(){return hasRequiredThrottle||(hasRequiredThrottle=1,throttle$1=requireThrottle$1().throttle),throttle$1}var throttleExports=requireThrottle();const throttle=getDefaultExportFromCjs(throttleExports);var warn=function Re(Ce,je){for(var Be=arguments.length,De=new Array(Be>2?Be-2:0),Fe=2;Fe<Be;Fe++)De[Fe-2]=arguments[Fe]};function ownKeys$g(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$f(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$g(Object(je),!0).forEach(function(Be){_defineProperty$k(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$g(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$k(Re,Ce,je){return(Ce=_toPropertyKey$j(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$j(Re){var Ce=_toPrimitive$j(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$j(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var ResponsiveContainer=reactExports.forwardRef((Re,Ce)=>{var{aspect:je,initialDimension:Be={width:-1,height:-1},width:De="100%",height:Fe="100%",minWidth:ke=0,minHeight:Oe,maxHeight:Me,children:Ue,debounce:$e=0,id:He,className:Qe,onResize:We,style:qe={}}=Re,Ke=reactExports.useRef(null),Xe=reactExports.useRef();Xe.current=We,reactExports.useImperativeHandle(Ce,()=>Ke.current);var[Ye,Ze]=reactExports.useState({containerWidth:Be.width,containerHeight:Be.height}),Je=reactExports.useCallback((rr,ar)=>{Ze(ir=>{var nr=Math.round(rr),cr=Math.round(ar);return ir.containerWidth===nr&&ir.containerHeight===cr?ir:{containerWidth:nr,containerHeight:cr}})},[]);reactExports.useEffect(()=>{var rr=cr=>{var mr,{width:fr,height:or}=cr[0].contentRect;Je(fr,or),(mr=Xe.current)===null||mr===void 0||mr.call(Xe,fr,or)};$e>0&&(rr=throttle(rr,$e,{trailing:!0,leading:!1}));var ar=new ResizeObserver(rr),{width:ir,height:nr}=Ke.current.getBoundingClientRect();return Je(ir,nr),ar.observe(Ke.current),()=>{ar.disconnect()}},[Je,$e]);var tr=reactExports.useMemo(()=>{var{containerWidth:rr,containerHeight:ar}=Ye;if(rr<0||ar<0)return null;warn(isPercent(De)||isPercent(Fe),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,De,Fe),warn(!je||je>0,"The aspect(%s) must be greater than zero.",je);var ir=isPercent(De)?rr:De,nr=isPercent(Fe)?ar:Fe;return je&&je>0&&(ir?nr=ir/je:nr&&(ir=nr*je),Me&&nr>Me&&(nr=Me)),warn(ir>0||nr>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,ir,nr,De,Fe,ke,Oe,je),reactExports.Children.map(Ue,cr=>reactExports.cloneElement(cr,{width:ir,height:nr,style:_objectSpread$f({width:ir,height:nr},cr.props.style)}))},[je,Ue,Fe,Me,Oe,ke,Ye,De]);return reactExports.createElement("div",{id:He?"".concat(He):void 0,className:clsx("recharts-responsive-container",Qe),style:_objectSpread$f(_objectSpread$f({},qe),{},{width:De,height:Fe,minWidth:ke,minHeight:Oe,maxHeight:Me}),ref:Ke},reactExports.createElement("div",{style:{width:0,height:0,overflow:"visible"}},tr))}),Cell=Re=>null;Cell.displayName="Cell";function _defineProperty$j(Re,Ce,je){return(Ce=_toPropertyKey$i(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$i(Re){var Ce=_toPrimitive$i(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$i(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}class LRUCache{constructor(Ce){_defineProperty$j(this,"cache",new Map),this.maxSize=Ce}get(Ce){var je=this.cache.get(Ce);return je!==void 0&&(this.cache.delete(Ce),this.cache.set(Ce,je)),je}set(Ce,je){if(this.cache.has(Ce))this.cache.delete(Ce);else if(this.cache.size>=this.maxSize){var Be=this.cache.keys().next().value;this.cache.delete(Be)}this.cache.set(Ce,je)}clear(){this.cache.clear()}size(){return this.cache.size}}function ownKeys$f(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$e(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$f(Object(je),!0).forEach(function(Be){_defineProperty$i(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$f(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$i(Re,Ce,je){return(Ce=_toPropertyKey$h(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$h(Re){var Ce=_toPrimitive$h(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$h(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var defaultConfig={cacheSize:2e3,enableCache:!0},currentConfig=_objectSpread$e({},defaultConfig),stringCache=new LRUCache(currentConfig.cacheSize),SPAN_STYLE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},MEASUREMENT_SPAN_ID="recharts_measurement_span";function createCacheKey(Re,Ce){var je=Ce.fontSize||"",Be=Ce.fontFamily||"",De=Ce.fontWeight||"",Fe=Ce.fontStyle||"",ke=Ce.letterSpacing||"",Oe=Ce.textTransform||"";return"".concat(Re,"|").concat(je,"|").concat(Be,"|").concat(De,"|").concat(Fe,"|").concat(ke,"|").concat(Oe)}var measureTextWithDOM=(Re,Ce)=>{try{var je=document.getElementById(MEASUREMENT_SPAN_ID);je||(je=document.createElement("span"),je.setAttribute("id",MEASUREMENT_SPAN_ID),je.setAttribute("aria-hidden","true"),document.body.appendChild(je)),Object.assign(je.style,SPAN_STYLE,Ce),je.textContent="".concat(Re);var Be=je.getBoundingClientRect();return{width:Be.width,height:Be.height}}catch{return{width:0,height:0}}},getStringSize=function Re(Ce){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce==null||Global$1.isSsr)return{width:0,height:0};if(!currentConfig.enableCache)return measureTextWithDOM(Ce,je);var Be=createCacheKey(Ce,je),De=stringCache.get(Be);if(De)return De;var Fe=measureTextWithDOM(Ce,je);return stringCache.set(Be,Fe),Fe},MULTIPLY_OR_DIVIDE_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ADD_OR_SUBTRACT_REGEX=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CSS_LENGTH_UNIT_REGEX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,NUM_SPLIT_REGEX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,CONVERSION_RATES={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FIXED_CSS_LENGTH_UNITS=Object.keys(CONVERSION_RATES),STR_NAN="NaN";function convertToPx(Re,Ce){return Re*CONVERSION_RATES[Ce]}class DecimalCSS{static parse(Ce){var je,[,Be,De]=(je=NUM_SPLIT_REGEX.exec(Ce))!==null&&je!==void 0?je:[];return new DecimalCSS(parseFloat(Be),De??"")}constructor(Ce,je){this.num=Ce,this.unit=je,this.num=Ce,this.unit=je,isNan(Ce)&&(this.unit=""),je!==""&&!CSS_LENGTH_UNIT_REGEX.test(je)&&(this.num=NaN,this.unit=""),FIXED_CSS_LENGTH_UNITS.includes(je)&&(this.num=convertToPx(Ce,je),this.unit="px")}add(Ce){return this.unit!==Ce.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num+Ce.num,this.unit)}subtract(Ce){return this.unit!==Ce.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num-Ce.num,this.unit)}multiply(Ce){return this.unit!==""&&Ce.unit!==""&&this.unit!==Ce.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num*Ce.num,this.unit||Ce.unit)}divide(Ce){return this.unit!==""&&Ce.unit!==""&&this.unit!==Ce.unit?new DecimalCSS(NaN,""):new DecimalCSS(this.num/Ce.num,this.unit||Ce.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return isNan(this.num)}}function calculateArithmetic(Re){if(Re.includes(STR_NAN))return STR_NAN;for(var Ce=Re;Ce.includes("*")||Ce.includes("/");){var je,[,Be,De,Fe]=(je=MULTIPLY_OR_DIVIDE_REGEX.exec(Ce))!==null&&je!==void 0?je:[],ke=DecimalCSS.parse(Be??""),Oe=DecimalCSS.parse(Fe??""),Me=De==="*"?ke.multiply(Oe):ke.divide(Oe);if(Me.isNaN())return STR_NAN;Ce=Ce.replace(MULTIPLY_OR_DIVIDE_REGEX,Me.toString())}for(;Ce.includes("+")||/.-\d+(?:\.\d+)?/.test(Ce);){var Ue,[,$e,He,Qe]=(Ue=ADD_OR_SUBTRACT_REGEX.exec(Ce))!==null&&Ue!==void 0?Ue:[],We=DecimalCSS.parse($e??""),qe=DecimalCSS.parse(Qe??""),Ke=He==="+"?We.add(qe):We.subtract(qe);if(Ke.isNaN())return STR_NAN;Ce=Ce.replace(ADD_OR_SUBTRACT_REGEX,Ke.toString())}return Ce}var PARENTHESES_REGEX=/\(([^()]*)\)/;function calculateParentheses(Re){for(var Ce=Re,je;(je=PARENTHESES_REGEX.exec(Ce))!=null;){var[,Be]=je;Ce=Ce.replace(PARENTHESES_REGEX,calculateArithmetic(Be))}return Ce}function evaluateExpression(Re){var Ce=Re.replace(/\s+/g,"");return Ce=calculateParentheses(Ce),Ce=calculateArithmetic(Ce),Ce}function safeEvaluateExpression(Re){try{return evaluateExpression(Re)}catch{return STR_NAN}}function reduceCSSCalc(Re){var Ce=safeEvaluateExpression(Re.slice(5,-1));return Ce===STR_NAN?"":Ce}var _excluded$l=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_excluded2$9=["dx","dy","angle","className","breakAll"];function _extends$f(){return _extends$f=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$f.apply(null,arguments)}function _objectWithoutProperties$g(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$g(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$g(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var BREAKING_SPACES=/[ \f\n\r\t\v\u2028\u2029]+/,calculateWordWidths=Re=>{var{children:Ce,breakAll:je,style:Be}=Re;try{var De=[];isNullish(Ce)||(je?De=Ce.toString().split(""):De=Ce.toString().split(BREAKING_SPACES));var Fe=De.map(Oe=>({word:Oe,width:getStringSize(Oe,Be).width})),ke=je?0:getStringSize("",Be).width;return{wordsWithComputedWidth:Fe,spaceWidth:ke}}catch{return null}},calculateWordsByLines=(Re,Ce,je,Be,De)=>{var{maxLines:Fe,children:ke,style:Oe,breakAll:Me}=Re,Ue=isNumber(Fe),$e=ke,He=function(){var fr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return fr.reduce((or,yr)=>{var{word:Cr,width:jr}=yr,vr=or[or.length-1];if(vr&&(Be==null||De||vr.width+jr+je<Number(Be)))vr.words.push(Cr),vr.width+=jr+je;else{var Tr={words:[Cr],width:jr};or.push(Tr)}return or},[])},Qe=He(Ce),We=mr=>mr.reduce((fr,or)=>fr.width>or.width?fr:or);if(!Ue||De)return Qe;var qe=Qe.length>Fe||We(Qe).width>Number(Be);if(!qe)return Qe;for(var Ke="",Xe=mr=>{var fr=$e.slice(0,mr),or=calculateWordWidths({breakAll:Me,style:Oe,children:fr+Ke}).wordsWithComputedWidth,yr=He(or),Cr=yr.length>Fe||We(yr).width>Number(Be);return[Cr,yr]},Ye=0,Ze=$e.length-1,Je=0,tr;Ye<=Ze&&Je<=$e.length-1;){var rr=Math.floor((Ye+Ze)/2),ar=rr-1,[ir,nr]=Xe(ar),[cr]=Xe(rr);if(!ir&&!cr&&(Ye=rr+1),ir&&cr&&(Ze=rr-1),!ir&&cr){tr=nr;break}Je++}return tr||Qe},getWordsWithoutCalculate=Re=>{var Ce=isNullish(Re)?[]:Re.toString().split(BREAKING_SPACES);return[{words:Ce}]},getWordsByLines=Re=>{var{width:Ce,scaleToFit:je,children:Be,style:De,breakAll:Fe,maxLines:ke}=Re;if((Ce||je)&&!Global$1.isSsr){var Oe,Me,Ue=calculateWordWidths({breakAll:Fe,children:Be,style:De});if(Ue){var{wordsWithComputedWidth:$e,spaceWidth:He}=Ue;Oe=$e,Me=He}else return getWordsWithoutCalculate(Be);return calculateWordsByLines({breakAll:Fe,children:Be,maxLines:ke,style:De},Oe,Me,Ce,je)}return getWordsWithoutCalculate(Be)},DEFAULT_FILL="#808080",Text=reactExports.forwardRef((Re,Ce)=>{var{x:je=0,y:Be=0,lineHeight:De="1em",capHeight:Fe="0.71em",scaleToFit:ke=!1,textAnchor:Oe="start",verticalAnchor:Me="end",fill:Ue=DEFAULT_FILL}=Re,$e=_objectWithoutProperties$g(Re,_excluded$l),He=reactExports.useMemo(()=>getWordsByLines({breakAll:$e.breakAll,children:$e.children,maxLines:$e.maxLines,scaleToFit:ke,style:$e.style,width:$e.width}),[$e.breakAll,$e.children,$e.maxLines,ke,$e.style,$e.width]),{dx:Qe,dy:We,angle:qe,className:Ke,breakAll:Xe}=$e,Ye=_objectWithoutProperties$g($e,_excluded2$9);if(!isNumOrStr(je)||!isNumOrStr(Be))return null;var Ze=je+(isNumber(Qe)?Qe:0),Je=Be+(isNumber(We)?We:0),tr;switch(Me){case"start":tr=reduceCSSCalc("calc(".concat(Fe,")"));break;case"middle":tr=reduceCSSCalc("calc(".concat((He.length-1)/2," * -").concat(De," + (").concat(Fe," / 2))"));break;default:tr=reduceCSSCalc("calc(".concat(He.length-1," * -").concat(De,")"));break}var rr=[];if(ke){var ar=He[0].width,{width:ir}=$e;rr.push("scale(".concat(isNumber(ir)?ir/ar:1,")"))}return qe&&rr.push("rotate(".concat(qe,", ").concat(Ze,", ").concat(Je,")")),rr.length&&(Ye.transform=rr.join(" ")),reactExports.createElement("text",_extends$f({},filterProps(Ye,!0),{ref:Ce,x:Ze,y:Je,className:clsx("recharts-text",Ke),textAnchor:Oe,fill:Ue.includes("url")?DEFAULT_FILL:Ue}),He.map((nr,cr)=>{var mr=nr.words.join(Xe?"":" ");return reactExports.createElement("tspan",{x:Ze,dy:cr===0?tr:De,key:"".concat(mr,"-").concat(cr)},mr)}))});Text.displayName="Text";var _excluded$k=["offset"],_excluded2$8=["labelRef"];function _objectWithoutProperties$f(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$f(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$f(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function ownKeys$e(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$d(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$e(Object(je),!0).forEach(function(Be){_defineProperty$h(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$e(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$h(Re,Ce,je){return(Ce=_toPropertyKey$g(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$g(Re){var Ce=_toPrimitive$g(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$g(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _extends$e(){return _extends$e=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$e.apply(null,arguments)}var getLabel=Re=>{var{value:Ce,formatter:je}=Re,Be=isNullish(Re.children)?Ce:Re.children;return typeof je=="function"?je(Be):Be},isLabelContentAFunction=Re=>Re!=null&&typeof Re=="function",getDeltaAngle=(Re,Ce)=>{var je=mathSign(Ce-Re),Be=Math.min(Math.abs(Ce-Re),360);return je*Be},renderRadialLabel=(Re,Ce,je,Be)=>{var{position:De,offset:Fe,className:ke}=Re,{cx:Oe,cy:Me,innerRadius:Ue,outerRadius:$e,startAngle:He,endAngle:Qe,clockWise:We}=Be,qe=(Ue+$e)/2,Ke=getDeltaAngle(He,Qe),Xe=Ke>=0?1:-1,Ye,Ze;De==="insideStart"?(Ye=He+Xe*Fe,Ze=We):De==="insideEnd"?(Ye=Qe-Xe*Fe,Ze=!We):De==="end"&&(Ye=Qe+Xe*Fe,Ze=We),Ze=Ke<=0?Ze:!Ze;var Je=polarToCartesian(Oe,Me,qe,Ye),tr=polarToCartesian(Oe,Me,qe,Ye+(Ze?1:-1)*359),rr="M".concat(Je.x,",").concat(Je.y,`
    A`).concat(qe,",").concat(qe,",0,1,").concat(Ze?0:1,`,
    `).concat(tr.x,",").concat(tr.y),ar=isNullish(Re.id)?uniqueId("recharts-radial-line-"):Re.id;return reactExports.createElement("text",_extends$e({},je,{dominantBaseline:"central",className:clsx("recharts-radial-bar-label",ke)}),reactExports.createElement("defs",null,reactExports.createElement("path",{id:ar,d:rr})),reactExports.createElement("textPath",{xlinkHref:"#".concat(ar)},Ce))},getAttrsOfPolarLabel=(Re,Ce,je)=>{var{cx:Be,cy:De,innerRadius:Fe,outerRadius:ke,startAngle:Oe,endAngle:Me}=Re,Ue=(Oe+Me)/2;if(je==="outside"){var{x:$e,y:He}=polarToCartesian(Be,De,ke+Ce,Ue);return{x:$e,y:He,textAnchor:$e>=Be?"start":"end",verticalAnchor:"middle"}}if(je==="center")return{x:Be,y:De,textAnchor:"middle",verticalAnchor:"middle"};if(je==="centerTop")return{x:Be,y:De,textAnchor:"middle",verticalAnchor:"start"};if(je==="centerBottom")return{x:Be,y:De,textAnchor:"middle",verticalAnchor:"end"};var Qe=(Fe+ke)/2,{x:We,y:qe}=polarToCartesian(Be,De,Qe,Ue);return{x:We,y:qe,textAnchor:"middle",verticalAnchor:"middle"}},getAttrsOfCartesianLabel=(Re,Ce)=>{var{parentViewBox:je,offset:Be,position:De}=Re,{x:Fe,y:ke,width:Oe,height:Me}=Ce,Ue=Me>=0?1:-1,$e=Ue*Be,He=Ue>0?"end":"start",Qe=Ue>0?"start":"end",We=Oe>=0?1:-1,qe=We*Be,Ke=We>0?"end":"start",Xe=We>0?"start":"end";if(De==="top"){var Ye={x:Fe+Oe/2,y:ke-Ue*Be,textAnchor:"middle",verticalAnchor:He};return _objectSpread$d(_objectSpread$d({},Ye),je?{height:Math.max(ke-je.y,0),width:Oe}:{})}if(De==="bottom"){var Ze={x:Fe+Oe/2,y:ke+Me+$e,textAnchor:"middle",verticalAnchor:Qe};return _objectSpread$d(_objectSpread$d({},Ze),je?{height:Math.max(je.y+je.height-(ke+Me),0),width:Oe}:{})}if(De==="left"){var Je={x:Fe-qe,y:ke+Me/2,textAnchor:Ke,verticalAnchor:"middle"};return _objectSpread$d(_objectSpread$d({},Je),je?{width:Math.max(Je.x-je.x,0),height:Me}:{})}if(De==="right"){var tr={x:Fe+Oe+qe,y:ke+Me/2,textAnchor:Xe,verticalAnchor:"middle"};return _objectSpread$d(_objectSpread$d({},tr),je?{width:Math.max(je.x+je.width-tr.x,0),height:Me}:{})}var rr=je?{width:Oe,height:Me}:{};return De==="insideLeft"?_objectSpread$d({x:Fe+qe,y:ke+Me/2,textAnchor:Xe,verticalAnchor:"middle"},rr):De==="insideRight"?_objectSpread$d({x:Fe+Oe-qe,y:ke+Me/2,textAnchor:Ke,verticalAnchor:"middle"},rr):De==="insideTop"?_objectSpread$d({x:Fe+Oe/2,y:ke+$e,textAnchor:"middle",verticalAnchor:Qe},rr):De==="insideBottom"?_objectSpread$d({x:Fe+Oe/2,y:ke+Me-$e,textAnchor:"middle",verticalAnchor:He},rr):De==="insideTopLeft"?_objectSpread$d({x:Fe+qe,y:ke+$e,textAnchor:Xe,verticalAnchor:Qe},rr):De==="insideTopRight"?_objectSpread$d({x:Fe+Oe-qe,y:ke+$e,textAnchor:Ke,verticalAnchor:Qe},rr):De==="insideBottomLeft"?_objectSpread$d({x:Fe+qe,y:ke+Me-$e,textAnchor:Xe,verticalAnchor:He},rr):De==="insideBottomRight"?_objectSpread$d({x:Fe+Oe-qe,y:ke+Me-$e,textAnchor:Ke,verticalAnchor:He},rr):De&&typeof De=="object"&&(isNumber(De.x)||isPercent(De.x))&&(isNumber(De.y)||isPercent(De.y))?_objectSpread$d({x:Fe+getPercentValue(De.x,Oe),y:ke+getPercentValue(De.y,Me),textAnchor:"end",verticalAnchor:"end"},rr):_objectSpread$d({x:Fe+Oe/2,y:ke+Me/2,textAnchor:"middle",verticalAnchor:"middle"},rr)},isPolar=Re=>"cx"in Re&&isNumber(Re.cx);function Label(Re){var{offset:Ce=5}=Re,je=_objectWithoutProperties$f(Re,_excluded$k),Be=_objectSpread$d({offset:Ce},je),{viewBox:De,position:Fe,value:ke,children:Oe,content:Me,className:Ue="",textBreakAll:$e,labelRef:He}=Be,Qe=useAppSelector(selectPolarViewBox),We=useViewBox(),qe=Fe==="center"?We:Qe??We,Ke=De||qe;if(!Ke||isNullish(ke)&&isNullish(Oe)&&!reactExports.isValidElement(Me)&&typeof Me!="function")return null;var Xe=_objectSpread$d(_objectSpread$d({},Be),{},{viewBox:Ke});if(reactExports.isValidElement(Me)){var{labelRef:Ye}=Xe,Ze=_objectWithoutProperties$f(Xe,_excluded2$8);return reactExports.cloneElement(Me,Ze)}var Je;if(typeof Me=="function"){if(Je=reactExports.createElement(Me,Xe),reactExports.isValidElement(Je))return Je}else Je=getLabel(Be);var tr=isPolar(Ke),rr=filterProps(Be,!0);if(tr&&(Fe==="insideStart"||Fe==="insideEnd"||Fe==="end"))return renderRadialLabel(Be,Je,rr,Ke);var ar=tr?getAttrsOfPolarLabel(Ke,Be.offset,Be.position):getAttrsOfCartesianLabel(Be,Ke);return reactExports.createElement(Text,_extends$e({ref:He,className:clsx("recharts-label",Ue)},rr,ar,{breakAll:$e}),Je)}Label.displayName="Label";var parseViewBox=Re=>{var{cx:Ce,cy:je,angle:Be,startAngle:De,endAngle:Fe,r:ke,radius:Oe,innerRadius:Me,outerRadius:Ue,x:$e,y:He,top:Qe,left:We,width:qe,height:Ke,clockWise:Xe,labelViewBox:Ye}=Re;if(Ye)return Ye;if(isNumber(qe)&&isNumber(Ke)){if(isNumber($e)&&isNumber(He))return{x:$e,y:He,width:qe,height:Ke};if(isNumber(Qe)&&isNumber(We))return{x:Qe,y:We,width:qe,height:Ke}}if(isNumber($e)&&isNumber(He))return{x:$e,y:He,width:0,height:0};if(isNumber(Ce)&&isNumber(je))return{cx:Ce,cy:je,startAngle:De||Be||0,endAngle:Fe||Be||0,innerRadius:Me||0,outerRadius:Ue||Oe||ke||0,clockWise:Xe};if(Re.viewBox)return Re.viewBox},parseLabel=(Re,Ce,je)=>{if(!Re)return null;var Be={viewBox:Ce,labelRef:je};return Re===!0?reactExports.createElement(Label,_extends$e({key:"label-implicit"},Be)):isNumOrStr(Re)?reactExports.createElement(Label,_extends$e({key:"label-implicit",value:Re},Be)):reactExports.isValidElement(Re)?Re.type===Label?reactExports.cloneElement(Re,_objectSpread$d({key:"label-implicit"},Be)):reactExports.createElement(Label,_extends$e({key:"label-implicit",content:Re},Be)):isLabelContentAFunction(Re)?reactExports.createElement(Label,_extends$e({key:"label-implicit",content:Re},Be)):Re&&typeof Re=="object"?reactExports.createElement(Label,_extends$e({},Re,{key:"label-implicit"},Be)):null},renderCallByParent$1=function Re(Ce,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!Ce||!Ce.children&&Be&&!Ce.label)return null;var{children:De,labelRef:Fe}=Ce,ke=parseViewBox(Ce),Oe=findAllByType(De,Label).map((Ue,$e)=>reactExports.cloneElement(Ue,{viewBox:je||ke,key:"label-".concat($e)}));if(!Be)return Oe;var Me=parseLabel(Ce.label,je||ke,Fe);return[Me,...Oe]};Label.parseViewBox=parseViewBox;Label.renderCallByParent=renderCallByParent$1;var last$3={},last$2={},hasRequiredLast$2;function requireLast$2(){return hasRequiredLast$2||(hasRequiredLast$2=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return je[je.length-1]}Re.last=Ce})(last$2)),last$2}var toArray={},hasRequiredToArray;function requireToArray(){return hasRequiredToArray||(hasRequiredToArray=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){return Array.isArray(je)?je:Array.from(je)}Re.toArray=Ce})(toArray)),toArray}var hasRequiredLast$1;function requireLast$1(){return hasRequiredLast$1||(hasRequiredLast$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});const Ce=requireLast$2(),je=requireToArray(),Be=requireIsArrayLike();function De(Fe){if(Be.isArrayLike(Fe))return Ce.last(je.toArray(Fe))}Re.last=De})(last$3)),last$3}var last$1,hasRequiredLast;function requireLast(){return hasRequiredLast||(hasRequiredLast=1,last$1=requireLast$1().last),last$1}var lastExports=requireLast();const last=getDefaultExportFromCjs(lastExports);var _excluded$j=["valueAccessor"],_excluded2$7=["data","dataKey","clockWise","id","textBreakAll"];function _extends$d(){return _extends$d=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$d.apply(null,arguments)}function ownKeys$d(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$c(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$d(Object(je),!0).forEach(function(Be){_defineProperty$g(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$d(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$g(Re,Ce,je){return(Ce=_toPropertyKey$f(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$f(Re){var Ce=_toPrimitive$f(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$f(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$e(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$e(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$e(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var defaultAccessor=Re=>Array.isArray(Re.value)?last(Re.value):Re.value;function LabelList(Re){var{valueAccessor:Ce=defaultAccessor}=Re,je=_objectWithoutProperties$e(Re,_excluded$j),{data:Be,dataKey:De,clockWise:Fe,id:ke,textBreakAll:Oe}=je,Me=_objectWithoutProperties$e(je,_excluded2$7);return!Be||!Be.length?null:reactExports.createElement(Layer,{className:"recharts-label-list"},Be.map((Ue,$e)=>{var He=isNullish(De)?Ce(Ue,$e):getValueByDataKey(Ue&&Ue.payload,De),Qe=isNullish(ke)?{}:{id:"".concat(ke,"-").concat($e)};return reactExports.createElement(Label,_extends$d({},filterProps(Ue,!0),Me,Qe,{parentViewBox:Ue.parentViewBox,value:He,textBreakAll:Oe,viewBox:Label.parseViewBox(isNullish(Fe)?Ue:_objectSpread$c(_objectSpread$c({},Ue),{},{clockWise:Fe})),key:"label-".concat($e),index:$e}))}))}LabelList.displayName="LabelList";function parseLabelList(Re,Ce){return Re?Re===!0?reactExports.createElement(LabelList,{key:"labelList-implicit",data:Ce}):reactExports.isValidElement(Re)||isLabelContentAFunction(Re)?reactExports.createElement(LabelList,{key:"labelList-implicit",data:Ce,content:Re}):typeof Re=="object"?reactExports.createElement(LabelList,_extends$d({data:Ce},Re,{key:"labelList-implicit"})):null:null}function renderCallByParent(Re,Ce){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!Re||!Re.children&&je&&!Re.label)return null;var{children:Be}=Re,De=findAllByType(Be,LabelList).map((ke,Oe)=>reactExports.cloneElement(ke,{data:Ce,key:"labelList-".concat(Oe)}));if(!je)return De;var Fe=parseLabelList(Re.label,Ce);return[Fe,...De]}LabelList.renderCallByParent=renderCallByParent;function _extends$c(){return _extends$c=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$c.apply(null,arguments)}var Dot=Re=>{var{cx:Ce,cy:je,r:Be,className:De}=Re,Fe=clsx("recharts-dot",De);return Ce===+Ce&&je===+je&&Be===+Be?reactExports.createElement("circle",_extends$c({},svgPropertiesNoEvents(Re),adaptEventHandlers(Re),{className:Fe,cx:Ce,cy:je,r:Be})):null},initialState$6={radiusAxis:{},angleAxis:{}},polarAxisSlice=createSlice({name:"polarAxis",initialState:initialState$6,reducers:{addRadiusAxis(Re,Ce){Re.radiusAxis[Ce.payload.id]=Ce.payload},removeRadiusAxis(Re,Ce){delete Re.radiusAxis[Ce.payload.id]},addAngleAxis(Re,Ce){Re.angleAxis[Ce.payload.id]=Ce.payload},removeAngleAxis(Re,Ce){delete Re.angleAxis[Ce.payload.id]}}}),{addRadiusAxis,removeRadiusAxis,addAngleAxis,removeAngleAxis}=polarAxisSlice.actions,polarAxisReducer=polarAxisSlice.reducer,isPlainObject$3={},hasRequiredIsPlainObject$1;function requireIsPlainObject$1(){return hasRequiredIsPlainObject$1||(hasRequiredIsPlainObject$1=1,(function(Re){Object.defineProperty(Re,Symbol.toStringTag,{value:"Module"});function Ce(je){if(typeof je!="object"||je==null)return!1;if(Object.getPrototypeOf(je)===null)return!0;if(Object.prototype.toString.call(je)!=="[object Object]"){const De=je[Symbol.toStringTag];return De==null||!Object.getOwnPropertyDescriptor(je,Symbol.toStringTag)?.writable?!1:je.toString()===`[object ${De}]`}let Be=je;for(;Object.getPrototypeOf(Be)!==null;)Be=Object.getPrototypeOf(Be);return Object.getPrototypeOf(je)===Be}Re.isPlainObject=Ce})(isPlainObject$3)),isPlainObject$3}var isPlainObject$2,hasRequiredIsPlainObject;function requireIsPlainObject(){return hasRequiredIsPlainObject||(hasRequiredIsPlainObject=1,isPlainObject$2=requireIsPlainObject$1().isPlainObject),isPlainObject$2}var isPlainObjectExports=requireIsPlainObject();const isPlainObject$1=getDefaultExportFromCjs(isPlainObjectExports);function _extends$b(){return _extends$b=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$b.apply(null,arguments)}var getTrapezoidPath=(Re,Ce,je,Be,De)=>{var Fe=je-Be,ke;return ke="M ".concat(Re,",").concat(Ce),ke+="L ".concat(Re+je,",").concat(Ce),ke+="L ".concat(Re+je-Fe/2,",").concat(Ce+De),ke+="L ".concat(Re+je-Fe/2-Be,",").concat(Ce+De),ke+="L ".concat(Re,",").concat(Ce," Z"),ke},defaultProps$4={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Trapezoid=Re=>{var Ce=resolveDefaultProps(Re,defaultProps$4),je=reactExports.useRef(),[Be,De]=reactExports.useState(-1);reactExports.useEffect(()=>{if(je.current&&je.current.getTotalLength)try{var Xe=je.current.getTotalLength();Xe&&De(Xe)}catch{}},[]);var{x:Fe,y:ke,upperWidth:Oe,lowerWidth:Me,height:Ue,className:$e}=Ce,{animationEasing:He,animationDuration:Qe,animationBegin:We,isUpdateAnimationActive:qe}=Ce;if(Fe!==+Fe||ke!==+ke||Oe!==+Oe||Me!==+Me||Ue!==+Ue||Oe===0&&Me===0||Ue===0)return null;var Ke=clsx("recharts-trapezoid",$e);return qe?reactExports.createElement(Animate,{canBegin:Be>0,from:{upperWidth:0,lowerWidth:0,height:Ue,x:Fe,y:ke},to:{upperWidth:Oe,lowerWidth:Me,height:Ue,x:Fe,y:ke},duration:Qe,animationEasing:He,isActive:qe},Xe=>{var{upperWidth:Ye,lowerWidth:Ze,height:Je,x:tr,y:rr}=Xe;return reactExports.createElement(Animate,{canBegin:Be>0,from:"0px ".concat(Be===-1?1:Be,"px"),to:"".concat(Be,"px 0px"),attributeName:"strokeDasharray",begin:We,duration:Qe,easing:He},reactExports.createElement("path",_extends$b({},filterProps(Ce,!0),{className:Ke,d:getTrapezoidPath(tr,rr,Ye,Ze,Je),ref:je})))}):reactExports.createElement("g",null,reactExports.createElement("path",_extends$b({},filterProps(Ce,!0),{className:Ke,d:getTrapezoidPath(Fe,ke,Oe,Me,Ue)})))},_excluded$i=["option","shapeType","propTransformer","activeClassName","isActive"];function _objectWithoutProperties$d(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$d(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$d(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function ownKeys$c(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$b(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$c(Object(je),!0).forEach(function(Be){_defineProperty$f(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$c(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$f(Re,Ce,je){return(Ce=_toPropertyKey$e(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$e(Re){var Ce=_toPrimitive$e(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$e(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function defaultPropTransformer(Re,Ce){return _objectSpread$b(_objectSpread$b({},Ce),Re)}function isSymbolsProps(Re,Ce){return Re==="symbols"}function ShapeSelector(Re){var{shapeType:Ce,elementProps:je}=Re;switch(Ce){case"rectangle":return reactExports.createElement(Rectangle,je);case"trapezoid":return reactExports.createElement(Trapezoid,je);case"sector":return reactExports.createElement(Sector,je);case"symbols":if(isSymbolsProps(Ce))return reactExports.createElement(Symbols,je);break;default:return null}}function getPropsFromShapeOption(Re){return reactExports.isValidElement(Re)?Re.props:Re}function Shape(Re){var{option:Ce,shapeType:je,propTransformer:Be=defaultPropTransformer,activeClassName:De="recharts-active-shape",isActive:Fe}=Re,ke=_objectWithoutProperties$d(Re,_excluded$i),Oe;if(reactExports.isValidElement(Ce))Oe=reactExports.cloneElement(Ce,_objectSpread$b(_objectSpread$b({},ke),getPropsFromShapeOption(Ce)));else if(typeof Ce=="function")Oe=Ce(ke);else if(isPlainObject$1(Ce)&&typeof Ce!="boolean"){var Me=Be(Ce,ke);Oe=reactExports.createElement(ShapeSelector,{shapeType:je,elementProps:Me})}else{var Ue=ke;Oe=reactExports.createElement(ShapeSelector,{shapeType:je,elementProps:Ue})}return Fe?reactExports.createElement(Layer,{className:De},Oe):Oe}var useMouseEnterItemDispatch=(Re,Ce)=>{var je=useAppDispatch();return(Be,De)=>Fe=>{Re?.(Be,De,Fe),je(setActiveMouseOverItemIndex({activeIndex:String(De),activeDataKey:Ce,activeCoordinate:Be.tooltipPosition}))}},useMouseLeaveItemDispatch=Re=>{var Ce=useAppDispatch();return(je,Be)=>De=>{Re?.(je,Be,De),Ce(mouseLeaveItem())}},useMouseClickItemDispatch=(Re,Ce)=>{var je=useAppDispatch();return(Be,De)=>Fe=>{Re?.(Be,De,Fe),je(setActiveClickItemIndex({activeIndex:String(De),activeDataKey:Ce,activeCoordinate:Be.tooltipPosition}))}};function SetTooltipEntrySettings(Re){var{fn:Ce,args:je}=Re,Be=useAppDispatch(),De=useIsPanorama();return reactExports.useEffect(()=>{if(!De){var Fe=Ce(je);return Be(addTooltipEntrySettings(Fe)),()=>{Be(removeTooltipEntrySettings(Fe))}}},[Ce,je,Be,De]),null}var noop$4=()=>{};function SetLegendPayload(Re){var{legendPayload:Ce}=Re,je=useAppDispatch(),Be=useIsPanorama();return reactExports.useEffect(()=>Be?noop$4:(je(addLegendPayload(Ce)),()=>{je(removeLegendPayload(Ce))}),[je,Be,Ce]),null}function useAnimationId(Re){var Ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",je=reactExports.useRef(uniqueId(Ce)),Be=reactExports.useRef(Re);return Be.current!==Re&&(je.current=uniqueId(Ce),Be.current=Re),je.current}var _ref$1,useIdFallback=()=>{var[Re]=reactExports.useState(()=>uniqueId("uid-"));return Re},useId$1=(_ref$1=React$1.useId)!==null&&_ref$1!==void 0?_ref$1:useIdFallback;function useUniqueId(Re,Ce){var je=useId$1();return Ce||(Re?"".concat(Re,"-").concat(je):je)}var GraphicalItemIdContext=reactExports.createContext(void 0),RegisterGraphicalItemId=Re=>{var{id:Ce,type:je,children:Be}=Re,De=useUniqueId("recharts-".concat(je),Ce);return reactExports.createElement(GraphicalItemIdContext.Provider,{value:De},Be(De))},initialState$5={cartesianItems:[],polarItems:[]},graphicalItemsSlice=createSlice({name:"graphicalItems",initialState:initialState$5,reducers:{addCartesianGraphicalItem(Re,Ce){Re.cartesianItems.push(Ce.payload)},replaceCartesianGraphicalItem(Re,Ce){var{prev:je,next:Be}=Ce.payload,De=current(Re).cartesianItems.indexOf(je);De>-1&&(Re.cartesianItems[De]=Be)},removeCartesianGraphicalItem(Re,Ce){var je=current(Re).cartesianItems.indexOf(Ce.payload);je>-1&&Re.cartesianItems.splice(je,1)},addPolarGraphicalItem(Re,Ce){Re.polarItems.push(Ce.payload)},removePolarGraphicalItem(Re,Ce){var je=current(Re).polarItems.indexOf(Ce.payload);je>-1&&Re.polarItems.splice(je,1)}}}),{addCartesianGraphicalItem,replaceCartesianGraphicalItem,removeCartesianGraphicalItem,addPolarGraphicalItem,removePolarGraphicalItem}=graphicalItemsSlice.actions,graphicalItemsReducer=graphicalItemsSlice.reducer;function SetCartesianGraphicalItem(Re){var Ce=useAppDispatch(),je=reactExports.useRef(null);return reactExports.useEffect(()=>{je.current===null?Ce(addCartesianGraphicalItem(Re)):je.current!==Re&&Ce(replaceCartesianGraphicalItem({prev:je.current,next:Re})),je.current=Re},[Ce,Re]),reactExports.useEffect(()=>()=>{je.current&&(Ce(removeCartesianGraphicalItem(je.current)),je.current=null)},[Ce]),null}function noop$3(){}var defaultJavascriptAnimateProps={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},from$1={t:0},to={t:1};function JavascriptAnimate(Re){var Ce=resolveDefaultProps(Re,defaultJavascriptAnimateProps),{isActive:je,canBegin:Be,duration:De,easing:Fe,begin:ke,onAnimationEnd:Oe,onAnimationStart:Me,children:Ue}=Ce,$e=useAnimationManager("JavascriptAnimate",Ce.animationManager),[He,Qe]=reactExports.useState(je?from$1:to),We=reactExports.useRef(null);return reactExports.useEffect(()=>{je||Qe(to)},[je]),reactExports.useEffect(()=>{if(!je||!Be)return noop$3;var qe=configUpdate(from$1,to,configEasing(Fe),De,Qe,$e.getTimeoutController()),Ke=()=>{We.current=qe()};return $e.start([Me,ke,Ke,De,Oe]),()=>{$e.stop(),We.current&&We.current(),Oe()}},[je,Be,De,Fe,ke,Me,Oe,$e]),Ue(He.t)}var selectChartOffset=createSelector([selectChartOffsetInternal],Re=>{if(Re)return{top:Re.top,bottom:Re.bottom,left:Re.left,right:Re.right}}),selectPlotArea=createSelector([selectChartOffset,selectChartWidth,selectChartHeight],(Re,Ce,je)=>{if(!(!Re||Ce==null||je==null))return{x:Re.left,y:Re.top,width:Math.max(0,Ce-Re.left-Re.right),height:Math.max(0,je-Re.top-Re.bottom)}}),usePlotArea=()=>useAppSelector(selectPlotArea),useActiveTooltipDataPoints=()=>useAppSelector(selectActiveTooltipDataPoints);function ownKeys$b(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$a(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$b(Object(je),!0).forEach(function(Be){_defineProperty$e(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$b(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$e(Re,Ce,je){return(Ce=_toPropertyKey$d(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$d(Re){var Ce=_toPrimitive$d(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$d(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var renderActivePoint=Re=>{var{point:Ce,childIndex:je,mainColor:Be,activeDot:De,dataKey:Fe}=Re;if(De===!1||Ce.x==null||Ce.y==null)return null;var ke=_objectSpread$a(_objectSpread$a({index:je,dataKey:Fe,cx:Ce.x,cy:Ce.y,r:4,fill:Be??"none",strokeWidth:2,stroke:"#fff",payload:Ce.payload,value:Ce.value},filterProps(De,!1)),adaptEventHandlers(De)),Oe;return reactExports.isValidElement(De)?Oe=reactExports.cloneElement(De,ke):typeof De=="function"?Oe=De(ke):Oe=reactExports.createElement(Dot,ke),reactExports.createElement(Layer,{className:"recharts-active-dot"},Oe)};function ActivePoints(Re){var{points:Ce,mainColor:je,activeDot:Be,itemDataKey:De}=Re,Fe=useAppSelector(selectActiveTooltipIndex),ke=useActiveTooltipDataPoints();if(Ce==null||ke==null)return null;var Oe=Ce.find(Me=>ke.includes(Me.payload));return isNullish(Oe)?null:renderActivePoint({point:Oe,childIndex:Number(Fe),mainColor:je,dataKey:De,activeDot:Be})}var prefix$1="Invariant failed";function invariant(Re,Ce){throw new Error(prefix$1)}var _excluded$h=["x","y"];function _extends$a(){return _extends$a=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$a.apply(null,arguments)}function ownKeys$a(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$9(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$a(Object(je),!0).forEach(function(Be){_defineProperty$d(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$a(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$d(Re,Ce,je){return(Ce=_toPropertyKey$c(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$c(Re){var Ce=_toPrimitive$c(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$c(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$c(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$c(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$c(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function typeguardBarRectangleProps(Re,Ce){var{x:je,y:Be}=Re,De=_objectWithoutProperties$c(Re,_excluded$h),Fe="".concat(je),ke=parseInt(Fe,10),Oe="".concat(Be),Me=parseInt(Oe,10),Ue="".concat(Ce.height||De.height),$e=parseInt(Ue,10),He="".concat(Ce.width||De.width),Qe=parseInt(He,10);return _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({},Ce),De),ke?{x:ke}:{}),Me?{y:Me}:{}),{},{height:$e,width:Qe,name:Ce.name,radius:Ce.radius})}function BarRectangle(Re){return reactExports.createElement(Shape,_extends$a({shapeType:"rectangle",propTransformer:typeguardBarRectangleProps,activeClassName:"recharts-active-bar"},Re))}var minPointSizeCallback=function Re(Ce){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(Be,De)=>{if(isNumber(Ce))return Ce;var Fe=isNumber(Be)||isNullish(Be);return Fe?Ce(Be,De):(Fe||invariant(),je)}},initialState$4={},errorBarSlice=createSlice({name:"errorBars",initialState:initialState$4,reducers:{addErrorBar:(Re,Ce)=>{var{itemId:je,errorBar:Be}=Ce.payload;Re[je]||(Re[je]=[]),Re[je].push(Be)},removeErrorBar:(Re,Ce)=>{var{itemId:je,errorBar:Be}=Ce.payload;Re[je]&&(Re[je]=Re[je].filter(De=>De.dataKey!==Be.dataKey||De.direction!==Be.direction))}}}),{addErrorBar,removeErrorBar}=errorBarSlice.actions,errorBarReducer=errorBarSlice.reducer,_excluded$g=["children"];function _objectWithoutProperties$b(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$b(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$b(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var initialContextState={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},ErrorBarContext=reactExports.createContext(initialContextState);function SetErrorBarContext(Re){var{children:Ce}=Re,je=_objectWithoutProperties$b(Re,_excluded$g);return reactExports.createElement(ErrorBarContext.Provider,{value:je},Ce)}function useNeedsClip(Re,Ce){var je,Be,De=useAppSelector(Ue=>selectXAxisSettings(Ue,Re)),Fe=useAppSelector(Ue=>selectYAxisSettings(Ue,Ce)),ke=(je=De?.allowDataOverflow)!==null&&je!==void 0?je:implicitXAxis.allowDataOverflow,Oe=(Be=Fe?.allowDataOverflow)!==null&&Be!==void 0?Be:implicitYAxis.allowDataOverflow,Me=ke||Oe;return{needClip:Me,needClipX:ke,needClipY:Oe}}function GraphicalItemClipPath(Re){var{xAxisId:Ce,yAxisId:je,clipPathId:Be}=Re,De=usePlotArea(),{needClipX:Fe,needClipY:ke,needClip:Oe}=useNeedsClip(Ce,je);if(!Oe)return null;var{x:Me,y:Ue,width:$e,height:He}=De;return reactExports.createElement("clipPath",{id:"clipPath-".concat(Be)},reactExports.createElement("rect",{x:Fe?Me:Me-$e/2,y:ke?Ue:Ue-He/2,width:Fe?$e:$e*2,height:ke?He:He*2}))}var _excluded$f=["onMouseEnter","onMouseLeave","onClick"],_excluded2$6=["value","background","tooltipPosition"],_excluded3$2=["id"],_excluded4$1=["onMouseEnter","onClick","onMouseLeave"];function _extends$9(){return _extends$9=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$9.apply(null,arguments)}function ownKeys$9(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$8(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$9(Object(je),!0).forEach(function(Be){_defineProperty$c(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$9(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$c(Re,Ce,je){return(Ce=_toPropertyKey$b(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$b(Re){var Ce=_toPrimitive$b(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$b(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$a(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$a(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$a(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var computeLegendPayloadFromBarData=Re=>{var{dataKey:Ce,name:je,fill:Be,legendType:De,hide:Fe}=Re;return[{inactive:Fe,dataKey:Ce,type:De,color:Be,value:getTooltipNameProp(je,Ce),payload:Re}]};function getTooltipEntrySettings$1(Re){var{dataKey:Ce,stroke:je,strokeWidth:Be,fill:De,name:Fe,hide:ke,unit:Oe}=Re;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:je,strokeWidth:Be,fill:De,dataKey:Ce,nameKey:void 0,name:getTooltipNameProp(Fe,Ce),hide:ke,type:Re.tooltipType,color:Re.fill,unit:Oe}}}function BarBackground(Re){var Ce=useAppSelector(selectActiveTooltipIndex),{data:je,dataKey:Be,background:De,allOtherBarProps:Fe}=Re,{onMouseEnter:ke,onMouseLeave:Oe,onClick:Me}=Fe,Ue=_objectWithoutProperties$a(Fe,_excluded$f),$e=useMouseEnterItemDispatch(ke,Be),He=useMouseLeaveItemDispatch(Oe),Qe=useMouseClickItemDispatch(Me,Be);if(!De||je==null)return null;var We=filterProps(De,!1);return reactExports.createElement(reactExports.Fragment,null,je.map((qe,Ke)=>{var{value:Xe,background:Ye,tooltipPosition:Ze}=qe,Je=_objectWithoutProperties$a(qe,_excluded2$6);if(!Ye)return null;var tr=$e(qe,Ke),rr=He(qe,Ke),ar=Qe(qe,Ke),ir=_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8(_objectSpread$8({option:De,isActive:String(Ke)===Ce},Je),{},{fill:"#eee"},Ye),We),adaptEventsOfChild(Ue,qe,Ke)),{},{onMouseEnter:tr,onMouseLeave:rr,onClick:ar,dataKey:Be,index:Ke,className:"recharts-bar-background-rectangle"});return reactExports.createElement(BarRectangle,_extends$9({key:"background-bar-".concat(Ke)},ir))}))}function BarRectangles(Re){var{data:Ce,props:je,showLabels:Be}=Re,De=svgPropertiesNoEvents(je),{id:Fe}=De,ke=_objectWithoutProperties$a(De,_excluded3$2),{shape:Oe,dataKey:Me,activeBar:Ue}=je,$e=useAppSelector(selectActiveTooltipIndex),He=useAppSelector(selectActiveTooltipDataKey),{onMouseEnter:Qe,onClick:We,onMouseLeave:qe}=je,Ke=_objectWithoutProperties$a(je,_excluded4$1),Xe=useMouseEnterItemDispatch(Qe,Me),Ye=useMouseLeaveItemDispatch(qe),Ze=useMouseClickItemDispatch(We,Me);return Ce?reactExports.createElement(reactExports.Fragment,null,Ce.map((Je,tr)=>{var rr=Ue&&String(tr)===$e&&(He==null||Me===He),ar=rr?Ue:Oe,ir=_objectSpread$8(_objectSpread$8(_objectSpread$8({},ke),Je),{},{isActive:rr,option:ar,index:tr,dataKey:Me});return reactExports.createElement(Layer,_extends$9({className:"recharts-bar-rectangle"},adaptEventsOfChild(Ke,Je,tr),{onMouseEnter:Xe(Je,tr),onMouseLeave:Ye(Je,tr),onClick:Ze(Je,tr),key:"rectangle-".concat(Je?.x,"-").concat(Je?.y,"-").concat(Je?.value,"-").concat(tr)}),reactExports.createElement(BarRectangle,ir))}),Be&&LabelList.renderCallByParent(je,Ce)):null}function RectanglesWithAnimation(Re){var{props:Ce,previousRectanglesRef:je}=Re,{data:Be,layout:De,isAnimationActive:Fe,animationBegin:ke,animationDuration:Oe,animationEasing:Me,onAnimationEnd:Ue,onAnimationStart:$e}=Ce,He=je.current,Qe=useAnimationId(Ce,"recharts-bar-"),[We,qe]=reactExports.useState(!1),Ke=reactExports.useCallback(()=>{typeof Ue=="function"&&Ue(),qe(!1)},[Ue]),Xe=reactExports.useCallback(()=>{typeof $e=="function"&&$e(),qe(!0)},[$e]);return reactExports.createElement(JavascriptAnimate,{begin:ke,duration:Oe,isActive:Fe,easing:Me,onAnimationEnd:Ke,onAnimationStart:Xe,key:Qe},Ye=>{var Ze=Ye===1?Be:Be?.map((Je,tr)=>{var rr=He&&He[tr];if(rr)return _objectSpread$8(_objectSpread$8({},Je),{},{x:interpolate$1(rr.x,Je.x,Ye),y:interpolate$1(rr.y,Je.y,Ye),width:interpolate$1(rr.width,Je.width,Ye),height:interpolate$1(rr.height,Je.height,Ye)});if(De==="horizontal"){var ar=interpolate$1(0,Je.height,Ye);return _objectSpread$8(_objectSpread$8({},Je),{},{y:Je.y+Je.height-ar,height:ar})}var ir=interpolate$1(0,Je.width,Ye);return _objectSpread$8(_objectSpread$8({},Je),{},{width:ir})});return Ye>0&&(je.current=Ze??null),Ze==null?null:reactExports.createElement(Layer,null,reactExports.createElement(BarRectangles,{props:Ce,data:Ze,showLabels:!We}))})}function RenderRectangles(Re){var{data:Ce,isAnimationActive:je}=Re,Be=reactExports.useRef(null);return je&&Ce&&Ce.length&&(Be.current==null||Be.current!==Ce)?reactExports.createElement(RectanglesWithAnimation,{previousRectanglesRef:Be,props:Re}):reactExports.createElement(BarRectangles,{props:Re,data:Ce,showLabels:!0})}var defaultMinPointSize=0,errorBarDataPointFormatter$1=(Re,Ce)=>{var je=Array.isArray(Re.value)?Re.value[1]:Re.value;return{x:Re.x,y:Re.y,value:je,errorVal:getValueByDataKey(Re,Ce)}};class BarWithState extends reactExports.PureComponent{render(){var{hide:Ce,data:je,dataKey:Be,className:De,xAxisId:Fe,yAxisId:ke,needClip:Oe,background:Me,id:Ue}=this.props;if(Ce)return null;var $e=clsx("recharts-bar",De),He=Ue;return reactExports.createElement(Layer,{className:$e,id:Ue},Oe&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:He,xAxisId:Fe,yAxisId:ke})),reactExports.createElement(Layer,{className:"recharts-bar-rectangles",clipPath:Oe?"url(#clipPath-".concat(He,")"):void 0},reactExports.createElement(BarBackground,{data:je,dataKey:Be,background:Me,allOtherBarProps:this.props}),reactExports.createElement(RenderRectangles,this.props)),this.props.children)}}var defaultBarProps={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Global$1.isSsr,legendType:"rect",minPointSize:defaultMinPointSize,xAxisId:0,yAxisId:0};function BarImpl(Re){var{xAxisId:Ce,yAxisId:je,hide:Be,legendType:De,minPointSize:Fe,activeBar:ke,animationBegin:Oe,animationDuration:Me,animationEasing:Ue,isAnimationActive:$e}=Re,{needClip:He}=useNeedsClip(Ce,je),Qe=useChartLayout(),We=useIsPanorama(),qe=findAllByType(Re.children,Cell),Ke=useAppSelector(Ze=>selectBarRectangles(Ze,Ce,je,We,Re.id,qe));if(Qe!=="vertical"&&Qe!=="horizontal")return null;var Xe,Ye=Ke?.[0];return Ye==null||Ye.height==null||Ye.width==null?Xe=0:Xe=Qe==="vertical"?Ye.height/2:Ye.width/2,reactExports.createElement(SetErrorBarContext,{xAxisId:Ce,yAxisId:je,data:Ke,dataPointFormatter:errorBarDataPointFormatter$1,errorBarOffset:Xe},reactExports.createElement(BarWithState,_extends$9({},Re,{layout:Qe,needClip:He,data:Ke,xAxisId:Ce,yAxisId:je,hide:Be,legendType:De,minPointSize:Fe,activeBar:ke,animationBegin:Oe,animationDuration:Me,animationEasing:Ue,isAnimationActive:$e})))}function computeBarRectangles(Re){var{layout:Ce,barSettings:{dataKey:je,minPointSize:Be},pos:De,bandSize:Fe,xAxis:ke,yAxis:Oe,xAxisTicks:Me,yAxisTicks:Ue,stackedData:$e,displayedData:He,offset:Qe,cells:We}=Re,qe=Ce==="horizontal"?Oe:ke,Ke=$e?qe.scale.domain():null,Xe=getBaseValueOfBar({numericAxis:qe});return He.map((Ye,Ze)=>{var Je,tr,rr,ar,ir,nr;$e?Je=truncateByDomain($e[Ze],Ke):(Je=getValueByDataKey(Ye,je),Array.isArray(Je)||(Je=[Xe,Je]));var cr=minPointSizeCallback(Be,defaultMinPointSize)(Je[1],Ze);if(Ce==="horizontal"){var mr,[fr,or]=[Oe.scale(Je[0]),Oe.scale(Je[1])];tr=getCateCoordinateOfBar({axis:ke,ticks:Me,bandSize:Fe,offset:De.offset,entry:Ye,index:Ze}),rr=(mr=or??fr)!==null&&mr!==void 0?mr:void 0,ar=De.size;var yr=fr-or;if(ir=isNan(yr)?0:yr,nr={x:tr,y:Qe.top,width:ar,height:Qe.height},Math.abs(cr)>0&&Math.abs(ir)<Math.abs(cr)){var Cr=mathSign(ir||cr)*(Math.abs(cr)-Math.abs(ir));rr-=Cr,ir+=Cr}}else{var[jr,vr]=[ke.scale(Je[0]),ke.scale(Je[1])];if(tr=jr,rr=getCateCoordinateOfBar({axis:Oe,ticks:Ue,bandSize:Fe,offset:De.offset,entry:Ye,index:Ze}),ar=vr-jr,ir=De.size,nr={x:Qe.left,y:rr,width:Qe.width,height:ir},Math.abs(cr)>0&&Math.abs(ar)<Math.abs(cr)){var Tr=mathSign(ar||cr)*(Math.abs(cr)-Math.abs(ar));ar+=Tr}}if(tr==null||rr==null||ar==null||ir==null)return null;var wr=_objectSpread$8(_objectSpread$8({},Ye),{},{x:tr,y:rr,width:ar,height:ir,value:$e?Je:Je[1],payload:Ye,background:nr,tooltipPosition:{x:tr+ar/2,y:rr+ir/2}},We&&We[Ze]&&We[Ze].props);return wr}).filter(Boolean)}function Bar(Re){var Ce=resolveDefaultProps(Re,defaultBarProps),je=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Ce.id,type:"bar"},Be=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromBarData(Ce)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings$1,args:Ce}),reactExports.createElement(SetCartesianGraphicalItem,{type:"bar",id:Be,data:void 0,xAxisId:Ce.xAxisId,yAxisId:Ce.yAxisId,zAxisId:0,dataKey:Ce.dataKey,stackId:getNormalizedStackId(Ce.stackId),hide:Ce.hide,barSize:Ce.barSize,minPointSize:Ce.minPointSize,maxBarSize:Ce.maxBarSize,isPanorama:je}),reactExports.createElement(BarImpl,_extends$9({},Ce,{id:Be}))))}Bar.displayName="Bar";function ownKeys$8(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$7(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$8(Object(je),!0).forEach(function(Be){_defineProperty$b(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$8(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$b(Re,Ce,je){return(Ce=_toPropertyKey$a(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$a(Re){var Ce=_toPrimitive$a(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$a(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var pickXAxisId=(Re,Ce)=>Ce,pickYAxisId=(Re,Ce,je)=>je,pickIsPanorama=(Re,Ce,je,Be)=>Be,pickBarId=(Re,Ce,je,Be,De)=>De,selectSynchronisedBarSettings=createSelector([selectUnfilteredCartesianItems,pickBarId],(Re,Ce)=>Re.filter(je=>je.type==="bar").find(je=>je.id===Ce)),selectMaxBarSize=createSelector([selectSynchronisedBarSettings],Re=>Re?.maxBarSize),pickCells=(Re,Ce,je,Be,De,Fe)=>Fe,getBarSize=(Re,Ce,je)=>{var Be=je??Re;if(!isNullish(Be))return getPercentValue(Be,Ce,0)},selectAllVisibleBars=createSelector([selectChartLayout,selectUnfilteredCartesianItems,pickXAxisId,pickYAxisId,pickIsPanorama],(Re,Ce,je,Be,De)=>Ce.filter(Fe=>Re==="horizontal"?Fe.xAxisId===je:Fe.yAxisId===Be).filter(Fe=>Fe.isPanorama===De).filter(Fe=>Fe.hide===!1).filter(Fe=>Fe.type==="bar")),selectBarStackGroups=(Re,Ce,je,Be)=>{var De=selectChartLayout(Re);return De==="horizontal"?selectStackGroups(Re,"yAxis",je,Be):selectStackGroups(Re,"xAxis",Ce,Be)},selectBarCartesianAxisSize=(Re,Ce,je)=>{var Be=selectChartLayout(Re);return Be==="horizontal"?selectCartesianAxisSize(Re,"xAxis",Ce):selectCartesianAxisSize(Re,"yAxis",je)},combineBarSizeList=(Re,Ce,je)=>{var Be={},De=Re.filter(isStacked),Fe=Re.filter(Ue=>Ue.stackId==null),ke=De.reduce((Ue,$e)=>(Ue[$e.stackId]||(Ue[$e.stackId]=[]),Ue[$e.stackId].push($e),Ue),Be),Oe=Object.entries(ke).map(Ue=>{var[$e,He]=Ue,Qe=He.map(qe=>qe.dataKey),We=getBarSize(Ce,je,He[0].barSize);return{stackId:$e,dataKeys:Qe,barSize:We}}),Me=Fe.map(Ue=>{var $e=[Ue.dataKey].filter(Qe=>Qe!=null),He=getBarSize(Ce,je,Ue.barSize);return{stackId:void 0,dataKeys:$e,barSize:He}});return[...Oe,...Me]},selectBarSizeList=createSelector([selectAllVisibleBars,selectRootBarSize,selectBarCartesianAxisSize],combineBarSizeList),selectBarBandSize=(Re,Ce,je,Be,De)=>{var Fe,ke,Oe=selectSynchronisedBarSettings(Re,Ce,je,Be,De);if(Oe!=null){var Me=selectChartLayout(Re),Ue=selectRootMaxBarSize(Re),{maxBarSize:$e}=Oe,He=isNullish($e)?Ue:$e,Qe,We;return Me==="horizontal"?(Qe=selectAxisWithScale(Re,"xAxis",Ce,Be),We=selectTicksOfGraphicalItem(Re,"xAxis",Ce,Be)):(Qe=selectAxisWithScale(Re,"yAxis",je,Be),We=selectTicksOfGraphicalItem(Re,"yAxis",je,Be)),(Fe=(ke=getBandSizeOfAxis(Qe,We,!0))!==null&&ke!==void 0?ke:He)!==null&&Fe!==void 0?Fe:0}},selectAxisBandSize=(Re,Ce,je,Be)=>{var De=selectChartLayout(Re),Fe,ke;return De==="horizontal"?(Fe=selectAxisWithScale(Re,"xAxis",Ce,Be),ke=selectTicksOfGraphicalItem(Re,"xAxis",Ce,Be)):(Fe=selectAxisWithScale(Re,"yAxis",je,Be),ke=selectTicksOfGraphicalItem(Re,"yAxis",je,Be)),getBandSizeOfAxis(Fe,ke)};function getBarPositions(Re,Ce,je,Be,De){var Fe=Be.length;if(!(Fe<1)){var ke=getPercentValue(Re,je,0,!0),Oe,Me=[];if(isWellBehavedNumber(Be[0].barSize)){var Ue=!1,$e=je/Fe,He=Be.reduce((Ye,Ze)=>Ye+(Ze.barSize||0),0);He+=(Fe-1)*ke,He>=je&&(He-=(Fe-1)*ke,ke=0),He>=je&&$e>0&&(Ue=!0,$e*=.9,He=Fe*$e);var Qe=(je-He)/2>>0,We={offset:Qe-ke,size:0};Oe=Be.reduce((Ye,Ze)=>{var Je,tr={stackId:Ze.stackId,dataKeys:Ze.dataKeys,position:{offset:We.offset+We.size+ke,size:Ue?$e:(Je=Ze.barSize)!==null&&Je!==void 0?Je:0}},rr=[...Ye,tr];return We=rr[rr.length-1].position,rr},Me)}else{var qe=getPercentValue(Ce,je,0,!0);je-2*qe-(Fe-1)*ke<=0&&(ke=0);var Ke=(je-2*qe-(Fe-1)*ke)/Fe;Ke>1&&(Ke>>=0);var Xe=isWellBehavedNumber(De)?Math.min(Ke,De):Ke;Oe=Be.reduce((Ye,Ze,Je)=>[...Ye,{stackId:Ze.stackId,dataKeys:Ze.dataKeys,position:{offset:qe+(Ke+ke)*Je+(Ke-Xe)/2,size:Xe}}],Me)}return Oe}}var combineAllBarPositions=(Re,Ce,je,Be,De,Fe,ke)=>{var Oe=isNullish(ke)?Ce:ke,Me=getBarPositions(je,Be,De!==Fe?De:Fe,Re,Oe);return De!==Fe&&Me!=null&&(Me=Me.map(Ue=>_objectSpread$7(_objectSpread$7({},Ue),{},{position:_objectSpread$7(_objectSpread$7({},Ue.position),{},{offset:Ue.position.offset-De/2})}))),Me},selectAllBarPositions=createSelector([selectBarSizeList,selectRootMaxBarSize,selectBarGap,selectBarCategoryGap,selectBarBandSize,selectAxisBandSize,selectMaxBarSize],combineAllBarPositions),selectXAxisWithScale$1=(Re,Ce,je,Be)=>selectAxisWithScale(Re,"xAxis",Ce,Be),selectYAxisWithScale$1=(Re,Ce,je,Be)=>selectAxisWithScale(Re,"yAxis",je,Be),selectXAxisTicks$1=(Re,Ce,je,Be)=>selectTicksOfGraphicalItem(Re,"xAxis",Ce,Be),selectYAxisTicks$1=(Re,Ce,je,Be)=>selectTicksOfGraphicalItem(Re,"yAxis",je,Be),selectBarPosition=createSelector([selectAllBarPositions,selectSynchronisedBarSettings],(Re,Ce)=>{if(!(Re==null||Ce==null)){var je=Re.find(Be=>Be.stackId===Ce.stackId&&Ce.dataKey!=null&&Be.dataKeys.includes(Ce.dataKey));if(je!=null)return je.position}}),combineStackedData=(Re,Ce)=>{var je=getStackSeriesIdentifier(Ce);if(!(!Re||je==null||Ce==null)){var{stackId:Be}=Ce;if(Be!=null){var De=Re[Be];if(De){var{stackedData:Fe}=De;if(Fe)return Fe.find(ke=>ke.key===je)}}}},selectStackedDataOfItem=createSelector([selectBarStackGroups,selectSynchronisedBarSettings],combineStackedData),selectBarRectangles=createSelector([selectChartOffsetInternal,selectXAxisWithScale$1,selectYAxisWithScale$1,selectXAxisTicks$1,selectYAxisTicks$1,selectBarPosition,selectChartLayout,selectChartDataWithIndexesIfNotInPanorama,selectAxisBandSize,selectStackedDataOfItem,selectSynchronisedBarSettings,pickCells],(Re,Ce,je,Be,De,Fe,ke,Oe,Me,Ue,$e,He)=>{var{chartData:Qe,dataStartIndex:We,dataEndIndex:qe}=Oe;if(!($e==null||Fe==null||ke!=="horizontal"&&ke!=="vertical"||Ce==null||je==null||Be==null||De==null||Me==null)){var{data:Ke}=$e,Xe;if(Ke!=null&&Ke.length>0?Xe=Ke:Xe=Qe?.slice(We,qe+1),Xe!=null)return computeBarRectangles({layout:ke,barSettings:$e,pos:Fe,bandSize:Me,xAxis:Ce,yAxis:je,xAxisTicks:Be,yAxisTicks:De,stackedData:Ue,displayedData:Xe,offset:Re,cells:He})}}),ChartDataContextProvider=Re=>{var{chartData:Ce}=Re,je=useAppDispatch(),Be=useIsPanorama();return reactExports.useEffect(()=>Be?()=>{}:(je(setChartData(Ce)),()=>{je(setChartData(void 0))}),[Ce,je,Be]),null},initialState$3={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},brushSlice=createSlice({name:"brush",initialState:initialState$3,reducers:{setBrushSettings(Re,Ce){return Ce.payload==null?initialState$3:Ce.payload}}}),{setBrushSettings}=brushSlice.actions,brushReducer=brushSlice.reducer;function _defineProperty$a(Re,Ce,je){return(Ce=_toPropertyKey$9(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$9(Re){var Ce=_toPrimitive$9(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$9(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}class ScaleHelper{static create(Ce){return new ScaleHelper(Ce)}constructor(Ce){this.scale=Ce}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(Ce){var{bandAware:je,position:Be}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ce!==void 0){if(Be)switch(Be){case"start":return this.scale(Ce);case"middle":{var De=this.bandwidth?this.bandwidth()/2:0;return this.scale(Ce)+De}case"end":{var Fe=this.bandwidth?this.bandwidth():0;return this.scale(Ce)+Fe}default:return this.scale(Ce)}if(je){var ke=this.bandwidth?this.bandwidth()/2:0;return this.scale(Ce)+ke}return this.scale(Ce)}}isInRange(Ce){var je=this.range(),Be=je[0],De=je[je.length-1];return Be<=De?Ce>=Be&&Ce<=De:Ce>=De&&Ce<=Be}}_defineProperty$a(ScaleHelper,"EPS",1e-4);function normalizeAngle(Re){return(Re%180+180)%180}var getAngledRectangleWidth=function Re(Ce){var{width:je,height:Be}=Ce,De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Fe=normalizeAngle(De),ke=Fe*Math.PI/180,Oe=Math.atan(Be/je),Me=ke>Oe&&ke<Math.PI-Oe?Be/Math.sin(ke):je/Math.cos(ke);return Math.abs(Me)},initialState$2={dots:[],areas:[],lines:[]},referenceElementsSlice=createSlice({name:"referenceElements",initialState:initialState$2,reducers:{addDot:(Re,Ce)=>{Re.dots.push(Ce.payload)},removeDot:(Re,Ce)=>{var je=current(Re).dots.findIndex(Be=>Be===Ce.payload);je!==-1&&Re.dots.splice(je,1)},addArea:(Re,Ce)=>{Re.areas.push(Ce.payload)},removeArea:(Re,Ce)=>{var je=current(Re).areas.findIndex(Be=>Be===Ce.payload);je!==-1&&Re.areas.splice(je,1)},addLine:(Re,Ce)=>{Re.lines.push(Ce.payload)},removeLine:(Re,Ce)=>{var je=current(Re).lines.findIndex(Be=>Be===Ce.payload);je!==-1&&Re.lines.splice(je,1)}}}),{addDot,removeDot,addArea,removeArea,addLine,removeLine}=referenceElementsSlice.actions,referenceElementsReducer=referenceElementsSlice.reducer,ClipPathIdContext=reactExports.createContext(void 0),ClipPathProvider=Re=>{var{children:Ce}=Re,[je]=reactExports.useState("".concat(uniqueId("recharts"),"-clip")),Be=usePlotArea();if(Be==null)return null;var{x:De,y:Fe,width:ke,height:Oe}=Be;return reactExports.createElement(ClipPathIdContext.Provider,{value:je},reactExports.createElement("defs",null,reactExports.createElement("clipPath",{id:je},reactExports.createElement("rect",{x:De,y:Fe,height:Oe,width:ke}))),Ce)};function shallowEqual(Re,Ce){for(var je in Re)if({}.hasOwnProperty.call(Re,je)&&(!{}.hasOwnProperty.call(Ce,je)||Re[je]!==Ce[je]))return!1;for(var Be in Ce)if({}.hasOwnProperty.call(Ce,Be)&&!{}.hasOwnProperty.call(Re,Be))return!1;return!0}function getEveryNthWithCondition(Re,Ce,je){if(Ce<1)return[];if(Ce===1&&je===void 0)return Re;for(var Be=[],De=0;De<Re.length;De+=Ce)Be.push(Re[De]);return Be}function getAngledTickWidth(Re,Ce,je){var Be={width:Re.width+Ce.width,height:Re.height+Ce.height};return getAngledRectangleWidth(Be,je)}function getTickBoundaries(Re,Ce,je){var Be=je==="width",{x:De,y:Fe,width:ke,height:Oe}=Re;return Ce===1?{start:Be?De:Fe,end:Be?De+ke:Fe+Oe}:{start:Be?De+ke:Fe+Oe,end:Be?De:Fe}}function isVisible(Re,Ce,je,Be,De){if(Re*Ce<Re*Be||Re*Ce>Re*De)return!1;var Fe=je();return Re*(Ce-Re*Fe/2-Be)>=0&&Re*(Ce+Re*Fe/2-De)<=0}function getNumberIntervalTicks(Re,Ce){return getEveryNthWithCondition(Re,Ce+1)}function getEquidistantTicks(Re,Ce,je,Be,De){for(var Fe=(Be||[]).slice(),{start:ke,end:Oe}=Ce,Me=0,Ue=1,$e=ke,He=function(){var qe=Be?.[Me];if(qe===void 0)return{v:getEveryNthWithCondition(Be,Ue)};var Ke=Me,Xe,Ye=()=>(Xe===void 0&&(Xe=je(qe,Ke)),Xe),Ze=qe.coordinate,Je=Me===0||isVisible(Re,Ze,Ye,$e,Oe);Je||(Me=0,$e=ke,Ue+=1),Je&&($e=Ze+Re*(Ye()/2+De),Me+=Ue)},Qe;Ue<=Fe.length;)if(Qe=He(),Qe)return Qe.v;return[]}function ownKeys$7(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$6(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$7(Object(je),!0).forEach(function(Be){_defineProperty$9(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$7(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$9(Re,Ce,je){return(Ce=_toPropertyKey$8(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$8(Re){var Ce=_toPrimitive$8(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$8(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function getTicksEnd(Re,Ce,je,Be,De){for(var Fe=(Be||[]).slice(),ke=Fe.length,{start:Oe}=Ce,{end:Me}=Ce,Ue=function(Qe){var We=Fe[Qe],qe,Ke=()=>(qe===void 0&&(qe=je(We,Qe)),qe);if(Qe===ke-1){var Xe=Re*(We.coordinate+Re*Ke()/2-Me);Fe[Qe]=We=_objectSpread$6(_objectSpread$6({},We),{},{tickCoord:Xe>0?We.coordinate-Xe*Re:We.coordinate})}else Fe[Qe]=We=_objectSpread$6(_objectSpread$6({},We),{},{tickCoord:We.coordinate});var Ye=isVisible(Re,We.tickCoord,Ke,Oe,Me);Ye&&(Me=We.tickCoord-Re*(Ke()/2+De),Fe[Qe]=_objectSpread$6(_objectSpread$6({},We),{},{isShow:!0}))},$e=ke-1;$e>=0;$e--)Ue($e);return Fe}function getTicksStart(Re,Ce,je,Be,De,Fe){var ke=(Be||[]).slice(),Oe=ke.length,{start:Me,end:Ue}=Ce;if(Fe){var $e=Be[Oe-1],He=je($e,Oe-1),Qe=Re*($e.coordinate+Re*He/2-Ue);ke[Oe-1]=$e=_objectSpread$6(_objectSpread$6({},$e),{},{tickCoord:Qe>0?$e.coordinate-Qe*Re:$e.coordinate});var We=isVisible(Re,$e.tickCoord,()=>He,Me,Ue);We&&(Ue=$e.tickCoord-Re*(He/2+De),ke[Oe-1]=_objectSpread$6(_objectSpread$6({},$e),{},{isShow:!0}))}for(var qe=Fe?Oe-1:Oe,Ke=function(Ze){var Je=ke[Ze],tr,rr=()=>(tr===void 0&&(tr=je(Je,Ze)),tr);if(Ze===0){var ar=Re*(Je.coordinate-Re*rr()/2-Me);ke[Ze]=Je=_objectSpread$6(_objectSpread$6({},Je),{},{tickCoord:ar<0?Je.coordinate-ar*Re:Je.coordinate})}else ke[Ze]=Je=_objectSpread$6(_objectSpread$6({},Je),{},{tickCoord:Je.coordinate});var ir=isVisible(Re,Je.tickCoord,rr,Me,Ue);ir&&(Me=Je.tickCoord+Re*(rr()/2+De),ke[Ze]=_objectSpread$6(_objectSpread$6({},Je),{},{isShow:!0}))},Xe=0;Xe<qe;Xe++)Ke(Xe);return ke}function getTicks(Re,Ce,je){var{tick:Be,ticks:De,viewBox:Fe,minTickGap:ke,orientation:Oe,interval:Me,tickFormatter:Ue,unit:$e,angle:He}=Re;if(!De||!De.length||!Be)return[];if(isNumber(Me)||Global$1.isSsr){var Qe;return(Qe=getNumberIntervalTicks(De,isNumber(Me)?Me:0))!==null&&Qe!==void 0?Qe:[]}var We=[],qe=Oe==="top"||Oe==="bottom"?"width":"height",Ke=$e&&qe==="width"?getStringSize($e,{fontSize:Ce,letterSpacing:je}):{width:0,height:0},Xe=(Je,tr)=>{var rr=typeof Ue=="function"?Ue(Je.value,tr):Je.value;return qe==="width"?getAngledTickWidth(getStringSize(rr,{fontSize:Ce,letterSpacing:je}),Ke,He):getStringSize(rr,{fontSize:Ce,letterSpacing:je})[qe]},Ye=De.length>=2?mathSign(De[1].coordinate-De[0].coordinate):1,Ze=getTickBoundaries(Fe,Ye,qe);return Me==="equidistantPreserveStart"?getEquidistantTicks(Ye,Ze,Xe,De,ke):(Me==="preserveStart"||Me==="preserveStartEnd"?We=getTicksStart(Ye,Ze,Xe,De,ke,Me==="preserveStartEnd"):We=getTicksEnd(Ye,Ze,Xe,De,ke),We.filter(Je=>Je.isShow))}var _excluded$e=["viewBox"],_excluded2$5=["viewBox"];function _extends$8(){return _extends$8=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$8.apply(null,arguments)}function ownKeys$6(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$5(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$6(Object(je),!0).forEach(function(Be){_defineProperty$8(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$6(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _objectWithoutProperties$9(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$9(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$9(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function _defineProperty$8(Re,Ce,je){return(Ce=_toPropertyKey$7(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$7(Re){var Ce=_toPrimitive$7(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$7(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}class CartesianAxis extends reactExports.Component{constructor(Ce){super(Ce),this.tickRefs=reactExports.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(Ce,je){var{viewBox:Be}=Ce,De=_objectWithoutProperties$9(Ce,_excluded$e),Fe=this.props,{viewBox:ke}=Fe,Oe=_objectWithoutProperties$9(Fe,_excluded2$5);return!shallowEqual(Be,ke)||!shallowEqual(De,Oe)||!shallowEqual(je,this.state)}getTickLineCoord(Ce){var{x:je,y:Be,width:De,height:Fe,orientation:ke,tickSize:Oe,mirror:Me,tickMargin:Ue}=this.props,$e,He,Qe,We,qe,Ke,Xe=Me?-1:1,Ye=Ce.tickSize||Oe,Ze=isNumber(Ce.tickCoord)?Ce.tickCoord:Ce.coordinate;switch(ke){case"top":$e=He=Ce.coordinate,We=Be+ +!Me*Fe,Qe=We-Xe*Ye,Ke=Qe-Xe*Ue,qe=Ze;break;case"left":Qe=We=Ce.coordinate,He=je+ +!Me*De,$e=He-Xe*Ye,qe=$e-Xe*Ue,Ke=Ze;break;case"right":Qe=We=Ce.coordinate,He=je+ +Me*De,$e=He+Xe*Ye,qe=$e+Xe*Ue,Ke=Ze;break;default:$e=He=Ce.coordinate,We=Be+ +Me*Fe,Qe=We+Xe*Ye,Ke=Qe+Xe*Ue,qe=Ze;break}return{line:{x1:$e,y1:Qe,x2:He,y2:We},tick:{x:qe,y:Ke}}}getTickTextAnchor(){var{orientation:Ce,mirror:je}=this.props,Be;switch(Ce){case"left":Be=je?"start":"end";break;case"right":Be=je?"end":"start";break;default:Be="middle";break}return Be}getTickVerticalAnchor(){var{orientation:Ce,mirror:je}=this.props;switch(Ce){case"left":case"right":return"middle";case"top":return je?"start":"end";default:return je?"end":"start"}}renderAxisLine(){var{x:Ce,y:je,width:Be,height:De,orientation:Fe,mirror:ke,axisLine:Oe}=this.props,Me=_objectSpread$5(_objectSpread$5(_objectSpread$5({},filterProps(this.props,!1)),filterProps(Oe,!1)),{},{fill:"none"});if(Fe==="top"||Fe==="bottom"){var Ue=+(Fe==="top"&&!ke||Fe==="bottom"&&ke);Me=_objectSpread$5(_objectSpread$5({},Me),{},{x1:Ce,y1:je+Ue*De,x2:Ce+Be,y2:je+Ue*De})}else{var $e=+(Fe==="left"&&!ke||Fe==="right"&&ke);Me=_objectSpread$5(_objectSpread$5({},Me),{},{x1:Ce+$e*Be,y1:je,x2:Ce+$e*Be,y2:je+De})}return reactExports.createElement("line",_extends$8({},Me,{className:clsx("recharts-cartesian-axis-line",get(Oe,"className"))}))}static renderTickItem(Ce,je,Be){var De,Fe=clsx(je.className,"recharts-cartesian-axis-tick-value");if(reactExports.isValidElement(Ce))De=reactExports.cloneElement(Ce,_objectSpread$5(_objectSpread$5({},je),{},{className:Fe}));else if(typeof Ce=="function")De=Ce(_objectSpread$5(_objectSpread$5({},je),{},{className:Fe}));else{var ke="recharts-cartesian-axis-tick-value";typeof Ce!="boolean"&&(ke=clsx(ke,Ce.className)),De=reactExports.createElement(Text,_extends$8({},je,{className:ke}),Be)}return De}renderTicks(Ce,je){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:De,stroke:Fe,tick:ke,tickFormatter:Oe,unit:Me,padding:Ue}=this.props,$e=getTicks(_objectSpread$5(_objectSpread$5({},this.props),{},{ticks:Be}),Ce,je),He=this.getTickTextAnchor(),Qe=this.getTickVerticalAnchor(),We=svgPropertiesNoEvents(this.props),qe=filterProps(ke,!1),Ke=_objectSpread$5(_objectSpread$5({},We),{},{fill:"none"},filterProps(De,!1)),Xe=$e.map((Ye,Ze)=>{var{line:Je,tick:tr}=this.getTickLineCoord(Ye),rr=_objectSpread$5(_objectSpread$5(_objectSpread$5(_objectSpread$5({textAnchor:He,verticalAnchor:Qe},We),{},{stroke:"none",fill:Fe},qe),tr),{},{index:Ze,payload:Ye,visibleTicksCount:$e.length,tickFormatter:Oe,padding:Ue});return reactExports.createElement(Layer,_extends$8({className:"recharts-cartesian-axis-tick",key:"tick-".concat(Ye.value,"-").concat(Ye.coordinate,"-").concat(Ye.tickCoord)},adaptEventsOfChild(this.props,Ye,Ze)),De&&reactExports.createElement("line",_extends$8({},Ke,Je,{className:clsx("recharts-cartesian-axis-tick-line",get(De,"className"))})),ke&&CartesianAxis.renderTickItem(ke,rr,"".concat(typeof Oe=="function"?Oe(Ye.value,Ze):Ye.value).concat(Me||"")))});return Xe.length>0?reactExports.createElement("g",{className:"recharts-cartesian-axis-ticks"},Xe):null}render(){var{axisLine:Ce,width:je,height:Be,className:De,hide:Fe}=this.props;if(Fe)return null;var{ticks:ke}=this.props;return je!=null&&je<=0||Be!=null&&Be<=0?null:reactExports.createElement(Layer,{className:clsx("recharts-cartesian-axis",De),ref:Oe=>{if(Oe){var Me=Oe.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(Me);var Ue=Me[0];if(Ue){var $e=window.getComputedStyle(Ue).fontSize,He=window.getComputedStyle(Ue).letterSpacing;($e!==this.state.fontSize||He!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(Ue).fontSize,letterSpacing:window.getComputedStyle(Ue).letterSpacing})}}}},Ce&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,ke),Label.renderCallByParent(this.props))}}_defineProperty$8(CartesianAxis,"displayName","CartesianAxis");_defineProperty$8(CartesianAxis,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _excluded$d=["x1","y1","x2","y2","key"],_excluded2$4=["offset"],_excluded3$1=["xAxisId","yAxisId"],_excluded4=["xAxisId","yAxisId"];function ownKeys$5(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$4(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$5(Object(je),!0).forEach(function(Be){_defineProperty$7(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$5(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$7(Re,Ce,je){return(Ce=_toPropertyKey$6(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$6(Re){var Ce=_toPrimitive$6(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$6(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _extends$7(){return _extends$7=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$7.apply(null,arguments)}function _objectWithoutProperties$8(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$8(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$8(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var Background=Re=>{var{fill:Ce}=Re;if(!Ce||Ce==="none")return null;var{fillOpacity:je,x:Be,y:De,width:Fe,height:ke,ry:Oe}=Re;return reactExports.createElement("rect",{x:Be,y:De,ry:Oe,width:Fe,height:ke,stroke:"none",fill:Ce,fillOpacity:je,className:"recharts-cartesian-grid-bg"})};function renderLineItem(Re,Ce){var je;if(reactExports.isValidElement(Re))je=reactExports.cloneElement(Re,Ce);else if(typeof Re=="function")je=Re(Ce);else{var{x1:Be,y1:De,x2:Fe,y2:ke,key:Oe}=Ce,Me=_objectWithoutProperties$8(Ce,_excluded$d),Ue=svgPropertiesNoEvents(Me),{offset:$e}=Ue,He=_objectWithoutProperties$8(Ue,_excluded2$4);je=reactExports.createElement("line",_extends$7({},He,{x1:Be,y1:De,x2:Fe,y2:ke,fill:"none",key:Oe}))}return je}function HorizontalGridLines(Re){var{x:Ce,width:je,horizontal:Be=!0,horizontalPoints:De}=Re;if(!Be||!De||!De.length)return null;var{xAxisId:Fe,yAxisId:ke}=Re,Oe=_objectWithoutProperties$8(Re,_excluded3$1),Me=De.map((Ue,$e)=>{var He=_objectSpread$4(_objectSpread$4({},Oe),{},{x1:Ce,y1:Ue,x2:Ce+je,y2:Ue,key:"line-".concat($e),index:$e});return renderLineItem(Be,He)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-horizontal"},Me)}function VerticalGridLines(Re){var{y:Ce,height:je,vertical:Be=!0,verticalPoints:De}=Re;if(!Be||!De||!De.length)return null;var{xAxisId:Fe,yAxisId:ke}=Re,Oe=_objectWithoutProperties$8(Re,_excluded4),Me=De.map((Ue,$e)=>{var He=_objectSpread$4(_objectSpread$4({},Oe),{},{x1:Ue,y1:Ce,x2:Ue,y2:Ce+je,key:"line-".concat($e),index:$e});return renderLineItem(Be,He)});return reactExports.createElement("g",{className:"recharts-cartesian-grid-vertical"},Me)}function HorizontalStripes(Re){var{horizontalFill:Ce,fillOpacity:je,x:Be,y:De,width:Fe,height:ke,horizontalPoints:Oe,horizontal:Me=!0}=Re;if(!Me||!Ce||!Ce.length)return null;var Ue=Oe.map(He=>Math.round(He+De-De)).sort((He,Qe)=>He-Qe);De!==Ue[0]&&Ue.unshift(0);var $e=Ue.map((He,Qe)=>{var We=!Ue[Qe+1],qe=We?De+ke-He:Ue[Qe+1]-He;if(qe<=0)return null;var Ke=Qe%Ce.length;return reactExports.createElement("rect",{key:"react-".concat(Qe),y:He,x:Be,height:qe,width:Fe,stroke:"none",fill:Ce[Ke],fillOpacity:je,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},$e)}function VerticalStripes(Re){var{vertical:Ce=!0,verticalFill:je,fillOpacity:Be,x:De,y:Fe,width:ke,height:Oe,verticalPoints:Me}=Re;if(!Ce||!je||!je.length)return null;var Ue=Me.map(He=>Math.round(He+De-De)).sort((He,Qe)=>He-Qe);De!==Ue[0]&&Ue.unshift(0);var $e=Ue.map((He,Qe)=>{var We=!Ue[Qe+1],qe=We?De+ke-He:Ue[Qe+1]-He;if(qe<=0)return null;var Ke=Qe%je.length;return reactExports.createElement("rect",{key:"react-".concat(Qe),x:He,y:Fe,width:qe,height:Oe,stroke:"none",fill:je[Ke],fillOpacity:Be,className:"recharts-cartesian-grid-bg"})});return reactExports.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},$e)}var defaultVerticalCoordinatesGenerator=(Re,Ce)=>{var{xAxis:je,width:Be,height:De,offset:Fe}=Re;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},CartesianAxis.defaultProps),je),{},{ticks:getTicksOfAxis(je),viewBox:{x:0,y:0,width:Be,height:De}})),Fe.left,Fe.left+Fe.width,Ce)},defaultHorizontalCoordinatesGenerator=(Re,Ce)=>{var{yAxis:je,width:Be,height:De,offset:Fe}=Re;return getCoordinatesOfGrid(getTicks(_objectSpread$4(_objectSpread$4(_objectSpread$4({},CartesianAxis.defaultProps),je),{},{ticks:getTicksOfAxis(je),viewBox:{x:0,y:0,width:Be,height:De}})),Fe.top,Fe.top+Fe.height,Ce)},defaultProps$3={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function CartesianGrid(Re){var Ce=useChartWidth(),je=useChartHeight(),Be=useOffsetInternal(),De=_objectSpread$4(_objectSpread$4({},resolveDefaultProps(Re,defaultProps$3)),{},{x:isNumber(Re.x)?Re.x:Be.left,y:isNumber(Re.y)?Re.y:Be.top,width:isNumber(Re.width)?Re.width:Be.width,height:isNumber(Re.height)?Re.height:Be.height}),{xAxisId:Fe,yAxisId:ke,x:Oe,y:Me,width:Ue,height:$e,syncWithTicks:He,horizontalValues:Qe,verticalValues:We}=De,qe=useIsPanorama(),Ke=useAppSelector(cr=>selectAxisPropsNeededForCartesianGridTicksGenerator(cr,"xAxis",Fe,qe)),Xe=useAppSelector(cr=>selectAxisPropsNeededForCartesianGridTicksGenerator(cr,"yAxis",ke,qe));if(!isNumber(Ue)||Ue<=0||!isNumber($e)||$e<=0||!isNumber(Oe)||Oe!==+Oe||!isNumber(Me)||Me!==+Me)return null;var Ye=De.verticalCoordinatesGenerator||defaultVerticalCoordinatesGenerator,Ze=De.horizontalCoordinatesGenerator||defaultHorizontalCoordinatesGenerator,{horizontalPoints:Je,verticalPoints:tr}=De;if((!Je||!Je.length)&&typeof Ze=="function"){var rr=Qe&&Qe.length,ar=Ze({yAxis:Xe?_objectSpread$4(_objectSpread$4({},Xe),{},{ticks:rr?Qe:Xe.ticks}):void 0,width:Ce,height:je,offset:Be},rr?!0:He);warn(Array.isArray(ar),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof ar,"]")),Array.isArray(ar)&&(Je=ar)}if((!tr||!tr.length)&&typeof Ye=="function"){var ir=We&&We.length,nr=Ye({xAxis:Ke?_objectSpread$4(_objectSpread$4({},Ke),{},{ticks:ir?We:Ke.ticks}):void 0,width:Ce,height:je,offset:Be},ir?!0:He);warn(Array.isArray(nr),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof nr,"]")),Array.isArray(nr)&&(tr=nr)}return reactExports.createElement("g",{className:"recharts-cartesian-grid"},reactExports.createElement(Background,{fill:De.fill,fillOpacity:De.fillOpacity,x:De.x,y:De.y,width:De.width,height:De.height,ry:De.ry}),reactExports.createElement(HorizontalStripes,_extends$7({},De,{horizontalPoints:Je})),reactExports.createElement(VerticalStripes,_extends$7({},De,{verticalPoints:tr})),reactExports.createElement(HorizontalGridLines,_extends$7({},De,{offset:Be,horizontalPoints:Je,xAxis:Ke,yAxis:Xe})),reactExports.createElement(VerticalGridLines,_extends$7({},De,{offset:Be,verticalPoints:tr,xAxis:Ke,yAxis:Xe})))}CartesianGrid.displayName="CartesianGrid";var selectXAxisWithScale=(Re,Ce,je,Be)=>selectAxisWithScale(Re,"xAxis",Ce,Be),selectXAxisTicks=(Re,Ce,je,Be)=>selectTicksOfGraphicalItem(Re,"xAxis",Ce,Be),selectYAxisWithScale=(Re,Ce,je,Be)=>selectAxisWithScale(Re,"yAxis",je,Be),selectYAxisTicks=(Re,Ce,je,Be)=>selectTicksOfGraphicalItem(Re,"yAxis",je,Be),selectBandSize=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks],(Re,Ce,je,Be,De)=>isCategoricalAxis(Re,"xAxis")?getBandSizeOfAxis(Ce,Be,!1):getBandSizeOfAxis(je,De,!1)),pickLineId=(Re,Ce,je,Be,De)=>De;function isLineSettings(Re){return Re.type==="line"}var selectSynchronisedLineSettings=createSelector([selectUnfilteredCartesianItems,pickLineId],(Re,Ce)=>Re.filter(isLineSettings).find(je=>je.id===Ce)),selectLinePoints=createSelector([selectChartLayout,selectXAxisWithScale,selectYAxisWithScale,selectXAxisTicks,selectYAxisTicks,selectSynchronisedLineSettings,selectBandSize,selectChartDataWithIndexesIfNotInPanorama],(Re,Ce,je,Be,De,Fe,ke,Oe)=>{var{chartData:Me,dataStartIndex:Ue,dataEndIndex:$e}=Oe;if(!(Fe==null||Ce==null||je==null||Be==null||De==null||Be.length===0||De.length===0||ke==null)){var{dataKey:He,data:Qe}=Fe,We;if(Qe!=null&&Qe.length>0?We=Qe:We=Me?.slice(Ue,$e+1),We!=null)return computeLinePoints({layout:Re,xAxis:Ce,yAxis:je,xAxisTicks:Be,yAxisTicks:De,dataKey:He,bandSize:ke,displayedData:We})}}),_excluded$c=["id"],_excluded2$3=["type","layout","connectNulls","needClip"],_excluded3=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function ownKeys$4(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$3(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$4(Object(je),!0).forEach(function(Be){_defineProperty$6(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$4(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$6(Re,Ce,je){return(Ce=_toPropertyKey$5(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$5(Re){var Ce=_toPrimitive$5(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$5(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _objectWithoutProperties$7(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$7(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$7(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function _extends$6(){return _extends$6=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$6.apply(null,arguments)}var computeLegendPayloadFromAreaData=Re=>{var{dataKey:Ce,name:je,stroke:Be,legendType:De,hide:Fe}=Re;return[{inactive:Fe,dataKey:Ce,type:De,color:Be,value:getTooltipNameProp(je,Ce),payload:Re}]};function getTooltipEntrySettings(Re){var{dataKey:Ce,data:je,stroke:Be,strokeWidth:De,fill:Fe,name:ke,hide:Oe,unit:Me}=Re;return{dataDefinedOnItem:je,positions:void 0,settings:{stroke:Be,strokeWidth:De,fill:Fe,dataKey:Ce,nameKey:void 0,name:getTooltipNameProp(ke,Ce),hide:Oe,type:Re.tooltipType,color:Re.stroke,unit:Me}}}var generateSimpleStrokeDasharray=(Re,Ce)=>"".concat(Ce,"px ").concat(Re-Ce,"px");function repeat(Re,Ce){for(var je=Re.length%2!==0?[...Re,0]:Re,Be=[],De=0;De<Ce;++De)Be=[...Be,...je];return Be}var getStrokeDasharray=(Re,Ce,je)=>{var Be=je.reduce((He,Qe)=>He+Qe);if(!Be)return generateSimpleStrokeDasharray(Ce,Re);for(var De=Math.floor(Re/Be),Fe=Re%Be,ke=Ce-Re,Oe=[],Me=0,Ue=0;Me<je.length;Ue+=je[Me],++Me)if(Ue+je[Me]>Fe){Oe=[...je.slice(0,Me),Fe-Ue];break}var $e=Oe.length%2===0?[0,ke]:[ke];return[...repeat(je,De),...Oe,...$e].map(He=>"".concat(He,"px")).join(", ")};function renderDotItem(Re,Ce){var je;if(reactExports.isValidElement(Re))je=reactExports.cloneElement(Re,Ce);else if(typeof Re=="function")je=Re(Ce);else{var Be=clsx("recharts-line-dot",typeof Re!="boolean"?Re.className:"");je=reactExports.createElement(Dot,_extends$6({},Ce,{className:Be}))}return je}function shouldRenderDots(Re,Ce){return Re==null?!1:Ce?!0:Re.length===1}function Dots(Re){var{clipPathId:Ce,points:je,props:Be}=Re,{dot:De,dataKey:Fe,needClip:ke}=Be;if(!shouldRenderDots(je,De))return null;var{id:Oe}=Be,Me=_objectWithoutProperties$7(Be,_excluded$c),Ue=isClipDot(De),$e=svgPropertiesNoEvents(Me),He=filterProps(De,!0),Qe=je.map((qe,Ke)=>{var Xe=_objectSpread$3(_objectSpread$3(_objectSpread$3({key:"dot-".concat(Ke),r:3},$e),He),{},{index:Ke,cx:qe.x,cy:qe.y,dataKey:Fe,value:qe.value,payload:qe.payload,points:je});return renderDotItem(De,Xe)}),We={clipPath:ke?"url(#clipPath-".concat(Ue?"":"dots-").concat(Ce,")"):void 0};return reactExports.createElement(Layer,_extends$6({className:"recharts-line-dots",key:"dots"},We),Qe)}function StaticCurve(Re){var{clipPathId:Ce,pathRef:je,points:Be,strokeDasharray:De,props:Fe,showLabels:ke}=Re,{type:Oe,layout:Me,connectNulls:Ue,needClip:$e}=Fe,He=_objectWithoutProperties$7(Fe,_excluded2$3),Qe=_objectSpread$3(_objectSpread$3({},filterProps(He,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:$e?"url(#clipPath-".concat(Ce,")"):void 0,points:Be,type:Oe,layout:Me,connectNulls:Ue,strokeDasharray:De??Fe.strokeDasharray});return reactExports.createElement(reactExports.Fragment,null,Be?.length>1&&reactExports.createElement(Curve,_extends$6({},Qe,{pathRef:je})),reactExports.createElement(Dots,{points:Be,clipPathId:Ce,props:Fe}),ke&&LabelList.renderCallByParent(Fe,Be))}function getTotalLength(Re){try{return Re&&Re.getTotalLength&&Re.getTotalLength()||0}catch{return 0}}function CurveWithAnimation(Re){var{clipPathId:Ce,props:je,pathRef:Be,previousPointsRef:De,longestAnimatedLengthRef:Fe}=Re,{points:ke,strokeDasharray:Oe,isAnimationActive:Me,animationBegin:Ue,animationDuration:$e,animationEasing:He,animateNewValues:Qe,width:We,height:qe,onAnimationEnd:Ke,onAnimationStart:Xe}=je,Ye=De.current,Ze=useAnimationId(je,"recharts-line-"),[Je,tr]=reactExports.useState(!1),rr=reactExports.useCallback(()=>{typeof Ke=="function"&&Ke(),tr(!1)},[Ke]),ar=reactExports.useCallback(()=>{typeof Xe=="function"&&Xe(),tr(!0)},[Xe]),ir=getTotalLength(Be.current),nr=Fe.current;return reactExports.createElement(JavascriptAnimate,{begin:Ue,duration:$e,isActive:Me,easing:He,onAnimationEnd:rr,onAnimationStart:ar,key:Ze},cr=>{var mr=interpolate$1(nr,ir+nr,cr),fr=Math.min(mr,ir),or;if(Oe){var yr="".concat(Oe).split(/[,\s]+/gim).map(vr=>parseFloat(vr));or=getStrokeDasharray(fr,ir,yr)}else or=generateSimpleStrokeDasharray(ir,fr);if(Ye){var Cr=Ye.length/ke.length,jr=cr===1?ke:ke.map((vr,Tr)=>{var wr=Math.floor(Tr*Cr);if(Ye[wr]){var Er=Ye[wr];return _objectSpread$3(_objectSpread$3({},vr),{},{x:interpolate$1(Er.x,vr.x,cr),y:interpolate$1(Er.y,vr.y,cr)})}return Qe?_objectSpread$3(_objectSpread$3({},vr),{},{x:interpolate$1(We*2,vr.x,cr),y:interpolate$1(qe/2,vr.y,cr)}):_objectSpread$3(_objectSpread$3({},vr),{},{x:vr.x,y:vr.y})});return De.current=jr,reactExports.createElement(StaticCurve,{props:je,points:jr,clipPathId:Ce,pathRef:Be,showLabels:!Je,strokeDasharray:or})}return cr>0&&ir>0&&(De.current=ke,Fe.current=fr),reactExports.createElement(StaticCurve,{props:je,points:ke,clipPathId:Ce,pathRef:Be,showLabels:!Je,strokeDasharray:or})})}function RenderCurve(Re){var{clipPathId:Ce,props:je}=Re,{points:Be,isAnimationActive:De}=je,Fe=reactExports.useRef(null),ke=reactExports.useRef(0),Oe=reactExports.useRef(null),Me=Fe.current;return De&&Be&&Be.length&&Me!==Be?reactExports.createElement(CurveWithAnimation,{props:je,clipPathId:Ce,previousPointsRef:Fe,longestAnimatedLengthRef:ke,pathRef:Oe}):reactExports.createElement(StaticCurve,{props:je,points:Be,clipPathId:Ce,pathRef:Oe,showLabels:!0})}var errorBarDataPointFormatter=(Re,Ce)=>({x:Re.x,y:Re.y,value:Re.value,errorVal:getValueByDataKey(Re.payload,Ce)});class LineWithState extends reactExports.Component{render(){var Ce,{hide:je,dot:Be,points:De,className:Fe,xAxisId:ke,yAxisId:Oe,top:Me,left:Ue,width:$e,height:He,id:Qe,needClip:We}=this.props;if(je)return null;var qe=clsx("recharts-line",Fe),Ke=Qe,{r:Xe=3,strokeWidth:Ye=2}=(Ce=filterProps(Be,!1))!==null&&Ce!==void 0?Ce:{r:3,strokeWidth:2},Ze=isClipDot(Be),Je=Xe*2+Ye;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Layer,{className:qe},We&&reactExports.createElement("defs",null,reactExports.createElement(GraphicalItemClipPath,{clipPathId:Ke,xAxisId:ke,yAxisId:Oe}),!Ze&&reactExports.createElement("clipPath",{id:"clipPath-dots-".concat(Ke)},reactExports.createElement("rect",{x:Ue-Je/2,y:Me-Je/2,width:$e+Je,height:He+Je}))),reactExports.createElement(RenderCurve,{props:this.props,clipPathId:Ke}),reactExports.createElement(SetErrorBarContext,{xAxisId:ke,yAxisId:Oe,data:De,dataPointFormatter:errorBarDataPointFormatter,errorBarOffset:0},this.props.children)),reactExports.createElement(ActivePoints,{activeDot:this.props.activeDot,points:De,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var defaultLineProps={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Global$1.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function LineImpl(Re){var Ce=resolveDefaultProps(Re,defaultLineProps),{activeDot:je,animateNewValues:Be,animationBegin:De,animationDuration:Fe,animationEasing:ke,connectNulls:Oe,dot:Me,hide:Ue,isAnimationActive:$e,label:He,legendType:Qe,xAxisId:We,yAxisId:qe,id:Ke}=Ce,Xe=_objectWithoutProperties$7(Ce,_excluded3),{needClip:Ye}=useNeedsClip(We,qe),Ze=usePlotArea(),Je=useChartLayout(),tr=useIsPanorama(),rr=useAppSelector(mr=>selectLinePoints(mr,We,qe,tr,Ke));if(Je!=="horizontal"&&Je!=="vertical"||rr==null||Ze==null)return null;var{height:ar,width:ir,x:nr,y:cr}=Ze;return reactExports.createElement(LineWithState,_extends$6({},Xe,{id:Ke,connectNulls:Oe,dot:Me,activeDot:je,animateNewValues:Be,animationBegin:De,animationDuration:Fe,animationEasing:ke,isAnimationActive:$e,hide:Ue,label:He,legendType:Qe,xAxisId:We,yAxisId:qe,points:rr,layout:Je,height:ar,width:ir,left:nr,top:cr,needClip:Ye}))}function computeLinePoints(Re){var{layout:Ce,xAxis:je,yAxis:Be,xAxisTicks:De,yAxisTicks:Fe,dataKey:ke,bandSize:Oe,displayedData:Me}=Re;return Me.map((Ue,$e)=>{var He=getValueByDataKey(Ue,ke);if(Ce==="horizontal"){var Qe=getCateCoordinateOfLine({axis:je,ticks:De,bandSize:Oe,entry:Ue,index:$e}),We=isNullish(He)?null:Be.scale(He);return{x:Qe,y:We,value:He,payload:Ue}}var qe=isNullish(He)?null:je.scale(He),Ke=getCateCoordinateOfLine({axis:Be,ticks:Fe,bandSize:Oe,entry:Ue,index:$e});return qe==null||Ke==null?null:{x:qe,y:Ke,value:He,payload:Ue}}).filter(Boolean)}function Line(Re){var Ce=resolveDefaultProps(Re,defaultLineProps),je=useIsPanorama();return reactExports.createElement(RegisterGraphicalItemId,{id:Ce.id,type:"line"},Be=>reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetLegendPayload,{legendPayload:computeLegendPayloadFromAreaData(Ce)}),reactExports.createElement(SetTooltipEntrySettings,{fn:getTooltipEntrySettings,args:Ce}),reactExports.createElement(SetCartesianGraphicalItem,{type:"line",id:Be,data:Ce.data,xAxisId:Ce.xAxisId,yAxisId:Ce.yAxisId,zAxisId:0,dataKey:Ce.dataKey,hide:Ce.hide,isPanorama:je}),reactExports.createElement(LineImpl,_extends$6({},Ce,{id:Be}))))}Line.displayName="Line";function ownKeys$3(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$2(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$3(Object(je),!0).forEach(function(Be){_defineProperty$5(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$3(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$5(Re,Ce,je){return(Ce=_toPropertyKey$4(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$4(Re){var Ce=_toPrimitive$4(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$4(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var initialState$1={xAxis:{},yAxis:{},zAxis:{}},cartesianAxisSlice=createSlice({name:"cartesianAxis",initialState:initialState$1,reducers:{addXAxis(Re,Ce){Re.xAxis[Ce.payload.id]=Ce.payload},removeXAxis(Re,Ce){delete Re.xAxis[Ce.payload.id]},addYAxis(Re,Ce){Re.yAxis[Ce.payload.id]=Ce.payload},removeYAxis(Re,Ce){delete Re.yAxis[Ce.payload.id]},addZAxis(Re,Ce){Re.zAxis[Ce.payload.id]=Ce.payload},removeZAxis(Re,Ce){delete Re.zAxis[Ce.payload.id]},updateYAxisWidth(Re,Ce){var{id:je,width:Be}=Ce.payload;Re.yAxis[je]&&(Re.yAxis[je]=_objectSpread$2(_objectSpread$2({},Re.yAxis[je]),{},{width:Be}))}}}),{addXAxis,removeXAxis,addYAxis,removeYAxis,addZAxis,removeZAxis,updateYAxisWidth}=cartesianAxisSlice.actions,cartesianAxisReducer=cartesianAxisSlice.reducer,_excluded$b=["children"],_excluded2$2=["dangerouslySetInnerHTML","ticks"];function _defineProperty$4(Re,Ce,je){return(Ce=_toPropertyKey$3(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$3(Re){var Ce=_toPrimitive$3(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$3(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _extends$5(){return _extends$5=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$5.apply(null,arguments)}function _objectWithoutProperties$6(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$6(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$6(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function SetXAxisSettings(Re){var Ce=useAppDispatch(),je=reactExports.useMemo(()=>{var{children:Fe}=Re,ke=_objectWithoutProperties$6(Re,_excluded$b);return ke},[Re]),Be=useAppSelector(Fe=>selectXAxisSettings(Fe,je.id)),De=je===Be;return reactExports.useEffect(()=>(Ce(addXAxis(je)),()=>{Ce(removeXAxis(je))}),[je,Ce]),De?Re.children:null}var XAxisImpl=Re=>{var{xAxisId:Ce,className:je}=Re,Be=useAppSelector(selectAxisViewBox),De=useIsPanorama(),Fe="xAxis",ke=useAppSelector(We=>selectAxisScale(We,Fe,Ce,De)),Oe=useAppSelector(We=>selectTicksOfAxis(We,Fe,Ce,De)),Me=useAppSelector(We=>selectXAxisSize(We,Ce)),Ue=useAppSelector(We=>selectXAxisPosition(We,Ce));if(Me==null||Ue==null)return null;var{dangerouslySetInnerHTML:$e,ticks:He}=Re,Qe=_objectWithoutProperties$6(Re,_excluded2$2);return reactExports.createElement(CartesianAxis,_extends$5({},Qe,{scale:ke,x:Ue.x,y:Ue.y,width:Me.width,height:Me.height,className:clsx("recharts-".concat(Fe," ").concat(Fe),je),viewBox:Be,ticks:Oe}))},XAxisSettingsDispatcher=Re=>{var Ce,je,Be,De,Fe;return reactExports.createElement(SetXAxisSettings,{interval:(Ce=Re.interval)!==null&&Ce!==void 0?Ce:"preserveEnd",id:Re.xAxisId,scale:Re.scale,type:Re.type,padding:Re.padding,allowDataOverflow:Re.allowDataOverflow,domain:Re.domain,dataKey:Re.dataKey,allowDuplicatedCategory:Re.allowDuplicatedCategory,allowDecimals:Re.allowDecimals,tickCount:Re.tickCount,includeHidden:(je=Re.includeHidden)!==null&&je!==void 0?je:!1,reversed:Re.reversed,ticks:Re.ticks,height:Re.height,orientation:Re.orientation,mirror:Re.mirror,hide:Re.hide,unit:Re.unit,name:Re.name,angle:(Be=Re.angle)!==null&&Be!==void 0?Be:0,minTickGap:(De=Re.minTickGap)!==null&&De!==void 0?De:5,tick:(Fe=Re.tick)!==null&&Fe!==void 0?Fe:!0,tickFormatter:Re.tickFormatter},reactExports.createElement(XAxisImpl,Re))};class XAxis extends reactExports.Component{render(){return reactExports.createElement(XAxisSettingsDispatcher,this.props)}}_defineProperty$4(XAxis,"displayName","XAxis");_defineProperty$4(XAxis,"defaultProps",{allowDataOverflow:implicitXAxis.allowDataOverflow,allowDecimals:implicitXAxis.allowDecimals,allowDuplicatedCategory:implicitXAxis.allowDuplicatedCategory,height:implicitXAxis.height,hide:!1,mirror:implicitXAxis.mirror,orientation:implicitXAxis.orientation,padding:implicitXAxis.padding,reversed:implicitXAxis.reversed,scale:implicitXAxis.scale,tickCount:implicitXAxis.tickCount,type:implicitXAxis.type,xAxisId:0});var getCalculatedYAxisWidth=Re=>{var{ticks:Ce,label:je,labelGapWithTick:Be=5,tickSize:De=0,tickMargin:Fe=0}=Re,ke=0;if(Ce){Ce.forEach($e=>{if($e){var He=$e.getBoundingClientRect();He.width>ke&&(ke=He.width)}});var Oe=je?je.getBoundingClientRect().width:0,Me=De+Fe,Ue=ke+Me+Oe+(je?Be:0);return Math.round(Ue)}return 0},_excluded$a=["dangerouslySetInnerHTML","ticks"];function _defineProperty$3(Re,Ce,je){return(Ce=_toPropertyKey$2(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$2(Re){var Ce=_toPrimitive$2(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$2(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function _extends$4(){return _extends$4=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$4.apply(null,arguments)}function _objectWithoutProperties$5(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$5(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$5(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function SetYAxisSettings(Re){var Ce=useAppDispatch();return reactExports.useEffect(()=>(Ce(addYAxis(Re)),()=>{Ce(removeYAxis(Re))}),[Re,Ce]),null}var YAxisImpl=Re=>{var Ce,{yAxisId:je,className:Be,width:De,label:Fe}=Re,ke=reactExports.useRef(null),Oe=reactExports.useRef(null),Me=useAppSelector(selectAxisViewBox),Ue=useIsPanorama(),$e=useAppDispatch(),He="yAxis",Qe=useAppSelector(Je=>selectAxisScale(Je,He,je,Ue)),We=useAppSelector(Je=>selectYAxisSize(Je,je)),qe=useAppSelector(Je=>selectYAxisPosition(Je,je)),Ke=useAppSelector(Je=>selectTicksOfAxis(Je,He,je,Ue));if(reactExports.useLayoutEffect(()=>{var Je;if(!(De!=="auto"||!We||isLabelContentAFunction(Fe)||reactExports.isValidElement(Fe))){var tr=ke.current,rr=tr==null||(Je=tr.tickRefs)===null||Je===void 0?void 0:Je.current,{tickSize:ar,tickMargin:ir}=tr.props,nr=getCalculatedYAxisWidth({ticks:rr,label:Oe.current,labelGapWithTick:5,tickSize:ar,tickMargin:ir});Math.round(We.width)!==Math.round(nr)&&$e(updateYAxisWidth({id:je,width:nr}))}},[ke,ke==null||(Ce=ke.current)===null||Ce===void 0||(Ce=Ce.tickRefs)===null||Ce===void 0?void 0:Ce.current,We?.width,We,$e,Fe,je,De]),We==null||qe==null)return null;var{dangerouslySetInnerHTML:Xe,ticks:Ye}=Re,Ze=_objectWithoutProperties$5(Re,_excluded$a);return reactExports.createElement(CartesianAxis,_extends$4({},Ze,{ref:ke,labelRef:Oe,scale:Qe,x:qe.x,y:qe.y,width:We.width,height:We.height,className:clsx("recharts-".concat(He," ").concat(He),Be),viewBox:Me,ticks:Ke}))},YAxisSettingsDispatcher=Re=>{var Ce,je,Be,De,Fe;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(SetYAxisSettings,{interval:(Ce=Re.interval)!==null&&Ce!==void 0?Ce:"preserveEnd",id:Re.yAxisId,scale:Re.scale,type:Re.type,domain:Re.domain,allowDataOverflow:Re.allowDataOverflow,dataKey:Re.dataKey,allowDuplicatedCategory:Re.allowDuplicatedCategory,allowDecimals:Re.allowDecimals,tickCount:Re.tickCount,padding:Re.padding,includeHidden:(je=Re.includeHidden)!==null&&je!==void 0?je:!1,reversed:Re.reversed,ticks:Re.ticks,width:Re.width,orientation:Re.orientation,mirror:Re.mirror,hide:Re.hide,unit:Re.unit,name:Re.name,angle:(Be=Re.angle)!==null&&Be!==void 0?Be:0,minTickGap:(De=Re.minTickGap)!==null&&De!==void 0?De:5,tick:(Fe=Re.tick)!==null&&Fe!==void 0?Fe:!0,tickFormatter:Re.tickFormatter}),reactExports.createElement(YAxisImpl,Re))},YAxisDefaultProps={allowDataOverflow:implicitYAxis.allowDataOverflow,allowDecimals:implicitYAxis.allowDecimals,allowDuplicatedCategory:implicitYAxis.allowDuplicatedCategory,hide:!1,mirror:implicitYAxis.mirror,orientation:implicitYAxis.orientation,padding:implicitYAxis.padding,reversed:implicitYAxis.reversed,scale:implicitYAxis.scale,tickCount:implicitYAxis.tickCount,type:implicitYAxis.type,width:implicitYAxis.width,yAxisId:0};class YAxis extends reactExports.Component{render(){return reactExports.createElement(YAxisSettingsDispatcher,this.props)}}_defineProperty$3(YAxis,"displayName","YAxis");_defineProperty$3(YAxis,"defaultProps",YAxisDefaultProps);var withSelector={exports:{}},useSyncExternalStoreWithSelector_production={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredUseSyncExternalStoreWithSelector_production;function requireUseSyncExternalStoreWithSelector_production(){if(hasRequiredUseSyncExternalStoreWithSelector_production)return useSyncExternalStoreWithSelector_production;hasRequiredUseSyncExternalStoreWithSelector_production=1;var Re=requireReact();function Ce(Me,Ue){return Me===Ue&&(Me!==0||1/Me===1/Ue)||Me!==Me&&Ue!==Ue}var je=typeof Object.is=="function"?Object.is:Ce,Be=Re.useSyncExternalStore,De=Re.useRef,Fe=Re.useEffect,ke=Re.useMemo,Oe=Re.useDebugValue;return useSyncExternalStoreWithSelector_production.useSyncExternalStoreWithSelector=function(Me,Ue,$e,He,Qe){var We=De(null);if(We.current===null){var qe={hasValue:!1,value:null};We.current=qe}else qe=We.current;We=ke(function(){function Xe(rr){if(!Ye){if(Ye=!0,Ze=rr,rr=He(rr),Qe!==void 0&&qe.hasValue){var ar=qe.value;if(Qe(ar,rr))return Je=ar}return Je=rr}if(ar=Je,je(Ze,rr))return ar;var ir=He(rr);return Qe!==void 0&&Qe(ar,ir)?(Ze=rr,ar):(Ze=rr,Je=ir)}var Ye=!1,Ze,Je,tr=$e===void 0?null:$e;return[function(){return Xe(Ue())},tr===null?void 0:function(){return Xe(tr())}]},[Ue,$e,He,Qe]);var Ke=Be(Me,We[0],We[1]);return Fe(function(){qe.hasValue=!0,qe.value=Ke},[Ke]),Oe(Ke),Ke},useSyncExternalStoreWithSelector_production}var hasRequiredWithSelector;function requireWithSelector(){return hasRequiredWithSelector||(hasRequiredWithSelector=1,withSelector.exports=requireUseSyncExternalStoreWithSelector_production()),withSelector.exports}requireWithSelector();function defaultNoopBatch(Re){Re()}function createListenerCollection(){let Re=null,Ce=null;return{clear(){Re=null,Ce=null},notify(){defaultNoopBatch(()=>{let je=Re;for(;je;)je.callback(),je=je.next})},get(){const je=[];let Be=Re;for(;Be;)je.push(Be),Be=Be.next;return je},subscribe(je){let Be=!0;const De=Ce={callback:je,next:null,prev:Ce};return De.prev?De.prev.next=De:Re=De,function(){!Be||Re===null||(Be=!1,De.next?De.next.prev=De.prev:Ce=De.prev,De.prev?De.prev.next=De.next:Re=De.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(Re,Ce){let je,Be=nullListeners,De=0,Fe=!1;function ke(Ke){$e();const Xe=Be.subscribe(Ke);let Ye=!1;return()=>{Ye||(Ye=!0,Xe(),He())}}function Oe(){Be.notify()}function Me(){qe.onStateChange&&qe.onStateChange()}function Ue(){return Fe}function $e(){De++,je||(je=Re.subscribe(Me),Be=createListenerCollection())}function He(){De--,je&&De===0&&(je(),je=void 0,Be.clear(),Be=nullListeners)}function Qe(){Fe||(Fe=!0,$e())}function We(){Fe&&(Fe=!1,He())}const qe={addNestedSub:ke,notifyNestedSubs:Oe,handleChangeWrapper:Me,isSubscribed:Ue,trySubscribe:Qe,tryUnsubscribe:We,getListeners:()=>Be};return qe}var canUseDOM$1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isDOM=canUseDOM$1(),isRunningInReactNative=()=>typeof navigator<"u"&&navigator.product==="ReactNative",isReactNative=isRunningInReactNative(),getUseIsomorphicLayoutEffect=()=>isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,useIsomorphicLayoutEffect=getUseIsomorphicLayoutEffect(),ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!reactExports.createContext)return{};const Re=gT[ContextKey]??=new Map;let Ce=Re.get(reactExports.createContext);return Ce||(Ce=reactExports.createContext(null),Re.set(reactExports.createContext,Ce)),Ce}var ReactReduxContext=getContext();function Provider(Re){const{children:Ce,context:je,serverState:Be,store:De}=Re,Fe=reactExports.useMemo(()=>{const Me=createSubscription(De);return{store:De,subscription:Me,getServerState:Be?()=>Be:void 0}},[De,Be]),ke=reactExports.useMemo(()=>De.getState(),[De]);useIsomorphicLayoutEffect(()=>{const{subscription:Me}=Fe;return Me.onStateChange=Me.notifyNestedSubs,Me.trySubscribe(),ke!==De.getState()&&Me.notifyNestedSubs(),()=>{Me.tryUnsubscribe(),Me.onStateChange=void 0}},[Fe,ke]);const Oe=je||ReactReduxContext;return reactExports.createElement(Oe.Provider,{value:Fe},Ce)}var Provider_default=Provider,pickChartPointer=(Re,Ce)=>Ce,selectActivePropsFromChartPointer=createSelector([pickChartPointer,selectChartLayout,selectPolarViewBox,selectTooltipAxisType,selectTooltipAxisRangeWithReverse,selectTooltipAxisTicks,selectOrderedTooltipTicks,selectChartOffsetInternal],combineActiveProps),getChartPointer=Re=>{var Ce=Re.currentTarget.getBoundingClientRect(),je=Ce.width/Re.currentTarget.offsetWidth,Be=Ce.height/Re.currentTarget.offsetHeight;return{chartX:Math.round((Re.clientX-Ce.left)/je),chartY:Math.round((Re.clientY-Ce.top)/Be)}},mouseClickAction=createAction("mouseClick"),mouseClickMiddleware=createListenerMiddleware();mouseClickMiddleware.startListening({actionCreator:mouseClickAction,effect:(Re,Ce)=>{var je=Re.payload,Be=selectActivePropsFromChartPointer(Ce.getState(),getChartPointer(je));Be?.activeIndex!=null&&Ce.dispatch(setMouseClickAxisIndex({activeIndex:Be.activeIndex,activeDataKey:void 0,activeCoordinate:Be.activeCoordinate}))}});var mouseMoveAction=createAction("mouseMove"),mouseMoveMiddleware=createListenerMiddleware();mouseMoveMiddleware.startListening({actionCreator:mouseMoveAction,effect:(Re,Ce)=>{var je=Re.payload,Be=Ce.getState(),De=selectTooltipEventType$1(Be,Be.tooltip.settings.shared),Fe=selectActivePropsFromChartPointer(Be,getChartPointer(je));De==="axis"&&(Fe?.activeIndex!=null?Ce.dispatch(setMouseOverAxisIndex({activeIndex:Fe.activeIndex,activeDataKey:void 0,activeCoordinate:Fe.activeCoordinate})):Ce.dispatch(mouseLeaveChart()))}});function reduxDevtoolsJsonStringifyReplacer(Re,Ce){return Ce instanceof HTMLElement?"HTMLElement <".concat(Ce.tagName,' class="').concat(Ce.className,'">'):Ce===window?"global.window":Ce}var initialState={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},rootPropsSlice=createSlice({name:"rootProps",initialState,reducers:{updateOptions:(Re,Ce)=>{var je;Re.accessibilityLayer=Ce.payload.accessibilityLayer,Re.barCategoryGap=Ce.payload.barCategoryGap,Re.barGap=(je=Ce.payload.barGap)!==null&&je!==void 0?je:initialState.barGap,Re.barSize=Ce.payload.barSize,Re.maxBarSize=Ce.payload.maxBarSize,Re.stackOffset=Ce.payload.stackOffset,Re.syncId=Ce.payload.syncId,Re.syncMethod=Ce.payload.syncMethod,Re.className=Ce.payload.className}}}),rootPropsReducer=rootPropsSlice.reducer,{updateOptions}=rootPropsSlice.actions,polarOptionsSlice=createSlice({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(Re,Ce)=>Ce.payload}}),{updatePolarOptions}=polarOptionsSlice.actions,polarOptionsReducer=polarOptionsSlice.reducer,keyDownAction=createAction("keyDown"),focusAction=createAction("focus"),keyboardEventsMiddleware=createListenerMiddleware();keyboardEventsMiddleware.startListening({actionCreator:keyDownAction,effect:(Re,Ce)=>{var je=Ce.getState(),Be=je.rootProps.accessibilityLayer!==!1;if(Be){var{keyboardInteraction:De}=je.tooltip,Fe=Re.payload;if(!(Fe!=="ArrowRight"&&Fe!=="ArrowLeft"&&Fe!=="Enter")){var ke=Number(combineActiveTooltipIndex(De,selectTooltipDisplayedData(je))),Oe=selectTooltipAxisTicks(je);if(Fe==="Enter"){var Me=selectCoordinateForDefaultIndex(je,"axis","hover",String(De.index));Ce.dispatch(setKeyboardInteraction({active:!De.active,activeIndex:De.index,activeDataKey:De.dataKey,activeCoordinate:Me}));return}var Ue=selectChartDirection(je),$e=Ue==="left-to-right"?1:-1,He=Fe==="ArrowRight"?1:-1,Qe=ke+He*$e;if(!(Oe==null||Qe>=Oe.length||Qe<0)){var We=selectCoordinateForDefaultIndex(je,"axis","hover",String(Qe));Ce.dispatch(setKeyboardInteraction({active:!0,activeIndex:Qe.toString(),activeDataKey:void 0,activeCoordinate:We}))}}}}});keyboardEventsMiddleware.startListening({actionCreator:focusAction,effect:(Re,Ce)=>{var je=Ce.getState(),Be=je.rootProps.accessibilityLayer!==!1;if(Be){var{keyboardInteraction:De}=je.tooltip;if(!De.active&&De.index==null){var Fe="0",ke=selectCoordinateForDefaultIndex(je,"axis","hover",String(Fe));Ce.dispatch(setKeyboardInteraction({activeDataKey:void 0,active:!0,activeIndex:Fe,activeCoordinate:ke}))}}}});var externalEventAction=createAction("externalEvent"),externalEventsMiddleware=createListenerMiddleware();externalEventsMiddleware.startListening({actionCreator:externalEventAction,effect:(Re,Ce)=>{if(Re.payload.handler!=null){var je=Ce.getState(),Be={activeCoordinate:selectActiveTooltipCoordinate(je),activeDataKey:selectActiveTooltipDataKey(je),activeIndex:selectActiveTooltipIndex(je),activeLabel:selectActiveLabel$1(je),activeTooltipIndex:selectActiveTooltipIndex(je),isTooltipActive:selectIsTooltipActive$1(je)};Re.payload.handler(Be,Re.payload.reactEvent)}}});var selectAllTooltipPayloadConfiguration=createSelector([selectTooltipState],Re=>Re.tooltipItemPayloads),selectTooltipCoordinate=createSelector([selectAllTooltipPayloadConfiguration,selectTooltipPayloadSearcher,(Re,Ce,je)=>Ce,(Re,Ce,je)=>je],(Re,Ce,je,Be)=>{var De=Re.find(Oe=>Oe.settings.dataKey===Be);if(De!=null){var{positions:Fe}=De;if(Fe!=null){var ke=Ce(Fe,je);return ke}}}),touchEventAction=createAction("touchMove"),touchEventMiddleware=createListenerMiddleware();touchEventMiddleware.startListening({actionCreator:touchEventAction,effect:(Re,Ce)=>{var je=Re.payload,Be=Ce.getState(),De=selectTooltipEventType$1(Be,Be.tooltip.settings.shared);if(De==="axis"){var Fe=selectActivePropsFromChartPointer(Be,getChartPointer({clientX:je.touches[0].clientX,clientY:je.touches[0].clientY,currentTarget:je.currentTarget}));Fe?.activeIndex!=null&&Ce.dispatch(setMouseOverAxisIndex({activeIndex:Fe.activeIndex,activeDataKey:void 0,activeCoordinate:Fe.activeCoordinate}))}else if(De==="item"){var ke,Oe=je.touches[0],Me=document.elementFromPoint(Oe.clientX,Oe.clientY);if(!Me||!Me.getAttribute)return;var Ue=Me.getAttribute(DATA_ITEM_INDEX_ATTRIBUTE_NAME),$e=(ke=Me.getAttribute(DATA_ITEM_DATAKEY_ATTRIBUTE_NAME))!==null&&ke!==void 0?ke:void 0,He=selectTooltipCoordinate(Ce.getState(),Ue,$e);Ce.dispatch(setActiveMouseOverItemIndex({activeDataKey:$e,activeIndex:Ue,activeCoordinate:He}))}}});var rootReducer=combineReducers({brush:brushReducer,cartesianAxis:cartesianAxisReducer,chartData:chartDataReducer,errorBars:errorBarReducer,graphicalItems:graphicalItemsReducer,layout:chartLayoutReducer,legend:legendReducer,options:optionsReducer,polarAxis:polarAxisReducer,polarOptions:polarOptionsReducer,referenceElements:referenceElementsReducer,rootProps:rootPropsReducer,tooltip:tooltipReducer}),createRechartsStore=function Re(Ce){var je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return configureStore({reducer:rootReducer,preloadedState:Ce,middleware:Be=>Be({serializableCheck:!1}).concat([mouseClickMiddleware.middleware,mouseMoveMiddleware.middleware,keyboardEventsMiddleware.middleware,externalEventsMiddleware.middleware,touchEventMiddleware.middleware]),devTools:{serialize:{replacer:reduxDevtoolsJsonStringifyReplacer},name:"recharts-".concat(je)}})};function RechartsStoreProvider(Re){var{preloadedState:Ce,children:je,reduxStoreName:Be}=Re,De=useIsPanorama(),Fe=reactExports.useRef(null);if(De)return je;Fe.current==null&&(Fe.current=createRechartsStore(Ce,Be));var ke=RechartsReduxContext;return reactExports.createElement(Provider_default,{context:ke,store:Fe.current},je)}function ReportMainChartProps(Re){var{layout:Ce,width:je,height:Be,margin:De}=Re,Fe=useAppDispatch(),ke=useIsPanorama();return reactExports.useEffect(()=>{ke||(Fe(setLayout(Ce)),Fe(setChartSize({width:je,height:Be})),Fe(setMargin(De)))},[Fe,ke,Ce,je,Be,De]),null}function ReportChartProps(Re){var Ce=useAppDispatch();return reactExports.useEffect(()=>{Ce(updateOptions(Re))},[Ce,Re]),null}var _excluded$9=["children"];function _objectWithoutProperties$4(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$4(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$4(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$3.apply(null,arguments)}var FULL_WIDTH_AND_HEIGHT={width:"100%",height:"100%"},MainChartSurface=reactExports.forwardRef((Re,Ce)=>{var je=useChartWidth(),Be=useChartHeight(),De=useAccessibilityLayer();if(!isPositiveNumber(je)||!isPositiveNumber(Be))return null;var{children:Fe,otherAttributes:ke,title:Oe,desc:Me}=Re,Ue,$e;return typeof ke.tabIndex=="number"?Ue=ke.tabIndex:Ue=De?0:void 0,typeof ke.role=="string"?$e=ke.role:$e=De?"application":void 0,reactExports.createElement(Surface,_extends$3({},ke,{title:Oe,desc:Me,role:$e,tabIndex:Ue,width:je,height:Be,style:FULL_WIDTH_AND_HEIGHT,ref:Ce}),Fe)}),BrushPanoramaSurface=Re=>{var{children:Ce}=Re,je=useAppSelector(selectBrushDimensions);if(!je)return null;var{width:Be,height:De,y:Fe,x:ke}=je;return reactExports.createElement(Surface,{width:Be,height:De,x:ke,y:Fe},Ce)},RootSurface=reactExports.forwardRef((Re,Ce)=>{var{children:je}=Re,Be=_objectWithoutProperties$4(Re,_excluded$9),De=useIsPanorama();return De?reactExports.createElement(BrushPanoramaSurface,null,je):reactExports.createElement(MainChartSurface,_extends$3({ref:Ce},Be),je)});function useReportScale(){var Re=useAppDispatch(),[Ce,je]=reactExports.useState(null),Be=useAppSelector(selectContainerScale);return reactExports.useEffect(()=>{if(Ce!=null){var De=Ce.getBoundingClientRect(),Fe=De.width/Ce.offsetWidth;isWellBehavedNumber(Fe)&&Fe!==Be&&Re(setScale(Fe))}},[Ce,Re,Be]),je}function ownKeys$2(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread$1(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$2(Object(je),!0).forEach(function(Be){_defineProperty$2(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$2(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty$2(Re,Ce,je){return(Ce=_toPropertyKey$1(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey$1(Re){var Ce=_toPrimitive$1(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive$1(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}var RechartsWrapper=reactExports.forwardRef((Re,Ce)=>{var{children:je,className:Be,height:De,onClick:Fe,onContextMenu:ke,onDoubleClick:Oe,onMouseDown:Me,onMouseEnter:Ue,onMouseLeave:$e,onMouseMove:He,onMouseUp:Qe,onTouchEnd:We,onTouchMove:qe,onTouchStart:Ke,style:Xe,width:Ye}=Re,Ze=useAppDispatch(),[Je,tr]=reactExports.useState(null),[rr,ar]=reactExports.useState(null);useSynchronisedEventsFromOtherCharts();var ir=useReportScale(),nr=reactExports.useCallback(_r=>{ir(_r),typeof Ce=="function"&&Ce(_r),tr(_r),ar(_r)},[ir,Ce,tr,ar]),cr=reactExports.useCallback(_r=>{Ze(mouseClickAction(_r)),Ze(externalEventAction({handler:Fe,reactEvent:_r}))},[Ze,Fe]),mr=reactExports.useCallback(_r=>{Ze(mouseMoveAction(_r)),Ze(externalEventAction({handler:Ue,reactEvent:_r}))},[Ze,Ue]),fr=reactExports.useCallback(_r=>{Ze(mouseLeaveChart()),Ze(externalEventAction({handler:$e,reactEvent:_r}))},[Ze,$e]),or=reactExports.useCallback(_r=>{Ze(mouseMoveAction(_r)),Ze(externalEventAction({handler:He,reactEvent:_r}))},[Ze,He]),yr=reactExports.useCallback(()=>{Ze(focusAction())},[Ze]),Cr=reactExports.useCallback(_r=>{Ze(keyDownAction(_r.key))},[Ze]),jr=reactExports.useCallback(_r=>{Ze(externalEventAction({handler:ke,reactEvent:_r}))},[Ze,ke]),vr=reactExports.useCallback(_r=>{Ze(externalEventAction({handler:Oe,reactEvent:_r}))},[Ze,Oe]),Tr=reactExports.useCallback(_r=>{Ze(externalEventAction({handler:Me,reactEvent:_r}))},[Ze,Me]),wr=reactExports.useCallback(_r=>{Ze(externalEventAction({handler:Qe,reactEvent:_r}))},[Ze,Qe]),Er=reactExports.useCallback(_r=>{Ze(externalEventAction({handler:Ke,reactEvent:_r}))},[Ze,Ke]),Pr=reactExports.useCallback(_r=>{Ze(touchEventAction(_r)),Ze(externalEventAction({handler:qe,reactEvent:_r}))},[Ze,qe]),Mr=reactExports.useCallback(_r=>{Ze(externalEventAction({handler:We,reactEvent:_r}))},[Ze,We]);return reactExports.createElement(TooltipPortalContext.Provider,{value:Je},reactExports.createElement(LegendPortalContext.Provider,{value:rr},reactExports.createElement("div",{className:clsx("recharts-wrapper",Be),style:_objectSpread$1({position:"relative",cursor:"default",width:Ye,height:De},Xe),onClick:cr,onContextMenu:jr,onDoubleClick:vr,onFocus:yr,onKeyDown:Cr,onMouseDown:Tr,onMouseEnter:mr,onMouseLeave:fr,onMouseMove:or,onMouseUp:wr,onTouchEnd:Mr,onTouchMove:Pr,onTouchStart:Er,ref:nr},je)))}),_excluded$8=["children","className","width","height","style","compact","title","desc"];function _objectWithoutProperties$3(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$3(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$3(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var CategoricalChart=reactExports.forwardRef((Re,Ce)=>{var{children:je,className:Be,width:De,height:Fe,style:ke,compact:Oe,title:Me,desc:Ue}=Re,$e=_objectWithoutProperties$3(Re,_excluded$8),He=svgPropertiesNoEvents($e);return Oe?reactExports.createElement(RootSurface,{otherAttributes:He,title:Me,desc:Ue},je):reactExports.createElement(RechartsWrapper,{className:Be,style:ke,width:De,height:Fe,onClick:Re.onClick,onMouseLeave:Re.onMouseLeave,onMouseEnter:Re.onMouseEnter,onMouseMove:Re.onMouseMove,onMouseDown:Re.onMouseDown,onMouseUp:Re.onMouseUp,onContextMenu:Re.onContextMenu,onDoubleClick:Re.onDoubleClick,onTouchStart:Re.onTouchStart,onTouchMove:Re.onTouchMove,onTouchEnd:Re.onTouchEnd},reactExports.createElement(RootSurface,{otherAttributes:He,title:Me,desc:Ue,ref:Ce},reactExports.createElement(ClipPathProvider,null,je)))}),_excluded$7=["width","height"];function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$2.apply(null,arguments)}function _objectWithoutProperties$2(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$2(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}function _objectWithoutPropertiesLoose$2(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}var defaultMargin={top:5,right:5,bottom:5,left:5},defaultProps$2={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:defaultMargin,reverseStackOrder:!1,syncMethod:"index"},CartesianChart=reactExports.forwardRef(function Re(Ce,je){var Be,De=resolveDefaultProps(Ce.categoricalChartProps,defaultProps$2),{width:Fe,height:ke}=De,Oe=_objectWithoutProperties$2(De,_excluded$7);if(!isPositiveNumber(Fe)||!isPositiveNumber(ke))return null;var{chartName:Me,defaultTooltipEventType:Ue,validateTooltipEventTypes:$e,tooltipPayloadSearcher:He,categoricalChartProps:Qe}=Ce,We={chartName:Me,defaultTooltipEventType:Ue,validateTooltipEventTypes:$e,tooltipPayloadSearcher:He,eventEmitter:void 0};return reactExports.createElement(RechartsStoreProvider,{preloadedState:{options:We},reduxStoreName:(Be=Qe.id)!==null&&Be!==void 0?Be:Me},reactExports.createElement(ChartDataContextProvider,{chartData:Qe.data}),reactExports.createElement(ReportMainChartProps,{width:Fe,height:ke,layout:De.layout,margin:De.margin}),reactExports.createElement(ReportChartProps,{accessibilityLayer:De.accessibilityLayer,barCategoryGap:De.barCategoryGap,maxBarSize:De.maxBarSize,stackOffset:De.stackOffset,barGap:De.barGap,barSize:De.barSize,syncId:De.syncId,syncMethod:De.syncMethod,className:De.className}),reactExports.createElement(CategoricalChart,_extends$2({},Oe,{width:Fe,height:ke,ref:je})))}),allowedTooltipTypes=["axis","item"],BarChart=reactExports.forwardRef((Re,Ce)=>reactExports.createElement(CartesianChart,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:allowedTooltipTypes,tooltipPayloadSearcher:arrayTooltipSearcher,categoricalChartProps:Re,ref:Ce}));const millisecondsInWeek=6048e5,millisecondsInDay=864e5,constructFromSymbol=Symbol.for("constructDateFrom");function constructFrom(Re,Ce){return typeof Re=="function"?Re(Ce):Re&&typeof Re=="object"&&constructFromSymbol in Re?Re[constructFromSymbol](Ce):Re instanceof Date?new Re.constructor(Ce):new Date(Ce)}function toDate(Re,Ce){return constructFrom(Ce||Re,Re)}function addDays(Re,Ce,je){const Be=toDate(Re,je?.in);return isNaN(Ce)?constructFrom(Re,NaN):(Ce&&Be.setDate(Be.getDate()+Ce),Be)}function addMonths(Re,Ce,je){const Be=toDate(Re,je?.in);if(isNaN(Ce))return constructFrom(Re,NaN);const De=Be.getDate(),Fe=constructFrom(Re,Be.getTime());Fe.setMonth(Be.getMonth()+Ce+1,0);const ke=Fe.getDate();return De>=ke?Fe:(Be.setFullYear(Fe.getFullYear(),Fe.getMonth(),De),Be)}let defaultOptions={};function getDefaultOptions(){return defaultOptions}function startOfWeek(Re,Ce){const je=getDefaultOptions(),Be=Ce?.weekStartsOn??Ce?.locale?.options?.weekStartsOn??je.weekStartsOn??je.locale?.options?.weekStartsOn??0,De=toDate(Re,Ce?.in),Fe=De.getDay(),ke=(Fe<Be?7:0)+Fe-Be;return De.setDate(De.getDate()-ke),De.setHours(0,0,0,0),De}function startOfISOWeek(Re,Ce){return startOfWeek(Re,{...Ce,weekStartsOn:1})}function getISOWeekYear(Re,Ce){const je=toDate(Re,Ce?.in),Be=je.getFullYear(),De=constructFrom(je,0);De.setFullYear(Be+1,0,4),De.setHours(0,0,0,0);const Fe=startOfISOWeek(De),ke=constructFrom(je,0);ke.setFullYear(Be,0,4),ke.setHours(0,0,0,0);const Oe=startOfISOWeek(ke);return je.getTime()>=Fe.getTime()?Be+1:je.getTime()>=Oe.getTime()?Be:Be-1}function getTimezoneOffsetInMilliseconds(Re){const Ce=toDate(Re),je=new Date(Date.UTC(Ce.getFullYear(),Ce.getMonth(),Ce.getDate(),Ce.getHours(),Ce.getMinutes(),Ce.getSeconds(),Ce.getMilliseconds()));return je.setUTCFullYear(Ce.getFullYear()),+Re-+je}function normalizeDates(Re,...Ce){const je=constructFrom.bind(null,Re||Ce.find(Be=>typeof Be=="object"));return Ce.map(je)}function startOfDay(Re,Ce){const je=toDate(Re,Ce?.in);return je.setHours(0,0,0,0),je}function differenceInCalendarDays(Re,Ce,je){const[Be,De]=normalizeDates(je?.in,Re,Ce),Fe=startOfDay(Be),ke=startOfDay(De),Oe=+Fe-getTimezoneOffsetInMilliseconds(Fe),Me=+ke-getTimezoneOffsetInMilliseconds(ke);return Math.round((Oe-Me)/millisecondsInDay)}function startOfISOWeekYear(Re,Ce){const je=getISOWeekYear(Re,Ce),Be=constructFrom(Re,0);return Be.setFullYear(je,0,4),Be.setHours(0,0,0,0),startOfISOWeek(Be)}function constructNow(Re){return constructFrom(Re,Date.now())}function isSameDay(Re,Ce,je){const[Be,De]=normalizeDates(je?.in,Re,Ce);return+startOfDay(Be)==+startOfDay(De)}function isDate(Re){return Re instanceof Date||typeof Re=="object"&&Object.prototype.toString.call(Re)==="[object Date]"}function isValid(Re){return!(!isDate(Re)&&typeof Re!="number"||isNaN(+toDate(Re)))}function endOfMonth(Re,Ce){const je=toDate(Re,Ce?.in),Be=je.getMonth();return je.setFullYear(je.getFullYear(),Be+1,0),je.setHours(23,59,59,999),je}function startOfMonth(Re,Ce){const je=toDate(Re,Ce?.in);return je.setDate(1),je.setHours(0,0,0,0),je}function startOfYear(Re,Ce){const je=toDate(Re,Ce?.in);return je.setFullYear(je.getFullYear(),0,1),je.setHours(0,0,0,0),je}function endOfWeek(Re,Ce){const je=Ce?.weekStartsOn,Be=toDate(Re,Ce?.in),De=Be.getDay(),Fe=(De<je?-7:0)+6-(De-je);return Be.setDate(Be.getDate()+Fe),Be.setHours(23,59,59,999),Be}const formatDistanceLocale={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},formatDistance=(Re,Ce,je)=>{let Be;const De=formatDistanceLocale[Re];return typeof De=="string"?Be=De:Ce===1?Be=De.one:Be=De.other.replace("{{count}}",Ce.toString()),je?.addSuffix?je.comparison&&je.comparison>0?"in "+Be:Be+" ago":Be};function buildFormatLongFn(Re){return(Ce={})=>{const je=Ce.width?String(Ce.width):Re.defaultWidth;return Re.formats[je]||Re.formats[Re.defaultWidth]}}const dateFormats={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},timeFormats={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dateTimeFormats={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},formatLong={date:buildFormatLongFn({formats:dateFormats,defaultWidth:"full"}),time:buildFormatLongFn({formats:timeFormats,defaultWidth:"full"}),dateTime:buildFormatLongFn({formats:dateTimeFormats,defaultWidth:"full"})},formatRelativeLocale={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},formatRelative=(Re,Ce,je,Be)=>formatRelativeLocale[Re];function buildLocalizeFn(Re){return(Ce,je)=>{const Be=je?.context?String(je.context):"standalone";let De;if(Be==="formatting"&&Re.formattingValues){const ke=Re.defaultFormattingWidth||Re.defaultWidth,Oe=je?.width?String(je.width):ke;De=Re.formattingValues[Oe]||Re.formattingValues[ke]}else{const ke=Re.defaultWidth,Oe=je?.width?String(je.width):Re.defaultWidth;De=Re.values[Oe]||Re.values[ke]}const Fe=Re.argumentCallback?Re.argumentCallback(Ce):Ce;return De[Fe]}}const eraValues={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},quarterValues={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},monthValues={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dayValues={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},formattingDayPeriodValues={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ordinalNumber=(Re,Ce)=>{const je=Number(Re),Be=je%100;if(Be>20||Be<10)switch(Be%10){case 1:return je+"st";case 2:return je+"nd";case 3:return je+"rd"}return je+"th"},localize={ordinalNumber,era:buildLocalizeFn({values:eraValues,defaultWidth:"wide"}),quarter:buildLocalizeFn({values:quarterValues,defaultWidth:"wide",argumentCallback:Re=>Re-1}),month:buildLocalizeFn({values:monthValues,defaultWidth:"wide"}),day:buildLocalizeFn({values:dayValues,defaultWidth:"wide"}),dayPeriod:buildLocalizeFn({values:dayPeriodValues,defaultWidth:"wide",formattingValues:formattingDayPeriodValues,defaultFormattingWidth:"wide"})};function buildMatchFn(Re){return(Ce,je={})=>{const Be=je.width,De=Be&&Re.matchPatterns[Be]||Re.matchPatterns[Re.defaultMatchWidth],Fe=Ce.match(De);if(!Fe)return null;const ke=Fe[0],Oe=Be&&Re.parsePatterns[Be]||Re.parsePatterns[Re.defaultParseWidth],Me=Array.isArray(Oe)?findIndex(Oe,He=>He.test(ke)):findKey(Oe,He=>He.test(ke));let Ue;Ue=Re.valueCallback?Re.valueCallback(Me):Me,Ue=je.valueCallback?je.valueCallback(Ue):Ue;const $e=Ce.slice(ke.length);return{value:Ue,rest:$e}}}function findKey(Re,Ce){for(const je in Re)if(Object.prototype.hasOwnProperty.call(Re,je)&&Ce(Re[je]))return je}function findIndex(Re,Ce){for(let je=0;je<Re.length;je++)if(Ce(Re[je]))return je}function buildMatchPatternFn(Re){return(Ce,je={})=>{const Be=Ce.match(Re.matchPattern);if(!Be)return null;const De=Be[0],Fe=Ce.match(Re.parsePattern);if(!Fe)return null;let ke=Re.valueCallback?Re.valueCallback(Fe[0]):Fe[0];ke=je.valueCallback?je.valueCallback(ke):ke;const Oe=Ce.slice(De.length);return{value:ke,rest:Oe}}}const matchOrdinalNumberPattern=/^(\d+)(th|st|nd|rd)?/i,parseOrdinalNumberPattern=/\d+/i,matchEraPatterns={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},parseEraPatterns={any:[/^b/i,/^(a|c)/i]},matchQuarterPatterns={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},parseQuarterPatterns={any:[/1/i,/2/i,/3/i,/4/i]},matchMonthPatterns={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},parseMonthPatterns={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},matchDayPatterns={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},parseDayPatterns={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},matchDayPeriodPatterns={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},parseDayPeriodPatterns={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},match$1={ordinalNumber:buildMatchPatternFn({matchPattern:matchOrdinalNumberPattern,parsePattern:parseOrdinalNumberPattern,valueCallback:Re=>parseInt(Re,10)}),era:buildMatchFn({matchPatterns:matchEraPatterns,defaultMatchWidth:"wide",parsePatterns:parseEraPatterns,defaultParseWidth:"any"}),quarter:buildMatchFn({matchPatterns:matchQuarterPatterns,defaultMatchWidth:"wide",parsePatterns:parseQuarterPatterns,defaultParseWidth:"any",valueCallback:Re=>Re+1}),month:buildMatchFn({matchPatterns:matchMonthPatterns,defaultMatchWidth:"wide",parsePatterns:parseMonthPatterns,defaultParseWidth:"any"}),day:buildMatchFn({matchPatterns:matchDayPatterns,defaultMatchWidth:"wide",parsePatterns:parseDayPatterns,defaultParseWidth:"any"}),dayPeriod:buildMatchFn({matchPatterns:matchDayPeriodPatterns,defaultMatchWidth:"any",parsePatterns:parseDayPeriodPatterns,defaultParseWidth:"any"})},enUS={code:"en-US",formatDistance,formatLong,formatRelative,localize,match:match$1,options:{weekStartsOn:0,firstWeekContainsDate:1}};function getDayOfYear(Re,Ce){const je=toDate(Re,Ce?.in);return differenceInCalendarDays(je,startOfYear(je))+1}function getISOWeek(Re,Ce){const je=toDate(Re,Ce?.in),Be=+startOfISOWeek(je)-+startOfISOWeekYear(je);return Math.round(Be/millisecondsInWeek)+1}function getWeekYear(Re,Ce){const je=toDate(Re,Ce?.in),Be=je.getFullYear(),De=getDefaultOptions(),Fe=Ce?.firstWeekContainsDate??Ce?.locale?.options?.firstWeekContainsDate??De.firstWeekContainsDate??De.locale?.options?.firstWeekContainsDate??1,ke=constructFrom(Ce?.in||Re,0);ke.setFullYear(Be+1,0,Fe),ke.setHours(0,0,0,0);const Oe=startOfWeek(ke,Ce),Me=constructFrom(Ce?.in||Re,0);Me.setFullYear(Be,0,Fe),Me.setHours(0,0,0,0);const Ue=startOfWeek(Me,Ce);return+je>=+Oe?Be+1:+je>=+Ue?Be:Be-1}function startOfWeekYear(Re,Ce){const je=getDefaultOptions(),Be=Ce?.firstWeekContainsDate??Ce?.locale?.options?.firstWeekContainsDate??je.firstWeekContainsDate??je.locale?.options?.firstWeekContainsDate??1,De=getWeekYear(Re,Ce),Fe=constructFrom(Ce?.in||Re,0);return Fe.setFullYear(De,0,Be),Fe.setHours(0,0,0,0),startOfWeek(Fe,Ce)}function getWeek(Re,Ce){const je=toDate(Re,Ce?.in),Be=+startOfWeek(je,Ce)-+startOfWeekYear(je,Ce);return Math.round(Be/millisecondsInWeek)+1}function addLeadingZeros(Re,Ce){const je=Re<0?"-":"",Be=Math.abs(Re).toString().padStart(Ce,"0");return je+Be}const lightFormatters={y(Re,Ce){const je=Re.getFullYear(),Be=je>0?je:1-je;return addLeadingZeros(Ce==="yy"?Be%100:Be,Ce.length)},M(Re,Ce){const je=Re.getMonth();return Ce==="M"?String(je+1):addLeadingZeros(je+1,2)},d(Re,Ce){return addLeadingZeros(Re.getDate(),Ce.length)},a(Re,Ce){const je=Re.getHours()/12>=1?"pm":"am";switch(Ce){case"a":case"aa":return je.toUpperCase();case"aaa":return je;case"aaaaa":return je[0];case"aaaa":default:return je==="am"?"a.m.":"p.m."}},h(Re,Ce){return addLeadingZeros(Re.getHours()%12||12,Ce.length)},H(Re,Ce){return addLeadingZeros(Re.getHours(),Ce.length)},m(Re,Ce){return addLeadingZeros(Re.getMinutes(),Ce.length)},s(Re,Ce){return addLeadingZeros(Re.getSeconds(),Ce.length)},S(Re,Ce){const je=Ce.length,Be=Re.getMilliseconds(),De=Math.trunc(Be*Math.pow(10,je-3));return addLeadingZeros(De,Ce.length)}},dayPeriodEnum={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},formatters={G:function(Re,Ce,je){const Be=Re.getFullYear()>0?1:0;switch(Ce){case"G":case"GG":case"GGG":return je.era(Be,{width:"abbreviated"});case"GGGGG":return je.era(Be,{width:"narrow"});case"GGGG":default:return je.era(Be,{width:"wide"})}},y:function(Re,Ce,je){if(Ce==="yo"){const Be=Re.getFullYear(),De=Be>0?Be:1-Be;return je.ordinalNumber(De,{unit:"year"})}return lightFormatters.y(Re,Ce)},Y:function(Re,Ce,je,Be){const De=getWeekYear(Re,Be),Fe=De>0?De:1-De;if(Ce==="YY"){const ke=Fe%100;return addLeadingZeros(ke,2)}return Ce==="Yo"?je.ordinalNumber(Fe,{unit:"year"}):addLeadingZeros(Fe,Ce.length)},R:function(Re,Ce){const je=getISOWeekYear(Re);return addLeadingZeros(je,Ce.length)},u:function(Re,Ce){const je=Re.getFullYear();return addLeadingZeros(je,Ce.length)},Q:function(Re,Ce,je){const Be=Math.ceil((Re.getMonth()+1)/3);switch(Ce){case"Q":return String(Be);case"QQ":return addLeadingZeros(Be,2);case"Qo":return je.ordinalNumber(Be,{unit:"quarter"});case"QQQ":return je.quarter(Be,{width:"abbreviated",context:"formatting"});case"QQQQQ":return je.quarter(Be,{width:"narrow",context:"formatting"});case"QQQQ":default:return je.quarter(Be,{width:"wide",context:"formatting"})}},q:function(Re,Ce,je){const Be=Math.ceil((Re.getMonth()+1)/3);switch(Ce){case"q":return String(Be);case"qq":return addLeadingZeros(Be,2);case"qo":return je.ordinalNumber(Be,{unit:"quarter"});case"qqq":return je.quarter(Be,{width:"abbreviated",context:"standalone"});case"qqqqq":return je.quarter(Be,{width:"narrow",context:"standalone"});case"qqqq":default:return je.quarter(Be,{width:"wide",context:"standalone"})}},M:function(Re,Ce,je){const Be=Re.getMonth();switch(Ce){case"M":case"MM":return lightFormatters.M(Re,Ce);case"Mo":return je.ordinalNumber(Be+1,{unit:"month"});case"MMM":return je.month(Be,{width:"abbreviated",context:"formatting"});case"MMMMM":return je.month(Be,{width:"narrow",context:"formatting"});case"MMMM":default:return je.month(Be,{width:"wide",context:"formatting"})}},L:function(Re,Ce,je){const Be=Re.getMonth();switch(Ce){case"L":return String(Be+1);case"LL":return addLeadingZeros(Be+1,2);case"Lo":return je.ordinalNumber(Be+1,{unit:"month"});case"LLL":return je.month(Be,{width:"abbreviated",context:"standalone"});case"LLLLL":return je.month(Be,{width:"narrow",context:"standalone"});case"LLLL":default:return je.month(Be,{width:"wide",context:"standalone"})}},w:function(Re,Ce,je,Be){const De=getWeek(Re,Be);return Ce==="wo"?je.ordinalNumber(De,{unit:"week"}):addLeadingZeros(De,Ce.length)},I:function(Re,Ce,je){const Be=getISOWeek(Re);return Ce==="Io"?je.ordinalNumber(Be,{unit:"week"}):addLeadingZeros(Be,Ce.length)},d:function(Re,Ce,je){return Ce==="do"?je.ordinalNumber(Re.getDate(),{unit:"date"}):lightFormatters.d(Re,Ce)},D:function(Re,Ce,je){const Be=getDayOfYear(Re);return Ce==="Do"?je.ordinalNumber(Be,{unit:"dayOfYear"}):addLeadingZeros(Be,Ce.length)},E:function(Re,Ce,je){const Be=Re.getDay();switch(Ce){case"E":case"EE":case"EEE":return je.day(Be,{width:"abbreviated",context:"formatting"});case"EEEEE":return je.day(Be,{width:"narrow",context:"formatting"});case"EEEEEE":return je.day(Be,{width:"short",context:"formatting"});case"EEEE":default:return je.day(Be,{width:"wide",context:"formatting"})}},e:function(Re,Ce,je,Be){const De=Re.getDay(),Fe=(De-Be.weekStartsOn+8)%7||7;switch(Ce){case"e":return String(Fe);case"ee":return addLeadingZeros(Fe,2);case"eo":return je.ordinalNumber(Fe,{unit:"day"});case"eee":return je.day(De,{width:"abbreviated",context:"formatting"});case"eeeee":return je.day(De,{width:"narrow",context:"formatting"});case"eeeeee":return je.day(De,{width:"short",context:"formatting"});case"eeee":default:return je.day(De,{width:"wide",context:"formatting"})}},c:function(Re,Ce,je,Be){const De=Re.getDay(),Fe=(De-Be.weekStartsOn+8)%7||7;switch(Ce){case"c":return String(Fe);case"cc":return addLeadingZeros(Fe,Ce.length);case"co":return je.ordinalNumber(Fe,{unit:"day"});case"ccc":return je.day(De,{width:"abbreviated",context:"standalone"});case"ccccc":return je.day(De,{width:"narrow",context:"standalone"});case"cccccc":return je.day(De,{width:"short",context:"standalone"});case"cccc":default:return je.day(De,{width:"wide",context:"standalone"})}},i:function(Re,Ce,je){const Be=Re.getDay(),De=Be===0?7:Be;switch(Ce){case"i":return String(De);case"ii":return addLeadingZeros(De,Ce.length);case"io":return je.ordinalNumber(De,{unit:"day"});case"iii":return je.day(Be,{width:"abbreviated",context:"formatting"});case"iiiii":return je.day(Be,{width:"narrow",context:"formatting"});case"iiiiii":return je.day(Be,{width:"short",context:"formatting"});case"iiii":default:return je.day(Be,{width:"wide",context:"formatting"})}},a:function(Re,Ce,je){const De=Re.getHours()/12>=1?"pm":"am";switch(Ce){case"a":case"aa":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"});case"aaa":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return je.dayPeriod(De,{width:"narrow",context:"formatting"});case"aaaa":default:return je.dayPeriod(De,{width:"wide",context:"formatting"})}},b:function(Re,Ce,je){const Be=Re.getHours();let De;switch(Be===12?De=dayPeriodEnum.noon:Be===0?De=dayPeriodEnum.midnight:De=Be/12>=1?"pm":"am",Ce){case"b":case"bb":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"});case"bbb":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return je.dayPeriod(De,{width:"narrow",context:"formatting"});case"bbbb":default:return je.dayPeriod(De,{width:"wide",context:"formatting"})}},B:function(Re,Ce,je){const Be=Re.getHours();let De;switch(Be>=17?De=dayPeriodEnum.evening:Be>=12?De=dayPeriodEnum.afternoon:Be>=4?De=dayPeriodEnum.morning:De=dayPeriodEnum.night,Ce){case"B":case"BB":case"BBB":return je.dayPeriod(De,{width:"abbreviated",context:"formatting"});case"BBBBB":return je.dayPeriod(De,{width:"narrow",context:"formatting"});case"BBBB":default:return je.dayPeriod(De,{width:"wide",context:"formatting"})}},h:function(Re,Ce,je){if(Ce==="ho"){let Be=Re.getHours()%12;return Be===0&&(Be=12),je.ordinalNumber(Be,{unit:"hour"})}return lightFormatters.h(Re,Ce)},H:function(Re,Ce,je){return Ce==="Ho"?je.ordinalNumber(Re.getHours(),{unit:"hour"}):lightFormatters.H(Re,Ce)},K:function(Re,Ce,je){const Be=Re.getHours()%12;return Ce==="Ko"?je.ordinalNumber(Be,{unit:"hour"}):addLeadingZeros(Be,Ce.length)},k:function(Re,Ce,je){let Be=Re.getHours();return Be===0&&(Be=24),Ce==="ko"?je.ordinalNumber(Be,{unit:"hour"}):addLeadingZeros(Be,Ce.length)},m:function(Re,Ce,je){return Ce==="mo"?je.ordinalNumber(Re.getMinutes(),{unit:"minute"}):lightFormatters.m(Re,Ce)},s:function(Re,Ce,je){return Ce==="so"?je.ordinalNumber(Re.getSeconds(),{unit:"second"}):lightFormatters.s(Re,Ce)},S:function(Re,Ce){return lightFormatters.S(Re,Ce)},X:function(Re,Ce,je){const Be=Re.getTimezoneOffset();if(Be===0)return"Z";switch(Ce){case"X":return formatTimezoneWithOptionalMinutes(Be);case"XXXX":case"XX":return formatTimezone(Be);case"XXXXX":case"XXX":default:return formatTimezone(Be,":")}},x:function(Re,Ce,je){const Be=Re.getTimezoneOffset();switch(Ce){case"x":return formatTimezoneWithOptionalMinutes(Be);case"xxxx":case"xx":return formatTimezone(Be);case"xxxxx":case"xxx":default:return formatTimezone(Be,":")}},O:function(Re,Ce,je){const Be=Re.getTimezoneOffset();switch(Ce){case"O":case"OO":case"OOO":return"GMT"+formatTimezoneShort(Be,":");case"OOOO":default:return"GMT"+formatTimezone(Be,":")}},z:function(Re,Ce,je){const Be=Re.getTimezoneOffset();switch(Ce){case"z":case"zz":case"zzz":return"GMT"+formatTimezoneShort(Be,":");case"zzzz":default:return"GMT"+formatTimezone(Be,":")}},t:function(Re,Ce,je){const Be=Math.trunc(+Re/1e3);return addLeadingZeros(Be,Ce.length)},T:function(Re,Ce,je){return addLeadingZeros(+Re,Ce.length)}};function formatTimezoneShort(Re,Ce=""){const je=Re>0?"-":"+",Be=Math.abs(Re),De=Math.trunc(Be/60),Fe=Be%60;return Fe===0?je+String(De):je+String(De)+Ce+addLeadingZeros(Fe,2)}function formatTimezoneWithOptionalMinutes(Re,Ce){return Re%60===0?(Re>0?"-":"+")+addLeadingZeros(Math.abs(Re)/60,2):formatTimezone(Re,Ce)}function formatTimezone(Re,Ce=""){const je=Re>0?"-":"+",Be=Math.abs(Re),De=addLeadingZeros(Math.trunc(Be/60),2),Fe=addLeadingZeros(Be%60,2);return je+De+Ce+Fe}const dateLongFormatter=(Re,Ce)=>{switch(Re){case"P":return Ce.date({width:"short"});case"PP":return Ce.date({width:"medium"});case"PPP":return Ce.date({width:"long"});case"PPPP":default:return Ce.date({width:"full"})}},timeLongFormatter=(Re,Ce)=>{switch(Re){case"p":return Ce.time({width:"short"});case"pp":return Ce.time({width:"medium"});case"ppp":return Ce.time({width:"long"});case"pppp":default:return Ce.time({width:"full"})}},dateTimeLongFormatter=(Re,Ce)=>{const je=Re.match(/(P+)(p+)?/)||[],Be=je[1],De=je[2];if(!De)return dateLongFormatter(Re,Ce);let Fe;switch(Be){case"P":Fe=Ce.dateTime({width:"short"});break;case"PP":Fe=Ce.dateTime({width:"medium"});break;case"PPP":Fe=Ce.dateTime({width:"long"});break;case"PPPP":default:Fe=Ce.dateTime({width:"full"});break}return Fe.replace("{{date}}",dateLongFormatter(Be,Ce)).replace("{{time}}",timeLongFormatter(De,Ce))},longFormatters={p:timeLongFormatter,P:dateTimeLongFormatter},dayOfYearTokenRE=/^D+$/,weekYearTokenRE=/^Y+$/,throwTokens=["D","DD","YY","YYYY"];function isProtectedDayOfYearToken(Re){return dayOfYearTokenRE.test(Re)}function isProtectedWeekYearToken(Re){return weekYearTokenRE.test(Re)}function warnOrThrowProtectedError(Re,Ce,je){const Be=message(Re,Ce,je);if(console.warn(Be),throwTokens.includes(Re))throw new RangeError(Be)}function message(Re,Ce,je){const Be=Re[0]==="Y"?"years":"days of the month";return`Use \`${Re.toLowerCase()}\` instead of \`${Re}\` (in \`${Ce}\`) for formatting ${Be} to the input \`${je}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const formattingTokensRegExp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,longFormattingTokensRegExp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,escapedStringRegExp=/^'([^]*?)'?$/,doubleQuoteRegExp=/''/g,unescapedLatinCharacterRegExp=/[a-zA-Z]/;function format(Re,Ce,je){const Be=getDefaultOptions(),De=Be.locale??enUS,Fe=Be.firstWeekContainsDate??Be.locale?.options?.firstWeekContainsDate??1,ke=Be.weekStartsOn??Be.locale?.options?.weekStartsOn??0,Oe=toDate(Re,je?.in);if(!isValid(Oe))throw new RangeError("Invalid time value");let Me=Ce.match(longFormattingTokensRegExp).map($e=>{const He=$e[0];if(He==="p"||He==="P"){const Qe=longFormatters[He];return Qe($e,De.formatLong)}return $e}).join("").match(formattingTokensRegExp).map($e=>{if($e==="''")return{isToken:!1,value:"'"};const He=$e[0];if(He==="'")return{isToken:!1,value:cleanEscapedString($e)};if(formatters[He])return{isToken:!0,value:$e};if(He.match(unescapedLatinCharacterRegExp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+He+"`");return{isToken:!1,value:$e}});De.localize.preprocessor&&(Me=De.localize.preprocessor(Oe,Me));const Ue={firstWeekContainsDate:Fe,weekStartsOn:ke,locale:De};return Me.map($e=>{if(!$e.isToken)return $e.value;const He=$e.value;(isProtectedWeekYearToken(He)||isProtectedDayOfYearToken(He))&&warnOrThrowProtectedError(He,Ce,String(Re));const Qe=formatters[He[0]];return Qe(Oe,He,De.localize,Ue)}).join("")}function cleanEscapedString(Re){const Ce=Re.match(escapedStringRegExp);return Ce?Ce[1].replace(doubleQuoteRegExp,"'"):Re}function isSameWeek(Re,Ce,je){const[Be,De]=normalizeDates(je?.in,Re,Ce);return+startOfWeek(Be,je)==+startOfWeek(De,je)}function isSameMonth(Re,Ce,je){const[Be,De]=normalizeDates(je?.in,Re,Ce);return Be.getFullYear()===De.getFullYear()&&Be.getMonth()===De.getMonth()}function isSameYear(Re,Ce,je){const[Be,De]=normalizeDates(je?.in,Re,Ce);return Be.getFullYear()===De.getFullYear()}function isThisMonth(Re,Ce){return isSameMonth(constructFrom(Re,Re),constructNow(Re))}function isThisWeek(Re,Ce){return isSameWeek(constructFrom(Ce?.in||Re,Re),constructNow(Ce?.in||Re),Ce)}function isThisYear(Re,Ce){return isSameYear(constructFrom(Re,Re),constructNow(Re))}function isToday(Re,Ce){return isSameDay(constructFrom(Re,Re),constructNow(Re))}function isWithinInterval(Re,Ce,je){const Be=+toDate(Re,je?.in),[De,Fe]=[+toDate(Ce.start,je?.in),+toDate(Ce.end,je?.in)].sort((ke,Oe)=>ke-Oe);return Be>=De&&Be<=Fe}function subDays(Re,Ce,je){return addDays(Re,-Ce,je)}function subMonths(Re,Ce,je){return addMonths(Re,-3,je)}const RevenueOverview=()=>{const[Re,Ce]=reactExports.useState([]),{selectedProduct:je,selectedDate:Be,setSelectedDate:De,setSelectedProduct:Fe}=useAnalyticsFilter(),[ke,Oe]=reactExports.useState(null),[Me,Ue]=reactExports.useState("all"),[$e,He]=reactExports.useState(null),[Qe,We]=reactExports.useState([]);reactExports.useEffect(()=>{(async()=>{try{const ar=auth$2.currentUser;if(!ar)return;const ir=collection(db$2,"businesses",ar.uid,"finalizedInvoices"),nr=await getDocs(ir),cr=[];nr.forEach(mr=>{const fr=mr.data();fr.totalAmount&&cr.push(fr)}),Ce(cr)}catch(ar){console.error("Error fetching revenue data:",ar)}})()},[]),reactExports.useEffect(()=>{He(null),We([])},[je,Be]);const qe=Re.filter(rr=>{let ar;rr.issuedAt?.toDate?ar=rr.issuedAt.toDate():typeof rr.issuedAt=="string"&&(ar=new Date(rr.issuedAt));let ir=!0;if(Be&&(ir=ar&&!isNaN(ar)&&format(ar,"yyyy-MM-dd")===Be),Me==="today")ir=isToday(ar);else if(Me==="week")ir=isThisWeek(ar,{weekStartsOn:1});else if(Me==="month")ir=isThisMonth(ar);else if(Me==="quarter"){const cr=subMonths(new Date);ir=isWithinInterval(ar,{start:cr,end:new Date})}else Me==="year"&&(ir=isThisYear(ar));const nr=je?Array.isArray(rr.cartItems)&&rr.cartItems.some(cr=>cr.sku===je):!0;return ir&&nr}),Ke=qe.reduce((rr,ar)=>ar.paymentMode==="credit"&&!ar.isPaid?rr:rr+parseFloat(ar.totalAmount||0),0),Xe=qe.filter(rr=>rr.paymentMode!=="credit"||rr.paymentMode==="credit"&&rr.isPaid).length,Ye={cash:0,upi:0,card:0},Ze={};qe.forEach(rr=>{if(rr.paymentMode==="credit"&&!rr.isPaid)return;const ar=parseFloat(rr.totalAmount||0),ir=rr.paymentMode?.toLowerCase();if(ir==="split"){const mr=rr.splitPayment||{};Ye.cash+=parseFloat(mr.cash||0),Ye.upi+=parseFloat(mr.upi||0),Ye.card+=parseFloat(mr.card||0)}else if(ir==="credit"&&rr.isPaid){const mr=rr.paidVia?.toLowerCase();mr==="cash"?Ye.cash+=ar:mr==="upi"?Ye.upi+=ar:mr==="card"&&(Ye.card+=ar)}else["cash","upi","card"].includes(ir)&&(Ye[ir]+=ar);let nr;if(rr.issuedAt?.toDate?nr=rr.issuedAt.toDate():typeof rr.issuedAt=="string"&&(nr=new Date(rr.issuedAt)),!nr||isNaN(nr))return;const cr=format(nr,"yyyy-MM-dd");Ze[cr]||(Ze[cr]=0),Ze[cr]+=ar});const Je=Object.entries(Ze).map(([rr,ar])=>({date:rr,revenue:ar})).sort((rr,ar)=>new Date(rr.date)-new Date(ar.date));for(let rr=1;rr<Je.length;rr++){const ar=Je[rr-1].revenue,nr=Je[rr].revenue-ar,cr=ar===0?100:nr/ar*100;Je[rr].changeAmount=nr,Je[rr].changePercent=cr.toFixed(1),Je[rr].changeColor=nr>0?"#10b981":nr<0?"#ef4444":"#9ca3af"}Je.length===0&&Je.push({date:format(new Date,"yyyy-MM-dd"),revenue:0}),reactExports.useEffect(()=>{if($e!==null)if($e<Je.length){const rr=setTimeout(()=>{We(Je.slice(0,$e+1)),He(ar=>ar+1)},300);return()=>clearTimeout(rr)}else He(null)},[$e,Je]);const tr=({active:rr,payload:ar,label:ir})=>{if(rr&&ar&&ar.length){const nr=Je.find(mr=>mr.date===ir);if(!nr)return null;const cr=nr.changeAmount>=0?"+":"";return jsxRuntimeExports.jsxs("div",{className:"rounded px-3 py-2 text-sm border border-white/10 bg-[#0B0F14]/80 backdrop-blur-xl text-white",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:ir}),jsxRuntimeExports.jsxs("p",{children:["Revenue: ",nr.revenue.toFixed(2)]}),nr.changeAmount!==void 0&&jsxRuntimeExports.jsxs("p",{style:{color:nr.changeColor},children:["Growth: ",`${cr}${nr.changeAmount}`," (",`${cr}${nr.changePercent}%`,")"]})]})}return null};return jsxRuntimeExports.jsxs("div",{className:"p-5 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Revenue Overview"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Revenue:"})," ",Ke.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Total Invoices:"})," ",Xe]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Today's Revenue:"})," ",Je[Je.length-1]?.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Yesterday's Revenue:"})," ",Je[Je.length-2]?.revenue.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Growth:"})," ",(()=>{const rr=Je[Je.length-1]?.revenue||0,ar=Je[Je.length-2]?.revenue||0,ir=rr-ar,nr=ar===0?100:ir/ar*100,cr=ir>=0?"+":"";return`${cr}${ir.toFixed(2)} (${cr}${nr.toFixed(1)}%)`})()]})]}),jsxRuntimeExports.jsxs("div",{className:"md:w-1/2",children:[jsxRuntimeExports.jsx("h3",{className:"font-medium",children:"Revenue by Payment Mode:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside",children:[jsxRuntimeExports.jsxs("li",{children:["Cash: ",Ye.cash.toFixed(2)," (",(Ye.cash/Ke*100).toFixed(1),"%)"]}),jsxRuntimeExports.jsxs("li",{children:["UPI: ",Ye.upi.toFixed(2)," (",(Ye.upi/Ke*100).toFixed(1),"%)"]}),jsxRuntimeExports.jsxs("li",{children:["Card: ",Ye.card.toFixed(2)," (",(Ye.card/Ke*100).toFixed(1),"%)"]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4 gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{We([]),He(0)},className:"px-3 py-1 rounded font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] transition",children:" Play Animation"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"font-medium text-white/80",children:"Sort by Time Period:"}),jsxRuntimeExports.jsxs("select",{className:"px-2 py-1 rounded text-sm bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:Me,onChange:rr=>{Ue(rr.target.value),He(null),We([])},children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"quarter",children:"This Quarter"}),jsxRuntimeExports.jsx("option",{value:"year",children:"This Year"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full overflow-x-auto",children:jsxRuntimeExports.jsx("div",{style:{width:"100%",height:300},children:jsxRuntimeExports.jsx(ResponsiveContainer,{children:jsxRuntimeExports.jsxs(BarChart,{data:Qe.length>0?Qe:Je,onClick:({activeLabel:rr})=>{rr&&(De(rr),Oe(rr))},children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"date",label:{value:"Date",position:"insideBottom",offset:-5}}),jsxRuntimeExports.jsx(YAxis,{label:{value:"Revenue",angle:-90,position:"insideLeft"}}),jsxRuntimeExports.jsx(Tooltip,{content:jsxRuntimeExports.jsx(tr,{})}),jsxRuntimeExports.jsx(Legend,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"revenue",fill:"#4f46e5",radius:[4,4,0,0]}),jsxRuntimeExports.jsx(Line,{type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2,dot:{r:4},label:({index:rr,x:ar,y:ir})=>{const nr=Je[rr];if(!nr||nr.date!==ke)return null;const cr=nr.changeAmount>=0?"+":"";return jsxRuntimeExports.jsx("text",{x:ar,y:ir-10,fill:nr.changeColor,fontSize:12,textAnchor:"middle",children:`${cr}${nr.changeAmount} (${cr}${nr.changePercent}%)`})}})]})})})})]})};function toPrimitive(Re,Ce){if(_typeof(Re)!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(_typeof(Be)!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function toPropertyKey(Re){var Ce=toPrimitive(Re,"string");return _typeof(Ce)=="symbol"?Ce:Ce+""}function _defineProperty$1(Re,Ce,je){return(Ce=toPropertyKey(Ce))in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function ownKeys$1(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread2(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys$1(Object(je),!0).forEach(function(Be){_defineProperty$1(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys$1(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _arrayWithHoles(Re){if(Array.isArray(Re))return Re}function _iterableToArrayLimit(Re,Ce){var je=Re==null?null:typeof Symbol<"u"&&Re[Symbol.iterator]||Re["@@iterator"];if(je!=null){var Be,De,Fe,ke,Oe=[],Me=!0,Ue=!1;try{if(Fe=(je=je.call(Re)).next,Ce===0){if(Object(je)!==je)return;Me=!1}else for(;!(Me=(Be=Fe.call(je)).done)&&(Oe.push(Be.value),Oe.length!==Ce);Me=!0);}catch($e){Ue=!0,De=$e}finally{try{if(!Me&&je.return!=null&&(ke=je.return(),Object(ke)!==ke))return}finally{if(Ue)throw De}}return Oe}}function _arrayLikeToArray(Re,Ce){(Ce==null||Ce>Re.length)&&(Ce=Re.length);for(var je=0,Be=Array(Ce);je<Ce;je++)Be[je]=Re[je];return Be}function _unsupportedIterableToArray(Re,Ce){if(Re){if(typeof Re=="string")return _arrayLikeToArray(Re,Ce);var je={}.toString.call(Re).slice(8,-1);return je==="Object"&&Re.constructor&&(je=Re.constructor.name),je==="Map"||je==="Set"?Array.from(Re):je==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(je)?_arrayLikeToArray(Re,Ce):void 0}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(Re,Ce){return _arrayWithHoles(Re)||_iterableToArrayLimit(Re,Ce)||_unsupportedIterableToArray(Re,Ce)||_nonIterableRest()}function _objectWithoutPropertiesLoose$1(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if({}.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)!==-1)continue;je[Be]=Re[Be]}return je}function _objectWithoutProperties$1(Re,Ce){if(Re==null)return{};var je,Be,De=_objectWithoutPropertiesLoose$1(Re,Ce);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(Be=0;Be<Fe.length;Be++)je=Fe[Be],Ce.indexOf(je)===-1&&{}.propertyIsEnumerable.call(Re,je)&&(De[je]=Re[je])}return De}var _excluded$6=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function useStateManager(Re){var Ce=Re.defaultInputValue,je=Ce===void 0?"":Ce,Be=Re.defaultMenuIsOpen,De=Be===void 0?!1:Be,Fe=Re.defaultValue,ke=Fe===void 0?null:Fe,Oe=Re.inputValue,Me=Re.menuIsOpen,Ue=Re.onChange,$e=Re.onInputChange,He=Re.onMenuClose,Qe=Re.onMenuOpen,We=Re.value,qe=_objectWithoutProperties$1(Re,_excluded$6),Ke=reactExports.useState(Oe!==void 0?Oe:je),Xe=_slicedToArray(Ke,2),Ye=Xe[0],Ze=Xe[1],Je=reactExports.useState(Me!==void 0?Me:De),tr=_slicedToArray(Je,2),rr=tr[0],ar=tr[1],ir=reactExports.useState(We!==void 0?We:ke),nr=_slicedToArray(ir,2),cr=nr[0],mr=nr[1],fr=reactExports.useCallback(function(wr,Er){typeof Ue=="function"&&Ue(wr,Er),mr(wr)},[Ue]),or=reactExports.useCallback(function(wr,Er){var Pr;typeof $e=="function"&&(Pr=$e(wr,Er)),Ze(Pr!==void 0?Pr:wr)},[$e]),yr=reactExports.useCallback(function(){typeof Qe=="function"&&Qe(),ar(!0)},[Qe]),Cr=reactExports.useCallback(function(){typeof He=="function"&&He(),ar(!1)},[He]),jr=Oe!==void 0?Oe:Ye,vr=Me!==void 0?Me:rr,Tr=We!==void 0?We:cr;return _objectSpread2(_objectSpread2({},qe),{},{inputValue:jr,menuIsOpen:vr,onChange:fr,onInputChange:or,onMenuClose:Cr,onMenuOpen:yr,value:Tr})}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)({}).hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends$1.apply(null,arguments)}function _classCallCheck(Re,Ce){if(!(Re instanceof Ce))throw new TypeError("Cannot call a class as a function")}function _defineProperties(Re,Ce){for(var je=0;je<Ce.length;je++){var Be=Ce[je];Be.enumerable=Be.enumerable||!1,Be.configurable=!0,"value"in Be&&(Be.writable=!0),Object.defineProperty(Re,toPropertyKey(Be.key),Be)}}function _createClass(Re,Ce,je){return Ce&&_defineProperties(Re.prototype,Ce),je&&_defineProperties(Re,je),Object.defineProperty(Re,"prototype",{writable:!1}),Re}function _setPrototypeOf(Re,Ce){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(je,Be){return je.__proto__=Be,je},_setPrototypeOf(Re,Ce)}function _inherits(Re,Ce){if(typeof Ce!="function"&&Ce!==null)throw new TypeError("Super expression must either be null or a function");Re.prototype=Object.create(Ce&&Ce.prototype,{constructor:{value:Re,writable:!0,configurable:!0}}),Object.defineProperty(Re,"prototype",{writable:!1}),Ce&&_setPrototypeOf(Re,Ce)}function _getPrototypeOf(Re){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Ce){return Ce.__proto__||Object.getPrototypeOf(Ce)},_getPrototypeOf(Re)}function _isNativeReflectConstruct(){try{var Re=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_isNativeReflectConstruct=function(){return!!Re})()}function _assertThisInitialized(Re){if(Re===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Re}function _possibleConstructorReturn(Re,Ce){if(Ce&&(_typeof(Ce)=="object"||typeof Ce=="function"))return Ce;if(Ce!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(Re)}function _createSuper(Re){var Ce=_isNativeReflectConstruct();return function(){var je,Be=_getPrototypeOf(Re);if(Ce){var De=_getPrototypeOf(this).constructor;je=Reflect.construct(Be,arguments,De)}else je=Be.apply(this,arguments);return _possibleConstructorReturn(this,je)}}function _arrayWithoutHoles(Re){if(Array.isArray(Re))return _arrayLikeToArray(Re)}function _iterableToArray(Re){if(typeof Symbol<"u"&&Re[Symbol.iterator]!=null||Re["@@iterator"]!=null)return Array.from(Re)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(Re){return _arrayWithoutHoles(Re)||_iterableToArray(Re)||_unsupportedIterableToArray(Re)||_nonIterableSpread()}function sheetForTag(Re){if(Re.sheet)return Re.sheet;for(var Ce=0;Ce<document.styleSheets.length;Ce++)if(document.styleSheets[Ce].ownerNode===Re)return document.styleSheets[Ce]}function createStyleElement(Re){var Ce=document.createElement("style");return Ce.setAttribute("data-emotion",Re.key),Re.nonce!==void 0&&Ce.setAttribute("nonce",Re.nonce),Ce.appendChild(document.createTextNode("")),Ce.setAttribute("data-s",""),Ce}var StyleSheet=(function(){function Re(je){var Be=this;this._insertTag=function(De){var Fe;Be.tags.length===0?Be.insertionPoint?Fe=Be.insertionPoint.nextSibling:Be.prepend?Fe=Be.container.firstChild:Fe=Be.before:Fe=Be.tags[Be.tags.length-1].nextSibling,Be.container.insertBefore(De,Fe),Be.tags.push(De)},this.isSpeedy=je.speedy===void 0?!0:je.speedy,this.tags=[],this.ctr=0,this.nonce=je.nonce,this.key=je.key,this.container=je.container,this.prepend=je.prepend,this.insertionPoint=je.insertionPoint,this.before=null}var Ce=Re.prototype;return Ce.hydrate=function(Be){Be.forEach(this._insertTag)},Ce.insert=function(Be){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var De=this.tags[this.tags.length-1];if(this.isSpeedy){var Fe=sheetForTag(De);try{Fe.insertRule(Be,Fe.cssRules.length)}catch{}}else De.appendChild(document.createTextNode(Be));this.ctr++},Ce.flush=function(){this.tags.forEach(function(Be){var De;return(De=Be.parentNode)==null?void 0:De.removeChild(Be)}),this.tags=[],this.ctr=0},Re})(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash(Re,Ce){return charat(Re,0)^45?(((Ce<<2^charat(Re,0))<<2^charat(Re,1))<<2^charat(Re,2))<<2^charat(Re,3):0}function trim(Re){return Re.trim()}function match(Re,Ce){return(Re=Ce.exec(Re))?Re[0]:Re}function replace(Re,Ce,je){return Re.replace(Ce,je)}function indexof(Re,Ce){return Re.indexOf(Ce)}function charat(Re,Ce){return Re.charCodeAt(Ce)|0}function substr(Re,Ce,je){return Re.slice(Ce,je)}function strlen(Re){return Re.length}function sizeof(Re){return Re.length}function append(Re,Ce){return Ce.push(Re),Re}function combine(Re,Ce){return Re.map(Ce).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(Re,Ce,je,Be,De,Fe,ke){return{value:Re,root:Ce,parent:je,type:Be,props:De,children:Fe,line,column,length:ke,return:""}}function copy(Re,Ce){return assign(node("",null,null,"",null,null,0),Re,{length:-Re.length},Ce)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(Re,Ce){return substr(characters,Re,Ce)}function token(Re){switch(Re){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(Re){return line=column=1,length=strlen(characters=Re),position=0,[]}function dealloc(Re){return characters="",Re}function delimit(Re){return trim(slice(position-1,delimiter(Re===91?Re+2:Re===40?Re+1:Re)))}function whitespace(Re){for(;(character=peek())&&character<33;)next();return token(Re)>2||token(character)>3?"":" "}function escaping(Re,Ce){for(;--Ce&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(Re,caret()+(Ce<6&&peek()==32&&next()==32))}function delimiter(Re){for(;next();)switch(character){case Re:return position;case 34:case 39:Re!==34&&Re!==39&&delimiter(character);break;case 40:Re===41&&delimiter(Re);break;case 92:next();break}return position}function commenter(Re,Ce){for(;next()&&Re+character!==57;)if(Re+character===84&&peek()===47)break;return"/*"+slice(Ce,position-1)+"*"+from(Re===47?Re:next())}function identifier(Re){for(;!token(peek());)next();return slice(Re,position)}function compile(Re){return dealloc(parse("",null,null,null,[""],Re=alloc(Re),0,[0],Re))}function parse(Re,Ce,je,Be,De,Fe,ke,Oe,Me){for(var Ue=0,$e=0,He=ke,Qe=0,We=0,qe=0,Ke=1,Xe=1,Ye=1,Ze=0,Je="",tr=De,rr=Fe,ar=Be,ir=Je;Xe;)switch(qe=Ze,Ze=next()){case 40:if(qe!=108&&charat(ir,He-1)==58){indexof(ir+=replace(delimit(Ze),"&","&\f"),"&\f")!=-1&&(Ye=-1);break}case 34:case 39:case 91:ir+=delimit(Ze);break;case 9:case 10:case 13:case 32:ir+=whitespace(qe);break;case 92:ir+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),Ce,je),Me);break;default:ir+="/"}break;case 123*Ke:Oe[Ue++]=strlen(ir)*Ye;case 125*Ke:case 59:case 0:switch(Ze){case 0:case 125:Xe=0;case 59+$e:Ye==-1&&(ir=replace(ir,/\f/g,"")),We>0&&strlen(ir)-He&&append(We>32?declaration(ir+";",Be,je,He-1):declaration(replace(ir," ","")+";",Be,je,He-2),Me);break;case 59:ir+=";";default:if(append(ar=ruleset(ir,Ce,je,Ue,$e,De,Oe,Je,tr=[],rr=[],He),Fe),Ze===123)if($e===0)parse(ir,Ce,ar,ar,tr,Fe,He,Oe,rr);else switch(Qe===99&&charat(ir,3)===110?100:Qe){case 100:case 108:case 109:case 115:parse(Re,ar,ar,Be&&append(ruleset(Re,ar,ar,0,0,De,Oe,Je,De,tr=[],He),rr),De,rr,He,Oe,Be?tr:rr);break;default:parse(ir,ar,ar,ar,[""],rr,0,Oe,rr)}}Ue=$e=We=0,Ke=Ye=1,Je=ir="",He=ke;break;case 58:He=1+strlen(ir),We=qe;default:if(Ke<1){if(Ze==123)--Ke;else if(Ze==125&&Ke++==0&&prev()==125)continue}switch(ir+=from(Ze),Ze*Ke){case 38:Ye=$e>0?1:(ir+="\f",-1);break;case 44:Oe[Ue++]=(strlen(ir)-1)*Ye,Ye=1;break;case 64:peek()===45&&(ir+=delimit(next())),Qe=peek(),$e=He=strlen(Je=ir+=identifier(caret())),Ze++;break;case 45:qe===45&&strlen(ir)==2&&(Ke=0)}}return Fe}function ruleset(Re,Ce,je,Be,De,Fe,ke,Oe,Me,Ue,$e){for(var He=De-1,Qe=De===0?Fe:[""],We=sizeof(Qe),qe=0,Ke=0,Xe=0;qe<Be;++qe)for(var Ye=0,Ze=substr(Re,He+1,He=abs(Ke=ke[qe])),Je=Re;Ye<We;++Ye)(Je=trim(Ke>0?Qe[Ye]+" "+Ze:replace(Ze,/&\f/g,Qe[Ye])))&&(Me[Xe++]=Je);return node(Re,Ce,je,De===0?RULESET:Oe,Me,Ue,$e)}function comment(Re,Ce,je){return node(Re,Ce,je,COMMENT,from(char()),substr(Re,2,-2),0)}function declaration(Re,Ce,je,Be){return node(Re,Ce,je,DECLARATION,substr(Re,0,Be),substr(Re,Be+1,-1),Be)}function serialize(Re,Ce){for(var je="",Be=sizeof(Re),De=0;De<Be;De++)je+=Ce(Re[De],De,Re,Ce)||"";return je}function stringify(Re,Ce,je,Be){switch(Re.type){case LAYER:if(Re.children.length)break;case IMPORT:case DECLARATION:return Re.return=Re.return||Re.value;case COMMENT:return"";case KEYFRAMES:return Re.return=Re.value+"{"+serialize(Re.children,Be)+"}";case RULESET:Re.value=Re.props.join(",")}return strlen(je=serialize(Re.children,Be))?Re.return=Re.value+"{"+je+"}":""}function middleware(Re){var Ce=sizeof(Re);return function(je,Be,De,Fe){for(var ke="",Oe=0;Oe<Ce;Oe++)ke+=Re[Oe](je,Be,De,Fe)||"";return ke}}function rulesheet(Re){return function(Ce){Ce.root||(Ce=Ce.return)&&Re(Ce)}}function memoize$1(Re){var Ce=Object.create(null);return function(je){return Ce[je]===void 0&&(Ce[je]=Re(je)),Ce[je]}}var identifierWithPointTracking=function Re(Ce,je,Be){for(var De=0,Fe=0;De=Fe,Fe=peek(),De===38&&Fe===12&&(je[Be]=1),!token(Fe);)next();return slice(Ce,position)},toRules=function Re(Ce,je){var Be=-1,De=44;do switch(token(De)){case 0:De===38&&peek()===12&&(je[Be]=1),Ce[Be]+=identifierWithPointTracking(position-1,je,Be);break;case 2:Ce[Be]+=delimit(De);break;case 4:if(De===44){Ce[++Be]=peek()===58?"&\f":"",je[Be]=Ce[Be].length;break}default:Ce[Be]+=from(De)}while(De=next());return Ce},getRules=function Re(Ce,je){return dealloc(toRules(alloc(Ce),je))},fixedElements=new WeakMap,compat=function Re(Ce){if(!(Ce.type!=="rule"||!Ce.parent||Ce.length<1)){for(var je=Ce.value,Be=Ce.parent,De=Ce.column===Be.column&&Ce.line===Be.line;Be.type!=="rule";)if(Be=Be.parent,!Be)return;if(!(Ce.props.length===1&&je.charCodeAt(0)!==58&&!fixedElements.get(Be))&&!De){fixedElements.set(Ce,!0);for(var Fe=[],ke=getRules(je,Fe),Oe=Be.props,Me=0,Ue=0;Me<ke.length;Me++)for(var $e=0;$e<Oe.length;$e++,Ue++)Ce.props[Ue]=Fe[Me]?ke[Me].replace(/&\f/g,Oe[$e]):Oe[$e]+" "+ke[Me]}}},removeLabel=function Re(Ce){if(Ce.type==="decl"){var je=Ce.value;je.charCodeAt(0)===108&&je.charCodeAt(2)===98&&(Ce.return="",Ce.value="")}};function prefix(Re,Ce){switch(hash(Re,Ce)){case 5103:return WEBKIT+"print-"+Re+Re;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+Re+Re;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+Re+MOZ+Re+MS+Re+Re;case 6828:case 4268:return WEBKIT+Re+MS+Re+Re;case 6165:return WEBKIT+Re+MS+"flex-"+Re+Re;case 5187:return WEBKIT+Re+replace(Re,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+Re;case 5443:return WEBKIT+Re+MS+"flex-item-"+replace(Re,/flex-|-self/,"")+Re;case 4675:return WEBKIT+Re+MS+"flex-line-pack"+replace(Re,/align-content|flex-|-self/,"")+Re;case 5548:return WEBKIT+Re+MS+replace(Re,"shrink","negative")+Re;case 5292:return WEBKIT+Re+MS+replace(Re,"basis","preferred-size")+Re;case 6060:return WEBKIT+"box-"+replace(Re,"-grow","")+WEBKIT+Re+MS+replace(Re,"grow","positive")+Re;case 4554:return WEBKIT+replace(Re,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+Re;case 6187:return replace(replace(replace(Re,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),Re,"")+Re;case 5495:case 3959:return replace(Re,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(Re,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+Re+Re;case 4095:case 3583:case 4068:case 2532:return replace(Re,/(.+)-inline(.+)/,WEBKIT+"$1$2")+Re;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(Re)-1-Ce>6)switch(charat(Re,Ce+1)){case 109:if(charat(Re,Ce+4)!==45)break;case 102:return replace(Re,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(Re,Ce+3)==108?"$3":"$2-$3"))+Re;case 115:return~indexof(Re,"stretch")?prefix(replace(Re,"stretch","fill-available"),Ce)+Re:Re}break;case 4949:if(charat(Re,Ce+1)!==115)break;case 6444:switch(charat(Re,strlen(Re)-3-(~indexof(Re,"!important")&&10))){case 107:return replace(Re,":",":"+WEBKIT)+Re;case 101:return replace(Re,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(Re,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+Re}break;case 5936:switch(charat(Re,Ce+11)){case 114:return WEBKIT+Re+MS+replace(Re,/[svh]\w+-[tblr]{2}/,"tb")+Re;case 108:return WEBKIT+Re+MS+replace(Re,/[svh]\w+-[tblr]{2}/,"tb-rl")+Re;case 45:return WEBKIT+Re+MS+replace(Re,/[svh]\w+-[tblr]{2}/,"lr")+Re}return WEBKIT+Re+MS+Re+Re}return Re}var prefixer=function Re(Ce,je,Be,De){if(Ce.length>-1&&!Ce.return)switch(Ce.type){case DECLARATION:Ce.return=prefix(Ce.value,Ce.length);break;case KEYFRAMES:return serialize([copy(Ce,{value:replace(Ce.value,"@","@"+WEBKIT)})],De);case RULESET:if(Ce.length)return combine(Ce.props,function(Fe){switch(match(Fe,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(Ce,{props:[replace(Fe,/:(read-\w+)/,":"+MOZ+"$1")]})],De);case"::placeholder":return serialize([copy(Ce,{props:[replace(Fe,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(Ce,{props:[replace(Fe,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(Ce,{props:[replace(Fe,/:(plac\w+)/,MS+"input-$1")]})],De)}return""})}},defaultStylisPlugins=[prefixer],createCache=function Re(Ce){var je=Ce.key;if(je==="css"){var Be=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Be,function(Ke){var Xe=Ke.getAttribute("data-emotion");Xe.indexOf(" ")!==-1&&(document.head.appendChild(Ke),Ke.setAttribute("data-s",""))})}var De=Ce.stylisPlugins||defaultStylisPlugins,Fe={},ke,Oe=[];ke=Ce.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+je+' "]'),function(Ke){for(var Xe=Ke.getAttribute("data-emotion").split(" "),Ye=1;Ye<Xe.length;Ye++)Fe[Xe[Ye]]=!0;Oe.push(Ke)});var Me,Ue=[compat,removeLabel];{var $e,He=[stringify,rulesheet(function(Ke){$e.insert(Ke)})],Qe=middleware(Ue.concat(De,He)),We=function(Xe){return serialize(compile(Xe),Qe)};Me=function(Xe,Ye,Ze,Je){$e=Ze,We(Xe?Xe+"{"+Ye.styles+"}":Ye.styles),Je&&(qe.inserted[Ye.name]=!0)}}var qe={key:je,sheet:new StyleSheet({key:je,container:ke,nonce:Ce.nonce,speedy:Ce.speedy,prepend:Ce.prepend,insertionPoint:Ce.insertionPoint}),nonce:Ce.nonce,inserted:Fe,registered:{},insert:Me};return qe.sheet.hydrate(Oe),qe},reactIs={exports:{}},reactIs_production_min={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactIs_production_min;function requireReactIs_production_min(){if(hasRequiredReactIs_production_min)return reactIs_production_min;hasRequiredReactIs_production_min=1;var Re=typeof Symbol=="function"&&Symbol.for,Ce=Re?Symbol.for("react.element"):60103,je=Re?Symbol.for("react.portal"):60106,Be=Re?Symbol.for("react.fragment"):60107,De=Re?Symbol.for("react.strict_mode"):60108,Fe=Re?Symbol.for("react.profiler"):60114,ke=Re?Symbol.for("react.provider"):60109,Oe=Re?Symbol.for("react.context"):60110,Me=Re?Symbol.for("react.async_mode"):60111,Ue=Re?Symbol.for("react.concurrent_mode"):60111,$e=Re?Symbol.for("react.forward_ref"):60112,He=Re?Symbol.for("react.suspense"):60113,Qe=Re?Symbol.for("react.suspense_list"):60120,We=Re?Symbol.for("react.memo"):60115,qe=Re?Symbol.for("react.lazy"):60116,Ke=Re?Symbol.for("react.block"):60121,Xe=Re?Symbol.for("react.fundamental"):60117,Ye=Re?Symbol.for("react.responder"):60118,Ze=Re?Symbol.for("react.scope"):60119;function Je(rr){if(typeof rr=="object"&&rr!==null){var ar=rr.$$typeof;switch(ar){case Ce:switch(rr=rr.type,rr){case Me:case Ue:case Be:case Fe:case De:case He:return rr;default:switch(rr=rr&&rr.$$typeof,rr){case Oe:case $e:case qe:case We:case ke:return rr;default:return ar}}case je:return ar}}}function tr(rr){return Je(rr)===Ue}return reactIs_production_min.AsyncMode=Me,reactIs_production_min.ConcurrentMode=Ue,reactIs_production_min.ContextConsumer=Oe,reactIs_production_min.ContextProvider=ke,reactIs_production_min.Element=Ce,reactIs_production_min.ForwardRef=$e,reactIs_production_min.Fragment=Be,reactIs_production_min.Lazy=qe,reactIs_production_min.Memo=We,reactIs_production_min.Portal=je,reactIs_production_min.Profiler=Fe,reactIs_production_min.StrictMode=De,reactIs_production_min.Suspense=He,reactIs_production_min.isAsyncMode=function(rr){return tr(rr)||Je(rr)===Me},reactIs_production_min.isConcurrentMode=tr,reactIs_production_min.isContextConsumer=function(rr){return Je(rr)===Oe},reactIs_production_min.isContextProvider=function(rr){return Je(rr)===ke},reactIs_production_min.isElement=function(rr){return typeof rr=="object"&&rr!==null&&rr.$$typeof===Ce},reactIs_production_min.isForwardRef=function(rr){return Je(rr)===$e},reactIs_production_min.isFragment=function(rr){return Je(rr)===Be},reactIs_production_min.isLazy=function(rr){return Je(rr)===qe},reactIs_production_min.isMemo=function(rr){return Je(rr)===We},reactIs_production_min.isPortal=function(rr){return Je(rr)===je},reactIs_production_min.isProfiler=function(rr){return Je(rr)===Fe},reactIs_production_min.isStrictMode=function(rr){return Je(rr)===De},reactIs_production_min.isSuspense=function(rr){return Je(rr)===He},reactIs_production_min.isValidElementType=function(rr){return typeof rr=="string"||typeof rr=="function"||rr===Be||rr===Ue||rr===Fe||rr===De||rr===He||rr===Qe||typeof rr=="object"&&rr!==null&&(rr.$$typeof===qe||rr.$$typeof===We||rr.$$typeof===ke||rr.$$typeof===Oe||rr.$$typeof===$e||rr.$$typeof===Xe||rr.$$typeof===Ye||rr.$$typeof===Ze||rr.$$typeof===Ke)},reactIs_production_min.typeOf=Je,reactIs_production_min}var hasRequiredReactIs;function requireReactIs(){return hasRequiredReactIs||(hasRequiredReactIs=1,reactIs.exports=requireReactIs_production_min()),reactIs.exports}var hoistNonReactStatics_cjs,hasRequiredHoistNonReactStatics_cjs;function requireHoistNonReactStatics_cjs(){if(hasRequiredHoistNonReactStatics_cjs)return hoistNonReactStatics_cjs;hasRequiredHoistNonReactStatics_cjs=1;var Re=requireReactIs(),Ce={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},je={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Be={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},De={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Fe={};Fe[Re.ForwardRef]=Be,Fe[Re.Memo]=De;function ke(qe){return Re.isMemo(qe)?De:Fe[qe.$$typeof]||Ce}var Oe=Object.defineProperty,Me=Object.getOwnPropertyNames,Ue=Object.getOwnPropertySymbols,$e=Object.getOwnPropertyDescriptor,He=Object.getPrototypeOf,Qe=Object.prototype;function We(qe,Ke,Xe){if(typeof Ke!="string"){if(Qe){var Ye=He(Ke);Ye&&Ye!==Qe&&We(qe,Ye,Xe)}var Ze=Me(Ke);Ue&&(Ze=Ze.concat(Ue(Ke)));for(var Je=ke(qe),tr=ke(Ke),rr=0;rr<Ze.length;++rr){var ar=Ze[rr];if(!je[ar]&&!(Xe&&Xe[ar])&&!(tr&&tr[ar])&&!(Je&&Je[ar])){var ir=$e(Ke,ar);try{Oe(qe,ar,ir)}catch{}}}}return qe}return hoistNonReactStatics_cjs=We,hoistNonReactStatics_cjs}requireHoistNonReactStatics_cjs();var isBrowser=!0;function getRegisteredStyles(Re,Ce,je){var Be="";return je.split(" ").forEach(function(De){Re[De]!==void 0?Ce.push(Re[De]+";"):De&&(Be+=De+" ")}),Be}var registerStyles=function Re(Ce,je,Be){var De=Ce.key+"-"+je.name;(Be===!1||isBrowser===!1)&&Ce.registered[De]===void 0&&(Ce.registered[De]=je.styles)},insertStyles=function Re(Ce,je,Be){registerStyles(Ce,je,Be);var De=Ce.key+"-"+je.name;if(Ce.inserted[je.name]===void 0){var Fe=je;do Ce.insert(je===Fe?"."+De:"",Fe,Ce.sheet,!0),Fe=Fe.next;while(Fe!==void 0)}};function murmur2(Re){for(var Ce=0,je,Be=0,De=Re.length;De>=4;++Be,De-=4)je=Re.charCodeAt(Be)&255|(Re.charCodeAt(++Be)&255)<<8|(Re.charCodeAt(++Be)&255)<<16|(Re.charCodeAt(++Be)&255)<<24,je=(je&65535)*1540483477+((je>>>16)*59797<<16),je^=je>>>24,Ce=(je&65535)*1540483477+((je>>>16)*59797<<16)^(Ce&65535)*1540483477+((Ce>>>16)*59797<<16);switch(De){case 3:Ce^=(Re.charCodeAt(Be+2)&255)<<16;case 2:Ce^=(Re.charCodeAt(Be+1)&255)<<8;case 1:Ce^=Re.charCodeAt(Be)&255,Ce=(Ce&65535)*1540483477+((Ce>>>16)*59797<<16)}return Ce^=Ce>>>13,Ce=(Ce&65535)*1540483477+((Ce>>>16)*59797<<16),((Ce^Ce>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function Re(Ce){return Ce.charCodeAt(1)===45},isProcessableValue=function Re(Ce){return Ce!=null&&typeof Ce!="boolean"},processStyleName=memoize$1(function(Re){return isCustomProperty(Re)?Re:Re.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function Re(Ce,je){switch(Ce){case"animation":case"animationName":if(typeof je=="string")return je.replace(animationRegex,function(Be,De,Fe){return cursor={name:De,styles:Fe,next:cursor},De})}return unitlessKeys[Ce]!==1&&!isCustomProperty(Ce)&&typeof je=="number"&&je!==0?je+"px":je};function handleInterpolation(Re,Ce,je){if(je==null)return"";var Be=je;if(Be.__emotion_styles!==void 0)return Be;switch(typeof je){case"boolean":return"";case"object":{var De=je;if(De.anim===1)return cursor={name:De.name,styles:De.styles,next:cursor},De.name;var Fe=je;if(Fe.styles!==void 0){var ke=Fe.next;if(ke!==void 0)for(;ke!==void 0;)cursor={name:ke.name,styles:ke.styles,next:cursor},ke=ke.next;var Oe=Fe.styles+";";return Oe}return createStringFromObject(Re,Ce,je)}case"function":{if(Re!==void 0){var Me=cursor,Ue=je(Re);return cursor=Me,handleInterpolation(Re,Ce,Ue)}break}}var $e=je;if(Ce==null)return $e;var He=Ce[$e];return He!==void 0?He:$e}function createStringFromObject(Re,Ce,je){var Be="";if(Array.isArray(je))for(var De=0;De<je.length;De++)Be+=handleInterpolation(Re,Ce,je[De])+";";else for(var Fe in je){var ke=je[Fe];if(typeof ke!="object"){var Oe=ke;Ce!=null&&Ce[Oe]!==void 0?Be+=Fe+"{"+Ce[Oe]+"}":isProcessableValue(Oe)&&(Be+=processStyleName(Fe)+":"+processStyleValue(Fe,Oe)+";")}else if(Array.isArray(ke)&&typeof ke[0]=="string"&&(Ce==null||Ce[ke[0]]===void 0))for(var Me=0;Me<ke.length;Me++)isProcessableValue(ke[Me])&&(Be+=processStyleName(Fe)+":"+processStyleValue(Fe,ke[Me])+";");else{var Ue=handleInterpolation(Re,Ce,ke);switch(Fe){case"animation":case"animationName":{Be+=processStyleName(Fe)+":"+Ue+";";break}default:Be+=Fe+"{"+Ue+"}"}}}return Be}var labelPattern=/label:\s*([^\s;{]+)\s*(;|$)/g,cursor;function serializeStyles(Re,Ce,je){if(Re.length===1&&typeof Re[0]=="object"&&Re[0]!==null&&Re[0].styles!==void 0)return Re[0];var Be=!0,De="";cursor=void 0;var Fe=Re[0];if(Fe==null||Fe.raw===void 0)Be=!1,De+=handleInterpolation(je,Ce,Fe);else{var ke=Fe;De+=ke[0]}for(var Oe=1;Oe<Re.length;Oe++)if(De+=handleInterpolation(je,Ce,Re[Oe]),Be){var Me=Fe;De+=Me[Oe]}labelPattern.lastIndex=0;for(var Ue="",$e;($e=labelPattern.exec(De))!==null;)Ue+="-"+$e[1];var He=murmur2(De)+Ue;return{name:He,styles:De,next:cursor}}var syncFallback=function Re(Ce){return Ce()},useInsertionEffect=React$1.useInsertionEffect?React$1.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function Re(Ce){return reactExports.forwardRef(function(je,Be){var De=reactExports.useContext(EmotionCacheContext);return Ce(je,De,Be)})},ThemeContext=reactExports.createContext({}),hasOwn={}.hasOwnProperty,typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function Re(Ce,je){var Be={};for(var De in je)hasOwn.call(je,De)&&(Be[De]=je[De]);return Be[typePropName]=Ce,Be},Insertion$1=function Re(Ce){var je=Ce.cache,Be=Ce.serialized,De=Ce.isStringTag;return registerStyles(je,Be,De),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(je,Be,De)}),null},Emotion=withEmotionCache(function(Re,Ce,je){var Be=Re.css;typeof Be=="string"&&Ce.registered[Be]!==void 0&&(Be=Ce.registered[Be]);var De=Re[typePropName],Fe=[Be],ke="";typeof Re.className=="string"?ke=getRegisteredStyles(Ce.registered,Fe,Re.className):Re.className!=null&&(ke=Re.className+" ");var Oe=serializeStyles(Fe,void 0,reactExports.useContext(ThemeContext));ke+=Ce.key+"-"+Oe.name;var Me={};for(var Ue in Re)hasOwn.call(Re,Ue)&&Ue!=="css"&&Ue!==typePropName&&(Me[Ue]=Re[Ue]);return Me.className=ke,je&&(Me.ref=je),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:Ce,serialized:Oe,isStringTag:typeof De=="string"}),reactExports.createElement(De,Me))}),Emotion$1=Emotion,jsx=function Re(Ce,je){var Be=arguments;if(je==null||!hasOwn.call(je,"css"))return reactExports.createElement.apply(void 0,Be);var De=Be.length,Fe=new Array(De);Fe[0]=Emotion$1,Fe[1]=createEmotionProps(Ce,je);for(var ke=2;ke<De;ke++)Fe[ke]=Be[ke];return reactExports.createElement.apply(null,Fe)};(function(Re){var Ce;Ce||(Ce=Re.JSX||(Re.JSX={}))})(jsx||(jsx={}));var Global=withEmotionCache(function(Re,Ce){var je=Re.styles,Be=serializeStyles([je],void 0,reactExports.useContext(ThemeContext)),De=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var Fe=Ce.key+"-global",ke=new Ce.sheet.constructor({key:Fe,nonce:Ce.sheet.nonce,container:Ce.sheet.container,speedy:Ce.sheet.isSpeedy}),Oe=!1,Me=document.querySelector('style[data-emotion="'+Fe+" "+Be.name+'"]');return Ce.sheet.tags.length&&(ke.before=Ce.sheet.tags[0]),Me!==null&&(Oe=!0,Me.setAttribute("data-emotion",Fe),ke.hydrate([Me])),De.current=[ke,Oe],function(){ke.flush()}},[Ce]),useInsertionEffectWithLayoutFallback(function(){var Fe=De.current,ke=Fe[0],Oe=Fe[1];if(Oe){Fe[1]=!1;return}if(Be.next!==void 0&&insertStyles(Ce,Be.next,!0),ke.tags.length){var Me=ke.tags[ke.tags.length-1].nextElementSibling;ke.before=Me,ke.flush()}Ce.insert("",Be,ke,!1)},[Ce,Be.name]),null});function css(){for(var Re=arguments.length,Ce=new Array(Re),je=0;je<Re;je++)Ce[je]=arguments[je];return serializeStyles(Ce)}function keyframes(){var Re=css.apply(void 0,arguments),Ce="animation-"+Re.name;return{name:Ce,styles:"@keyframes "+Ce+"{"+Re.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function _taggedTemplateLiteral(Re,Ce){return Ce||(Ce=Re.slice(0)),Object.freeze(Object.defineProperties(Re,{raw:{value:Object.freeze(Ce)}}))}const min=Math.min,max=Math.max,round$1=Math.round,floor=Math.floor,createCoords=Re=>({x:Re,y:Re});function rectToClientRect(Re){const{x:Ce,y:je,width:Be,height:De}=Re;return{width:Be,height:De,top:je,left:Ce,right:Ce+Be,bottom:je+De,x:Ce,y:je}}function hasWindow(){return typeof window<"u"}function getNodeName(Re){return isNode(Re)?(Re.nodeName||"").toLowerCase():"#document"}function getWindow(Re){var Ce;return(Re==null||(Ce=Re.ownerDocument)==null?void 0:Ce.defaultView)||window}function getDocumentElement(Re){var Ce;return(Ce=(isNode(Re)?Re.ownerDocument:Re.document)||window.document)==null?void 0:Ce.documentElement}function isNode(Re){return hasWindow()?Re instanceof Node||Re instanceof getWindow(Re).Node:!1}function isElement(Re){return hasWindow()?Re instanceof Element||Re instanceof getWindow(Re).Element:!1}function isHTMLElement(Re){return hasWindow()?Re instanceof HTMLElement||Re instanceof getWindow(Re).HTMLElement:!1}function isShadowRoot(Re){return!hasWindow()||typeof ShadowRoot>"u"?!1:Re instanceof ShadowRoot||Re instanceof getWindow(Re).ShadowRoot}const invalidOverflowDisplayValues=new Set(["inline","contents"]);function isOverflowElement(Re){const{overflow:Ce,overflowX:je,overflowY:Be,display:De}=getComputedStyle$1(Re);return/auto|scroll|overlay|hidden|clip/.test(Ce+Be+je)&&!invalidOverflowDisplayValues.has(De)}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const lastTraversableNodeNames=new Set(["html","body","#document"]);function isLastTraversableNode(Re){return lastTraversableNodeNames.has(getNodeName(Re))}function getComputedStyle$1(Re){return getWindow(Re).getComputedStyle(Re)}function getParentNode(Re){if(getNodeName(Re)==="html")return Re;const Ce=Re.assignedSlot||Re.parentNode||isShadowRoot(Re)&&Re.host||getDocumentElement(Re);return isShadowRoot(Ce)?Ce.host:Ce}function getNearestOverflowAncestor(Re){const Ce=getParentNode(Re);return isLastTraversableNode(Ce)?Re.ownerDocument?Re.ownerDocument.body:Re.body:isHTMLElement(Ce)&&isOverflowElement(Ce)?Ce:getNearestOverflowAncestor(Ce)}function getOverflowAncestors(Re,Ce,je){var Be;Ce===void 0&&(Ce=[]),je===void 0&&(je=!0);const De=getNearestOverflowAncestor(Re),Fe=De===((Be=Re.ownerDocument)==null?void 0:Be.body),ke=getWindow(De);if(Fe){const Oe=getFrameElement(ke);return Ce.concat(ke,ke.visualViewport||[],isOverflowElement(De)?De:[],Oe&&je?getOverflowAncestors(Oe):[])}return Ce.concat(De,getOverflowAncestors(De,[],je))}function getFrameElement(Re){return Re.parent&&Object.getPrototypeOf(Re.parent)?Re.frameElement:null}function getCssDimensions(Re){const Ce=getComputedStyle$1(Re);let je=parseFloat(Ce.width)||0,Be=parseFloat(Ce.height)||0;const De=isHTMLElement(Re),Fe=De?Re.offsetWidth:je,ke=De?Re.offsetHeight:Be,Oe=round$1(je)!==Fe||round$1(Be)!==ke;return Oe&&(je=Fe,Be=ke),{width:je,height:Be,$:Oe}}function unwrapElement(Re){return isElement(Re)?Re:Re.contextElement}function getScale$1(Re){const Ce=unwrapElement(Re);if(!isHTMLElement(Ce))return createCoords(1);const je=Ce.getBoundingClientRect(),{width:Be,height:De,$:Fe}=getCssDimensions(Ce);let ke=(Fe?round$1(je.width):je.width)/Be,Oe=(Fe?round$1(je.height):je.height)/De;return(!ke||!Number.isFinite(ke))&&(ke=1),(!Oe||!Number.isFinite(Oe))&&(Oe=1),{x:ke,y:Oe}}const noOffsets=createCoords(0);function getVisualOffsets(Re){const Ce=getWindow(Re);return!isWebKit()||!Ce.visualViewport?noOffsets:{x:Ce.visualViewport.offsetLeft,y:Ce.visualViewport.offsetTop}}function shouldAddVisualOffsets(Re,Ce,je){return!1}function getBoundingClientRect(Re,Ce,je,Be){Ce===void 0&&(Ce=!1);const De=Re.getBoundingClientRect(),Fe=unwrapElement(Re);let ke=createCoords(1);Ce&&(ke=getScale$1(Re));const Oe=shouldAddVisualOffsets()?getVisualOffsets(Fe):createCoords(0);let Me=(De.left+Oe.x)/ke.x,Ue=(De.top+Oe.y)/ke.y,$e=De.width/ke.x,He=De.height/ke.y;if(Fe){const Qe=getWindow(Fe),We=Be;let qe=Qe,Ke=getFrameElement(qe);for(;Ke&&Be&&We!==qe;){const Xe=getScale$1(Ke),Ye=Ke.getBoundingClientRect(),Ze=getComputedStyle$1(Ke),Je=Ye.left+(Ke.clientLeft+parseFloat(Ze.paddingLeft))*Xe.x,tr=Ye.top+(Ke.clientTop+parseFloat(Ze.paddingTop))*Xe.y;Me*=Xe.x,Ue*=Xe.y,$e*=Xe.x,He*=Xe.y,Me+=Je,Ue+=tr,qe=getWindow(Ke),Ke=getFrameElement(qe)}}return rectToClientRect({width:$e,height:He,x:Me,y:Ue})}function rectsAreEqual(Re,Ce){return Re.x===Ce.x&&Re.y===Ce.y&&Re.width===Ce.width&&Re.height===Ce.height}function observeMove(Re,Ce){let je=null,Be;const De=getDocumentElement(Re);function Fe(){var Oe;clearTimeout(Be),(Oe=je)==null||Oe.disconnect(),je=null}function ke(Oe,Me){Oe===void 0&&(Oe=!1),Me===void 0&&(Me=1),Fe();const Ue=Re.getBoundingClientRect(),{left:$e,top:He,width:Qe,height:We}=Ue;if(Oe||Ce(),!Qe||!We)return;const qe=floor(He),Ke=floor(De.clientWidth-($e+Qe)),Xe=floor(De.clientHeight-(He+We)),Ye=floor($e),Je={rootMargin:-qe+"px "+-Ke+"px "+-Xe+"px "+-Ye+"px",threshold:max(0,min(1,Me))||1};let tr=!0;function rr(ar){const ir=ar[0].intersectionRatio;if(ir!==Me){if(!tr)return ke();ir?ke(!1,ir):Be=setTimeout(()=>{ke(!1,1e-7)},1e3)}ir===1&&!rectsAreEqual(Ue,Re.getBoundingClientRect())&&ke(),tr=!1}try{je=new IntersectionObserver(rr,{...Je,root:De.ownerDocument})}catch{je=new IntersectionObserver(rr,Je)}je.observe(Re)}return ke(!0),Fe}function autoUpdate(Re,Ce,je,Be){Be===void 0&&(Be={});const{ancestorScroll:De=!0,ancestorResize:Fe=!0,elementResize:ke=typeof ResizeObserver=="function",layoutShift:Oe=typeof IntersectionObserver=="function",animationFrame:Me=!1}=Be,Ue=unwrapElement(Re),$e=De||Fe?[...Ue?getOverflowAncestors(Ue):[],...getOverflowAncestors(Ce)]:[];$e.forEach(Ye=>{De&&Ye.addEventListener("scroll",je,{passive:!0}),Fe&&Ye.addEventListener("resize",je)});const He=Ue&&Oe?observeMove(Ue,je):null;let Qe=-1,We=null;ke&&(We=new ResizeObserver(Ye=>{let[Ze]=Ye;Ze&&Ze.target===Ue&&We&&(We.unobserve(Ce),cancelAnimationFrame(Qe),Qe=requestAnimationFrame(()=>{var Je;(Je=We)==null||Je.observe(Ce)})),je()}),Ue&&!Me&&We.observe(Ue),We.observe(Ce));let qe,Ke=Me?getBoundingClientRect(Re):null;Me&&Xe();function Xe(){const Ye=getBoundingClientRect(Re);Ke&&!rectsAreEqual(Ke,Ye)&&je(),Ke=Ye,qe=requestAnimationFrame(Xe)}return je(),()=>{var Ye;$e.forEach(Ze=>{De&&Ze.removeEventListener("scroll",je),Fe&&Ze.removeEventListener("resize",je)}),He?.(),(Ye=We)==null||Ye.disconnect(),We=null,Me&&cancelAnimationFrame(qe)}}var index=reactExports.useLayoutEffect,_excluded$4=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],noop$2=function Re(){};function applyPrefixToName(Re,Ce){return Ce?Ce[0]==="-"?Re+Ce:Re+"__"+Ce:Re}function classNames(Re,Ce){for(var je=arguments.length,Be=new Array(je>2?je-2:0),De=2;De<je;De++)Be[De-2]=arguments[De];var Fe=[].concat(Be);if(Ce&&Re)for(var ke in Ce)Ce.hasOwnProperty(ke)&&Ce[ke]&&Fe.push("".concat(applyPrefixToName(Re,ke)));return Fe.filter(function(Oe){return Oe}).map(function(Oe){return String(Oe).trim()}).join(" ")}var cleanValue=function Re(Ce){return isArray(Ce)?Ce.filter(Boolean):_typeof(Ce)==="object"&&Ce!==null?[Ce]:[]},cleanCommonProps=function Re(Ce){Ce.className,Ce.clearValue,Ce.cx,Ce.getStyles,Ce.getClassNames,Ce.getValue,Ce.hasValue,Ce.isMulti,Ce.isRtl,Ce.options,Ce.selectOption,Ce.selectProps,Ce.setValue,Ce.theme;var je=_objectWithoutProperties$1(Ce,_excluded$4);return _objectSpread2({},je)},getStyleProps=function Re(Ce,je,Be){var De=Ce.cx,Fe=Ce.getStyles,ke=Ce.getClassNames,Oe=Ce.className;return{css:Fe(je,Ce),className:De(Be??{},ke(je,Ce),Oe)}};function isDocumentElement(Re){return[document.documentElement,document.body,window].indexOf(Re)>-1}function normalizedHeight(Re){return isDocumentElement(Re)?window.innerHeight:Re.clientHeight}function getScrollTop(Re){return isDocumentElement(Re)?window.pageYOffset:Re.scrollTop}function scrollTo(Re,Ce){if(isDocumentElement(Re)){window.scrollTo(0,Ce);return}Re.scrollTop=Ce}function getScrollParent(Re){var Ce=getComputedStyle(Re),je=Ce.position==="absolute",Be=/(auto|scroll)/;if(Ce.position==="fixed")return document.documentElement;for(var De=Re;De=De.parentElement;)if(Ce=getComputedStyle(De),!(je&&Ce.position==="static")&&Be.test(Ce.overflow+Ce.overflowY+Ce.overflowX))return De;return document.documentElement}function easeOutCubic(Re,Ce,je,Be){return je*((Re=Re/Be-1)*Re*Re+1)+Ce}function animatedScrollTo(Re,Ce){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,Be=arguments.length>3&&arguments[3]!==void 0?arguments[3]:noop$2,De=getScrollTop(Re),Fe=Ce-De,ke=10,Oe=0;function Me(){Oe+=ke;var Ue=easeOutCubic(Oe,De,Fe,je);scrollTo(Re,Ue),Oe<je?window.requestAnimationFrame(Me):Be(Re)}Me()}function scrollIntoView(Re,Ce){var je=Re.getBoundingClientRect(),Be=Ce.getBoundingClientRect(),De=Ce.offsetHeight/3;Be.bottom+De>je.bottom?scrollTo(Re,Math.min(Ce.offsetTop+Ce.clientHeight-Re.offsetHeight+De,Re.scrollHeight)):Be.top-De<je.top&&scrollTo(Re,Math.max(Ce.offsetTop-De,0))}function getBoundingClientObj(Re){var Ce=Re.getBoundingClientRect();return{bottom:Ce.bottom,height:Ce.height,left:Ce.left,right:Ce.right,top:Ce.top,width:Ce.width}}function isTouchCapable(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function isMobileDevice(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var passiveOptionAccessed=!1,options={get passive(){return passiveOptionAccessed=!0}},w=typeof window<"u"?window:{};w.addEventListener&&w.removeEventListener&&(w.addEventListener("p",noop$2,options),w.removeEventListener("p",noop$2,!1));var supportsPassiveEvents=passiveOptionAccessed;function notNullish(Re){return Re!=null}function isArray(Re){return Array.isArray(Re)}function valueTernary(Re,Ce,je){return Re?Ce:je}function singleValueAsValue(Re){return Re}function multiValueAsValue(Re){return Re}var removeProps=function Re(Ce){for(var je=arguments.length,Be=new Array(je>1?je-1:0),De=1;De<je;De++)Be[De-1]=arguments[De];var Fe=Object.entries(Ce).filter(function(ke){var Oe=_slicedToArray(ke,1),Me=Oe[0];return!Be.includes(Me)});return Fe.reduce(function(ke,Oe){var Me=_slicedToArray(Oe,2),Ue=Me[0],$e=Me[1];return ke[Ue]=$e,ke},{})},_excluded$3=["children","innerProps"],_excluded2$1=["children","innerProps"];function getMenuPlacement(Re){var Ce=Re.maxHeight,je=Re.menuEl,Be=Re.minHeight,De=Re.placement,Fe=Re.shouldScroll,ke=Re.isFixedPosition,Oe=Re.controlHeight,Me=getScrollParent(je),Ue={placement:"bottom",maxHeight:Ce};if(!je||!je.offsetParent)return Ue;var $e=Me.getBoundingClientRect(),He=$e.height,Qe=je.getBoundingClientRect(),We=Qe.bottom,qe=Qe.height,Ke=Qe.top,Xe=je.offsetParent.getBoundingClientRect(),Ye=Xe.top,Ze=ke?window.innerHeight:normalizedHeight(Me),Je=getScrollTop(Me),tr=parseInt(getComputedStyle(je).marginBottom,10),rr=parseInt(getComputedStyle(je).marginTop,10),ar=Ye-rr,ir=Ze-Ke,nr=ar+Je,cr=He-Je-Ke,mr=We-Ze+Je+tr,fr=Je+Ke-rr,or=160;switch(De){case"auto":case"bottom":if(ir>=qe)return{placement:"bottom",maxHeight:Ce};if(cr>=qe&&!ke)return Fe&&animatedScrollTo(Me,mr,or),{placement:"bottom",maxHeight:Ce};if(!ke&&cr>=Be||ke&&ir>=Be){Fe&&animatedScrollTo(Me,mr,or);var yr=ke?ir-tr:cr-tr;return{placement:"bottom",maxHeight:yr}}if(De==="auto"||ke){var Cr=Ce,jr=ke?ar:nr;return jr>=Be&&(Cr=Math.min(jr-tr-Oe,Ce)),{placement:"top",maxHeight:Cr}}if(De==="bottom")return Fe&&scrollTo(Me,mr),{placement:"bottom",maxHeight:Ce};break;case"top":if(ar>=qe)return{placement:"top",maxHeight:Ce};if(nr>=qe&&!ke)return Fe&&animatedScrollTo(Me,fr,or),{placement:"top",maxHeight:Ce};if(!ke&&nr>=Be||ke&&ar>=Be){var vr=Ce;return(!ke&&nr>=Be||ke&&ar>=Be)&&(vr=ke?ar-rr:nr-rr),Fe&&animatedScrollTo(Me,fr,or),{placement:"top",maxHeight:vr}}return{placement:"bottom",maxHeight:Ce};default:throw new Error('Invalid placement provided "'.concat(De,'".'))}return Ue}function alignToControl(Re){var Ce={bottom:"top",top:"bottom"};return Re?Ce[Re]:"bottom"}var coercePlacement=function Re(Ce){return Ce==="auto"?"bottom":Ce},menuCSS=function Re(Ce,je){var Be,De=Ce.placement,Fe=Ce.theme,ke=Fe.borderRadius,Oe=Fe.spacing,Me=Fe.colors;return _objectSpread2((Be={label:"menu"},_defineProperty$1(Be,alignToControl(De),"100%"),_defineProperty$1(Be,"position","absolute"),_defineProperty$1(Be,"width","100%"),_defineProperty$1(Be,"zIndex",1),Be),je?{}:{backgroundColor:Me.neutral0,borderRadius:ke,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:Oe.menuGutter,marginTop:Oe.menuGutter})},PortalPlacementContext=reactExports.createContext(null),MenuPlacer=function Re(Ce){var je=Ce.children,Be=Ce.minMenuHeight,De=Ce.maxMenuHeight,Fe=Ce.menuPlacement,ke=Ce.menuPosition,Oe=Ce.menuShouldScrollIntoView,Me=Ce.theme,Ue=reactExports.useContext(PortalPlacementContext)||{},$e=Ue.setPortalPlacement,He=reactExports.useRef(null),Qe=reactExports.useState(De),We=_slicedToArray(Qe,2),qe=We[0],Ke=We[1],Xe=reactExports.useState(null),Ye=_slicedToArray(Xe,2),Ze=Ye[0],Je=Ye[1],tr=Me.spacing.controlHeight;return index(function(){var rr=He.current;if(rr){var ar=ke==="fixed",ir=Oe&&!ar,nr=getMenuPlacement({maxHeight:De,menuEl:rr,minHeight:Be,placement:Fe,shouldScroll:ir,isFixedPosition:ar,controlHeight:tr});Ke(nr.maxHeight),Je(nr.placement),$e?.(nr.placement)}},[De,Fe,ke,Oe,Be,$e,tr]),je({ref:He,placerProps:_objectSpread2(_objectSpread2({},Ce),{},{placement:Ze||coercePlacement(Fe),maxHeight:qe})})},Menu$1=function Re(Ce){var je=Ce.children,Be=Ce.innerRef,De=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"menu",{menu:!0}),{ref:Be},De),je)},Menu$1$1=Menu$1,menuListCSS=function Re(Ce,je){var Be=Ce.maxHeight,De=Ce.theme.spacing.baseUnit;return _objectSpread2({maxHeight:Be,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},je?{}:{paddingBottom:De,paddingTop:De})},MenuList$1=function Re(Ce){var je=Ce.children,Be=Ce.innerProps,De=Ce.innerRef,Fe=Ce.isMulti;return jsx("div",_extends$1({},getStyleProps(Ce,"menuList",{"menu-list":!0,"menu-list--is-multi":Fe}),{ref:De},Be),je)},noticeCSS=function Re(Ce,je){var Be=Ce.theme,De=Be.spacing.baseUnit,Fe=Be.colors;return _objectSpread2({textAlign:"center"},je?{}:{color:Fe.neutral40,padding:"".concat(De*2,"px ").concat(De*3,"px")})},noOptionsMessageCSS=noticeCSS,loadingMessageCSS=noticeCSS,NoOptionsMessage=function Re(Ce){var je=Ce.children,Be=je===void 0?"No options":je,De=Ce.innerProps,Fe=_objectWithoutProperties$1(Ce,_excluded$3);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},Fe),{},{children:Be,innerProps:De}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),De),Be)},LoadingMessage=function Re(Ce){var je=Ce.children,Be=je===void 0?"Loading...":je,De=Ce.innerProps,Fe=_objectWithoutProperties$1(Ce,_excluded2$1);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},Fe),{},{children:Be,innerProps:De}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),De),Be)},menuPortalCSS=function Re(Ce){var je=Ce.rect,Be=Ce.offset,De=Ce.position;return{left:je.left,position:De,top:Be,width:je.width,zIndex:1}},MenuPortal=function Re(Ce){var je=Ce.appendTo,Be=Ce.children,De=Ce.controlElement,Fe=Ce.innerProps,ke=Ce.menuPlacement,Oe=Ce.menuPosition,Me=reactExports.useRef(null),Ue=reactExports.useRef(null),$e=reactExports.useState(coercePlacement(ke)),He=_slicedToArray($e,2),Qe=He[0],We=He[1],qe=reactExports.useMemo(function(){return{setPortalPlacement:We}},[]),Ke=reactExports.useState(null),Xe=_slicedToArray(Ke,2),Ye=Xe[0],Ze=Xe[1],Je=reactExports.useCallback(function(){if(De){var ir=getBoundingClientObj(De),nr=Oe==="fixed"?0:window.pageYOffset,cr=ir[Qe]+nr;(cr!==Ye?.offset||ir.left!==Ye?.rect.left||ir.width!==Ye?.rect.width)&&Ze({offset:cr,rect:ir})}},[De,Oe,Qe,Ye?.offset,Ye?.rect.left,Ye?.rect.width]);index(function(){Je()},[Je]);var tr=reactExports.useCallback(function(){typeof Ue.current=="function"&&(Ue.current(),Ue.current=null),De&&Me.current&&(Ue.current=autoUpdate(De,Me.current,Je,{elementResize:"ResizeObserver"in window}))},[De,Je]);index(function(){tr()},[tr]);var rr=reactExports.useCallback(function(ir){Me.current=ir,tr()},[tr]);if(!je&&Oe!=="fixed"||!Ye)return null;var ar=jsx("div",_extends$1({ref:rr},getStyleProps(_objectSpread2(_objectSpread2({},Ce),{},{offset:Ye.offset,position:Oe,rect:Ye.rect}),"menuPortal",{"menu-portal":!0}),Fe),Be);return jsx(PortalPlacementContext.Provider,{value:qe},je?reactDomExports.createPortal(ar,je):ar)},containerCSS=function Re(Ce){var je=Ce.isDisabled,Be=Ce.isRtl;return{label:"container",direction:Be?"rtl":void 0,pointerEvents:je?"none":void 0,position:"relative"}},SelectContainer=function Re(Ce){var je=Ce.children,Be=Ce.innerProps,De=Ce.isDisabled,Fe=Ce.isRtl;return jsx("div",_extends$1({},getStyleProps(Ce,"container",{"--is-disabled":De,"--is-rtl":Fe}),Be),je)},valueContainerCSS=function Re(Ce,je){var Be=Ce.theme.spacing,De=Ce.isMulti,Fe=Ce.hasValue,ke=Ce.selectProps.controlShouldRenderValue;return _objectSpread2({alignItems:"center",display:De&&Fe&&ke?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},je?{}:{padding:"".concat(Be.baseUnit/2,"px ").concat(Be.baseUnit*2,"px")})},ValueContainer=function Re(Ce){var je=Ce.children,Be=Ce.innerProps,De=Ce.isMulti,Fe=Ce.hasValue;return jsx("div",_extends$1({},getStyleProps(Ce,"valueContainer",{"value-container":!0,"value-container--is-multi":De,"value-container--has-value":Fe}),Be),je)},indicatorsContainerCSS=function Re(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},IndicatorsContainer=function Re(Ce){var je=Ce.children,Be=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"indicatorsContainer",{indicators:!0}),Be),je)},_templateObject,_excluded$2=["size"],_excluded2=["innerProps","isRtl","size"],_ref2$2={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Svg=function Re(Ce){var je=Ce.size,Be=_objectWithoutProperties$1(Ce,_excluded$2);return jsx("svg",_extends$1({height:je,width:je,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:_ref2$2},Be))},CrossIcon=function Re(Ce){return jsx(Svg,_extends$1({size:20},Ce),jsx("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},DownChevron=function Re(Ce){return jsx(Svg,_extends$1({size:20},Ce),jsx("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},baseCSS=function Re(Ce,je){var Be=Ce.isFocused,De=Ce.theme,Fe=De.spacing.baseUnit,ke=De.colors;return _objectSpread2({label:"indicatorContainer",display:"flex",transition:"color 150ms"},je?{}:{color:Be?ke.neutral60:ke.neutral20,padding:Fe*2,":hover":{color:Be?ke.neutral80:ke.neutral40}})},dropdownIndicatorCSS=baseCSS,DropdownIndicator=function Re(Ce){var je=Ce.children,Be=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),Be),je||jsx(DownChevron,null))},clearIndicatorCSS=baseCSS,ClearIndicator=function Re(Ce){var je=Ce.children,Be=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"clearIndicator",{indicator:!0,"clear-indicator":!0}),Be),je||jsx(CrossIcon,null))},indicatorSeparatorCSS=function Re(Ce,je){var Be=Ce.isDisabled,De=Ce.theme,Fe=De.spacing.baseUnit,ke=De.colors;return _objectSpread2({label:"indicatorSeparator",alignSelf:"stretch",width:1},je?{}:{backgroundColor:Be?ke.neutral10:ke.neutral20,marginBottom:Fe*2,marginTop:Fe*2})},IndicatorSeparator=function Re(Ce){var je=Ce.innerProps;return jsx("span",_extends$1({},je,getStyleProps(Ce,"indicatorSeparator",{"indicator-separator":!0})))},loadingDotAnimations=keyframes(_templateObject||(_templateObject=_taggedTemplateLiteral([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),loadingIndicatorCSS=function Re(Ce,je){var Be=Ce.isFocused,De=Ce.size,Fe=Ce.theme,ke=Fe.colors,Oe=Fe.spacing.baseUnit;return _objectSpread2({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:De,lineHeight:1,marginRight:De,textAlign:"center",verticalAlign:"middle"},je?{}:{color:Be?ke.neutral60:ke.neutral20,padding:Oe*2})},LoadingDot=function Re(Ce){var je=Ce.delay,Be=Ce.offset;return jsx("span",{css:css({animation:"".concat(loadingDotAnimations," 1s ease-in-out ").concat(je,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:Be?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},LoadingIndicator=function Re(Ce){var je=Ce.innerProps,Be=Ce.isRtl,De=Ce.size,Fe=De===void 0?4:De,ke=_objectWithoutProperties$1(Ce,_excluded2);return jsx("div",_extends$1({},getStyleProps(_objectSpread2(_objectSpread2({},ke),{},{innerProps:je,isRtl:Be,size:Fe}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),je),jsx(LoadingDot,{delay:0,offset:Be}),jsx(LoadingDot,{delay:160,offset:!0}),jsx(LoadingDot,{delay:320,offset:!Be}))},css$1=function Re(Ce,je){var Be=Ce.isDisabled,De=Ce.isFocused,Fe=Ce.theme,ke=Fe.colors,Oe=Fe.borderRadius,Me=Fe.spacing;return _objectSpread2({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Me.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},je?{}:{backgroundColor:Be?ke.neutral5:ke.neutral0,borderColor:Be?ke.neutral10:De?ke.primary:ke.neutral20,borderRadius:Oe,borderStyle:"solid",borderWidth:1,boxShadow:De?"0 0 0 1px ".concat(ke.primary):void 0,"&:hover":{borderColor:De?ke.primary:ke.neutral30}})},Control=function Re(Ce){var je=Ce.children,Be=Ce.isDisabled,De=Ce.isFocused,Fe=Ce.innerRef,ke=Ce.innerProps,Oe=Ce.menuIsOpen;return jsx("div",_extends$1({ref:Fe},getStyleProps(Ce,"control",{control:!0,"control--is-disabled":Be,"control--is-focused":De,"control--menu-is-open":Oe}),ke,{"aria-disabled":Be||void 0}),je)},Control$1=Control,_excluded$1$1=["data"],groupCSS=function Re(Ce,je){var Be=Ce.theme.spacing;return je?{}:{paddingBottom:Be.baseUnit*2,paddingTop:Be.baseUnit*2}},Group=function Re(Ce){var je=Ce.children,Be=Ce.cx,De=Ce.getStyles,Fe=Ce.getClassNames,ke=Ce.Heading,Oe=Ce.headingProps,Me=Ce.innerProps,Ue=Ce.label,$e=Ce.theme,He=Ce.selectProps;return jsx("div",_extends$1({},getStyleProps(Ce,"group",{group:!0}),Me),jsx(ke,_extends$1({},Oe,{selectProps:He,theme:$e,getStyles:De,getClassNames:Fe,cx:Be}),Ue),jsx("div",null,je))},groupHeadingCSS=function Re(Ce,je){var Be=Ce.theme,De=Be.colors,Fe=Be.spacing;return _objectSpread2({label:"group",cursor:"default",display:"block"},je?{}:{color:De.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:Fe.baseUnit*3,paddingRight:Fe.baseUnit*3,textTransform:"uppercase"})},GroupHeading=function Re(Ce){var je=cleanCommonProps(Ce);je.data;var Be=_objectWithoutProperties$1(je,_excluded$1$1);return jsx("div",_extends$1({},getStyleProps(Ce,"groupHeading",{"group-heading":!0}),Be))},Group$1=Group,_excluded$5=["innerRef","isDisabled","isHidden","inputClassName"],inputCSS=function Re(Ce,je){var Be=Ce.isDisabled,De=Ce.value,Fe=Ce.theme,ke=Fe.spacing,Oe=Fe.colors;return _objectSpread2(_objectSpread2({visibility:Be?"hidden":"visible",transform:De?"translateZ(0)":""},containerStyle),je?{}:{margin:ke.baseUnit/2,paddingBottom:ke.baseUnit/2,paddingTop:ke.baseUnit/2,color:Oe.neutral80})},spacingStyle={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},containerStyle={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":_objectSpread2({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},spacingStyle)},inputStyle=function Re(Ce){return _objectSpread2({label:"input",color:"inherit",background:0,opacity:Ce?0:1,width:"100%"},spacingStyle)},Input$1=function Re(Ce){var je=Ce.cx,Be=Ce.value,De=cleanCommonProps(Ce),Fe=De.innerRef,ke=De.isDisabled,Oe=De.isHidden,Me=De.inputClassName,Ue=_objectWithoutProperties$1(De,_excluded$5);return jsx("div",_extends$1({},getStyleProps(Ce,"input",{"input-container":!0}),{"data-value":Be||""}),jsx("input",_extends$1({className:je({input:!0},Me),ref:Fe,style:inputStyle(Oe),disabled:ke},Ue)))},Input$1$1=Input$1,multiValueCSS=function Re(Ce,je){var Be=Ce.theme,De=Be.spacing,Fe=Be.borderRadius,ke=Be.colors;return _objectSpread2({label:"multiValue",display:"flex",minWidth:0},je?{}:{backgroundColor:ke.neutral10,borderRadius:Fe/2,margin:De.baseUnit/2})},multiValueLabelCSS=function Re(Ce,je){var Be=Ce.theme,De=Be.borderRadius,Fe=Be.colors,ke=Ce.cropWithEllipsis;return _objectSpread2({overflow:"hidden",textOverflow:ke||ke===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},je?{}:{borderRadius:De/2,color:Fe.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemoveCSS=function Re(Ce,je){var Be=Ce.theme,De=Be.spacing,Fe=Be.borderRadius,ke=Be.colors,Oe=Ce.isFocused;return _objectSpread2({alignItems:"center",display:"flex"},je?{}:{borderRadius:Fe/2,backgroundColor:Oe?ke.dangerLight:void 0,paddingLeft:De.baseUnit,paddingRight:De.baseUnit,":hover":{backgroundColor:ke.dangerLight,color:ke.danger}})},MultiValueGeneric=function Re(Ce){var je=Ce.children,Be=Ce.innerProps;return jsx("div",Be,je)},MultiValueContainer=MultiValueGeneric,MultiValueLabel=MultiValueGeneric;function MultiValueRemove(Re){var Ce=Re.children,je=Re.innerProps;return jsx("div",_extends$1({role:"button"},je),Ce||jsx(CrossIcon,{size:14}))}var MultiValue=function Re(Ce){var je=Ce.children,Be=Ce.components,De=Ce.data,Fe=Ce.innerProps,ke=Ce.isDisabled,Oe=Ce.removeProps,Me=Ce.selectProps,Ue=Be.Container,$e=Be.Label,He=Be.Remove;return jsx(Ue,{data:De,innerProps:_objectSpread2(_objectSpread2({},getStyleProps(Ce,"multiValue",{"multi-value":!0,"multi-value--is-disabled":ke})),Fe),selectProps:Me},jsx($e,{data:De,innerProps:_objectSpread2({},getStyleProps(Ce,"multiValueLabel",{"multi-value__label":!0})),selectProps:Me},je),jsx(He,{data:De,innerProps:_objectSpread2(_objectSpread2({},getStyleProps(Ce,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(je||"option")},Oe),selectProps:Me}))},MultiValue$1=MultiValue,optionCSS=function Re(Ce,je){var Be=Ce.isDisabled,De=Ce.isFocused,Fe=Ce.isSelected,ke=Ce.theme,Oe=ke.spacing,Me=ke.colors;return _objectSpread2({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},je?{}:{backgroundColor:Fe?Me.primary:De?Me.primary25:"transparent",color:Be?Me.neutral20:Fe?Me.neutral0:"inherit",padding:"".concat(Oe.baseUnit*2,"px ").concat(Oe.baseUnit*3,"px"),":active":{backgroundColor:Be?void 0:Fe?Me.primary:Me.primary50}})},Option=function Re(Ce){var je=Ce.children,Be=Ce.isDisabled,De=Ce.isFocused,Fe=Ce.isSelected,ke=Ce.innerRef,Oe=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"option",{option:!0,"option--is-disabled":Be,"option--is-focused":De,"option--is-selected":Fe}),{ref:ke,"aria-disabled":Be},Oe),je)},Option$1=Option,placeholderCSS=function Re(Ce,je){var Be=Ce.theme,De=Be.spacing,Fe=Be.colors;return _objectSpread2({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},je?{}:{color:Fe.neutral50,marginLeft:De.baseUnit/2,marginRight:De.baseUnit/2})},Placeholder=function Re(Ce){var je=Ce.children,Be=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"placeholder",{placeholder:!0}),Be),je)},Placeholder$1=Placeholder,css2=function Re(Ce,je){var Be=Ce.isDisabled,De=Ce.theme,Fe=De.spacing,ke=De.colors;return _objectSpread2({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},je?{}:{color:Be?ke.neutral40:ke.neutral80,marginLeft:Fe.baseUnit/2,marginRight:Fe.baseUnit/2})},SingleValue=function Re(Ce){var je=Ce.children,Be=Ce.isDisabled,De=Ce.innerProps;return jsx("div",_extends$1({},getStyleProps(Ce,"singleValue",{"single-value":!0,"single-value--is-disabled":Be}),De),je)},SingleValue$1=SingleValue,components={ClearIndicator,Control:Control$1,DropdownIndicator,DownChevron,CrossIcon,Group:Group$1,GroupHeading,IndicatorsContainer,IndicatorSeparator,Input:Input$1$1,LoadingIndicator,Menu:Menu$1$1,MenuList:MenuList$1,MenuPortal,LoadingMessage,NoOptionsMessage,MultiValue:MultiValue$1,MultiValueContainer,MultiValueLabel,MultiValueRemove,Option:Option$1,Placeholder:Placeholder$1,SelectContainer,SingleValue:SingleValue$1,ValueContainer},defaultComponents=function Re(Ce){return _objectSpread2(_objectSpread2({},components),Ce.components)},safeIsNaN=Number.isNaN||function Re(Ce){return typeof Ce=="number"&&Ce!==Ce};function isEqual(Re,Ce){return!!(Re===Ce||safeIsNaN(Re)&&safeIsNaN(Ce))}function areInputsEqual(Re,Ce){if(Re.length!==Ce.length)return!1;for(var je=0;je<Re.length;je++)if(!isEqual(Re[je],Ce[je]))return!1;return!0}function memoizeOne(Re,Ce){Ce===void 0&&(Ce=areInputsEqual);var je=null;function Be(){for(var De=[],Fe=0;Fe<arguments.length;Fe++)De[Fe]=arguments[Fe];if(je&&je.lastThis===this&&Ce(De,je.lastArgs))return je.lastResult;var ke=Re.apply(this,De);return je={lastResult:ke,lastArgs:De,lastThis:this},ke}return Be.clear=function(){je=null},Be}var _ref={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},A11yText=function Re(Ce){return jsx("span",_extends$1({css:_ref},Ce))},A11yText$1=A11yText,defaultAriaLiveMessages={guidance:function Re(Ce){var je=Ce.isSearchable,Be=Ce.isMulti,De=Ce.tabSelectsValue,Fe=Ce.context,ke=Ce.isInitialFocus;switch(Fe){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(De?", press Tab to select the option and exit the menu":"",".");case"input":return ke?"".concat(Ce["aria-label"]||"Select"," is focused ").concat(je?",type to refine list":"",", press Down to open the menu, ").concat(Be?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function Re(Ce){var je=Ce.action,Be=Ce.label,De=Be===void 0?"":Be,Fe=Ce.labels,ke=Ce.isDisabled;switch(je){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(De,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(Fe.length>1?"s":""," ").concat(Fe.join(","),", selected.");case"select-option":return ke?"option ".concat(De," is disabled. Select another option."):"option ".concat(De,", selected.");default:return""}},onFocus:function Re(Ce){var je=Ce.context,Be=Ce.focused,De=Ce.options,Fe=Ce.label,ke=Fe===void 0?"":Fe,Oe=Ce.selectValue,Me=Ce.isDisabled,Ue=Ce.isSelected,$e=Ce.isAppleDevice,He=function(Ke,Xe){return Ke&&Ke.length?"".concat(Ke.indexOf(Xe)+1," of ").concat(Ke.length):""};if(je==="value"&&Oe)return"value ".concat(ke," focused, ").concat(He(Oe,Be),".");if(je==="menu"&&$e){var Qe=Me?" disabled":"",We="".concat(Ue?" selected":"").concat(Qe);return"".concat(ke).concat(We,", ").concat(He(De,Be),".")}return""},onFilter:function Re(Ce){var je=Ce.inputValue,Be=Ce.resultsMessage;return"".concat(Be).concat(je?" for search term "+je:"",".")}},LiveRegion=function Re(Ce){var je=Ce.ariaSelection,Be=Ce.focusedOption,De=Ce.focusedValue,Fe=Ce.focusableOptions,ke=Ce.isFocused,Oe=Ce.selectValue,Me=Ce.selectProps,Ue=Ce.id,$e=Ce.isAppleDevice,He=Me.ariaLiveMessages,Qe=Me.getOptionLabel,We=Me.inputValue,qe=Me.isMulti,Ke=Me.isOptionDisabled,Xe=Me.isSearchable,Ye=Me.menuIsOpen,Ze=Me.options,Je=Me.screenReaderStatus,tr=Me.tabSelectsValue,rr=Me.isLoading,ar=Me["aria-label"],ir=Me["aria-live"],nr=reactExports.useMemo(function(){return _objectSpread2(_objectSpread2({},defaultAriaLiveMessages),He||{})},[He]),cr=reactExports.useMemo(function(){var jr="";if(je&&nr.onChange){var vr=je.option,Tr=je.options,wr=je.removedValue,Er=je.removedValues,Pr=je.value,Mr=function(Qr){return Array.isArray(Qr)?null:Qr},_r=wr||vr||Mr(Pr),Ir=_r?Qe(_r):"",Dr=Tr||Er||void 0,Or=Dr?Dr.map(Qe):[],br=_objectSpread2({isDisabled:_r&&Ke(_r,Oe),label:Ir,labels:Or},je);jr=nr.onChange(br)}return jr},[je,nr,Ke,Oe,Qe]),mr=reactExports.useMemo(function(){var jr="",vr=Be||De,Tr=!!(Be&&Oe&&Oe.includes(Be));if(vr&&nr.onFocus){var wr={focused:vr,label:Qe(vr),isDisabled:Ke(vr,Oe),isSelected:Tr,options:Fe,context:vr===Be?"menu":"value",selectValue:Oe,isAppleDevice:$e};jr=nr.onFocus(wr)}return jr},[Be,De,Qe,Ke,nr,Fe,Oe,$e]),fr=reactExports.useMemo(function(){var jr="";if(Ye&&Ze.length&&!rr&&nr.onFilter){var vr=Je({count:Fe.length});jr=nr.onFilter({inputValue:We,resultsMessage:vr})}return jr},[Fe,We,Ye,nr,Ze,Je,rr]),or=je?.action==="initial-input-focus",yr=reactExports.useMemo(function(){var jr="";if(nr.guidance){var vr=De?"value":Ye?"menu":"input";jr=nr.guidance({"aria-label":ar,context:vr,isDisabled:Be&&Ke(Be,Oe),isMulti:qe,isSearchable:Xe,tabSelectsValue:tr,isInitialFocus:or})}return jr},[ar,Be,De,qe,Ke,Xe,Ye,nr,Oe,tr,or]),Cr=jsx(reactExports.Fragment,null,jsx("span",{id:"aria-selection"},cr),jsx("span",{id:"aria-focused"},mr),jsx("span",{id:"aria-results"},fr),jsx("span",{id:"aria-guidance"},yr));return jsx(reactExports.Fragment,null,jsx(A11yText$1,{id:Ue},or&&Cr),jsx(A11yText$1,{"aria-live":ir,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},ke&&!or&&Cr))},LiveRegion$1=LiveRegion,diacritics=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],anyDiacritic=new RegExp("["+diacritics.map(function(Re){return Re.letters}).join("")+"]","g"),diacriticToBase={};for(var i$1=0;i$1<diacritics.length;i$1++)for(var diacritic=diacritics[i$1],j$1=0;j$1<diacritic.letters.length;j$1++)diacriticToBase[diacritic.letters[j$1]]=diacritic.base;var stripDiacritics=function Re(Ce){return Ce.replace(anyDiacritic,function(je){return diacriticToBase[je]})},memoizedStripDiacriticsForInput=memoizeOne(stripDiacritics),trimString=function Re(Ce){return Ce.replace(/^\s+|\s+$/g,"")},defaultStringify=function Re(Ce){return"".concat(Ce.label," ").concat(Ce.value)},createFilter=function Re(Ce){return function(je,Be){if(je.data.__isNew__)return!0;var De=_objectSpread2({ignoreCase:!0,ignoreAccents:!0,stringify:defaultStringify,trim:!0,matchFrom:"any"},Ce),Fe=De.ignoreCase,ke=De.ignoreAccents,Oe=De.stringify,Me=De.trim,Ue=De.matchFrom,$e=Me?trimString(Be):Be,He=Me?trimString(Oe(je)):Oe(je);return Fe&&($e=$e.toLowerCase(),He=He.toLowerCase()),ke&&($e=memoizedStripDiacriticsForInput($e),He=stripDiacritics(He)),Ue==="start"?He.substr(0,$e.length)===$e:He.indexOf($e)>-1}},_excluded$1=["innerRef"];function DummyInput(Re){var Ce=Re.innerRef,je=_objectWithoutProperties$1(Re,_excluded$1),Be=removeProps(je,"onExited","in","enter","exit","appear");return jsx("input",_extends$1({ref:Ce},Be,{css:css({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cancelScroll=function Re(Ce){Ce.cancelable&&Ce.preventDefault(),Ce.stopPropagation()};function useScrollCapture(Re){var Ce=Re.isEnabled,je=Re.onBottomArrive,Be=Re.onBottomLeave,De=Re.onTopArrive,Fe=Re.onTopLeave,ke=reactExports.useRef(!1),Oe=reactExports.useRef(!1),Me=reactExports.useRef(0),Ue=reactExports.useRef(null),$e=reactExports.useCallback(function(Xe,Ye){if(Ue.current!==null){var Ze=Ue.current,Je=Ze.scrollTop,tr=Ze.scrollHeight,rr=Ze.clientHeight,ar=Ue.current,ir=Ye>0,nr=tr-rr-Je,cr=!1;nr>Ye&&ke.current&&(Be&&Be(Xe),ke.current=!1),ir&&Oe.current&&(Fe&&Fe(Xe),Oe.current=!1),ir&&Ye>nr?(je&&!ke.current&&je(Xe),ar.scrollTop=tr,cr=!0,ke.current=!0):!ir&&-Ye>Je&&(De&&!Oe.current&&De(Xe),ar.scrollTop=0,cr=!0,Oe.current=!0),cr&&cancelScroll(Xe)}},[je,Be,De,Fe]),He=reactExports.useCallback(function(Xe){$e(Xe,Xe.deltaY)},[$e]),Qe=reactExports.useCallback(function(Xe){Me.current=Xe.changedTouches[0].clientY},[]),We=reactExports.useCallback(function(Xe){var Ye=Me.current-Xe.changedTouches[0].clientY;$e(Xe,Ye)},[$e]),qe=reactExports.useCallback(function(Xe){if(Xe){var Ye=supportsPassiveEvents?{passive:!1}:!1;Xe.addEventListener("wheel",He,Ye),Xe.addEventListener("touchstart",Qe,Ye),Xe.addEventListener("touchmove",We,Ye)}},[We,Qe,He]),Ke=reactExports.useCallback(function(Xe){Xe&&(Xe.removeEventListener("wheel",He,!1),Xe.removeEventListener("touchstart",Qe,!1),Xe.removeEventListener("touchmove",We,!1))},[We,Qe,He]);return reactExports.useEffect(function(){if(Ce){var Xe=Ue.current;return qe(Xe),function(){Ke(Xe)}}},[Ce,qe,Ke]),function(Xe){Ue.current=Xe}}var STYLE_KEYS=["boxSizing","height","overflow","paddingRight","position"],LOCK_STYLES={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function preventTouchMove(Re){Re.cancelable&&Re.preventDefault()}function allowTouchMove(Re){Re.stopPropagation()}function preventInertiaScroll(){var Re=this.scrollTop,Ce=this.scrollHeight,je=Re+this.offsetHeight;Re===0?this.scrollTop=1:je===Ce&&(this.scrollTop=Re-1)}function isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),activeScrollLocks=0,listenerOptions={capture:!1,passive:!1};function useScrollLock(Re){var Ce=Re.isEnabled,je=Re.accountForScrollbars,Be=je===void 0?!0:je,De=reactExports.useRef({}),Fe=reactExports.useRef(null),ke=reactExports.useCallback(function(Me){if(canUseDOM){var Ue=document.body,$e=Ue&&Ue.style;if(Be&&STYLE_KEYS.forEach(function(qe){var Ke=$e&&$e[qe];De.current[qe]=Ke}),Be&&activeScrollLocks<1){var He=parseInt(De.current.paddingRight,10)||0,Qe=document.body?document.body.clientWidth:0,We=window.innerWidth-Qe+He||0;Object.keys(LOCK_STYLES).forEach(function(qe){var Ke=LOCK_STYLES[qe];$e&&($e[qe]=Ke)}),$e&&($e.paddingRight="".concat(We,"px"))}Ue&&isTouchDevice()&&(Ue.addEventListener("touchmove",preventTouchMove,listenerOptions),Me&&(Me.addEventListener("touchstart",preventInertiaScroll,listenerOptions),Me.addEventListener("touchmove",allowTouchMove,listenerOptions))),activeScrollLocks+=1}},[Be]),Oe=reactExports.useCallback(function(Me){if(canUseDOM){var Ue=document.body,$e=Ue&&Ue.style;activeScrollLocks=Math.max(activeScrollLocks-1,0),Be&&activeScrollLocks<1&&STYLE_KEYS.forEach(function(He){var Qe=De.current[He];$e&&($e[He]=Qe)}),Ue&&isTouchDevice()&&(Ue.removeEventListener("touchmove",preventTouchMove,listenerOptions),Me&&(Me.removeEventListener("touchstart",preventInertiaScroll,listenerOptions),Me.removeEventListener("touchmove",allowTouchMove,listenerOptions)))}},[Be]);return reactExports.useEffect(function(){if(Ce){var Me=Fe.current;return ke(Me),function(){Oe(Me)}}},[Ce,ke,Oe]),function(Me){Fe.current=Me}}var blurSelectInput=function Re(Ce){var je=Ce.target;return je.ownerDocument.activeElement&&je.ownerDocument.activeElement.blur()},_ref2$1={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function ScrollManager(Re){var Ce=Re.children,je=Re.lockEnabled,Be=Re.captureEnabled,De=Be===void 0?!0:Be,Fe=Re.onBottomArrive,ke=Re.onBottomLeave,Oe=Re.onTopArrive,Me=Re.onTopLeave,Ue=useScrollCapture({isEnabled:De,onBottomArrive:Fe,onBottomLeave:ke,onTopArrive:Oe,onTopLeave:Me}),$e=useScrollLock({isEnabled:je}),He=function(We){Ue(We),$e(We)};return jsx(reactExports.Fragment,null,je&&jsx("div",{onClick:blurSelectInput,css:_ref2$1}),Ce(He))}var _ref2={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},RequiredInput=function Re(Ce){var je=Ce.name,Be=Ce.onFocus;return jsx("input",{required:!0,name:je,tabIndex:-1,"aria-hidden":"true",onFocus:Be,css:_ref2,value:"",onChange:function(){}})},RequiredInput$1=RequiredInput;function testPlatform(Re){var Ce;return typeof window<"u"&&window.navigator!=null?Re.test(((Ce=window.navigator.userAgentData)===null||Ce===void 0?void 0:Ce.platform)||window.navigator.platform):!1}function isIPhone(){return testPlatform(/^iPhone/i)}function isMac(){return testPlatform(/^Mac/i)}function isIPad(){return testPlatform(/^iPad/i)||isMac()&&navigator.maxTouchPoints>1}function isIOS(){return isIPhone()||isIPad()}function isAppleDevice(){return isMac()||isIOS()}var formatGroupLabel=function Re(Ce){return Ce.label},getOptionLabel$1=function Re(Ce){return Ce.label},getOptionValue$1=function Re(Ce){return Ce.value},isOptionDisabled=function Re(Ce){return!!Ce.isDisabled},defaultStyles={clearIndicator:clearIndicatorCSS,container:containerCSS,control:css$1,dropdownIndicator:dropdownIndicatorCSS,group:groupCSS,groupHeading:groupHeadingCSS,indicatorsContainer:indicatorsContainerCSS,indicatorSeparator:indicatorSeparatorCSS,input:inputCSS,loadingIndicator:loadingIndicatorCSS,loadingMessage:loadingMessageCSS,menu:menuCSS,menuList:menuListCSS,menuPortal:menuPortalCSS,multiValue:multiValueCSS,multiValueLabel:multiValueLabelCSS,multiValueRemove:multiValueRemoveCSS,noOptionsMessage:noOptionsMessageCSS,option:optionCSS,placeholder:placeholderCSS,singleValue:css2,valueContainer:valueContainerCSS},colors={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},borderRadius$1=4,baseUnit=4,controlHeight=38,menuGutter=baseUnit*2,spacing={baseUnit,controlHeight,menuGutter},defaultTheme$1={borderRadius:borderRadius$1,colors,spacing},defaultProps$1={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:isTouchCapable(),captureMenuScroll:!isTouchCapable(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:createFilter(),formatGroupLabel,getOptionLabel:getOptionLabel$1,getOptionValue:getOptionValue$1,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled,loadingMessage:function Re(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!isMobileDevice(),noOptionsMessage:function Re(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function Re(Ce){var je=Ce.count;return"".concat(je," result").concat(je!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function toCategorizedOption(Re,Ce,je,Be){var De=_isOptionDisabled(Re,Ce,je),Fe=_isOptionSelected(Re,Ce,je),ke=getOptionLabel2(Re,Ce),Oe=getOptionValue2(Re,Ce);return{type:"option",data:Ce,isDisabled:De,isSelected:Fe,label:ke,value:Oe,index:Be}}function buildCategorizedOptions(Re,Ce){return Re.options.map(function(je,Be){if("options"in je){var De=je.options.map(function(ke,Oe){return toCategorizedOption(Re,ke,Ce,Oe)}).filter(function(ke){return isFocusable(Re,ke)});return De.length>0?{type:"group",data:je,options:De,index:Be}:void 0}var Fe=toCategorizedOption(Re,je,Ce,Be);return isFocusable(Re,Fe)?Fe:void 0}).filter(notNullish)}function buildFocusableOptionsFromCategorizedOptions(Re){return Re.reduce(function(Ce,je){return je.type==="group"?Ce.push.apply(Ce,_toConsumableArray(je.options.map(function(Be){return Be.data}))):Ce.push(je.data),Ce},[])}function buildFocusableOptionsWithIds(Re,Ce){return Re.reduce(function(je,Be){return Be.type==="group"?je.push.apply(je,_toConsumableArray(Be.options.map(function(De){return{data:De.data,id:"".concat(Ce,"-").concat(Be.index,"-").concat(De.index)}}))):je.push({data:Be.data,id:"".concat(Ce,"-").concat(Be.index)}),je},[])}function buildFocusableOptions(Re,Ce){return buildFocusableOptionsFromCategorizedOptions(buildCategorizedOptions(Re,Ce))}function isFocusable(Re,Ce){var je=Re.inputValue,Be=je===void 0?"":je,De=Ce.data,Fe=Ce.isSelected,ke=Ce.label,Oe=Ce.value;return(!shouldHideSelectedOptions(Re)||!Fe)&&_filterOption(Re,{label:ke,value:Oe,data:De},Be)}function getNextFocusedValue(Re,Ce){var je=Re.focusedValue,Be=Re.selectValue,De=Be.indexOf(je);if(De>-1){var Fe=Ce.indexOf(je);if(Fe>-1)return je;if(De<Ce.length)return Ce[De]}return null}function getNextFocusedOption(Re,Ce){var je=Re.focusedOption;return je&&Ce.indexOf(je)>-1?je:Ce[0]}var getFocusedOptionId=function Re(Ce,je){var Be,De=(Be=Ce.find(function(Fe){return Fe.data===je}))===null||Be===void 0?void 0:Be.id;return De||null},getOptionLabel2=function Re(Ce,je){return Ce.getOptionLabel(je)},getOptionValue2=function Re(Ce,je){return Ce.getOptionValue(je)};function _isOptionDisabled(Re,Ce,je){return typeof Re.isOptionDisabled=="function"?Re.isOptionDisabled(Ce,je):!1}function _isOptionSelected(Re,Ce,je){if(je.indexOf(Ce)>-1)return!0;if(typeof Re.isOptionSelected=="function")return Re.isOptionSelected(Ce,je);var Be=getOptionValue2(Re,Ce);return je.some(function(De){return getOptionValue2(Re,De)===Be})}function _filterOption(Re,Ce,je){return Re.filterOption?Re.filterOption(Ce,je):!0}var shouldHideSelectedOptions=function Re(Ce){var je=Ce.hideSelectedOptions,Be=Ce.isMulti;return je===void 0?Be:je},instanceId=1,Select$1=(function(Re){_inherits(je,Re);var Ce=_createSuper(je);function je(Be){var De;if(_classCallCheck(this,je),De=Ce.call(this,Be),De.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},De.blockOptionHover=!1,De.isComposing=!1,De.commonProps=void 0,De.initialTouchX=0,De.initialTouchY=0,De.openAfterFocus=!1,De.scrollToFocusedOptionOnUpdate=!1,De.userIsDragging=void 0,De.controlRef=null,De.getControlRef=function(Me){De.controlRef=Me},De.focusedOptionRef=null,De.getFocusedOptionRef=function(Me){De.focusedOptionRef=Me},De.menuListRef=null,De.getMenuListRef=function(Me){De.menuListRef=Me},De.inputRef=null,De.getInputRef=function(Me){De.inputRef=Me},De.focus=De.focusInput,De.blur=De.blurInput,De.onChange=function(Me,Ue){var $e=De.props,He=$e.onChange,Qe=$e.name;Ue.name=Qe,De.ariaOnChange(Me,Ue),He(Me,Ue)},De.setValue=function(Me,Ue,$e){var He=De.props,Qe=He.closeMenuOnSelect,We=He.isMulti,qe=He.inputValue;De.onInputChange("",{action:"set-value",prevInputValue:qe}),Qe&&(De.setState({inputIsHiddenAfterUpdate:!We}),De.onMenuClose()),De.setState({clearFocusValueOnUpdate:!0}),De.onChange(Me,{action:Ue,option:$e})},De.selectOption=function(Me){var Ue=De.props,$e=Ue.blurInputOnSelect,He=Ue.isMulti,Qe=Ue.name,We=De.state.selectValue,qe=He&&De.isOptionSelected(Me,We),Ke=De.isOptionDisabled(Me,We);if(qe){var Xe=De.getOptionValue(Me);De.setValue(We.filter(function(Ye){return De.getOptionValue(Ye)!==Xe}),"deselect-option",Me)}else if(!Ke)He?De.setValue([].concat(_toConsumableArray(We),[Me]),"select-option",Me):De.setValue(Me,"select-option");else{De.ariaOnChange(Me,{action:"select-option",option:Me,name:Qe});return}$e&&De.blurInput()},De.removeValue=function(Me){var Ue=De.props.isMulti,$e=De.state.selectValue,He=De.getOptionValue(Me),Qe=$e.filter(function(qe){return De.getOptionValue(qe)!==He}),We=valueTernary(Ue,Qe,Qe[0]||null);De.onChange(We,{action:"remove-value",removedValue:Me}),De.focusInput()},De.clearValue=function(){var Me=De.state.selectValue;De.onChange(valueTernary(De.props.isMulti,[],null),{action:"clear",removedValues:Me})},De.popValue=function(){var Me=De.props.isMulti,Ue=De.state.selectValue,$e=Ue[Ue.length-1],He=Ue.slice(0,Ue.length-1),Qe=valueTernary(Me,He,He[0]||null);$e&&De.onChange(Qe,{action:"pop-value",removedValue:$e})},De.getFocusedOptionId=function(Me){return getFocusedOptionId(De.state.focusableOptionsWithIds,Me)},De.getFocusableOptionsWithIds=function(){return buildFocusableOptionsWithIds(buildCategorizedOptions(De.props,De.state.selectValue),De.getElementId("option"))},De.getValue=function(){return De.state.selectValue},De.cx=function(){for(var Me=arguments.length,Ue=new Array(Me),$e=0;$e<Me;$e++)Ue[$e]=arguments[$e];return classNames.apply(void 0,[De.props.classNamePrefix].concat(Ue))},De.getOptionLabel=function(Me){return getOptionLabel2(De.props,Me)},De.getOptionValue=function(Me){return getOptionValue2(De.props,Me)},De.getStyles=function(Me,Ue){var $e=De.props.unstyled,He=defaultStyles[Me](Ue,$e);He.boxSizing="border-box";var Qe=De.props.styles[Me];return Qe?Qe(He,Ue):He},De.getClassNames=function(Me,Ue){var $e,He;return($e=(He=De.props.classNames)[Me])===null||$e===void 0?void 0:$e.call(He,Ue)},De.getElementId=function(Me){return"".concat(De.state.instancePrefix,"-").concat(Me)},De.getComponents=function(){return defaultComponents(De.props)},De.buildCategorizedOptions=function(){return buildCategorizedOptions(De.props,De.state.selectValue)},De.getCategorizedOptions=function(){return De.props.menuIsOpen?De.buildCategorizedOptions():[]},De.buildFocusableOptions=function(){return buildFocusableOptionsFromCategorizedOptions(De.buildCategorizedOptions())},De.getFocusableOptions=function(){return De.props.menuIsOpen?De.buildFocusableOptions():[]},De.ariaOnChange=function(Me,Ue){De.setState({ariaSelection:_objectSpread2({value:Me},Ue)})},De.onMenuMouseDown=function(Me){Me.button===0&&(Me.stopPropagation(),Me.preventDefault(),De.focusInput())},De.onMenuMouseMove=function(Me){De.blockOptionHover=!1},De.onControlMouseDown=function(Me){if(!Me.defaultPrevented){var Ue=De.props.openMenuOnClick;De.state.isFocused?De.props.menuIsOpen?Me.target.tagName!=="INPUT"&&Me.target.tagName!=="TEXTAREA"&&De.onMenuClose():Ue&&De.openMenu("first"):(Ue&&(De.openAfterFocus=!0),De.focusInput()),Me.target.tagName!=="INPUT"&&Me.target.tagName!=="TEXTAREA"&&Me.preventDefault()}},De.onDropdownIndicatorMouseDown=function(Me){if(!(Me&&Me.type==="mousedown"&&Me.button!==0)&&!De.props.isDisabled){var Ue=De.props,$e=Ue.isMulti,He=Ue.menuIsOpen;De.focusInput(),He?(De.setState({inputIsHiddenAfterUpdate:!$e}),De.onMenuClose()):De.openMenu("first"),Me.preventDefault()}},De.onClearIndicatorMouseDown=function(Me){Me&&Me.type==="mousedown"&&Me.button!==0||(De.clearValue(),Me.preventDefault(),De.openAfterFocus=!1,Me.type==="touchend"?De.focusInput():setTimeout(function(){return De.focusInput()}))},De.onScroll=function(Me){typeof De.props.closeMenuOnScroll=="boolean"?Me.target instanceof HTMLElement&&isDocumentElement(Me.target)&&De.props.onMenuClose():typeof De.props.closeMenuOnScroll=="function"&&De.props.closeMenuOnScroll(Me)&&De.props.onMenuClose()},De.onCompositionStart=function(){De.isComposing=!0},De.onCompositionEnd=function(){De.isComposing=!1},De.onTouchStart=function(Me){var Ue=Me.touches,$e=Ue&&Ue.item(0);$e&&(De.initialTouchX=$e.clientX,De.initialTouchY=$e.clientY,De.userIsDragging=!1)},De.onTouchMove=function(Me){var Ue=Me.touches,$e=Ue&&Ue.item(0);if($e){var He=Math.abs($e.clientX-De.initialTouchX),Qe=Math.abs($e.clientY-De.initialTouchY),We=5;De.userIsDragging=He>We||Qe>We}},De.onTouchEnd=function(Me){De.userIsDragging||(De.controlRef&&!De.controlRef.contains(Me.target)&&De.menuListRef&&!De.menuListRef.contains(Me.target)&&De.blurInput(),De.initialTouchX=0,De.initialTouchY=0)},De.onControlTouchEnd=function(Me){De.userIsDragging||De.onControlMouseDown(Me)},De.onClearIndicatorTouchEnd=function(Me){De.userIsDragging||De.onClearIndicatorMouseDown(Me)},De.onDropdownIndicatorTouchEnd=function(Me){De.userIsDragging||De.onDropdownIndicatorMouseDown(Me)},De.handleInputChange=function(Me){var Ue=De.props.inputValue,$e=Me.currentTarget.value;De.setState({inputIsHiddenAfterUpdate:!1}),De.onInputChange($e,{action:"input-change",prevInputValue:Ue}),De.props.menuIsOpen||De.onMenuOpen()},De.onInputFocus=function(Me){De.props.onFocus&&De.props.onFocus(Me),De.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(De.openAfterFocus||De.props.openMenuOnFocus)&&De.openMenu("first"),De.openAfterFocus=!1},De.onInputBlur=function(Me){var Ue=De.props.inputValue;if(De.menuListRef&&De.menuListRef.contains(document.activeElement)){De.inputRef.focus();return}De.props.onBlur&&De.props.onBlur(Me),De.onInputChange("",{action:"input-blur",prevInputValue:Ue}),De.onMenuClose(),De.setState({focusedValue:null,isFocused:!1})},De.onOptionHover=function(Me){if(!(De.blockOptionHover||De.state.focusedOption===Me)){var Ue=De.getFocusableOptions(),$e=Ue.indexOf(Me);De.setState({focusedOption:Me,focusedOptionId:$e>-1?De.getFocusedOptionId(Me):null})}},De.shouldHideSelectedOptions=function(){return shouldHideSelectedOptions(De.props)},De.onValueInputFocus=function(Me){Me.preventDefault(),Me.stopPropagation(),De.focus()},De.onKeyDown=function(Me){var Ue=De.props,$e=Ue.isMulti,He=Ue.backspaceRemovesValue,Qe=Ue.escapeClearsValue,We=Ue.inputValue,qe=Ue.isClearable,Ke=Ue.isDisabled,Xe=Ue.menuIsOpen,Ye=Ue.onKeyDown,Ze=Ue.tabSelectsValue,Je=Ue.openMenuOnFocus,tr=De.state,rr=tr.focusedOption,ar=tr.focusedValue,ir=tr.selectValue;if(!Ke&&!(typeof Ye=="function"&&(Ye(Me),Me.defaultPrevented))){switch(De.blockOptionHover=!0,Me.key){case"ArrowLeft":if(!$e||We)return;De.focusValue("previous");break;case"ArrowRight":if(!$e||We)return;De.focusValue("next");break;case"Delete":case"Backspace":if(We)return;if(ar)De.removeValue(ar);else{if(!He)return;$e?De.popValue():qe&&De.clearValue()}break;case"Tab":if(De.isComposing||Me.shiftKey||!Xe||!Ze||!rr||Je&&De.isOptionSelected(rr,ir))return;De.selectOption(rr);break;case"Enter":if(Me.keyCode===229)break;if(Xe){if(!rr||De.isComposing)return;De.selectOption(rr);break}return;case"Escape":Xe?(De.setState({inputIsHiddenAfterUpdate:!1}),De.onInputChange("",{action:"menu-close",prevInputValue:We}),De.onMenuClose()):qe&&Qe&&De.clearValue();break;case" ":if(We)return;if(!Xe){De.openMenu("first");break}if(!rr)return;De.selectOption(rr);break;case"ArrowUp":Xe?De.focusOption("up"):De.openMenu("last");break;case"ArrowDown":Xe?De.focusOption("down"):De.openMenu("first");break;case"PageUp":if(!Xe)return;De.focusOption("pageup");break;case"PageDown":if(!Xe)return;De.focusOption("pagedown");break;case"Home":if(!Xe)return;De.focusOption("first");break;case"End":if(!Xe)return;De.focusOption("last");break;default:return}Me.preventDefault()}},De.state.instancePrefix="react-select-"+(De.props.instanceId||++instanceId),De.state.selectValue=cleanValue(Be.value),Be.menuIsOpen&&De.state.selectValue.length){var Fe=De.getFocusableOptionsWithIds(),ke=De.buildFocusableOptions(),Oe=ke.indexOf(De.state.selectValue[0]);De.state.focusableOptionsWithIds=Fe,De.state.focusedOption=ke[Oe],De.state.focusedOptionId=getFocusedOptionId(Fe,ke[Oe])}return De}return _createClass(je,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&scrollIntoView(this.menuListRef,this.focusedOptionRef),isAppleDevice()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(De){var Fe=this.props,ke=Fe.isDisabled,Oe=Fe.menuIsOpen,Me=this.state.isFocused;(Me&&!ke&&De.isDisabled||Me&&Oe&&!De.menuIsOpen)&&this.focusInput(),Me&&ke&&!De.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!Me&&!ke&&De.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(scrollIntoView(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(De,Fe){this.props.onInputChange(De,Fe)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(De){var Fe=this,ke=this.state,Oe=ke.selectValue,Me=ke.isFocused,Ue=this.buildFocusableOptions(),$e=De==="first"?0:Ue.length-1;if(!this.props.isMulti){var He=Ue.indexOf(Oe[0]);He>-1&&($e=He)}this.scrollToFocusedOptionOnUpdate=!(Me&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:Ue[$e],focusedOptionId:this.getFocusedOptionId(Ue[$e])},function(){return Fe.onMenuOpen()})}},{key:"focusValue",value:function(De){var Fe=this.state,ke=Fe.selectValue,Oe=Fe.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var Me=ke.indexOf(Oe);Oe||(Me=-1);var Ue=ke.length-1,$e=-1;if(ke.length){switch(De){case"previous":Me===0?$e=0:Me===-1?$e=Ue:$e=Me-1;break;case"next":Me>-1&&Me<Ue&&($e=Me+1);break}this.setState({inputIsHidden:$e!==-1,focusedValue:ke[$e]})}}}},{key:"focusOption",value:function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",Fe=this.props.pageSize,ke=this.state.focusedOption,Oe=this.getFocusableOptions();if(Oe.length){var Me=0,Ue=Oe.indexOf(ke);ke||(Ue=-1),De==="up"?Me=Ue>0?Ue-1:Oe.length-1:De==="down"?Me=(Ue+1)%Oe.length:De==="pageup"?(Me=Ue-Fe,Me<0&&(Me=0)):De==="pagedown"?(Me=Ue+Fe,Me>Oe.length-1&&(Me=Oe.length-1)):De==="last"&&(Me=Oe.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Oe[Me],focusedValue:null,focusedOptionId:this.getFocusedOptionId(Oe[Me])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(defaultTheme$1):_objectSpread2(_objectSpread2({},defaultTheme$1),this.props.theme):defaultTheme$1})},{key:"getCommonProps",value:function(){var De=this.clearValue,Fe=this.cx,ke=this.getStyles,Oe=this.getClassNames,Me=this.getValue,Ue=this.selectOption,$e=this.setValue,He=this.props,Qe=He.isMulti,We=He.isRtl,qe=He.options,Ke=this.hasValue();return{clearValue:De,cx:Fe,getStyles:ke,getClassNames:Oe,getValue:Me,hasValue:Ke,isMulti:Qe,isRtl:We,options:qe,selectOption:Ue,selectProps:He,setValue:$e,theme:this.getTheme()}}},{key:"hasValue",value:function(){var De=this.state.selectValue;return De.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var De=this.props,Fe=De.isClearable,ke=De.isMulti;return Fe===void 0?ke:Fe}},{key:"isOptionDisabled",value:function(De,Fe){return _isOptionDisabled(this.props,De,Fe)}},{key:"isOptionSelected",value:function(De,Fe){return _isOptionSelected(this.props,De,Fe)}},{key:"filterOption",value:function(De,Fe){return _filterOption(this.props,De,Fe)}},{key:"formatOptionLabel",value:function(De,Fe){if(typeof this.props.formatOptionLabel=="function"){var ke=this.props.inputValue,Oe=this.state.selectValue;return this.props.formatOptionLabel(De,{context:Fe,inputValue:ke,selectValue:Oe})}else return this.getOptionLabel(De)}},{key:"formatGroupLabel",value:function(De){return this.props.formatGroupLabel(De)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var De=this.props,Fe=De.isDisabled,ke=De.isSearchable,Oe=De.inputId,Me=De.inputValue,Ue=De.tabIndex,$e=De.form,He=De.menuIsOpen,Qe=De.required,We=this.getComponents(),qe=We.Input,Ke=this.state,Xe=Ke.inputIsHidden,Ye=Ke.ariaSelection,Ze=this.commonProps,Je=Oe||this.getElementId("input"),tr=_objectSpread2(_objectSpread2(_objectSpread2({"aria-autocomplete":"list","aria-expanded":He,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":Qe,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},He&&{"aria-controls":this.getElementId("listbox")}),!ke&&{"aria-readonly":!0}),this.hasValue()?Ye?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return ke?reactExports.createElement(qe,_extends$1({},Ze,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Je,innerRef:this.getInputRef,isDisabled:Fe,isHidden:Xe,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:Ue,form:$e,type:"text",value:Me},tr)):reactExports.createElement(DummyInput,_extends$1({id:Je,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:noop$2,onFocus:this.onInputFocus,disabled:Fe,tabIndex:Ue,inputMode:"none",form:$e,value:""},tr))})},{key:"renderPlaceholderOrValue",value:function(){var De=this,Fe=this.getComponents(),ke=Fe.MultiValue,Oe=Fe.MultiValueContainer,Me=Fe.MultiValueLabel,Ue=Fe.MultiValueRemove,$e=Fe.SingleValue,He=Fe.Placeholder,Qe=this.commonProps,We=this.props,qe=We.controlShouldRenderValue,Ke=We.isDisabled,Xe=We.isMulti,Ye=We.inputValue,Ze=We.placeholder,Je=this.state,tr=Je.selectValue,rr=Je.focusedValue,ar=Je.isFocused;if(!this.hasValue()||!qe)return Ye?null:reactExports.createElement(He,_extends$1({},Qe,{key:"placeholder",isDisabled:Ke,isFocused:ar,innerProps:{id:this.getElementId("placeholder")}}),Ze);if(Xe)return tr.map(function(nr,cr){var mr=nr===rr,fr="".concat(De.getOptionLabel(nr),"-").concat(De.getOptionValue(nr));return reactExports.createElement(ke,_extends$1({},Qe,{components:{Container:Oe,Label:Me,Remove:Ue},isFocused:mr,isDisabled:Ke,key:fr,index:cr,removeProps:{onClick:function(){return De.removeValue(nr)},onTouchEnd:function(){return De.removeValue(nr)},onMouseDown:function(yr){yr.preventDefault()}},data:nr}),De.formatOptionLabel(nr,"value"))});if(Ye)return null;var ir=tr[0];return reactExports.createElement($e,_extends$1({},Qe,{data:ir,isDisabled:Ke}),this.formatOptionLabel(ir,"value"))}},{key:"renderClearIndicator",value:function(){var De=this.getComponents(),Fe=De.ClearIndicator,ke=this.commonProps,Oe=this.props,Me=Oe.isDisabled,Ue=Oe.isLoading,$e=this.state.isFocused;if(!this.isClearable()||!Fe||Me||!this.hasValue()||Ue)return null;var He={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return reactExports.createElement(Fe,_extends$1({},ke,{innerProps:He,isFocused:$e}))}},{key:"renderLoadingIndicator",value:function(){var De=this.getComponents(),Fe=De.LoadingIndicator,ke=this.commonProps,Oe=this.props,Me=Oe.isDisabled,Ue=Oe.isLoading,$e=this.state.isFocused;if(!Fe||!Ue)return null;var He={"aria-hidden":"true"};return reactExports.createElement(Fe,_extends$1({},ke,{innerProps:He,isDisabled:Me,isFocused:$e}))}},{key:"renderIndicatorSeparator",value:function(){var De=this.getComponents(),Fe=De.DropdownIndicator,ke=De.IndicatorSeparator;if(!Fe||!ke)return null;var Oe=this.commonProps,Me=this.props.isDisabled,Ue=this.state.isFocused;return reactExports.createElement(ke,_extends$1({},Oe,{isDisabled:Me,isFocused:Ue}))}},{key:"renderDropdownIndicator",value:function(){var De=this.getComponents(),Fe=De.DropdownIndicator;if(!Fe)return null;var ke=this.commonProps,Oe=this.props.isDisabled,Me=this.state.isFocused,Ue={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return reactExports.createElement(Fe,_extends$1({},ke,{innerProps:Ue,isDisabled:Oe,isFocused:Me}))}},{key:"renderMenu",value:function(){var De=this,Fe=this.getComponents(),ke=Fe.Group,Oe=Fe.GroupHeading,Me=Fe.Menu,Ue=Fe.MenuList,$e=Fe.MenuPortal,He=Fe.LoadingMessage,Qe=Fe.NoOptionsMessage,We=Fe.Option,qe=this.commonProps,Ke=this.state.focusedOption,Xe=this.props,Ye=Xe.captureMenuScroll,Ze=Xe.inputValue,Je=Xe.isLoading,tr=Xe.loadingMessage,rr=Xe.minMenuHeight,ar=Xe.maxMenuHeight,ir=Xe.menuIsOpen,nr=Xe.menuPlacement,cr=Xe.menuPosition,mr=Xe.menuPortalTarget,fr=Xe.menuShouldBlockScroll,or=Xe.menuShouldScrollIntoView,yr=Xe.noOptionsMessage,Cr=Xe.onMenuScrollToTop,jr=Xe.onMenuScrollToBottom;if(!ir)return null;var vr=function(Ir,Dr){var Or=Ir.type,br=Ir.data,Ur=Ir.isDisabled,Qr=Ir.isSelected,zr=Ir.label,Gr=Ir.value,fn=Ke===br,nn=Ur?void 0:function(){return De.onOptionHover(br)},bn=Ur?void 0:function(){return De.selectOption(br)},hn="".concat(De.getElementId("option"),"-").concat(Dr),yn={id:hn,onClick:bn,onMouseMove:nn,onMouseOver:nn,tabIndex:-1,role:"option","aria-selected":De.state.isAppleDevice?void 0:Qr};return reactExports.createElement(We,_extends$1({},qe,{innerProps:yn,data:br,isDisabled:Ur,isSelected:Qr,key:hn,label:zr,type:Or,value:Gr,isFocused:fn,innerRef:fn?De.getFocusedOptionRef:void 0}),De.formatOptionLabel(Ir.data,"menu"))},Tr;if(this.hasOptions())Tr=this.getCategorizedOptions().map(function(_r){if(_r.type==="group"){var Ir=_r.data,Dr=_r.options,Or=_r.index,br="".concat(De.getElementId("group"),"-").concat(Or),Ur="".concat(br,"-heading");return reactExports.createElement(ke,_extends$1({},qe,{key:br,data:Ir,options:Dr,Heading:Oe,headingProps:{id:Ur,data:_r.data},label:De.formatGroupLabel(_r.data)}),_r.options.map(function(Qr){return vr(Qr,"".concat(Or,"-").concat(Qr.index))}))}else if(_r.type==="option")return vr(_r,"".concat(_r.index))});else if(Je){var wr=tr({inputValue:Ze});if(wr===null)return null;Tr=reactExports.createElement(He,qe,wr)}else{var Er=yr({inputValue:Ze});if(Er===null)return null;Tr=reactExports.createElement(Qe,qe,Er)}var Pr={minMenuHeight:rr,maxMenuHeight:ar,menuPlacement:nr,menuPosition:cr,menuShouldScrollIntoView:or},Mr=reactExports.createElement(MenuPlacer,_extends$1({},qe,Pr),function(_r){var Ir=_r.ref,Dr=_r.placerProps,Or=Dr.placement,br=Dr.maxHeight;return reactExports.createElement(Me,_extends$1({},qe,Pr,{innerRef:Ir,innerProps:{onMouseDown:De.onMenuMouseDown,onMouseMove:De.onMenuMouseMove},isLoading:Je,placement:Or}),reactExports.createElement(ScrollManager,{captureEnabled:Ye,onTopArrive:Cr,onBottomArrive:jr,lockEnabled:fr},function(Ur){return reactExports.createElement(Ue,_extends$1({},qe,{innerRef:function(zr){De.getMenuListRef(zr),Ur(zr)},innerProps:{role:"listbox","aria-multiselectable":qe.isMulti,id:De.getElementId("listbox")},isLoading:Je,maxHeight:br,focusedOption:Ke}),Tr)}))});return mr||cr==="fixed"?reactExports.createElement($e,_extends$1({},qe,{appendTo:mr,controlElement:this.controlRef,menuPlacement:nr,menuPosition:cr}),Mr):Mr}},{key:"renderFormField",value:function(){var De=this,Fe=this.props,ke=Fe.delimiter,Oe=Fe.isDisabled,Me=Fe.isMulti,Ue=Fe.name,$e=Fe.required,He=this.state.selectValue;if($e&&!this.hasValue()&&!Oe)return reactExports.createElement(RequiredInput$1,{name:Ue,onFocus:this.onValueInputFocus});if(!(!Ue||Oe))if(Me)if(ke){var Qe=He.map(function(Ke){return De.getOptionValue(Ke)}).join(ke);return reactExports.createElement("input",{name:Ue,type:"hidden",value:Qe})}else{var We=He.length>0?He.map(function(Ke,Xe){return reactExports.createElement("input",{key:"i-".concat(Xe),name:Ue,type:"hidden",value:De.getOptionValue(Ke)})}):reactExports.createElement("input",{name:Ue,type:"hidden",value:""});return reactExports.createElement("div",null,We)}else{var qe=He[0]?this.getOptionValue(He[0]):"";return reactExports.createElement("input",{name:Ue,type:"hidden",value:qe})}}},{key:"renderLiveRegion",value:function(){var De=this.commonProps,Fe=this.state,ke=Fe.ariaSelection,Oe=Fe.focusedOption,Me=Fe.focusedValue,Ue=Fe.isFocused,$e=Fe.selectValue,He=this.getFocusableOptions();return reactExports.createElement(LiveRegion$1,_extends$1({},De,{id:this.getElementId("live-region"),ariaSelection:ke,focusedOption:Oe,focusedValue:Me,isFocused:Ue,selectValue:$e,focusableOptions:He,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var De=this.getComponents(),Fe=De.Control,ke=De.IndicatorsContainer,Oe=De.SelectContainer,Me=De.ValueContainer,Ue=this.props,$e=Ue.className,He=Ue.id,Qe=Ue.isDisabled,We=Ue.menuIsOpen,qe=this.state.isFocused,Ke=this.commonProps=this.getCommonProps();return reactExports.createElement(Oe,_extends$1({},Ke,{className:$e,innerProps:{id:He,onKeyDown:this.onKeyDown},isDisabled:Qe,isFocused:qe}),this.renderLiveRegion(),reactExports.createElement(Fe,_extends$1({},Ke,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Qe,isFocused:qe,menuIsOpen:We}),reactExports.createElement(Me,_extends$1({},Ke,{isDisabled:Qe}),this.renderPlaceholderOrValue(),this.renderInput()),reactExports.createElement(ke,_extends$1({},Ke,{isDisabled:Qe}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(De,Fe){var ke=Fe.prevProps,Oe=Fe.clearFocusValueOnUpdate,Me=Fe.inputIsHiddenAfterUpdate,Ue=Fe.ariaSelection,$e=Fe.isFocused,He=Fe.prevWasFocused,Qe=Fe.instancePrefix,We=De.options,qe=De.value,Ke=De.menuIsOpen,Xe=De.inputValue,Ye=De.isMulti,Ze=cleanValue(qe),Je={};if(ke&&(qe!==ke.value||We!==ke.options||Ke!==ke.menuIsOpen||Xe!==ke.inputValue)){var tr=Ke?buildFocusableOptions(De,Ze):[],rr=Ke?buildFocusableOptionsWithIds(buildCategorizedOptions(De,Ze),"".concat(Qe,"-option")):[],ar=Oe?getNextFocusedValue(Fe,Ze):null,ir=getNextFocusedOption(Fe,tr),nr=getFocusedOptionId(rr,ir);Je={selectValue:Ze,focusedOption:ir,focusedOptionId:nr,focusableOptionsWithIds:rr,focusedValue:ar,clearFocusValueOnUpdate:!1}}var cr=Me!=null&&De!==ke?{inputIsHidden:Me,inputIsHiddenAfterUpdate:void 0}:{},mr=Ue,fr=$e&&He;return $e&&!fr&&(mr={value:valueTernary(Ye,Ze,Ze[0]||null),options:Ze,action:"initial-input-focus"},fr=!He),Ue?.action==="initial-input-focus"&&(mr=null),_objectSpread2(_objectSpread2(_objectSpread2({},Je),cr),{},{prevProps:De,ariaSelection:mr,prevWasFocused:fr})}}]),je})(reactExports.Component);Select$1.defaultProps=defaultProps$1;var StateManagedSelect=reactExports.forwardRef(function(Re,Ce){var je=useStateManager(Re);return reactExports.createElement(Select$1,_extends$1({ref:Ce},je))}),StateManagedSelect$1=StateManagedSelect;const TopSellingProducts=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState([]),{selectedProduct:ke,selectedDate:Oe}=useAnalyticsFilter(),[Me,Ue]=reactExports.useState("chart"),[$e,He]=reactExports.useState(5),[Qe,We]=reactExports.useState(["All"]),[qe,Ke]=reactExports.useState("All"),[Xe,Ye]=reactExports.useState(0),[Ze,Je]=reactExports.useState(!1),[tr,rr]=reactExports.useState({label:"All Time",value:"all"});reactExports.useEffect(()=>{(async()=>{try{const fr=auth$2.currentUser;if(!fr)return;const or=collection(db$2,"businesses",fr.uid,"finalizedInvoices"),yr=await getDocs(or);let Cr=0;yr.forEach(Pr=>{const Mr=Pr.data();(Mr.cartItems||Mr.cart||[]).forEach(Ir=>{const Dr=Number(Ir.quantity||0);isNaN(Dr)||(Cr+=Dr)})}),Ye(Cr);const jr={},vr=new Date,Tr=Pr=>{if(!tr||tr.value==="all")return!0;const Mr=new Date(Pr.toDate?Pr.toDate():Pr),_r=new Date(vr.getFullYear(),vr.getMonth(),vr.getDate());if(tr.value==="today")return Mr.toDateString()===_r.toDateString();if(tr.value==="last7"){const Ir=new Date(_r);return Ir.setDate(Ir.getDate()-6),Mr>=Ir&&Mr<=_r}return tr.value==="month"?Mr.getMonth()===_r.getMonth()&&Mr.getFullYear()===_r.getFullYear():!0};yr.forEach(Pr=>{const Mr=Pr.data(),_r=Mr.cartItems||Mr.cart||[];Tr(Mr.timestamp||Mr.issuedAt)&&_r.forEach(Ir=>{if(ke&&Ir.sku!==ke)return;const Dr=Ir.sku||Ir.name||Ir.id;if(!Dr)return;const Or=Number(Ir.quantity||0);if(Or<=0)return;jr[Dr]||(jr[Dr]={name:Ir.name||"Unnamed",sku:Ir.sku||"-",brand:Ir.brand||"",unit:Ir.unit||"",category:Ir.category||"",quantity:0}),jr[Dr].quantity+=Or,jr[Dr].salesTrend||(jr[Dr].salesTrend=[]);let br=Mr.timestamp||Mr.issuedAt,Ur;br?.toDate?Ur=br.toDate():(typeof br=="string"||typeof br=="number")&&(Ur=new Date(br)),!(!Ur||isNaN(Ur))&&jr[Dr].salesTrend.push({x:Ur.toISOString(),y:Or})})});let wr=Object.values(jr);Qe.includes("All")||Qe.length>0&&(wr=wr.filter(Pr=>Qe.includes(Pr.brand))),qe&&qe!=="All"&&(wr=wr.filter(Pr=>Pr.category===qe)),Be(Array.from(new Set(wr.map(Pr=>Pr.brand))).filter(Pr=>Pr&&Pr!=="")),Fe(Array.from(new Set(wr.map(Pr=>Pr.category))).filter(Pr=>Pr&&Pr!==""));const Er=wr.sort((Pr,Mr)=>Mr.quantity-Pr.quantity).slice(0,$e).map((Pr,Mr)=>({...Pr,rank:Mr+1}));Ce(Er)}catch(fr){console.error("Error fetching top-selling products:",fr)}})()},[ke,Oe,$e,Qe,qe,tr]);const ar=Re.reduce((mr,fr)=>mr+fr.quantity,0),ir={};Re.forEach(mr=>{ir[mr.brand]=(ir[mr.brand]||0)+mr.quantity});const nr=Object.entries(ir).sort((mr,fr)=>fr[1]-mr[1])[0]?.[0]||"N/A",cr={control:(mr,fr)=>({...mr,background:"rgba(255,255,255,0.10)",borderColor:"rgba(255,255,255,0.20)",boxShadow:fr.isFocused?"0 0 0 2px rgba(16,185,129,0.50)":"none",":hover":{borderColor:"rgba(255,255,255,0.30)"},color:"#fff"}),menu:mr=>({...mr,background:"rgba(11,15,20,0.90)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.10)",boxShadow:"0 12px 40px rgba(0,0,0,0.45)",zIndex:1e3}),menuList:mr=>({...mr,padding:4}),option:(mr,fr)=>({...mr,backgroundColor:fr.isSelected?"rgba(16,185,129,0.25)":fr.isFocused?"rgba(255,255,255,0.10)":"transparent",color:"#fff"}),singleValue:mr=>({...mr,color:"#fff"}),multiValue:mr=>({...mr,background:"rgba(255,255,255,0.12)",border:"1px solid rgba(255,255,255,0.20)"}),multiValueLabel:mr=>({...mr,color:"#fff"}),multiValueRemove:mr=>({...mr,color:"#fff",":hover":{background:"rgba(239,68,68,0.30)",color:"#fff"}}),input:mr=>({...mr,color:"#fff"}),placeholder:mr=>({...mr,color:"rgba(255,255,255,0.60)"}),indicatorSeparator:mr=>({...mr,backgroundColor:"rgba(255,255,255,0.20)"}),dropdownIndicator:mr=>({...mr,color:"#fff"}),clearIndicator:mr=>({...mr,color:"#fff"}),valueContainer:mr=>({...mr,paddingTop:2,paddingBottom:2})};return jsxRuntimeExports.jsxs("div",{className:"p-5 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Top Selling Products"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-3 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-white/80",children:"Top N Products:"}),jsxRuntimeExports.jsx("input",{type:"number",min:"1",max:"50",value:$e||"",placeholder:"Enter number",onChange:mr=>{const fr=mr.target.value;if(fr==="")He("");else{const or=Number(fr);isNaN(or)||He(or)}},className:"rounded px-2 py-1 w-24 text-sm bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Filter by Brand:"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{isMulti:!0,options:[{label:"All Brands",value:"All"},...je.map(mr=>({label:mr,value:mr}))],value:Qe.includes("All")?[{label:"All Brands",value:"All"}]:Qe.map(mr=>({label:mr,value:mr})),onChange:mr=>{mr.some(fr=>fr.value==="All")?We(["All"]):We(mr.map(fr=>fr.value))},placeholder:"Select brands...",className:"min-w-[180px] text-sm",styles:cr,classNamePrefix:"rs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Filter by Category:"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"All Categories",value:"All"},...De.map(mr=>({label:mr,value:mr}))],value:qe&&qe!=="All"?{label:qe,value:qe}:{label:"All Categories",value:"All"},onChange:mr=>Ke(mr?mr.value:"All"),placeholder:"Select category...",className:"min-w-[180px] text-sm",styles:cr,classNamePrefix:"rs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Time Range:"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"Today",value:"today"},{label:"Last 7 Days",value:"last7"},{label:"This Month",value:"month"},{label:"All Time",value:"all"}],value:tr?{label:tr.label,value:tr.value}:null,onChange:mr=>rr(mr),placeholder:"Select time range...",className:"min-w-[160px] text-sm",styles:cr,classNamePrefix:"rs"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue(Me==="chart"?"table":"chart"),className:"text-sm px-3 py-1 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:Me==="chart"?"Show as Table":"Show as Chart"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(!Ze),className:"text-sm px-3 py-1 rounded-xl font-medium ml-2 text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:Ze?"Stop Animation":"Play Animation"})]}),Re.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"No data available"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Me==="chart"?jsxRuntimeExports.jsxs(ResponsiveContainer,{width:"100%",height:300,children:[jsxRuntimeExports.jsxs(BarChart,{data:Re,children:[jsxRuntimeExports.jsx(CartesianGrid,{strokeDasharray:"3 3"}),jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{content:({active:mr,payload:fr})=>{if(mr&&fr&&fr.length){const or=fr[0].payload;return jsxRuntimeExports.jsxs("div",{className:"rounded px-3 py-2 text-sm border border-white/10 bg-[#0B0F14]/80 backdrop-blur-xl text-white",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:or.name}),jsxRuntimeExports.jsxs("p",{children:["Brand: ",or.brand]}),jsxRuntimeExports.jsxs("p",{children:["SKU: ",or.sku]}),jsxRuntimeExports.jsxs("p",{children:["Unit: ",or.unit]}),jsxRuntimeExports.jsxs("p",{children:["Items Sold: ",or.quantity]})]})}return null}}),jsxRuntimeExports.jsx(Bar,{dataKey:"quantity",fill:"#4f46e5",radius:[4,4,0,0],isAnimationActive:Ze,children:Re.map(mr=>jsxRuntimeExports.jsx("text",{x:0,y:0,dy:-10,dx:-10,fill:"#4f46e5",fontWeight:"bold",fontSize:14,textAnchor:"middle",children:mr.rank},`rank-${mr.rank}`))})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-between mt-2 px-6",children:Re.map(mr=>jsxRuntimeExports.jsxs("div",{className:"text-white/80 font-bold text-sm",style:{width:`${100/Re.length}%`,textAlign:"center"},children:["#",mr.rank]},mr.rank))})]}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full border border-white/10 bg-white/5 backdrop-blur-xl rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-white/10",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"Rank"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"Items Sold"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-sm font-semibold text-white/80 border-b border-white/10",children:"Sales Trend"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map(mr=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5 border-t border-white/10",children:[jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:mr.rank}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:mr.name}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:mr.sku}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:mr.brand}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:mr.unit}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:mr.quantity}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm border-t border-white/10",children:jsxRuntimeExports.jsx(ResponsiveContainer,{width:80,height:30,children:jsxRuntimeExports.jsx(BarChart,{data:mr.salesTrend||[],children:jsxRuntimeExports.jsx(Bar,{dataKey:"y",fill:"#8884d8"})})})})]},mr.rank))})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 border-t border-white/10 pt-3 text-sm text-white/90 flex justify-between flex-wrap gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Total Items Sold (Filtered):"})," ",ar]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Top Brand:"})," ",nr]})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"All Time Items Sold:"})," ",Xe]})})]})]})]})},ProfitInsights=()=>{const[Re,Ce]=reactExports.useState(!0),[je,Be]=reactExports.useState(0),[De,Fe]=reactExports.useState(0),[ke,Oe]=reactExports.useState([]),[Me,Ue]=reactExports.useState([]),[$e,He]=reactExports.useState([]),[Qe,We]=reactExports.useState("All"),[qe,Ke]=reactExports.useState("All"),[Xe,Ye]=reactExports.useState(null),[Ze,Je]=reactExports.useState(null),[tr,rr]=reactExports.useState(null),[ar,ir]=reactExports.useState(0),[nr,cr]=reactExports.useState({margin:"list",revenue:"list",lowMargin:"list",profit:"list"}),[mr,fr]=reactExports.useState(5),[or,yr]=reactExports.useState(""),[Cr,jr]=reactExports.useState(""),vr={control:(Tr,wr)=>({...Tr,background:"rgba(255,255,255,0.10)",borderColor:"rgba(255,255,255,0.20)",boxShadow:wr.isFocused?"0 0 0 2px rgba(16,185,129,0.50)":"none",":hover":{borderColor:"rgba(255,255,255,0.30)"},color:"#fff"}),menu:Tr=>({...Tr,background:"rgba(11,15,20,0.90)",backdropFilter:"blur(12px)",border:"1px solid rgba(255,255,255,0.10)",boxShadow:"0 12px 40px rgba(0,0,0,0.45)",zIndex:1e3}),menuList:Tr=>({...Tr,padding:4}),option:(Tr,wr)=>({...Tr,backgroundColor:wr.isSelected?"rgba(16,185,129,0.25)":wr.isFocused?"rgba(255,255,255,0.10)":"transparent",color:"#fff"}),singleValue:Tr=>({...Tr,color:"#fff"}),input:Tr=>({...Tr,color:"#fff"}),placeholder:Tr=>({...Tr,color:"rgba(255,255,255,0.60)"}),indicatorSeparator:Tr=>({...Tr,backgroundColor:"rgba(255,255,255,0.20)"}),dropdownIndicator:Tr=>({...Tr,color:"#fff"}),clearIndicator:Tr=>({...Tr,color:"#fff"}),valueContainer:Tr=>({...Tr,paddingTop:2,paddingBottom:2})};return reactExports.useEffect(()=>{(async()=>{Ce(!0);const wr=auth$2.currentUser;if(!wr)return;const Er=collection(db$2,"businesses",wr.uid,"finalizedInvoices"),Pr=collection(db$2,"businesses",wr.uid,"products"),[Mr,_r]=await Promise.all([getDocs(Er),getDocs(Pr)]),Ir={};_r.forEach(Zr=>{Ir[Zr.id]=Zr.data()});const Dr=[...new Set(Object.values(Ir).map(Zr=>Zr.brand).filter(Boolean))],Or=[...new Set(Object.values(Ir).map(Zr=>Zr.category).filter(Boolean))];let br=0,Ur=0;const Qr={};Mr.forEach(Zr=>{const Rn=Zr.data();if(Rn.paymentMode==="credit"&&Rn.isPaid!==!0||or&&new Date(Rn.createdAt)<new Date(or)||Cr&&new Date(Rn.createdAt)>new Date(Cr))return;const ri=Number(Rn.totalAmount)||0;br+=ri,(Array.isArray(Rn.cartItems)?Rn.cartItems:[]).forEach(ti=>{const ei=Ir[ti.id];if(!ei)return;const Gn=Number(ei.costPrice||0),Ei=Number(ti.price||0),Ci=Number(ti.quantity||0),Fi=(Ei-Gn)*Ci,Si=Ei*Ci;Ur+=Fi;const Ti=ti.sku||ti.name;Qr[Ti]||(Qr[Ti]={name:ti.name,sku:ti.sku,brand:ei.brand||"",unit:ei.unit||"",profit:0,revenue:0,margin:0,cost:0}),Qr[Ti].profit+=Fi,Qr[Ti].revenue+=Si,Qr[Ti].cost=Qr[Ti].revenue-Qr[Ti].profit})});const zr=Object.values(Qr).map(Zr=>({...Zr,margin:Zr.revenue>0?Zr.profit/Zr.revenue*100:0})).sort((Zr,Rn)=>Rn.profit-Zr.profit),Gr=zr.reduce((Zr,Rn)=>Zr.margin>Rn.margin?Zr:Rn),fn=zr.reduce((Zr,Rn)=>Zr.revenue>Rn.revenue?Zr:Rn),nn=zr.filter(Zr=>Zr.margin>30).sort((Zr,Rn)=>Zr.revenue-Rn.revenue)[0],yn=zr.slice(0,3).reduce((Zr,Rn)=>Zr+Rn.profit,0)/Ur*100;Be(br),Fe(Ur),Oe(zr),Ye(Gr),Je(fn),rr(nn),ir(yn),Ue(Dr),He(Or),Ce(!1)})()},[or,Cr]),Re?jsxRuntimeExports.jsx("div",{className:"p-5 text-white",children:"Loading Profit Insights..."}):jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-6 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Profit Insights"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-6 items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Top N Products"}),jsxRuntimeExports.jsx("input",{type:"number",min:1,value:mr,onChange:Tr=>fr(Number(Tr.target.value)),className:"rounded px-2 py-1 w-24 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Filter by Brand"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"All Brands",value:"All"},...Me.map(Tr=>({label:Tr,value:Tr}))],value:{label:Qe,value:Qe},onChange:Tr=>We(Tr.value),className:"min-w-[180px] text-sm",styles:vr,classNamePrefix:"rs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"Filter by Category"}),jsxRuntimeExports.jsx(StateManagedSelect$1,{options:[{label:"All Categories",value:"All"},...$e.map(Tr=>({label:Tr,value:Tr}))],value:{label:qe,value:qe},onChange:Tr=>Ke(Tr.value),className:"min-w-[180px] text-sm",styles:vr,classNamePrefix:"rs"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",value:or,onChange:Tr=>yr(Tr.target.value),className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1 text-white/80",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",value:Cr,onChange:Tr=>jr(Tr.target.value),className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-6",children:[{key:"margin",title:" Highest Margin Products",data:[...ke].sort((Tr,wr)=>wr.margin-Tr.margin)},{key:"revenue",title:" Most Revenue Products",data:[...ke].sort((Tr,wr)=>wr.revenue-Tr.revenue)}].map(Tr=>jsxRuntimeExports.jsxs("div",{className:"shadow rounded p-4 bg-white/10 backdrop-blur-xl border border-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-2",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-white",children:Tr.title}),jsxRuntimeExports.jsx("button",{className:"text-sm px-3 py-1 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",onClick:()=>cr(wr=>({...wr,[Tr.key]:wr[Tr.key]==="list"?"chart":"list"})),children:nr[Tr.key]==="list"?" Chart":" List"})]}),nr[Tr.key]==="list"?jsxRuntimeExports.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-1",children:Tr.data.slice(0,mr).map((wr,Er)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center border-b border-white/10 pb-2 hover:bg-white/5 rounded",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-white",children:wr.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/70",children:["Revenue: ",wr.revenue?.toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsxs("p",{className:"font-semibold text-emerald-300",children:["Profit: ",wr.profit?.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/70",children:["Margin: ",wr.margin?.toFixed(1),"%"]})]})]},Er))}):jsxRuntimeExports.jsx(ResponsiveContainer,{width:"100%",height:220,children:jsxRuntimeExports.jsxs(BarChart,{data:Tr.data.slice(0,mr),children:[jsxRuntimeExports.jsx(XAxis,{dataKey:"name"}),jsxRuntimeExports.jsx(YAxis,{}),jsxRuntimeExports.jsx(Tooltip,{}),jsxRuntimeExports.jsx(Bar,{dataKey:"profit",fill:"#22c55e",name:"Profit"})]})})]},Tr.key))}),jsxRuntimeExports.jsxs("p",{className:"text-white",children:[jsxRuntimeExports.jsx("strong",{children:"Total Revenue:"})," ",je.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-white",children:[jsxRuntimeExports.jsx("strong",{children:"Total Profit:"})," ",De.toFixed(2)]}),jsxRuntimeExports.jsxs("p",{className:"text-white",children:[jsxRuntimeExports.jsx("strong",{children:"Profit Margin:"})," ",(De/je*100).toFixed(1),"%"]})]})},InventoryForecast=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState(30);return reactExports.useEffect(()=>{(async()=>{try{const Fe=auth$2.currentUser;if(!Fe)return;const ke=collection(db$2,"businesses",Fe.uid,"finalizedInvoices"),Oe=await getDocs(ke),Me=new Date,Ue=new Date;Ue.setDate(Me.getDate()-je);const $e={};Oe.forEach(Qe=>{const We=Qe.data(),qe=We.createdAt?.toDate?.()??(typeof We.createdAt=="string"||typeof We.createdAt=="number"?new Date(We.createdAt):null);if(!qe||qe<Ue)return;(We.cart||We.cartItems||[]).forEach(Xe=>{const Ye=Xe.inventoryId||Xe.id;Ye&&($e[Ye]||($e[Ye]=0),$e[Ye]+=Number(Xe.quantity||0))})});const He=[];for(const Qe of Object.keys($e)){const We=doc(db$2,"businesses",Fe.uid,"products",Qe),qe=await getDoc(We);if(!qe.exists())continue;const Ke=qe.data(),Xe=Ke.quantity||0,Ye=$e[Qe],Ze=Ye/je,Je=Ze*je,tr=Math.max(0,Je-Xe);He.push({name:Ke.name,sku:Ke.sku,sold:Ye,avgDailySales:Math.round(Ze),currentStock:Xe,recommendedStock:Je,reorderQty:tr})}Ce(He)}catch(Fe){console.error("Error forecasting inventory:",Fe)}})()},[je]),jsxRuntimeExports.jsxs("div",{className:"p-5 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium mr-2 text-white/80",children:"Select Time Range:"}),jsxRuntimeExports.jsxs("select",{value:je,onChange:De=>Be(Number(De.target.value)),className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",children:[jsxRuntimeExports.jsx("option",{value:7,children:"Last 7 Days"}),jsxRuntimeExports.jsx("option",{value:15,children:"Last 15 Days"}),jsxRuntimeExports.jsx("option",{value:30,children:"Last 30 Days"}),jsxRuntimeExports.jsx("option",{value:90,children:"Last 3 Months"}),jsxRuntimeExports.jsx("option",{value:180,children:"Last 6 Months"}),jsxRuntimeExports.jsx("option",{value:365,children:"Last 1 Year"})]})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Inventory Forecast"}),Re.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"No sales data available for the selected period."}):jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border border-white/10 bg-white/5 backdrop-blur-xl rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-white/10 text-left border-b border-white/10",children:[jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80",children:"Sold"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80",children:"Daily Velocity"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80",children:"Stock"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80",children:"Recommended"}),jsxRuntimeExports.jsx("th",{className:"p-2 text-white/80",children:"Reorder"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((De,Fe)=>jsxRuntimeExports.jsxs("tr",{className:"border-b border-white/10 hover:bg-white/5",children:[jsxRuntimeExports.jsxs("td",{className:"p-2 text-white/90",children:[De.name," (",De.sku,")"]}),jsxRuntimeExports.jsx("td",{className:"p-2 text-white/90",children:De.sold}),jsxRuntimeExports.jsx("td",{className:"p-2 text-white/90",children:De.avgDailySales}),jsxRuntimeExports.jsx("td",{className:"p-2 text-white/90",children:De.currentStock}),jsxRuntimeExports.jsx("td",{className:"p-2 text-white/90",children:De.recommendedStock}),jsxRuntimeExports.jsx("td",{className:`p-2 ${De.reorderQty>0?"text-rose-300 font-semibold":"text-white/60"}`,children:De.reorderQty})]},Fe))})]})]})},InvoiceTypeBreakdown=()=>{const[Re,Ce]=reactExports.useState({});return reactExports.useEffect(()=>{(async()=>{try{const Be=auth$2.currentUser;if(!Be)return;const De=collection(db$2,"businesses",Be.uid,"finalizedInvoices"),Fe=await getDocs(De),ke={};Fe.forEach(Oe=>{const Ue=Oe.data().invoiceType||"Unspecified";ke[Ue]||(ke[Ue]=0),ke[Ue]+=1}),Ce(ke)}catch(Be){console.error("Error fetching invoice type breakdown:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-5 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Invoice Type Breakdown"}),Object.keys(Re).length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"No invoices found."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside space-y-1 marker:text-emerald-300",children:Object.entries(Re).map(([je,Be],De)=>jsxRuntimeExports.jsxs("li",{className:"text-white/90",children:[je,": ",Be," invoice",Be>1?"s":""]},De))})]})},SalesGrowthHeatmap=()=>{const[Re,Ce]=reactExports.useState({});return reactExports.useEffect(()=>{(async()=>{try{const Be=auth$2.currentUser;if(!Be)return;const De=collection(db$2,"businesses",Be.uid,"finalizedInvoices"),Fe=await getDocs(De),ke={};for(let Oe=0;Oe<30;Oe++){const Me=format(subDays(new Date,Oe),"yyyy-MM-dd");ke[Me]=0}Fe.forEach(Oe=>{const Me=Oe.data();if(!Me.createdAt||!Me.totalAmount)return;const Ue=Me.createdAt.toDate?Me.createdAt.toDate():new Date(Me.createdAt),$e=format(Ue,"yyyy-MM-dd");ke[$e]!==void 0&&(ke[$e]+=Me.totalAmount)}),Ce(ke)}catch(Be){console.error("Error fetching daily sales:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-5 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Sales Growth (Last 30 Days)"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-5 gap-2 text-center text-sm",children:Object.entries(Re).map(([je,Be],De)=>jsxRuntimeExports.jsxs("div",{className:"p-2 rounded border border-white/10 bg-white/5 hover:bg-white/10 transition",children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-white/90",children:format(new Date(je),"MMM d")}),jsxRuntimeExports.jsxs("div",{className:"font-semibold text-emerald-300",children:["",Be.toFixed(0)]})]},De))})]})},SmartSuggestionsPanel=()=>{const[Re,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{try{const Be=auth$2.currentUser;if(!Be)return;const De=collection(db$2,"businesses",Be.uid,"finalizedInvoices"),Fe=collection(db$2,"businesses",Be.uid,"products"),ke=await getDocs(De),Oe=await getDocs(Fe);let Me=0;const Ue={},$e=[];ke.forEach(qe=>{const Ke=qe.data();Me+=Ke.totalAmount||0,(Ke.cart||[]).forEach(Ye=>{const Ze=Ye.sku||Ye.name;Ze&&(Ue[Ze]||(Ue[Ze]=0),Ue[Ze]+=Ye.quantity||0)})}),Oe.forEach(qe=>{const Ke=qe.data();(Ke.quantity||0)<10&&$e.push(Ke.name)});const He=Object.entries(Ue).sort((qe,Ke)=>Ke[1]-qe[1]).slice(0,2).map(([qe,Ke])=>`Consider bundling "${qe}" in offers. High sales volume.`),Qe=$e.map(qe=>`Restock soon: "${qe}" is running low.`),We=[` Total Revenue so far: ${Me.toFixed(0)}.`,...He,...Qe];Ce(We)}catch(Be){console.error("Error generating smart suggestions:",Be)}})()},[]),jsxRuntimeExports.jsxs("div",{className:"p-5 rounded-lg bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Smart Suggestions"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside space-y-1 marker:text-emerald-300",children:[Re.map((je,Be)=>jsxRuntimeExports.jsx("li",{className:"text-white/90",children:je},Be)),Re.length===0&&jsxRuntimeExports.jsx("li",{className:"text-white/70",children:"Generating suggestions..."})]})]})},BusinessAnalytics=()=>jsxRuntimeExports.jsx(AnalyticsFilterProvider,{children:jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-8 text-white",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Business Analytics Dashboard"}),jsxRuntimeExports.jsx(FilterControls,{}),jsxRuntimeExports.jsx(RevenueOverview,{}),jsxRuntimeExports.jsx(TopSellingProducts,{}),jsxRuntimeExports.jsx(ProfitInsights,{}),jsxRuntimeExports.jsx(InventoryForecast,{}),jsxRuntimeExports.jsx(InvoiceTypeBreakdown,{}),jsxRuntimeExports.jsx(SalesGrowthHeatmap,{}),jsxRuntimeExports.jsx(SmartSuggestionsPanel,{})]})}),FilterControls=()=>{const{selectedProduct:Re,setSelectedProduct:Ce,selectedDate:je,setSelectedDate:Be}=useAnalyticsFilter();return jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4 mb-4 p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-white/80",children:"Select Product:"}),jsxRuntimeExports.jsxs("select",{className:"mt-1 block w-60 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:Re||"",onChange:De=>Ce(De.target.value),children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Products"}),jsxRuntimeExports.jsx("option",{value:"SKU1",children:"SKU1"}),jsxRuntimeExports.jsx("option",{value:"SKU2",children:"SKU2"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-white/80",children:"Select Date:"}),jsxRuntimeExports.jsx("input",{type:"date",className:"mt-1 block w-48 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:je||"",onChange:De=>Be(De.target.value)})]})]})},SendRequestModal=({distributor:Re,onClose:Ce})=>{const[je,Be]=reactExports.useState(""),[De,Fe]=reactExports.useState(!1),ke=auth$2.currentUser,Oe=async()=>{if(!ke||!Re?.id){alert("Missing user or distributor info.");return}Fe(!0);const Me=ke.uid,Ue=Re.id,$e=await getDoc(doc(db$2,"businesses",Me)),He=$e.exists()?$e.data():{},Qe={retailerId:Me,retailerName:ke.displayName||"Retailer",businessName:He.businessName||"",ownerName:He.ownerName||"",email:He.email||"",phone:He.phone||"",city:He.city||"",message:je||"",sentAt:serverTimestamp(),status:"pending"};console.log(" Sending request to distributor:",Ue),console.log(" Request payload:",Qe);try{await setDoc(doc(db$2,`businesses/${Ue}/connectionRequests/${Me}`),Qe,{merge:!0}),await setDoc(doc(db$2,`businesses/${Me}/sentRequests/${Ue}`),{distributorId:Ue,distributorName:Re.businessName||Re.displayName||"Distributor",retailerId:Me,message:je||"",sentAt:serverTimestamp(),status:"pending"},{merge:!0}),alert(" Connection request sent!"),Ce()}catch(We){console.error(" Error sending request:",We),alert("Failed to send request. Check console for details.")}finally{Fe(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md w-full max-w-md",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold mb-4",children:["Connect with ",Re.businessName]}),jsxRuntimeExports.jsx("textarea",{className:"w-full border px-3 py-2 rounded mb-4",placeholder:"Optional message...",rows:3,value:je,onChange:Me=>Be(Me.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Ce,className:"px-4 py-2 bg-gray-300 rounded hover:bg-gray-400",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",disabled:De,children:De?"Sending...":"Send Request"})]})]})})},checkIfRequestExists=async(Re,Ce)=>{const je=doc(db$2,"businesses",Re,"sentRequests",Ce),Be=doc(db$2,"businesses",Ce,"connectionRequests",Re),[De,Fe]=await Promise.all([getDoc(je),getDoc(Be)]);if(De.exists()&&Fe.exists()){const ke=De.data().status,Oe=Fe.data().status;return ke==="accepted"&&Oe==="accepted"?"connected":ke||Oe||null}else{if(De.exists())return De.data().status;if(Fe.exists())return Fe.data().status}return null},SearchDistributor=()=>{const[Re,Ce]=reactExports.useState(""),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(!1),[ke,Oe]=reactExports.useState(null),[Me,Ue]=reactExports.useState(!1),$e=async()=>{if(!Re.trim())return;Fe(!0);const He=query(collection(db$2,"businesses"),where("role","==","Distributor"));let Qe=[];try{Qe=await getDocs(He)}catch(Ke){console.error(" Firestore search error:",Ke.message),alert("Permission error or network issue. Please check your Firebase rules or connection."),Fe(!1);return}const We=[],qe=auth$2.currentUser?.uid;for(const Ke of Qe.docs){const Xe=Ke.data(),Ye=Ke.id;if(Xe.businessName?.toLowerCase().includes(Re.toLowerCase())||Xe.ownerName?.toLowerCase().includes(Re.toLowerCase())||Xe.phone?.includes(Re)||Xe.city?.toLowerCase().includes(Re.toLowerCase())||Ye===Re){const Ze=await checkIfRequestExists(qe,Ye);We.push({id:Ye,...Xe,requestStatus:Ze})}}Be(We),Fe(!1)};return jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Search Distributors"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, phone, city or ID",value:Re,onChange:He=>Ce(He.target.value),className:"px-3 py-2 rounded-xl w-full bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("button",{onClick:$e,className:"px-4 py-2 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:De?"Searching...":"Search"})]}),jsxRuntimeExports.jsxs("div",{children:[je.length===0&&!De&&jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"No distributors found."}),je.map(He=>jsxRuntimeExports.jsxs("div",{className:"p-3 rounded-xl mb-2 flex justify-between items-center bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_30px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-white",children:He.businessName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70",children:["Owner: ",He.ownerName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:["City: ",He.city]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:["Phone: ",He.phone]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:["ID: ",He.id]})]}),He.requestStatus==="connected"?jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded text-slate-900 bg-emerald-400",children:"Connected"}):He.requestStatus==="accepted"?jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded text-slate-900 bg-emerald-300",children:"Accepted"}):He.requestStatus==="pending"?jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded bg-white/20 text-white/80",children:"Request Sent"}):jsxRuntimeExports.jsx("button",{onClick:()=>{Oe(He),Ue(!0)},className:"px-3 py-1 rounded-lg font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"Send Request"})]},He.id))]}),Me&&ke&&jsxRuntimeExports.jsx(SendRequestModal,{distributor:ke,onClose:()=>{Ue(!1),Oe(null)}})]})},ViewSentRequests=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState(!1),De=auth$2.currentUser;return reactExports.useEffect(()=>{if(!De)return;const Fe=collection(db$2,`businesses/${De.uid}/sentRequests`),ke=onSnapshot(Fe,Oe=>{const Me=Oe.docs.map(Ue=>({id:Ue.id,...Ue.data()}));Ce(Me)});return()=>ke()},[De]),jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Your Sent Distributor Requests"}),je?jsxRuntimeExports.jsx("p",{className:"text-white/80",children:"Loading..."}):Re.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70",children:"You havent sent any requests yet."}):jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:Re.map(Fe=>jsxRuntimeExports.jsxs("li",{className:"p-4 rounded-xl flex justify-between items-center bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_30px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-white",children:Fe.distributorName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70",children:["Distributor ID: ",Fe.distributorId]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:["Status: ",Fe.status]})]}),Fe.status==="pending"&&jsxRuntimeExports.jsx("button",{disabled:!0,className:"px-3 py-1 rounded-lg bg-white/20 text-white/80 cursor-not-allowed",children:"Pending"}),Fe.status==="active"&&jsxRuntimeExports.jsx("span",{className:"px-3 py-1 rounded-lg text-slate-900 bg-emerald-400",children:"Connected"})]},Fe.id))})]})};function EstimateNotice({className:Re=""}){return jsxRuntimeExports.jsx("div",{className:"rounded-xl border border-amber-300/40 bg-amber-50/70 text-amber-900 p-3 md:p-4 text-sm md:text-[15px] "+Re,role:"status","aria-live":"polite",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 mt-0.5 opacity-80","aria-hidden":!0,children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M10.29 3.86a2.25 2.25 0 0 1 3.42 0l7.133 8.4c1.24 1.46.187 3.74-1.71 3.74H4.867c-1.897 0-2.95-2.28-1.71-3.74l7.133-8.4zM12 9.75a.75.75 0 0 0-.75.75v4.5a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75zm0 8.25a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8z",clipRule:"evenodd"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:"Estimate shown (pretax & precharges)"}),jsxRuntimeExports.jsxs("p",{className:"opacity-80 leading-relaxed",children:["Distributor may add ",jsxRuntimeExports.jsx("b",{children:"GST"}),", ",jsxRuntimeExports.jsx("b",{children:"delivery"}),", ",jsxRuntimeExports.jsx("b",{children:"packing"}),", ",jsxRuntimeExports.jsx("b",{children:"insurance"}),", or",jsxRuntimeExports.jsx("b",{children:" discounts"})," in the ",jsxRuntimeExports.jsx("b",{children:"Proforma"}),". Youll receive a final amount to review and approve before dispatch."]})]})]})})}function toNum$1(Re,Ce=0){const je=Number(Re);return Number.isFinite(je)?je:Ce}function round2(Re){return Math.round((Re+Number.EPSILON)*100)/100}function calculateEstimate(Re=[]){let Ce=0;return{items:Re.map((Be={})=>{const De=round2(toNum$1(Be.qty)),Fe=round2(toNum$1(Be.price)),ke=round2(toNum$1(Be.itemDiscountPct)),Oe=round2(De*Fe),Me=round2(Oe*ke/100),Ue=round2(Oe-Me);return Ce=round2(Ce+Ue),{inventoryId:Be.inventoryId,name:Be.name,sku:Be.sku,hsn:Be.hsn,uom:Be.uom,imageUrl:Be.imageUrl,qty:De,price:Fe,itemDiscountPct:ke,gross:Oe,discountAmount:Me,taxable:Ue}}),subtotal:Ce}}const RetailerOrderRequestForm=({distributorId:Re})=>{const[Ce,je]=reactExports.useState([]),[Be,De]=reactExports.useState(!1),[Fe,ke]=reactExports.useState([]),[Oe,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState("COD"),[He,Qe]=reactExports.useState(15),[We,qe]=reactExports.useState({advance:"",balance:""});reactExports.useEffect(()=>{if(!Re)return;const Ze=query(collection(db$2,"businesses",Re,"products")),Je=onSnapshot(Ze,tr=>{const rr=tr.docs.map(ar=>({id:ar.id,...ar.data()}));ke(rr)});return()=>Je()},[Re]);const Ke=(Ze,Je,tr)=>{const rr=[...Ce];if(rr[Ze][Je]=tr,je(rr),Je==="productName"){const ar=tr.toLowerCase(),ir=Fe.filter(nr=>nr.productName?.toLowerCase().includes(ar)||nr.sku?.toLowerCase().includes(ar)||nr.brand?.toLowerCase().includes(ar)||nr.category?.toLowerCase().includes(ar)||nr.unit?.toLowerCase().includes(ar)||(nr.sellingPrice+"").includes(ar));Me(ir)}},Xe=()=>{je([...Ce,{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])},Ye=async()=>{const Ze=auth$2.currentUser;if(!(!Ze||!Re||Ce.length===0))try{De(!0);const Je=Ce.map(yr=>({inventoryId:yr.distributorProductId,name:yr.productName,sku:yr.sku,hsn:yr.hsn||void 0,uom:yr.unit||void 0,imageUrl:yr.imageUrl||void 0,qty:Number(yr.quantity||0),price:Number(yr.unitPrice||0),itemDiscountPct:Number(yr.itemDiscountPct||0)})),tr=calculateEstimate(Je),rr=Ce.reduce((yr,Cr)=>{const jr=parseFloat(Cr.quantity)||0,vr=parseFloat(Cr.unitPrice)||0;return yr+jr*vr},0),ar=await getDoc(doc(db$2,"businesses",Re)),ir=ar.exists()?ar.data():{},nr=ir.phone||"",cr=ir.email||"",mr=collection(db$2,`businesses/${Re}/orderRequests`),fr=await addDoc(mr,{retailerId:Ze.uid,distributorId:Re,items:Ce,totalAmount:rr,paymentMode:Ue,creditDays:Ue==="Credit Cycle"?He:null,splitPayment:Ue==="Split Payment"?We:null,status:"Requested",timestamp:serverTimestamp(),distributorName:ir.businessName||ir.ownerName||"",distributorCity:ir.city||"",distributorState:ir.state||"",distributorPhone:nr,distributorEmail:cr,estimate:{subtotal:tr.subtotal,lines:tr.items.map(({qty:yr,price:Cr,itemDiscountPct:jr,gross:vr,discountAmount:Tr,taxable:wr})=>({qty:yr,price:Cr,itemDiscountPct:jr,gross:vr,discountAmount:Tr,taxable:wr})),note:"Pre-tax estimate. Taxes/charges will be added in Proforma by distributor.",version:1},statusCode:ORDER_STATUSES.REQUESTED}),or=doc(db$2,`businesses/${Ze.uid}/sentOrders/${fr.id}`);await setDoc(or,{retailerId:Ze.uid,distributorId:Re,items:Ce,totalAmount:rr,paymentMode:Ue,creditDays:Ue==="Credit Cycle"?He:null,splitPayment:Ue==="Split Payment"?We:null,status:"Requested",timestamp:serverTimestamp(),distributorName:ir.businessName||ir.ownerName||"",distributorCity:ir.city||"",distributorState:ir.state||"",distributorPhone:nr,distributorEmail:cr,estimate:{subtotal:tr.subtotal,lines:tr.items.map(({qty:yr,price:Cr,itemDiscountPct:jr,gross:vr,discountAmount:Tr,taxable:wr})=>({qty:yr,price:Cr,itemDiscountPct:jr,gross:vr,discountAmount:Tr,taxable:wr})),note:"Pre-tax estimate. Taxes/charges will be added in Proforma by distributor.",version:1},statusCode:ORDER_STATUSES.REQUESTED}),y$2.success("Order request sent successfully!"),je([{productName:"",sku:"",brand:"",category:"",quantity:"",unit:"",description:"",notes:"",unitPrice:""}])}catch(Je){console.error("Error sending order:",Je),alert("Failed to send order request.")}finally{De(!1)}};return jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Send Order Request"}),jsxRuntimeExports.jsxs("div",{className:"mb-4 relative",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:" Search product by name, SKU, brand, etc.",className:"w-full px-4 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 shadow-sm",onChange:Ze=>{const Je=Ze.target.value.toLowerCase();if(Je.trim()===""){Me([]);return}const tr=Fe.filter(rr=>rr.productName?.toLowerCase().includes(Je)||rr.sku?.toLowerCase().includes(Je)||rr.brand?.toLowerCase().includes(Je)||rr.category?.toLowerCase().includes(Je)||(rr.sellingPrice+"").includes(Je));Me(tr)}}),Oe.length>0&&jsxRuntimeExports.jsx("ul",{className:"absolute left-0 right-0 mt-1 max-h-60 overflow-y-auto text-sm z-50 rounded-xl border border-white/10 bg-[#0B0F14]/90 backdrop-blur-xl shadow-[0_12px_40px_rgba(0,0,0,0.45)]",children:Oe.map(Ze=>jsxRuntimeExports.jsxs("li",{className:"px-3 py-2 cursor-pointer border-b border-white/10 hover:bg-white/10",onClick:()=>{if(Ce.some(tr=>tr.sku===Ze.sku)){y$2.warning("Item already added to cart.");return}je([...Ce,{productName:Ze.productName,sku:Ze.sku,brand:Ze.brand,category:Ze.category,quantity:"",unit:Ze.unit||"",description:"",notes:"",unitPrice:Ze.sellingPrice||"",available:Ze.quantity,distributorProductId:Ze.id}]),Me([])},children:[jsxRuntimeExports.jsx("div",{className:"font-semibold",children:Ze.productName}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-white/70 flex flex-wrap gap-2",children:[jsxRuntimeExports.jsxs("span",{children:["Brand: ",Ze.brand||""]}),jsxRuntimeExports.jsxs("span",{children:["SKU: ",Ze.sku||""]}),jsxRuntimeExports.jsxs("span",{children:["Unit: ",Ze.unit||""]}),jsxRuntimeExports.jsxs("span",{children:["Price: ",Ze.sellingPrice||""]}),jsxRuntimeExports.jsxs("span",{className:`font-semibold ${Ze.quantity===0?"text-rose-300":Ze.quantity<=10?"text-amber-300":"text-emerald-300"}`,children:["In Stock: ",Ze.quantity]})]})]},Ze.id))})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{className:"font-medium mr-2 text-white/80",children:"Payment Mode:"}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:Ue,onChange:Ze=>$e(Ze.target.value),children:[jsxRuntimeExports.jsx("option",{value:"COD",children:"Cash on Delivery"}),jsxRuntimeExports.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),jsxRuntimeExports.jsx("option",{value:"Credit Cycle",children:"Credit Cycle"}),jsxRuntimeExports.jsx("option",{value:"Post-Sale Payment",children:"Post-Sale Payment"}),jsxRuntimeExports.jsx("option",{value:"Split Payment",children:"Split Payment"}),jsxRuntimeExports.jsx("option",{value:"Monthly Ledger",children:"Monthly Credit Statement"})]}),Ue==="Credit Cycle"&&jsxRuntimeExports.jsx("input",{type:"number",className:"ml-4 px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"Credit days",value:He,onChange:Ze=>Qe(Ze.target.value)}),Ue==="Split Payment"&&jsxRuntimeExports.jsxs("div",{className:"ml-4 flex gap-2 mt-2",children:[jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Advance %",className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:We.advance,onChange:Ze=>qe({...We,advance:Ze.target.value})}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Balance %",className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:We.balance,onChange:Ze=>qe({...We,balance:Ze.target.value})})]})]}),Ce.map((Ze,Je)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-9 gap-2 mb-2 items-center",children:[jsxRuntimeExports.jsx("div",{className:"relative flex-grow",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Product Name",className:"px-3 py-2 rounded-xl w-full bg-white/10 cursor-not-allowed text-white/80 border border-white/20",value:Ze.productName,disabled:!0})}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"SKU",className:"px-3 py-2 rounded-xl bg-white/10 cursor-not-allowed text-white/80 border border-white/20",value:Ze.sku,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Brand",className:"px-3 py-2 rounded-xl bg-white/10 cursor-not-allowed text-white/80 border border-white/20",value:Ze.brand,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Category",className:"px-3 py-2 rounded-xl bg-white/10 cursor-not-allowed text-white/80 border border-white/20",value:Ze.category,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Quantity",className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:Ze.quantity,onChange:tr=>Ke(Je,"quantity",tr.target.value)}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Unit (e.g., kg)",className:"px-3 py-2 rounded-xl bg-white/10 cursor-not-allowed text-white/80 border border-white/20",value:Ze.unit,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"number",placeholder:"Price ()",className:"px-3 py-2 rounded-xl bg-white/10 cursor-not-allowed text-white/80 border border-white/20",value:Ze.unitPrice,disabled:!0}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Description",className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:Ze.description,onChange:tr=>Ke(Je,"description",tr.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Notes",className:"px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 w-full",value:Ze.notes,onChange:tr=>Ke(Je,"notes",tr.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>{const tr=Ce.filter((rr,ar)=>ar!==Je);je(tr)},className:"text-rose-300 hover:text-rose-200 text-sm",title:"Remove Row",children:""})]})]},Je)),jsxRuntimeExports.jsx("button",{onClick:Xe,className:"mb-4 px-3 py-1 rounded-xl text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"+ Add Item"}),jsxRuntimeExports.jsx(EstimateNotice,{className:"mb-3"}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold text-lg mb-3 text-white",children:["Estimate (pre-tax): ",Ce.reduce((Ze,Je)=>Ze+parseFloat(Je.unitPrice||0)*parseFloat(Je.quantity||0),0).toFixed(2)]}),jsxRuntimeExports.jsx("button",{onClick:Ye,disabled:Be||!Re,className:"block w-full py-2 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 disabled:opacity-60 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:Be?"Sending Order...":"Send Order"})]})},checkRetailerConnected=async(Re,Ce)=>{const je=doc(db$2,"businesses",Ce,"connectedRetailers",Re);return(await getDoc(je)).exists()},SmartAssistant=({distributor:Re})=>{reactExports.useEffect(()=>{console.log(" SmartAssistant Debug:"),console.log("Retailer UID (auth):",auth$2.currentUser?.uid),console.log("Distributor ID (prop):",Re?.id)},[Re]);const[Ce,je]=reactExports.useState([]),[Be,De]=reactExports.useState(""),[Fe,ke]=reactExports.useState(""),[Oe,Me]=reactExports.useState(!1),[Ue,$e]=reactExports.useState([]),[He,Qe]=reactExports.useState(""),We=reactExports.useRef(null),qe=auth$2.currentUser?.uid,Ke=Re?.id;reactExports.useEffect(()=>{if(!qe||!Ke)return;const Ye=collection(db$2,"businesses",Ke,"connectedRetailers",qe,"assistantChats"),Ze=query(Ye,orderBy$1("timestamp")),Je=onSnapshot(Ze,tr=>{const rr=tr.docs.map(ar=>({id:ar.id,...ar.data()}));je(rr)});return()=>Je()},[qe,Ke]),reactExports.useEffect(()=>{if(!qe||!Ke)return;const Ye=query(collection(db$2,"assistantQueries"),orderBy$1("timestamp","desc")),Ze=onSnapshot(Ye,Je=>{const tr=Je.docs.find(rr=>rr.data().userId===qe&&rr.data().distributorId===Ke&&rr.data().source==="SmartAssistant"&&rr.data().reply);if(tr){const rr=tr.data().reply;if(!Ce.some(ir=>ir.message===rr&&ir.sender==="assistant")){const ir={id:`reply-${tr.id}`,message:rr,sender:"assistant",timestamp:tr.data().timestamp};je(nr=>[...nr,ir]),Me(!1)}}});return()=>Ze()},[qe,Ke,Ce]),reactExports.useEffect(()=>{const Ye=setTimeout(()=>{Qe(Be.trim())},300);return()=>clearTimeout(Ye)},[Be]),reactExports.useEffect(()=>{if(!He||!Ke){$e([]);return}(async()=>{if(!await checkRetailerConnected(qe,Ke)){$e([]);return}const Je=query(collection(db$2,"businesses",Ke,"products"));try{const rr=(await __vitePreload(async()=>{const{getDocs:ar}=await Promise.resolve().then(()=>index_esm$1);return{getDocs:ar}},void 0,import.meta.url).then(({getDocs:ar})=>ar(Je))).docs.map(ar=>ar.data().name).filter(ar=>ar?.toLowerCase().includes(He.toLowerCase()));$e(rr.slice(0,5))}catch(tr){console.error("Suggestion fetch error:",tr),$e([])}})()},[He,Ke]);const Xe=async()=>{if(!Be.trim())return;if(!qe||!Ke){console.error("Missing retailerId or distributorId");return}const Ye={message:Be.trim(),sender:"retailer",timestamp:serverTimestamp()};try{await addDoc(collection(db$2,"businesses",Ke,"connectedRetailers",qe,"assistantChats"),Ye),await addDoc(collection(db$2,"assistantQueries"),{prompt:Be.trim(),timestamp:serverTimestamp(),userId:qe,distributorId:Ke,role:"retailer",source:"SmartAssistant"}),De(""),Me(!0)}catch(Ze){console.error("Failed to send message:",Ze.message)}};return reactExports.useEffect(()=>{We.current?.scrollIntoView({behavior:"smooth"})},[Ce]),jsxRuntimeExports.jsxs("div",{className:"h-[500px] flex flex-col p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-h-0 overflow-y-auto overscroll-contain space-y-2 mb-4 flex flex-col",children:[Ce.map(Ye=>jsxRuntimeExports.jsxs("div",{className:`p-2 max-w-[75%] rounded-xl shadow inline-block ${Ye.sender==="retailer"?"self-end text-right bg-emerald-400/15 border border-emerald-300/20":"self-start text-left bg-white/10 border border-white/10"}`,children:[jsxRuntimeExports.jsx("p",{className:"text-sm",children:Ye.message}),Ye.sender==="assistant"&&Ye.timestamp&&jsxRuntimeExports.jsx("p",{className:"text-[10px] text-white/60 mt-1",children:" Delivered"})]},Ye.id)),Oe&&jsxRuntimeExports.jsx("div",{className:"p-2 max-w-[75%] rounded-xl bg-white/10 border border-white/10 self-start text-left animate-pulse",children:jsxRuntimeExports.jsx("p",{className:"text-sm italic text-white/70",children:"Assistant is typing..."})}),jsxRuntimeExports.jsx("div",{ref:We})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 relative",children:[jsxRuntimeExports.jsx("input",{type:"text",className:"flex-1 px-3 py-2 text-sm rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"Ask something...",value:Be,onChange:Ye=>De(Ye.target.value),onKeyDown:Ye=>Ye.key==="Enter"&&Xe()}),jsxRuntimeExports.jsx("button",{onClick:Xe,className:"px-4 py-2 rounded-xl text-sm font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:"Send"}),Ue.length>0&&jsxRuntimeExports.jsx("div",{className:"absolute bottom-14 left-0 right-0 text-sm z-50 rounded-xl border border-white/10 bg-[#0B0F14]/90 backdrop-blur-xl shadow-[0_12px_40px_rgba(0,0,0,0.45)]",children:Ue.map((Ye,Ze)=>jsxRuntimeExports.jsx("div",{onClick:()=>{De(Ye),$e([])},className:"px-3 py-2 hover:bg-white/10 cursor-pointer text-white",children:Ye},Ze))})]})]})},ConnectedDistributorPanel=({distributor:Re,onBack:Ce})=>{if(!Re)return console.warn(" No distributor passed to ConnectedDistributorPanel"),jsxRuntimeExports.jsx("div",{className:"p-4 text-red-600",children:"Error: No distributor selected."});const[je,Be]=reactExports.useState("overview"),De=()=>{switch(je){case"overview":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Distributor Overview"}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Name:"})," ",Re?.businessName||Re?.distributorName||Re?.name||Re?.ownerName||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"City:"})," ",Re?.city||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Phone:"})," ",Re?.phone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Email:"})," ",Re?.email||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"ID:"})," ",Re?.id||"N/A"]})]});case"enquiry":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Send Enquiry"}),jsxRuntimeExports.jsx("textarea",{className:"w-full p-3 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",rows:"4",placeholder:"Type your message about item, pricing or availability..."}),jsxRuntimeExports.jsx("button",{className:"mt-2 px-4 py-2 rounded-xl font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]",children:"Send Enquiry"})]});case"order":return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Place Order"}),jsxRuntimeExports.jsx(RetailerOrderRequestForm,{distributorId:Re?.id})]});case"chat":return jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx(SmartAssistant,{distributor:Re})});default:return null}};return jsxRuntimeExports.jsxs("div",{className:"mt-4 p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)] text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-white/10 bg-white/5 rounded-t-xl",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:["Connected to ",Re?.businessName||Re?.distributorName||Re?.name||Re?.ownerName||"N/A"]}),Ce&&jsxRuntimeExports.jsx("button",{onClick:Ce,className:"text-sm text-white/80 hover:text-white","data-testid":"back-to-distributors",children:" Back"})]}),jsxRuntimeExports.jsx("div",{className:"flex border-b border-white/10",children:[{key:"overview",label:"Distributor Overview"},{key:"enquiry",label:"Send Enquiry"},{key:"order",label:"Place Order"},{key:"chat",label:"Smart Assistant"}].map(({key:Fe,label:ke})=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 text-sm capitalize font-medium ${je===Fe?"text-emerald-300 border-b-2 border-emerald-400":"text-white/70 hover:text-white"}`,onClick:()=>Be(Fe),children:ke},Fe))}),jsxRuntimeExports.jsx("div",{children:De()})]})},RetailerConnectedDistributors=({onSelect:Re})=>{const[Ce,je]=reactExports.useState([]),[Be,De]=reactExports.useState(!1),Fe=auth$2.currentUser;reactExports.useEffect(()=>{Fe&&ke()},[Fe]);const ke=async()=>{De(!0);try{const $e=collection(db$2,`businesses/${Fe.uid}/connectedDistributors`),He=await getDocs($e);if(He.empty)console.warn(`[ConnectedDistributors]  No connectedDistributors found for user: ${Fe.uid}`),je([]);else{const We=He.docs.map(qe=>{const Ke=qe.data()||{};return{id:qe.id,distributorName:Ke.distributorName||"Unnamed Distributor",city:Ke.city||"Unknown City",email:Ke.distributorEmail||"Not Provided",phone:Ke.distributorPhone||"Not Provided",distributorOwner:Ke.distributorOwner||"",...Ke}}).sort((qe,Ke)=>{const Xe=qe.distributorName.toLowerCase(),Ye=Ke.distributorName.toLowerCase();return Xe.localeCompare(Ye)});console.log(`[ConnectedDistributors]  Found ${We.length} connected distributors`),je(We)}}catch($e){console.error("[ConnectedDistributors]  Error fetching connected distributors:",$e),je([])}De(!1)},[Oe,Me]=reactExports.useState(null),Ue=async $e=>{try{const He=doc(db$2,"businesses",$e.id),Qe=await getDoc(He);if(Qe.exists()){const We=Qe.data();Me({...$e,...We})}else console.warn(`No profile found for distributor ID: ${$e.id}`),Me($e)}catch(He){console.error("Failed to fetch distributor profile:",He),Me($e)}};return jsxRuntimeExports.jsx("div",{className:"text-white",children:Be?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-white/80",children:"Loading connected distributors..."}):Oe?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("h3",{className:"mb-4 text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:["Distributor: ",Oe?.distributorName||Oe?.id]}),jsxRuntimeExports.jsx(ConnectedDistributorPanel,{distributor:Oe,onBack:()=>Me(null)})]}):Ce.length===0?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-white/70",children:"No connected distributors found."}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"mb-2 text-lg font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"View Connected Distributors"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Ce.map($e=>jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_30px_rgba(0,0,0,0.35)]",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium text-white",children:$e.distributorOwner||$e.distributorName||$e.id}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:$e.city||"City unknown"}),($e.phone||$e.email)&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70 mt-1",children:[$e.phone&&jsxRuntimeExports.jsxs("span",{children:["Phone: ",$e.phone," "]}),$e.email&&jsxRuntimeExports.jsxs("span",{children:["Email: ",$e.email]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue($e),className:"mt-2 text-sm px-3 py-1 rounded-lg font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_6px_20px_rgba(16,185,129,0.35)]",children:"View Details"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-emerald-300 font-semibold",children:"Connected"})]},$e.id))})]})})},AddEmployeeForm=()=>{const[Re,Ce]=reactExports.useState({name:"",email:"",password:"",role:"Staff",phone:""}),[je,Be]=reactExports.useState(!1),De=Oe=>{Ce({...Re,[Oe.target.name]:Oe.target.value})},Fe=()=>"FLYP-"+Math.random().toString(36).substr(2,9).toUpperCase(),ke=async Oe=>{Oe.preventDefault();const{name:Me,email:Ue,password:$e,role:He,phone:Qe}=Re;if(!Me||!Ue||!$e||!Qe)return y$2.error("Please fill all fields");try{Be(!0);const We=auth$2.currentUser;if(!We){y$2.error("User not authenticated. Please log in again.");return}const qe=Fe(),Ke=httpsCallable(functions,"createEmployee");try{const Xe=await Ke({name:Me,email:Ue,password:$e,role:He,retailerId:We.uid,phone:Qe,flypId:qe});if(!Xe.data.success)throw new Error(Xe.data.message||"Failed to create employee");await setDoc(doc(db$2,"employeeIndex",qe),{uid:Xe.data.uid,retailerId:We.uid,email:Ue}),await setDoc(doc(db$2,`businesses/${We.uid}/employees/${Xe.data.uid}`),{name:Me,email:Ue,phone:Qe,role:He,createdAt:new Date,flypId:qe,uid:Xe.data.uid,status:"active"})}catch(Xe){console.error("Callable function error:",Xe),y$2.error(Xe.message||"Failed to create employee via function");return}y$2.success("Employee created successfully!"),Ce({name:"",email:"",password:"",role:"Staff",phone:""})}catch(We){console.error(We),y$2.error(We.message||"Failed to create employee")}finally{Be(!1)}};return jsxRuntimeExports.jsxs("form",{onSubmit:ke,className:"bg-white shadow p-6 rounded-lg w-full max-w-md",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Add Employee"}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Name"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Re.name,onChange:De,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Email"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Re.email,onChange:De,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Password"}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",value:Re.password,onChange:De,className:"w-full border px-3 py-2 rounded",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Phone Number"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",value:Re.phone,onChange:De,className:"w-full border px-3 py-2 rounded",placeholder:"+91XXXXXXXXXX",required:!0})]}),jsxRuntimeExports.jsxs("div",{className:"mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium",children:"Role"}),jsxRuntimeExports.jsxs("select",{name:"role",value:Re.role,onChange:De,className:"w-full border px-3 py-2 rounded",children:[jsxRuntimeExports.jsx("option",{value:"Staff",children:"Staff"}),jsxRuntimeExports.jsx("option",{value:"Manager",children:"Manager"})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:je,className:"bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700",children:je?"Creating...":"Create Employee"})]})};var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded=["attr","size","title"];function _objectWithoutProperties(Re,Ce){if(Re==null)return{};var je=_objectWithoutPropertiesLoose(Re,Ce),Be,De;if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(Re);for(De=0;De<Fe.length;De++)Be=Fe[De],!(Ce.indexOf(Be)>=0)&&Object.prototype.propertyIsEnumerable.call(Re,Be)&&(je[Be]=Re[Be])}return je}function _objectWithoutPropertiesLoose(Re,Ce){if(Re==null)return{};var je={};for(var Be in Re)if(Object.prototype.hasOwnProperty.call(Re,Be)){if(Ce.indexOf(Be)>=0)continue;je[Be]=Re[Be]}return je}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce];for(var Be in je)Object.prototype.hasOwnProperty.call(je,Be)&&(Re[Be]=je[Be])}return Re},_extends.apply(this,arguments)}function ownKeys(Re,Ce){var je=Object.keys(Re);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(Re);Ce&&(Be=Be.filter(function(De){return Object.getOwnPropertyDescriptor(Re,De).enumerable})),je.push.apply(je,Be)}return je}function _objectSpread(Re){for(var Ce=1;Ce<arguments.length;Ce++){var je=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ownKeys(Object(je),!0).forEach(function(Be){_defineProperty(Re,Be,je[Be])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(je)):ownKeys(Object(je)).forEach(function(Be){Object.defineProperty(Re,Be,Object.getOwnPropertyDescriptor(je,Be))})}return Re}function _defineProperty(Re,Ce,je){return Ce=_toPropertyKey(Ce),Ce in Re?Object.defineProperty(Re,Ce,{value:je,enumerable:!0,configurable:!0,writable:!0}):Re[Ce]=je,Re}function _toPropertyKey(Re){var Ce=_toPrimitive(Re,"string");return typeof Ce=="symbol"?Ce:Ce+""}function _toPrimitive(Re,Ce){if(typeof Re!="object"||!Re)return Re;var je=Re[Symbol.toPrimitive];if(je!==void 0){var Be=je.call(Re,Ce);if(typeof Be!="object")return Be;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Ce==="string"?String:Number)(Re)}function Tree2Element(Re){return Re&&Re.map((Ce,je)=>React.createElement(Ce.tag,_objectSpread({key:je},Ce.attr),Tree2Element(Ce.child)))}function GenIcon(Re){return Ce=>React.createElement(IconBase,_extends({attr:_objectSpread({},Re.attr)},Ce),Tree2Element(Re.child))}function IconBase(Re){var Ce=je=>{var{attr:Be,size:De,title:Fe}=Re,ke=_objectWithoutProperties(Re,_excluded),Oe=De||je.size||"1em",Me;return je.className&&(Me=je.className),Re.className&&(Me=(Me?Me+" ":"")+Re.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},je.attr,Be,ke,{className:Me,style:_objectSpread(_objectSpread({color:Re.color||je.color},je.style),Re.style),height:Oe,width:Oe,xmlns:"http://www.w3.org/2000/svg"}),Fe&&React.createElement("title",null,Fe),Re.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,je=>Ce(je)):Ce(DefaultContext)}function FiTrash2(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(Re)}const ViewEmployees=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[ke,Oe]=reactExports.useState(!0),Me=auth$2.currentUser;reactExports.useEffect(()=>{if(!Me)return;const Qe=query(collection(db$2,"businesses",Me.uid,"employees")),We=onSnapshot(Qe,qe=>{const Ke=qe.docs.map(Xe=>({id:Xe.id,...Xe.data()}));Ce(Ke),Be(Ke),Oe(!1)});return()=>We()},[Me]),reactExports.useEffect(()=>{const Qe=De.toLowerCase(),We=Re.filter(qe=>qe.name?.toLowerCase().includes(Qe)||qe.email?.toLowerCase().includes(Qe)||qe.role?.toLowerCase().includes(Qe));Be(We)},[De,Re]);const Ue=async Qe=>{window.confirm("Are you sure you want to delete this employee?")&&(await deleteDoc(doc(db$2,"businesses",Me.uid,"employees",Qe)),y$2.success("Employee deleted successfully"))},$e=async Qe=>{const We=Qe.status==="active"?"inactive":"active";await updateDoc(doc(db$2,"businesses",Me.uid,"employees",Qe.id),{status:We}),y$2.success(`Status changed to ${We}`)},He=Qe=>{if(!Qe?.toDate)return"-";const We=Qe.toDate(),Ke=Math.floor((new Date-We)/1e3);return Ke<60?"Just now":Ke<3600?`${Math.floor(Ke/60)} mins ago`:Ke<86400?We.toLocaleTimeString():We.toLocaleDateString()};return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"View Employees"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, email or role...",value:De,onChange:Qe=>Fe(Qe.target.value),className:"mb-4 w-full px-4 py-2 border border-gray-300 rounded shadow-sm"}),ke?jsxRuntimeExports.jsx("p",{children:"Loading..."}):je.length===0?jsxRuntimeExports.jsx("p",{children:"No employees found."}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-white border border-gray-200 rounded-lg shadow-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100 text-left text-sm font-semibold",children:[jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"FLYP ID"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Phone"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Presence"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Created At"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Login Link"}),jsxRuntimeExports.jsx("th",{className:"py-2 px-4 border-b",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:je.map(Qe=>jsxRuntimeExports.jsxs("tr",{className:"text-sm hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.flypId||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.name||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.email||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.phone||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsxs("select",{value:Qe.role||"",onChange:async We=>{const qe=We.target.value;await updateDoc(doc(db$2,"businesses",Me.uid,"employees",Qe.id),{role:qe}),y$2.success(`Role updated to ${qe}`)},className:"text-sm px-2 py-1 border border-gray-300 rounded",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"Manager",children:"Manager"}),jsxRuntimeExports.jsx("option",{value:"Sales",children:"Sales"}),jsxRuntimeExports.jsx("option",{value:"Inventory",children:"Inventory"}),jsxRuntimeExports.jsx("option",{value:"Admin",children:"Admin"})]})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsx("button",{onClick:()=>$e(Qe),className:`px-2 py-1 rounded text-xs ${Qe.status==="active"?"bg-green-200 text-green-800":"bg-gray-200 text-gray-700"}`,children:Qe.status==="active"?"Active":"Inactive"})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.online?jsxRuntimeExports.jsx("span",{className:"text-green-600 font-medium",children:"Online"}):jsxRuntimeExports.jsxs("span",{className:"text-gray-500 text-xs italic",children:["Last seen: ",He(Qe.lastSeen)]})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.createdAt?.toDate?.().toLocaleDateString()||"-"}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:Qe.flypId?jsxRuntimeExports.jsx("button",{onClick:()=>{const We=`https://flypnow.com/employee-login?uid=${Qe.flypId}`;navigator.clipboard.writeText(We),y$2.success("Login link copied!")},className:"text-blue-600 hover:underline text-sm",children:"Copy Link"}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs italic",children:"No FLYP ID"})}),jsxRuntimeExports.jsx("td",{className:"py-2 px-4 border-b",children:jsxRuntimeExports.jsx("button",{onClick:()=>Ue(Qe.id),className:"text-red-600 hover:text-red-800",children:jsxRuntimeExports.jsx(FiTrash2,{})})})]},Qe.id))})]})})]})},ManageEmployee=()=>{const[Re,Ce]=reactExports.useState("add");return jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-md ${Re==="add"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ce("add"),children:" Add Employee"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-md ${Re==="view"?"bg-blue-600 text-white":"bg-gray-200"}`,onClick:()=>Ce("view"),children:" View Employees"})]}),Re==="add"&&jsxRuntimeExports.jsx(AddEmployeeForm,{}),Re==="view"&&jsxRuntimeExports.jsx(ViewEmployees,{})]})};function FaBoxes(Re){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M560 288h-80v96l-32-21.3-32 21.3v-96h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16zm-384-64h224c8.8 0 16-7.2 16-16V16c0-8.8-7.2-16-16-16h-80v96l-32-21.3L256 96V0h-80c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16zm64 64h-80v96l-32-21.3L96 384v-96H16c-8.8 0-16 7.2-16 16v192c0 8.8 7.2 16 16 16h224c8.8 0 16-7.2 16-16V304c0-8.8-7.2-16-16-16z"},child:[]}]})(Re)}function FaBuilding(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(Re)}function FaChartLine(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(Re)}function FaFileInvoice(Re){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 256H96v64h192v-64zm89-151L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zM64 72c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8V72zm0 64c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16c0 4.42-3.58 8-8 8H72c-4.42 0-8-3.58-8-8v-16zm256 304c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-200v96c0 8.84-7.16 16-16 16H80c-8.84 0-16-7.16-16-16v-96c0-8.84 7.16-16 16-16h224c8.84 0 16 7.16 16 16z"},child:[]}]})(Re)}function FaHome(Re){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(Re)}function FaSignOutAlt(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(Re)}function FaUserPlus(Re){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Re)}function FaUser(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Re)}function FaUsers(Re){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(Re)}const RetailerDashboard=()=>{const[Re,Ce]=reactExports.useState("home"),[je,Be]=reactExports.useState(null),[De,Fe]=reactExports.useState(null),[ke,Oe]=reactExports.useState("add"),[Me,Ue]=reactExports.useState("manual"),[$e,He]=reactExports.useState("all"),[Qe,We]=reactExports.useState({start:null,end:null}),[qe,Ke]=reactExports.useState("search"),[Xe,Ye]=reactExports.useState(!1);reactExports.useEffect(()=>{const rr=new Date;We($e==="month"?{start:startOfMonth(rr),end:endOfMonth(rr)}:$e==="week"?{start:startOfWeek(rr,{weekStartsOn:1}),end:endOfWeek(rr,{weekStartsOn:1})}:{start:null,end:null})},[$e]);const Ze=useNavigate();reactExports.useEffect(()=>{const rr=onAuthStateChanged(auth$2,async ar=>{try{if(ar){const ir=doc(db$2,"businesses",ar.uid),nr=await getDoc(ir);nr.exists()&&Fe({...nr.data(),userId:ar.uid,flypId:nr.data().flypId||ar.uid})}else console.warn("User not authenticated yet.")}catch(ir){console.error("Error fetching user profile:",ir)}});return()=>rr()},[]);const Je=()=>{signOut(auth$2).then(()=>{Ze("/auth?type=login")}).catch(rr=>{console.error("Sign out error:",rr)})},tr=[{id:"home",label:"Home",icon:jsxRuntimeExports.jsx(FaHome,{})},{id:"billing",label:"Billing",icon:jsxRuntimeExports.jsx(FaFileInvoice,{})},{id:"inventory",label:"Inventory",icon:jsxRuntimeExports.jsx(FaBoxes,{})},{id:"analytics",label:"Business Analytics",icon:jsxRuntimeExports.jsx(FaChartLine,{})},{id:"distributors",label:"Distributor Connection",icon:jsxRuntimeExports.jsx(FaBuilding,{})},{id:"orderHistory",label:"Order History",icon:jsxRuntimeExports.jsx(FaFileInvoice,{})},{id:"customers",label:"Customer Analysis",icon:jsxRuntimeExports.jsx(FaUsers,{})},{id:"employees",label:"Manage Employee",icon:jsxRuntimeExports.jsx(FaUserPlus,{})},{id:"profile",label:"Profile Settings",icon:jsxRuntimeExports.jsx(FaUser,{})}];return jsxRuntimeExports.jsxs("div",{className:"flex min-h-screen relative overflow-hidden bg-gradient-to-br from-[#0B0F14] via-[#0D1117] to-[#0B0F14] text-white",children:[jsxRuntimeExports.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-40",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-24 -left-24 w-[60vmax] h-[60vmax] rounded-full blur-3xl bg-gradient-to-tr from-emerald-500/40 via-teal-400/30 to-cyan-400/30"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-24 -right-24 w-[50vmax] h-[50vmax] rounded-full blur-3xl bg-gradient-to-tr from-cyan-500/30 via-sky-400/20 to-emerald-400/30"})]}),Xe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-40 md:hidden",onClick:()=>Ye(!1),children:jsxRuntimeExports.jsxs("div",{className:"w-64 h-full p-4 bg-white/10 backdrop-blur-2xl border border-white/15 shadow-[0_8px_40px_rgba(0,0,0,0.45)]",onClick:rr=>rr.stopPropagation(),children:[jsxRuntimeExports.jsx("div",{className:"text-xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"FLYP"}),tr.map(rr=>jsxRuntimeExports.jsxs("button",{onClick:()=>{Ce(rr.id),Ye(!1)},className:`flex items-center gap-3 px-4 py-2 rounded-lg w-full text-left transition ${Re===rr.id?"bg-emerald-400/20 text-emerald-200 border border-emerald-300/30":"hover:bg-white/10"}`,children:[rr.icon,rr.label]},rr.id))]})}),jsxRuntimeExports.jsxs("div",{className:"hidden md:block w-64 fixed top-0 bottom-0 left-0 z-40 bg-white/10 backdrop-blur-2xl border-r border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.45)]",children:[jsxRuntimeExports.jsx("div",{className:"p-5 text-xl font-bold border-b border-white/10 bg-gradient-to-r from-white/5 to-transparent bg-clip-padding",children:jsxRuntimeExports.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"FLYP"})}),jsxRuntimeExports.jsx("nav",{className:"flex flex-col p-4 gap-2",children:tr.map(rr=>jsxRuntimeExports.jsxs("button",{onClick:()=>Ce(rr.id),className:`flex items-center gap-3 px-4 py-2 rounded-lg text-left transition ${Re===rr.id?"bg-emerald-400/20 text-emerald-200 border border-emerald-300/30":"hover:bg-white/10"}`,children:[rr.icon,rr.label]},rr.id))})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col ml-64 relative z-10",children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-30 px-6 py-3 flex items-center justify-between bg-white/10 backdrop-blur-xl border-b border-white/10 shadow-[0_4px_20px_rgba(0,0,0,0.25)]",children:[jsxRuntimeExports.jsx("button",{className:"md:hidden text-2xl text-gray-600",onClick:()=>Ye(!0),children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold text-white",children:"Retailer Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:"Logged in as: Retailer"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-white",children:De?.businessName||"Business Name"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70",children:[De?.ownerName||"Owner"," | ID: ",De?.flypId||De?.userId||"UserID"]})]}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden ring-1 ring-white/20 bg-white/10 backdrop-blur",children:De?.logoUrl?jsxRuntimeExports.jsx("img",{src:De.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full bg-white/10"})}),jsxRuntimeExports.jsx("button",{onClick:Je,className:"text-rose-300 hover:text-rose-200 text-xl",title:"Sign Out",children:jsxRuntimeExports.jsx(FaSignOutAlt,{})})]})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.4},className:"flex-1 px-4 py-6 md:px-6 overflow-y-auto pt-4 text-white",children:[Re==="home"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"filter",className:"font-medium",children:"Filter by:"}),jsxRuntimeExports.jsxs("select",{id:"filter",value:$e,onChange:rr=>He(rr.target.value),className:"px-3 py-1 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50",children:[jsxRuntimeExports.jsx("option",{value:"today",children:"Today"}),jsxRuntimeExports.jsx("option",{value:"all",children:"All Time"}),jsxRuntimeExports.jsx("option",{value:"month",children:"This Month"}),jsxRuntimeExports.jsx("option",{value:"week",children:"This Week"}),jsxRuntimeExports.jsx("option",{value:"custom",children:"Custom Range"})]}),$e==="custom"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{type:"date",onChange:rr=>We(ar=>({...ar,start:new Date(rr.target.value)})),className:"px-2 py-1 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"date",onChange:rr=>We(ar=>({...ar,end:new Date(rr.target.value)})),className:"px-2 py-1 rounded bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4 md:space-y-6",children:jsxRuntimeExports.jsx(HomeSnapshot,{filterDates:Qe})})]}),Re==="billing"&&jsxRuntimeExports.jsx(Billing,{}),Re==="orderHistory"&&jsxRuntimeExports.jsx(RetailerOrderHistory,{}),Re==="inventory"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6 border-b pb-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Oe("add"),className:`px-4 py-2 rounded transition ${ke==="add"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" Add Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Oe("view"),className:`px-4 py-2 rounded transition ${ke==="view"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" View Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Oe("group"),className:`px-4 py-2 rounded transition ${ke==="group"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" Group Items"}),jsxRuntimeExports.jsx("button",{onClick:()=>Oe("lowstock"),className:`px-4 py-2 rounded transition ${ke==="lowstock"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" Low Stock Alerts"})]}),ke==="add"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Select Inventory Input Method"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ue("manual"),className:`px-3 py-2 rounded border transition ${Me==="manual"?"bg-emerald-500 text-slate-900 border-emerald-400":"bg-white/10 border-white/20 text-white hover:bg-white/15"}`,children:" Manual Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue("ocr"),className:`px-3 py-2 rounded border transition ${Me==="ocr"?"bg-emerald-500 text-slate-900 border-emerald-400":"bg-white/10 border-white/20 text-white hover:bg-white/15"}`,children:" OCR Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue("ai"),className:`px-3 py-2 rounded border transition ${Me==="ai"?"bg-emerald-500 text-slate-900 border-emerald-400":"bg-white/10 border-white/20 text-white hover:bg-white/15"}`,children:" AI-Based"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[Me==="manual"&&De?.userId&&jsxRuntimeExports.jsx(ManualEntryForm$1,{userId:De.userId}),Me==="ocr"&&De?.userId&&jsxRuntimeExports.jsx(OCRUploadForm$1,{userId:De.userId}),Me==="ai"&&De?.userId&&jsxRuntimeExports.jsx(AddInventoryAI,{userId:De.userId})]})]}),ke==="view"&&De?.userId&&jsxRuntimeExports.jsx(ViewInventory$1,{userId:De.userId}),ke==="group"&&jsxRuntimeExports.jsx("div",{children:" Group Items Component Placeholder"}),ke==="lowstock"&&jsxRuntimeExports.jsx("div",{children:" Low Stock Alert Component Placeholder"})]}),Re==="analytics"&&jsxRuntimeExports.jsx(BusinessAnalytics,{}),Re==="distributors"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ke("search"),className:`px-4 py-2 rounded transition ${qe==="search"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" Search Distributor"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke("sent"),className:`px-4 py-2 rounded transition ${qe==="sent"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" Sent Requests"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke("connected"),className:`px-4 py-2 rounded transition ${qe==="connected"?"bg-emerald-500 text-slate-900":"bg-white/10 text-white hover:bg-white/15"}`,children:" View Distributors"})]}),qe==="search"&&jsxRuntimeExports.jsx(SearchDistributor,{}),qe==="sent"&&jsxRuntimeExports.jsx(ViewSentRequests,{}),qe==="connected"&&(je?jsxRuntimeExports.jsx(ConnectedDistributorPanel,{distributor:je,onBack:()=>Be(null)}):jsxRuntimeExports.jsx(RetailerConnectedDistributors,{onSelectDistributor:Be}))]}),Re==="customers"&&jsxRuntimeExports.jsx(CustomerAnalysis,{}),Re==="employees"&&jsxRuntimeExports.jsx(ManageEmployee,{}),Re==="profile"&&jsxRuntimeExports.jsx(ProfileSettings,{})]},Re)]})]})},RetailerRequests=({db:Re,auth:Ce})=>{const[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(!1),[ke,Oe]=reactExports.useState(null),[Me,Ue]=reactExports.useState(""),[$e,He]=reactExports.useState(!0);reactExports.useEffect(()=>{(async()=>{He(!0);const Xe=Ce.currentUser;if(!Xe){He(!1);return}const Ye=collection(Re,`businesses/${Xe.uid}/connectionRequests`),Ze=await getDocs(Ye),Je=await Promise.all(Ze.docs.map(async tr=>{const rr=tr.data(),ar=rr.retailerId;let ir={};try{const nr=doc(Re,"businesses",ar),cr=await getDoc(nr);cr.exists()?ir=cr.data():console.warn("Retailer business doc not found for:",ar)}catch(nr){console.error(" Error fetching retailer info:",nr.message)}return{id:tr.id,retailerId:ar,status:rr.status,sentAt:rr.sentAt,message:rr.message||"",...ir}}));Be(Je),He(!1)})()},[]);const Qe=async(Ke,Xe)=>{const Ye=Ce.currentUser;if(!Ye)return;const Ze=Ye.uid,Je=doc(Re,"businesses",Ze),tr=await getDoc(Je),rr=tr.exists()?tr.data():{},ar=doc(Re,`businesses/${Ze}/connectionRequests/${Ke}`);await updateDoc(ar,{status:Xe,acceptedAt:serverTimestamp()}),console.log(" Updated distributor's connectionRequests status to:",Xe);const ir=doc(Re,`businesses/${Ke}/sentRequests/${Ze}`);try{await updateDoc(ir,{status:Xe,acceptedAt:serverTimestamp()}),console.log(" Updated retailer's sentRequests status to:",Xe)}catch(nr){console.error(" Failed to update retailer's sentRequest:",nr.message)}try{const nr=doc(Re,"businesses",Ke),cr=await getDoc(nr),mr=cr.exists()?cr.data():{};console.log(" Saving distributor to retailer's connectedDistributors..."),await setDoc(doc(Re,`businesses/${Ke}/connectedDistributors/${Ze}`),{distributorId:Ze,distributorName:rr.businessName||"Unnamed Distributor",distributorOwner:rr.ownerName||"Unknown Owner",distributorEmail:rr.email||"",distributorPhone:rr.phone||"",city:rr.city||"",connectedAt:serverTimestamp(),status:"accepted"},{merge:!0}),console.log(" Saved to retailer's connectedDistributors"),console.log(" Saving retailer to distributor's connectedRetailers..."),await setDoc(doc(Re,`businesses/${Ze}/connectedRetailers/${Ke}`),{retailerId:Ke,retailerName:mr.businessName||"Unnamed Retailer",retailerEmail:mr.email||"",retailerPhone:mr.phone||"",city:mr.city||"",connectedAt:serverTimestamp(),status:"accepted"},{merge:!0}),console.log(" Saved to distributor's connectedRetailers"),y$2.success("Retailer request accepted successfully!")}catch(nr){console.error(" Failed to create connected entries:",nr.message)}Be(nr=>nr.map(cr=>cr.id===Ke?{...cr,status:Xe}:cr))},We=Ke=>{Oe(Ke),Ue(""),Fe(!0)},qe=async()=>{if(!ke)return;const Ke=Ce.currentUser;if(!Ke)return;const Xe=Ke.uid,Ye=doc(Re,`businesses/${Xe}/connectionRequests/${ke}`),Ze=doc(Re,`businesses/${ke}/sentRequests/${Xe}`);await updateDoc(Ye,{status:"rejected",rejectionNote:Me,rejectedAt:serverTimestamp()}),await updateDoc(Ze,{status:"rejected",rejectionNote:Me,rejectedAt:serverTimestamp()}),Be(Je=>Je.map(tr=>tr.retailerId===ke?{...tr,status:"rejected"}:tr)),Fe(!1),y$2.info("Retailer request rejected.")};return jsxRuntimeExports.jsxs("div",{className:"text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4 sticky top-[72px] z-10 py-2 px-3 rounded-xl border border-white/10 backdrop-blur-xl bg-[#0B0F14]/60 supports-[backdrop-filter]:bg-[#0B0F14]/50 shadow-sm animate-fade-in",children:"Incoming Retailer Requests"}),$e?jsxRuntimeExports.jsx("div",{className:"text-center py-8 text-white/60",children:"Loading requests..."}):je.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/70 text-center mt-8 italic",children:"You're all caught up! No new requests."}):jsxRuntimeExports.jsx("ul",{className:"space-y-4 animate-fade-in",children:je.map(Ke=>jsxRuntimeExports.jsx("li",{className:"bg-white/5 backdrop-blur-xl border border-white/10 text-white p-4 rounded-xl transition-transform duration-200 hover:scale-[1.005] shadow-xl",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"font-semibold",children:Ke.businessName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/70",children:[Ke.ownerName," (",Ke.email,")"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm",children:["Status:"," ",jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${Ke.status==="accepted"?"bg-emerald-500/20 text-emerald-200":Ke.status==="rejected"?"bg-rose-500/20 text-rose-200":"bg-amber-500/20 text-amber-200"}`,children:Ke.status})]}),Ke.sentAt?.seconds&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/50 mt-1",children:["Sent at: ",new Date(Ke.sentAt.seconds*1e3).toLocaleString()]}),Ke.message&&jsxRuntimeExports.jsxs("p",{className:"text-sm italic text-white/60 mt-1",children:['Message: "',Ke.message,'"']}),Ke.address&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:[" Address: ",Ke.address]}),Ke.city&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:[" City: ",Ke.city]}),Ke.phone&&jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:[" Phone: ",Ke.phone]})]}),jsxRuntimeExports.jsxs("div",{className:"space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Qe(Ke.retailerId,"accepted"),disabled:Ke.status==="accepted",className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-3 py-1.5 rounded-full disabled:opacity-50 transition duration-200 transform hover:scale-[1.02]",children:"Accept"}),jsxRuntimeExports.jsx("button",{onClick:()=>We(Ke.retailerId),className:"bg-gradient-to-r from-rose-500 to-amber-500 text-white px-3 py-1.5 rounded-full transition duration-200 transform hover:scale-[1.02]",children:"Reject"})]})]})},Ke.id))}),De&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 z-50",children:jsxRuntimeExports.jsxs("div",{className:"transition-all duration-300 ease-in-out transform scale-100 bg-[#0B0F14]/90 backdrop-blur-2xl border border-white/10 text-white p-6 rounded-2xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] w-96",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Reject Retailer"}),jsxRuntimeExports.jsx("p",{className:"mb-4 text-sm text-white/70",children:"Are you sure you want to reject this request?"}),jsxRuntimeExports.jsx("textarea",{className:"w-full rounded-xl p-2.5 mb-4 bg-white/10 border border-white/20 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"Optional reason for rejection...",value:Me,onChange:Ke=>Ue(Ke.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Fe(!1),className:"px-4 py-2 rounded-full bg-white/10 text-white border border-white/20 hover:bg-white/15",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:qe,className:"px-4 py-2 rounded-full text-white bg-gradient-to-r from-rose-500 to-amber-500",children:"Confirm Reject"})]})]})})]})},ManualEntryForm=()=>{const{user:Re}=useAuth();if(!Re)return console.warn("No current user found in context."),jsxRuntimeExports.jsx("div",{className:"p-4 text-red-500",children:"Loading user info..."});const[Ce,je]=reactExports.useState({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),[Be,De]=reactExports.useState(""),[Fe,ke]=reactExports.useState(!1),Oe=Ue=>{const{name:$e,value:He,files:Qe}=Ue.target;if($e==="image"){const We=Qe?.[0];if(!We||!(We instanceof File)||!We.name){y$2.error("Invalid image file.");return}je(Ke=>({...Ke,image:We}));const qe=new FileReader;qe.onloadend=()=>De(qe.result),qe.readAsDataURL(We)}else je(We=>({...We,[$e]:He}))},Me=async Ue=>{if(Ue.preventDefault(),ke(!0),console.log("Manual Entry - currentUser:",Re),!Re?.uid){y$2.error("User ID is missing in manual entry. Cannot save product."),ke(!1);return}const $e=Re.uid;try{let He="";if(Ce.image&&Ce.image instanceof File){let Qe=Ce.image?.name;(!Qe||typeof Qe!="string"||Qe.trim()==="")&&(Qe=`product_${Date.now()}.jpg`);const We=ref(storage,`products/${$e}/${Qe}`);await uploadBytes(We,Ce.image),He=await getDownloadURL(We)}await addDoc(collection(db$2,"businesses",$e,"products"),{productName:Ce.productName||"",brand:Ce.brand||"",category:Ce.category||"",quantity:Ce.quantity?Number(Ce.quantity):0,unit:Ce.unit||"",costPrice:Ce.costPrice?Number(Ce.costPrice):0,sellingPrice:Ce.sellingPrice?Number(Ce.sellingPrice):0,description:Ce.description||"",sku:Ce.sku||"",imageUrl:He,createdAt:serverTimestamp(),addedBy:$e}),y$2.success("Product added successfully!"),je({productName:"",sku:"",brand:"",category:"",quantity:"",costPrice:"",sellingPrice:"",unit:"",description:"",image:null}),De("")}catch(He){console.error("Upload failed:",He),y$2.error("Failed to add product.")}ke(!1)};return jsxRuntimeExports.jsxs("form",{onSubmit:Me,className:"space-y-5 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",value:Ce.productName,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",value:Ce.sku,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",value:Ce.brand,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",value:Ce.category,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",value:Ce.quantity,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40",required:!0}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",value:Ce.costPrice,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",value:Ce.sellingPrice,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g., kg, box)",value:Ce.unit,onChange:Oe,className:"w-full rounded-lg px-3 py-2 bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"})]}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",value:Ce.description,onChange:Oe,className:"w-full rounded-lg px-3 py-2 min-h-[96px] bg-slate-800/60 border border-white/10 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsxs("div",{className:"rounded-lg border border-dashed border-white/20 bg-slate-800/50 p-3 hover:border-emerald-400/40 transition",children:[jsxRuntimeExports.jsx("input",{type:"file",name:"image",accept:"image/*",onChange:Oe,className:"w-full bg-transparent border-0 text-white file:mr-3 file:px-3 file:py-1.5 file:rounded-md file:border-0 file:bg-emerald-500/10 file:text-emerald-200 file:hover:bg-emerald-500/20 focus:outline-none"}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-xs text-white/50",children:"PNG or JPG preferred. Keep under ~1 MB for faster save."})]})}),jsxRuntimeExports.jsx("div",{children:Be?jsxRuntimeExports.jsx("img",{src:Be,alt:"Preview",className:"h-28 w-28 object-cover border border-white/20 rounded-lg shadow"}):jsxRuntimeExports.jsx("div",{className:"h-28 w-28 rounded-lg border border-dashed border-white/15 bg-slate-800/40 grid place-items-center text-[11px] text-white/40",children:"No image"})})]}),jsxRuntimeExports.jsx("div",{className:"pt-2",children:jsxRuntimeExports.jsx("button",{type:"submit",className:"px-5 py-2.5 rounded-full text-sm font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-500 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50 disabled:opacity-60",disabled:Fe,children:Fe?"Saving...":"Add Product"})})]})};let e={data:""},t=Re=>typeof window=="object"?((Re?Re.querySelector("#_goober"):window._goober)||Object.assign((Re||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:Re||e,l=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a=/\/\*[^]*?\*\/|  +/g,n=/\n+/g,o=(Re,Ce)=>{let je="",Be="",De="";for(let Fe in Re){let ke=Re[Fe];Fe[0]=="@"?Fe[1]=="i"?je=Fe+" "+ke+";":Be+=Fe[1]=="f"?o(ke,Fe):Fe+"{"+o(ke,Fe[1]=="k"?"":Ce)+"}":typeof ke=="object"?Be+=o(ke,Ce?Ce.replace(/([^,])+/g,Oe=>Fe.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,Me=>/&/.test(Me)?Me.replace(/&/g,Oe):Oe?Oe+" "+Me:Me)):Fe):ke!=null&&(Fe=/^--/.test(Fe)?Fe:Fe.replace(/[A-Z]/g,"-$&").toLowerCase(),De+=o.p?o.p(Fe,ke):Fe+":"+ke+";")}return je+(Ce&&De?Ce+"{"+De+"}":De)+Be},c$1={},s=Re=>{if(typeof Re=="object"){let Ce="";for(let je in Re)Ce+=je+s(Re[je]);return Ce}return Re},i=(Re,Ce,je,Be,De)=>{let Fe=s(Re),ke=c$1[Fe]||(c$1[Fe]=(Me=>{let Ue=0,$e=11;for(;Ue<Me.length;)$e=101*$e+Me.charCodeAt(Ue++)>>>0;return"go"+$e})(Fe));if(!c$1[ke]){let Me=Fe!==Re?Re:(Ue=>{let $e,He,Qe=[{}];for(;$e=l.exec(Ue.replace(a,""));)$e[4]?Qe.shift():$e[3]?(He=$e[3].replace(n," ").trim(),Qe.unshift(Qe[0][He]=Qe[0][He]||{})):Qe[0][$e[1]]=$e[2].replace(n," ").trim();return Qe[0]})(Re);c$1[ke]=o(De?{["@keyframes "+ke]:Me}:Me,je?"":"."+ke)}let Oe=je&&c$1.g?c$1.g:null;return je&&(c$1.g=c$1[ke]),((Me,Ue,$e,He)=>{He?Ue.data=Ue.data.replace(He,Me):Ue.data.indexOf(Me)===-1&&(Ue.data=$e?Me+Ue.data:Ue.data+Me)})(c$1[ke],Ce,Be,Oe),ke},p=(Re,Ce,je)=>Re.reduce((Be,De,Fe)=>{let ke=Ce[Fe];if(ke&&ke.call){let Oe=ke(je),Me=Oe&&Oe.props&&Oe.props.className||/^go/.test(Oe)&&Oe;ke=Me?"."+Me:Oe&&typeof Oe=="object"?Oe.props?"":o(Oe,""):Oe===!1?"":Oe}return Be+De+(ke??"")},"");function u$1(Re){let Ce=this||{},je=Re.call?Re(Ce.p):Re;return i(je.unshift?je.raw?p(je,[].slice.call(arguments,1),Ce.p):je.reduce((Be,De)=>Object.assign(Be,De&&De.call?De(Ce.p):De),{}):je,t(Ce.target),Ce.g,Ce.o,Ce.k)}let d,f$1,g;u$1.bind({g:1});let h=u$1.bind({k:1});function m(Re,Ce,je,Be){o.p=Ce,d=Re,f$1=je,g=Be}function j(Re,Ce){let je=this||{};return function(){let Be=arguments;function De(Fe,ke){let Oe=Object.assign({},Fe),Me=Oe.className||De.className;je.p=Object.assign({theme:f$1&&f$1()},Oe),je.o=/ *go\d+/.test(Me),Oe.className=u$1.apply(je,Be)+(Me?" "+Me:"");let Ue=Re;return Re[0]&&(Ue=Oe.as||Re,delete Oe.as),g&&Ue[0]&&g(Oe),d(Ue,Oe)}return De}}var W=Re=>typeof Re=="function",f=(Re,Ce)=>W(Re)?Re(Ce):Re,F=(()=>{let Re=0;return()=>(++Re).toString()})(),A=(()=>{let Re;return()=>{if(Re===void 0&&typeof window<"u"){let Ce=matchMedia("(prefers-reduced-motion: reduce)");Re=!Ce||Ce.matches}return Re}})(),Y=20,U=(Re,Ce)=>{switch(Ce.type){case 0:return{...Re,toasts:[Ce.toast,...Re.toasts].slice(0,Y)};case 1:return{...Re,toasts:Re.toasts.map(Fe=>Fe.id===Ce.toast.id?{...Fe,...Ce.toast}:Fe)};case 2:let{toast:je}=Ce;return U(Re,{type:Re.toasts.find(Fe=>Fe.id===je.id)?1:0,toast:je});case 3:let{toastId:Be}=Ce;return{...Re,toasts:Re.toasts.map(Fe=>Fe.id===Be||Be===void 0?{...Fe,dismissed:!0,visible:!1}:Fe)};case 4:return Ce.toastId===void 0?{...Re,toasts:[]}:{...Re,toasts:Re.toasts.filter(Fe=>Fe.id!==Ce.toastId)};case 5:return{...Re,pausedAt:Ce.time};case 6:let De=Ce.time-(Re.pausedAt||0);return{...Re,pausedAt:void 0,toasts:Re.toasts.map(Fe=>({...Fe,pauseDuration:Fe.pauseDuration+De}))}}},P=[],y={toasts:[],pausedAt:void 0},u=Re=>{y=U(y,Re),P.forEach(Ce=>{Ce(y)})},J=(Re,Ce="blank",je)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:Ce,ariaProps:{role:"status","aria-live":"polite"},message:Re,pauseDuration:0,...je,id:je?.id||F()}),x=Re=>(Ce,je)=>{let Be=J(Ce,Re,je);return u({type:2,toast:Be}),Be.id},c=(Re,Ce)=>x("blank")(Re,Ce);c.error=x("error");c.success=x("success");c.loading=x("loading");c.custom=x("custom");c.dismiss=Re=>{u({type:3,toastId:Re})};c.remove=Re=>u({type:4,toastId:Re});c.promise=(Re,Ce,je)=>{let Be=c.loading(Ce.loading,{...je,...je?.loading});return typeof Re=="function"&&(Re=Re()),Re.then(De=>{let Fe=Ce.success?f(Ce.success,De):void 0;return Fe?c.success(Fe,{id:Be,...je,...je?.success}):c.dismiss(Be),De}).catch(De=>{let Fe=Ce.error?f(Ce.error,De):void 0;Fe?c.error(Fe,{id:Be,...je,...je?.error}):c.dismiss(Be)}),Re};var oe=h`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,re=h`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,se=h`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,k=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Re=>Re.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${oe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${re} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${Re=>Re.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${se} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ne=h`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,V=j("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${Re=>Re.secondary||"#e0e0e0"};
  border-right-color: ${Re=>Re.primary||"#616161"};
  animation: ${ne} 1s linear infinite;
`,pe=h`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,de=h`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,_=j("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${Re=>Re.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pe} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${de} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${Re=>Re.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,ue=j("div")`
  position: absolute;
`,le=j("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,fe=h`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Te=j("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${fe} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,M=({toast:Re})=>{let{icon:Ce,type:je,iconTheme:Be}=Re;return Ce!==void 0?typeof Ce=="string"?reactExports.createElement(Te,null,Ce):Ce:je==="blank"?null:reactExports.createElement(le,null,reactExports.createElement(V,{...Be}),je!=="loading"&&reactExports.createElement(ue,null,je==="error"?reactExports.createElement(k,{...Be}):reactExports.createElement(_,{...Be})))},ye=Re=>`
0% {transform: translate3d(0,${Re*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ge=Re=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${Re*-150}%,-1px) scale(.6); opacity:0;}
`,he="0%{opacity:0;} 100%{opacity:1;}",xe="0%{opacity:1;} 100%{opacity:0;}",be=j("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Se=j("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ae=(Re,Ce)=>{let je=Re.includes("top")?1:-1,[Be,De]=A()?[he,xe]:[ye(je),ge(je)];return{animation:Ce?`${h(Be)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${h(De)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};reactExports.memo(({toast:Re,position:Ce,style:je,children:Be})=>{let De=Re.height?Ae(Re.position||Ce||"top-center",Re.visible):{opacity:0},Fe=reactExports.createElement(M,{toast:Re}),ke=reactExports.createElement(Se,{...Re.ariaProps},f(Re.message,Re));return reactExports.createElement(be,{className:Re.className,style:{...De,...je,...Re.style}},typeof Be=="function"?Be({icon:Fe,message:ke}):reactExports.createElement(reactExports.Fragment,null,Fe,ke))});m(reactExports.createElement);u$1`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const OCRUploadForm=({distributorId:Re})=>{const[Ce,je]=reactExports.useState(null),[Be,De]=reactExports.useState(null),[Fe,ke]=reactExports.useState([]),[Oe,Me]=reactExports.useState(!1),Ue=We=>We.split(`
`).filter(Ke=>typeof Ke=="string"&&Ke.trim()!=="").map(Ke=>{const Xe=Ke.split(",").map(Ye=>Ye.trim());if(Xe.length>=4)return{productName:Xe[0]||"",quantity:Xe[1]||"",unit:Xe[2]||"",cost:Xe[3]||"",brand:Xe[4]||"",category:Xe[5]||"",description:Xe[6]||"",sku:Xe[7]||"",imageUrl:Xe[8]||""};{const Ye=Ke.trim().split(" "),Ze=Ye.find(tr=>!isNaN(tr)),Je=Ye.find(tr=>["pcs","kg","ltr","box","unit"].some(rr=>tr.toLowerCase().includes(rr)));return{productName:Ke.replace(Ze,"").replace(Je,"").trim(),quantity:Ze||"1",unit:Je||"",cost:"",brand:"",category:"",description:"",sku:"",imageUrl:""}}}),$e=We=>{const qe=We.target.files[0];if(!qe)return;je(qe);const Ke=new FileReader;Ke.onloadend=()=>De(Ke.result),Ke.readAsDataURL(qe)},He=async()=>{if(!Ce)return;Me(!0);const We=new FileReader;We.onloadend=async()=>{const qe=We.result.split(",")[1],Ke=Xe=>Xe.trim().split(`
`).map(Ye=>Ye.replace(/^\s*[\d\-.:]+\s*/,"").trim()).filter(Ye=>Ye);if(!qe){c.error("Failed to convert file."),Me(!1);return}try{const Ze=await(await fetch("https://asia-south1-stockpilotv1.cloudfunctions.net/ocrFromImage",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageBase64:qe})})).json(),Je=Ze?.text?.[0]?.description||"";if(Je){const tr=Ke(Je).join(`
`);Ze.products=Ue(tr)}if(Array.isArray(Ze.products)){const tr=Ze.products.map(rr=>({productName:rr?.productName||rr?.name||"",quantity:rr?.quantity||"",unit:rr?.unit||"",costPrice:rr?.cost||rr?.costPrice||"",sellingPrice:"",brand:rr?.brand||"",category:rr?.category||"",description:rr?.description||"",sku:rr?.sku||"",imageUrl:rr?.imageUrl||""})).filter(rr=>rr.productName);ke(tr),c.success("OCR scan completed!")}else c.error("No valid product data found.")}catch(Xe){console.error("OCR failed:",Xe),c.error("Failed to scan image.")}Me(!1)},Ce.type==="application/pdf"||Ce.type.startsWith("image/")?We.readAsDataURL(Ce):(c.error("Unsupported file format. Please upload an image or PDF."),Me(!1))},Qe=async()=>{if(!Fe.length)return;if(!Re){c.error("Distributor ID missing. Cannot save.");return}const We=Fe.filter(Ke=>Ke&&typeof Ke.productName=="string"&&Ke.productName.trim()!=="");if(console.log("Saving for distributorId:",Re),console.log("Valid products to save:",We),!We.length){c.error("No valid products to save.");return}const qe=We.map(Ke=>addDoc(collection(db$2,"businesses",Re,"products"),{productName:Ke.productName?.trim()||"",brand:Ke.brand?.trim()||"",category:Ke.category?.trim()||"",quantity:Number(Ke.quantity)||0,unit:Ke.unit?.trim()||"",costPrice:Number(Ke.costPrice)||0,sellingPrice:Number(Ke.sellingPrice)||0,description:Ke.description?.trim()||"",sku:Ke.sku?.trim()||"",imageUrl:Ke.imageUrl||"",createdAt:serverTimestamp()}).catch(Xe=>{console.error("Failed to add product:",Ke,Xe)}));try{await Promise.all(qe),console.log("Products saved successfully."),c.success("All products saved!"),ke([])}catch(Ke){console.error("Saving failed:",Ke),c.error("Failed to save products.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 text-sm font-medium text-white/80",children:"Upload Inventory Image"}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*,application/pdf",onChange:$e,className:"block w-full rounded-lg bg-slate-800/60 border border-white/10 text-white placeholder-white/50 p-2 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 focus:border-emerald-400/40"}),Be&&jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsx("img",{src:Be,alt:"Preview",className:"max-w-xs rounded-lg border border-white/10 shadow-lg"})}),jsxRuntimeExports.jsx("button",{onClick:He,disabled:!Ce||Oe,className:`mt-3 px-4 py-2 rounded-lg text-sm transition ${Oe||!Ce?"bg-slate-700/60 text-white/60 cursor-not-allowed":"bg-emerald-500/90 hover:bg-emerald-500 text-white shadow-[0_6px_20px_rgba(16,185,129,.35)]"}`,children:Oe?"Scanning...":"Scan & Import"}),Fe.length>0&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"mt-5 rounded-xl border border-white/10 bg-slate-900/40 backdrop-blur-sm p-3",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-2 text-white/90",children:"Scanned Products"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto mt-4",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full bg-transparent rounded",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left text-xs bg-slate-800/60",children:[jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"#"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"Quantity"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"Cost Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"Selling Price"}),jsxRuntimeExports.jsx("th",{className:"p-2 border border-white/10 text-white/80",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Fe.map((We,qe)=>jsxRuntimeExports.jsxs("tr",{className:"text-sm",children:[jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:qe+1}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:jsxRuntimeExports.jsx("input",{type:"text",value:We.productName||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].productName=Ke.target.value,ke(Xe)},className:"w-full rounded-md bg-slate-800/60 border border-white/10 text-white p-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 focus:border-emerald-400/30"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:jsxRuntimeExports.jsx("input",{type:"number",value:We.quantity||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].quantity=Ke.target.value,ke(Xe)},className:"w-full rounded-md bg-slate-800/60 border border-white/10 text-white p-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 focus:border-emerald-400/30"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:jsxRuntimeExports.jsx("input",{type:"text",value:We.unit||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].unit=Ke.target.value,ke(Xe)},className:"w-full rounded-md bg-slate-800/60 border border-white/10 text-white p-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 focus:border-emerald-400/30"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:jsxRuntimeExports.jsx("input",{type:"number",value:We.costPrice||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].costPrice=Ke.target.value,ke(Xe)},className:"w-full rounded-md bg-slate-800/60 border border-white/10 text-white p-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 focus:border-emerald-400/30"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:jsxRuntimeExports.jsx("input",{type:"number",value:We.sellingPrice||"",onChange:Ke=>{const Xe=[...Fe];Xe[qe].sellingPrice=Ke.target.value,ke(Xe)},className:"w-full rounded-md bg-slate-800/60 border border-white/10 text-white p-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 focus:border-emerald-400/30"})}),jsxRuntimeExports.jsx("td",{className:"p-2 border border-white/10 text-white/90",children:jsxRuntimeExports.jsx("button",{onClick:()=>{const Ke=Fe.filter((Xe,Ye)=>Ye!==qe);ke(Ke)},className:"text-red-300 hover:text-red-400",children:"Delete"})})]},qe))})]})})]}),jsxRuntimeExports.jsx("button",{onClick:Qe,className:"mt-4 px-4 py-2 rounded-lg bg-emerald-500/90 hover:bg-emerald-500 text-white shadow-[0_6px_20px_rgba(16,185,129,.35)] transition",children:"Save All Products"})]})]})},AIAutogenForm=({userId:Re})=>{const[Ce,je]=reactExports.useState(""),[Be,De]=reactExports.useState([]),[Fe,ke]=reactExports.useState([]),[Oe,Me]=reactExports.useState(!1),Ue=getFirestore(app),$e=async We=>{if(!We||We.trim().length===0){y$2.error("Prompt is empty.");return}Me(!0);try{const Xe=(await(await fetch("https://us-central1-stockpilotv1.cloudfunctions.net/generateInventoryByBrand",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:We})})).json()).inventory,Ye=[];if(Array.isArray(Xe))for(const Ze of Xe)!Ze.productName||!Ze.sku||Ye.push({productName:Ze.productName||"",brand:Ze.brand||"",category:Ze.category||"Food",sku:Ze.sku||"",unit:Ze.unit||"",quantity:"",costPrice:"",sellingPrice:Ze.price||"",imageUrl:Ze.imageUrl||""});ke(Ye),Ye.length===0&&y$2.info("No inventory returned. Try adjusting prompt.")}catch(qe){console.error("Prompt-based inventory error:",qe),y$2.error("Failed to fetch inventory.")}finally{Me(!1)}},He=async()=>{if(!Re||Fe.length===0){y$2.error("No inventory to upload.");return}try{for(const We of Fe){const qe=await addDoc(collection(Ue,"businesses",Re,"products"),{...We,source:"ai",createdAt:serverTimestamp()});await logInventoryChange({productId:qe.id,sku:We.sku,previousData:{},updatedData:We,action:"created",source:"ai"})}y$2.success("Inventory added successfully!"),ke([])}catch(We){console.error("Upload Error:",We),y$2.error("Failed to add inventory.")}},Qe=(We,qe,Ke)=>{const Xe=[...Fe];Xe[We][qe]=Ke,ke(Xe)};return jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("style",{children:`
        .glass-card{background:rgba(16,23,32,0.6);border:1px solid rgba(255,255,255,0.08);box-shadow:0 6px 24px rgba(0,0,0,0.35);backdrop-filter:blur(10px);border-radius:14px}
        .soft-title{background:linear-gradient(90deg,rgba(255,255,255,.95),rgba(255,255,255,.75));-webkit-background-clip:text;background-clip:text;color:transparent}
        .ai-table th{position:sticky;top:0;background:rgba(23,33,45,.9);backdrop-filter:blur(8px);}
        .ai-input{background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.12);color:#eef2f7}
        .ai-input::placeholder{color:rgba(255,255,255,0.45)}
        .ai-btn{border-radius:12px;padding:.6rem 1rem;border:1px solid rgba(255,255,255,.14)}
        .ai-btn-primary{background:linear-gradient(180deg,#2dd4bf,#06b6d4);color:#0b1020;border:none}
        .ai-btn-ghost{background:rgba(255,255,255,0.06);color:#e3eef8}
        .ai-btn-danger{background:rgba(239,68,68,.15);color:#fecaca}
        .ai-btn:hover{transform:translateY(-1px)}
        .row-alt:nth-child(even){background:rgba(255,255,255,0.03)}
      `}),jsxRuntimeExports.jsxs("div",{className:"glass-card p-5 md:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl md:text-2xl font-semibold soft-title",children:"AIBased Inventory Generator"}),jsxRuntimeExports.jsx("div",{className:"text-xs md:text-sm text-white/60",children:"Quickly draft items by brand or freetext prompt. Edit before saving."})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(AdvancedBrandInputForm,{onGenerate:$e})}),Fe.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 glass-card p-3 md:p-4 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"overflow-auto max-h-[52vh] rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm ai-table",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left text-white/80",children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-3 text-center",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{children:Fe.map((We,qe)=>jsxRuntimeExports.jsxs("tr",{className:"row-alt",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2 min-w-[220px]",children:jsxRuntimeExports.jsx("input",{value:We.productName??"(productName)",onChange:Ke=>Qe(qe,"productName",Ke.target.value),className:"ai-input w-full rounded-md px-2 py-2 outline-none focus:ring-2 focus:ring-cyan-400/40",placeholder:"Product name"})}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 min-w-[160px]",children:jsxRuntimeExports.jsx("input",{value:We.brand??"(brand)",onChange:Ke=>Qe(qe,"brand",Ke.target.value),className:"ai-input w-full rounded-md px-2 py-2 outline-none focus:ring-2 focus:ring-cyan-400/40",placeholder:"Brand"})}),["category","sku","unit","quantity","costPrice","sellingPrice"].map(Ke=>jsxRuntimeExports.jsx("td",{className:"px-2 py-2 min-w-[120px]",children:jsxRuntimeExports.jsx("input",{value:We[Ke]??`(${Ke})`,onChange:Xe=>Qe(qe,Ke,Xe.target.value),className:"ai-input w-full rounded-md px-2 py-2 outline-none focus:ring-2 focus:ring-cyan-400/40",placeholder:Ke})},Ke)),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center whitespace-nowrap",children:jsxRuntimeExports.jsx("button",{className:"ai-btn ai-btn-danger hover:brightness-110",title:"Remove row",onClick:()=>{const Ke=[...Fe];Ke.splice(qe,1),ke(Ke)},children:" Remove"})})]},qe))})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:He,disabled:Oe,className:"ai-btn ai-btn-primary font-semibold disabled:opacity-60 disabled:cursor-not-allowed",children:Oe?"Saving":" Add to Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>ke([]),disabled:Oe,className:"ai-btn ai-btn-ghost disabled:opacity-60",children:"Clear All"})]})]})]})]})},AddInventoryOptions$1=({userId:Re})=>{const[Ce,je]=reactExports.useState("manual"),Be="px-3 py-1.5 rounded-lg text-sm transition focus:outline-none ring-1 ring-white/10",De="bg-emerald-500 text-slate-900 ring-emerald-400/30",Fe="bg-white/5 text-white/90 hover:bg-white/10";return jsxRuntimeExports.jsxs("div",{className:"text-white",children:[jsxRuntimeExports.jsx("div",{className:"mb-3",children:jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold",children:"Add Inventory"})}),jsxRuntimeExports.jsxs("div",{className:"mb-4 flex flex-wrap items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-sm text-white/60",children:"Select method:"}),jsxRuntimeExports.jsx("button",{className:`${Be} ${Ce==="manual"?De:Fe}`,onClick:()=>je("manual"),children:"Manual Entry"}),jsxRuntimeExports.jsx("button",{className:`${Be} ${Ce==="ocr"?De:Fe}`,onClick:()=>je("ocr"),children:"OCR Upload"}),jsxRuntimeExports.jsx("button",{className:`${Be} ${Ce==="ai"?De:Fe}`,onClick:()=>je("ai"),children:"AI Autogen"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2",children:[Ce==="manual"&&jsxRuntimeExports.jsx(ManualEntryForm,{}),Ce==="ocr"&&jsxRuntimeExports.jsx(OCRUploadForm,{distributorId:Re}),Ce==="ai"&&jsxRuntimeExports.jsx(AIAutogenForm,{userId:Re})]})]})},DeleteConfirmationModal=({product:Re,confirmationText:Ce,onChange:je,onCancel:Be,onConfirm:De})=>jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded shadow-lg p-6 w-[90%] md:w-[400px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2 text-red-600",children:"Delete Product?"}),jsxRuntimeExports.jsxs("p",{className:"mb-4",children:["Are you sure you want to delete ",jsxRuntimeExports.jsx("strong",{children:Re?.productName||"this product"})," (SKU: ",jsxRuntimeExports.jsx("strong",{children:Re?.sku||"N/A"}),")?"]}),jsxRuntimeExports.jsxs("p",{className:"mb-2 text-sm text-gray-600",children:["Type ",jsxRuntimeExports.jsx("code",{className:"bg-gray-100 px-1 rounded border",children:"delete"})," to confirm."]}),jsxRuntimeExports.jsx("input",{type:"text",className:"w-full border rounded px-3 py-1 mb-4",placeholder:'Type "delete" to confirm',value:Ce,onChange:je}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Be,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:De,disabled:Ce.trim().toLowerCase()!=="delete",className:`px-4 py-2 rounded text-white ${Ce.trim().toLowerCase()==="delete"?"bg-red-600 hover:bg-red-700":"bg-gray-400 cursor-not-allowed"}`,children:"Delete"})]})]})}),ViewInventory=({userId:Re})=>{const[Ce,je]=reactExports.useState(!1),[Be,De]=reactExports.useState(null),[Fe,ke]=reactExports.useState([]),[Oe,Me]=reactExports.useState([]),[Ue,$e]=reactExports.useState(""),[He,Qe]=reactExports.useState(""),[We,qe]=reactExports.useState("asc"),[Ke,Xe]=reactExports.useState({rowId:null,field:null}),[Ye,Ze]=reactExports.useState(""),[Je,tr]=reactExports.useState(""),[rr,ar]=reactExports.useState([]),[ir,nr]=reactExports.useState(!1),[cr,mr]=reactExports.useState([]),[fr,or]=reactExports.useState(!1),[yr,Cr]=reactExports.useState(null),[jr,vr]=reactExports.useState(""),[Tr,wr]=reactExports.useState(!1),[Er,Pr]=reactExports.useState(null),[Mr,_r]=reactExports.useState(null),[Ir,Dr]=reactExports.useState(!1),[Or,br]=reactExports.useState(""),[Ur,Qr]=reactExports.useState(null),[zr,Gr]=reactExports.useState(""),[fn,nn]=reactExports.useState([]),[bn,hn]=reactExports.useState(!1),[yn,Zr]=reactExports.useState(""),[Rn,ri]=reactExports.useState([]),[Yn,ti]=reactExports.useState(!1),[ei,Gn]=reactExports.useState([]),[Ei,Ci]=reactExports.useState("view"),Fi=async()=>{if(!yn)return;ti(!0);const vn=await fetchGoogleImages(yn);ri(vn||[]),ti(!1)},[Si,Ti]=reactExports.useState("list"),ji=getFirestore();if(!Re)return jsxRuntimeExports.jsx("div",{className:"text-center p-4",children:"Loading user data..."});reactExports.useEffect(()=>{if(!Re)return;console.log("Current user UID:",Re);const vn=collection(ji,"businesses",Re,"products"),Ni=onSnapshot(vn,async xi=>{const Gi=getStorage(),ki=await Promise.all(xi.docs.map(async hi=>{const Bi=hi.data();let Zi="";try{if(Bi.imageUrl)Zi=Bi.imageUrl;else if(Bi.imagePath){const ds=ref(Gi,Bi.imagePath);Zi=await getDownloadURL(ds)}}catch(ds){console.warn("Image fetch error for:",Bi.imagePath||"unknown",ds.message)}return{id:hi.id,...Bi,imageUrl:Zi,imagePath:Bi.imagePath||""}}));ke(ki),Me(ki);const Ai=[...new Set(ki.map(hi=>hi.brand).filter(Boolean))];mr(Ai)});return()=>Ni()},[Re]),reactExports.useEffect(()=>{if(!auth$2.currentUser?.uid)return;const vn=query(collection(ji,`businesses/${auth$2.currentUser.uid}/inventoryLogs`),orderBy$1("modifiedAt","desc")),Ni=onSnapshot(vn,xi=>{Gn(xi.docs.map(Gi=>Gi.data()))});return()=>Ni()},[]),reactExports.useEffect(()=>{const vn=Ue.toLowerCase(),Ni=Fe.filter(xi=>{const Gi=xi.productName?.toLowerCase().includes(vn)||xi.sku?.toLowerCase().includes(vn)||xi.brand?.toLowerCase().includes(vn)||xi.category?.toLowerCase().includes(vn),ki=!Je||an(xi.quantity)===Je,Ai=rr.length===0||xi.brand&&rr.includes(xi.brand);return Gi&&ki&&Ai});Me(Ni)},[Ue,Fe,Je,rr]),reactExports.useEffect(()=>{if(!He){Me(vn=>[...vn]);return}Me(vn=>[...vn].sort((xi,Gi)=>{const ki=parseFloat(xi[He])||0,Ai=parseFloat(Gi[He])||0;return We==="asc"?ki-Ai:Ai-ki}))},[He,We]);const wi=(vn,Ni,xi)=>{Xe({rowId:vn,field:Ni}),Ze(xi)},En=async(vn,Ni,xi)=>{try{const Gi=doc(ji,"businesses",Re,"products",vn),ki=await getDoc(Gi),Ai=ki.exists()?ki.data():{};await updateDoc(Gi,{[Ni]:xi}),await logInventoryChange({userId:Re,productId:vn,sku:Ai.sku||"N/A",productName:Ai.productName||"N/A",brand:Ai.brand||"N/A",category:Ai.category||"N/A",previousData:Ai,updatedData:{...Ai,[Ni]:xi},action:"updated",source:"inline-edit"})}catch(Gi){console.error("Error updating inventory field:",Gi)}finally{Xe({rowId:null,field:null}),Ze("")}},an=vn=>{const Ni=parseInt(vn);return isNaN(Ni)?"Unknown":Ni<=5?"Low":"In Stock"},On=vn=>{Cr(vn),vr(""),or(!0)},Mn=async()=>{if(yr&&jr.trim().toLowerCase()==="delete")try{const vn=doc(ji,"businesses",Re,"products",yr.id);await deleteDoc(vn)}catch(vn){console.error("Error deleting product:",vn)}finally{or(!1),Cr(null),vr("")}},ui=vn=>{Pr(vn),_r(null),Dr(!1),br(""),Qr(null),wr(!0)},Vn=vn=>{const Ni=vn.target.files?.[0]||null;if(_r(Ni),br(""),Ni){const xi=URL.createObjectURL(Ni);Qr(xi)}else Qr(null)},yi=async()=>{if(!Er||!Mr&&!Ur){y$2.error("No image selected");return}Dr(!0),br("");try{let vn=null,Ni=null;if(Mr){const Gi=getStorage(),ki=Mr.name.split(".").pop();Ni=`product_images/${Re}/${Er.id}.${ki}`;const Ai=ref(Gi,Ni);await uploadBytes(Ai,Mr),vn=await getDownloadURL(Ai)}else Ur&&(vn=Ur);const xi=doc(getFirestore(),"businesses",Re,"products",Er.id);await updateDoc(xi,Ni?{imageUrl:vn,imagePath:Ni}:{imageUrl:vn}),y$2.success("Image uploaded successfully"),wr(!1),Pr(null),_r(null),Qr(null)}catch(vn){console.error("Error uploading image:",vn),br("Image upload failed: "+(vn?.message||"Unknown error")),y$2.error("Failed to upload image")}finally{Dr(!1)}},jn=async(vn,Ni)=>{const xi=`${vn.brand} ${vn.productName} ${vn.unit}`;try{const Gi=await fetchGoogleImages(xi);if(Gi&&Gi.length>0){const ki=doc(ji,"businesses",Re,"products",vn.id);await updateDoc(ki,{imageUrl:Gi[0]}),ke(Ai=>Ai.map((Bi,Zi)=>Zi===Ni?{...Bi,imageUrl:Gi[0]}:Bi)),Me(Ai=>Ai.map((Bi,Zi)=>Zi===Ni?{...Bi,imageUrl:Gi[0]}:Bi)),y$2.success("Image fetched and applied!")}else y$2.info("No images found.")}catch(Gi){console.error("Image fetch error:",Gi),y$2.error("Failed to fetch image.")}};return jsxRuntimeExports.jsxs("div",{className:"text-white px-0 md:px-0 py-4 md:py-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-3 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center w-full md:w-1/3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by name, brand, SKU...",value:Ue,onChange:vn=>$e(vn.target.value),className:"w-full px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40"}),jsxRuntimeExports.jsx("button",{onClick:()=>hn(!0),className:"ml-2 bg-gradient-to-r from-emerald-500 to-cyan-500 hover:brightness-110 text-white font-semibold py-2 px-4 rounded-lg shadow",children:"Search with AI"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/40",onChange:vn=>Qe(vn.target.value),value:He,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Sort by"}),jsxRuntimeExports.jsx("option",{value:"quantity",children:"Quantity"}),jsxRuntimeExports.jsx("option",{value:"costPrice",children:"Cost Price"}),jsxRuntimeExports.jsx("option",{value:"sellingPrice",children:"Selling Price"})]}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/40",onChange:vn=>qe(vn.target.value),value:We,children:[jsxRuntimeExports.jsx("option",{value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsxs("select",{className:"px-3 py-2 rounded-lg bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/40",onChange:vn=>tr(vn.target.value),value:Je,children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"In Stock",children:"In Stock"}),jsxRuntimeExports.jsx("option",{value:"Low",children:"Low"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{className:"px-3 py-2 rounded-lg min-w-[140px] text-left bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/40",type:"button",onClick:()=>nr(vn=>!vn),children:[rr.length===0?"All Brands":rr.length===1?rr[0]:rr.join(", "),jsxRuntimeExports.jsx("span",{className:"ml-1",children:""})]}),ir&&jsxRuntimeExports.jsxs("div",{className:"absolute left-0 mt-1 bg-[#0b0f14] border border-white/10 rounded-xl shadow-lg z-20 p-2 min-w-[180px] max-h-56 overflow-y-auto text-white",children:[cr.length===0&&jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-500 px-2 py-1",children:"No brands"}),cr.map((vn,Ni)=>jsxRuntimeExports.jsxs("label",{className:"block px-2 py-1 cursor-pointer hover:bg-white/10 rounded",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:rr.includes(vn),onChange:xi=>{xi.target.checked?ar([...rr,vn]):ar(rr.filter(Gi=>Gi!==vn))},className:"mr-2"}),vn]},Ni)),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-2",children:[jsxRuntimeExports.jsx("button",{className:"text-xs text-emerald-300 hover:text-emerald-200 underline",type:"button",onClick:()=>ar([]),children:"Clear All"}),jsxRuntimeExports.jsx("button",{className:"text-xs text-white/70 hover:text-white underline",type:"button",onClick:()=>nr(!1),children:"Close"})]})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex mb-2 gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ci("view"),className:`px-4 py-2 rounded-lg border ${Ei==="view"?"bg-white/15 border-white/20 text-white":"bg-white/5 border-white/10 text-white/70 hover:text-white"}`,children:"Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ci("recent"),className:`px-4 py-2 rounded-lg border ${Ei==="recent"?"bg-white/15 border-white/20 text-white":"bg-white/5 border-white/10 text-white/70 hover:text-white"}`,children:"Recently Modified"})]}),Ei==="view"&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-end mb-4",children:[jsxRuntimeExports.jsx("button",{className:`px-4 py-1 mr-2 rounded-lg border ${Si==="list"?"bg-emerald-600 text-white border-emerald-500":"bg-white/5 text-white/80 border-white/10 hover:text-white"}`,onClick:()=>Ti("list"),children:"List View"}),jsxRuntimeExports.jsx("button",{className:`px-4 py-1 rounded-lg border ${Si==="grid"?"bg-emerald-600 text-white border-emerald-500":"bg-white/5 text-white/80 border-white/10 hover:text-white"}`,onClick:()=>Ti("grid"),children:"Grid View"})]}),Si==="list"?jsxRuntimeExports.jsx("div",{className:"overflow-x-auto glass-scroll w-full bg-white/5 border-y border-white/10 rounded-none mx-[-16px] md:mx-[-24px]",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"text-left bg-white/10 sticky top-0 z-10",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-2",children:"Image"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Unit"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Cost"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Sell"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Source"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Delete"}),jsxRuntimeExports.jsx("th",{className:"p-2",children:"Edit"})]})}),jsxRuntimeExports.jsxs("tbody",{children:[Oe.map((vn,Ni)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-white/10 odd:bg-white/0 even:bg-white/[0.03] hover:bg-white/[0.06] transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1",children:[jsxRuntimeExports.jsx("div",{className:"inline-block cursor-pointer",onClick:()=>ui(vn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:vn.imageUrl||"/placeholder.png",alt:"product",className:"h-10 w-10 rounded object-cover border border-white/20"})}),jsxRuntimeExports.jsx("button",{type:"button",title:"Search & set image from Google",className:"ml-1 text-lg px-1 py-0.5 rounded hover:bg-gray-200",onClick:()=>jn(vn,Ni),style:{lineHeight:"1"},children:""})]})}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(vn.id,"productName",vn.productName),children:Ke.rowId===vn.id&&Ke.field==="productName"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"productName",Ye),autoFocus:!0}):vn.productName}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(vn.id,"sku",vn.sku),children:Ke.rowId===vn.id&&Ke.field==="sku"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"sku",Ye),autoFocus:!0}):vn.sku}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(vn.id,"brand",vn.brand),children:Ke.rowId===vn.id&&Ke.field==="brand"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"brand",Ye),autoFocus:!0}):vn.brand}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(vn.id,"category",vn.category),children:Ke.rowId===vn.id&&Ke.field==="category"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"category",Ye),autoFocus:!0}):vn.category}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>wi(vn.id,"quantity",vn.quantity),children:Ke.rowId===vn.id&&Ke.field==="quantity"?jsxRuntimeExports.jsx("input",{type:"number",className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"quantity",Number(Ye)),autoFocus:!0}):vn.quantity}),jsxRuntimeExports.jsx("td",{className:"p-2 max-w-[180px] break-words whitespace-normal",onClick:()=>wi(vn.id,"unit",vn.unit),children:Ke.rowId===vn.id&&Ke.field==="unit"?jsxRuntimeExports.jsx("input",{className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"unit",Ye),autoFocus:!0}):vn.unit}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>wi(vn.id,"costPrice",vn.costPrice),children:Ke.rowId===vn.id&&Ke.field==="costPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"costPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs("span",{className:"text-white/90",children:["",vn.costPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2",onClick:()=>wi(vn.id,"sellingPrice",vn.sellingPrice),children:Ke.rowId===vn.id&&Ke.field==="sellingPrice"?jsxRuntimeExports.jsx("input",{type:"number",step:"0.01",className:"w-full px-2 py-1 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40",value:Ye,onChange:xi=>Ze(xi.target.value),onBlur:()=>En(vn.id,"sellingPrice",Number(Ye)),autoFocus:!0}):jsxRuntimeExports.jsxs("span",{className:"text-white/90",children:["",vn.sellingPrice]})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[80px] text-center",children:jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${an(vn.quantity)==="Low"?"bg-rose-500/90 text-white":"bg-emerald-600/90 text-white"}`,children:an(vn.quantity)})}),jsxRuntimeExports.jsx("td",{className:"p-2 min-w-[100px] max-w-[120px] text-center",children:vn.sourceOrderId?jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-1 rounded text-xs bg-blue-500 text-white break-words whitespace-normal leading-snug",children:"From Order"}):""}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>On(vn),className:"text-red-600 hover:text-red-800",title:"Delete Item",children:""})}),jsxRuntimeExports.jsx("td",{className:"p-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>{De(vn.id),je(!0)},className:"text-sm text-blue-600 underline",children:"Edit"})})]},vn.id)),Oe.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"13",className:"text-center p-4 text-gray-500",children:Fe.length===0?"No products found.":"Loading inventory..."})}):null]})]})}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Oe.map(vn=>jsxRuntimeExports.jsxs("div",{className:"p-4 rounded-xl border border-white/10 bg-white/5 shadow-lg flex flex-col hover:bg-white/10 transition-colors",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-2",children:jsxRuntimeExports.jsx("button",{className:"focus:outline-none",style:{width:"100%"},onClick:()=>ui(vn),title:"Click to upload image",children:jsxRuntimeExports.jsx("img",{src:vn.imageUrl||"/placeholder.png",alt:vn.productName,className:"w-full h-32 object-contain rounded border border-white/20 bg-white/5"})})}),jsxRuntimeExports.jsx("h3",{className:"font-semibold mb-1",children:vn.productName}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:[vn.brand," | ",vn.category]}),jsxRuntimeExports.jsxs("p",{className:"text-sm mb-1",children:["Qty: ",vn.quantity," | ",jsxRuntimeExports.jsxs("span",{className:"text-white/90",children:["",vn.sellingPrice]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-600 mb-1",children:["SKU: ",vn.sku||"N/A"," | Unit: ",vn.unit||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-auto",children:[jsxRuntimeExports.jsx("span",{className:`px-2 py-1 text-xs rounded font-semibold ${(vn.status||an(vn.quantity))==="In Stock"?"bg-emerald-600/90 text-white":"bg-rose-500/90 text-white"}`,children:vn.status||an(vn.quantity)}),jsxRuntimeExports.jsx("button",{className:"ml-auto text-red-600 hover:text-red-800 px-2",title:"Delete Item",onClick:()=>On(vn),children:""})]})]},vn.id))})]}),Ei==="recent"&&jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Recent Inventory Modifications"}),ei.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/60",children:"No recent modifications found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:ei.map((vn,Ni)=>jsxRuntimeExports.jsxs("div",{className:"shadow rounded-xl p-4 text-sm border border-white/10 bg-white/5 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold text-gray-700 mb-1",children:["SKU: ",vn.sku]}),jsxRuntimeExports.jsxs("div",{children:["Product: ",vn.productName||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Brand: ",vn.brand||"N/A"]}),jsxRuntimeExports.jsxs("div",{children:["Category: ",vn.category||"N/A"]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 text-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Action:"})," ",vn.action,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Source:"})," ",vn.source,jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Modified By:"})," ",vn.modifiedBy||"Unknown",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Time:"})," ",vn.modifiedAt?.toDate?.().toLocaleString?.()||"N/A",jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Changes:"}),jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Object.entries(vn.changes||{}).map(([xi,Gi])=>jsxRuntimeExports.jsxs("li",{children:[xi,": ",Gi.from??"N/A","  ",Gi.to??"N/A"]},xi))})]})]},Ni))})]}),fr&&jsxRuntimeExports.jsx(DeleteConfirmationModal,{product:yr,confirmationText:jr,onChange:vn=>vr(vn.target.value),onCancel:()=>{or(!1),Cr(null),vr("")},onConfirm:Mn}),Tr&&jsxRuntimeExports.jsx(UploadProductImageModal,{imageTargetProduct:Er,setShowImageModal:wr,setImageTargetProduct:Pr,setImageUploadFile:_r,setImageUploadError:br,setImagePreviewUrl:Qr,imageUploadFile:Mr,imageUploadLoading:Ir,imageUploadError:Or,imagePreviewUrl:Ur,handleImageFileChange:Vn,handleImageUpload:yi}),bn&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded shadow-lg w-11/12 max-w-2xl relative",children:[jsxRuntimeExports.jsx("button",{onClick:()=>hn(!1),className:"absolute top-2 right-2 text-gray-500 hover:text-red-600",children:""}),jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Search Product Images"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Enter product description...",className:"flex-grow border border-gray-300 px-4 py-2 rounded",value:yn,onChange:vn=>Zr(vn.target.value)}),jsxRuntimeExports.jsx("button",{onClick:Fi,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:Yn?"Searching...":"Search"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 max-h-80 overflow-y-auto",children:Rn.map((vn,Ni)=>jsxRuntimeExports.jsx("img",{src:vn,alt:"AI result",className:"w-full h-28 object-cover rounded cursor-pointer border hover:border-blue-500",onClick:()=>{navigator.clipboard.writeText(vn),alert("Image URL copied to clipboard!")}},Ni))})]})})]})},UploadProductImageModal=({imageTargetProduct:Re,setShowImageModal:Ce,setImageTargetProduct:je,setImageUploadFile:Be,setImageUploadError:De,setImagePreviewUrl:Fe,imageUploadFile:ke,imageUploadLoading:Oe,imageUploadError:Me,imagePreviewUrl:Ue,handleImageFileChange:$e,handleImageUpload:He})=>{const[Qe,We]=reactExports.useState(""),[qe,Ke]=reactExports.useState([]),[Xe,Ye]=reactExports.useState(!1),[Ze,Je]=reactExports.useState("unsplash"),tr=async()=>{Ye(!0);try{let ar=[];if(Ze==="unsplash")ar=await fetchUnsplashImages(Qe);else{const ir=(await __vitePreload(async()=>{const{default:nr}=await Promise.resolve().then(()=>fetchGoogleImages$1);return{default:nr}},void 0,import.meta.url)).default;ar=await ir(Qe)}Ke(ar)}catch(ar){console.error("Image search error:",ar)}Ye(!1)};reactExports.useEffect(()=>{const ar=ir=>{ir.key==="Escape"&&rr()};return window.addEventListener("keydown",ar),()=>window.removeEventListener("keydown",ar)},[]);const rr=()=>{Ce(!1),je(null),Be(null),De(""),Fe(null),We(""),Ke([])};return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/60",onClick:rr}),jsxRuntimeExports.jsxs("div",{className:"relative w-[95%] max-w-2xl rounded-2xl border border-white/10 bg-[#0B0F14]/95 text-white shadow-[0_24px_70px_rgba(0,0,0,0.6)] backdrop-blur-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/10",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold leading-tight",children:"Update Product Image"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/60 mt-0.5",children:Re?.productName||"Product"})]}),jsxRuntimeExports.jsx("button",{onClick:rr,className:"h-8 w-8 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center","aria-label":"Close",children:""})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex rounded-full bg-white/10 p-1 border border-white/10",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je("unsplash"),className:`px-3 py-1.5 rounded-full text-sm font-medium ${Ze==="unsplash"?"bg-emerald-500 text-white":"text-white/80 hover:text-white"}`,children:"Unsplash"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("google"),className:`px-3 py-1.5 rounded-full text-sm font-medium ${Ze==="google"?"bg-emerald-500 text-white":"text-white/80 hover:text-white"}`,children:"Google"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:`Search ${Ze==="unsplash"?"Unsplash":"Google"}`,value:Qe,onChange:ar=>We(ar.target.value),className:"flex-1 px-3 py-2 rounded-lg bg-white/10 border border-white/15 placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/40"}),jsxRuntimeExports.jsx("button",{className:"px-4 py-2 rounded-lg bg-gradient-to-r from-emerald-500 to-cyan-500 hover:brightness-110",onClick:tr,type:"button",disabled:Xe,children:Xe?"Searching":"Search"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 max-h-64 overflow-y-auto pr-1",children:[qe.map((ar,ir)=>jsxRuntimeExports.jsxs("button",{type:"button",className:"group relative aspect-square rounded-lg overflow-hidden border border-white/10 bg-white/5 hover:border-emerald-400/50",onClick:()=>{Be(null),De(""),Fe(ar)},children:[jsxRuntimeExports.jsx("img",{src:ar,alt:"search result",className:"h-full w-full object-cover",onError:nr=>nr.currentTarget.src="/placeholder.png"}),jsxRuntimeExports.jsx("span",{className:"absolute inset-0 hidden group-hover:block bg-black/20"})]},ir)),qe.length===0&&jsxRuntimeExports.jsx("div",{className:"col-span-full text-center text-sm text-white/60",children:"No images yet  try a different query."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:$e,className:"block w-full text-sm file:mr-4 file:py-2 file:px-3 file:rounded-lg file:border-0 file:bg-white/10 file:text-white hover:file:bg-white/20",disabled:Oe}),(Ue||ke)&&jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:Ue||"",alt:"Preview",className:"max-h-48 max-w-full rounded-lg border border-white/10 bg-white/5 object-contain"})}),Me&&jsxRuntimeExports.jsx("div",{className:"text-rose-400 text-sm",children:Me})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 px-5 py-4 border-t border-white/10",children:[jsxRuntimeExports.jsx("button",{onClick:rr,className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/15",disabled:Oe,children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:He,className:`px-4 py-2 rounded-lg ${(ke||Ue)&&!Oe?"bg-emerald-600 hover:bg-emerald-700":"bg-white/10 cursor-not-allowed"} `,disabled:!(ke||Ue)||Oe,children:Oe?"Uploading":"Upload"})]})]})]})},DistributorInventory=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState("add"),De=auth$2.currentUser?.uid;return reactExports.useEffect(()=>{const Fe=auth$2.currentUser;if(!Fe)return;const ke=collection(db$2,`businesses/${Fe.uid}/products`),Oe=onSnapshot(ke,Me=>{const Ue=Me.docs.map($e=>({id:$e.id,...$e.data()}));Ce(Ue)});return()=>Oe()},[]),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},className:"p-2 md:p-4 text-white",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap items-center gap-3 mb-5",children:[{id:"add",label:"Add Inventory"},{id:"view",label:"View Inventory"},{id:"group",label:"Item Groups"},{id:"lowstock",label:"Low Stock Alerts"}].map(Fe=>jsxRuntimeExports.jsx("button",{onClick:()=>Be(Fe.id),className:"px-4 py-2 rounded-lg text-sm font-medium transition-colors border "+(je===Fe.id?"bg-emerald-500 text-slate-900 border-transparent shadow":"bg-white/10 text-white/90 border-white/15 hover:bg-white/15"),children:Fe.label},Fe.id))}),je==="add"&&jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold",children:"Select Inventory Input Method"})}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[je==="add"&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(AddInventoryOptions$1,{userId:De,role:"distributor"})}),je==="view"&&jsxRuntimeExports.jsx("div",{className:"mt-2",children:jsxRuntimeExports.jsx(ViewInventory,{userId:De,db:db$2,role:"distributor"})}),je==="group"&&jsxRuntimeExports.jsx("div",{className:"text-white/70 italic",children:"This tab is under construction."}),je==="lowstock"&&jsxRuntimeExports.jsx("div",{className:"text-white/70 italic",children:"This tab is under construction."})]})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var XLSX={};XLSX.version="0.18.5";var current_ansi=1252,VALID_ANSI=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],set_ansi=function(Re){VALID_ANSI.indexOf(Re)!=-1&&(current_ansi=Re)};function reset_ansi(){set_ansi(1252)}var set_cp=function(Re){set_ansi(Re)};function reset_cp(){set_cp(1200),reset_ansi()}var _getchar=function Re(Ce){return String.fromCharCode(Ce)},_getansi=function Re(Ce){return String.fromCharCode(Ce)},$cptable,Base64_map="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Base64_encode(Re){for(var Ce="",je=0,Be=0,De=0,Fe=0,ke=0,Oe=0,Me=0,Ue=0;Ue<Re.length;)je=Re.charCodeAt(Ue++),Fe=je>>2,Be=Re.charCodeAt(Ue++),ke=(je&3)<<4|Be>>4,De=Re.charCodeAt(Ue++),Oe=(Be&15)<<2|De>>6,Me=De&63,isNaN(Be)?Oe=Me=64:isNaN(De)&&(Me=64),Ce+=Base64_map.charAt(Fe)+Base64_map.charAt(ke)+Base64_map.charAt(Oe)+Base64_map.charAt(Me);return Ce}function Base64_decode(Re){var Ce="",je=0,Be=0,De=0,Fe=0,ke=0,Oe=0,Me=0;Re=Re.replace(/[^\w\+\/\=]/g,"");for(var Ue=0;Ue<Re.length;)Fe=Base64_map.indexOf(Re.charAt(Ue++)),ke=Base64_map.indexOf(Re.charAt(Ue++)),je=Fe<<2|ke>>4,Ce+=String.fromCharCode(je),Oe=Base64_map.indexOf(Re.charAt(Ue++)),Be=(ke&15)<<4|Oe>>2,Oe!==64&&(Ce+=String.fromCharCode(Be)),Me=Base64_map.indexOf(Re.charAt(Ue++)),De=(Oe&3)<<6|Me,Me!==64&&(Ce+=String.fromCharCode(De));return Ce}var has_buf=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Buffer_from=(function(){if(typeof Buffer<"u"){var Re=!Buffer.from;if(!Re)try{Buffer.from("foo","utf8")}catch{Re=!0}return Re?function(Ce,je){return je?new Buffer(Ce,je):new Buffer(Ce)}:Buffer.from.bind(Buffer)}return function(){}})();function new_raw_buf(Re){return has_buf?Buffer.alloc?Buffer.alloc(Re):new Buffer(Re):typeof Uint8Array<"u"?new Uint8Array(Re):new Array(Re)}function new_unsafe_buf(Re){return has_buf?Buffer.allocUnsafe?Buffer.allocUnsafe(Re):new Buffer(Re):typeof Uint8Array<"u"?new Uint8Array(Re):new Array(Re)}var s2a=function Re(Ce){return has_buf?Buffer_from(Ce,"binary"):Ce.split("").map(function(je){return je.charCodeAt(0)&255})};function s2ab(Re){if(typeof ArrayBuffer>"u")return s2a(Re);for(var Ce=new ArrayBuffer(Re.length),je=new Uint8Array(Ce),Be=0;Be!=Re.length;++Be)je[Be]=Re.charCodeAt(Be)&255;return Ce}function a2s(Re){if(Array.isArray(Re))return Re.map(function(Be){return String.fromCharCode(Be)}).join("");for(var Ce=[],je=0;je<Re.length;++je)Ce[je]=String.fromCharCode(Re[je]);return Ce.join("")}function a2u(Re){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(Re)}var bconcat=has_buf?function(Re){return Buffer.concat(Re.map(function(Ce){return Buffer.isBuffer(Ce)?Ce:Buffer_from(Ce)}))}:function(Re){if(typeof Uint8Array<"u"){var Ce=0,je=0;for(Ce=0;Ce<Re.length;++Ce)je+=Re[Ce].length;var Be=new Uint8Array(je),De=0;for(Ce=0,je=0;Ce<Re.length;je+=De,++Ce)if(De=Re[Ce].length,Re[Ce]instanceof Uint8Array)Be.set(Re[Ce],je);else{if(typeof Re[Ce]=="string")throw"wtf";Be.set(new Uint8Array(Re[Ce]),je)}return Be}return[].concat.apply([],Re.map(function(Fe){return Array.isArray(Fe)?Fe:[].slice.call(Fe)}))};function utf8decode(Re){for(var Ce=[],je=0,Be=Re.length+250,De=new_raw_buf(Re.length+255),Fe=0;Fe<Re.length;++Fe){var ke=Re.charCodeAt(Fe);if(ke<128)De[je++]=ke;else if(ke<2048)De[je++]=192|ke>>6&31,De[je++]=128|ke&63;else if(ke>=55296&&ke<57344){ke=(ke&1023)+64;var Oe=Re.charCodeAt(++Fe)&1023;De[je++]=240|ke>>8&7,De[je++]=128|ke>>2&63,De[je++]=128|Oe>>6&15|(ke&3)<<4,De[je++]=128|Oe&63}else De[je++]=224|ke>>12&15,De[je++]=128|ke>>6&63,De[je++]=128|ke&63;je>Be&&(Ce.push(De.slice(0,je)),je=0,De=new_raw_buf(65535),Be=65530)}return Ce.push(De.slice(0,je)),bconcat(Ce)}var chr0=/\u0000/g,chr1=/[\u0001-\u0006]/g;function _strrev(Re){for(var Ce="",je=Re.length-1;je>=0;)Ce+=Re.charAt(je--);return Ce}function pad0(Re,Ce){var je=""+Re;return je.length>=Ce?je:fill("0",Ce-je.length)+je}function pad_(Re,Ce){var je=""+Re;return je.length>=Ce?je:fill(" ",Ce-je.length)+je}function rpad_(Re,Ce){var je=""+Re;return je.length>=Ce?je:je+fill(" ",Ce-je.length)}function pad0r1(Re,Ce){var je=""+Math.round(Re);return je.length>=Ce?je:fill("0",Ce-je.length)+je}function pad0r2(Re,Ce){var je=""+Re;return je.length>=Ce?je:fill("0",Ce-je.length)+je}var p2_32=Math.pow(2,32);function pad0r(Re,Ce){if(Re>p2_32||Re<-p2_32)return pad0r1(Re,Ce);var je=Math.round(Re);return pad0r2(je,Ce)}function SSF_isgeneral(Re,Ce){return Ce=Ce||0,Re.length>=7+Ce&&(Re.charCodeAt(Ce)|32)===103&&(Re.charCodeAt(Ce+1)|32)===101&&(Re.charCodeAt(Ce+2)|32)===110&&(Re.charCodeAt(Ce+3)|32)===101&&(Re.charCodeAt(Ce+4)|32)===114&&(Re.charCodeAt(Ce+5)|32)===97&&(Re.charCodeAt(Ce+6)|32)===108}var days=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],months=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function SSF_init_table(Re){return Re||(Re={}),Re[0]="General",Re[1]="0",Re[2]="0.00",Re[3]="#,##0",Re[4]="#,##0.00",Re[9]="0%",Re[10]="0.00%",Re[11]="0.00E+00",Re[12]="# ?/?",Re[13]="# ??/??",Re[14]="m/d/yy",Re[15]="d-mmm-yy",Re[16]="d-mmm",Re[17]="mmm-yy",Re[18]="h:mm AM/PM",Re[19]="h:mm:ss AM/PM",Re[20]="h:mm",Re[21]="h:mm:ss",Re[22]="m/d/yy h:mm",Re[37]="#,##0 ;(#,##0)",Re[38]="#,##0 ;[Red](#,##0)",Re[39]="#,##0.00;(#,##0.00)",Re[40]="#,##0.00;[Red](#,##0.00)",Re[45]="mm:ss",Re[46]="[h]:mm:ss",Re[47]="mmss.0",Re[48]="##0.0E+0",Re[49]="@",Re[56]='"/ "hh""mm""ss" "',Re}var table_fmt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},SSF_default_map={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},SSF_default_str={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function SSF_frac(Re,Ce,je){for(var Be=Re<0?-1:1,De=Re*Be,Fe=0,ke=1,Oe=0,Me=1,Ue=0,$e=0,He=Math.floor(De);Ue<Ce&&(He=Math.floor(De),Oe=He*ke+Fe,$e=He*Ue+Me,!(De-He<5e-8));)De=1/(De-He),Fe=ke,ke=Oe,Me=Ue,Ue=$e;if($e>Ce&&(Ue>Ce?($e=Me,Oe=Fe):($e=Ue,Oe=ke)),!je)return[0,Be*Oe,$e];var Qe=Math.floor(Be*Oe/$e);return[Qe,Be*Oe-Qe*$e,$e]}function SSF_parse_date_code(Re,Ce,je){if(Re>2958465||Re<0)return null;var Be=Re|0,De=Math.floor(86400*(Re-Be)),Fe=0,ke=[],Oe={D:Be,T:De,u:86400*(Re-Be)-De,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(Oe.u)<1e-6&&(Oe.u=0),Ce&&Ce.date1904&&(Be+=1462),Oe.u>.9999&&(Oe.u=0,++De==86400&&(Oe.T=De=0,++Be,++Oe.D)),Be===60)ke=je?[1317,10,29]:[1900,2,29],Fe=3;else if(Be===0)ke=je?[1317,8,29]:[1900,1,0],Fe=6;else{Be>60&&--Be;var Me=new Date(1900,0,1);Me.setDate(Me.getDate()+Be-1),ke=[Me.getFullYear(),Me.getMonth()+1,Me.getDate()],Fe=Me.getDay(),Be<60&&(Fe=(Fe+6)%7),je&&(Fe=SSF_fix_hijri(Me,ke))}return Oe.y=ke[0],Oe.m=ke[1],Oe.d=ke[2],Oe.S=De%60,De=Math.floor(De/60),Oe.M=De%60,De=Math.floor(De/60),Oe.H=De,Oe.q=Fe,Oe}var SSFbasedate=new Date(1899,11,31,0,0,0),SSFdnthresh=SSFbasedate.getTime(),SSFbase1904=new Date(1900,2,1,0,0,0);function datenum_local(Re,Ce){var je=Re.getTime();return Ce?je-=1461*24*60*60*1e3:Re>=SSFbase1904&&(je+=1440*60*1e3),(je-(SSFdnthresh+(Re.getTimezoneOffset()-SSFbasedate.getTimezoneOffset())*6e4))/(1440*60*1e3)}function SSF_strip_decimal(Re){return Re.indexOf(".")==-1?Re:Re.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function SSF_normalize_exp(Re){return Re.indexOf("E")==-1?Re:Re.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function SSF_small_exp(Re){var Ce=Re<0?12:11,je=SSF_strip_decimal(Re.toFixed(12));return je.length<=Ce||(je=Re.toPrecision(10),je.length<=Ce)?je:Re.toExponential(5)}function SSF_large_exp(Re){var Ce=SSF_strip_decimal(Re.toFixed(11));return Ce.length>(Re<0?12:11)||Ce==="0"||Ce==="-0"?Re.toPrecision(6):Ce}function SSF_general_num(Re){var Ce=Math.floor(Math.log(Math.abs(Re))*Math.LOG10E),je;return Ce>=-4&&Ce<=-1?je=Re.toPrecision(10+Ce):Math.abs(Ce)<=9?je=SSF_small_exp(Re):Ce===10?je=Re.toFixed(10).substr(0,12):je=SSF_large_exp(Re),SSF_strip_decimal(SSF_normalize_exp(je.toUpperCase()))}function SSF_general(Re,Ce){switch(typeof Re){case"string":return Re;case"boolean":return Re?"TRUE":"FALSE";case"number":return(Re|0)===Re?Re.toString(10):SSF_general_num(Re);case"undefined":return"";case"object":if(Re==null)return"";if(Re instanceof Date)return SSF_format(14,datenum_local(Re,Ce&&Ce.date1904),Ce)}throw new Error("unsupported value in General format: "+Re)}function SSF_fix_hijri(Re,Ce){Ce[0]-=581;var je=Re.getDay();return Re<60&&(je=(je+6)%7),je}function SSF_write_date(Re,Ce,je,Be){var De="",Fe=0,ke=0,Oe=je.y,Me,Ue=0;switch(Re){case 98:Oe=je.y+543;case 121:switch(Ce.length){case 1:case 2:Me=Oe%100,Ue=2;break;default:Me=Oe%1e4,Ue=4;break}break;case 109:switch(Ce.length){case 1:case 2:Me=je.m,Ue=Ce.length;break;case 3:return months[je.m-1][1];case 5:return months[je.m-1][0];default:return months[je.m-1][2]}break;case 100:switch(Ce.length){case 1:case 2:Me=je.d,Ue=Ce.length;break;case 3:return days[je.q][0];default:return days[je.q][1]}break;case 104:switch(Ce.length){case 1:case 2:Me=1+(je.H+11)%12,Ue=Ce.length;break;default:throw"bad hour format: "+Ce}break;case 72:switch(Ce.length){case 1:case 2:Me=je.H,Ue=Ce.length;break;default:throw"bad hour format: "+Ce}break;case 77:switch(Ce.length){case 1:case 2:Me=je.M,Ue=Ce.length;break;default:throw"bad minute format: "+Ce}break;case 115:if(Ce!="s"&&Ce!="ss"&&Ce!=".0"&&Ce!=".00"&&Ce!=".000")throw"bad second format: "+Ce;return je.u===0&&(Ce=="s"||Ce=="ss")?pad0(je.S,Ce.length):(Be>=2?ke=Be===3?1e3:100:ke=Be===1?10:1,Fe=Math.round(ke*(je.S+je.u)),Fe>=60*ke&&(Fe=0),Ce==="s"?Fe===0?"0":""+Fe/ke:(De=pad0(Fe,2+Be),Ce==="ss"?De.substr(0,2):"."+De.substr(2,Ce.length-1)));case 90:switch(Ce){case"[h]":case"[hh]":Me=je.D*24+je.H;break;case"[m]":case"[mm]":Me=(je.D*24+je.H)*60+je.M;break;case"[s]":case"[ss]":Me=((je.D*24+je.H)*60+je.M)*60+Math.round(je.S+je.u);break;default:throw"bad abstime format: "+Ce}Ue=Ce.length===3?1:2;break;case 101:Me=Oe,Ue=1;break}var $e=Ue>0?pad0(Me,Ue):"";return $e}function commaify(Re){var Ce=3;if(Re.length<=Ce)return Re;for(var je=Re.length%Ce,Be=Re.substr(0,je);je!=Re.length;je+=Ce)Be+=(Be.length>0?",":"")+Re.substr(je,Ce);return Be}var pct1=/%/g;function write_num_pct(Re,Ce,je){var Be=Ce.replace(pct1,""),De=Ce.length-Be.length;return write_num(Re,Be,je*Math.pow(10,2*De))+fill("%",De)}function write_num_cm(Re,Ce,je){for(var Be=Ce.length-1;Ce.charCodeAt(Be-1)===44;)--Be;return write_num(Re,Ce.substr(0,Be),je/Math.pow(10,3*(Ce.length-Be)))}function write_num_exp(Re,Ce){var je,Be=Re.indexOf("E")-Re.indexOf(".")-1;if(Re.match(/^#+0.0E\+0$/)){if(Ce==0)return"0.0E+0";if(Ce<0)return"-"+write_num_exp(Re,-Ce);var De=Re.indexOf(".");De===-1&&(De=Re.indexOf("E"));var Fe=Math.floor(Math.log(Ce)*Math.LOG10E)%De;if(Fe<0&&(Fe+=De),je=(Ce/Math.pow(10,Fe)).toPrecision(Be+1+(De+Fe)%De),je.indexOf("e")===-1){var ke=Math.floor(Math.log(Ce)*Math.LOG10E);for(je.indexOf(".")===-1?je=je.charAt(0)+"."+je.substr(1)+"E+"+(ke-je.length+Fe):je+="E+"+(ke-Fe);je.substr(0,2)==="0.";)je=je.charAt(0)+je.substr(2,De)+"."+je.substr(2+De),je=je.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");je=je.replace(/\+-/,"-")}je=je.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(Oe,Me,Ue,$e){return Me+Ue+$e.substr(0,(De+Fe)%De)+"."+$e.substr(Fe)+"E"})}else je=Ce.toExponential(Be);return Re.match(/E\+00$/)&&je.match(/e[+-]\d$/)&&(je=je.substr(0,je.length-1)+"0"+je.charAt(je.length-1)),Re.match(/E\-/)&&je.match(/e\+/)&&(je=je.replace(/e\+/,"e")),je.replace("e","E")}var frac1=/# (\?+)( ?)\/( ?)(\d+)/;function write_num_f1(Re,Ce,je){var Be=parseInt(Re[4],10),De=Math.round(Ce*Be),Fe=Math.floor(De/Be),ke=De-Fe*Be,Oe=Be;return je+(Fe===0?"":""+Fe)+" "+(ke===0?fill(" ",Re[1].length+1+Re[4].length):pad_(ke,Re[1].length)+Re[2]+"/"+Re[3]+pad0(Oe,Re[4].length))}function write_num_f2(Re,Ce,je){return je+(Ce===0?"":""+Ce)+fill(" ",Re[1].length+2+Re[4].length)}var dec1=/^#*0*\.([0#]+)/,closeparen=/\).*[0#]/,phone=/\(###\) ###\\?-####/;function hashq(Re){for(var Ce="",je,Be=0;Be!=Re.length;++Be)switch(je=Re.charCodeAt(Be)){case 35:break;case 63:Ce+=" ";break;case 48:Ce+="0";break;default:Ce+=String.fromCharCode(je)}return Ce}function rnd(Re,Ce){var je=Math.pow(10,Ce);return""+Math.round(Re*je)/je}function dec(Re,Ce){var je=Re-Math.floor(Re),Be=Math.pow(10,Ce);return Ce<(""+Math.round(je*Be)).length?0:Math.round(je*Be)}function carry(Re,Ce){return Ce<(""+Math.round((Re-Math.floor(Re))*Math.pow(10,Ce))).length?1:0}function flr(Re){return Re<2147483647&&Re>-2147483648?""+(Re>=0?Re|0:Re-1|0):""+Math.floor(Re)}function write_num_flt(Re,Ce,je){if(Re.charCodeAt(0)===40&&!Ce.match(closeparen)){var Be=Ce.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return je>=0?write_num_flt("n",Be,je):"("+write_num_flt("n",Be,-je)+")"}if(Ce.charCodeAt(Ce.length-1)===44)return write_num_cm(Re,Ce,je);if(Ce.indexOf("%")!==-1)return write_num_pct(Re,Ce,je);if(Ce.indexOf("E")!==-1)return write_num_exp(Ce,je);if(Ce.charCodeAt(0)===36)return"$"+write_num_flt(Re,Ce.substr(Ce.charAt(1)==" "?2:1),je);var De,Fe,ke,Oe,Me=Math.abs(je),Ue=je<0?"-":"";if(Ce.match(/^00+$/))return Ue+pad0r(Me,Ce.length);if(Ce.match(/^[#?]+$/))return De=pad0r(je,0),De==="0"&&(De=""),De.length>Ce.length?De:hashq(Ce.substr(0,Ce.length-De.length))+De;if(Fe=Ce.match(frac1))return write_num_f1(Fe,Me,Ue);if(Ce.match(/^#+0+$/))return Ue+pad0r(Me,Ce.length-Ce.indexOf("0"));if(Fe=Ce.match(dec1))return De=rnd(je,Fe[1].length).replace(/^([^\.]+)$/,"$1."+hashq(Fe[1])).replace(/\.$/,"."+hashq(Fe[1])).replace(/\.(\d*)$/,function(qe,Ke){return"."+Ke+fill("0",hashq(Fe[1]).length-Ke.length)}),Ce.indexOf("0.")!==-1?De:De.replace(/^0\./,".");if(Ce=Ce.replace(/^#+([0.])/,"$1"),Fe=Ce.match(/^(0*)\.(#*)$/))return Ue+rnd(Me,Fe[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Fe[1].length?"0.":".");if(Fe=Ce.match(/^#{1,3},##0(\.?)$/))return Ue+commaify(pad0r(Me,0));if(Fe=Ce.match(/^#,##0\.([#0]*0)$/))return je<0?"-"+write_num_flt(Re,Ce,-je):commaify(""+(Math.floor(je)+carry(je,Fe[1].length)))+"."+pad0(dec(je,Fe[1].length),Fe[1].length);if(Fe=Ce.match(/^#,#*,#0/))return write_num_flt(Re,Ce.replace(/^#,#*,/,""),je);if(Fe=Ce.match(/^([0#]+)(\\?-([0#]+))+$/))return De=_strrev(write_num_flt(Re,Ce.replace(/[\\-]/g,""),je)),ke=0,_strrev(_strrev(Ce.replace(/\\/g,"")).replace(/[0#]/g,function(qe){return ke<De.length?De.charAt(ke++):qe==="0"?"0":""}));if(Ce.match(phone))return De=write_num_flt(Re,"##########",je),"("+De.substr(0,3)+") "+De.substr(3,3)+"-"+De.substr(6);var $e="";if(Fe=Ce.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(Fe[4].length,7),Oe=SSF_frac(Me,Math.pow(10,ke)-1,!1),De=""+Ue,$e=write_num("n",Fe[1],Oe[1]),$e.charAt($e.length-1)==" "&&($e=$e.substr(0,$e.length-1)+"0"),De+=$e+Fe[2]+"/"+Fe[3],$e=rpad_(Oe[2],ke),$e.length<Fe[4].length&&($e=hashq(Fe[4].substr(Fe[4].length-$e.length))+$e),De+=$e,De;if(Fe=Ce.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(Math.max(Fe[1].length,Fe[4].length),7),Oe=SSF_frac(Me,Math.pow(10,ke)-1,!0),Ue+(Oe[0]||(Oe[1]?"":"0"))+" "+(Oe[1]?pad_(Oe[1],ke)+Fe[2]+"/"+Fe[3]+rpad_(Oe[2],ke):fill(" ",2*ke+1+Fe[2].length+Fe[3].length));if(Fe=Ce.match(/^[#0?]+$/))return De=pad0r(je,0),Ce.length<=De.length?De:hashq(Ce.substr(0,Ce.length-De.length))+De;if(Fe=Ce.match(/^([#0?]+)\.([#0]+)$/)){De=""+je.toFixed(Math.min(Fe[2].length,10)).replace(/([^0])0+$/,"$1"),ke=De.indexOf(".");var He=Ce.indexOf(".")-ke,Qe=Ce.length-De.length-He;return hashq(Ce.substr(0,He)+De+Ce.substr(Ce.length-Qe))}if(Fe=Ce.match(/^00,000\.([#0]*0)$/))return ke=dec(je,Fe[1].length),je<0?"-"+write_num_flt(Re,Ce,-je):commaify(flr(je)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(qe){return"00,"+(qe.length<3?pad0(0,3-qe.length):"")+qe})+"."+pad0(ke,Fe[1].length);switch(Ce){case"###,##0.00":return write_num_flt(Re,"#,##0.00",je);case"###,###":case"##,###":case"#,###":var We=commaify(pad0r(Me,0));return We!=="0"?Ue+We:"";case"###,###.00":return write_num_flt(Re,"###,##0.00",je).replace(/^0\./,".");case"#,###.00":return write_num_flt(Re,"#,##0.00",je).replace(/^0\./,".")}throw new Error("unsupported format |"+Ce+"|")}function write_num_cm2(Re,Ce,je){for(var Be=Ce.length-1;Ce.charCodeAt(Be-1)===44;)--Be;return write_num(Re,Ce.substr(0,Be),je/Math.pow(10,3*(Ce.length-Be)))}function write_num_pct2(Re,Ce,je){var Be=Ce.replace(pct1,""),De=Ce.length-Be.length;return write_num(Re,Be,je*Math.pow(10,2*De))+fill("%",De)}function write_num_exp2(Re,Ce){var je,Be=Re.indexOf("E")-Re.indexOf(".")-1;if(Re.match(/^#+0.0E\+0$/)){if(Ce==0)return"0.0E+0";if(Ce<0)return"-"+write_num_exp2(Re,-Ce);var De=Re.indexOf(".");De===-1&&(De=Re.indexOf("E"));var Fe=Math.floor(Math.log(Ce)*Math.LOG10E)%De;if(Fe<0&&(Fe+=De),je=(Ce/Math.pow(10,Fe)).toPrecision(Be+1+(De+Fe)%De),!je.match(/[Ee]/)){var ke=Math.floor(Math.log(Ce)*Math.LOG10E);je.indexOf(".")===-1?je=je.charAt(0)+"."+je.substr(1)+"E+"+(ke-je.length+Fe):je+="E+"+(ke-Fe),je=je.replace(/\+-/,"-")}je=je.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(Oe,Me,Ue,$e){return Me+Ue+$e.substr(0,(De+Fe)%De)+"."+$e.substr(Fe)+"E"})}else je=Ce.toExponential(Be);return Re.match(/E\+00$/)&&je.match(/e[+-]\d$/)&&(je=je.substr(0,je.length-1)+"0"+je.charAt(je.length-1)),Re.match(/E\-/)&&je.match(/e\+/)&&(je=je.replace(/e\+/,"e")),je.replace("e","E")}function write_num_int(Re,Ce,je){if(Re.charCodeAt(0)===40&&!Ce.match(closeparen)){var Be=Ce.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return je>=0?write_num_int("n",Be,je):"("+write_num_int("n",Be,-je)+")"}if(Ce.charCodeAt(Ce.length-1)===44)return write_num_cm2(Re,Ce,je);if(Ce.indexOf("%")!==-1)return write_num_pct2(Re,Ce,je);if(Ce.indexOf("E")!==-1)return write_num_exp2(Ce,je);if(Ce.charCodeAt(0)===36)return"$"+write_num_int(Re,Ce.substr(Ce.charAt(1)==" "?2:1),je);var De,Fe,ke,Oe,Me=Math.abs(je),Ue=je<0?"-":"";if(Ce.match(/^00+$/))return Ue+pad0(Me,Ce.length);if(Ce.match(/^[#?]+$/))return De=""+je,je===0&&(De=""),De.length>Ce.length?De:hashq(Ce.substr(0,Ce.length-De.length))+De;if(Fe=Ce.match(frac1))return write_num_f2(Fe,Me,Ue);if(Ce.match(/^#+0+$/))return Ue+pad0(Me,Ce.length-Ce.indexOf("0"));if(Fe=Ce.match(dec1))return De=(""+je).replace(/^([^\.]+)$/,"$1."+hashq(Fe[1])).replace(/\.$/,"."+hashq(Fe[1])),De=De.replace(/\.(\d*)$/,function(qe,Ke){return"."+Ke+fill("0",hashq(Fe[1]).length-Ke.length)}),Ce.indexOf("0.")!==-1?De:De.replace(/^0\./,".");if(Ce=Ce.replace(/^#+([0.])/,"$1"),Fe=Ce.match(/^(0*)\.(#*)$/))return Ue+(""+Me).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,Fe[1].length?"0.":".");if(Fe=Ce.match(/^#{1,3},##0(\.?)$/))return Ue+commaify(""+Me);if(Fe=Ce.match(/^#,##0\.([#0]*0)$/))return je<0?"-"+write_num_int(Re,Ce,-je):commaify(""+je)+"."+fill("0",Fe[1].length);if(Fe=Ce.match(/^#,#*,#0/))return write_num_int(Re,Ce.replace(/^#,#*,/,""),je);if(Fe=Ce.match(/^([0#]+)(\\?-([0#]+))+$/))return De=_strrev(write_num_int(Re,Ce.replace(/[\\-]/g,""),je)),ke=0,_strrev(_strrev(Ce.replace(/\\/g,"")).replace(/[0#]/g,function(qe){return ke<De.length?De.charAt(ke++):qe==="0"?"0":""}));if(Ce.match(phone))return De=write_num_int(Re,"##########",je),"("+De.substr(0,3)+") "+De.substr(3,3)+"-"+De.substr(6);var $e="";if(Fe=Ce.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(Fe[4].length,7),Oe=SSF_frac(Me,Math.pow(10,ke)-1,!1),De=""+Ue,$e=write_num("n",Fe[1],Oe[1]),$e.charAt($e.length-1)==" "&&($e=$e.substr(0,$e.length-1)+"0"),De+=$e+Fe[2]+"/"+Fe[3],$e=rpad_(Oe[2],ke),$e.length<Fe[4].length&&($e=hashq(Fe[4].substr(Fe[4].length-$e.length))+$e),De+=$e,De;if(Fe=Ce.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return ke=Math.min(Math.max(Fe[1].length,Fe[4].length),7),Oe=SSF_frac(Me,Math.pow(10,ke)-1,!0),Ue+(Oe[0]||(Oe[1]?"":"0"))+" "+(Oe[1]?pad_(Oe[1],ke)+Fe[2]+"/"+Fe[3]+rpad_(Oe[2],ke):fill(" ",2*ke+1+Fe[2].length+Fe[3].length));if(Fe=Ce.match(/^[#0?]+$/))return De=""+je,Ce.length<=De.length?De:hashq(Ce.substr(0,Ce.length-De.length))+De;if(Fe=Ce.match(/^([#0]+)\.([#0]+)$/)){De=""+je.toFixed(Math.min(Fe[2].length,10)).replace(/([^0])0+$/,"$1"),ke=De.indexOf(".");var He=Ce.indexOf(".")-ke,Qe=Ce.length-De.length-He;return hashq(Ce.substr(0,He)+De+Ce.substr(Ce.length-Qe))}if(Fe=Ce.match(/^00,000\.([#0]*0)$/))return je<0?"-"+write_num_int(Re,Ce,-je):commaify(""+je).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(qe){return"00,"+(qe.length<3?pad0(0,3-qe.length):"")+qe})+"."+pad0(0,Fe[1].length);switch(Ce){case"###,###":case"##,###":case"#,###":var We=commaify(""+Me);return We!=="0"?Ue+We:"";default:if(Ce.match(/\.[0#?]*$/))return write_num_int(Re,Ce.slice(0,Ce.lastIndexOf(".")),je)+hashq(Ce.slice(Ce.lastIndexOf(".")))}throw new Error("unsupported format |"+Ce+"|")}function write_num(Re,Ce,je){return(je|0)===je?write_num_int(Re,Ce,je):write_num_flt(Re,Ce,je)}function SSF_split_fmt(Re){for(var Ce=[],je=!1,Be=0,De=0;Be<Re.length;++Be)switch(Re.charCodeAt(Be)){case 34:je=!je;break;case 95:case 42:case 92:++Be;break;case 59:Ce[Ce.length]=Re.substr(De,Be-De),De=Be+1}if(Ce[Ce.length]=Re.substr(De),je===!0)throw new Error("Format |"+Re+"| unterminated string ");return Ce}var SSF_abstime=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function fmt_is_date(Re){for(var Ce=0,je="",Be="";Ce<Re.length;)switch(je=Re.charAt(Ce)){case"G":SSF_isgeneral(Re,Ce)&&(Ce+=6),Ce++;break;case'"':for(;Re.charCodeAt(++Ce)!==34&&Ce<Re.length;);++Ce;break;case"\\":Ce+=2;break;case"_":Ce+=2;break;case"@":++Ce;break;case"B":case"b":if(Re.charAt(Ce+1)==="1"||Re.charAt(Ce+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(Re.substr(Ce,3).toUpperCase()==="A/P"||Re.substr(Ce,5).toUpperCase()==="AM/PM"||Re.substr(Ce,5).toUpperCase()==="/")return!0;++Ce;break;case"[":for(Be=je;Re.charAt(Ce++)!=="]"&&Ce<Re.length;)Be+=Re.charAt(Ce);if(Be.match(SSF_abstime))return!0;break;case".":case"0":case"#":for(;Ce<Re.length&&("0#?.,E+-%".indexOf(je=Re.charAt(++Ce))>-1||je=="\\"&&Re.charAt(Ce+1)=="-"&&"0#".indexOf(Re.charAt(Ce+2))>-1););break;case"?":for(;Re.charAt(++Ce)===je;);break;case"*":++Ce,(Re.charAt(Ce)==" "||Re.charAt(Ce)=="*")&&++Ce;break;case"(":case")":++Ce;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;Ce<Re.length&&"0123456789".indexOf(Re.charAt(++Ce))>-1;);break;case" ":++Ce;break;default:++Ce;break}return!1}function eval_fmt(Re,Ce,je,Be){for(var De=[],Fe="",ke=0,Oe="",Me="t",Ue,$e,He,Qe="H";ke<Re.length;)switch(Oe=Re.charAt(ke)){case"G":if(!SSF_isgeneral(Re,ke))throw new Error("unrecognized character "+Oe+" in "+Re);De[De.length]={t:"G",v:"General"},ke+=7;break;case'"':for(Fe="";(He=Re.charCodeAt(++ke))!==34&&ke<Re.length;)Fe+=String.fromCharCode(He);De[De.length]={t:"t",v:Fe},++ke;break;case"\\":var We=Re.charAt(++ke),qe=We==="("||We===")"?We:"t";De[De.length]={t:qe,v:We},++ke;break;case"_":De[De.length]={t:"t",v:" "},ke+=2;break;case"@":De[De.length]={t:"T",v:Ce},++ke;break;case"B":case"b":if(Re.charAt(ke+1)==="1"||Re.charAt(ke+1)==="2"){if(Ue==null&&(Ue=SSF_parse_date_code(Ce,je,Re.charAt(ke+1)==="2"),Ue==null))return"";De[De.length]={t:"X",v:Re.substr(ke,2)},Me=Oe,ke+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":Oe=Oe.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(Ce<0||Ue==null&&(Ue=SSF_parse_date_code(Ce,je),Ue==null))return"";for(Fe=Oe;++ke<Re.length&&Re.charAt(ke).toLowerCase()===Oe;)Fe+=Oe;Oe==="m"&&Me.toLowerCase()==="h"&&(Oe="M"),Oe==="h"&&(Oe=Qe),De[De.length]={t:Oe,v:Fe},Me=Oe;break;case"A":case"a":case"":var Ke={t:Oe,v:Oe};if(Ue==null&&(Ue=SSF_parse_date_code(Ce,je)),Re.substr(ke,3).toUpperCase()==="A/P"?(Ue!=null&&(Ke.v=Ue.H>=12?"P":"A"),Ke.t="T",Qe="h",ke+=3):Re.substr(ke,5).toUpperCase()==="AM/PM"?(Ue!=null&&(Ke.v=Ue.H>=12?"PM":"AM"),Ke.t="T",ke+=5,Qe="h"):Re.substr(ke,5).toUpperCase()==="/"?(Ue!=null&&(Ke.v=Ue.H>=12?"":""),Ke.t="T",ke+=5,Qe="h"):(Ke.t="t",++ke),Ue==null&&Ke.t==="T")return"";De[De.length]=Ke,Me=Oe;break;case"[":for(Fe=Oe;Re.charAt(ke++)!=="]"&&ke<Re.length;)Fe+=Re.charAt(ke);if(Fe.slice(-1)!=="]")throw'unterminated "[" block: |'+Fe+"|";if(Fe.match(SSF_abstime)){if(Ue==null&&(Ue=SSF_parse_date_code(Ce,je),Ue==null))return"";De[De.length]={t:"Z",v:Fe.toLowerCase()},Me=Fe.charAt(1)}else Fe.indexOf("$")>-1&&(Fe=(Fe.match(/\$([^-\[\]]*)/)||[])[1]||"$",fmt_is_date(Re)||(De[De.length]={t:"t",v:Fe}));break;case".":if(Ue!=null){for(Fe=Oe;++ke<Re.length&&(Oe=Re.charAt(ke))==="0";)Fe+=Oe;De[De.length]={t:"s",v:Fe};break}case"0":case"#":for(Fe=Oe;++ke<Re.length&&"0#?.,E+-%".indexOf(Oe=Re.charAt(ke))>-1;)Fe+=Oe;De[De.length]={t:"n",v:Fe};break;case"?":for(Fe=Oe;Re.charAt(++ke)===Oe;)Fe+=Oe;De[De.length]={t:Oe,v:Fe},Me=Oe;break;case"*":++ke,(Re.charAt(ke)==" "||Re.charAt(ke)=="*")&&++ke;break;case"(":case")":De[De.length]={t:Be===1?"t":Oe,v:Oe},++ke;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(Fe=Oe;ke<Re.length&&"0123456789".indexOf(Re.charAt(++ke))>-1;)Fe+=Re.charAt(ke);De[De.length]={t:"D",v:Fe};break;case" ":De[De.length]={t:Oe,v:Oe},++ke;break;case"$":De[De.length]={t:"t",v:"$"},++ke;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(Oe)===-1)throw new Error("unrecognized character "+Oe+" in "+Re);De[De.length]={t:"t",v:Oe},++ke;break}var Xe=0,Ye=0,Ze;for(ke=De.length-1,Me="t";ke>=0;--ke)switch(De[ke].t){case"h":case"H":De[ke].t=Qe,Me="h",Xe<1&&(Xe=1);break;case"s":(Ze=De[ke].v.match(/\.0+$/))&&(Ye=Math.max(Ye,Ze[0].length-1)),Xe<3&&(Xe=3);case"d":case"y":case"M":case"e":Me=De[ke].t;break;case"m":Me==="s"&&(De[ke].t="M",Xe<2&&(Xe=2));break;case"X":break;case"Z":Xe<1&&De[ke].v.match(/[Hh]/)&&(Xe=1),Xe<2&&De[ke].v.match(/[Mm]/)&&(Xe=2),Xe<3&&De[ke].v.match(/[Ss]/)&&(Xe=3)}switch(Xe){case 0:break;case 1:Ue.u>=.5&&(Ue.u=0,++Ue.S),Ue.S>=60&&(Ue.S=0,++Ue.M),Ue.M>=60&&(Ue.M=0,++Ue.H);break;case 2:Ue.u>=.5&&(Ue.u=0,++Ue.S),Ue.S>=60&&(Ue.S=0,++Ue.M);break}var Je="",tr;for(ke=0;ke<De.length;++ke)switch(De[ke].t){case"t":case"T":case" ":case"D":break;case"X":De[ke].v="",De[ke].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":De[ke].v=SSF_write_date(De[ke].t.charCodeAt(0),De[ke].v,Ue,Ye),De[ke].t="t";break;case"n":case"?":for(tr=ke+1;De[tr]!=null&&((Oe=De[tr].t)==="?"||Oe==="D"||(Oe===" "||Oe==="t")&&De[tr+1]!=null&&(De[tr+1].t==="?"||De[tr+1].t==="t"&&De[tr+1].v==="/")||De[ke].t==="("&&(Oe===" "||Oe==="n"||Oe===")")||Oe==="t"&&(De[tr].v==="/"||De[tr].v===" "&&De[tr+1]!=null&&De[tr+1].t=="?"));)De[ke].v+=De[tr].v,De[tr]={v:"",t:";"},++tr;Je+=De[ke].v,ke=tr-1;break;case"G":De[ke].t="t",De[ke].v=SSF_general(Ce,je);break}var rr="",ar,ir;if(Je.length>0){Je.charCodeAt(0)==40?(ar=Ce<0&&Je.charCodeAt(0)===45?-Ce:Ce,ir=write_num("n",Je,ar)):(ar=Ce<0&&Be>1?-Ce:Ce,ir=write_num("n",Je,ar),ar<0&&De[0]&&De[0].t=="t"&&(ir=ir.substr(1),De[0].v="-"+De[0].v)),tr=ir.length-1;var nr=De.length;for(ke=0;ke<De.length;++ke)if(De[ke]!=null&&De[ke].t!="t"&&De[ke].v.indexOf(".")>-1){nr=ke;break}var cr=De.length;if(nr===De.length&&ir.indexOf("E")===-1){for(ke=De.length-1;ke>=0;--ke)De[ke]==null||"n?".indexOf(De[ke].t)===-1||(tr>=De[ke].v.length-1?(tr-=De[ke].v.length,De[ke].v=ir.substr(tr+1,De[ke].v.length)):tr<0?De[ke].v="":(De[ke].v=ir.substr(0,tr+1),tr=-1),De[ke].t="t",cr=ke);tr>=0&&cr<De.length&&(De[cr].v=ir.substr(0,tr+1)+De[cr].v)}else if(nr!==De.length&&ir.indexOf("E")===-1){for(tr=ir.indexOf(".")-1,ke=nr;ke>=0;--ke)if(!(De[ke]==null||"n?".indexOf(De[ke].t)===-1)){for($e=De[ke].v.indexOf(".")>-1&&ke===nr?De[ke].v.indexOf(".")-1:De[ke].v.length-1,rr=De[ke].v.substr($e+1);$e>=0;--$e)tr>=0&&(De[ke].v.charAt($e)==="0"||De[ke].v.charAt($e)==="#")&&(rr=ir.charAt(tr--)+rr);De[ke].v=rr,De[ke].t="t",cr=ke}for(tr>=0&&cr<De.length&&(De[cr].v=ir.substr(0,tr+1)+De[cr].v),tr=ir.indexOf(".")+1,ke=nr;ke<De.length;++ke)if(!(De[ke]==null||"n?(".indexOf(De[ke].t)===-1&&ke!==nr)){for($e=De[ke].v.indexOf(".")>-1&&ke===nr?De[ke].v.indexOf(".")+1:0,rr=De[ke].v.substr(0,$e);$e<De[ke].v.length;++$e)tr<ir.length&&(rr+=ir.charAt(tr++));De[ke].v=rr,De[ke].t="t",cr=ke}}}for(ke=0;ke<De.length;++ke)De[ke]!=null&&"n?".indexOf(De[ke].t)>-1&&(ar=Be>1&&Ce<0&&ke>0&&De[ke-1].v==="-"?-Ce:Ce,De[ke].v=write_num(De[ke].t,De[ke].v,ar),De[ke].t="t");var mr="";for(ke=0;ke!==De.length;++ke)De[ke]!=null&&(mr+=De[ke].v);return mr}var cfregex2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function chkcond(Re,Ce){if(Ce==null)return!1;var je=parseFloat(Ce[2]);switch(Ce[1]){case"=":if(Re==je)return!0;break;case">":if(Re>je)return!0;break;case"<":if(Re<je)return!0;break;case"<>":if(Re!=je)return!0;break;case">=":if(Re>=je)return!0;break;case"<=":if(Re<=je)return!0;break}return!1}function choose_fmt(Re,Ce){var je=SSF_split_fmt(Re),Be=je.length,De=je[Be-1].indexOf("@");if(Be<4&&De>-1&&--Be,je.length>4)throw new Error("cannot find right format for |"+je.join("|")+"|");if(typeof Ce!="number")return[4,je.length===4||De>-1?je[je.length-1]:"@"];switch(je.length){case 1:je=De>-1?["General","General","General",je[0]]:[je[0],je[0],je[0],"@"];break;case 2:je=De>-1?[je[0],je[0],je[0],je[1]]:[je[0],je[1],je[0],"@"];break;case 3:je=De>-1?[je[0],je[1],je[0],je[2]]:[je[0],je[1],je[2],"@"];break}var Fe=Ce>0?je[0]:Ce<0?je[1]:je[2];if(je[0].indexOf("[")===-1&&je[1].indexOf("[")===-1)return[Be,Fe];if(je[0].match(/\[[=<>]/)!=null||je[1].match(/\[[=<>]/)!=null){var ke=je[0].match(cfregex2),Oe=je[1].match(cfregex2);return chkcond(Ce,ke)?[Be,je[0]]:chkcond(Ce,Oe)?[Be,je[1]]:[Be,je[ke!=null&&Oe!=null?2:1]]}return[Be,Fe]}function SSF_format(Re,Ce,je){je==null&&(je={});var Be="";switch(typeof Re){case"string":Re=="m/d/yy"&&je.dateNF?Be=je.dateNF:Be=Re;break;case"number":Re==14&&je.dateNF?Be=je.dateNF:Be=(je.table!=null?je.table:table_fmt)[Re],Be==null&&(Be=je.table&&je.table[SSF_default_map[Re]]||table_fmt[SSF_default_map[Re]]),Be==null&&(Be=SSF_default_str[Re]||"General");break}if(SSF_isgeneral(Be,0))return SSF_general(Ce,je);Ce instanceof Date&&(Ce=datenum_local(Ce,je.date1904));var De=choose_fmt(Be,Ce);if(SSF_isgeneral(De[1]))return SSF_general(Ce,je);if(Ce===!0)Ce="TRUE";else if(Ce===!1)Ce="FALSE";else if(Ce===""||Ce==null)return"";return eval_fmt(De[1],Ce,je,De[0])}function SSF_load(Re,Ce){if(typeof Ce!="number"){Ce=+Ce||-1;for(var je=0;je<392;++je){if(table_fmt[je]==null){Ce<0&&(Ce=je);continue}if(table_fmt[je]==Re){Ce=je;break}}Ce<0&&(Ce=391)}return table_fmt[Ce]=Re,Ce}function SSF_load_table(Re){for(var Ce=0;Ce!=392;++Ce)Re[Ce]!==void 0&&SSF_load(Re[Ce],Ce)}function make_ssf(){table_fmt=SSF_init_table()}var dateNFregex=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dateNF_regex(Re){var Ce=typeof Re=="number"?table_fmt[Re]:Re;return Ce=Ce.replace(dateNFregex,"(\\d+)"),new RegExp("^"+Ce+"$")}function dateNF_fix(Re,Ce,je){var Be=-1,De=-1,Fe=-1,ke=-1,Oe=-1,Me=-1;(Ce.match(dateNFregex)||[]).forEach(function(He,Qe){var We=parseInt(je[Qe+1],10);switch(He.toLowerCase().charAt(0)){case"y":Be=We;break;case"d":Fe=We;break;case"h":ke=We;break;case"s":Me=We;break;case"m":ke>=0?Oe=We:De=We;break}}),Me>=0&&Oe==-1&&De>=0&&(Oe=De,De=-1);var Ue=(""+(Be>=0?Be:new Date().getFullYear())).slice(-4)+"-"+("00"+(De>=1?De:1)).slice(-2)+"-"+("00"+(Fe>=1?Fe:1)).slice(-2);Ue.length==7&&(Ue="0"+Ue),Ue.length==8&&(Ue="20"+Ue);var $e=("00"+(ke>=0?ke:0)).slice(-2)+":"+("00"+(Oe>=0?Oe:0)).slice(-2)+":"+("00"+(Me>=0?Me:0)).slice(-2);return ke==-1&&Oe==-1&&Me==-1?Ue:Be==-1&&De==-1&&Fe==-1?$e:Ue+"T"+$e}var CRC32=(function(){var Re={};Re.version="1.2.0";function Ce(){for(var ir=0,nr=new Array(256),cr=0;cr!=256;++cr)ir=cr,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,ir=ir&1?-306674912^ir>>>1:ir>>>1,nr[cr]=ir;return typeof Int32Array<"u"?new Int32Array(nr):nr}var je=Ce();function Be(ir){var nr=0,cr=0,mr=0,fr=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(mr=0;mr!=256;++mr)fr[mr]=ir[mr];for(mr=0;mr!=256;++mr)for(cr=ir[mr],nr=256+mr;nr<4096;nr+=256)cr=fr[nr]=cr>>>8^ir[cr&255];var or=[];for(mr=1;mr!=16;++mr)or[mr-1]=typeof Int32Array<"u"?fr.subarray(mr*256,mr*256+256):fr.slice(mr*256,mr*256+256);return or}var De=Be(je),Fe=De[0],ke=De[1],Oe=De[2],Me=De[3],Ue=De[4],$e=De[5],He=De[6],Qe=De[7],We=De[8],qe=De[9],Ke=De[10],Xe=De[11],Ye=De[12],Ze=De[13],Je=De[14];function tr(ir,nr){for(var cr=nr^-1,mr=0,fr=ir.length;mr<fr;)cr=cr>>>8^je[(cr^ir.charCodeAt(mr++))&255];return~cr}function rr(ir,nr){for(var cr=nr^-1,mr=ir.length-15,fr=0;fr<mr;)cr=Je[ir[fr++]^cr&255]^Ze[ir[fr++]^cr>>8&255]^Ye[ir[fr++]^cr>>16&255]^Xe[ir[fr++]^cr>>>24]^Ke[ir[fr++]]^qe[ir[fr++]]^We[ir[fr++]]^Qe[ir[fr++]]^He[ir[fr++]]^$e[ir[fr++]]^Ue[ir[fr++]]^Me[ir[fr++]]^Oe[ir[fr++]]^ke[ir[fr++]]^Fe[ir[fr++]]^je[ir[fr++]];for(mr+=15;fr<mr;)cr=cr>>>8^je[(cr^ir[fr++])&255];return~cr}function ar(ir,nr){for(var cr=nr^-1,mr=0,fr=ir.length,or=0,yr=0;mr<fr;)or=ir.charCodeAt(mr++),or<128?cr=cr>>>8^je[(cr^or)&255]:or<2048?(cr=cr>>>8^je[(cr^(192|or>>6&31))&255],cr=cr>>>8^je[(cr^(128|or&63))&255]):or>=55296&&or<57344?(or=(or&1023)+64,yr=ir.charCodeAt(mr++)&1023,cr=cr>>>8^je[(cr^(240|or>>8&7))&255],cr=cr>>>8^je[(cr^(128|or>>2&63))&255],cr=cr>>>8^je[(cr^(128|yr>>6&15|(or&3)<<4))&255],cr=cr>>>8^je[(cr^(128|yr&63))&255]):(cr=cr>>>8^je[(cr^(224|or>>12&15))&255],cr=cr>>>8^je[(cr^(128|or>>6&63))&255],cr=cr>>>8^je[(cr^(128|or&63))&255]);return~cr}return Re.table=je,Re.bstr=tr,Re.buf=rr,Re.str=ar,Re})(),CFB=(function Re(){var Ce={};Ce.version="1.2.1";function je(qr,pn){for(var on=qr.split("/"),cn=pn.split("/"),mn=0,gn=0,Un=Math.min(on.length,cn.length);mn<Un;++mn){if(gn=on[mn].length-cn[mn].length)return gn;if(on[mn]!=cn[mn])return on[mn]<cn[mn]?-1:1}return on.length-cn.length}function Be(qr){if(qr.charAt(qr.length-1)=="/")return qr.slice(0,-1).indexOf("/")===-1?qr:Be(qr.slice(0,-1));var pn=qr.lastIndexOf("/");return pn===-1?qr:qr.slice(0,pn+1)}function De(qr){if(qr.charAt(qr.length-1)=="/")return De(qr.slice(0,-1));var pn=qr.lastIndexOf("/");return pn===-1?qr:qr.slice(pn+1)}function Fe(qr,pn){typeof pn=="string"&&(pn=new Date(pn));var on=pn.getHours();on=on<<6|pn.getMinutes(),on=on<<5|pn.getSeconds()>>>1,qr.write_shift(2,on);var cn=pn.getFullYear()-1980;cn=cn<<4|pn.getMonth()+1,cn=cn<<5|pn.getDate(),qr.write_shift(2,cn)}function ke(qr){var pn=qr.read_shift(2)&65535,on=qr.read_shift(2)&65535,cn=new Date,mn=on&31;on>>>=5;var gn=on&15;on>>>=4,cn.setMilliseconds(0),cn.setFullYear(on+1980),cn.setMonth(gn-1),cn.setDate(mn);var Un=pn&31;pn>>>=5;var Jn=pn&63;return pn>>>=6,cn.setHours(pn),cn.setMinutes(Jn),cn.setSeconds(Un<<1),cn}function Oe(qr){prep_blob(qr,0);for(var pn={},on=0;qr.l<=qr.length-4;){var cn=qr.read_shift(2),mn=qr.read_shift(2),gn=qr.l+mn,Un={};switch(cn){case 21589:on=qr.read_shift(1),on&1&&(Un.mtime=qr.read_shift(4)),mn>5&&(on&2&&(Un.atime=qr.read_shift(4)),on&4&&(Un.ctime=qr.read_shift(4))),Un.mtime&&(Un.mt=new Date(Un.mtime*1e3));break}qr.l=gn,pn[cn]=Un}return pn}var Me;function Ue(){return Me||(Me={})}function $e(qr,pn){if(qr[0]==80&&qr[1]==75)return xi(qr,pn);if((qr[0]|32)==109&&(qr[1]|32)==105)return Wa(qr,pn);if(qr.length<512)throw new Error("CFB file size "+qr.length+" < 512");var on=3,cn=512,mn=0,gn=0,Un=0,Jn=0,Dn=0,zn=[],qn=qr.slice(0,512);prep_blob(qn,0);var vi=He(qn);switch(on=vi[0],on){case 3:cn=512;break;case 4:cn=4096;break;case 0:if(vi[1]==0)return xi(qr,pn);default:throw new Error("Major Version: Expected 3 or 4 saw "+on)}cn!==512&&(qn=qr.slice(0,cn),prep_blob(qn,28));var Ii=qr.slice(0,cn);Qe(qn,on);var zi=qn.read_shift(4,"i");if(on===3&&zi!==0)throw new Error("# Directory Sectors: Expected 0 saw "+zi);qn.l+=4,Un=qn.read_shift(4,"i"),qn.l+=4,qn.chk("00100000","Mini Stream Cutoff Size: "),Jn=qn.read_shift(4,"i"),mn=qn.read_shift(4,"i"),Dn=qn.read_shift(4,"i"),gn=qn.read_shift(4,"i");for(var Pi=-1,Ui=0;Ui<109&&(Pi=qn.read_shift(4,"i"),!(Pi<0));++Ui)zn[Ui]=Pi;var ss=We(qr,cn);Xe(Dn,gn,ss,cn,zn);var gs=Ze(ss,Un,zn,cn);gs[Un].name="!Directory",mn>0&&Jn!==yr&&(gs[Jn].name="!MiniFAT"),gs[zn[0]].name="!FAT",gs.fat_addrs=zn,gs.ssz=cn;var ws={},ys=[],eo=[],wo=[];Je(Un,gs,ss,ys,mn,ws,eo,Jn),qe(eo,wo,ys),ys.shift();var oo={FileIndex:eo,FullPaths:wo};return pn&&pn.raw&&(oo.raw={header:Ii,sectors:ss}),oo}function He(qr){if(qr[qr.l]==80&&qr[qr.l+1]==75)return[0,0];qr.chk(Cr,"Header Signature: "),qr.l+=16;var pn=qr.read_shift(2,"u");return[qr.read_shift(2,"u"),pn]}function Qe(qr,pn){var on=9;switch(qr.l+=2,on=qr.read_shift(2)){case 9:if(pn!=3)throw new Error("Sector Shift: Expected 9 saw "+on);break;case 12:if(pn!=4)throw new Error("Sector Shift: Expected 12 saw "+on);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+on)}qr.chk("0600","Mini Sector Shift: "),qr.chk("000000000000","Reserved: ")}function We(qr,pn){for(var on=Math.ceil(qr.length/pn)-1,cn=[],mn=1;mn<on;++mn)cn[mn-1]=qr.slice(mn*pn,(mn+1)*pn);return cn[on-1]=qr.slice(on*pn),cn}function qe(qr,pn,on){for(var cn=0,mn=0,gn=0,Un=0,Jn=0,Dn=on.length,zn=[],qn=[];cn<Dn;++cn)zn[cn]=qn[cn]=cn,pn[cn]=on[cn];for(;Jn<qn.length;++Jn)cn=qn[Jn],mn=qr[cn].L,gn=qr[cn].R,Un=qr[cn].C,zn[cn]===cn&&(mn!==-1&&zn[mn]!==mn&&(zn[cn]=zn[mn]),gn!==-1&&zn[gn]!==gn&&(zn[cn]=zn[gn])),Un!==-1&&(zn[Un]=cn),mn!==-1&&cn!=zn[cn]&&(zn[mn]=zn[cn],qn.lastIndexOf(mn)<Jn&&qn.push(mn)),gn!==-1&&cn!=zn[cn]&&(zn[gn]=zn[cn],qn.lastIndexOf(gn)<Jn&&qn.push(gn));for(cn=1;cn<Dn;++cn)zn[cn]===cn&&(gn!==-1&&zn[gn]!==gn?zn[cn]=zn[gn]:mn!==-1&&zn[mn]!==mn&&(zn[cn]=zn[mn]));for(cn=1;cn<Dn;++cn)if(qr[cn].type!==0){if(Jn=cn,Jn!=zn[Jn])do Jn=zn[Jn],pn[cn]=pn[Jn]+"/"+pn[cn];while(Jn!==0&&zn[Jn]!==-1&&Jn!=zn[Jn]);zn[cn]=-1}for(pn[0]+="/",cn=1;cn<Dn;++cn)qr[cn].type!==2&&(pn[cn]+="/")}function Ke(qr,pn,on){for(var cn=qr.start,mn=qr.size,gn=[],Un=cn;on&&mn>0&&Un>=0;)gn.push(pn.slice(Un*or,Un*or+or)),mn-=or,Un=__readInt32LE(on,Un*4);return gn.length===0?new_buf(0):bconcat(gn).slice(0,qr.size)}function Xe(qr,pn,on,cn,mn){var gn=yr;if(qr===yr){if(pn!==0)throw new Error("DIFAT chain shorter than expected")}else if(qr!==-1){var Un=on[qr],Jn=(cn>>>2)-1;if(!Un)return;for(var Dn=0;Dn<Jn&&(gn=__readInt32LE(Un,Dn*4))!==yr;++Dn)mn.push(gn);Xe(__readInt32LE(Un,cn-4),pn-1,on,cn,mn)}}function Ye(qr,pn,on,cn,mn){var gn=[],Un=[];mn||(mn=[]);var Jn=cn-1,Dn=0,zn=0;for(Dn=pn;Dn>=0;){mn[Dn]=!0,gn[gn.length]=Dn,Un.push(qr[Dn]);var qn=on[Math.floor(Dn*4/cn)];if(zn=Dn*4&Jn,cn<4+zn)throw new Error("FAT boundary crossed: "+Dn+" 4 "+cn);if(!qr[qn])break;Dn=__readInt32LE(qr[qn],zn)}return{nodes:gn,data:__toBuffer([Un])}}function Ze(qr,pn,on,cn){var mn=qr.length,gn=[],Un=[],Jn=[],Dn=[],zn=cn-1,qn=0,vi=0,Ii=0,zi=0;for(qn=0;qn<mn;++qn)if(Jn=[],Ii=qn+pn,Ii>=mn&&(Ii-=mn),!Un[Ii]){Dn=[];var Pi=[];for(vi=Ii;vi>=0;){Pi[vi]=!0,Un[vi]=!0,Jn[Jn.length]=vi,Dn.push(qr[vi]);var Ui=on[Math.floor(vi*4/cn)];if(zi=vi*4&zn,cn<4+zi)throw new Error("FAT boundary crossed: "+vi+" 4 "+cn);if(!qr[Ui]||(vi=__readInt32LE(qr[Ui],zi),Pi[vi]))break}gn[Ii]={nodes:Jn,data:__toBuffer([Dn])}}return gn}function Je(qr,pn,on,cn,mn,gn,Un,Jn){for(var Dn=0,zn=cn.length?2:0,qn=pn[qr].data,vi=0,Ii=0,zi;vi<qn.length;vi+=128){var Pi=qn.slice(vi,vi+128);prep_blob(Pi,64),Ii=Pi.read_shift(2),zi=__utf16le(Pi,0,Ii-zn),cn.push(zi);var Ui={name:zi,type:Pi.read_shift(1),color:Pi.read_shift(1),L:Pi.read_shift(4,"i"),R:Pi.read_shift(4,"i"),C:Pi.read_shift(4,"i"),clsid:Pi.read_shift(16),state:Pi.read_shift(4,"i"),start:0,size:0},ss=Pi.read_shift(2)+Pi.read_shift(2)+Pi.read_shift(2)+Pi.read_shift(2);ss!==0&&(Ui.ct=tr(Pi,Pi.l-8));var gs=Pi.read_shift(2)+Pi.read_shift(2)+Pi.read_shift(2)+Pi.read_shift(2);gs!==0&&(Ui.mt=tr(Pi,Pi.l-8)),Ui.start=Pi.read_shift(4,"i"),Ui.size=Pi.read_shift(4,"i"),Ui.size<0&&Ui.start<0&&(Ui.size=Ui.type=0,Ui.start=yr,Ui.name=""),Ui.type===5?(Dn=Ui.start,mn>0&&Dn!==yr&&(pn[Dn].name="!StreamData")):Ui.size>=4096?(Ui.storage="fat",pn[Ui.start]===void 0&&(pn[Ui.start]=Ye(on,Ui.start,pn.fat_addrs,pn.ssz)),pn[Ui.start].name=Ui.name,Ui.content=pn[Ui.start].data.slice(0,Ui.size)):(Ui.storage="minifat",Ui.size<0?Ui.size=0:Dn!==yr&&Ui.start!==yr&&pn[Dn]&&(Ui.content=Ke(Ui,pn[Dn].data,(pn[Jn]||{}).data))),Ui.content&&prep_blob(Ui.content,0),gn[zi]=Ui,Un.push(Ui)}}function tr(qr,pn){return new Date((__readUInt32LE(qr,pn+4)/1e7*Math.pow(2,32)+__readUInt32LE(qr,pn)/1e7-11644473600)*1e3)}function rr(qr,pn){return Ue(),$e(Me.readFileSync(qr),pn)}function ar(qr,pn){var on=pn&&pn.type;switch(on||has_buf&&Buffer.isBuffer(qr)&&(on="buffer"),on||"base64"){case"file":return rr(qr,pn);case"base64":return $e(s2a(Base64_decode(qr)),pn);case"binary":return $e(s2a(qr),pn)}return $e(qr,pn)}function ir(qr,pn){var on=pn||{},cn=on.root||"Root Entry";if(qr.FullPaths||(qr.FullPaths=[]),qr.FileIndex||(qr.FileIndex=[]),qr.FullPaths.length!==qr.FileIndex.length)throw new Error("inconsistent CFB structure");qr.FullPaths.length===0&&(qr.FullPaths[0]=cn+"/",qr.FileIndex[0]={name:cn,type:5}),on.CLSID&&(qr.FileIndex[0].clsid=on.CLSID),nr(qr)}function nr(qr){var pn="Sh33tJ5";if(!CFB.find(qr,"/"+pn)){var on=new_buf(4);on[0]=55,on[1]=on[3]=50,on[2]=54,qr.FileIndex.push({name:pn,type:2,content:on,size:4,L:69,R:69,C:69}),qr.FullPaths.push(qr.FullPaths[0]+pn),cr(qr)}}function cr(qr,pn){ir(qr);for(var on=!1,cn=!1,mn=qr.FullPaths.length-1;mn>=0;--mn){var gn=qr.FileIndex[mn];switch(gn.type){case 0:cn?on=!0:(qr.FileIndex.pop(),qr.FullPaths.pop());break;case 1:case 2:case 5:cn=!0,isNaN(gn.R*gn.L*gn.C)&&(on=!0),gn.R>-1&&gn.L>-1&&gn.R==gn.L&&(on=!0);break;default:on=!0;break}}if(!(!on&&!pn)){var Un=new Date(1987,1,19),Jn=0,Dn=Object.create?Object.create(null):{},zn=[];for(mn=0;mn<qr.FullPaths.length;++mn)Dn[qr.FullPaths[mn]]=!0,qr.FileIndex[mn].type!==0&&zn.push([qr.FullPaths[mn],qr.FileIndex[mn]]);for(mn=0;mn<zn.length;++mn){var qn=Be(zn[mn][0]);cn=Dn[qn],cn||(zn.push([qn,{name:De(qn).replace("/",""),type:1,clsid:vr,ct:Un,mt:Un,content:null}]),Dn[qn]=!0)}for(zn.sort(function(zi,Pi){return je(zi[0],Pi[0])}),qr.FullPaths=[],qr.FileIndex=[],mn=0;mn<zn.length;++mn)qr.FullPaths[mn]=zn[mn][0],qr.FileIndex[mn]=zn[mn][1];for(mn=0;mn<zn.length;++mn){var vi=qr.FileIndex[mn],Ii=qr.FullPaths[mn];if(vi.name=De(Ii).replace("/",""),vi.L=vi.R=vi.C=-(vi.color=1),vi.size=vi.content?vi.content.length:0,vi.start=0,vi.clsid=vi.clsid||vr,mn===0)vi.C=zn.length>1?1:-1,vi.size=0,vi.type=5;else if(Ii.slice(-1)=="/"){for(Jn=mn+1;Jn<zn.length&&Be(qr.FullPaths[Jn])!=Ii;++Jn);for(vi.C=Jn>=zn.length?-1:Jn,Jn=mn+1;Jn<zn.length&&Be(qr.FullPaths[Jn])!=Be(Ii);++Jn);vi.R=Jn>=zn.length?-1:Jn,vi.type=1}else Be(qr.FullPaths[mn+1]||"")==Be(Ii)&&(vi.R=mn+1),vi.type=2}}}function mr(qr,pn){var on=pn||{};if(on.fileType=="mad")return Li(qr,on);switch(cr(qr),on.fileType){case"zip":return ki(qr,on)}var cn=(function(zi){for(var Pi=0,Ui=0,ss=0;ss<zi.FileIndex.length;++ss){var gs=zi.FileIndex[ss];if(gs.content){var ws=gs.content.length;ws>0&&(ws<4096?Pi+=ws+63>>6:Ui+=ws+511>>9)}}for(var ys=zi.FullPaths.length+3>>2,eo=Pi+7>>3,wo=Pi+127>>7,oo=eo+Ui+ys+wo,Eo=oo+127>>7,co=Eo<=109?0:Math.ceil((Eo-109)/127);oo+Eo+co+127>>7>Eo;)co=++Eo<=109?0:Math.ceil((Eo-109)/127);var Na=[1,co,Eo,wo,ys,Ui,Pi,0];return zi.FileIndex[0].size=Pi<<6,Na[7]=(zi.FileIndex[0].start=Na[0]+Na[1]+Na[2]+Na[3]+Na[4]+Na[5])+(Na[6]+7>>3),Na})(qr),mn=new_buf(cn[7]<<9),gn=0,Un=0;{for(gn=0;gn<8;++gn)mn.write_shift(1,jr[gn]);for(gn=0;gn<8;++gn)mn.write_shift(2,0);for(mn.write_shift(2,62),mn.write_shift(2,3),mn.write_shift(2,65534),mn.write_shift(2,9),mn.write_shift(2,6),gn=0;gn<3;++gn)mn.write_shift(2,0);for(mn.write_shift(4,0),mn.write_shift(4,cn[2]),mn.write_shift(4,cn[0]+cn[1]+cn[2]+cn[3]-1),mn.write_shift(4,0),mn.write_shift(4,4096),mn.write_shift(4,cn[3]?cn[0]+cn[1]+cn[2]-1:yr),mn.write_shift(4,cn[3]),mn.write_shift(-4,cn[1]?cn[0]-1:yr),mn.write_shift(4,cn[1]),gn=0;gn<109;++gn)mn.write_shift(-4,gn<cn[2]?cn[1]+gn:-1)}if(cn[1])for(Un=0;Un<cn[1];++Un){for(;gn<236+Un*127;++gn)mn.write_shift(-4,gn<cn[2]?cn[1]+gn:-1);mn.write_shift(-4,Un===cn[1]-1?yr:Un+1)}var Jn=function(zi){for(Un+=zi;gn<Un-1;++gn)mn.write_shift(-4,gn+1);zi&&(++gn,mn.write_shift(-4,yr))};for(Un=gn=0,Un+=cn[1];gn<Un;++gn)mn.write_shift(-4,Tr.DIFSECT);for(Un+=cn[2];gn<Un;++gn)mn.write_shift(-4,Tr.FATSECT);Jn(cn[3]),Jn(cn[4]);for(var Dn=0,zn=0,qn=qr.FileIndex[0];Dn<qr.FileIndex.length;++Dn)qn=qr.FileIndex[Dn],qn.content&&(zn=qn.content.length,!(zn<4096)&&(qn.start=Un,Jn(zn+511>>9)));for(Jn(cn[6]+7>>3);mn.l&511;)mn.write_shift(-4,Tr.ENDOFCHAIN);for(Un=gn=0,Dn=0;Dn<qr.FileIndex.length;++Dn)qn=qr.FileIndex[Dn],qn.content&&(zn=qn.content.length,!(!zn||zn>=4096)&&(qn.start=Un,Jn(zn+63>>6)));for(;mn.l&511;)mn.write_shift(-4,Tr.ENDOFCHAIN);for(gn=0;gn<cn[4]<<2;++gn){var vi=qr.FullPaths[gn];if(!vi||vi.length===0){for(Dn=0;Dn<17;++Dn)mn.write_shift(4,0);for(Dn=0;Dn<3;++Dn)mn.write_shift(4,-1);for(Dn=0;Dn<12;++Dn)mn.write_shift(4,0);continue}qn=qr.FileIndex[gn],gn===0&&(qn.start=qn.size?qn.start-1:yr);var Ii=gn===0&&on.root||qn.name;if(zn=2*(Ii.length+1),mn.write_shift(64,Ii,"utf16le"),mn.write_shift(2,zn),mn.write_shift(1,qn.type),mn.write_shift(1,qn.color),mn.write_shift(-4,qn.L),mn.write_shift(-4,qn.R),mn.write_shift(-4,qn.C),qn.clsid)mn.write_shift(16,qn.clsid,"hex");else for(Dn=0;Dn<4;++Dn)mn.write_shift(4,0);mn.write_shift(4,qn.state||0),mn.write_shift(4,0),mn.write_shift(4,0),mn.write_shift(4,0),mn.write_shift(4,0),mn.write_shift(4,qn.start),mn.write_shift(4,qn.size),mn.write_shift(4,0)}for(gn=1;gn<qr.FileIndex.length;++gn)if(qn=qr.FileIndex[gn],qn.size>=4096)if(mn.l=qn.start+1<<9,has_buf&&Buffer.isBuffer(qn.content))qn.content.copy(mn,mn.l,0,qn.size),mn.l+=qn.size+511&-512;else{for(Dn=0;Dn<qn.size;++Dn)mn.write_shift(1,qn.content[Dn]);for(;Dn&511;++Dn)mn.write_shift(1,0)}for(gn=1;gn<qr.FileIndex.length;++gn)if(qn=qr.FileIndex[gn],qn.size>0&&qn.size<4096)if(has_buf&&Buffer.isBuffer(qn.content))qn.content.copy(mn,mn.l,0,qn.size),mn.l+=qn.size+63&-64;else{for(Dn=0;Dn<qn.size;++Dn)mn.write_shift(1,qn.content[Dn]);for(;Dn&63;++Dn)mn.write_shift(1,0)}if(has_buf)mn.l=mn.length;else for(;mn.l<mn.length;)mn.write_shift(1,0);return mn}function fr(qr,pn){var on=qr.FullPaths.map(function(Dn){return Dn.toUpperCase()}),cn=on.map(function(Dn){var zn=Dn.split("/");return zn[zn.length-(Dn.slice(-1)=="/"?2:1)]}),mn=!1;pn.charCodeAt(0)===47?(mn=!0,pn=on[0].slice(0,-1)+pn):mn=pn.indexOf("/")!==-1;var gn=pn.toUpperCase(),Un=mn===!0?on.indexOf(gn):cn.indexOf(gn);if(Un!==-1)return qr.FileIndex[Un];var Jn=!gn.match(chr1);for(gn=gn.replace(chr0,""),Jn&&(gn=gn.replace(chr1,"!")),Un=0;Un<on.length;++Un)if((Jn?on[Un].replace(chr1,"!"):on[Un]).replace(chr0,"")==gn||(Jn?cn[Un].replace(chr1,"!"):cn[Un]).replace(chr0,"")==gn)return qr.FileIndex[Un];return null}var or=64,yr=-2,Cr="d0cf11e0a1b11ae1",jr=[208,207,17,224,161,177,26,225],vr="00000000000000000000000000000000",Tr={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:yr,FREESECT:-1,HEADER_SIGNATURE:Cr,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:vr,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function wr(qr,pn,on){Ue();var cn=mr(qr,on);Me.writeFileSync(pn,cn)}function Er(qr){for(var pn=new Array(qr.length),on=0;on<qr.length;++on)pn[on]=String.fromCharCode(qr[on]);return pn.join("")}function Pr(qr,pn){var on=mr(qr,pn);switch(pn&&pn.type||"buffer"){case"file":return Ue(),Me.writeFileSync(pn.filename,on),on;case"binary":return typeof on=="string"?on:Er(on);case"base64":return Base64_encode(typeof on=="string"?on:Er(on));case"buffer":if(has_buf)return Buffer.isBuffer(on)?on:Buffer_from(on);case"array":return typeof on=="string"?s2a(on):on}return on}var Mr;function _r(qr){try{var pn=qr.InflateRaw,on=new pn;if(on._processChunk(new Uint8Array([3,0]),on._finishFlushFlag),on.bytesRead)Mr=qr;else throw new Error("zlib does not expose bytesRead")}catch(cn){console.error("cannot use native zlib: "+(cn.message||cn))}}function Ir(qr,pn){if(!Mr)return vn(qr,pn);var on=Mr.InflateRaw,cn=new on,mn=cn._processChunk(qr.slice(qr.l),cn._finishFlushFlag);return qr.l+=cn.bytesRead,mn}function Dr(qr){return Mr?Mr.deflateRawSync(qr):En(qr)}var Or=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],br=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Ur=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Qr(qr){var pn=(qr<<1|qr<<11)&139536|(qr<<5|qr<<15)&558144;return(pn>>16|pn>>8|pn)&255}for(var zr=typeof Uint8Array<"u",Gr=zr?new Uint8Array(256):[],fn=0;fn<256;++fn)Gr[fn]=Qr(fn);function nn(qr,pn){var on=Gr[qr&255];return pn<=8?on>>>8-pn:(on=on<<8|Gr[qr>>8&255],pn<=16?on>>>16-pn:(on=on<<8|Gr[qr>>16&255],on>>>24-pn))}function bn(qr,pn){var on=pn&7,cn=pn>>>3;return(qr[cn]|(on<=6?0:qr[cn+1]<<8))>>>on&3}function hn(qr,pn){var on=pn&7,cn=pn>>>3;return(qr[cn]|(on<=5?0:qr[cn+1]<<8))>>>on&7}function yn(qr,pn){var on=pn&7,cn=pn>>>3;return(qr[cn]|(on<=4?0:qr[cn+1]<<8))>>>on&15}function Zr(qr,pn){var on=pn&7,cn=pn>>>3;return(qr[cn]|(on<=3?0:qr[cn+1]<<8))>>>on&31}function Rn(qr,pn){var on=pn&7,cn=pn>>>3;return(qr[cn]|(on<=1?0:qr[cn+1]<<8))>>>on&127}function ri(qr,pn,on){var cn=pn&7,mn=pn>>>3,gn=(1<<on)-1,Un=qr[mn]>>>cn;return on<8-cn||(Un|=qr[mn+1]<<8-cn,on<16-cn)||(Un|=qr[mn+2]<<16-cn,on<24-cn)||(Un|=qr[mn+3]<<24-cn),Un&gn}function Yn(qr,pn,on){var cn=pn&7,mn=pn>>>3;return cn<=5?qr[mn]|=(on&7)<<cn:(qr[mn]|=on<<cn&255,qr[mn+1]=(on&7)>>8-cn),pn+3}function ti(qr,pn,on){var cn=pn&7,mn=pn>>>3;return on=(on&1)<<cn,qr[mn]|=on,pn+1}function ei(qr,pn,on){var cn=pn&7,mn=pn>>>3;return on<<=cn,qr[mn]|=on&255,on>>>=8,qr[mn+1]=on,pn+8}function Gn(qr,pn,on){var cn=pn&7,mn=pn>>>3;return on<<=cn,qr[mn]|=on&255,on>>>=8,qr[mn+1]=on&255,qr[mn+2]=on>>>8,pn+16}function Ei(qr,pn){var on=qr.length,cn=2*on>pn?2*on:pn+5,mn=0;if(on>=pn)return qr;if(has_buf){var gn=new_unsafe_buf(cn);if(qr.copy)qr.copy(gn);else for(;mn<qr.length;++mn)gn[mn]=qr[mn];return gn}else if(zr){var Un=new Uint8Array(cn);if(Un.set)Un.set(qr);else for(;mn<on;++mn)Un[mn]=qr[mn];return Un}return qr.length=cn,qr}function Ci(qr){for(var pn=new Array(qr),on=0;on<qr;++on)pn[on]=0;return pn}function Fi(qr,pn,on){var cn=1,mn=0,gn=0,Un=0,Jn=0,Dn=qr.length,zn=zr?new Uint16Array(32):Ci(32);for(gn=0;gn<32;++gn)zn[gn]=0;for(gn=Dn;gn<on;++gn)qr[gn]=0;Dn=qr.length;var qn=zr?new Uint16Array(Dn):Ci(Dn);for(gn=0;gn<Dn;++gn)zn[mn=qr[gn]]++,cn<mn&&(cn=mn),qn[gn]=0;for(zn[0]=0,gn=1;gn<=cn;++gn)zn[gn+16]=Jn=Jn+zn[gn-1]<<1;for(gn=0;gn<Dn;++gn)Jn=qr[gn],Jn!=0&&(qn[gn]=zn[Jn+16]++);var vi=0;for(gn=0;gn<Dn;++gn)if(vi=qr[gn],vi!=0)for(Jn=nn(qn[gn],cn)>>cn-vi,Un=(1<<cn+4-vi)-1;Un>=0;--Un)pn[Jn|Un<<vi]=vi&15|gn<<4;return cn}var Si=zr?new Uint16Array(512):Ci(512),Ti=zr?new Uint16Array(32):Ci(32);if(!zr){for(var ji=0;ji<512;++ji)Si[ji]=0;for(ji=0;ji<32;++ji)Ti[ji]=0}(function(){for(var qr=[],pn=0;pn<32;pn++)qr.push(5);Fi(qr,Ti,32);var on=[];for(pn=0;pn<=143;pn++)on.push(8);for(;pn<=255;pn++)on.push(9);for(;pn<=279;pn++)on.push(7);for(;pn<=287;pn++)on.push(8);Fi(on,Si,288)})();var wi=(function(){for(var pn=zr?new Uint8Array(32768):[],on=0,cn=0;on<Ur.length-1;++on)for(;cn<Ur[on+1];++cn)pn[cn]=on;for(;cn<32768;++cn)pn[cn]=29;var mn=zr?new Uint8Array(259):[];for(on=0,cn=0;on<br.length-1;++on)for(;cn<br[on+1];++cn)mn[cn]=on;function gn(Jn,Dn){for(var zn=0;zn<Jn.length;){var qn=Math.min(65535,Jn.length-zn),vi=zn+qn==Jn.length;for(Dn.write_shift(1,+vi),Dn.write_shift(2,qn),Dn.write_shift(2,~qn&65535);qn-- >0;)Dn[Dn.l++]=Jn[zn++]}return Dn.l}function Un(Jn,Dn){for(var zn=0,qn=0,vi=zr?new Uint16Array(32768):[];qn<Jn.length;){var Ii=Math.min(65535,Jn.length-qn);if(Ii<10){for(zn=Yn(Dn,zn,+(qn+Ii==Jn.length)),zn&7&&(zn+=8-(zn&7)),Dn.l=zn/8|0,Dn.write_shift(2,Ii),Dn.write_shift(2,~Ii&65535);Ii-- >0;)Dn[Dn.l++]=Jn[qn++];zn=Dn.l*8;continue}zn=Yn(Dn,zn,+(qn+Ii==Jn.length)+2);for(var zi=0;Ii-- >0;){var Pi=Jn[qn];zi=(zi<<5^Pi)&32767;var Ui=-1,ss=0;if((Ui=vi[zi])&&(Ui|=qn&-32768,Ui>qn&&(Ui-=32768),Ui<qn))for(;Jn[Ui+ss]==Jn[qn+ss]&&ss<250;)++ss;if(ss>2){Pi=mn[ss],Pi<=22?zn=ei(Dn,zn,Gr[Pi+1]>>1)-1:(ei(Dn,zn,3),zn+=5,ei(Dn,zn,Gr[Pi-23]>>5),zn+=3);var gs=Pi<8?0:Pi-4>>2;gs>0&&(Gn(Dn,zn,ss-br[Pi]),zn+=gs),Pi=pn[qn-Ui],zn=ei(Dn,zn,Gr[Pi]>>3),zn-=3;var ws=Pi<4?0:Pi-2>>1;ws>0&&(Gn(Dn,zn,qn-Ui-Ur[Pi]),zn+=ws);for(var ys=0;ys<ss;++ys)vi[zi]=qn&32767,zi=(zi<<5^Jn[qn])&32767,++qn;Ii-=ss-1}else Pi<=143?Pi=Pi+48:zn=ti(Dn,zn,1),zn=ei(Dn,zn,Gr[Pi]),vi[zi]=qn&32767,++qn}zn=ei(Dn,zn,0)-1}return Dn.l=(zn+7)/8|0,Dn.l}return function(Dn,zn){return Dn.length<8?gn(Dn,zn):Un(Dn,zn)}})();function En(qr){var pn=new_buf(50+Math.floor(qr.length*1.1)),on=wi(qr,pn);return pn.slice(0,on)}var an=zr?new Uint16Array(32768):Ci(32768),On=zr?new Uint16Array(32768):Ci(32768),Mn=zr?new Uint16Array(128):Ci(128),ui=1,Vn=1;function yi(qr,pn){var on=Zr(qr,pn)+257;pn+=5;var cn=Zr(qr,pn)+1;pn+=5;var mn=yn(qr,pn)+4;pn+=4;for(var gn=0,Un=zr?new Uint8Array(19):Ci(19),Jn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Dn=1,zn=zr?new Uint8Array(8):Ci(8),qn=zr?new Uint8Array(8):Ci(8),vi=Un.length,Ii=0;Ii<mn;++Ii)Un[Or[Ii]]=gn=hn(qr,pn),Dn<gn&&(Dn=gn),zn[gn]++,pn+=3;var zi=0;for(zn[0]=0,Ii=1;Ii<=Dn;++Ii)qn[Ii]=zi=zi+zn[Ii-1]<<1;for(Ii=0;Ii<vi;++Ii)(zi=Un[Ii])!=0&&(Jn[Ii]=qn[zi]++);var Pi=0;for(Ii=0;Ii<vi;++Ii)if(Pi=Un[Ii],Pi!=0){zi=Gr[Jn[Ii]]>>8-Pi;for(var Ui=(1<<7-Pi)-1;Ui>=0;--Ui)Mn[zi|Ui<<Pi]=Pi&7|Ii<<3}var ss=[];for(Dn=1;ss.length<on+cn;)switch(zi=Mn[Rn(qr,pn)],pn+=zi&7,zi>>>=3){case 16:for(gn=3+bn(qr,pn),pn+=2,zi=ss[ss.length-1];gn-- >0;)ss.push(zi);break;case 17:for(gn=3+hn(qr,pn),pn+=3;gn-- >0;)ss.push(0);break;case 18:for(gn=11+Rn(qr,pn),pn+=7;gn-- >0;)ss.push(0);break;default:ss.push(zi),Dn<zi&&(Dn=zi);break}var gs=ss.slice(0,on),ws=ss.slice(on);for(Ii=on;Ii<286;++Ii)gs[Ii]=0;for(Ii=cn;Ii<30;++Ii)ws[Ii]=0;return ui=Fi(gs,an,286),Vn=Fi(ws,On,30),pn}function jn(qr,pn){if(qr[0]==3&&!(qr[1]&3))return[new_raw_buf(pn),2];for(var on=0,cn=0,mn=new_unsafe_buf(pn||1<<18),gn=0,Un=mn.length>>>0,Jn=0,Dn=0;(cn&1)==0;){if(cn=hn(qr,on),on+=3,cn>>>1)cn>>1==1?(Jn=9,Dn=5):(on=yi(qr,on),Jn=ui,Dn=Vn);else{on&7&&(on+=8-(on&7));var zn=qr[on>>>3]|qr[(on>>>3)+1]<<8;if(on+=32,zn>0)for(!pn&&Un<gn+zn&&(mn=Ei(mn,gn+zn),Un=mn.length);zn-- >0;)mn[gn++]=qr[on>>>3],on+=8;continue}for(;;){!pn&&Un<gn+32767&&(mn=Ei(mn,gn+32767),Un=mn.length);var qn=ri(qr,on,Jn),vi=cn>>>1==1?Si[qn]:an[qn];if(on+=vi&15,vi>>>=4,(vi>>>8&255)===0)mn[gn++]=vi;else{if(vi==256)break;vi-=257;var Ii=vi<8?0:vi-4>>2;Ii>5&&(Ii=0);var zi=gn+br[vi];Ii>0&&(zi+=ri(qr,on,Ii),on+=Ii),qn=ri(qr,on,Dn),vi=cn>>>1==1?Ti[qn]:On[qn],on+=vi&15,vi>>>=4;var Pi=vi<4?0:vi-2>>1,Ui=Ur[vi];for(Pi>0&&(Ui+=ri(qr,on,Pi),on+=Pi),!pn&&Un<zi&&(mn=Ei(mn,zi+100),Un=mn.length);gn<zi;)mn[gn]=mn[gn-Ui],++gn}}}return pn?[mn,on+7>>>3]:[mn.slice(0,gn),on+7>>>3]}function vn(qr,pn){var on=qr.slice(qr.l||0),cn=jn(on,pn);return qr.l+=cn[1],cn[0]}function Ni(qr,pn){if(qr)typeof console<"u"&&console.error(pn);else throw new Error(pn)}function xi(qr,pn){var on=qr;prep_blob(on,0);var cn=[],mn=[],gn={FileIndex:cn,FullPaths:mn};ir(gn,{root:pn.root});for(var Un=on.length-4;(on[Un]!=80||on[Un+1]!=75||on[Un+2]!=5||on[Un+3]!=6)&&Un>=0;)--Un;on.l=Un+4,on.l+=4;var Jn=on.read_shift(2);on.l+=6;var Dn=on.read_shift(4);for(on.l=Dn,Un=0;Un<Jn;++Un){on.l+=20;var zn=on.read_shift(4),qn=on.read_shift(4),vi=on.read_shift(2),Ii=on.read_shift(2),zi=on.read_shift(2);on.l+=8;var Pi=on.read_shift(4),Ui=Oe(on.slice(on.l+vi,on.l+vi+Ii));on.l+=vi+Ii+zi;var ss=on.l;on.l=Pi+4,Gi(on,zn,qn,gn,Ui),on.l=ss}return gn}function Gi(qr,pn,on,cn,mn){qr.l+=2;var gn=qr.read_shift(2),Un=qr.read_shift(2),Jn=ke(qr);if(gn&8257)throw new Error("Unsupported ZIP encryption");for(var Dn=qr.read_shift(4),zn=qr.read_shift(4),qn=qr.read_shift(4),vi=qr.read_shift(2),Ii=qr.read_shift(2),zi="",Pi=0;Pi<vi;++Pi)zi+=String.fromCharCode(qr[qr.l++]);if(Ii){var Ui=Oe(qr.slice(qr.l,qr.l+Ii));(Ui[21589]||{}).mt&&(Jn=Ui[21589].mt),((mn||{})[21589]||{}).mt&&(Jn=mn[21589].mt)}qr.l+=Ii;var ss=qr.slice(qr.l,qr.l+zn);switch(Un){case 8:ss=Ir(qr,qn);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Un)}var gs=!1;gn&8&&(Dn=qr.read_shift(4),Dn==134695760&&(Dn=qr.read_shift(4),gs=!0),zn=qr.read_shift(4),qn=qr.read_shift(4)),zn!=pn&&Ni(gs,"Bad compressed size: "+pn+" != "+zn),qn!=on&&Ni(gs,"Bad uncompressed size: "+on+" != "+qn),Fs(cn,zi,ss,{unsafe:!0,mt:Jn})}function ki(qr,pn){var on=pn||{},cn=[],mn=[],gn=new_buf(1),Un=on.compression?8:0,Jn=0,Dn=0,zn=0,qn=0,vi=0,Ii=qr.FullPaths[0],zi=Ii,Pi=qr.FileIndex[0],Ui=[],ss=0;for(Dn=1;Dn<qr.FullPaths.length;++Dn)if(zi=qr.FullPaths[Dn].slice(Ii.length),Pi=qr.FileIndex[Dn],!(!Pi.size||!Pi.content||zi=="Sh33tJ5")){var gs=qn,ws=new_buf(zi.length);for(zn=0;zn<zi.length;++zn)ws.write_shift(1,zi.charCodeAt(zn)&127);ws=ws.slice(0,ws.l),Ui[vi]=CRC32.buf(Pi.content,0);var ys=Pi.content;Un==8&&(ys=Dr(ys)),gn=new_buf(30),gn.write_shift(4,67324752),gn.write_shift(2,20),gn.write_shift(2,Jn),gn.write_shift(2,Un),Pi.mt?Fe(gn,Pi.mt):gn.write_shift(4,0),gn.write_shift(-4,Ui[vi]),gn.write_shift(4,ys.length),gn.write_shift(4,Pi.content.length),gn.write_shift(2,ws.length),gn.write_shift(2,0),qn+=gn.length,cn.push(gn),qn+=ws.length,cn.push(ws),qn+=ys.length,cn.push(ys),gn=new_buf(46),gn.write_shift(4,33639248),gn.write_shift(2,0),gn.write_shift(2,20),gn.write_shift(2,Jn),gn.write_shift(2,Un),gn.write_shift(4,0),gn.write_shift(-4,Ui[vi]),gn.write_shift(4,ys.length),gn.write_shift(4,Pi.content.length),gn.write_shift(2,ws.length),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(4,0),gn.write_shift(4,gs),ss+=gn.l,mn.push(gn),ss+=ws.length,mn.push(ws),++vi}return gn=new_buf(22),gn.write_shift(4,101010256),gn.write_shift(2,0),gn.write_shift(2,0),gn.write_shift(2,vi),gn.write_shift(2,vi),gn.write_shift(4,ss),gn.write_shift(4,qn),gn.write_shift(2,0),bconcat([bconcat(cn),bconcat(mn),gn])}var Ai={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function hi(qr,pn){if(qr.ctype)return qr.ctype;var on=qr.name||"",cn=on.match(/\.([^\.]+)$/);return cn&&Ai[cn[1]]||pn&&(cn=(on=pn).match(/[\.\\]([^\.\\])+$/),cn&&Ai[cn[1]])?Ai[cn[1]]:"application/octet-stream"}function Bi(qr){for(var pn=Base64_encode(qr),on=[],cn=0;cn<pn.length;cn+=76)on.push(pn.slice(cn,cn+76));return on.join(`\r
`)+`\r
`}function Zi(qr){var pn=qr.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(zn){var qn=zn.charCodeAt(0).toString(16).toUpperCase();return"="+(qn.length==1?"0"+qn:qn)});pn=pn.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),pn.charAt(0)==`
`&&(pn="=0D"+pn.slice(1)),pn=pn.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var on=[],cn=pn.split(`\r
`),mn=0;mn<cn.length;++mn){var gn=cn[mn];if(gn.length==0){on.push("");continue}for(var Un=0;Un<gn.length;){var Jn=76,Dn=gn.slice(Un,Un+Jn);Dn.charAt(Jn-1)=="="?Jn--:Dn.charAt(Jn-2)=="="?Jn-=2:Dn.charAt(Jn-3)=="="&&(Jn-=3),Dn=gn.slice(Un,Un+Jn),Un+=Jn,Un<gn.length&&(Dn+="="),on.push(Dn)}}return on.join(`\r
`)}function ds(qr){for(var pn=[],on=0;on<qr.length;++on){for(var cn=qr[on];on<=qr.length&&cn.charAt(cn.length-1)=="=";)cn=cn.slice(0,cn.length-1)+qr[++on];pn.push(cn)}for(var mn=0;mn<pn.length;++mn)pn[mn]=pn[mn].replace(/[=][0-9A-Fa-f]{2}/g,function(gn){return String.fromCharCode(parseInt(gn.slice(1),16))});return s2a(pn.join(`\r
`))}function oa(qr,pn,on){for(var cn="",mn="",gn="",Un,Jn=0;Jn<10;++Jn){var Dn=pn[Jn];if(!Dn||Dn.match(/^\s*$/))break;var zn=Dn.match(/^(.*?):\s*([^\s].*)$/);if(zn)switch(zn[1].toLowerCase()){case"content-location":cn=zn[2].trim();break;case"content-type":gn=zn[2].trim();break;case"content-transfer-encoding":mn=zn[2].trim();break}}switch(++Jn,mn.toLowerCase()){case"base64":Un=s2a(Base64_decode(pn.slice(Jn).join("")));break;case"quoted-printable":Un=ds(pn.slice(Jn));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+mn)}var qn=Fs(qr,cn.slice(on.length),Un,{unsafe:!0});gn&&(qn.ctype=gn)}function Wa(qr,pn){if(Er(qr.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var on=pn&&pn.root||"",cn=(has_buf&&Buffer.isBuffer(qr)?qr.toString("binary"):Er(qr)).split(`\r
`),mn=0,gn="";for(mn=0;mn<cn.length;++mn)if(gn=cn[mn],!!/^Content-Location:/i.test(gn)&&(gn=gn.slice(gn.indexOf("file")),on||(on=gn.slice(0,gn.lastIndexOf("/")+1)),gn.slice(0,on.length)!=on))for(;on.length>0&&(on=on.slice(0,on.length-1),on=on.slice(0,on.lastIndexOf("/")+1),gn.slice(0,on.length)!=on););var Un=(cn[1]||"").match(/boundary="(.*?)"/);if(!Un)throw new Error("MAD cannot find boundary");var Jn="--"+(Un[1]||""),Dn=[],zn=[],qn={FileIndex:Dn,FullPaths:zn};ir(qn);var vi,Ii=0;for(mn=0;mn<cn.length;++mn){var zi=cn[mn];zi!==Jn&&zi!==Jn+"--"||(Ii++&&oa(qn,cn.slice(vi,mn),on),vi=mn)}return qn}function Li(qr,pn){var on=pn||{},cn=on.boundary||"SheetJS";cn="------="+cn;for(var mn=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+cn.slice(2)+'"',"","",""],gn=qr.FullPaths[0],Un=gn,Jn=qr.FileIndex[0],Dn=1;Dn<qr.FullPaths.length;++Dn)if(Un=qr.FullPaths[Dn].slice(gn.length),Jn=qr.FileIndex[Dn],!(!Jn.size||!Jn.content||Un=="Sh33tJ5")){Un=Un.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ss){return"_x"+ss.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ss){return"_u"+ss.charCodeAt(0).toString(16)+"_"});for(var zn=Jn.content,qn=has_buf&&Buffer.isBuffer(zn)?zn.toString("binary"):Er(zn),vi=0,Ii=Math.min(1024,qn.length),zi=0,Pi=0;Pi<=Ii;++Pi)(zi=qn.charCodeAt(Pi))>=32&&zi<128&&++vi;var Ui=vi>=Ii*4/5;mn.push(cn),mn.push("Content-Location: "+(on.root||"file:///C:/SheetJS/")+Un),mn.push("Content-Transfer-Encoding: "+(Ui?"quoted-printable":"base64")),mn.push("Content-Type: "+hi(Jn,Un)),mn.push(""),mn.push(Ui?Zi(qn):Bi(qn))}return mn.push(cn+`--\r
`),mn.join(`\r
`)}function Qs(qr){var pn={};return ir(pn,qr),pn}function Fs(qr,pn,on,cn){var mn=cn&&cn.unsafe;mn||ir(qr);var gn=!mn&&CFB.find(qr,pn);if(!gn){var Un=qr.FullPaths[0];pn.slice(0,Un.length)==Un?Un=pn:(Un.slice(-1)!="/"&&(Un+="/"),Un=(Un+pn).replace("//","/")),gn={name:De(pn),type:2},qr.FileIndex.push(gn),qr.FullPaths.push(Un),mn||CFB.utils.cfb_gc(qr)}return gn.content=on,gn.size=on?on.length:0,cn&&(cn.CLSID&&(gn.clsid=cn.CLSID),cn.mt&&(gn.mt=cn.mt),cn.ct&&(gn.ct=cn.ct)),gn}function Xs(qr,pn){ir(qr);var on=CFB.find(qr,pn);if(on){for(var cn=0;cn<qr.FileIndex.length;++cn)if(qr.FileIndex[cn]==on)return qr.FileIndex.splice(cn,1),qr.FullPaths.splice(cn,1),!0}return!1}function Yi(qr,pn,on){ir(qr);var cn=CFB.find(qr,pn);if(cn){for(var mn=0;mn<qr.FileIndex.length;++mn)if(qr.FileIndex[mn]==cn)return qr.FileIndex[mn].name=De(on),qr.FullPaths[mn]=on,!0}return!1}function ra(qr){cr(qr,!0)}return Ce.find=fr,Ce.read=ar,Ce.parse=$e,Ce.write=Pr,Ce.writeFile=wr,Ce.utils={cfb_new:Qs,cfb_add:Fs,cfb_del:Xs,cfb_mov:Yi,cfb_gc:ra,ReadShift,CheckField,prep_blob,bconcat,use_zlib:_r,_deflateRaw:En,_inflateRaw:vn,consts:Tr},Ce})();function blobify(Re){return typeof Re=="string"?s2ab(Re):Array.isArray(Re)?a2u(Re):Re}function write_dl(Re,Ce,je){if(typeof Deno<"u"){if(je&&typeof Ce=="string")switch(je){case"utf8":Ce=new TextEncoder(je).encode(Ce);break;case"binary":Ce=s2ab(Ce);break;default:throw new Error("Unsupported encoding "+je)}return Deno.writeFileSync(Re,Ce)}var Be=je=="utf8"?utf8write(Ce):Ce;if(typeof IE_SaveFile<"u")return IE_SaveFile(Be,Re);if(typeof Blob<"u"){var De=new Blob([blobify(Be)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(De,Re);if(typeof saveAs<"u")return saveAs(De,Re);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var Fe=URL.createObjectURL(De);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Fe)},6e4),chrome.downloads.download({url:Fe,filename:Re,saveAs:!0});var ke=document.createElement("a");if(ke.download!=null)return ke.download=Re,ke.href=Fe,document.body.appendChild(ke),ke.click(),document.body.removeChild(ke),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(Fe)},6e4),Fe}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var Oe=File(Re);return Oe.open("w"),Oe.encoding="binary",Array.isArray(Ce)&&(Ce=a2s(Ce)),Oe.write(Ce),Oe.close(),Ce}catch(Me){if(!Me.message||!Me.message.match(/onstruct/))throw Me}throw new Error("cannot save file "+Re)}function keys(Re){for(var Ce=Object.keys(Re),je=[],Be=0;Be<Ce.length;++Be)Object.prototype.hasOwnProperty.call(Re,Ce[Be])&&je.push(Ce[Be]);return je}function evert_key(Re,Ce){for(var je=[],Be=keys(Re),De=0;De!==Be.length;++De)je[Re[Be[De]][Ce]]==null&&(je[Re[Be[De]][Ce]]=Be[De]);return je}function evert(Re){for(var Ce=[],je=keys(Re),Be=0;Be!==je.length;++Be)Ce[Re[je[Be]]]=je[Be];return Ce}function evert_num(Re){for(var Ce=[],je=keys(Re),Be=0;Be!==je.length;++Be)Ce[Re[je[Be]]]=parseInt(je[Be],10);return Ce}function evert_arr(Re){for(var Ce=[],je=keys(Re),Be=0;Be!==je.length;++Be)Ce[Re[je[Be]]]==null&&(Ce[Re[je[Be]]]=[]),Ce[Re[je[Be]]].push(je[Be]);return Ce}var basedate=new Date(1899,11,30,0,0,0);function datenum(Re,Ce){var je=Re.getTime(),Be=basedate.getTime()+(Re.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4;return(je-Be)/(1440*60*1e3)}var refdate=new Date,dnthresh=basedate.getTime()+(refdate.getTimezoneOffset()-basedate.getTimezoneOffset())*6e4,refoffset=refdate.getTimezoneOffset();function numdate(Re){var Ce=new Date;return Ce.setTime(Re*24*60*60*1e3+dnthresh),Ce.getTimezoneOffset()!==refoffset&&Ce.setTime(Ce.getTime()+(Ce.getTimezoneOffset()-refoffset)*6e4),Ce}var good_pd_date_1=new Date("2017-02-19T19:06:09.000Z"),good_pd_date=isNaN(good_pd_date_1.getFullYear())?new Date("2/19/17"):good_pd_date_1,good_pd=good_pd_date.getFullYear()==2017;function parseDate(Re,Ce){var je=new Date(Re);if(good_pd)return Ce>0?je.setTime(je.getTime()+je.getTimezoneOffset()*60*1e3):Ce<0&&je.setTime(je.getTime()-je.getTimezoneOffset()*60*1e3),je;if(Re instanceof Date)return Re;if(good_pd_date.getFullYear()==1917&&!isNaN(je.getFullYear())){var Be=je.getFullYear();return Re.indexOf(""+Be)>-1||je.setFullYear(je.getFullYear()+100),je}var De=Re.match(/\d+/g)||["2017","2","19","0","0","0"],Fe=new Date(+De[0],+De[1]-1,+De[2],+De[3]||0,+De[4]||0,+De[5]||0);return Re.indexOf("Z")>-1&&(Fe=new Date(Fe.getTime()-Fe.getTimezoneOffset()*60*1e3)),Fe}function cc2str(Re,Ce){if(has_buf&&Buffer.isBuffer(Re))return Re.toString("binary");if(typeof TextDecoder<"u")try{var je={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(Re)&&(Re=new Uint8Array(Re)),new TextDecoder("latin1").decode(Re).replace(/[]/g,function(Fe){return je[Fe]||Fe})}catch{}for(var Be=[],De=0;De!=Re.length;++De)Be.push(String.fromCharCode(Re[De]));return Be.join("")}function dup(Re){if(typeof JSON<"u"&&!Array.isArray(Re))return JSON.parse(JSON.stringify(Re));if(typeof Re!="object"||Re==null)return Re;if(Re instanceof Date)return new Date(Re.getTime());var Ce={};for(var je in Re)Object.prototype.hasOwnProperty.call(Re,je)&&(Ce[je]=dup(Re[je]));return Ce}function fill(Re,Ce){for(var je="";je.length<Ce;)je+=Re;return je}function fuzzynum(Re){var Ce=Number(Re);if(!isNaN(Ce))return isFinite(Ce)?Ce:NaN;if(!/\d/.test(Re))return Ce;var je=1,Be=Re.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return je*=100,""});return!isNaN(Ce=Number(Be))||(Be=Be.replace(/[(](.*)[)]/,function(De,Fe){return je=-je,Fe}),!isNaN(Ce=Number(Be)))?Ce/je:Ce}var lower_months=["january","february","march","april","may","june","july","august","september","october","november","december"];function fuzzydate(Re){var Ce=new Date(Re),je=new Date(NaN),Be=Ce.getYear(),De=Ce.getMonth(),Fe=Ce.getDate();if(isNaN(Fe))return je;var ke=Re.toLowerCase();if(ke.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(ke=ke.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),ke.length>3&&lower_months.indexOf(ke)==-1)return je}else if(ke.match(/[a-z]/))return je;return Be<0||Be>8099?je:(De>0||Fe>1)&&Be!=101?Ce:Re.match(/[^-0-9:,\/\\]/)?je:Ce}function zip_add_file(Re,Ce,je){if(Re.FullPaths){if(typeof je=="string"){var Be;return has_buf?Be=Buffer_from(je):Be=utf8decode(je),CFB.utils.cfb_add(Re,Ce,Be)}CFB.utils.cfb_add(Re,Ce,je)}else Re.file(Ce,je)}function zip_new(){return CFB.utils.cfb_new()}var XML_HEADER=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,encodings={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rencoding=evert(encodings),decregex=/[&<>'"]/g,charegex=/[\u0000-\u0008\u000b-\u001f]/g;function escapexml(Re){var Ce=Re+"";return Ce.replace(decregex,function(je){return rencoding[je]}).replace(charegex,function(je){return"_x"+("000"+je.charCodeAt(0).toString(16)).slice(-4)+"_"})}function escapexmltag(Re){return escapexml(Re).replace(/ /g,"_x0020_")}var htmlcharegex=/[\u0000-\u001f]/g;function escapehtml(Re){var Ce=Re+"";return Ce.replace(decregex,function(je){return rencoding[je]}).replace(/\n/g,"<br/>").replace(htmlcharegex,function(je){return"&#x"+("000"+je.charCodeAt(0).toString(16)).slice(-4)+";"})}function escapexlml(Re){var Ce=Re+"";return Ce.replace(decregex,function(je){return rencoding[je]}).replace(htmlcharegex,function(je){return"&#x"+je.charCodeAt(0).toString(16).toUpperCase()+";"})}function xlml_unfixstr(Re){return Re.replace(/(\r\n|[\r\n])/g,"&#10;")}function parsexmlbool(Re){switch(Re){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function utf8reada(Re){for(var Ce="",je=0,Be=0,De=0,Fe=0,ke=0,Oe=0;je<Re.length;){if(Be=Re.charCodeAt(je++),Be<128){Ce+=String.fromCharCode(Be);continue}if(De=Re.charCodeAt(je++),Be>191&&Be<224){ke=(Be&31)<<6,ke|=De&63,Ce+=String.fromCharCode(ke);continue}if(Fe=Re.charCodeAt(je++),Be<240){Ce+=String.fromCharCode((Be&15)<<12|(De&63)<<6|Fe&63);continue}ke=Re.charCodeAt(je++),Oe=((Be&7)<<18|(De&63)<<12|(Fe&63)<<6|ke&63)-65536,Ce+=String.fromCharCode(55296+(Oe>>>10&1023)),Ce+=String.fromCharCode(56320+(Oe&1023))}return Ce}function utf8readb(Re){var Ce=new_raw_buf(2*Re.length),je,Be,De=1,Fe=0,ke=0,Oe;for(Be=0;Be<Re.length;Be+=De)De=1,(Oe=Re.charCodeAt(Be))<128?je=Oe:Oe<224?(je=(Oe&31)*64+(Re.charCodeAt(Be+1)&63),De=2):Oe<240?(je=(Oe&15)*4096+(Re.charCodeAt(Be+1)&63)*64+(Re.charCodeAt(Be+2)&63),De=3):(De=4,je=(Oe&7)*262144+(Re.charCodeAt(Be+1)&63)*4096+(Re.charCodeAt(Be+2)&63)*64+(Re.charCodeAt(Be+3)&63),je-=65536,ke=55296+(je>>>10&1023),je=56320+(je&1023)),ke!==0&&(Ce[Fe++]=ke&255,Ce[Fe++]=ke>>>8,ke=0),Ce[Fe++]=je%256,Ce[Fe++]=je>>>8;return Ce.slice(0,Fe).toString("ucs2")}function utf8readc(Re){return Buffer_from(Re,"binary").toString("utf8")}var utf8corpus="foo bar baz",utf8read=has_buf&&(utf8readc(utf8corpus)==utf8reada(utf8corpus)&&utf8readc||utf8readb(utf8corpus)==utf8reada(utf8corpus)&&utf8readb)||utf8reada,utf8write=has_buf?function(Re){return Buffer_from(Re,"utf8").toString("binary")}:function(Re){for(var Ce=[],je=0,Be=0,De=0;je<Re.length;)switch(Be=Re.charCodeAt(je++),!0){case Be<128:Ce.push(String.fromCharCode(Be));break;case Be<2048:Ce.push(String.fromCharCode(192+(Be>>6))),Ce.push(String.fromCharCode(128+(Be&63)));break;case(Be>=55296&&Be<57344):Be-=55296,De=Re.charCodeAt(je++)-56320+(Be<<10),Ce.push(String.fromCharCode(240+(De>>18&7))),Ce.push(String.fromCharCode(144+(De>>12&63))),Ce.push(String.fromCharCode(128+(De>>6&63))),Ce.push(String.fromCharCode(128+(De&63)));break;default:Ce.push(String.fromCharCode(224+(Be>>12))),Ce.push(String.fromCharCode(128+(Be>>6&63))),Ce.push(String.fromCharCode(128+(Be&63)))}return Ce.join("")},htmldecode=(function(){var Re=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(Ce){return[new RegExp("&"+Ce[0]+";","ig"),Ce[1]]});return function(je){for(var Be=je.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),De=0;De<Re.length;++De)Be=Be.replace(Re[De][0],Re[De][1]);return Be}})(),wtregex=/(^\s|\s$|\n)/;function writetag(Re,Ce){return"<"+Re+(Ce.match(wtregex)?' xml:space="preserve"':"")+">"+Ce+"</"+Re+">"}function wxt_helper(Re){return keys(Re).map(function(Ce){return" "+Ce+'="'+Re[Ce]+'"'}).join("")}function writextag(Re,Ce,je){return"<"+Re+(je!=null?wxt_helper(je):"")+(Ce!=null?(Ce.match(wtregex)?' xml:space="preserve"':"")+">"+Ce+"</"+Re:"/")+">"}function write_w3cdtf(Re,Ce){try{return Re.toISOString().replace(/\.\d*/,"")}catch(je){if(Ce)throw je}return""}function write_vt(Re,Ce){switch(typeof Re){case"string":var je=writextag("vt:lpwstr",escapexml(Re));return je=je.replace(/&quot;/g,"_x0022_"),je;case"number":return writextag((Re|0)==Re?"vt:i4":"vt:r8",escapexml(String(Re)));case"boolean":return writextag("vt:bool",Re?"true":"false")}if(Re instanceof Date)return writextag("vt:filetime",write_w3cdtf(Re));throw new Error("Unable to serialize "+Re)}var XMLNS={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},XMLNS_main=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],XLMLNS={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function read_double_le(Re,Ce){for(var je=1-2*(Re[Ce+7]>>>7),Be=((Re[Ce+7]&127)<<4)+(Re[Ce+6]>>>4&15),De=Re[Ce+6]&15,Fe=5;Fe>=0;--Fe)De=De*256+Re[Ce+Fe];return Be==2047?De==0?je*(1/0):NaN:(Be==0?Be=-1022:(Be-=1023,De+=Math.pow(2,52)),je*Math.pow(2,Be-52)*De)}function write_double_le(Re,Ce,je){var Be=(Ce<0||1/Ce==-1/0?1:0)<<7,De=0,Fe=0,ke=Be?-Ce:Ce;isFinite(ke)?ke==0?De=Fe=0:(De=Math.floor(Math.log(ke)/Math.LN2),Fe=ke*Math.pow(2,52-De),De<=-1023&&(!isFinite(Fe)||Fe<Math.pow(2,52))?De=-1022:(Fe-=Math.pow(2,52),De+=1023)):(De=2047,Fe=isNaN(Ce)?26985:0);for(var Oe=0;Oe<=5;++Oe,Fe/=256)Re[je+Oe]=Fe&255;Re[je+6]=(De&15)<<4|Fe&15,Re[je+7]=De>>4|Be}var ___toBuffer=function(Re){for(var Ce=[],je=10240,Be=0;Be<Re[0].length;++Be)if(Re[0][Be])for(var De=0,Fe=Re[0][Be].length;De<Fe;De+=je)Ce.push.apply(Ce,Re[0][Be].slice(De,De+je));return Ce},__toBuffer=has_buf?function(Re){return Re[0].length>0&&Buffer.isBuffer(Re[0][0])?Buffer.concat(Re[0].map(function(Ce){return Buffer.isBuffer(Ce)?Ce:Buffer_from(Ce)})):___toBuffer(Re)}:___toBuffer,___utf16le=function(Re,Ce,je){for(var Be=[],De=Ce;De<je;De+=2)Be.push(String.fromCharCode(__readUInt16LE(Re,De)));return Be.join("").replace(chr0,"")},__utf16le=has_buf?function(Re,Ce,je){return Buffer.isBuffer(Re)?Re.toString("utf16le",Ce,je).replace(chr0,""):___utf16le(Re,Ce,je)}:___utf16le,___hexlify=function(Re,Ce,je){for(var Be=[],De=Ce;De<Ce+je;++De)Be.push(("0"+Re[De].toString(16)).slice(-2));return Be.join("")},__hexlify=has_buf?function(Re,Ce,je){return Buffer.isBuffer(Re)?Re.toString("hex",Ce,Ce+je):___hexlify(Re,Ce,je)}:___hexlify,___utf8=function(Re,Ce,je){for(var Be=[],De=Ce;De<je;De++)Be.push(String.fromCharCode(__readUInt8(Re,De)));return Be.join("")},__utf8=has_buf?function Re(Ce,je,Be){return Buffer.isBuffer(Ce)?Ce.toString("utf8",je,Be):___utf8(Ce,je,Be)}:___utf8,___lpstr=function(Re,Ce){var je=__readUInt32LE(Re,Ce);return je>0?__utf8(Re,Ce+4,Ce+4+je-1):""},__lpstr=___lpstr,___cpstr=function(Re,Ce){var je=__readUInt32LE(Re,Ce);return je>0?__utf8(Re,Ce+4,Ce+4+je-1):""},__cpstr=___cpstr,___lpwstr=function(Re,Ce){var je=2*__readUInt32LE(Re,Ce);return je>0?__utf8(Re,Ce+4,Ce+4+je-1):""},__lpwstr=___lpwstr,___lpp4=function Re(Ce,je){var Be=__readUInt32LE(Ce,je);return Be>0?__utf16le(Ce,je+4,je+4+Be):""},__lpp4=___lpp4,___8lpp4=function(Re,Ce){var je=__readUInt32LE(Re,Ce);return je>0?__utf8(Re,Ce+4,Ce+4+je):""},__8lpp4=___8lpp4,___double=function(Re,Ce){return read_double_le(Re,Ce)},__double=___double,is_buf=function Re(Ce){return Array.isArray(Ce)||typeof Uint8Array<"u"&&Ce instanceof Uint8Array};has_buf&&(__lpstr=function(Ce,je){if(!Buffer.isBuffer(Ce))return ___lpstr(Ce,je);var Be=Ce.readUInt32LE(je);return Be>0?Ce.toString("utf8",je+4,je+4+Be-1):""},__cpstr=function(Ce,je){if(!Buffer.isBuffer(Ce))return ___cpstr(Ce,je);var Be=Ce.readUInt32LE(je);return Be>0?Ce.toString("utf8",je+4,je+4+Be-1):""},__lpwstr=function(Ce,je){if(!Buffer.isBuffer(Ce))return ___lpwstr(Ce,je);var Be=2*Ce.readUInt32LE(je);return Ce.toString("utf16le",je+4,je+4+Be-1)},__lpp4=function(Ce,je){if(!Buffer.isBuffer(Ce))return ___lpp4(Ce,je);var Be=Ce.readUInt32LE(je);return Ce.toString("utf16le",je+4,je+4+Be)},__8lpp4=function(Ce,je){if(!Buffer.isBuffer(Ce))return ___8lpp4(Ce,je);var Be=Ce.readUInt32LE(je);return Ce.toString("utf8",je+4,je+4+Be)},__double=function(Ce,je){return Buffer.isBuffer(Ce)?Ce.readDoubleLE(je):___double(Ce,je)},is_buf=function(Ce){return Buffer.isBuffer(Ce)||Array.isArray(Ce)||typeof Uint8Array<"u"&&Ce instanceof Uint8Array});var __readUInt8=function(Re,Ce){return Re[Ce]},__readUInt16LE=function(Re,Ce){return Re[Ce+1]*256+Re[Ce]},__readInt16LE=function(Re,Ce){var je=Re[Ce+1]*256+Re[Ce];return je<32768?je:(65535-je+1)*-1},__readUInt32LE=function(Re,Ce){return Re[Ce+3]*(1<<24)+(Re[Ce+2]<<16)+(Re[Ce+1]<<8)+Re[Ce]},__readInt32LE=function(Re,Ce){return Re[Ce+3]<<24|Re[Ce+2]<<16|Re[Ce+1]<<8|Re[Ce]},__readInt32BE=function(Re,Ce){return Re[Ce]<<24|Re[Ce+1]<<16|Re[Ce+2]<<8|Re[Ce+3]};function ReadShift(Re,Ce){var je="",Be,De,Fe=[],ke,Oe,Me,Ue;switch(Ce){case"dbcs":if(Ue=this.l,has_buf&&Buffer.isBuffer(this))je=this.slice(this.l,this.l+2*Re).toString("utf16le");else for(Me=0;Me<Re;++Me)je+=String.fromCharCode(__readUInt16LE(this,Ue)),Ue+=2;Re*=2;break;case"utf8":je=__utf8(this,this.l,this.l+Re);break;case"utf16le":Re*=2,je=__utf16le(this,this.l,this.l+Re);break;case"wstr":return ReadShift.call(this,Re,"dbcs");case"lpstr-ansi":je=__lpstr(this,this.l),Re=4+__readUInt32LE(this,this.l);break;case"lpstr-cp":je=__cpstr(this,this.l),Re=4+__readUInt32LE(this,this.l);break;case"lpwstr":je=__lpwstr(this,this.l),Re=4+2*__readUInt32LE(this,this.l);break;case"lpp4":Re=4+__readUInt32LE(this,this.l),je=__lpp4(this,this.l),Re&2&&(Re+=2);break;case"8lpp4":Re=4+__readUInt32LE(this,this.l),je=__8lpp4(this,this.l),Re&3&&(Re+=4-(Re&3));break;case"cstr":for(Re=0,je="";(ke=__readUInt8(this,this.l+Re++))!==0;)Fe.push(_getchar(ke));je=Fe.join("");break;case"_wstr":for(Re=0,je="";(ke=__readUInt16LE(this,this.l+Re))!==0;)Fe.push(_getchar(ke)),Re+=2;Re+=2,je=Fe.join("");break;case"dbcs-cont":for(je="",Ue=this.l,Me=0;Me<Re;++Me){if(this.lens&&this.lens.indexOf(Ue)!==-1)return ke=__readUInt8(this,Ue),this.l=Ue+1,Oe=ReadShift.call(this,Re-Me,ke?"dbcs-cont":"sbcs-cont"),Fe.join("")+Oe;Fe.push(_getchar(__readUInt16LE(this,Ue))),Ue+=2}je=Fe.join(""),Re*=2;break;case"cpstr":case"sbcs-cont":for(je="",Ue=this.l,Me=0;Me!=Re;++Me){if(this.lens&&this.lens.indexOf(Ue)!==-1)return ke=__readUInt8(this,Ue),this.l=Ue+1,Oe=ReadShift.call(this,Re-Me,ke?"dbcs-cont":"sbcs-cont"),Fe.join("")+Oe;Fe.push(_getchar(__readUInt8(this,Ue))),Ue+=1}je=Fe.join("");break;default:switch(Re){case 1:return Be=__readUInt8(this,this.l),this.l++,Be;case 2:return Be=(Ce==="i"?__readInt16LE:__readUInt16LE)(this,this.l),this.l+=2,Be;case 4:case-4:return Ce==="i"||(this[this.l+3]&128)===0?(Be=(Re>0?__readInt32LE:__readInt32BE)(this,this.l),this.l+=4,Be):(De=__readUInt32LE(this,this.l),this.l+=4,De);case 8:case-8:if(Ce==="f")return Re==8?De=__double(this,this.l):De=__double([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,De;Re=8;case 16:je=__hexlify(this,this.l,Re);break}}return this.l+=Re,je}var __writeUInt32LE=function(Re,Ce,je){Re[je]=Ce&255,Re[je+1]=Ce>>>8&255,Re[je+2]=Ce>>>16&255,Re[je+3]=Ce>>>24&255},__writeInt32LE=function(Re,Ce,je){Re[je]=Ce&255,Re[je+1]=Ce>>8&255,Re[je+2]=Ce>>16&255,Re[je+3]=Ce>>24&255},__writeUInt16LE=function(Re,Ce,je){Re[je]=Ce&255,Re[je+1]=Ce>>>8&255};function WriteShift(Re,Ce,je){var Be=0,De=0;if(je==="dbcs"){for(De=0;De!=Ce.length;++De)__writeUInt16LE(this,Ce.charCodeAt(De),this.l+2*De);Be=2*Ce.length}else if(je==="sbcs"){for(Ce=Ce.replace(/[^\x00-\x7F]/g,"_"),De=0;De!=Ce.length;++De)this[this.l+De]=Ce.charCodeAt(De)&255;Be=Ce.length}else if(je==="hex"){for(;De<Re;++De)this[this.l++]=parseInt(Ce.slice(2*De,2*De+2),16)||0;return this}else if(je==="utf16le"){var Fe=Math.min(this.l+Re,this.length);for(De=0;De<Math.min(Ce.length,Re);++De){var ke=Ce.charCodeAt(De);this[this.l++]=ke&255,this[this.l++]=ke>>8}for(;this.l<Fe;)this[this.l++]=0;return this}else switch(Re){case 1:Be=1,this[this.l]=Ce&255;break;case 2:Be=2,this[this.l]=Ce&255,Ce>>>=8,this[this.l+1]=Ce&255;break;case 3:Be=3,this[this.l]=Ce&255,Ce>>>=8,this[this.l+1]=Ce&255,Ce>>>=8,this[this.l+2]=Ce&255;break;case 4:Be=4,__writeUInt32LE(this,Ce,this.l);break;case 8:if(Be=8,je==="f"){write_double_le(this,Ce,this.l);break}case 16:break;case-4:Be=4,__writeInt32LE(this,Ce,this.l);break}return this.l+=Be,this}function CheckField(Re,Ce){var je=__hexlify(this,this.l,Re.length>>1);if(je!==Re)throw new Error(Ce+"Expected "+Re+" saw "+je);this.l+=Re.length>>1}function prep_blob(Re,Ce){Re.l=Ce,Re.read_shift=ReadShift,Re.chk=CheckField,Re.write_shift=WriteShift}function parsenoop(Re,Ce){Re.l+=Ce}function new_buf(Re){var Ce=new_raw_buf(Re);return prep_blob(Ce,0),Ce}function buf_array(){var Re=[],Ce=has_buf?256:2048,je=function(Ue){var $e=new_buf(Ue);return prep_blob($e,0),$e},Be=je(Ce),De=function(){Be&&(Be.length>Be.l&&(Be=Be.slice(0,Be.l),Be.l=Be.length),Be.length>0&&Re.push(Be),Be=null)},Fe=function(Ue){return Be&&Ue<Be.length-Be.l?Be:(De(),Be=je(Math.max(Ue+1,Ce)))},ke=function(){return De(),bconcat(Re)},Oe=function(Ue){De(),Be=Ue,Be.l==null&&(Be.l=Be.length),Fe(Ce)};return{next:Fe,push:Oe,end:ke,_bufs:Re}}function write_record(Re,Ce,je,Be){var De=+Ce,Fe;if(!isNaN(De)){Be||(Be=XLSBRecordEnum[De].p||(je||[]).length||0),Fe=1+(De>=128?1:0)+1,Be>=128&&++Fe,Be>=16384&&++Fe,Be>=2097152&&++Fe;var ke=Re.next(Fe);De<=127?ke.write_shift(1,De):(ke.write_shift(1,(De&127)+128),ke.write_shift(1,De>>7));for(var Oe=0;Oe!=4;++Oe)if(Be>=128)ke.write_shift(1,(Be&127)+128),Be>>=7;else{ke.write_shift(1,Be);break}Be>0&&is_buf(je)&&Re.push(je)}}function shift_cell_xls(Re,Ce,je){var Be=dup(Re);if(Ce.s?(Be.cRel&&(Be.c+=Ce.s.c),Be.rRel&&(Be.r+=Ce.s.r)):(Be.cRel&&(Be.c+=Ce.c),Be.rRel&&(Be.r+=Ce.r)),!je||je.biff<12){for(;Be.c>=256;)Be.c-=256;for(;Be.r>=65536;)Be.r-=65536}return Be}function shift_range_xls(Re,Ce,je){var Be=dup(Re);return Be.s=shift_cell_xls(Be.s,Ce.s,je),Be.e=shift_cell_xls(Be.e,Ce.s,je),Be}function encode_cell_xls(Re,Ce){if(Re.cRel&&Re.c<0)for(Re=dup(Re);Re.c<0;)Re.c+=Ce>8?16384:256;if(Re.rRel&&Re.r<0)for(Re=dup(Re);Re.r<0;)Re.r+=Ce>8?1048576:Ce>5?65536:16384;var je=encode_cell(Re);return!Re.cRel&&Re.cRel!=null&&(je=fix_col(je)),!Re.rRel&&Re.rRel!=null&&(je=fix_row(je)),je}function encode_range_xls(Re,Ce){return Re.s.r==0&&!Re.s.rRel&&Re.e.r==(Ce.biff>=12?1048575:Ce.biff>=8?65536:16384)&&!Re.e.rRel?(Re.s.cRel?"":"$")+encode_col(Re.s.c)+":"+(Re.e.cRel?"":"$")+encode_col(Re.e.c):Re.s.c==0&&!Re.s.cRel&&Re.e.c==(Ce.biff>=12?16383:255)&&!Re.e.cRel?(Re.s.rRel?"":"$")+encode_row(Re.s.r)+":"+(Re.e.rRel?"":"$")+encode_row(Re.e.r):encode_cell_xls(Re.s,Ce.biff)+":"+encode_cell_xls(Re.e,Ce.biff)}function decode_row(Re){return parseInt(unfix_row(Re),10)-1}function encode_row(Re){return""+(Re+1)}function fix_row(Re){return Re.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function unfix_row(Re){return Re.replace(/\$(\d+)$/,"$1")}function decode_col(Re){for(var Ce=unfix_col(Re),je=0,Be=0;Be!==Ce.length;++Be)je=26*je+Ce.charCodeAt(Be)-64;return je-1}function encode_col(Re){if(Re<0)throw new Error("invalid column "+Re);var Ce="";for(++Re;Re;Re=Math.floor((Re-1)/26))Ce=String.fromCharCode((Re-1)%26+65)+Ce;return Ce}function fix_col(Re){return Re.replace(/^([A-Z])/,"$$$1")}function unfix_col(Re){return Re.replace(/^\$([A-Z])/,"$1")}function split_cell(Re){return Re.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function decode_cell(Re){for(var Ce=0,je=0,Be=0;Be<Re.length;++Be){var De=Re.charCodeAt(Be);De>=48&&De<=57?Ce=10*Ce+(De-48):De>=65&&De<=90&&(je=26*je+(De-64))}return{c:je-1,r:Ce-1}}function encode_cell(Re){for(var Ce=Re.c+1,je="";Ce;Ce=(Ce-1)/26|0)je=String.fromCharCode((Ce-1)%26+65)+je;return je+(Re.r+1)}function decode_range(Re){var Ce=Re.indexOf(":");return Ce==-1?{s:decode_cell(Re),e:decode_cell(Re)}:{s:decode_cell(Re.slice(0,Ce)),e:decode_cell(Re.slice(Ce+1))}}function encode_range(Re,Ce){return typeof Ce>"u"||typeof Ce=="number"?encode_range(Re.s,Re.e):(typeof Re!="string"&&(Re=encode_cell(Re)),typeof Ce!="string"&&(Ce=encode_cell(Ce)),Re==Ce?Re:Re+":"+Ce)}function safe_decode_range(Re){var Ce={s:{c:0,r:0},e:{c:0,r:0}},je=0,Be=0,De=0,Fe=Re.length;for(je=0;Be<Fe&&!((De=Re.charCodeAt(Be)-64)<1||De>26);++Be)je=26*je+De;for(Ce.s.c=--je,je=0;Be<Fe&&!((De=Re.charCodeAt(Be)-48)<0||De>9);++Be)je=10*je+De;if(Ce.s.r=--je,Be===Fe||De!=10)return Ce.e.c=Ce.s.c,Ce.e.r=Ce.s.r,Ce;for(++Be,je=0;Be!=Fe&&!((De=Re.charCodeAt(Be)-64)<1||De>26);++Be)je=26*je+De;for(Ce.e.c=--je,je=0;Be!=Fe&&!((De=Re.charCodeAt(Be)-48)<0||De>9);++Be)je=10*je+De;return Ce.e.r=--je,Ce}function safe_format_cell(Re,Ce){var je=Re.t=="d"&&Ce instanceof Date;if(Re.z!=null)try{return Re.w=SSF_format(Re.z,je?datenum(Ce):Ce)}catch{}try{return Re.w=SSF_format((Re.XF||{}).numFmtId||(je?14:0),je?datenum(Ce):Ce)}catch{return""+Ce}}function format_cell(Re,Ce,je){return Re==null||Re.t==null||Re.t=="z"?"":Re.w!==void 0?Re.w:(Re.t=="d"&&!Re.z&&je&&je.dateNF&&(Re.z=je.dateNF),Re.t=="e"?BErr[Re.v]||Re.v:Ce==null?safe_format_cell(Re,Re.v):safe_format_cell(Re,Ce))}function sheet_to_workbook(Re,Ce){var je=Ce&&Ce.sheet?Ce.sheet:"Sheet1",Be={};return Be[je]=Re,{SheetNames:[je],Sheets:Be}}function sheet_add_aoa(Re,Ce,je){var Be=je||{},De=Re?Array.isArray(Re):Be.dense,Fe=Re||(De?[]:{}),ke=0,Oe=0;if(Fe&&Be.origin!=null){if(typeof Be.origin=="number")ke=Be.origin;else{var Me=typeof Be.origin=="string"?decode_cell(Be.origin):Be.origin;ke=Me.r,Oe=Me.c}Fe["!ref"]||(Fe["!ref"]="A1:A1")}var Ue={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(Fe["!ref"]){var $e=safe_decode_range(Fe["!ref"]);Ue.s.c=$e.s.c,Ue.s.r=$e.s.r,Ue.e.c=Math.max(Ue.e.c,$e.e.c),Ue.e.r=Math.max(Ue.e.r,$e.e.r),ke==-1&&(Ue.e.r=ke=$e.e.r+1)}for(var He=0;He!=Ce.length;++He)if(Ce[He]){if(!Array.isArray(Ce[He]))throw new Error("aoa_to_sheet expects an array of arrays");for(var Qe=0;Qe!=Ce[He].length;++Qe)if(!(typeof Ce[He][Qe]>"u")){var We={v:Ce[He][Qe]},qe=ke+He,Ke=Oe+Qe;if(Ue.s.r>qe&&(Ue.s.r=qe),Ue.s.c>Ke&&(Ue.s.c=Ke),Ue.e.r<qe&&(Ue.e.r=qe),Ue.e.c<Ke&&(Ue.e.c=Ke),Ce[He][Qe]&&typeof Ce[He][Qe]=="object"&&!Array.isArray(Ce[He][Qe])&&!(Ce[He][Qe]instanceof Date))We=Ce[He][Qe];else if(Array.isArray(We.v)&&(We.f=Ce[He][Qe][1],We.v=We.v[0]),We.v===null)if(We.f)We.t="n";else if(Be.nullError)We.t="e",We.v=0;else if(Be.sheetStubs)We.t="z";else continue;else typeof We.v=="number"?We.t="n":typeof We.v=="boolean"?We.t="b":We.v instanceof Date?(We.z=Be.dateNF||table_fmt[14],Be.cellDates?(We.t="d",We.w=SSF_format(We.z,datenum(We.v))):(We.t="n",We.v=datenum(We.v),We.w=SSF_format(We.z,We.v))):We.t="s";if(De)Fe[qe]||(Fe[qe]=[]),Fe[qe][Ke]&&Fe[qe][Ke].z&&(We.z=Fe[qe][Ke].z),Fe[qe][Ke]=We;else{var Xe=encode_cell({c:Ke,r:qe});Fe[Xe]&&Fe[Xe].z&&(We.z=Fe[Xe].z),Fe[Xe]=We}}}return Ue.s.c<1e7&&(Fe["!ref"]=encode_range(Ue)),Fe}function aoa_to_sheet(Re,Ce){return sheet_add_aoa(null,Re,Ce)}function parse_Int32LE(Re){return Re.read_shift(4,"i")}function write_UInt32LE(Re,Ce){return Ce||(Ce=new_buf(4)),Ce.write_shift(4,Re),Ce}function parse_XLWideString(Re){var Ce=Re.read_shift(4);return Ce===0?"":Re.read_shift(Ce,"dbcs")}function write_XLWideString(Re,Ce){var je=!1;return Ce==null&&(je=!0,Ce=new_buf(4+2*Re.length)),Ce.write_shift(4,Re.length),Re.length>0&&Ce.write_shift(0,Re,"dbcs"),je?Ce.slice(0,Ce.l):Ce}function parse_StrRun(Re){return{ich:Re.read_shift(2),ifnt:Re.read_shift(2)}}function write_StrRun(Re,Ce){return Ce||(Ce=new_buf(4)),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce}function parse_RichStr(Re,Ce){var je=Re.l,Be=Re.read_shift(1),De=parse_XLWideString(Re),Fe=[],ke={t:De,h:De};if((Be&1)!==0){for(var Oe=Re.read_shift(4),Me=0;Me!=Oe;++Me)Fe.push(parse_StrRun(Re));ke.r=Fe}else ke.r=[{ich:0,ifnt:0}];return Re.l=je+Ce,ke}function write_RichStr(Re,Ce){var je=!1;return Ce==null&&(je=!0,Ce=new_buf(15+4*Re.t.length)),Ce.write_shift(1,0),write_XLWideString(Re.t,Ce),je?Ce.slice(0,Ce.l):Ce}var parse_BrtCommentText=parse_RichStr;function write_BrtCommentText(Re,Ce){var je=!1;return Ce==null&&(je=!0,Ce=new_buf(23+4*Re.t.length)),Ce.write_shift(1,1),write_XLWideString(Re.t,Ce),Ce.write_shift(4,1),write_StrRun({},Ce),je?Ce.slice(0,Ce.l):Ce}function parse_XLSBCell(Re){var Ce=Re.read_shift(4),je=Re.read_shift(2);return je+=Re.read_shift(1)<<16,Re.l++,{c:Ce,iStyleRef:je}}function write_XLSBCell(Re,Ce){return Ce==null&&(Ce=new_buf(8)),Ce.write_shift(-4,Re.c),Ce.write_shift(3,Re.iStyleRef||Re.s),Ce.write_shift(1,0),Ce}function parse_XLSBShortCell(Re){var Ce=Re.read_shift(2);return Ce+=Re.read_shift(1)<<16,Re.l++,{c:-1,iStyleRef:Ce}}function write_XLSBShortCell(Re,Ce){return Ce==null&&(Ce=new_buf(4)),Ce.write_shift(3,Re.iStyleRef||Re.s),Ce.write_shift(1,0),Ce}var parse_XLSBCodeName=parse_XLWideString,write_XLSBCodeName=write_XLWideString;function parse_XLNullableWideString(Re){var Ce=Re.read_shift(4);return Ce===0||Ce===4294967295?"":Re.read_shift(Ce,"dbcs")}function write_XLNullableWideString(Re,Ce){var je=!1;return Ce==null&&(je=!0,Ce=new_buf(127)),Ce.write_shift(4,Re.length>0?Re.length:4294967295),Re.length>0&&Ce.write_shift(0,Re,"dbcs"),je?Ce.slice(0,Ce.l):Ce}var parse_XLNameWideString=parse_XLWideString,parse_RelID=parse_XLNullableWideString,write_RelID=write_XLNullableWideString;function parse_RkNumber(Re){var Ce=Re.slice(Re.l,Re.l+4),je=Ce[0]&1,Be=Ce[0]&2;Re.l+=4;var De=Be===0?__double([0,0,0,0,Ce[0]&252,Ce[1],Ce[2],Ce[3]],0):__readInt32LE(Ce,0)>>2;return je?De/100:De}function write_RkNumber(Re,Ce){Ce==null&&(Ce=new_buf(4));var je=0,Be=0,De=Re*100;if(Re==(Re|0)&&Re>=-536870912&&Re<1<<29?Be=1:De==(De|0)&&De>=-536870912&&De<1<<29&&(Be=1,je=1),Be)Ce.write_shift(-4,((je?De:Re)<<2)+(je+2));else throw new Error("unsupported RkNumber "+Re)}function parse_RfX(Re){var Ce={s:{},e:{}};return Ce.s.r=Re.read_shift(4),Ce.e.r=Re.read_shift(4),Ce.s.c=Re.read_shift(4),Ce.e.c=Re.read_shift(4),Ce}function write_RfX(Re,Ce){return Ce||(Ce=new_buf(16)),Ce.write_shift(4,Re.s.r),Ce.write_shift(4,Re.e.r),Ce.write_shift(4,Re.s.c),Ce.write_shift(4,Re.e.c),Ce}var parse_UncheckedRfX=parse_RfX,write_UncheckedRfX=write_RfX;function parse_Xnum(Re){if(Re.length-Re.l<8)throw"XLS Xnum Buffer underflow";return Re.read_shift(8,"f")}function write_Xnum(Re,Ce){return(Ce||new_buf(8)).write_shift(8,Re,"f")}function parse_BrtColor(Re){var Ce={},je=Re.read_shift(1),Be=je>>>1,De=Re.read_shift(1),Fe=Re.read_shift(2,"i"),ke=Re.read_shift(1),Oe=Re.read_shift(1),Me=Re.read_shift(1);switch(Re.l++,Be){case 0:Ce.auto=1;break;case 1:Ce.index=De;var Ue=XLSIcv[De];Ue&&(Ce.rgb=rgb2Hex(Ue));break;case 2:Ce.rgb=rgb2Hex([ke,Oe,Me]);break;case 3:Ce.theme=De;break}return Fe!=0&&(Ce.tint=Fe>0?Fe/32767:Fe/32768),Ce}function write_BrtColor(Re,Ce){if(Ce||(Ce=new_buf(8)),!Re||Re.auto)return Ce.write_shift(4,0),Ce.write_shift(4,0),Ce;Re.index!=null?(Ce.write_shift(1,2),Ce.write_shift(1,Re.index)):Re.theme!=null?(Ce.write_shift(1,6),Ce.write_shift(1,Re.theme)):(Ce.write_shift(1,5),Ce.write_shift(1,0));var je=Re.tint||0;if(je>0?je*=32767:je<0&&(je*=32768),Ce.write_shift(2,je),!Re.rgb||Re.theme!=null)Ce.write_shift(2,0),Ce.write_shift(1,0),Ce.write_shift(1,0);else{var Be=Re.rgb||"FFFFFF";typeof Be=="number"&&(Be=("000000"+Be.toString(16)).slice(-6)),Ce.write_shift(1,parseInt(Be.slice(0,2),16)),Ce.write_shift(1,parseInt(Be.slice(2,4),16)),Ce.write_shift(1,parseInt(Be.slice(4,6),16)),Ce.write_shift(1,255)}return Ce}function parse_FontFlags(Re){var Ce=Re.read_shift(1);Re.l++;var je={fBold:Ce&1,fItalic:Ce&2,fUnderline:Ce&4,fStrikeout:Ce&8,fOutline:Ce&16,fShadow:Ce&32,fCondense:Ce&64,fExtend:Ce&128};return je}function write_FontFlags(Re,Ce){Ce||(Ce=new_buf(2));var je=(Re.italic?2:0)|(Re.strike?8:0)|(Re.outline?16:0)|(Re.shadow?32:0)|(Re.condense?64:0)|(Re.extend?128:0);return Ce.write_shift(1,je),Ce.write_shift(1,0),Ce}var VT_I2=2,VT_I4=3,VT_BOOL=11,VT_UI4=19,VT_FILETIME=64,VT_BLOB=65,VT_CF=71,VT_VECTOR_VARIANT=4108,VT_VECTOR_LPSTR=4126,VT_STRING=80,DocSummaryPIDDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Category",t:VT_STRING},3:{n:"PresentationFormat",t:VT_STRING},4:{n:"ByteCount",t:VT_I4},5:{n:"LineCount",t:VT_I4},6:{n:"ParagraphCount",t:VT_I4},7:{n:"SlideCount",t:VT_I4},8:{n:"NoteCount",t:VT_I4},9:{n:"HiddenCount",t:VT_I4},10:{n:"MultimediaClipCount",t:VT_I4},11:{n:"ScaleCrop",t:VT_BOOL},12:{n:"HeadingPairs",t:VT_VECTOR_VARIANT},13:{n:"TitlesOfParts",t:VT_VECTOR_LPSTR},14:{n:"Manager",t:VT_STRING},15:{n:"Company",t:VT_STRING},16:{n:"LinksUpToDate",t:VT_BOOL},17:{n:"CharacterCount",t:VT_I4},19:{n:"SharedDoc",t:VT_BOOL},22:{n:"HyperlinksChanged",t:VT_BOOL},23:{n:"AppVersion",t:VT_I4,p:"version"},24:{n:"DigSig",t:VT_BLOB},26:{n:"ContentType",t:VT_STRING},27:{n:"ContentStatus",t:VT_STRING},28:{n:"Language",t:VT_STRING},29:{n:"Version",t:VT_STRING},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}},SummaryPIDSI={1:{n:"CodePage",t:VT_I2},2:{n:"Title",t:VT_STRING},3:{n:"Subject",t:VT_STRING},4:{n:"Author",t:VT_STRING},5:{n:"Keywords",t:VT_STRING},6:{n:"Comments",t:VT_STRING},7:{n:"Template",t:VT_STRING},8:{n:"LastAuthor",t:VT_STRING},9:{n:"RevNumber",t:VT_STRING},10:{n:"EditTime",t:VT_FILETIME},11:{n:"LastPrinted",t:VT_FILETIME},12:{n:"CreatedDate",t:VT_FILETIME},13:{n:"ModifiedDate",t:VT_FILETIME},14:{n:"PageCount",t:VT_I4},15:{n:"WordCount",t:VT_I4},16:{n:"CharCount",t:VT_I4},17:{n:"Thumbnail",t:VT_CF},18:{n:"Application",t:VT_STRING},19:{n:"DocSecurity",t:VT_I4},255:{},2147483648:{n:"Locale",t:VT_UI4},2147483651:{n:"Behavior",t:VT_UI4},1919054434:{}};function rgbify(Re){return Re.map(function(Ce){return[Ce>>16&255,Ce>>8&255,Ce&255]})}var _XLSIcv=rgbify([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),XLSIcv=dup(_XLSIcv),BErr={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},ct2type={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},CT_LIST={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function new_ct(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function write_ct(Re,Ce){var je=evert_arr(ct2type),Be=[],De;Be[Be.length]=XML_HEADER,Be[Be.length]=writextag("Types",null,{xmlns:XMLNS.CT,"xmlns:xsd":XMLNS.xsd,"xmlns:xsi":XMLNS.xsi}),Be=Be.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(Me){return writextag("Default",null,{Extension:Me[0],ContentType:Me[1]})}));var Fe=function(Me){Re[Me]&&Re[Me].length>0&&(De=Re[Me][0],Be[Be.length]=writextag("Override",null,{PartName:(De[0]=="/"?"":"/")+De,ContentType:CT_LIST[Me][Ce.bookType]||CT_LIST[Me].xlsx}))},ke=function(Me){(Re[Me]||[]).forEach(function(Ue){Be[Be.length]=writextag("Override",null,{PartName:(Ue[0]=="/"?"":"/")+Ue,ContentType:CT_LIST[Me][Ce.bookType]||CT_LIST[Me].xlsx})})},Oe=function(Me){(Re[Me]||[]).forEach(function(Ue){Be[Be.length]=writextag("Override",null,{PartName:(Ue[0]=="/"?"":"/")+Ue,ContentType:je[Me][0]})})};return Fe("workbooks"),ke("sheets"),ke("charts"),Oe("themes"),["strs","styles"].forEach(Fe),["coreprops","extprops","custprops"].forEach(Oe),Oe("vba"),Oe("comments"),Oe("threadedcomments"),Oe("drawings"),ke("metadata"),Oe("people"),Be.length>2&&(Be[Be.length]="</Types>",Be[1]=Be[1].replace("/>",">")),Be.join("")}var RELS={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function get_rels_path(Re){var Ce=Re.lastIndexOf("/");return Re.slice(0,Ce+1)+"_rels/"+Re.slice(Ce+1)+".rels"}function write_rels(Re){var Ce=[XML_HEADER,writextag("Relationships",null,{xmlns:XMLNS.RELS})];return keys(Re["!id"]).forEach(function(je){Ce[Ce.length]=writextag("Relationship",null,Re["!id"][je])}),Ce.length>2&&(Ce[Ce.length]="</Relationships>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}function add_rels(Re,Ce,je,Be,De,Fe){if(De||(De={}),Re["!id"]||(Re["!id"]={}),Re["!idx"]||(Re["!idx"]=1),Ce<0)for(Ce=Re["!idx"];Re["!id"]["rId"+Ce];++Ce);if(Re["!idx"]=Ce+1,De.Id="rId"+Ce,De.Type=Be,De.Target=je,[RELS.HLINK,RELS.XPATH,RELS.XMISS].indexOf(De.Type)>-1&&(De.TargetMode="External"),Re["!id"][De.Id])throw new Error("Cannot rewrite rId "+Ce);return Re["!id"][De.Id]=De,Re[("/"+De.Target).replace("//","/")]=De,Ce}function write_manifest(Re){var Ce=[XML_HEADER];Ce.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),Ce.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var je=0;je<Re.length;++je)Ce.push('  <manifest:file-entry manifest:full-path="'+Re[je][0]+'" manifest:media-type="'+Re[je][1]+`"/>
`);return Ce.push("</manifest:manifest>"),Ce.join("")}function write_rdf_type(Re,Ce,je){return['  <rdf:Description rdf:about="'+Re+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(je||"odf")+"#"+Ce+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf_has(Re,Ce){return['  <rdf:Description rdf:about="'+Re+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+Ce+`"/>
`,`  </rdf:Description>
`].join("")}function write_rdf(Re){var Ce=[XML_HEADER];Ce.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var je=0;je!=Re.length;++je)Ce.push(write_rdf_type(Re[je][0],Re[je][1])),Ce.push(write_rdf_has("",Re[je][0]));return Ce.push(write_rdf_type("","Document","pkg")),Ce.push("</rdf:RDF>"),Ce.join("")}function write_meta_ods(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+XLSX.version+"</meta:generator></office:meta></office:document-meta>"}var CORE_PROPS=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function cp_doit(Re,Ce,je,Be,De){De[Re]!=null||Ce==null||Ce===""||(De[Re]=Ce,Ce=escapexml(Ce),Be[Be.length]=je?writextag(Re,Ce,je):writetag(Re,Ce))}function write_core_props(Re,Ce){var je=Ce||{},Be=[XML_HEADER,writextag("cp:coreProperties",null,{"xmlns:cp":XMLNS.CORE_PROPS,"xmlns:dc":XMLNS.dc,"xmlns:dcterms":XMLNS.dcterms,"xmlns:dcmitype":XMLNS.dcmitype,"xmlns:xsi":XMLNS.xsi})],De={};if(!Re&&!je.Props)return Be.join("");Re&&(Re.CreatedDate!=null&&cp_doit("dcterms:created",typeof Re.CreatedDate=="string"?Re.CreatedDate:write_w3cdtf(Re.CreatedDate,je.WTF),{"xsi:type":"dcterms:W3CDTF"},Be,De),Re.ModifiedDate!=null&&cp_doit("dcterms:modified",typeof Re.ModifiedDate=="string"?Re.ModifiedDate:write_w3cdtf(Re.ModifiedDate,je.WTF),{"xsi:type":"dcterms:W3CDTF"},Be,De));for(var Fe=0;Fe!=CORE_PROPS.length;++Fe){var ke=CORE_PROPS[Fe],Oe=je.Props&&je.Props[ke[1]]!=null?je.Props[ke[1]]:Re?Re[ke[1]]:null;Oe===!0?Oe="1":Oe===!1?Oe="0":typeof Oe=="number"&&(Oe=String(Oe)),Oe!=null&&cp_doit(ke[0],Oe,null,Be,De)}return Be.length>2&&(Be[Be.length]="</cp:coreProperties>",Be[1]=Be[1].replace("/>",">")),Be.join("")}var EXT_PROPS=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],PseudoPropsPairs=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function write_ext_props(Re){var Ce=[],je=writextag;return Re||(Re={}),Re.Application="SheetJS",Ce[Ce.length]=XML_HEADER,Ce[Ce.length]=writextag("Properties",null,{xmlns:XMLNS.EXT_PROPS,"xmlns:vt":XMLNS.vt}),EXT_PROPS.forEach(function(Be){if(Re[Be[1]]!==void 0){var De;switch(Be[2]){case"string":De=escapexml(String(Re[Be[1]]));break;case"bool":De=Re[Be[1]]?"true":"false";break}De!==void 0&&(Ce[Ce.length]=je(Be[0],De))}}),Ce[Ce.length]=je("HeadingPairs",je("vt:vector",je("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+je("vt:variant",je("vt:i4",String(Re.Worksheets))),{size:2,baseType:"variant"})),Ce[Ce.length]=je("TitlesOfParts",je("vt:vector",Re.SheetNames.map(function(Be){return"<vt:lpstr>"+escapexml(Be)+"</vt:lpstr>"}).join(""),{size:Re.Worksheets,baseType:"lpstr"})),Ce.length>2&&(Ce[Ce.length]="</Properties>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}function write_cust_props(Re){var Ce=[XML_HEADER,writextag("Properties",null,{xmlns:XMLNS.CUST_PROPS,"xmlns:vt":XMLNS.vt})];if(!Re)return Ce.join("");var je=1;return keys(Re).forEach(function(De){++je,Ce[Ce.length]=writextag("property",write_vt(Re[De]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:je,name:escapexml(De)})}),Ce.length>2&&(Ce[Ce.length]="</Properties>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}var XLMLDocPropsMap={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function xlml_write_docprops(Re,Ce){var je=[];return keys(XLMLDocPropsMap).map(function(Be){for(var De=0;De<CORE_PROPS.length;++De)if(CORE_PROPS[De][1]==Be)return CORE_PROPS[De];for(De=0;De<EXT_PROPS.length;++De)if(EXT_PROPS[De][1]==Be)return EXT_PROPS[De];throw Be}).forEach(function(Be){if(Re[Be[1]]!=null){var De=Ce&&Ce.Props&&Ce.Props[Be[1]]!=null?Ce.Props[Be[1]]:Re[Be[1]];switch(Be[2]){case"date":De=new Date(De).toISOString().replace(/\.\d*Z/,"Z");break}typeof De=="number"?De=String(De):De===!0||De===!1?De=De?"1":"0":De instanceof Date&&(De=new Date(De).toISOString().replace(/\.\d*Z/,"")),je.push(writetag(XLMLDocPropsMap[Be[1]]||Be[1],De))}}),writextag("DocumentProperties",je.join(""),{xmlns:XLMLNS.o})}function xlml_write_custprops(Re,Ce){var je=["Worksheets","SheetNames"],Be="CustomDocumentProperties",De=[];return Re&&keys(Re).forEach(function(Fe){if(Object.prototype.hasOwnProperty.call(Re,Fe)){for(var ke=0;ke<CORE_PROPS.length;++ke)if(Fe==CORE_PROPS[ke][1])return;for(ke=0;ke<EXT_PROPS.length;++ke)if(Fe==EXT_PROPS[ke][1])return;for(ke=0;ke<je.length;++ke)if(Fe==je[ke])return;var Oe=Re[Fe],Me="string";typeof Oe=="number"?(Me="float",Oe=String(Oe)):Oe===!0||Oe===!1?(Me="boolean",Oe=Oe?"1":"0"):Oe=String(Oe),De.push(writextag(escapexmltag(Fe),Oe,{"dt:dt":Me}))}}),Ce&&keys(Ce).forEach(function(Fe){if(Object.prototype.hasOwnProperty.call(Ce,Fe)&&!(Re&&Object.prototype.hasOwnProperty.call(Re,Fe))){var ke=Ce[Fe],Oe="string";typeof ke=="number"?(Oe="float",ke=String(ke)):ke===!0||ke===!1?(Oe="boolean",ke=ke?"1":"0"):ke instanceof Date?(Oe="dateTime.tz",ke=ke.toISOString()):ke=String(ke),De.push(writextag(escapexmltag(Fe),ke,{"dt:dt":Oe}))}}),"<"+Be+' xmlns="'+XLMLNS.o+'">'+De.join("")+"</"+Be+">"}function write_FILETIME(Re){var Ce=typeof Re=="string"?new Date(Date.parse(Re)):Re,je=Ce.getTime()/1e3+11644473600,Be=je%Math.pow(2,32),De=(je-Be)/Math.pow(2,32);Be*=1e7,De*=1e7;var Fe=Be/Math.pow(2,32)|0;Fe>0&&(Be=Be%Math.pow(2,32),De+=Fe);var ke=new_buf(8);return ke.write_shift(4,Be),ke.write_shift(4,De),ke}function write_TypedPropertyValue(Re,Ce){var je=new_buf(4),Be=new_buf(4);switch(je.write_shift(4,Re==80?31:Re),Re){case 3:Be.write_shift(-4,Ce);break;case 5:Be=new_buf(8),Be.write_shift(8,Ce,"f");break;case 11:Be.write_shift(4,Ce?1:0);break;case 64:Be=write_FILETIME(Ce);break;case 31:case 80:for(Be=new_buf(4+2*(Ce.length+1)+(Ce.length%2?0:2)),Be.write_shift(4,Ce.length+1),Be.write_shift(0,Ce,"dbcs");Be.l!=Be.length;)Be.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+Re+" "+Ce)}return bconcat([je,Be])}var XLSPSSkip=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function guess_property_type(Re){switch(typeof Re){case"boolean":return 11;case"number":return(Re|0)==Re?3:5;case"string":return 31;case"object":if(Re instanceof Date)return 64;break}return-1}function write_PropertySet(Re,Ce,je){var Be=new_buf(8),De=[],Fe=[],ke=8,Oe=0,Me=new_buf(8),Ue=new_buf(8);if(Me.write_shift(4,2),Me.write_shift(4,1200),Ue.write_shift(4,1),Fe.push(Me),De.push(Ue),ke+=8+Me.length,!Ce){Ue=new_buf(8),Ue.write_shift(4,0),De.unshift(Ue);var $e=[new_buf(4)];for($e[0].write_shift(4,Re.length),Oe=0;Oe<Re.length;++Oe){var He=Re[Oe][0];for(Me=new_buf(8+2*(He.length+1)+(He.length%2?0:2)),Me.write_shift(4,Oe+2),Me.write_shift(4,He.length+1),Me.write_shift(0,He,"dbcs");Me.l!=Me.length;)Me.write_shift(1,0);$e.push(Me)}Me=bconcat($e),Fe.unshift(Me),ke+=8+Me.length}for(Oe=0;Oe<Re.length;++Oe)if(!(Ce&&!Ce[Re[Oe][0]])&&!(XLSPSSkip.indexOf(Re[Oe][0])>-1||PseudoPropsPairs.indexOf(Re[Oe][0])>-1)&&Re[Oe][1]!=null){var Qe=Re[Oe][1],We=0;if(Ce){We=+Ce[Re[Oe][0]];var qe=je[We];if(qe.p=="version"&&typeof Qe=="string"){var Ke=Qe.split(".");Qe=(+Ke[0]<<16)+(+Ke[1]||0)}Me=write_TypedPropertyValue(qe.t,Qe)}else{var Xe=guess_property_type(Qe);Xe==-1&&(Xe=31,Qe=String(Qe)),Me=write_TypedPropertyValue(Xe,Qe)}Fe.push(Me),Ue=new_buf(8),Ue.write_shift(4,Ce?We:2+Oe),De.push(Ue),ke+=8+Me.length}var Ye=8*(Fe.length+1);for(Oe=0;Oe<Fe.length;++Oe)De[Oe].write_shift(4,Ye),Ye+=Fe[Oe].length;return Be.write_shift(4,ke),Be.write_shift(4,Fe.length),bconcat([Be].concat(De).concat(Fe))}function write_PropertySetStream(Re,Ce,je,Be,De,Fe){var ke=new_buf(De?68:48),Oe=[ke];ke.write_shift(2,65534),ke.write_shift(2,0),ke.write_shift(4,842412599),ke.write_shift(16,CFB.utils.consts.HEADER_CLSID,"hex"),ke.write_shift(4,De?2:1),ke.write_shift(16,Ce,"hex"),ke.write_shift(4,De?68:48);var Me=write_PropertySet(Re,je,Be);if(Oe.push(Me),De){var Ue=write_PropertySet(De,null,null);ke.write_shift(16,Fe,"hex"),ke.write_shift(4,68+Me.length),Oe.push(Ue)}return bconcat(Oe)}function writezeroes(Re,Ce){Ce||(Ce=new_buf(Re));for(var je=0;je<Re;++je)Ce.write_shift(1,0);return Ce}function parsebool(Re,Ce){return Re.read_shift(Ce)===1}function writebool(Re,Ce){return Ce||(Ce=new_buf(2)),Ce.write_shift(2,+!!Re),Ce}function parseuint16(Re){return Re.read_shift(2,"u")}function writeuint16(Re,Ce){return Ce||(Ce=new_buf(2)),Ce.write_shift(2,Re),Ce}function write_Bes(Re,Ce,je){return je||(je=new_buf(2)),je.write_shift(1,Ce=="e"?+Re:+!!Re),je.write_shift(1,Ce=="e"?1:0),je}function parse_ShortXLUnicodeString(Re,Ce,je){var Be=Re.read_shift(je&&je.biff>=12?2:1),De="sbcs-cont";if(je&&je.biff>=8,!je||je.biff==8){var Fe=Re.read_shift(1);Fe&&(De="dbcs-cont")}else je.biff==12&&(De="wstr");je.biff>=2&&je.biff<=5&&(De="cpstr");var ke=Be?Re.read_shift(Be,De):"";return ke}function write_XLUnicodeRichExtendedString(Re){var Ce=Re.t||"",je=new_buf(3);je.write_shift(2,Ce.length),je.write_shift(1,1);var Be=new_buf(2*Ce.length);Be.write_shift(2*Ce.length,Ce,"utf16le");var De=[je,Be];return bconcat(De)}function parse_XLUnicodeStringNoCch(Re,Ce,je){var Be;if(je){if(je.biff>=2&&je.biff<=5)return Re.read_shift(Ce,"cpstr");if(je.biff>=12)return Re.read_shift(Ce,"dbcs-cont")}var De=Re.read_shift(1);return De===0?Be=Re.read_shift(Ce,"sbcs-cont"):Be=Re.read_shift(Ce,"dbcs-cont"),Be}function parse_XLUnicodeString(Re,Ce,je){var Be=Re.read_shift(je&&je.biff==2?1:2);return Be===0?(Re.l++,""):parse_XLUnicodeStringNoCch(Re,Be,je)}function parse_XLUnicodeString2(Re,Ce,je){if(je.biff>5)return parse_XLUnicodeString(Re,Ce,je);var Be=Re.read_shift(1);return Be===0?(Re.l++,""):Re.read_shift(Be,je.biff<=4||!Re.lens?"cpstr":"sbcs-cont")}function write_XLUnicodeString(Re,Ce,je){return je||(je=new_buf(3+2*Re.length)),je.write_shift(2,Re.length),je.write_shift(1,1),je.write_shift(31,Re,"utf16le"),je}function write_HyperlinkString(Re,Ce){Ce||(Ce=new_buf(6+Re.length*2)),Ce.write_shift(4,1+Re.length);for(var je=0;je<Re.length;++je)Ce.write_shift(2,Re.charCodeAt(je));return Ce.write_shift(2,0),Ce}function write_Hyperlink(Re){var Ce=new_buf(512),je=0,Be=Re.Target;Be.slice(0,7)=="file://"&&(Be=Be.slice(7));var De=Be.indexOf("#"),Fe=De>-1?31:23;switch(Be.charAt(0)){case"#":Fe=28;break;case".":Fe&=-3;break}Ce.write_shift(4,2),Ce.write_shift(4,Fe);var ke=[8,6815827,6619237,4849780,83];for(je=0;je<ke.length;++je)Ce.write_shift(4,ke[je]);if(Fe==28)Be=Be.slice(1),write_HyperlinkString(Be,Ce);else if(Fe&2){for(ke="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),je=0;je<ke.length;++je)Ce.write_shift(1,parseInt(ke[je],16));var Oe=De>-1?Be.slice(0,De):Be;for(Ce.write_shift(4,2*(Oe.length+1)),je=0;je<Oe.length;++je)Ce.write_shift(2,Oe.charCodeAt(je));Ce.write_shift(2,0),Fe&8&&write_HyperlinkString(De>-1?Be.slice(De+1):"",Ce)}else{for(ke="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),je=0;je<ke.length;++je)Ce.write_shift(1,parseInt(ke[je],16));for(var Me=0;Be.slice(Me*3,Me*3+3)=="../"||Be.slice(Me*3,Me*3+3)=="..\\";)++Me;for(Ce.write_shift(2,Me),Ce.write_shift(4,Be.length-3*Me+1),je=0;je<Be.length-3*Me;++je)Ce.write_shift(1,Be.charCodeAt(je+3*Me)&255);for(Ce.write_shift(1,0),Ce.write_shift(2,65535),Ce.write_shift(2,57005),je=0;je<6;++je)Ce.write_shift(4,0)}return Ce.slice(0,Ce.l)}function write_XLSCell(Re,Ce,je,Be){return Be||(Be=new_buf(6)),Be.write_shift(2,Re),Be.write_shift(2,Ce),Be.write_shift(2,je||0),Be}function parse_XTI(Re,Ce,je){var Be=je.biff>8?4:2,De=Re.read_shift(Be),Fe=Re.read_shift(Be,"i"),ke=Re.read_shift(Be,"i");return[De,Fe,ke]}function parse_Ref8U(Re){var Ce=Re.read_shift(2),je=Re.read_shift(2),Be=Re.read_shift(2),De=Re.read_shift(2);return{s:{c:Be,r:Ce},e:{c:De,r:je}}}function write_Ref8U(Re,Ce){return Ce||(Ce=new_buf(8)),Ce.write_shift(2,Re.s.r),Ce.write_shift(2,Re.e.r),Ce.write_shift(2,Re.s.c),Ce.write_shift(2,Re.e.c),Ce}function write_BOF(Re,Ce,je){var Be=1536,De=16;switch(je.bookType){case"biff8":break;case"biff5":Be=1280,De=8;break;case"biff4":Be=4,De=6;break;case"biff3":Be=3,De=6;break;case"biff2":Be=2,De=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var Fe=new_buf(De);return Fe.write_shift(2,Be),Fe.write_shift(2,Ce),De>4&&Fe.write_shift(2,29282),De>6&&Fe.write_shift(2,1997),De>8&&(Fe.write_shift(2,49161),Fe.write_shift(2,1),Fe.write_shift(2,1798),Fe.write_shift(2,0)),Fe}function write_WriteAccess(Re,Ce){var je=!Ce||Ce.biff==8,Be=new_buf(je?112:54);for(Be.write_shift(Ce.biff==8?2:1,7),je&&Be.write_shift(1,0),Be.write_shift(4,859007059),Be.write_shift(4,5458548|(je?0:536870912));Be.l<Be.length;)Be.write_shift(1,je?0:32);return Be}function write_BoundSheet8(Re,Ce){var je=!Ce||Ce.biff>=8?2:1,Be=new_buf(8+je*Re.name.length);Be.write_shift(4,Re.pos),Be.write_shift(1,Re.hs||0),Be.write_shift(1,Re.dt),Be.write_shift(1,Re.name.length),Ce.biff>=8&&Be.write_shift(1,1),Be.write_shift(je*Re.name.length,Re.name,Ce.biff<8?"sbcs":"utf16le");var De=Be.slice(0,Be.l);return De.l=Be.l,De}function write_SST(Re,Ce){var je=new_buf(8);je.write_shift(4,Re.Count),je.write_shift(4,Re.Unique);for(var Be=[],De=0;De<Re.length;++De)Be[De]=write_XLUnicodeRichExtendedString(Re[De]);var Fe=bconcat([je].concat(Be));return Fe.parts=[je.length].concat(Be.map(function(ke){return ke.length})),Fe}function write_Window1(){var Re=new_buf(18);return Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,29280),Re.write_shift(2,17600),Re.write_shift(2,56),Re.write_shift(2,0),Re.write_shift(2,0),Re.write_shift(2,1),Re.write_shift(2,500),Re}function write_Window2(Re){var Ce=new_buf(18),je=1718;return Re&&Re.RTL&&(je|=64),Ce.write_shift(2,je),Ce.write_shift(4,0),Ce.write_shift(4,64),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce}function write_Font(Re,Ce){var je=Re.name||"Arial",Be=Ce&&Ce.biff==5,De=Be?15+je.length:16+2*je.length,Fe=new_buf(De);return Fe.write_shift(2,Re.sz*20),Fe.write_shift(4,0),Fe.write_shift(2,400),Fe.write_shift(4,0),Fe.write_shift(2,0),Fe.write_shift(1,je.length),Be||Fe.write_shift(1,1),Fe.write_shift((Be?1:2)*je.length,je,Be?"sbcs":"utf16le"),Fe}function write_LabelSst(Re,Ce,je,Be){var De=new_buf(10);return write_XLSCell(Re,Ce,Be,De),De.write_shift(4,je),De}function write_Label(Re,Ce,je,Be,De){var Fe=!De||De.biff==8,ke=new_buf(8+ +Fe+(1+Fe)*je.length);return write_XLSCell(Re,Ce,Be,ke),ke.write_shift(2,je.length),Fe&&ke.write_shift(1,1),ke.write_shift((1+Fe)*je.length,je,Fe?"utf16le":"sbcs"),ke}function write_Format(Re,Ce,je,Be){var De=je&&je.biff==5;Be||(Be=new_buf(De?3+Ce.length:5+2*Ce.length)),Be.write_shift(2,Re),Be.write_shift(De?1:2,Ce.length),De||Be.write_shift(1,1),Be.write_shift((De?1:2)*Ce.length,Ce,De?"sbcs":"utf16le");var Fe=Be.length>Be.l?Be.slice(0,Be.l):Be;return Fe.l==null&&(Fe.l=Fe.length),Fe}function write_Dimensions(Re,Ce){var je=Ce.biff==8||!Ce.biff?4:2,Be=new_buf(2*je+6);return Be.write_shift(je,Re.s.r),Be.write_shift(je,Re.e.r+1),Be.write_shift(2,Re.s.c),Be.write_shift(2,Re.e.c+1),Be.write_shift(2,0),Be}function write_XF(Re,Ce,je,Be){var De=je&&je.biff==5;Be||(Be=new_buf(De?16:20)),Be.write_shift(2,0),Re.style?(Be.write_shift(2,Re.numFmtId||0),Be.write_shift(2,65524)):(Be.write_shift(2,Re.numFmtId||0),Be.write_shift(2,Ce<<4));var Fe=0;return Re.numFmtId>0&&De&&(Fe|=1024),Be.write_shift(4,Fe),Be.write_shift(4,0),De||Be.write_shift(4,0),Be.write_shift(2,0),Be}function write_Guts(Re){var Ce=new_buf(8);return Ce.write_shift(4,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce}function write_BoolErr(Re,Ce,je,Be,De,Fe){var ke=new_buf(8);return write_XLSCell(Re,Ce,Be,ke),write_Bes(je,Fe,ke),ke}function write_Number(Re,Ce,je,Be){var De=new_buf(14);return write_XLSCell(Re,Ce,Be,De),write_Xnum(je,De),De}function parse_ExternSheet(Re,Ce,je){if(je.biff<8)return parse_BIFF5ExternSheet(Re,Ce,je);for(var Be=[],De=Re.l+Ce,Fe=Re.read_shift(je.biff>8?4:2);Fe--!==0;)Be.push(parse_XTI(Re,je.biff>8?12:6,je));if(Re.l!=De)throw new Error("Bad ExternSheet: "+Re.l+" != "+De);return Be}function parse_BIFF5ExternSheet(Re,Ce,je){Re[Re.l+1]==3&&Re[Re.l]++;var Be=parse_ShortXLUnicodeString(Re,Ce,je);return Be.charCodeAt(0)==3?Be.slice(1):Be}function write_MergeCells(Re){var Ce=new_buf(2+Re.length*8);Ce.write_shift(2,Re.length);for(var je=0;je<Re.length;++je)write_Ref8U(Re[je],Ce);return Ce}function write_HLink(Re){var Ce=new_buf(24),je=decode_cell(Re[0]);Ce.write_shift(2,je.r),Ce.write_shift(2,je.r),Ce.write_shift(2,je.c),Ce.write_shift(2,je.c);for(var Be="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),De=0;De<16;++De)Ce.write_shift(1,parseInt(Be[De],16));return bconcat([Ce,write_Hyperlink(Re[1])])}function write_HLinkTooltip(Re){var Ce=Re[1].Tooltip,je=new_buf(10+2*(Ce.length+1));je.write_shift(2,2048);var Be=decode_cell(Re[0]);je.write_shift(2,Be.r),je.write_shift(2,Be.r),je.write_shift(2,Be.c),je.write_shift(2,Be.c);for(var De=0;De<Ce.length;++De)je.write_shift(2,Ce.charCodeAt(De));return je.write_shift(2,0),je}function write_Country(Re){return Re||(Re=new_buf(4)),Re.write_shift(2,1),Re.write_shift(2,1),Re}function parse_ColInfo(Re,Ce,je){if(!je.cellStyles)return parsenoop(Re,Ce);var Be=je&&je.biff>=12?4:2,De=Re.read_shift(Be),Fe=Re.read_shift(Be),ke=Re.read_shift(Be),Oe=Re.read_shift(Be),Me=Re.read_shift(2);Be==2&&(Re.l+=2);var Ue={s:De,e:Fe,w:ke,ixfe:Oe,flags:Me};return(je.biff>=5||!je.biff)&&(Ue.level=Me>>8&7),Ue}function write_ColInfo(Re,Ce){var je=new_buf(12);je.write_shift(2,Ce),je.write_shift(2,Ce),je.write_shift(2,Re.width*256),je.write_shift(2,0);var Be=0;return Re.hidden&&(Be|=1),je.write_shift(1,Be),Be=Re.level||0,je.write_shift(1,Be),je.write_shift(2,0),je}function write_RRTabId(Re){for(var Ce=new_buf(2*Re),je=0;je<Re;++je)Ce.write_shift(2,je+1);return Ce}function write_BIFF2NUM(Re,Ce,je){var Be=new_buf(15);return write_BIFF2Cell(Be,Re,Ce),Be.write_shift(8,je,"f"),Be}function write_BIFF2INT(Re,Ce,je){var Be=new_buf(9);return write_BIFF2Cell(Be,Re,Ce),Be.write_shift(2,je),Be}var DBF=(function(){var Re={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},Ce=evert({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function je(Oe,Me){var Ue=[],$e=new_raw_buf(1);switch(Me.type){case"base64":$e=s2a(Base64_decode(Oe));break;case"binary":$e=s2a(Oe);break;case"buffer":case"array":$e=Oe;break}prep_blob($e,0);var He=$e.read_shift(1),Qe=!!(He&136),We=!1,qe=!1;switch(He){case 2:break;case 3:break;case 48:We=!0,Qe=!0;break;case 49:We=!0,Qe=!0;break;case 131:break;case 139:break;case 140:qe=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+He.toString(16))}var Ke=0,Xe=521;He==2&&(Ke=$e.read_shift(2)),$e.l+=3,He!=2&&(Ke=$e.read_shift(4)),Ke>1048576&&(Ke=1e6),He!=2&&(Xe=$e.read_shift(2));var Ye=$e.read_shift(2),Ze=Me.codepage||1252;He!=2&&($e.l+=16,$e.read_shift(1),$e[$e.l]!==0&&(Ze=Re[$e[$e.l]]),$e.l+=1,$e.l+=2),qe&&($e.l+=36);for(var Je=[],tr={},rr=Math.min($e.length,He==2?521:Xe-10-(We?264:0)),ar=qe?32:11;$e.l<rr&&$e[$e.l]!=13;)switch(tr={},tr.name=$cptable.utils.decode(Ze,$e.slice($e.l,$e.l+ar)).replace(/[\u0000\r\n].*$/g,""),$e.l+=ar,tr.type=String.fromCharCode($e.read_shift(1)),He!=2&&!qe&&(tr.offset=$e.read_shift(4)),tr.len=$e.read_shift(1),He==2&&(tr.offset=$e.read_shift(2)),tr.dec=$e.read_shift(1),tr.name.length&&Je.push(tr),He!=2&&($e.l+=qe?13:14),tr.type){case"B":(!We||tr.len!=8)&&Me.WTF&&console.log("Skipping "+tr.name+":"+tr.type);break;case"G":case"P":Me.WTF&&console.log("Skipping "+tr.name+":"+tr.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+tr.type)}if($e[$e.l]!==13&&($e.l=Xe-1),$e.read_shift(1)!==13)throw new Error("DBF Terminator not found "+$e.l+" "+$e[$e.l]);$e.l=Xe;var ir=0,nr=0;for(Ue[0]=[],nr=0;nr!=Je.length;++nr)Ue[0][nr]=Je[nr].name;for(;Ke-- >0;){if($e[$e.l]===42){$e.l+=Ye;continue}for(++$e.l,Ue[++ir]=[],nr=0,nr=0;nr!=Je.length;++nr){var cr=$e.slice($e.l,$e.l+Je[nr].len);$e.l+=Je[nr].len,prep_blob(cr,0);var mr=$cptable.utils.decode(Ze,cr);switch(Je[nr].type){case"C":mr.trim().length&&(Ue[ir][nr]=mr.replace(/\s+$/,""));break;case"D":mr.length===8?Ue[ir][nr]=new Date(+mr.slice(0,4),+mr.slice(4,6)-1,+mr.slice(6,8)):Ue[ir][nr]=mr;break;case"F":Ue[ir][nr]=parseFloat(mr.trim());break;case"+":case"I":Ue[ir][nr]=qe?cr.read_shift(-4,"i")^2147483648:cr.read_shift(4,"i");break;case"L":switch(mr.trim().toUpperCase()){case"Y":case"T":Ue[ir][nr]=!0;break;case"N":case"F":Ue[ir][nr]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+mr+"|")}break;case"M":if(!Qe)throw new Error("DBF Unexpected MEMO for type "+He.toString(16));Ue[ir][nr]="##MEMO##"+(qe?parseInt(mr.trim(),10):cr.read_shift(4));break;case"N":mr=mr.replace(/\u0000/g,"").trim(),mr&&mr!="."&&(Ue[ir][nr]=+mr||0);break;case"@":Ue[ir][nr]=new Date(cr.read_shift(-8,"f")-621356832e5);break;case"T":Ue[ir][nr]=new Date((cr.read_shift(4)-2440588)*864e5+cr.read_shift(4));break;case"Y":Ue[ir][nr]=cr.read_shift(4,"i")/1e4+cr.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":Ue[ir][nr]=-cr.read_shift(-8,"f");break;case"B":if(We&&Je[nr].len==8){Ue[ir][nr]=cr.read_shift(8,"f");break}case"G":case"P":cr.l+=Je[nr].len;break;case"0":if(Je[nr].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+Je[nr].type)}}}if(He!=2&&$e.l<$e.length&&$e[$e.l++]!=26)throw new Error("DBF EOF Marker missing "+($e.l-1)+" of "+$e.length+" "+$e[$e.l-1].toString(16));return Me&&Me.sheetRows&&(Ue=Ue.slice(0,Me.sheetRows)),Me.DBF=Je,Ue}function Be(Oe,Me){var Ue=Me||{};Ue.dateNF||(Ue.dateNF="yyyymmdd");var $e=aoa_to_sheet(je(Oe,Ue),Ue);return $e["!cols"]=Ue.DBF.map(function(He){return{wch:He.len,DBF:He}}),delete Ue.DBF,$e}function De(Oe,Me){try{return sheet_to_workbook(Be(Oe,Me),Me)}catch(Ue){if(Me&&Me.WTF)throw Ue}return{SheetNames:[],Sheets:{}}}var Fe={B:8,C:250,L:1,D:8,"?":0,"":0};function ke(Oe,Me){var Ue=Me||{};if(+Ue.codepage>=0&&set_cp(+Ue.codepage),Ue.type=="string")throw new Error("Cannot write DBF to JS string");var $e=buf_array(),He=sheet_to_json(Oe,{header:1,raw:!0,cellDates:!0}),Qe=He[0],We=He.slice(1),qe=Oe["!cols"]||[],Ke=0,Xe=0,Ye=0,Ze=1;for(Ke=0;Ke<Qe.length;++Ke){if(((qe[Ke]||{}).DBF||{}).name){Qe[Ke]=qe[Ke].DBF.name,++Ye;continue}if(Qe[Ke]!=null){if(++Ye,typeof Qe[Ke]=="number"&&(Qe[Ke]=Qe[Ke].toString(10)),typeof Qe[Ke]!="string")throw new Error("DBF Invalid column name "+Qe[Ke]+" |"+typeof Qe[Ke]+"|");if(Qe.indexOf(Qe[Ke])!==Ke){for(Xe=0;Xe<1024;++Xe)if(Qe.indexOf(Qe[Ke]+"_"+Xe)==-1){Qe[Ke]+="_"+Xe;break}}}}var Je=safe_decode_range(Oe["!ref"]),tr=[],rr=[],ar=[];for(Ke=0;Ke<=Je.e.c-Je.s.c;++Ke){var ir="",nr="",cr=0,mr=[];for(Xe=0;Xe<We.length;++Xe)We[Xe][Ke]!=null&&mr.push(We[Xe][Ke]);if(mr.length==0||Qe[Ke]==null){tr[Ke]="?";continue}for(Xe=0;Xe<mr.length;++Xe){switch(typeof mr[Xe]){case"number":nr="B";break;case"string":nr="C";break;case"boolean":nr="L";break;case"object":nr=mr[Xe]instanceof Date?"D":"C";break;default:nr="C"}cr=Math.max(cr,String(mr[Xe]).length),ir=ir&&ir!=nr?"C":nr}cr>250&&(cr=250),nr=((qe[Ke]||{}).DBF||{}).type,nr=="C"&&qe[Ke].DBF.len>cr&&(cr=qe[Ke].DBF.len),ir=="B"&&nr=="N"&&(ir="N",ar[Ke]=qe[Ke].DBF.dec,cr=qe[Ke].DBF.len),rr[Ke]=ir=="C"||nr=="N"?cr:Fe[ir]||0,Ze+=rr[Ke],tr[Ke]=ir}var fr=$e.next(32);for(fr.write_shift(4,318902576),fr.write_shift(4,We.length),fr.write_shift(2,296+32*Ye),fr.write_shift(2,Ze),Ke=0;Ke<4;++Ke)fr.write_shift(4,0);for(fr.write_shift(4,0|(+Ce[current_ansi]||3)<<8),Ke=0,Xe=0;Ke<Qe.length;++Ke)if(Qe[Ke]!=null){var or=$e.next(32),yr=(Qe[Ke].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);or.write_shift(1,yr,"sbcs"),or.write_shift(1,tr[Ke]=="?"?"C":tr[Ke],"sbcs"),or.write_shift(4,Xe),or.write_shift(1,rr[Ke]||Fe[tr[Ke]]||0),or.write_shift(1,ar[Ke]||0),or.write_shift(1,2),or.write_shift(4,0),or.write_shift(1,0),or.write_shift(4,0),or.write_shift(4,0),Xe+=rr[Ke]||Fe[tr[Ke]]||0}var Cr=$e.next(264);for(Cr.write_shift(4,13),Ke=0;Ke<65;++Ke)Cr.write_shift(4,0);for(Ke=0;Ke<We.length;++Ke){var jr=$e.next(Ze);for(jr.write_shift(1,0),Xe=0;Xe<Qe.length;++Xe)if(Qe[Xe]!=null)switch(tr[Xe]){case"L":jr.write_shift(1,We[Ke][Xe]==null?63:We[Ke][Xe]?84:70);break;case"B":jr.write_shift(8,We[Ke][Xe]||0,"f");break;case"N":var vr="0";for(typeof We[Ke][Xe]=="number"&&(vr=We[Ke][Xe].toFixed(ar[Xe]||0)),Ye=0;Ye<rr[Xe]-vr.length;++Ye)jr.write_shift(1,32);jr.write_shift(1,vr,"sbcs");break;case"D":We[Ke][Xe]?(jr.write_shift(4,("0000"+We[Ke][Xe].getFullYear()).slice(-4),"sbcs"),jr.write_shift(2,("00"+(We[Ke][Xe].getMonth()+1)).slice(-2),"sbcs"),jr.write_shift(2,("00"+We[Ke][Xe].getDate()).slice(-2),"sbcs")):jr.write_shift(8,"00000000","sbcs");break;case"C":var Tr=String(We[Ke][Xe]!=null?We[Ke][Xe]:"").slice(0,rr[Xe]);for(jr.write_shift(1,Tr,"sbcs"),Ye=0;Ye<rr[Xe]-Tr.length;++Ye)jr.write_shift(1,32);break}}return $e.next(1).write_shift(1,26),$e.end()}return{to_workbook:De,to_sheet:Be,from_sheet:ke}})(),SYLK=(function(){var Re={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},Ce=new RegExp("\x1BN("+keys(Re).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),je=function(Qe,We){var qe=Re[We];return typeof qe=="number"?_getansi(qe):qe},Be=function(Qe,We,qe){var Ke=We.charCodeAt(0)-32<<4|qe.charCodeAt(0)-48;return Ke==59?Qe:_getansi(Ke)};Re["|"]=254;function De(Qe,We){switch(We.type){case"base64":return Fe(Base64_decode(Qe),We);case"binary":return Fe(Qe,We);case"buffer":return Fe(has_buf&&Buffer.isBuffer(Qe)?Qe.toString("binary"):a2s(Qe),We);case"array":return Fe(cc2str(Qe),We)}throw new Error("Unrecognized type "+We.type)}function Fe(Qe,We){var qe=Qe.split(/[\n\r]+/),Ke=-1,Xe=-1,Ye=0,Ze=0,Je=[],tr=[],rr=null,ar={},ir=[],nr=[],cr=[],mr=0,fr;for(+We.codepage>=0&&set_cp(+We.codepage);Ye!==qe.length;++Ye){mr=0;var or=qe[Ye].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,Be).replace(Ce,je),yr=or.replace(/;;/g,"\0").split(";").map(function(Or){return Or.replace(/\u0000/g,";")}),Cr=yr[0],jr;if(or.length>0)switch(Cr){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":yr[1].charAt(0)=="P"&&tr.push(or.slice(3).replace(/;;/g,";"));break;case"C":var vr=!1,Tr=!1,wr=!1,Er=!1,Pr=-1,Mr=-1;for(Ze=1;Ze<yr.length;++Ze)switch(yr[Ze].charAt(0)){case"A":break;case"X":Xe=parseInt(yr[Ze].slice(1))-1,Tr=!0;break;case"Y":for(Ke=parseInt(yr[Ze].slice(1))-1,Tr||(Xe=0),fr=Je.length;fr<=Ke;++fr)Je[fr]=[];break;case"K":jr=yr[Ze].slice(1),jr.charAt(0)==='"'?jr=jr.slice(1,jr.length-1):jr==="TRUE"?jr=!0:jr==="FALSE"?jr=!1:isNaN(fuzzynum(jr))?isNaN(fuzzydate(jr).getDate())||(jr=parseDate(jr)):(jr=fuzzynum(jr),rr!==null&&fmt_is_date(rr)&&(jr=numdate(jr))),vr=!0;break;case"E":Er=!0;var _r=rc_to_a1(yr[Ze].slice(1),{r:Ke,c:Xe});Je[Ke][Xe]=[Je[Ke][Xe],_r];break;case"S":wr=!0,Je[Ke][Xe]=[Je[Ke][Xe],"S5S"];break;case"G":break;case"R":Pr=parseInt(yr[Ze].slice(1))-1;break;case"C":Mr=parseInt(yr[Ze].slice(1))-1;break;default:if(We&&We.WTF)throw new Error("SYLK bad record "+or)}if(vr&&(Je[Ke][Xe]&&Je[Ke][Xe].length==2?Je[Ke][Xe][0]=jr:Je[Ke][Xe]=jr,rr=null),wr){if(Er)throw new Error("SYLK shared formula cannot have own formula");var Ir=Pr>-1&&Je[Pr][Mr];if(!Ir||!Ir[1])throw new Error("SYLK shared formula cannot find base");Je[Ke][Xe][1]=shift_formula_str(Ir[1],{r:Ke-Pr,c:Xe-Mr})}break;case"F":var Dr=0;for(Ze=1;Ze<yr.length;++Ze)switch(yr[Ze].charAt(0)){case"X":Xe=parseInt(yr[Ze].slice(1))-1,++Dr;break;case"Y":for(Ke=parseInt(yr[Ze].slice(1))-1,fr=Je.length;fr<=Ke;++fr)Je[fr]=[];break;case"M":mr=parseInt(yr[Ze].slice(1))/20;break;case"F":break;case"G":break;case"P":rr=tr[parseInt(yr[Ze].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(cr=yr[Ze].slice(1).split(" "),fr=parseInt(cr[0],10);fr<=parseInt(cr[1],10);++fr)mr=parseInt(cr[2],10),nr[fr-1]=mr===0?{hidden:!0}:{wch:mr},process_col(nr[fr-1]);break;case"C":Xe=parseInt(yr[Ze].slice(1))-1,nr[Xe]||(nr[Xe]={});break;case"R":Ke=parseInt(yr[Ze].slice(1))-1,ir[Ke]||(ir[Ke]={}),mr>0?(ir[Ke].hpt=mr,ir[Ke].hpx=pt2px(mr)):mr===0&&(ir[Ke].hidden=!0);break;default:if(We&&We.WTF)throw new Error("SYLK bad record "+or)}Dr<1&&(rr=null);break;default:if(We&&We.WTF)throw new Error("SYLK bad record "+or)}}return ir.length>0&&(ar["!rows"]=ir),nr.length>0&&(ar["!cols"]=nr),We&&We.sheetRows&&(Je=Je.slice(0,We.sheetRows)),[Je,ar]}function ke(Qe,We){var qe=De(Qe,We),Ke=qe[0],Xe=qe[1],Ye=aoa_to_sheet(Ke,We);return keys(Xe).forEach(function(Ze){Ye[Ze]=Xe[Ze]}),Ye}function Oe(Qe,We){return sheet_to_workbook(ke(Qe,We),We)}function Me(Qe,We,qe,Ke){var Xe="C;Y"+(qe+1)+";X"+(Ke+1)+";K";switch(Qe.t){case"n":Xe+=Qe.v||0,Qe.f&&!Qe.F&&(Xe+=";E"+a1_to_rc(Qe.f,{r:qe,c:Ke}));break;case"b":Xe+=Qe.v?"TRUE":"FALSE";break;case"e":Xe+=Qe.w||Qe.v;break;case"d":Xe+='"'+(Qe.w||Qe.v)+'"';break;case"s":Xe+='"'+Qe.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return Xe}function Ue(Qe,We){We.forEach(function(qe,Ke){var Xe="F;W"+(Ke+1)+" "+(Ke+1)+" ";qe.hidden?Xe+="0":(typeof qe.width=="number"&&!qe.wpx&&(qe.wpx=width2px(qe.width)),typeof qe.wpx=="number"&&!qe.wch&&(qe.wch=px2char(qe.wpx)),typeof qe.wch=="number"&&(Xe+=Math.round(qe.wch))),Xe.charAt(Xe.length-1)!=" "&&Qe.push(Xe)})}function $e(Qe,We){We.forEach(function(qe,Ke){var Xe="F;";qe.hidden?Xe+="M0;":qe.hpt?Xe+="M"+20*qe.hpt+";":qe.hpx&&(Xe+="M"+20*px2pt(qe.hpx)+";"),Xe.length>2&&Qe.push(Xe+"R"+(Ke+1))})}function He(Qe,We){var qe=["ID;PWXL;N;E"],Ke=[],Xe=safe_decode_range(Qe["!ref"]),Ye,Ze=Array.isArray(Qe),Je=`\r
`;qe.push("P;PGeneral"),qe.push("F;P0;DG0G8;M255"),Qe["!cols"]&&Ue(qe,Qe["!cols"]),Qe["!rows"]&&$e(qe,Qe["!rows"]),qe.push("B;Y"+(Xe.e.r-Xe.s.r+1)+";X"+(Xe.e.c-Xe.s.c+1)+";D"+[Xe.s.c,Xe.s.r,Xe.e.c,Xe.e.r].join(" "));for(var tr=Xe.s.r;tr<=Xe.e.r;++tr)for(var rr=Xe.s.c;rr<=Xe.e.c;++rr){var ar=encode_cell({r:tr,c:rr});Ye=Ze?(Qe[tr]||[])[rr]:Qe[ar],!(!Ye||Ye.v==null&&(!Ye.f||Ye.F))&&Ke.push(Me(Ye,Qe,tr,rr))}return qe.join(Je)+Je+Ke.join(Je)+Je+"E"+Je}return{to_workbook:Oe,to_sheet:ke,from_sheet:He}})(),DIF=(function(){function Re(Fe,ke){switch(ke.type){case"base64":return Ce(Base64_decode(Fe),ke);case"binary":return Ce(Fe,ke);case"buffer":return Ce(has_buf&&Buffer.isBuffer(Fe)?Fe.toString("binary"):a2s(Fe),ke);case"array":return Ce(cc2str(Fe),ke)}throw new Error("Unrecognized type "+ke.type)}function Ce(Fe,ke){for(var Oe=Fe.split(`
`),Me=-1,Ue=-1,$e=0,He=[];$e!==Oe.length;++$e){if(Oe[$e].trim()==="BOT"){He[++Me]=[],Ue=0;continue}if(!(Me<0)){var Qe=Oe[$e].trim().split(","),We=Qe[0],qe=Qe[1];++$e;for(var Ke=Oe[$e]||"";(Ke.match(/["]/g)||[]).length&1&&$e<Oe.length-1;)Ke+=`
`+Oe[++$e];switch(Ke=Ke.trim(),+We){case-1:if(Ke==="BOT"){He[++Me]=[],Ue=0;continue}else if(Ke!=="EOD")throw new Error("Unrecognized DIF special command "+Ke);break;case 0:Ke==="TRUE"?He[Me][Ue]=!0:Ke==="FALSE"?He[Me][Ue]=!1:isNaN(fuzzynum(qe))?isNaN(fuzzydate(qe).getDate())?He[Me][Ue]=qe:He[Me][Ue]=parseDate(qe):He[Me][Ue]=fuzzynum(qe),++Ue;break;case 1:Ke=Ke.slice(1,Ke.length-1),Ke=Ke.replace(/""/g,'"'),Ke&&Ke.match(/^=".*"$/)&&(Ke=Ke.slice(2,-1)),He[Me][Ue++]=Ke!==""?Ke:null;break}if(Ke==="EOD")break}}return ke&&ke.sheetRows&&(He=He.slice(0,ke.sheetRows)),He}function je(Fe,ke){return aoa_to_sheet(Re(Fe,ke),ke)}function Be(Fe,ke){return sheet_to_workbook(je(Fe,ke),ke)}var De=(function(){var Fe=function(Me,Ue,$e,He,Qe){Me.push(Ue),Me.push($e+","+He),Me.push('"'+Qe.replace(/"/g,'""')+'"')},ke=function(Me,Ue,$e,He){Me.push(Ue+","+$e),Me.push(Ue==1?'"'+He.replace(/"/g,'""')+'"':He)};return function(Me){var Ue=[],$e=safe_decode_range(Me["!ref"]),He,Qe=Array.isArray(Me);Fe(Ue,"TABLE",0,1,"sheetjs"),Fe(Ue,"VECTORS",0,$e.e.r-$e.s.r+1,""),Fe(Ue,"TUPLES",0,$e.e.c-$e.s.c+1,""),Fe(Ue,"DATA",0,0,"");for(var We=$e.s.r;We<=$e.e.r;++We){ke(Ue,-1,0,"BOT");for(var qe=$e.s.c;qe<=$e.e.c;++qe){var Ke=encode_cell({r:We,c:qe});if(He=Qe?(Me[We]||[])[qe]:Me[Ke],!He){ke(Ue,1,0,"");continue}switch(He.t){case"n":var Xe=He.w;!Xe&&He.v!=null&&(Xe=He.v),Xe==null?He.f&&!He.F?ke(Ue,1,0,"="+He.f):ke(Ue,1,0,""):ke(Ue,0,Xe,"V");break;case"b":ke(Ue,0,He.v?1:0,He.v?"TRUE":"FALSE");break;case"s":ke(Ue,1,0,isNaN(He.v)?He.v:'="'+He.v+'"');break;case"d":He.w||(He.w=SSF_format(He.z||table_fmt[14],datenum(parseDate(He.v)))),ke(Ue,0,He.w,"V");break;default:ke(Ue,1,0,"")}}}ke(Ue,-1,0,"EOD");var Ye=`\r
`,Ze=Ue.join(Ye);return Ze}})();return{to_workbook:Be,to_sheet:je,from_sheet:De}})(),ETH=(function(){function Re(He){return He.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function Ce(He){return He.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function je(He,Qe){for(var We=He.split(`
`),qe=-1,Ke=-1,Xe=0,Ye=[];Xe!==We.length;++Xe){var Ze=We[Xe].trim().split(":");if(Ze[0]==="cell"){var Je=decode_cell(Ze[1]);if(Ye.length<=Je.r)for(qe=Ye.length;qe<=Je.r;++qe)Ye[qe]||(Ye[qe]=[]);switch(qe=Je.r,Ke=Je.c,Ze[2]){case"t":Ye[qe][Ke]=Re(Ze[3]);break;case"v":Ye[qe][Ke]=+Ze[3];break;case"vtf":var tr=Ze[Ze.length-1];case"vtc":switch(Ze[3]){case"nl":Ye[qe][Ke]=!!+Ze[4];break;default:Ye[qe][Ke]=+Ze[4];break}Ze[2]=="vtf"&&(Ye[qe][Ke]=[Ye[qe][Ke],tr])}}}return Qe&&Qe.sheetRows&&(Ye=Ye.slice(0,Qe.sheetRows)),Ye}function Be(He,Qe){return aoa_to_sheet(je(He,Qe),Qe)}function De(He,Qe){return sheet_to_workbook(Be(He,Qe),Qe)}var Fe=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),ke=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,Oe=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),Me="--SocialCalcSpreadsheetControlSave--";function Ue(He){if(!He||!He["!ref"])return"";for(var Qe=[],We=[],qe,Ke="",Xe=decode_range(He["!ref"]),Ye=Array.isArray(He),Ze=Xe.s.r;Ze<=Xe.e.r;++Ze)for(var Je=Xe.s.c;Je<=Xe.e.c;++Je)if(Ke=encode_cell({r:Ze,c:Je}),qe=Ye?(He[Ze]||[])[Je]:He[Ke],!(!qe||qe.v==null||qe.t==="z")){switch(We=["cell",Ke,"t"],qe.t){case"s":case"str":We.push(Ce(qe.v));break;case"n":qe.f?(We[2]="vtf",We[3]="n",We[4]=qe.v,We[5]=Ce(qe.f)):(We[2]="v",We[3]=qe.v);break;case"b":We[2]="vt"+(qe.f?"f":"c"),We[3]="nl",We[4]=qe.v?"1":"0",We[5]=Ce(qe.f||(qe.v?"TRUE":"FALSE"));break;case"d":var tr=datenum(parseDate(qe.v));We[2]="vtc",We[3]="nd",We[4]=""+tr,We[5]=qe.w||SSF_format(qe.z||table_fmt[14],tr);break;case"e":continue}Qe.push(We.join(":"))}return Qe.push("sheet:c:"+(Xe.e.c-Xe.s.c+1)+":r:"+(Xe.e.r-Xe.s.r+1)+":tvf:1"),Qe.push("valueformat:1:text-wiki"),Qe.join(`
`)}function $e(He){return[Fe,ke,Oe,ke,Ue(He),Me].join(`
`)}return{to_workbook:De,to_sheet:Be,from_sheet:$e}})(),PRN=(function(){function Re($e,He,Qe,We,qe){qe.raw?He[Qe][We]=$e:$e===""||($e==="TRUE"?He[Qe][We]=!0:$e==="FALSE"?He[Qe][We]=!1:isNaN(fuzzynum($e))?isNaN(fuzzydate($e).getDate())?He[Qe][We]=$e:He[Qe][We]=parseDate($e):He[Qe][We]=fuzzynum($e))}function Ce($e,He){var Qe=He||{},We=[];if(!$e||$e.length===0)return We;for(var qe=$e.split(/[\r\n]/),Ke=qe.length-1;Ke>=0&&qe[Ke].length===0;)--Ke;for(var Xe=10,Ye=0,Ze=0;Ze<=Ke;++Ze)Ye=qe[Ze].indexOf(" "),Ye==-1?Ye=qe[Ze].length:Ye++,Xe=Math.max(Xe,Ye);for(Ze=0;Ze<=Ke;++Ze){We[Ze]=[];var Je=0;for(Re(qe[Ze].slice(0,Xe).trim(),We,Ze,Je,Qe),Je=1;Je<=(qe[Ze].length-Xe)/10+1;++Je)Re(qe[Ze].slice(Xe+(Je-1)*10,Xe+Je*10).trim(),We,Ze,Je,Qe)}return Qe.sheetRows&&(We=We.slice(0,Qe.sheetRows)),We}var je={44:",",9:"	",59:";",124:"|"},Be={44:3,9:2,59:1,124:0};function De($e){for(var He={},Qe=!1,We=0,qe=0;We<$e.length;++We)(qe=$e.charCodeAt(We))==34?Qe=!Qe:!Qe&&qe in je&&(He[qe]=(He[qe]||0)+1);qe=[];for(We in He)Object.prototype.hasOwnProperty.call(He,We)&&qe.push([He[We],We]);if(!qe.length){He=Be;for(We in He)Object.prototype.hasOwnProperty.call(He,We)&&qe.push([He[We],We])}return qe.sort(function(Ke,Xe){return Ke[0]-Xe[0]||Be[Ke[1]]-Be[Xe[1]]}),je[qe.pop()[1]]||44}function Fe($e,He){var Qe=He||{},We="",qe=Qe.dense?[]:{},Ke={s:{c:0,r:0},e:{c:0,r:0}};$e.slice(0,4)=="sep="?$e.charCodeAt(5)==13&&$e.charCodeAt(6)==10?(We=$e.charAt(4),$e=$e.slice(7)):$e.charCodeAt(5)==13||$e.charCodeAt(5)==10?(We=$e.charAt(4),$e=$e.slice(6)):We=De($e.slice(0,1024)):Qe&&Qe.FS?We=Qe.FS:We=De($e.slice(0,1024));var Xe=0,Ye=0,Ze=0,Je=0,tr=0,rr=We.charCodeAt(0),ar=!1,ir=0,nr=$e.charCodeAt(0);$e=$e.replace(/\r\n/mg,`
`);var cr=Qe.dateNF!=null?dateNF_regex(Qe.dateNF):null;function mr(){var fr=$e.slice(Je,tr),or={};if(fr.charAt(0)=='"'&&fr.charAt(fr.length-1)=='"'&&(fr=fr.slice(1,-1).replace(/""/g,'"')),fr.length===0)or.t="z";else if(Qe.raw)or.t="s",or.v=fr;else if(fr.trim().length===0)or.t="s",or.v=fr;else if(fr.charCodeAt(0)==61)fr.charCodeAt(1)==34&&fr.charCodeAt(fr.length-1)==34?(or.t="s",or.v=fr.slice(2,-1).replace(/""/g,'"')):fuzzyfmla(fr)?(or.t="n",or.f=fr.slice(1)):(or.t="s",or.v=fr);else if(fr=="TRUE")or.t="b",or.v=!0;else if(fr=="FALSE")or.t="b",or.v=!1;else if(!isNaN(Ze=fuzzynum(fr)))or.t="n",Qe.cellText!==!1&&(or.w=fr),or.v=Ze;else if(!isNaN(fuzzydate(fr).getDate())||cr&&fr.match(cr)){or.z=Qe.dateNF||table_fmt[14];var yr=0;cr&&fr.match(cr)&&(fr=dateNF_fix(fr,Qe.dateNF,fr.match(cr)||[]),yr=1),Qe.cellDates?(or.t="d",or.v=parseDate(fr,yr)):(or.t="n",or.v=datenum(parseDate(fr,yr))),Qe.cellText!==!1&&(or.w=SSF_format(or.z,or.v instanceof Date?datenum(or.v):or.v)),Qe.cellNF||delete or.z}else or.t="s",or.v=fr;if(or.t=="z"||(Qe.dense?(qe[Xe]||(qe[Xe]=[]),qe[Xe][Ye]=or):qe[encode_cell({c:Ye,r:Xe})]=or),Je=tr+1,nr=$e.charCodeAt(Je),Ke.e.c<Ye&&(Ke.e.c=Ye),Ke.e.r<Xe&&(Ke.e.r=Xe),ir==rr)++Ye;else if(Ye=0,++Xe,Qe.sheetRows&&Qe.sheetRows<=Xe)return!0}e:for(;tr<$e.length;++tr)switch(ir=$e.charCodeAt(tr)){case 34:nr===34&&(ar=!ar);break;case rr:case 10:case 13:if(!ar&&mr())break e;break}return tr-Je>0&&mr(),qe["!ref"]=encode_range(Ke),qe}function ke($e,He){return!(He&&He.PRN)||He.FS||$e.slice(0,4)=="sep="||$e.indexOf("	")>=0||$e.indexOf(",")>=0||$e.indexOf(";")>=0?Fe($e,He):aoa_to_sheet(Ce($e,He),He)}function Oe($e,He){var Qe="",We=He.type=="string"?[0,0,0,0]:firstbyte($e,He);switch(He.type){case"base64":Qe=Base64_decode($e);break;case"binary":Qe=$e;break;case"buffer":He.codepage==65001?Qe=$e.toString("utf8"):He.codepage&&typeof $cptable<"u"||(Qe=has_buf&&Buffer.isBuffer($e)?$e.toString("binary"):a2s($e));break;case"array":Qe=cc2str($e);break;case"string":Qe=$e;break;default:throw new Error("Unrecognized type "+He.type)}return We[0]==239&&We[1]==187&&We[2]==191?Qe=utf8read(Qe.slice(3)):He.type!="string"&&He.type!="buffer"&&He.codepage==65001?Qe=utf8read(Qe):He.type=="binary"&&typeof $cptable<"u",Qe.slice(0,19)=="socialcalc:version:"?ETH.to_sheet(He.type=="string"?Qe:utf8read(Qe),He):ke(Qe,He)}function Me($e,He){return sheet_to_workbook(Oe($e,He),He)}function Ue($e){for(var He=[],Qe=safe_decode_range($e["!ref"]),We,qe=Array.isArray($e),Ke=Qe.s.r;Ke<=Qe.e.r;++Ke){for(var Xe=[],Ye=Qe.s.c;Ye<=Qe.e.c;++Ye){var Ze=encode_cell({r:Ke,c:Ye});if(We=qe?($e[Ke]||[])[Ye]:$e[Ze],!We||We.v==null){Xe.push("          ");continue}for(var Je=(We.w||(format_cell(We),We.w)||"").slice(0,10);Je.length<10;)Je+=" ";Xe.push(Je+(Ye===0?" ":""))}He.push(Xe.join(""))}return He.join(`
`)}return{to_workbook:Me,to_sheet:Oe,from_sheet:Ue}})(),WK_=(function(){function Re(_r,Ir,Dr){if(_r){prep_blob(_r,_r.l||0);for(var Or=Dr.Enum||Pr;_r.l<_r.length;){var br=_r.read_shift(2),Ur=Or[br]||Or[65535],Qr=_r.read_shift(2),zr=_r.l+Qr,Gr=Ur.f&&Ur.f(_r,Qr,Dr);if(_r.l=zr,Ir(Gr,Ur,br))return}}}function Ce(_r,Ir){switch(Ir.type){case"base64":return je(s2a(Base64_decode(_r)),Ir);case"binary":return je(s2a(_r),Ir);case"buffer":case"array":return je(_r,Ir)}throw"Unsupported type "+Ir.type}function je(_r,Ir){if(!_r)return _r;var Dr=Ir||{},Or=Dr.dense?[]:{},br="Sheet1",Ur="",Qr=0,zr={},Gr=[],fn=[],nn={s:{r:0,c:0},e:{r:0,c:0}},bn=Dr.sheetRows||0;if(_r[2]==0&&(_r[3]==8||_r[3]==9)&&_r.length>=16&&_r[14]==5&&_r[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(_r[2]==2)Dr.Enum=Pr,Re(_r,function(Rn,ri,Yn){switch(Yn){case 0:Dr.vers=Rn,Rn>=4096&&(Dr.qpro=!0);break;case 6:nn=Rn;break;case 204:Rn&&(Ur=Rn);break;case 222:Ur=Rn;break;case 15:case 51:Dr.qpro||(Rn[1].v=Rn[1].v.slice(1));case 13:case 14:case 16:Yn==14&&(Rn[2]&112)==112&&(Rn[2]&15)>1&&(Rn[2]&15)<15&&(Rn[1].z=Dr.dateNF||table_fmt[14],Dr.cellDates&&(Rn[1].t="d",Rn[1].v=numdate(Rn[1].v))),Dr.qpro&&Rn[3]>Qr&&(Or["!ref"]=encode_range(nn),zr[br]=Or,Gr.push(br),Or=Dr.dense?[]:{},nn={s:{r:0,c:0},e:{r:0,c:0}},Qr=Rn[3],br=Ur||"Sheet"+(Qr+1),Ur="");var ti=Dr.dense?(Or[Rn[0].r]||[])[Rn[0].c]:Or[encode_cell(Rn[0])];if(ti){ti.t=Rn[1].t,ti.v=Rn[1].v,Rn[1].z!=null&&(ti.z=Rn[1].z),Rn[1].f!=null&&(ti.f=Rn[1].f);break}Dr.dense?(Or[Rn[0].r]||(Or[Rn[0].r]=[]),Or[Rn[0].r][Rn[0].c]=Rn[1]):Or[encode_cell(Rn[0])]=Rn[1];break}},Dr);else if(_r[2]==26||_r[2]==14)Dr.Enum=Mr,_r[2]==14&&(Dr.qpro=!0,_r.l=0),Re(_r,function(Rn,ri,Yn){switch(Yn){case 204:br=Rn;break;case 22:Rn[1].v=Rn[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Rn[3]>Qr&&(Or["!ref"]=encode_range(nn),zr[br]=Or,Gr.push(br),Or=Dr.dense?[]:{},nn={s:{r:0,c:0},e:{r:0,c:0}},Qr=Rn[3],br="Sheet"+(Qr+1)),bn>0&&Rn[0].r>=bn)break;Dr.dense?(Or[Rn[0].r]||(Or[Rn[0].r]=[]),Or[Rn[0].r][Rn[0].c]=Rn[1]):Or[encode_cell(Rn[0])]=Rn[1],nn.e.c<Rn[0].c&&(nn.e.c=Rn[0].c),nn.e.r<Rn[0].r&&(nn.e.r=Rn[0].r);break;case 27:Rn[14e3]&&(fn[Rn[14e3][0]]=Rn[14e3][1]);break;case 1537:fn[Rn[0]]=Rn[1],Rn[0]==Qr&&(br=Rn[1]);break}},Dr);else throw new Error("Unrecognized LOTUS BOF "+_r[2]);if(Or["!ref"]=encode_range(nn),zr[Ur||br]=Or,Gr.push(Ur||br),!fn.length)return{SheetNames:Gr,Sheets:zr};for(var hn={},yn=[],Zr=0;Zr<fn.length;++Zr)zr[Gr[Zr]]?(yn.push(fn[Zr]||Gr[Zr]),hn[fn[Zr]]=zr[fn[Zr]]||zr[Gr[Zr]]):(yn.push(fn[Zr]),hn[fn[Zr]]={"!ref":"A1"});return{SheetNames:yn,Sheets:hn}}function Be(_r,Ir){var Dr=Ir||{};if(+Dr.codepage>=0&&set_cp(+Dr.codepage),Dr.type=="string")throw new Error("Cannot write WK1 to JS string");var Or=buf_array(),br=safe_decode_range(_r["!ref"]),Ur=Array.isArray(_r),Qr=[];write_biff_rec(Or,0,Fe(1030)),write_biff_rec(Or,6,Me(br));for(var zr=Math.min(br.e.r,8191),Gr=br.s.r;Gr<=zr;++Gr)for(var fn=encode_row(Gr),nn=br.s.c;nn<=br.e.c;++nn){Gr===br.s.r&&(Qr[nn]=encode_col(nn));var bn=Qr[nn]+fn,hn=Ur?(_r[Gr]||[])[nn]:_r[bn];if(!(!hn||hn.t=="z"))if(hn.t=="n")(hn.v|0)==hn.v&&hn.v>=-32768&&hn.v<=32767?write_biff_rec(Or,13,We(Gr,nn,hn.v)):write_biff_rec(Or,14,Ke(Gr,nn,hn.v));else{var yn=format_cell(hn);write_biff_rec(Or,15,He(Gr,nn,yn.slice(0,239)))}}return write_biff_rec(Or,1),Or.end()}function De(_r,Ir){var Dr=Ir||{};if(+Dr.codepage>=0&&set_cp(+Dr.codepage),Dr.type=="string")throw new Error("Cannot write WK3 to JS string");var Or=buf_array();write_biff_rec(Or,0,ke(_r));for(var br=0,Ur=0;br<_r.SheetNames.length;++br)(_r.Sheets[_r.SheetNames[br]]||{})["!ref"]&&write_biff_rec(Or,27,Er(_r.SheetNames[br],Ur++));var Qr=0;for(br=0;br<_r.SheetNames.length;++br){var zr=_r.Sheets[_r.SheetNames[br]];if(!(!zr||!zr["!ref"])){for(var Gr=safe_decode_range(zr["!ref"]),fn=Array.isArray(zr),nn=[],bn=Math.min(Gr.e.r,8191),hn=Gr.s.r;hn<=bn;++hn)for(var yn=encode_row(hn),Zr=Gr.s.c;Zr<=Gr.e.c;++Zr){hn===Gr.s.r&&(nn[Zr]=encode_col(Zr));var Rn=nn[Zr]+yn,ri=fn?(zr[hn]||[])[Zr]:zr[Rn];if(!(!ri||ri.t=="z"))if(ri.t=="n")write_biff_rec(Or,23,mr(hn,Zr,Qr,ri.v));else{var Yn=format_cell(ri);write_biff_rec(Or,22,ir(hn,Zr,Qr,Yn.slice(0,239)))}}++Qr}}return write_biff_rec(Or,1),Or.end()}function Fe(_r){var Ir=new_buf(2);return Ir.write_shift(2,_r),Ir}function ke(_r){var Ir=new_buf(26);Ir.write_shift(2,4096),Ir.write_shift(2,4),Ir.write_shift(4,0);for(var Dr=0,Or=0,br=0,Ur=0;Ur<_r.SheetNames.length;++Ur){var Qr=_r.SheetNames[Ur],zr=_r.Sheets[Qr];if(!(!zr||!zr["!ref"])){++br;var Gr=decode_range(zr["!ref"]);Dr<Gr.e.r&&(Dr=Gr.e.r),Or<Gr.e.c&&(Or=Gr.e.c)}}return Dr>8191&&(Dr=8191),Ir.write_shift(2,Dr),Ir.write_shift(1,br),Ir.write_shift(1,Or),Ir.write_shift(2,0),Ir.write_shift(2,0),Ir.write_shift(1,1),Ir.write_shift(1,2),Ir.write_shift(4,0),Ir.write_shift(4,0),Ir}function Oe(_r,Ir,Dr){var Or={s:{c:0,r:0},e:{c:0,r:0}};return Ir==8&&Dr.qpro?(Or.s.c=_r.read_shift(1),_r.l++,Or.s.r=_r.read_shift(2),Or.e.c=_r.read_shift(1),_r.l++,Or.e.r=_r.read_shift(2),Or):(Or.s.c=_r.read_shift(2),Or.s.r=_r.read_shift(2),Ir==12&&Dr.qpro&&(_r.l+=2),Or.e.c=_r.read_shift(2),Or.e.r=_r.read_shift(2),Ir==12&&Dr.qpro&&(_r.l+=2),Or.s.c==65535&&(Or.s.c=Or.e.c=Or.s.r=Or.e.r=0),Or)}function Me(_r){var Ir=new_buf(8);return Ir.write_shift(2,_r.s.c),Ir.write_shift(2,_r.s.r),Ir.write_shift(2,_r.e.c),Ir.write_shift(2,_r.e.r),Ir}function Ue(_r,Ir,Dr){var Or=[{c:0,r:0},{t:"n",v:0},0,0];return Dr.qpro&&Dr.vers!=20768?(Or[0].c=_r.read_shift(1),Or[3]=_r.read_shift(1),Or[0].r=_r.read_shift(2),_r.l+=2):(Or[2]=_r.read_shift(1),Or[0].c=_r.read_shift(2),Or[0].r=_r.read_shift(2)),Or}function $e(_r,Ir,Dr){var Or=_r.l+Ir,br=Ue(_r,Ir,Dr);if(br[1].t="s",Dr.vers==20768){_r.l++;var Ur=_r.read_shift(1);return br[1].v=_r.read_shift(Ur,"utf8"),br}return Dr.qpro&&_r.l++,br[1].v=_r.read_shift(Or-_r.l,"cstr"),br}function He(_r,Ir,Dr){var Or=new_buf(7+Dr.length);Or.write_shift(1,255),Or.write_shift(2,Ir),Or.write_shift(2,_r),Or.write_shift(1,39);for(var br=0;br<Or.length;++br){var Ur=Dr.charCodeAt(br);Or.write_shift(1,Ur>=128?95:Ur)}return Or.write_shift(1,0),Or}function Qe(_r,Ir,Dr){var Or=Ue(_r,Ir,Dr);return Or[1].v=_r.read_shift(2,"i"),Or}function We(_r,Ir,Dr){var Or=new_buf(7);return Or.write_shift(1,255),Or.write_shift(2,Ir),Or.write_shift(2,_r),Or.write_shift(2,Dr,"i"),Or}function qe(_r,Ir,Dr){var Or=Ue(_r,Ir,Dr);return Or[1].v=_r.read_shift(8,"f"),Or}function Ke(_r,Ir,Dr){var Or=new_buf(13);return Or.write_shift(1,255),Or.write_shift(2,Ir),Or.write_shift(2,_r),Or.write_shift(8,Dr,"f"),Or}function Xe(_r,Ir,Dr){var Or=_r.l+Ir,br=Ue(_r,Ir,Dr);if(br[1].v=_r.read_shift(8,"f"),Dr.qpro)_r.l=Or;else{var Ur=_r.read_shift(2);tr(_r.slice(_r.l,_r.l+Ur),br),_r.l+=Ur}return br}function Ye(_r,Ir,Dr){var Or=Ir&32768;return Ir&=-32769,Ir=(Or?_r:0)+(Ir>=8192?Ir-16384:Ir),(Or?"":"$")+(Dr?encode_col(Ir):encode_row(Ir))}var Ze={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},Je=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function tr(_r,Ir){prep_blob(_r,0);for(var Dr=[],Or=0,br="",Ur="",Qr="",zr="";_r.l<_r.length;){var Gr=_r[_r.l++];switch(Gr){case 0:Dr.push(_r.read_shift(8,"f"));break;case 1:Ur=Ye(Ir[0].c,_r.read_shift(2),!0),br=Ye(Ir[0].r,_r.read_shift(2),!1),Dr.push(Ur+br);break;case 2:{var fn=Ye(Ir[0].c,_r.read_shift(2),!0),nn=Ye(Ir[0].r,_r.read_shift(2),!1);Ur=Ye(Ir[0].c,_r.read_shift(2),!0),br=Ye(Ir[0].r,_r.read_shift(2),!1),Dr.push(fn+nn+":"+Ur+br)}break;case 3:if(_r.l<_r.length){console.error("WK1 premature formula end");return}break;case 4:Dr.push("("+Dr.pop()+")");break;case 5:Dr.push(_r.read_shift(2));break;case 6:{for(var bn="";Gr=_r[_r.l++];)bn+=String.fromCharCode(Gr);Dr.push('"'+bn.replace(/"/g,'""')+'"')}break;case 8:Dr.push("-"+Dr.pop());break;case 23:Dr.push("+"+Dr.pop());break;case 22:Dr.push("NOT("+Dr.pop()+")");break;case 20:case 21:zr=Dr.pop(),Qr=Dr.pop(),Dr.push(["AND","OR"][Gr-20]+"("+Qr+","+zr+")");break;default:if(Gr<32&&Je[Gr])zr=Dr.pop(),Qr=Dr.pop(),Dr.push(Qr+Je[Gr]+zr);else if(Ze[Gr]){if(Or=Ze[Gr][1],Or==69&&(Or=_r[_r.l++]),Or>Dr.length){console.error("WK1 bad formula parse 0x"+Gr.toString(16)+":|"+Dr.join("|")+"|");return}var hn=Dr.slice(-Or);Dr.length-=Or,Dr.push(Ze[Gr][0]+"("+hn.join(",")+")")}else return Gr<=7?console.error("WK1 invalid opcode "+Gr.toString(16)):Gr<=24?console.error("WK1 unsupported op "+Gr.toString(16)):Gr<=30?console.error("WK1 invalid opcode "+Gr.toString(16)):Gr<=115?console.error("WK1 unsupported function opcode "+Gr.toString(16)):console.error("WK1 unrecognized opcode "+Gr.toString(16))}}Dr.length==1?Ir[1].f=""+Dr[0]:console.error("WK1 bad formula parse |"+Dr.join("|")+"|")}function rr(_r){var Ir=[{c:0,r:0},{t:"n",v:0},0];return Ir[0].r=_r.read_shift(2),Ir[3]=_r[_r.l++],Ir[0].c=_r[_r.l++],Ir}function ar(_r,Ir){var Dr=rr(_r);return Dr[1].t="s",Dr[1].v=_r.read_shift(Ir-4,"cstr"),Dr}function ir(_r,Ir,Dr,Or){var br=new_buf(6+Or.length);br.write_shift(2,_r),br.write_shift(1,Dr),br.write_shift(1,Ir),br.write_shift(1,39);for(var Ur=0;Ur<Or.length;++Ur){var Qr=Or.charCodeAt(Ur);br.write_shift(1,Qr>=128?95:Qr)}return br.write_shift(1,0),br}function nr(_r,Ir){var Dr=rr(_r);Dr[1].v=_r.read_shift(2);var Or=Dr[1].v>>1;if(Dr[1].v&1)switch(Or&7){case 0:Or=(Or>>3)*5e3;break;case 1:Or=(Or>>3)*500;break;case 2:Or=(Or>>3)/20;break;case 3:Or=(Or>>3)/200;break;case 4:Or=(Or>>3)/2e3;break;case 5:Or=(Or>>3)/2e4;break;case 6:Or=(Or>>3)/16;break;case 7:Or=(Or>>3)/64;break}return Dr[1].v=Or,Dr}function cr(_r,Ir){var Dr=rr(_r),Or=_r.read_shift(4),br=_r.read_shift(4),Ur=_r.read_shift(2);if(Ur==65535)return Or===0&&br===3221225472?(Dr[1].t="e",Dr[1].v=15):Or===0&&br===3489660928?(Dr[1].t="e",Dr[1].v=42):Dr[1].v=0,Dr;var Qr=Ur&32768;return Ur=(Ur&32767)-16446,Dr[1].v=(1-Qr*2)*(br*Math.pow(2,Ur+32)+Or*Math.pow(2,Ur)),Dr}function mr(_r,Ir,Dr,Or){var br=new_buf(14);if(br.write_shift(2,_r),br.write_shift(1,Dr),br.write_shift(1,Ir),Or==0)return br.write_shift(4,0),br.write_shift(4,0),br.write_shift(2,65535),br;var Ur=0,Qr=0,zr=0,Gr=0;return Or<0&&(Ur=1,Or=-Or),Qr=Math.log2(Or)|0,Or/=Math.pow(2,Qr-31),Gr=Or>>>0,(Gr&2147483648)==0&&(Or/=2,++Qr,Gr=Or>>>0),Or-=Gr,Gr|=2147483648,Gr>>>=0,Or*=Math.pow(2,32),zr=Or>>>0,br.write_shift(4,zr),br.write_shift(4,Gr),Qr+=16383+(Ur?32768:0),br.write_shift(2,Qr),br}function fr(_r,Ir){var Dr=cr(_r);return _r.l+=Ir-14,Dr}function or(_r,Ir){var Dr=rr(_r),Or=_r.read_shift(4);return Dr[1].v=Or>>6,Dr}function yr(_r,Ir){var Dr=rr(_r),Or=_r.read_shift(8,"f");return Dr[1].v=Or,Dr}function Cr(_r,Ir){var Dr=yr(_r);return _r.l+=Ir-10,Dr}function jr(_r,Ir){return _r[_r.l+Ir-1]==0?_r.read_shift(Ir,"cstr"):""}function vr(_r,Ir){var Dr=_r[_r.l++];Dr>Ir-1&&(Dr=Ir-1);for(var Or="";Or.length<Dr;)Or+=String.fromCharCode(_r[_r.l++]);return Or}function Tr(_r,Ir,Dr){if(!(!Dr.qpro||Ir<21)){var Or=_r.read_shift(1);_r.l+=17,_r.l+=1,_r.l+=2;var br=_r.read_shift(Ir-21,"cstr");return[Or,br]}}function wr(_r,Ir){for(var Dr={},Or=_r.l+Ir;_r.l<Or;){var br=_r.read_shift(2);if(br==14e3){for(Dr[br]=[0,""],Dr[br][0]=_r.read_shift(2);_r[_r.l];)Dr[br][1]+=String.fromCharCode(_r[_r.l]),_r.l++;_r.l++}}return Dr}function Er(_r,Ir){var Dr=new_buf(5+_r.length);Dr.write_shift(2,14e3),Dr.write_shift(2,Ir);for(var Or=0;Or<_r.length;++Or){var br=_r.charCodeAt(Or);Dr[Dr.l++]=br>127?95:br}return Dr[Dr.l++]=0,Dr}var Pr={0:{n:"BOF",f:parseuint16},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:Oe},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:Qe},14:{n:"NUMBER",f:qe},15:{n:"LABEL",f:$e},16:{n:"FORMULA",f:Xe},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:$e},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:jr},222:{n:"SHEETNAMELP",f:vr},65535:{n:""}},Mr={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ar},23:{n:"NUMBER17",f:cr},24:{n:"NUMBER18",f:nr},25:{n:"FORMULA19",f:fr},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:wr},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:or},38:{n:"??"},39:{n:"NUMBER27",f:yr},40:{n:"FORMULA28",f:Cr},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:jr},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Tr},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:Be,book_to_wk3:De,to_workbook:Ce}})(),straywsregex=/^\s|\s$|[\t\n\r]/;function write_sst_xml(Re,Ce){if(!Ce.bookSST)return"";var je=[XML_HEADER];je[je.length]=writextag("sst",null,{xmlns:XMLNS_main[0],count:Re.Count,uniqueCount:Re.Unique});for(var Be=0;Be!=Re.length;++Be)if(Re[Be]!=null){var De=Re[Be],Fe="<si>";De.r?Fe+=De.r:(Fe+="<t",De.t||(De.t=""),De.t.match(straywsregex)&&(Fe+=' xml:space="preserve"'),Fe+=">"+escapexml(De.t)+"</t>"),Fe+="</si>",je[je.length]=Fe}return je.length>2&&(je[je.length]="</sst>",je[1]=je[1].replace("/>",">")),je.join("")}function parse_BrtBeginSst(Re){return[Re.read_shift(4),Re.read_shift(4)]}function write_BrtBeginSst(Re,Ce){return Ce||(Ce=new_buf(8)),Ce.write_shift(4,Re.Count),Ce.write_shift(4,Re.Unique),Ce}var write_BrtSSTItem=write_RichStr;function write_sst_bin(Re){var Ce=buf_array();write_record(Ce,159,write_BrtBeginSst(Re));for(var je=0;je<Re.length;++je)write_record(Ce,19,write_BrtSSTItem(Re[je]));return write_record(Ce,160),Ce.end()}function _JS2ANSI(Re){for(var Ce=[],je=Re.split(""),Be=0;Be<je.length;++Be)Ce[Be]=je[Be].charCodeAt(0);return Ce}function crypto_CreatePasswordVerifier_Method1(Re){var Ce=0,je,Be=_JS2ANSI(Re),De=Be.length+1,Fe,ke,Oe,Me,Ue;for(je=new_raw_buf(De),je[0]=Be.length,Fe=1;Fe!=De;++Fe)je[Fe]=Be[Fe-1];for(Fe=De-1;Fe>=0;--Fe)ke=je[Fe],Oe=(Ce&16384)===0?0:1,Me=Ce<<1&32767,Ue=Oe|Me,Ce=Ue^ke;return Ce^52811}var RTF=(function(){function Re(De,Fe){switch(Fe.type){case"base64":return Ce(Base64_decode(De),Fe);case"binary":return Ce(De,Fe);case"buffer":return Ce(has_buf&&Buffer.isBuffer(De)?De.toString("binary"):a2s(De),Fe);case"array":return Ce(cc2str(De),Fe)}throw new Error("Unrecognized type "+Fe.type)}function Ce(De,Fe){var ke=Fe||{},Oe=ke.dense?[]:{},Me=De.match(/\\trowd.*?\\row\b/g);if(!Me.length)throw new Error("RTF missing table");var Ue={s:{c:0,r:0},e:{c:0,r:Me.length-1}};return Me.forEach(function($e,He){Array.isArray(Oe)&&(Oe[He]=[]);for(var Qe=/\\\w+\b/g,We=0,qe,Ke=-1;qe=Qe.exec($e);){switch(qe[0]){case"\\cell":var Xe=$e.slice(We,Qe.lastIndex-qe[0].length);if(Xe[0]==" "&&(Xe=Xe.slice(1)),++Ke,Xe.length){var Ye={v:Xe,t:"s"};Array.isArray(Oe)?Oe[He][Ke]=Ye:Oe[encode_cell({r:He,c:Ke})]=Ye}break}We=Qe.lastIndex}Ke>Ue.e.c&&(Ue.e.c=Ke)}),Oe["!ref"]=encode_range(Ue),Oe}function je(De,Fe){return sheet_to_workbook(Re(De,Fe),Fe)}function Be(De){for(var Fe=["{\\rtf1\\ansi"],ke=safe_decode_range(De["!ref"]),Oe,Me=Array.isArray(De),Ue=ke.s.r;Ue<=ke.e.r;++Ue){Fe.push("\\trowd\\trautofit1");for(var $e=ke.s.c;$e<=ke.e.c;++$e)Fe.push("\\cellx"+($e+1));for(Fe.push("\\pard\\intbl"),$e=ke.s.c;$e<=ke.e.c;++$e){var He=encode_cell({r:Ue,c:$e});Oe=Me?(De[Ue]||[])[$e]:De[He],!(!Oe||Oe.v==null&&(!Oe.f||Oe.F))&&(Fe.push(" "+(Oe.w||(format_cell(Oe),Oe.w))),Fe.push("\\cell"))}Fe.push("\\pard\\intbl\\row")}return Fe.join("")+"}"}return{to_workbook:je,to_sheet:Re,from_sheet:Be}})();function rgb2Hex(Re){for(var Ce=0,je=1;Ce!=3;++Ce)je=je*256+(Re[Ce]>255?255:Re[Ce]<0?0:Re[Ce]);return je.toString(16).toUpperCase().slice(1)}var DEF_MDW=6,MDW=DEF_MDW;function width2px(Re){return Math.floor((Re+Math.round(128/MDW)/256)*MDW)}function px2char(Re){return Math.floor((Re-5)/MDW*100+.5)/100}function char2width(Re){return Math.round((Re*MDW+5)/MDW*256)/256}function process_col(Re){Re.width?(Re.wpx=width2px(Re.width),Re.wch=px2char(Re.wpx),Re.MDW=MDW):Re.wpx?(Re.wch=px2char(Re.wpx),Re.width=char2width(Re.wch),Re.MDW=MDW):typeof Re.wch=="number"&&(Re.width=char2width(Re.wch),Re.wpx=width2px(Re.width),Re.MDW=MDW),Re.customWidth&&delete Re.customWidth}var DEF_PPI=96,PPI=DEF_PPI;function px2pt(Re){return Re*96/PPI}function pt2px(Re){return Re*PPI/96}function write_numFmts(Re){var Ce=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(je){for(var Be=je[0];Be<=je[1];++Be)Re[Be]!=null&&(Ce[Ce.length]=writextag("numFmt",null,{numFmtId:Be,formatCode:escapexml(Re[Be])}))}),Ce.length===1?"":(Ce[Ce.length]="</numFmts>",Ce[0]=writextag("numFmts",null,{count:Ce.length-2}).replace("/>",">"),Ce.join(""))}function write_cellXfs(Re){var Ce=[];return Ce[Ce.length]=writextag("cellXfs",null),Re.forEach(function(je){Ce[Ce.length]=writextag("xf",null,je)}),Ce[Ce.length]="</cellXfs>",Ce.length===2?"":(Ce[0]=writextag("cellXfs",null,{count:Ce.length-2}).replace("/>",">"),Ce.join(""))}function write_sty_xml(Re,Ce){var je=[XML_HEADER,writextag("styleSheet",null,{xmlns:XMLNS_main[0],"xmlns:vt":XMLNS.vt})],Be;return Re.SSF&&(Be=write_numFmts(Re.SSF))!=null&&(je[je.length]=Be),je[je.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',je[je.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',je[je.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',je[je.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(Be=write_cellXfs(Ce.cellXfs))&&(je[je.length]=Be),je[je.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',je[je.length]='<dxfs count="0"/>',je[je.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',je.length>2&&(je[je.length]="</styleSheet>",je[1]=je[1].replace("/>",">")),je.join("")}function parse_BrtFmt(Re,Ce){var je=Re.read_shift(2),Be=parse_XLWideString(Re);return[je,Be]}function write_BrtFmt(Re,Ce,je){je||(je=new_buf(6+4*Ce.length)),je.write_shift(2,Re),write_XLWideString(Ce,je);var Be=je.length>je.l?je.slice(0,je.l):je;return je.l==null&&(je.l=je.length),Be}function parse_BrtFont(Re,Ce,je){var Be={};Be.sz=Re.read_shift(2)/20;var De=parse_FontFlags(Re);De.fItalic&&(Be.italic=1),De.fCondense&&(Be.condense=1),De.fExtend&&(Be.extend=1),De.fShadow&&(Be.shadow=1),De.fOutline&&(Be.outline=1),De.fStrikeout&&(Be.strike=1);var Fe=Re.read_shift(2);switch(Fe===700&&(Be.bold=1),Re.read_shift(2)){case 1:Be.vertAlign="superscript";break;case 2:Be.vertAlign="subscript";break}var ke=Re.read_shift(1);ke!=0&&(Be.underline=ke);var Oe=Re.read_shift(1);Oe>0&&(Be.family=Oe);var Me=Re.read_shift(1);switch(Me>0&&(Be.charset=Me),Re.l++,Be.color=parse_BrtColor(Re),Re.read_shift(1)){case 1:Be.scheme="major";break;case 2:Be.scheme="minor";break}return Be.name=parse_XLWideString(Re),Be}function write_BrtFont(Re,Ce){Ce||(Ce=new_buf(153)),Ce.write_shift(2,Re.sz*20),write_FontFlags(Re,Ce),Ce.write_shift(2,Re.bold?700:400);var je=0;Re.vertAlign=="superscript"?je=1:Re.vertAlign=="subscript"&&(je=2),Ce.write_shift(2,je),Ce.write_shift(1,Re.underline||0),Ce.write_shift(1,Re.family||0),Ce.write_shift(1,Re.charset||0),Ce.write_shift(1,0),write_BrtColor(Re.color,Ce);var Be=0;return Be=2,Ce.write_shift(1,Be),write_XLWideString(Re.name,Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}var XLSBFillPTNames=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],rev_XLSBFillPTNames,parse_BrtFill=parsenoop;function write_BrtFill(Re,Ce){Ce||(Ce=new_buf(84)),rev_XLSBFillPTNames||(rev_XLSBFillPTNames=evert(XLSBFillPTNames));var je=rev_XLSBFillPTNames[Re.patternType];je==null&&(je=40),Ce.write_shift(4,je);var Be=0;if(je!=40)for(write_BrtColor({auto:1},Ce),write_BrtColor({auto:1},Ce);Be<12;++Be)Ce.write_shift(4,0);else{for(;Be<4;++Be)Ce.write_shift(4,0);for(;Be<12;++Be)Ce.write_shift(4,0)}return Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function parse_BrtXF(Re,Ce){var je=Re.l+Ce,Be=Re.read_shift(2),De=Re.read_shift(2);return Re.l=je,{ixfe:Be,numFmtId:De}}function write_BrtXF(Re,Ce,je){je||(je=new_buf(16)),je.write_shift(2,Ce||0),je.write_shift(2,Re.numFmtId||0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(1,0),je.write_shift(1,0);var Be=0;return je.write_shift(1,Be),je.write_shift(1,0),je.write_shift(1,0),je.write_shift(1,0),je}function write_Blxf(Re,Ce){return Ce||(Ce=new_buf(10)),Ce.write_shift(1,0),Ce.write_shift(1,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce}var parse_BrtBorder=parsenoop;function write_BrtBorder(Re,Ce){return Ce||(Ce=new_buf(51)),Ce.write_shift(1,0),write_Blxf(null,Ce),write_Blxf(null,Ce),write_Blxf(null,Ce),write_Blxf(null,Ce),write_Blxf(null,Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function write_BrtStyle(Re,Ce){return Ce||(Ce=new_buf(52)),Ce.write_shift(4,Re.xfId),Ce.write_shift(2,1),Ce.write_shift(1,0),Ce.write_shift(1,0),write_XLNullableWideString(Re.name||"",Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function write_BrtBeginTableStyles(Re,Ce,je){var Be=new_buf(2052);return Be.write_shift(4,Re),write_XLNullableWideString(Ce,Be),write_XLNullableWideString(je,Be),Be.length>Be.l?Be.slice(0,Be.l):Be}function write_FMTS_bin(Re,Ce){if(Ce){var je=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(Be){for(var De=Be[0];De<=Be[1];++De)Ce[De]!=null&&++je}),je!=0&&(write_record(Re,615,write_UInt32LE(je)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(Be){for(var De=Be[0];De<=Be[1];++De)Ce[De]!=null&&write_record(Re,44,write_BrtFmt(De,Ce[De]))}),write_record(Re,616))}}function write_FONTS_bin(Re){var Ce=1;write_record(Re,611,write_UInt32LE(Ce)),write_record(Re,43,write_BrtFont({sz:12,color:{theme:1},name:"Calibri",family:2})),write_record(Re,612)}function write_FILLS_bin(Re){var Ce=2;write_record(Re,603,write_UInt32LE(Ce)),write_record(Re,45,write_BrtFill({patternType:"none"})),write_record(Re,45,write_BrtFill({patternType:"gray125"})),write_record(Re,604)}function write_BORDERS_bin(Re){var Ce=1;write_record(Re,613,write_UInt32LE(Ce)),write_record(Re,46,write_BrtBorder()),write_record(Re,614)}function write_CELLSTYLEXFS_bin(Re){var Ce=1;write_record(Re,626,write_UInt32LE(Ce)),write_record(Re,47,write_BrtXF({numFmtId:0},65535)),write_record(Re,627)}function write_CELLXFS_bin(Re,Ce){write_record(Re,617,write_UInt32LE(Ce.length)),Ce.forEach(function(je){write_record(Re,47,write_BrtXF(je,0))}),write_record(Re,618)}function write_STYLES_bin(Re){var Ce=1;write_record(Re,619,write_UInt32LE(Ce)),write_record(Re,48,write_BrtStyle({xfId:0,name:"Normal"})),write_record(Re,620)}function write_DXFS_bin(Re){var Ce=0;write_record(Re,505,write_UInt32LE(Ce)),write_record(Re,506)}function write_TABLESTYLES_bin(Re){var Ce=0;write_record(Re,508,write_BrtBeginTableStyles(Ce,"TableStyleMedium9","PivotStyleMedium4")),write_record(Re,509)}function write_sty_bin(Re,Ce){var je=buf_array();return write_record(je,278),write_FMTS_bin(je,Re.SSF),write_FONTS_bin(je),write_FILLS_bin(je),write_BORDERS_bin(je),write_CELLSTYLEXFS_bin(je),write_CELLXFS_bin(je,Ce.cellXfs),write_STYLES_bin(je),write_DXFS_bin(je),write_TABLESTYLES_bin(je),write_record(je,279),je.end()}function write_theme(Re,Ce){if(Ce&&Ce.themeXLSX)return Ce.themeXLSX;if(Re&&typeof Re.raw=="string")return Re.raw;var je=[XML_HEADER];return je[je.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',je[je.length]="<a:themeElements>",je[je.length]='<a:clrScheme name="Office">',je[je.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',je[je.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',je[je.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',je[je.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',je[je.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',je[je.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',je[je.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',je[je.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',je[je.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',je[je.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',je[je.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',je[je.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',je[je.length]="</a:clrScheme>",je[je.length]='<a:fontScheme name="Office">',je[je.length]="<a:majorFont>",je[je.length]='<a:latin typeface="Cambria"/>',je[je.length]='<a:ea typeface=""/>',je[je.length]='<a:cs typeface=""/>',je[je.length]='<a:font script="Jpan" typeface=" "/>',je[je.length]='<a:font script="Hang" typeface=" "/>',je[je.length]='<a:font script="Hans" typeface=""/>',je[je.length]='<a:font script="Hant" typeface=""/>',je[je.length]='<a:font script="Arab" typeface="Times New Roman"/>',je[je.length]='<a:font script="Hebr" typeface="Times New Roman"/>',je[je.length]='<a:font script="Thai" typeface="Tahoma"/>',je[je.length]='<a:font script="Ethi" typeface="Nyala"/>',je[je.length]='<a:font script="Beng" typeface="Vrinda"/>',je[je.length]='<a:font script="Gujr" typeface="Shruti"/>',je[je.length]='<a:font script="Khmr" typeface="MoolBoran"/>',je[je.length]='<a:font script="Knda" typeface="Tunga"/>',je[je.length]='<a:font script="Guru" typeface="Raavi"/>',je[je.length]='<a:font script="Cans" typeface="Euphemia"/>',je[je.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',je[je.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',je[je.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',je[je.length]='<a:font script="Thaa" typeface="MV Boli"/>',je[je.length]='<a:font script="Deva" typeface="Mangal"/>',je[je.length]='<a:font script="Telu" typeface="Gautami"/>',je[je.length]='<a:font script="Taml" typeface="Latha"/>',je[je.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',je[je.length]='<a:font script="Orya" typeface="Kalinga"/>',je[je.length]='<a:font script="Mlym" typeface="Kartika"/>',je[je.length]='<a:font script="Laoo" typeface="DokChampa"/>',je[je.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',je[je.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',je[je.length]='<a:font script="Viet" typeface="Times New Roman"/>',je[je.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',je[je.length]='<a:font script="Geor" typeface="Sylfaen"/>',je[je.length]="</a:majorFont>",je[je.length]="<a:minorFont>",je[je.length]='<a:latin typeface="Calibri"/>',je[je.length]='<a:ea typeface=""/>',je[je.length]='<a:cs typeface=""/>',je[je.length]='<a:font script="Jpan" typeface=" "/>',je[je.length]='<a:font script="Hang" typeface=" "/>',je[je.length]='<a:font script="Hans" typeface=""/>',je[je.length]='<a:font script="Hant" typeface=""/>',je[je.length]='<a:font script="Arab" typeface="Arial"/>',je[je.length]='<a:font script="Hebr" typeface="Arial"/>',je[je.length]='<a:font script="Thai" typeface="Tahoma"/>',je[je.length]='<a:font script="Ethi" typeface="Nyala"/>',je[je.length]='<a:font script="Beng" typeface="Vrinda"/>',je[je.length]='<a:font script="Gujr" typeface="Shruti"/>',je[je.length]='<a:font script="Khmr" typeface="DaunPenh"/>',je[je.length]='<a:font script="Knda" typeface="Tunga"/>',je[je.length]='<a:font script="Guru" typeface="Raavi"/>',je[je.length]='<a:font script="Cans" typeface="Euphemia"/>',je[je.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',je[je.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',je[je.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',je[je.length]='<a:font script="Thaa" typeface="MV Boli"/>',je[je.length]='<a:font script="Deva" typeface="Mangal"/>',je[je.length]='<a:font script="Telu" typeface="Gautami"/>',je[je.length]='<a:font script="Taml" typeface="Latha"/>',je[je.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',je[je.length]='<a:font script="Orya" typeface="Kalinga"/>',je[je.length]='<a:font script="Mlym" typeface="Kartika"/>',je[je.length]='<a:font script="Laoo" typeface="DokChampa"/>',je[je.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',je[je.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',je[je.length]='<a:font script="Viet" typeface="Arial"/>',je[je.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',je[je.length]='<a:font script="Geor" typeface="Sylfaen"/>',je[je.length]="</a:minorFont>",je[je.length]="</a:fontScheme>",je[je.length]='<a:fmtScheme name="Office">',je[je.length]="<a:fillStyleLst>",je[je.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:lin ang="16200000" scaled="1"/>',je[je.length]="</a:gradFill>",je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:lin ang="16200000" scaled="0"/>',je[je.length]="</a:gradFill>",je[je.length]="</a:fillStyleLst>",je[je.length]="<a:lnStyleLst>",je[je.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',je[je.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',je[je.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',je[je.length]="</a:lnStyleLst>",je[je.length]="<a:effectStyleLst>",je[je.length]="<a:effectStyle>",je[je.length]="<a:effectLst>",je[je.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',je[je.length]="</a:effectLst>",je[je.length]="</a:effectStyle>",je[je.length]="<a:effectStyle>",je[je.length]="<a:effectLst>",je[je.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',je[je.length]="</a:effectLst>",je[je.length]="</a:effectStyle>",je[je.length]="<a:effectStyle>",je[je.length]="<a:effectLst>",je[je.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',je[je.length]="</a:effectLst>",je[je.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',je[je.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',je[je.length]="</a:effectStyle>",je[je.length]="</a:effectStyleLst>",je[je.length]="<a:bgFillStyleLst>",je[je.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',je[je.length]="</a:gradFill>",je[je.length]='<a:gradFill rotWithShape="1">',je[je.length]="<a:gsLst>",je[je.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',je[je.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',je[je.length]="</a:gsLst>",je[je.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',je[je.length]="</a:gradFill>",je[je.length]="</a:bgFillStyleLst>",je[je.length]="</a:fmtScheme>",je[je.length]="</a:themeElements>",je[je.length]="<a:objectDefaults>",je[je.length]="<a:spDef>",je[je.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',je[je.length]="</a:spDef>",je[je.length]="<a:lnDef>",je[je.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',je[je.length]="</a:lnDef>",je[je.length]="</a:objectDefaults>",je[je.length]="<a:extraClrSchemeLst/>",je[je.length]="</a:theme>",je.join("")}function parse_BrtMdtinfo(Re,Ce){return{flags:Re.read_shift(4),version:Re.read_shift(4),name:parse_XLWideString(Re)}}function write_BrtMdtinfo(Re){var Ce=new_buf(12+2*Re.name.length);return Ce.write_shift(4,Re.flags),Ce.write_shift(4,Re.version),write_XLWideString(Re.name,Ce),Ce.slice(0,Ce.l)}function parse_BrtMdb(Re){for(var Ce=[],je=Re.read_shift(4);je-- >0;)Ce.push([Re.read_shift(4),Re.read_shift(4)]);return Ce}function write_BrtMdb(Re){var Ce=new_buf(4+8*Re.length);Ce.write_shift(4,Re.length);for(var je=0;je<Re.length;++je)Ce.write_shift(4,Re[je][0]),Ce.write_shift(4,Re[je][1]);return Ce}function write_BrtBeginEsfmd(Re,Ce){var je=new_buf(8+2*Ce.length);return je.write_shift(4,Re),write_XLWideString(Ce,je),je.slice(0,je.l)}function parse_BrtBeginEsmdb(Re){return Re.l+=4,Re.read_shift(4)!=0}function write_BrtBeginEsmdb(Re,Ce){var je=new_buf(8);return je.write_shift(4,Re),je.write_shift(4,1),je}function write_xlmeta_bin(){var Re=buf_array();return write_record(Re,332),write_record(Re,334,write_UInt32LE(1)),write_record(Re,335,write_BrtMdtinfo({name:"XLDAPR",version:12e4,flags:3496657072})),write_record(Re,336),write_record(Re,339,write_BrtBeginEsfmd(1,"XLDAPR")),write_record(Re,52),write_record(Re,35,write_UInt32LE(514)),write_record(Re,4096,write_UInt32LE(0)),write_record(Re,4097,writeuint16(1)),write_record(Re,36),write_record(Re,53),write_record(Re,340),write_record(Re,337,write_BrtBeginEsmdb(1)),write_record(Re,51,write_BrtMdb([[1,0]])),write_record(Re,338),write_record(Re,333),Re.end()}function write_xlmeta_xml(){var Re=[XML_HEADER];return Re.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),Re.join("")}function parse_BrtCalcChainItem$(Re){var Ce={};Ce.i=Re.read_shift(4);var je={};je.r=Re.read_shift(4),je.c=Re.read_shift(4),Ce.r=encode_cell(je);var Be=Re.read_shift(1);return Be&2&&(Ce.l="1"),Be&8&&(Ce.a="1"),Ce}var _shapeid=1024;function write_comments_vml(Re,Ce){for(var je=[21600,21600],Be=["m0,0l0",je[1],je[0],je[1],je[0],"0xe"].join(","),De=[writextag("xml",null,{"xmlns:v":XLMLNS.v,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:mv":XLMLNS.mv}).replace(/\/>/,">"),writextag("o:shapelayout",writextag("o:idmap",null,{"v:ext":"edit",data:Re}),{"v:ext":"edit"}),writextag("v:shapetype",[writextag("v:stroke",null,{joinstyle:"miter"}),writextag("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:je.join(","),path:Be})];_shapeid<Re*1e3;)_shapeid+=1e3;return Ce.forEach(function(Fe){var ke=decode_cell(Fe[0]),Oe={color2:"#BEFF82",type:"gradient"};Oe.type=="gradient"&&(Oe.angle="-180");var Me=Oe.type=="gradient"?writextag("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,Ue=writextag("v:fill",Me,Oe),$e={on:"t",obscured:"t"};++_shapeid,De=De.concat(["<v:shape"+wxt_helper({id:"_x0000_s"+_shapeid,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(Fe[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",Ue,writextag("v:shadow",null,$e),writextag("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",writetag("x:Anchor",[ke.c+1,0,ke.r+1,0,ke.c+3,20,ke.r+5,20].join(",")),writetag("x:AutoFill","False"),writetag("x:Row",String(ke.r)),writetag("x:Column",String(ke.c)),Fe[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),De.push("</xml>"),De.join("")}function write_comments_xml(Re){var Ce=[XML_HEADER,writextag("comments",null,{xmlns:XMLNS_main[0]})],je=[];return Ce.push("<authors>"),Re.forEach(function(Be){Be[1].forEach(function(De){var Fe=escapexml(De.a);je.indexOf(Fe)==-1&&(je.push(Fe),Ce.push("<author>"+Fe+"</author>")),De.T&&De.ID&&je.indexOf("tc="+De.ID)==-1&&(je.push("tc="+De.ID),Ce.push("<author>tc="+De.ID+"</author>"))})}),je.length==0&&(je.push("SheetJ5"),Ce.push("<author>SheetJ5</author>")),Ce.push("</authors>"),Ce.push("<commentList>"),Re.forEach(function(Be){var De=0,Fe=[];if(Be[1][0]&&Be[1][0].T&&Be[1][0].ID?De=je.indexOf("tc="+Be[1][0].ID):Be[1].forEach(function(Me){Me.a&&(De=je.indexOf(escapexml(Me.a))),Fe.push(Me.t||"")}),Ce.push('<comment ref="'+Be[0]+'" authorId="'+De+'"><text>'),Fe.length<=1)Ce.push(writetag("t",escapexml(Fe[0]||"")));else{for(var ke=`Comment:
    `+Fe[0]+`
`,Oe=1;Oe<Fe.length;++Oe)ke+=`Reply:
    `+Fe[Oe]+`
`;Ce.push(writetag("t",escapexml(ke)))}Ce.push("</text></comment>")}),Ce.push("</commentList>"),Ce.length>2&&(Ce[Ce.length]="</comments>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}function write_tcmnt_xml(Re,Ce,je){var Be=[XML_HEADER,writextag("ThreadedComments",null,{xmlns:XMLNS.TCMNT}).replace(/[\/]>/,">")];return Re.forEach(function(De){var Fe="";(De[1]||[]).forEach(function(ke,Oe){if(!ke.T){delete ke.ID;return}ke.a&&Ce.indexOf(ke.a)==-1&&Ce.push(ke.a);var Me={ref:De[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+je.tcid++).slice(-12)+"}"};Oe==0?Fe=Me.id:Me.parentId=Fe,ke.ID=Me.id,ke.a&&(Me.personId="{54EE7950-7262-4200-6969-"+("000000000000"+Ce.indexOf(ke.a)).slice(-12)+"}"),Be.push(writextag("threadedComment",writetag("text",ke.t||""),Me))})}),Be.push("</ThreadedComments>"),Be.join("")}function write_people_xml(Re){var Ce=[XML_HEADER,writextag("personList",null,{xmlns:XMLNS.TCMNT,"xmlns:x":XMLNS_main[0]}).replace(/[\/]>/,">")];return Re.forEach(function(je,Be){Ce.push(writextag("person",null,{displayName:je,id:"{54EE7950-7262-4200-6969-"+("000000000000"+Be).slice(-12)+"}",userId:je,providerId:"None"}))}),Ce.push("</personList>"),Ce.join("")}function parse_BrtBeginComment(Re){var Ce={};Ce.iauthor=Re.read_shift(4);var je=parse_UncheckedRfX(Re);return Ce.rfx=je.s,Ce.ref=encode_cell(je.s),Re.l+=16,Ce}function write_BrtBeginComment(Re,Ce){return Ce==null&&(Ce=new_buf(36)),Ce.write_shift(4,Re[1].iauthor),write_UncheckedRfX(Re[0],Ce),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce.write_shift(4,0),Ce}var parse_BrtCommentAuthor=parse_XLWideString;function write_BrtCommentAuthor(Re){return write_XLWideString(Re.slice(0,54))}function write_comments_bin(Re){var Ce=buf_array(),je=[];return write_record(Ce,628),write_record(Ce,630),Re.forEach(function(Be){Be[1].forEach(function(De){je.indexOf(De.a)>-1||(je.push(De.a.slice(0,54)),write_record(Ce,632,write_BrtCommentAuthor(De.a)))})}),write_record(Ce,631),write_record(Ce,633),Re.forEach(function(Be){Be[1].forEach(function(De){De.iauthor=je.indexOf(De.a);var Fe={s:decode_cell(Be[0]),e:decode_cell(Be[0])};write_record(Ce,635,write_BrtBeginComment([Fe,De])),De.t&&De.t.length>0&&write_record(Ce,637,write_BrtCommentText(De)),write_record(Ce,636),delete De.iauthor})}),write_record(Ce,634),write_record(Ce,629),Ce.end()}function fill_vba_xls(Re,Ce){Ce.FullPaths.forEach(function(je,Be){if(Be!=0){var De=je.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");De.slice(-1)!=="/"&&CFB.utils.cfb_add(Re,De,Ce.FileIndex[Be].content)}})}var VBAFMTS=["xlsb","xlsm","xlam","biff8","xla"],rc_to_a1=(function(){var Re=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,Ce={r:0,c:0};function je(Be,De,Fe,ke){var Oe=!1,Me=!1;Fe.length==0?Me=!0:Fe.charAt(0)=="["&&(Me=!0,Fe=Fe.slice(1,-1)),ke.length==0?Oe=!0:ke.charAt(0)=="["&&(Oe=!0,ke=ke.slice(1,-1));var Ue=Fe.length>0?parseInt(Fe,10)|0:0,$e=ke.length>0?parseInt(ke,10)|0:0;return Oe?$e+=Ce.c:--$e,Me?Ue+=Ce.r:--Ue,De+(Oe?"":"$")+encode_col($e)+(Me?"":"$")+encode_row(Ue)}return function(De,Fe){return Ce=Fe,De.replace(Re,je)}})(),crefregex=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,a1_to_rc=(function(){return function(Ce,je){return Ce.replace(crefregex,function(Be,De,Fe,ke,Oe,Me){var Ue=decode_col(ke)-(Fe?0:je.c),$e=decode_row(Me)-(Oe?0:je.r),He=$e==0?"":Oe?$e+1:"["+$e+"]",Qe=Ue==0?"":Fe?Ue+1:"["+Ue+"]";return De+"R"+He+"C"+Qe})}})();function shift_formula_str(Re,Ce){return Re.replace(crefregex,function(je,Be,De,Fe,ke,Oe){return Be+(De=="$"?De+Fe:encode_col(decode_col(Fe)+Ce.c))+(ke=="$"?ke+Oe:encode_row(decode_row(Oe)+Ce.r))})}function fuzzyfmla(Re){return Re.length!=1}function parseread1(Re){Re.l+=1}function parse_ColRelU(Re,Ce){var je=Re.read_shift(2);return[je&16383,je>>14&1,je>>15&1]}function parse_RgceArea(Re,Ce,je){var Be=2;if(je){if(je.biff>=2&&je.biff<=5)return parse_RgceArea_BIFF2(Re);je.biff==12&&(Be=4)}var De=Re.read_shift(Be),Fe=Re.read_shift(Be),ke=parse_ColRelU(Re),Oe=parse_ColRelU(Re);return{s:{r:De,c:ke[0],cRel:ke[1],rRel:ke[2]},e:{r:Fe,c:Oe[0],cRel:Oe[1],rRel:Oe[2]}}}function parse_RgceArea_BIFF2(Re){var Ce=parse_ColRelU(Re),je=parse_ColRelU(Re),Be=Re.read_shift(1),De=Re.read_shift(1);return{s:{r:Ce[0],c:Be,cRel:Ce[1],rRel:Ce[2]},e:{r:je[0],c:De,cRel:je[1],rRel:je[2]}}}function parse_RgceAreaRel(Re,Ce,je){if(je.biff<8)return parse_RgceArea_BIFF2(Re);var Be=Re.read_shift(je.biff==12?4:2),De=Re.read_shift(je.biff==12?4:2),Fe=parse_ColRelU(Re),ke=parse_ColRelU(Re);return{s:{r:Be,c:Fe[0],cRel:Fe[1],rRel:Fe[2]},e:{r:De,c:ke[0],cRel:ke[1],rRel:ke[2]}}}function parse_RgceLoc(Re,Ce,je){if(je&&je.biff>=2&&je.biff<=5)return parse_RgceLoc_BIFF2(Re);var Be=Re.read_shift(je&&je.biff==12?4:2),De=parse_ColRelU(Re);return{r:Be,c:De[0],cRel:De[1],rRel:De[2]}}function parse_RgceLoc_BIFF2(Re){var Ce=parse_ColRelU(Re),je=Re.read_shift(1);return{r:Ce[0],c:je,cRel:Ce[1],rRel:Ce[2]}}function parse_RgceElfLoc(Re){var Ce=Re.read_shift(2),je=Re.read_shift(2);return{r:Ce,c:je&255,fQuoted:!!(je&16384),cRel:je>>15,rRel:je>>15}}function parse_RgceLocRel(Re,Ce,je){var Be=je&&je.biff?je.biff:8;if(Be>=2&&Be<=5)return parse_RgceLocRel_BIFF2(Re);var De=Re.read_shift(Be>=12?4:2),Fe=Re.read_shift(2),ke=(Fe&16384)>>14,Oe=(Fe&32768)>>15;if(Fe&=16383,Oe==1)for(;De>524287;)De-=1048576;if(ke==1)for(;Fe>8191;)Fe=Fe-16384;return{r:De,c:Fe,cRel:ke,rRel:Oe}}function parse_RgceLocRel_BIFF2(Re){var Ce=Re.read_shift(2),je=Re.read_shift(1),Be=(Ce&32768)>>15,De=(Ce&16384)>>14;return Ce&=16383,Be==1&&Ce>=8192&&(Ce=Ce-16384),De==1&&je>=128&&(je=je-256),{r:Ce,c:je,cRel:De,rRel:Be}}function parse_PtgArea(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5,De=parse_RgceArea(Re,je.biff>=2&&je.biff<=5?6:8,je);return[Be,De]}function parse_PtgArea3d(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5,De=Re.read_shift(2,"i"),Fe=8;if(je)switch(je.biff){case 5:Re.l+=12,Fe=6;break;case 12:Fe=12;break}var ke=parse_RgceArea(Re,Fe,je);return[Be,De,ke]}function parse_PtgAreaErr(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5;return Re.l+=je&&je.biff>8?12:je.biff<8?6:8,[Be]}function parse_PtgAreaErr3d(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5,De=Re.read_shift(2),Fe=8;if(je)switch(je.biff){case 5:Re.l+=12,Fe=6;break;case 12:Fe=12;break}return Re.l+=Fe,[Be,De]}function parse_PtgAreaN(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5,De=parse_RgceAreaRel(Re,Ce-1,je);return[Be,De]}function parse_PtgArray(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5;return Re.l+=je.biff==2?6:je.biff==12?14:7,[Be]}function parse_PtgAttrBaxcel(Re){var Ce=Re[Re.l+1]&1,je=1;return Re.l+=4,[Ce,je]}function parse_PtgAttrChoose(Re,Ce,je){Re.l+=2;for(var Be=Re.read_shift(je&&je.biff==2?1:2),De=[],Fe=0;Fe<=Be;++Fe)De.push(Re.read_shift(je&&je.biff==2?1:2));return De}function parse_PtgAttrGoto(Re,Ce,je){var Be=Re[Re.l+1]&255?1:0;return Re.l+=2,[Be,Re.read_shift(je&&je.biff==2?1:2)]}function parse_PtgAttrIf(Re,Ce,je){var Be=Re[Re.l+1]&255?1:0;return Re.l+=2,[Be,Re.read_shift(je&&je.biff==2?1:2)]}function parse_PtgAttrIfError(Re){var Ce=Re[Re.l+1]&255?1:0;return Re.l+=2,[Ce,Re.read_shift(2)]}function parse_PtgAttrSemi(Re,Ce,je){var Be=Re[Re.l+1]&255?1:0;return Re.l+=je&&je.biff==2?3:4,[Be]}function parse_PtgAttrSpaceType(Re){var Ce=Re.read_shift(1),je=Re.read_shift(1);return[Ce,je]}function parse_PtgAttrSpace(Re){return Re.read_shift(2),parse_PtgAttrSpaceType(Re)}function parse_PtgAttrSpaceSemi(Re){return Re.read_shift(2),parse_PtgAttrSpaceType(Re)}function parse_PtgRef(Re,Ce,je){var Be=(Re[Re.l]&96)>>5;Re.l+=1;var De=parse_RgceLoc(Re,0,je);return[Be,De]}function parse_PtgRefN(Re,Ce,je){var Be=(Re[Re.l]&96)>>5;Re.l+=1;var De=parse_RgceLocRel(Re,0,je);return[Be,De]}function parse_PtgRef3d(Re,Ce,je){var Be=(Re[Re.l]&96)>>5;Re.l+=1;var De=Re.read_shift(2);je&&je.biff==5&&(Re.l+=12);var Fe=parse_RgceLoc(Re,0,je);return[Be,De,Fe]}function parse_PtgFunc(Re,Ce,je){var Be=(Re[Re.l]&96)>>5;Re.l+=1;var De=Re.read_shift(je&&je.biff<=3?1:2);return[FtabArgc[De],Ftab[De],Be]}function parse_PtgFuncVar(Re,Ce,je){var Be=Re[Re.l++],De=Re.read_shift(1),Fe=je&&je.biff<=3?[Be==88?-1:0,Re.read_shift(1)]:parsetab(Re);return[De,(Fe[0]===0?Ftab:Cetab)[Fe[1]]]}function parsetab(Re){return[Re[Re.l+1]>>7,Re.read_shift(2)&32767]}function parse_PtgAttrSum(Re,Ce,je){Re.l+=je&&je.biff==2?3:4}function parse_PtgExp(Re,Ce,je){if(Re.l++,je&&je.biff==12)return[Re.read_shift(4,"i"),0];var Be=Re.read_shift(2),De=Re.read_shift(je&&je.biff==2?1:2);return[Be,De]}function parse_PtgErr(Re){return Re.l++,BErr[Re.read_shift(1)]}function parse_PtgInt(Re){return Re.l++,Re.read_shift(2)}function parse_PtgBool(Re){return Re.l++,Re.read_shift(1)!==0}function parse_PtgNum(Re){return Re.l++,parse_Xnum(Re)}function parse_PtgStr(Re,Ce,je){return Re.l++,parse_ShortXLUnicodeString(Re,Ce-1,je)}function parse_SerAr(Re,Ce){var je=[Re.read_shift(1)];if(Ce==12)switch(je[0]){case 2:je[0]=4;break;case 4:je[0]=16;break;case 0:je[0]=1;break;case 1:je[0]=2;break}switch(je[0]){case 4:je[1]=parsebool(Re,1)?"TRUE":"FALSE",Ce!=12&&(Re.l+=7);break;case 37:case 16:je[1]=BErr[Re[Re.l]],Re.l+=Ce==12?4:8;break;case 0:Re.l+=8;break;case 1:je[1]=parse_Xnum(Re);break;case 2:je[1]=parse_XLUnicodeString2(Re,0,{biff:Ce>0&&Ce<8?2:Ce});break;default:throw new Error("Bad SerAr: "+je[0])}return je}function parse_PtgExtraMem(Re,Ce,je){for(var Be=Re.read_shift(je.biff==12?4:2),De=[],Fe=0;Fe!=Be;++Fe)De.push((je.biff==12?parse_UncheckedRfX:parse_Ref8U)(Re));return De}function parse_PtgExtraArray(Re,Ce,je){var Be=0,De=0;je.biff==12?(Be=Re.read_shift(4),De=Re.read_shift(4)):(De=1+Re.read_shift(1),Be=1+Re.read_shift(2)),je.biff>=2&&je.biff<8&&(--Be,--De==0&&(De=256));for(var Fe=0,ke=[];Fe!=Be&&(ke[Fe]=[]);++Fe)for(var Oe=0;Oe!=De;++Oe)ke[Fe][Oe]=parse_SerAr(Re,je.biff);return ke}function parse_PtgName(Re,Ce,je){var Be=Re.read_shift(1)>>>5&3,De=!je||je.biff>=8?4:2,Fe=Re.read_shift(De);switch(je.biff){case 2:Re.l+=5;break;case 3:case 4:Re.l+=8;break;case 5:Re.l+=12;break}return[Be,0,Fe]}function parse_PtgNameX(Re,Ce,je){if(je.biff==5)return parse_PtgNameX_BIFF5(Re);var Be=Re.read_shift(1)>>>5&3,De=Re.read_shift(2),Fe=Re.read_shift(4);return[Be,De,Fe]}function parse_PtgNameX_BIFF5(Re){var Ce=Re.read_shift(1)>>>5&3,je=Re.read_shift(2,"i");Re.l+=8;var Be=Re.read_shift(2);return Re.l+=12,[Ce,je,Be]}function parse_PtgMemArea(Re,Ce,je){var Be=Re.read_shift(1)>>>5&3;Re.l+=je&&je.biff==2?3:4;var De=Re.read_shift(je&&je.biff==2?1:2);return[Be,De]}function parse_PtgMemFunc(Re,Ce,je){var Be=Re.read_shift(1)>>>5&3,De=Re.read_shift(je&&je.biff==2?1:2);return[Be,De]}function parse_PtgRefErr(Re,Ce,je){var Be=Re.read_shift(1)>>>5&3;return Re.l+=4,je.biff<8&&Re.l--,je.biff==12&&(Re.l+=2),[Be]}function parse_PtgRefErr3d(Re,Ce,je){var Be=(Re[Re.l++]&96)>>5,De=Re.read_shift(2),Fe=4;if(je)switch(je.biff){case 5:Fe=15;break;case 12:Fe=6;break}return Re.l+=Fe,[Be,De]}var parse_PtgMemErr=parsenoop,parse_PtgMemNoMem=parsenoop,parse_PtgTbl=parsenoop;function parse_PtgElfLoc(Re,Ce,je){return Re.l+=2,[parse_RgceElfLoc(Re)]}function parse_PtgElfNoop(Re){return Re.l+=6,[]}var parse_PtgElfCol=parse_PtgElfLoc,parse_PtgElfColS=parse_PtgElfNoop,parse_PtgElfColSV=parse_PtgElfNoop,parse_PtgElfColV=parse_PtgElfLoc;function parse_PtgElfLel(Re){return Re.l+=2,[parseuint16(Re),Re.read_shift(2)&1]}var parse_PtgElfRadical=parse_PtgElfLoc,parse_PtgElfRadicalLel=parse_PtgElfLel,parse_PtgElfRadicalS=parse_PtgElfNoop,parse_PtgElfRw=parse_PtgElfLoc,parse_PtgElfRwV=parse_PtgElfLoc,PtgListRT=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function parse_PtgList(Re){Re.l+=2;var Ce=Re.read_shift(2),je=Re.read_shift(2),Be=Re.read_shift(4),De=Re.read_shift(2),Fe=Re.read_shift(2),ke=PtgListRT[je>>2&31];return{ixti:Ce,coltype:je&3,rt:ke,idx:Be,c:De,C:Fe}}function parse_PtgSxName(Re){return Re.l+=2,[Re.read_shift(4)]}function parse_PtgSheet(Re,Ce,je){return Re.l+=5,Re.l+=2,Re.l+=je.biff==2?1:4,["PTGSHEET"]}function parse_PtgEndSheet(Re,Ce,je){return Re.l+=je.biff==2?4:5,["PTGENDSHEET"]}function parse_PtgMemAreaN(Re){var Ce=Re.read_shift(1)>>>5&3,je=Re.read_shift(2);return[Ce,je]}function parse_PtgMemNoMemN(Re){var Ce=Re.read_shift(1)>>>5&3,je=Re.read_shift(2);return[Ce,je]}function parse_PtgAttrNoop(Re){return Re.l+=4,[0,0]}var PtgTypes={1:{n:"PtgExp",f:parse_PtgExp},2:{n:"PtgTbl",f:parse_PtgTbl},3:{n:"PtgAdd",f:parseread1},4:{n:"PtgSub",f:parseread1},5:{n:"PtgMul",f:parseread1},6:{n:"PtgDiv",f:parseread1},7:{n:"PtgPower",f:parseread1},8:{n:"PtgConcat",f:parseread1},9:{n:"PtgLt",f:parseread1},10:{n:"PtgLe",f:parseread1},11:{n:"PtgEq",f:parseread1},12:{n:"PtgGe",f:parseread1},13:{n:"PtgGt",f:parseread1},14:{n:"PtgNe",f:parseread1},15:{n:"PtgIsect",f:parseread1},16:{n:"PtgUnion",f:parseread1},17:{n:"PtgRange",f:parseread1},18:{n:"PtgUplus",f:parseread1},19:{n:"PtgUminus",f:parseread1},20:{n:"PtgPercent",f:parseread1},21:{n:"PtgParen",f:parseread1},22:{n:"PtgMissArg",f:parseread1},23:{n:"PtgStr",f:parse_PtgStr},26:{n:"PtgSheet",f:parse_PtgSheet},27:{n:"PtgEndSheet",f:parse_PtgEndSheet},28:{n:"PtgErr",f:parse_PtgErr},29:{n:"PtgBool",f:parse_PtgBool},30:{n:"PtgInt",f:parse_PtgInt},31:{n:"PtgNum",f:parse_PtgNum},32:{n:"PtgArray",f:parse_PtgArray},33:{n:"PtgFunc",f:parse_PtgFunc},34:{n:"PtgFuncVar",f:parse_PtgFuncVar},35:{n:"PtgName",f:parse_PtgName},36:{n:"PtgRef",f:parse_PtgRef},37:{n:"PtgArea",f:parse_PtgArea},38:{n:"PtgMemArea",f:parse_PtgMemArea},39:{n:"PtgMemErr",f:parse_PtgMemErr},40:{n:"PtgMemNoMem",f:parse_PtgMemNoMem},41:{n:"PtgMemFunc",f:parse_PtgMemFunc},42:{n:"PtgRefErr",f:parse_PtgRefErr},43:{n:"PtgAreaErr",f:parse_PtgAreaErr},44:{n:"PtgRefN",f:parse_PtgRefN},45:{n:"PtgAreaN",f:parse_PtgAreaN},46:{n:"PtgMemAreaN",f:parse_PtgMemAreaN},47:{n:"PtgMemNoMemN",f:parse_PtgMemNoMemN},57:{n:"PtgNameX",f:parse_PtgNameX},58:{n:"PtgRef3d",f:parse_PtgRef3d},59:{n:"PtgArea3d",f:parse_PtgArea3d},60:{n:"PtgRefErr3d",f:parse_PtgRefErr3d},61:{n:"PtgAreaErr3d",f:parse_PtgAreaErr3d},255:{}},PtgDupes={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Ptg18={1:{n:"PtgElfLel",f:parse_PtgElfLel},2:{n:"PtgElfRw",f:parse_PtgElfRw},3:{n:"PtgElfCol",f:parse_PtgElfCol},6:{n:"PtgElfRwV",f:parse_PtgElfRwV},7:{n:"PtgElfColV",f:parse_PtgElfColV},10:{n:"PtgElfRadical",f:parse_PtgElfRadical},11:{n:"PtgElfRadicalS",f:parse_PtgElfRadicalS},13:{n:"PtgElfColS",f:parse_PtgElfColS},15:{n:"PtgElfColSV",f:parse_PtgElfColSV},16:{n:"PtgElfRadicalLel",f:parse_PtgElfRadicalLel},25:{n:"PtgList",f:parse_PtgList},29:{n:"PtgSxName",f:parse_PtgSxName},255:{}},Ptg19={0:{n:"PtgAttrNoop",f:parse_PtgAttrNoop},1:{n:"PtgAttrSemi",f:parse_PtgAttrSemi},2:{n:"PtgAttrIf",f:parse_PtgAttrIf},4:{n:"PtgAttrChoose",f:parse_PtgAttrChoose},8:{n:"PtgAttrGoto",f:parse_PtgAttrGoto},16:{n:"PtgAttrSum",f:parse_PtgAttrSum},32:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},33:{n:"PtgAttrBaxcel",f:parse_PtgAttrBaxcel},64:{n:"PtgAttrSpace",f:parse_PtgAttrSpace},65:{n:"PtgAttrSpaceSemi",f:parse_PtgAttrSpaceSemi},128:{n:"PtgAttrIfError",f:parse_PtgAttrIfError},255:{}};function parse_RgbExtra(Re,Ce,je,Be){if(Be.biff<8)return parsenoop(Re,Ce);for(var De=Re.l+Ce,Fe=[],ke=0;ke!==je.length;++ke)switch(je[ke][0]){case"PtgArray":je[ke][1]=parse_PtgExtraArray(Re,0,Be),Fe.push(je[ke][1]);break;case"PtgMemArea":je[ke][2]=parse_PtgExtraMem(Re,je[ke][1],Be),Fe.push(je[ke][2]);break;case"PtgExp":Be&&Be.biff==12&&(je[ke][1][1]=Re.read_shift(4),Fe.push(je[ke][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+je[ke][0]}return Ce=De-Re.l,Ce!==0&&Fe.push(parsenoop(Re,Ce)),Fe}function parse_Rgce(Re,Ce,je){for(var Be=Re.l+Ce,De,Fe,ke=[];Be!=Re.l;)Ce=Be-Re.l,Fe=Re[Re.l],De=PtgTypes[Fe]||PtgTypes[PtgDupes[Fe]],(Fe===24||Fe===25)&&(De=(Fe===24?Ptg18:Ptg19)[Re[Re.l+1]]),!De||!De.f?parsenoop(Re,Ce):ke.push([De.n,De.f(Re,Ce,je)]);return ke}function stringify_array(Re){for(var Ce=[],je=0;je<Re.length;++je){for(var Be=Re[je],De=[],Fe=0;Fe<Be.length;++Fe){var ke=Be[Fe];if(ke)switch(ke[0]){case 2:De.push('"'+ke[1].replace(/"/g,'""')+'"');break;default:De.push(ke[1])}else De.push("")}Ce.push(De.join(","))}return Ce.join(";")}var PtgBinOp={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function formula_quote_sheet_name(Re,Ce){if(!Re&&!(Ce&&Ce.biff<=5&&Ce.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(Re)?"'"+Re+"'":Re}function get_ixti_raw(Re,Ce,je){if(!Re)return"SH33TJSERR0";if(je.biff>8&&(!Re.XTI||!Re.XTI[Ce]))return Re.SheetNames[Ce];if(!Re.XTI)return"SH33TJSERR6";var Be=Re.XTI[Ce];if(je.biff<8)return Ce>1e4&&(Ce-=65536),Ce<0&&(Ce=-Ce),Ce==0?"":Re.XTI[Ce-1];if(!Be)return"SH33TJSERR1";var De="";if(je.biff>8)switch(Re[Be[0]][0]){case 357:return De=Be[1]==-1?"#REF":Re.SheetNames[Be[1]],Be[1]==Be[2]?De:De+":"+Re.SheetNames[Be[2]];case 358:return je.SID!=null?Re.SheetNames[je.SID]:"SH33TJSSAME"+Re[Be[0]][0];case 355:default:return"SH33TJSSRC"+Re[Be[0]][0]}switch(Re[Be[0]][0][0]){case 1025:return De=Be[1]==-1?"#REF":Re.SheetNames[Be[1]]||"SH33TJSERR3",Be[1]==Be[2]?De:De+":"+Re.SheetNames[Be[2]];case 14849:return Re[Be[0]].slice(1).map(function(Fe){return Fe.Name}).join(";;");default:return Re[Be[0]][0][3]?(De=Be[1]==-1?"#REF":Re[Be[0]][0][3][Be[1]]||"SH33TJSERR4",Be[1]==Be[2]?De:De+":"+Re[Be[0]][0][3][Be[2]]):"SH33TJSERR2"}}function get_ixti(Re,Ce,je){var Be=get_ixti_raw(Re,Ce,je);return Be=="#REF"?Be:formula_quote_sheet_name(Be,je)}function stringify_formula(Re,Ce,je,Be,De){var Fe=De&&De.biff||8,ke={s:{c:0,r:0}},Oe=[],Me,Ue,$e,He=0,Qe=0,We,qe="";if(!Re[0]||!Re[0][0])return"";for(var Ke=-1,Xe="",Ye=0,Ze=Re[0].length;Ye<Ze;++Ye){var Je=Re[0][Ye];switch(Je[0]){case"PtgUminus":Oe.push("-"+Oe.pop());break;case"PtgUplus":Oe.push("+"+Oe.pop());break;case"PtgPercent":Oe.push(Oe.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(Me=Oe.pop(),Ue=Oe.pop(),Ke>=0){switch(Re[0][Ke][1][0]){case 0:Xe=fill(" ",Re[0][Ke][1][1]);break;case 1:Xe=fill("\r",Re[0][Ke][1][1]);break;default:if(Xe="",De.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Re[0][Ke][1][0])}Ue=Ue+Xe,Ke=-1}Oe.push(Ue+PtgBinOp[Je[0]]+Me);break;case"PtgIsect":Me=Oe.pop(),Ue=Oe.pop(),Oe.push(Ue+" "+Me);break;case"PtgUnion":Me=Oe.pop(),Ue=Oe.pop(),Oe.push(Ue+","+Me);break;case"PtgRange":Me=Oe.pop(),Ue=Oe.pop(),Oe.push(Ue+":"+Me);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":$e=shift_cell_xls(Je[1][1],ke,De),Oe.push(encode_cell_xls($e,Fe));break;case"PtgRefN":$e=je?shift_cell_xls(Je[1][1],je,De):Je[1][1],Oe.push(encode_cell_xls($e,Fe));break;case"PtgRef3d":He=Je[1][1],$e=shift_cell_xls(Je[1][2],ke,De),qe=get_ixti(Be,He,De),Oe.push(qe+"!"+encode_cell_xls($e,Fe));break;case"PtgFunc":case"PtgFuncVar":var tr=Je[1][0],rr=Je[1][1];tr||(tr=0),tr&=127;var ar=tr==0?[]:Oe.slice(-tr);Oe.length-=tr,rr==="User"&&(rr=ar.shift()),Oe.push(rr+"("+ar.join(",")+")");break;case"PtgBool":Oe.push(Je[1]?"TRUE":"FALSE");break;case"PtgInt":Oe.push(Je[1]);break;case"PtgNum":Oe.push(String(Je[1]));break;case"PtgStr":Oe.push('"'+Je[1].replace(/"/g,'""')+'"');break;case"PtgErr":Oe.push(Je[1]);break;case"PtgAreaN":We=shift_range_xls(Je[1][1],je?{s:je}:ke,De),Oe.push(encode_range_xls(We,De));break;case"PtgArea":We=shift_range_xls(Je[1][1],ke,De),Oe.push(encode_range_xls(We,De));break;case"PtgArea3d":He=Je[1][1],We=Je[1][2],qe=get_ixti(Be,He,De),Oe.push(qe+"!"+encode_range_xls(We,De));break;case"PtgAttrSum":Oe.push("SUM("+Oe.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":Qe=Je[1][2];var ir=(Be.names||[])[Qe-1]||(Be[0]||[])[Qe],nr=ir?ir.Name:"SH33TJSNAME"+String(Qe);nr&&nr.slice(0,6)=="_xlfn."&&!De.xlfn&&(nr=nr.slice(6)),Oe.push(nr);break;case"PtgNameX":var cr=Je[1][1];Qe=Je[1][2];var mr;if(De.biff<=5)cr<0&&(cr=-cr),Be[cr]&&(mr=Be[cr][Qe]);else{var fr="";if(((Be[cr]||[])[0]||[])[0]==14849||(((Be[cr]||[])[0]||[])[0]==1025?Be[cr][Qe]&&Be[cr][Qe].itab>0&&(fr=Be.SheetNames[Be[cr][Qe].itab-1]+"!"):fr=Be.SheetNames[Qe-1]+"!"),Be[cr]&&Be[cr][Qe])fr+=Be[cr][Qe].Name;else if(Be[0]&&Be[0][Qe])fr+=Be[0][Qe].Name;else{var or=(get_ixti_raw(Be,cr,De)||"").split(";;");or[Qe-1]?fr=or[Qe-1]:fr+="SH33TJSERRX"}Oe.push(fr);break}mr||(mr={Name:"SH33TJSERRY"}),Oe.push(mr.Name);break;case"PtgParen":var yr="(",Cr=")";if(Ke>=0){switch(Xe="",Re[0][Ke][1][0]){case 2:yr=fill(" ",Re[0][Ke][1][1])+yr;break;case 3:yr=fill("\r",Re[0][Ke][1][1])+yr;break;case 4:Cr=fill(" ",Re[0][Ke][1][1])+Cr;break;case 5:Cr=fill("\r",Re[0][Ke][1][1])+Cr;break;default:if(De.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Re[0][Ke][1][0])}Ke=-1}Oe.push(yr+Oe.pop()+Cr);break;case"PtgRefErr":Oe.push("#REF!");break;case"PtgRefErr3d":Oe.push("#REF!");break;case"PtgExp":$e={c:Je[1][1],r:Je[1][0]};var jr={c:je.c,r:je.r};if(Be.sharedf[encode_cell($e)]){var vr=Be.sharedf[encode_cell($e)];Oe.push(stringify_formula(vr,ke,jr,Be,De))}else{var Tr=!1;for(Me=0;Me!=Be.arrayf.length;++Me)if(Ue=Be.arrayf[Me],!($e.c<Ue[0].s.c||$e.c>Ue[0].e.c)&&!($e.r<Ue[0].s.r||$e.r>Ue[0].e.r)){Oe.push(stringify_formula(Ue[1],ke,jr,Be,De)),Tr=!0;break}Tr||Oe.push(Je[1])}break;case"PtgArray":Oe.push("{"+stringify_array(Je[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":Ke=Ye;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":Oe.push("");break;case"PtgAreaErr":Oe.push("#REF!");break;case"PtgAreaErr3d":Oe.push("#REF!");break;case"PtgList":Oe.push("Table"+Je[1].idx+"[#"+Je[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(Je));default:throw new Error("Unrecognized Formula Token: "+String(Je))}var wr=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(De.biff!=3&&Ke>=0&&wr.indexOf(Re[0][Ye][0])==-1){Je=Re[0][Ke];var Er=!0;switch(Je[1][0]){case 4:Er=!1;case 0:Xe=fill(" ",Je[1][1]);break;case 5:Er=!1;case 1:Xe=fill("\r",Je[1][1]);break;default:if(Xe="",De.WTF)throw new Error("Unexpected PtgAttrSpaceType "+Je[1][0])}Oe.push((Er?Xe:"")+Oe.pop()+(Er?"":Xe)),Ke=-1}}if(Oe.length>1&&De.WTF)throw new Error("bad formula stack");return Oe[0]}function write_FormulaValue(Re){if(Re==null){var Ce=new_buf(8);return Ce.write_shift(1,3),Ce.write_shift(1,0),Ce.write_shift(2,0),Ce.write_shift(2,0),Ce.write_shift(2,65535),Ce}else if(typeof Re=="number")return write_Xnum(Re);return write_Xnum(0)}function write_Formula(Re,Ce,je,Be,De){var Fe=write_XLSCell(Ce,je,De),ke=write_FormulaValue(Re.v),Oe=new_buf(6),Me=33;Oe.write_shift(2,Me),Oe.write_shift(4,0);for(var Ue=new_buf(Re.bf.length),$e=0;$e<Re.bf.length;++$e)Ue[$e]=Re.bf[$e];var He=bconcat([Fe,ke,Oe,Ue]);return He}function parse_XLSBParsedFormula(Re,Ce,je){var Be=Re.read_shift(4),De=parse_Rgce(Re,Be,je),Fe=Re.read_shift(4),ke=Fe>0?parse_RgbExtra(Re,Fe,De,je):null;return[De,ke]}var parse_XLSBArrayParsedFormula=parse_XLSBParsedFormula,parse_XLSBCellParsedFormula=parse_XLSBParsedFormula,parse_XLSBNameParsedFormula=parse_XLSBParsedFormula,parse_XLSBSharedParsedFormula=parse_XLSBParsedFormula,Cetab={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Ftab={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},FtabArgc={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function csf_to_ods_formula(Re){var Ce="of:="+Re.replace(crefregex,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return Ce.replace(/;/g,"|").replace(/,/g,";")}function csf_to_ods_3D(Re){return Re.replace(/\./,"!")}var browser_has_Map=typeof Map<"u";function get_sst_id(Re,Ce,je){var Be=0,De=Re.length;if(je){if(browser_has_Map?je.has(Ce):Object.prototype.hasOwnProperty.call(je,Ce)){for(var Fe=browser_has_Map?je.get(Ce):je[Ce];Be<Fe.length;++Be)if(Re[Fe[Be]].t===Ce)return Re.Count++,Fe[Be]}}else for(;Be<De;++Be)if(Re[Be].t===Ce)return Re.Count++,Be;return Re[De]={t:Ce},Re.Count++,Re.Unique++,je&&(browser_has_Map?(je.has(Ce)||je.set(Ce,[]),je.get(Ce).push(De)):(Object.prototype.hasOwnProperty.call(je,Ce)||(je[Ce]=[]),je[Ce].push(De))),De}function col_obj_w(Re,Ce){var je={min:Re+1,max:Re+1},Be=-1;return Ce.MDW&&(MDW=Ce.MDW),Ce.width!=null?je.customWidth=1:Ce.wpx!=null?Be=px2char(Ce.wpx):Ce.wch!=null&&(Be=Ce.wch),Be>-1?(je.width=char2width(Be),je.customWidth=1):Ce.width!=null&&(je.width=Ce.width),Ce.hidden&&(je.hidden=!0),Ce.level!=null&&(je.outlineLevel=je.level=Ce.level),je}function default_margins(Re,Ce){if(Re){var je=[.7,.7,.75,.75,.3,.3];Re.left==null&&(Re.left=je[0]),Re.right==null&&(Re.right=je[1]),Re.top==null&&(Re.top=je[2]),Re.bottom==null&&(Re.bottom=je[3]),Re.header==null&&(Re.header=je[4]),Re.footer==null&&(Re.footer=je[5])}}function get_cell_style(Re,Ce,je){var Be=je.revssf[Ce.z!=null?Ce.z:"General"],De=60,Fe=Re.length;if(Be==null&&je.ssf){for(;De<392;++De)if(je.ssf[De]==null){SSF_load(Ce.z,De),je.ssf[De]=Ce.z,je.revssf[Ce.z]=Be=De;break}}for(De=0;De!=Fe;++De)if(Re[De].numFmtId===Be)return De;return Re[Fe]={numFmtId:Be,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},Fe}function check_ws(Re,Ce,je){if(Re&&Re["!ref"]){var Be=safe_decode_range(Re["!ref"]);if(Be.e.c<Be.s.c||Be.e.r<Be.s.r)throw new Error("Bad range ("+je+"): "+Re["!ref"])}}function write_ws_xml_merges(Re){if(Re.length===0)return"";for(var Ce='<mergeCells count="'+Re.length+'">',je=0;je!=Re.length;++je)Ce+='<mergeCell ref="'+encode_range(Re[je])+'"/>';return Ce+"</mergeCells>"}function write_ws_xml_sheetpr(Re,Ce,je,Be,De){var Fe=!1,ke={},Oe=null;if(Be.bookType!=="xlsx"&&Ce.vbaraw){var Me=Ce.SheetNames[je];try{Ce.Workbook&&(Me=Ce.Workbook.Sheets[je].CodeName||Me)}catch{}Fe=!0,ke.codeName=utf8write(escapexml(Me))}if(Re&&Re["!outline"]){var Ue={summaryBelow:1,summaryRight:1};Re["!outline"].above&&(Ue.summaryBelow=0),Re["!outline"].left&&(Ue.summaryRight=0),Oe=(Oe||"")+writextag("outlinePr",null,Ue)}!Fe&&!Oe||(De[De.length]=writextag("sheetPr",Oe,ke))}var sheetprot_deffalse=["objects","scenarios","selectLockedCells","selectUnlockedCells"],sheetprot_deftrue=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function write_ws_xml_protection(Re){var Ce={sheet:1};return sheetprot_deffalse.forEach(function(je){Re[je]!=null&&Re[je]&&(Ce[je]="1")}),sheetprot_deftrue.forEach(function(je){Re[je]!=null&&!Re[je]&&(Ce[je]="0")}),Re.password&&(Ce.password=crypto_CreatePasswordVerifier_Method1(Re.password).toString(16).toUpperCase()),writextag("sheetProtection",null,Ce)}function write_ws_xml_margins(Re){return default_margins(Re),writextag("pageMargins",null,Re)}function write_ws_xml_cols(Re,Ce){for(var je=["<cols>"],Be,De=0;De!=Ce.length;++De)(Be=Ce[De])&&(je[je.length]=writextag("col",null,col_obj_w(De,Be)));return je[je.length]="</cols>",je.join("")}function write_ws_xml_autofilter(Re,Ce,je,Be){var De=typeof Re.ref=="string"?Re.ref:encode_range(Re.ref);je.Workbook||(je.Workbook={Sheets:[]}),je.Workbook.Names||(je.Workbook.Names=[]);var Fe=je.Workbook.Names,ke=decode_range(De);ke.s.r==ke.e.r&&(ke.e.r=decode_range(Ce["!ref"]).e.r,De=encode_range(ke));for(var Oe=0;Oe<Fe.length;++Oe){var Me=Fe[Oe];if(Me.Name=="_xlnm._FilterDatabase"&&Me.Sheet==Be){Me.Ref="'"+je.SheetNames[Be]+"'!"+De;break}}return Oe==Fe.length&&Fe.push({Name:"_xlnm._FilterDatabase",Sheet:Be,Ref:"'"+je.SheetNames[Be]+"'!"+De}),writextag("autoFilter",null,{ref:De})}function write_ws_xml_sheetviews(Re,Ce,je,Be){var De={workbookViewId:"0"};return(((Be||{}).Workbook||{}).Views||[])[0]&&(De.rightToLeft=Be.Workbook.Views[0].RTL?"1":"0"),writextag("sheetViews",writextag("sheetView",null,De),{})}function write_ws_xml_cell(Re,Ce,je,Be){if(Re.c&&je["!comments"].push([Ce,Re.c]),Re.v===void 0&&typeof Re.f!="string"||Re.t==="z"&&!Re.f)return"";var De="",Fe=Re.t,ke=Re.v;if(Re.t!=="z")switch(Re.t){case"b":De=Re.v?"1":"0";break;case"n":De=""+Re.v;break;case"e":De=BErr[Re.v];break;case"d":Be&&Be.cellDates?De=parseDate(Re.v,-1).toISOString():(Re=dup(Re),Re.t="n",De=""+(Re.v=datenum(parseDate(Re.v)))),typeof Re.z>"u"&&(Re.z=table_fmt[14]);break;default:De=Re.v;break}var Oe=writetag("v",escapexml(De)),Me={r:Ce},Ue=get_cell_style(Be.cellXfs,Re,Be);switch(Ue!==0&&(Me.s=Ue),Re.t){case"n":break;case"d":Me.t="d";break;case"b":Me.t="b";break;case"e":Me.t="e";break;case"z":break;default:if(Re.v==null){delete Re.t;break}if(Re.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(Be&&Be.bookSST){Oe=writetag("v",""+get_sst_id(Be.Strings,Re.v,Be.revStrings)),Me.t="s";break}Me.t="str";break}if(Re.t!=Fe&&(Re.t=Fe,Re.v=ke),typeof Re.f=="string"&&Re.f){var $e=Re.F&&Re.F.slice(0,Ce.length)==Ce?{t:"array",ref:Re.F}:null;Oe=writextag("f",escapexml(Re.f),$e)+(Re.v!=null?Oe:"")}return Re.l&&je["!links"].push([Ce,Re.l]),Re.D&&(Me.cm=1),writextag("c",Oe,Me)}function write_ws_xml_data(Re,Ce,je,Be){var De=[],Fe=[],ke=safe_decode_range(Re["!ref"]),Oe="",Me,Ue="",$e=[],He=0,Qe=0,We=Re["!rows"],qe=Array.isArray(Re),Ke={r:Ue},Xe,Ye=-1;for(Qe=ke.s.c;Qe<=ke.e.c;++Qe)$e[Qe]=encode_col(Qe);for(He=ke.s.r;He<=ke.e.r;++He){for(Fe=[],Ue=encode_row(He),Qe=ke.s.c;Qe<=ke.e.c;++Qe){Me=$e[Qe]+Ue;var Ze=qe?(Re[He]||[])[Qe]:Re[Me];Ze!==void 0&&(Oe=write_ws_xml_cell(Ze,Me,Re,Ce))!=null&&Fe.push(Oe)}(Fe.length>0||We&&We[He])&&(Ke={r:Ue},We&&We[He]&&(Xe=We[He],Xe.hidden&&(Ke.hidden=1),Ye=-1,Xe.hpx?Ye=px2pt(Xe.hpx):Xe.hpt&&(Ye=Xe.hpt),Ye>-1&&(Ke.ht=Ye,Ke.customHeight=1),Xe.level&&(Ke.outlineLevel=Xe.level)),De[De.length]=writextag("row",Fe.join(""),Ke))}if(We)for(;He<We.length;++He)We&&We[He]&&(Ke={r:He+1},Xe=We[He],Xe.hidden&&(Ke.hidden=1),Ye=-1,Xe.hpx?Ye=px2pt(Xe.hpx):Xe.hpt&&(Ye=Xe.hpt),Ye>-1&&(Ke.ht=Ye,Ke.customHeight=1),Xe.level&&(Ke.outlineLevel=Xe.level),De[De.length]=writextag("row","",Ke));return De.join("")}function write_ws_xml(Re,Ce,je,Be){var De=[XML_HEADER,writextag("worksheet",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r})],Fe=je.SheetNames[Re],ke=0,Oe="",Me=je.Sheets[Fe];Me==null&&(Me={});var Ue=Me["!ref"]||"A1",$e=safe_decode_range(Ue);if($e.e.c>16383||$e.e.r>1048575){if(Ce.WTF)throw new Error("Range "+Ue+" exceeds format limit A1:XFD1048576");$e.e.c=Math.min($e.e.c,16383),$e.e.r=Math.min($e.e.c,1048575),Ue=encode_range($e)}Be||(Be={}),Me["!comments"]=[];var He=[];write_ws_xml_sheetpr(Me,je,Re,Ce,De),De[De.length]=writextag("dimension",null,{ref:Ue}),De[De.length]=write_ws_xml_sheetviews(Me,Ce,Re,je),Ce.sheetFormat&&(De[De.length]=writextag("sheetFormatPr",null,{defaultRowHeight:Ce.sheetFormat.defaultRowHeight||"16",baseColWidth:Ce.sheetFormat.baseColWidth||"10",outlineLevelRow:Ce.sheetFormat.outlineLevelRow||"7"})),Me["!cols"]!=null&&Me["!cols"].length>0&&(De[De.length]=write_ws_xml_cols(Me,Me["!cols"])),De[ke=De.length]="<sheetData/>",Me["!links"]=[],Me["!ref"]!=null&&(Oe=write_ws_xml_data(Me,Ce),Oe.length>0&&(De[De.length]=Oe)),De.length>ke+1&&(De[De.length]="</sheetData>",De[ke]=De[ke].replace("/>",">")),Me["!protect"]&&(De[De.length]=write_ws_xml_protection(Me["!protect"])),Me["!autofilter"]!=null&&(De[De.length]=write_ws_xml_autofilter(Me["!autofilter"],Me,je,Re)),Me["!merges"]!=null&&Me["!merges"].length>0&&(De[De.length]=write_ws_xml_merges(Me["!merges"]));var Qe=-1,We,qe=-1;return Me["!links"].length>0&&(De[De.length]="<hyperlinks>",Me["!links"].forEach(function(Ke){Ke[1].Target&&(We={ref:Ke[0]},Ke[1].Target.charAt(0)!="#"&&(qe=add_rels(Be,-1,escapexml(Ke[1].Target).replace(/#.*$/,""),RELS.HLINK),We["r:id"]="rId"+qe),(Qe=Ke[1].Target.indexOf("#"))>-1&&(We.location=escapexml(Ke[1].Target.slice(Qe+1))),Ke[1].Tooltip&&(We.tooltip=escapexml(Ke[1].Tooltip)),De[De.length]=writextag("hyperlink",null,We))}),De[De.length]="</hyperlinks>"),delete Me["!links"],Me["!margins"]!=null&&(De[De.length]=write_ws_xml_margins(Me["!margins"])),(!Ce||Ce.ignoreEC||Ce.ignoreEC==null)&&(De[De.length]=writetag("ignoredErrors",writextag("ignoredError",null,{numberStoredAsText:1,sqref:Ue}))),He.length>0&&(qe=add_rels(Be,-1,"../drawings/drawing"+(Re+1)+".xml",RELS.DRAW),De[De.length]=writextag("drawing",null,{"r:id":"rId"+qe}),Me["!drawing"]=He),Me["!comments"].length>0&&(qe=add_rels(Be,-1,"../drawings/vmlDrawing"+(Re+1)+".vml",RELS.VML),De[De.length]=writextag("legacyDrawing",null,{"r:id":"rId"+qe}),Me["!legacy"]=qe),De.length>1&&(De[De.length]="</worksheet>",De[1]=De[1].replace("/>",">")),De.join("")}function parse_BrtRowHdr(Re,Ce){var je={},Be=Re.l+Ce;je.r=Re.read_shift(4),Re.l+=4;var De=Re.read_shift(2);Re.l+=1;var Fe=Re.read_shift(1);return Re.l=Be,Fe&7&&(je.level=Fe&7),Fe&16&&(je.hidden=!0),Fe&32&&(je.hpt=De/20),je}function write_BrtRowHdr(Re,Ce,je){var Be=new_buf(145),De=(je["!rows"]||[])[Re]||{};Be.write_shift(4,Re),Be.write_shift(4,0);var Fe=320;De.hpx?Fe=px2pt(De.hpx)*20:De.hpt&&(Fe=De.hpt*20),Be.write_shift(2,Fe),Be.write_shift(1,0);var ke=0;De.level&&(ke|=De.level),De.hidden&&(ke|=16),(De.hpx||De.hpt)&&(ke|=32),Be.write_shift(1,ke),Be.write_shift(1,0);var Oe=0,Me=Be.l;Be.l+=4;for(var Ue={r:Re,c:0},$e=0;$e<16;++$e)if(!(Ce.s.c>$e+1<<10||Ce.e.c<$e<<10)){for(var He=-1,Qe=-1,We=$e<<10;We<$e+1<<10;++We){Ue.c=We;var qe=Array.isArray(je)?(je[Ue.r]||[])[Ue.c]:je[encode_cell(Ue)];qe&&(He<0&&(He=We),Qe=We)}He<0||(++Oe,Be.write_shift(4,He),Be.write_shift(4,Qe))}var Ke=Be.l;return Be.l=Me,Be.write_shift(4,Oe),Be.l=Ke,Be.length>Be.l?Be.slice(0,Be.l):Be}function write_row_header(Re,Ce,je,Be){var De=write_BrtRowHdr(Be,je,Ce);(De.length>17||(Ce["!rows"]||[])[Be])&&write_record(Re,0,De)}var parse_BrtWsDim=parse_UncheckedRfX,write_BrtWsDim=write_UncheckedRfX;function parse_BrtWsFmtInfo(){}function parse_BrtWsProp(Re,Ce){var je={},Be=Re[Re.l];return++Re.l,je.above=!(Be&64),je.left=!(Be&128),Re.l+=18,je.name=parse_XLSBCodeName(Re),je}function write_BrtWsProp(Re,Ce,je){je==null&&(je=new_buf(84+4*Re.length));var Be=192;Ce&&(Ce.above&&(Be&=-65),Ce.left&&(Be&=-129)),je.write_shift(1,Be);for(var De=1;De<3;++De)je.write_shift(1,0);return write_BrtColor({auto:1},je),je.write_shift(-4,-1),je.write_shift(-4,-1),write_XLSBCodeName(Re,je),je.slice(0,je.l)}function parse_BrtCellBlank(Re){var Ce=parse_XLSBCell(Re);return[Ce]}function write_BrtCellBlank(Re,Ce,je){return je==null&&(je=new_buf(8)),write_XLSBCell(Ce,je)}function parse_BrtShortBlank(Re){var Ce=parse_XLSBShortCell(Re);return[Ce]}function write_BrtShortBlank(Re,Ce,je){return je==null&&(je=new_buf(4)),write_XLSBShortCell(Ce,je)}function parse_BrtCellBool(Re){var Ce=parse_XLSBCell(Re),je=Re.read_shift(1);return[Ce,je,"b"]}function write_BrtCellBool(Re,Ce,je){return je==null&&(je=new_buf(9)),write_XLSBCell(Ce,je),je.write_shift(1,Re.v?1:0),je}function parse_BrtShortBool(Re){var Ce=parse_XLSBShortCell(Re),je=Re.read_shift(1);return[Ce,je,"b"]}function write_BrtShortBool(Re,Ce,je){return je==null&&(je=new_buf(5)),write_XLSBShortCell(Ce,je),je.write_shift(1,Re.v?1:0),je}function parse_BrtCellError(Re){var Ce=parse_XLSBCell(Re),je=Re.read_shift(1);return[Ce,je,"e"]}function write_BrtCellError(Re,Ce,je){return je==null&&(je=new_buf(9)),write_XLSBCell(Ce,je),je.write_shift(1,Re.v),je}function parse_BrtShortError(Re){var Ce=parse_XLSBShortCell(Re),je=Re.read_shift(1);return[Ce,je,"e"]}function write_BrtShortError(Re,Ce,je){return je==null&&(je=new_buf(8)),write_XLSBShortCell(Ce,je),je.write_shift(1,Re.v),je.write_shift(2,0),je.write_shift(1,0),je}function parse_BrtCellIsst(Re){var Ce=parse_XLSBCell(Re),je=Re.read_shift(4);return[Ce,je,"s"]}function write_BrtCellIsst(Re,Ce,je){return je==null&&(je=new_buf(12)),write_XLSBCell(Ce,je),je.write_shift(4,Ce.v),je}function parse_BrtShortIsst(Re){var Ce=parse_XLSBShortCell(Re),je=Re.read_shift(4);return[Ce,je,"s"]}function write_BrtShortIsst(Re,Ce,je){return je==null&&(je=new_buf(8)),write_XLSBShortCell(Ce,je),je.write_shift(4,Ce.v),je}function parse_BrtCellReal(Re){var Ce=parse_XLSBCell(Re),je=parse_Xnum(Re);return[Ce,je,"n"]}function write_BrtCellReal(Re,Ce,je){return je==null&&(je=new_buf(16)),write_XLSBCell(Ce,je),write_Xnum(Re.v,je),je}function parse_BrtShortReal(Re){var Ce=parse_XLSBShortCell(Re),je=parse_Xnum(Re);return[Ce,je,"n"]}function write_BrtShortReal(Re,Ce,je){return je==null&&(je=new_buf(12)),write_XLSBShortCell(Ce,je),write_Xnum(Re.v,je),je}function parse_BrtCellRk(Re){var Ce=parse_XLSBCell(Re),je=parse_RkNumber(Re);return[Ce,je,"n"]}function write_BrtCellRk(Re,Ce,je){return je==null&&(je=new_buf(12)),write_XLSBCell(Ce,je),write_RkNumber(Re.v,je),je}function parse_BrtShortRk(Re){var Ce=parse_XLSBShortCell(Re),je=parse_RkNumber(Re);return[Ce,je,"n"]}function write_BrtShortRk(Re,Ce,je){return je==null&&(je=new_buf(8)),write_XLSBShortCell(Ce,je),write_RkNumber(Re.v,je),je}function parse_BrtCellRString(Re){var Ce=parse_XLSBCell(Re),je=parse_RichStr(Re);return[Ce,je,"is"]}function parse_BrtCellSt(Re){var Ce=parse_XLSBCell(Re),je=parse_XLWideString(Re);return[Ce,je,"str"]}function write_BrtCellSt(Re,Ce,je){return je==null&&(je=new_buf(12+4*Re.v.length)),write_XLSBCell(Ce,je),write_XLWideString(Re.v,je),je.length>je.l?je.slice(0,je.l):je}function parse_BrtShortSt(Re){var Ce=parse_XLSBShortCell(Re),je=parse_XLWideString(Re);return[Ce,je,"str"]}function write_BrtShortSt(Re,Ce,je){return je==null&&(je=new_buf(8+4*Re.v.length)),write_XLSBShortCell(Ce,je),write_XLWideString(Re.v,je),je.length>je.l?je.slice(0,je.l):je}function parse_BrtFmlaBool(Re,Ce,je){var Be=Re.l+Ce,De=parse_XLSBCell(Re);De.r=je["!row"];var Fe=Re.read_shift(1),ke=[De,Fe,"b"];if(je.cellFormula){Re.l+=2;var Oe=parse_XLSBCellParsedFormula(Re,Be-Re.l,je);ke[3]=stringify_formula(Oe,null,De,je.supbooks,je)}else Re.l=Be;return ke}function parse_BrtFmlaError(Re,Ce,je){var Be=Re.l+Ce,De=parse_XLSBCell(Re);De.r=je["!row"];var Fe=Re.read_shift(1),ke=[De,Fe,"e"];if(je.cellFormula){Re.l+=2;var Oe=parse_XLSBCellParsedFormula(Re,Be-Re.l,je);ke[3]=stringify_formula(Oe,null,De,je.supbooks,je)}else Re.l=Be;return ke}function parse_BrtFmlaNum(Re,Ce,je){var Be=Re.l+Ce,De=parse_XLSBCell(Re);De.r=je["!row"];var Fe=parse_Xnum(Re),ke=[De,Fe,"n"];if(je.cellFormula){Re.l+=2;var Oe=parse_XLSBCellParsedFormula(Re,Be-Re.l,je);ke[3]=stringify_formula(Oe,null,De,je.supbooks,je)}else Re.l=Be;return ke}function parse_BrtFmlaString(Re,Ce,je){var Be=Re.l+Ce,De=parse_XLSBCell(Re);De.r=je["!row"];var Fe=parse_XLWideString(Re),ke=[De,Fe,"str"];if(je.cellFormula){Re.l+=2;var Oe=parse_XLSBCellParsedFormula(Re,Be-Re.l,je);ke[3]=stringify_formula(Oe,null,De,je.supbooks,je)}else Re.l=Be;return ke}var parse_BrtMergeCell=parse_UncheckedRfX,write_BrtMergeCell=write_UncheckedRfX;function write_BrtBeginMergeCells(Re,Ce){return Ce==null&&(Ce=new_buf(4)),Ce.write_shift(4,Re),Ce}function parse_BrtHLink(Re,Ce){var je=Re.l+Ce,Be=parse_UncheckedRfX(Re),De=parse_XLNullableWideString(Re),Fe=parse_XLWideString(Re),ke=parse_XLWideString(Re),Oe=parse_XLWideString(Re);Re.l=je;var Me={rfx:Be,relId:De,loc:Fe,display:Oe};return ke&&(Me.Tooltip=ke),Me}function write_BrtHLink(Re,Ce){var je=new_buf(50+4*(Re[1].Target.length+(Re[1].Tooltip||"").length));write_UncheckedRfX({s:decode_cell(Re[0]),e:decode_cell(Re[0])},je),write_RelID("rId"+Ce,je);var Be=Re[1].Target.indexOf("#"),De=Be==-1?"":Re[1].Target.slice(Be+1);return write_XLWideString(De||"",je),write_XLWideString(Re[1].Tooltip||"",je),write_XLWideString("",je),je.slice(0,je.l)}function parse_BrtPane(){}function parse_BrtArrFmla(Re,Ce,je){var Be=Re.l+Ce,De=parse_RfX(Re),Fe=Re.read_shift(1),ke=[De];if(ke[2]=Fe,je.cellFormula){var Oe=parse_XLSBArrayParsedFormula(Re,Be-Re.l,je);ke[1]=Oe}else Re.l=Be;return ke}function parse_BrtShrFmla(Re,Ce,je){var Be=Re.l+Ce,De=parse_UncheckedRfX(Re),Fe=[De];if(je.cellFormula){var ke=parse_XLSBSharedParsedFormula(Re,Be-Re.l,je);Fe[1]=ke,Re.l=Be}else Re.l=Be;return Fe}function write_BrtColInfo(Re,Ce,je){je==null&&(je=new_buf(18));var Be=col_obj_w(Re,Ce);je.write_shift(-4,Re),je.write_shift(-4,Re),je.write_shift(4,(Be.width||10)*256),je.write_shift(4,0);var De=0;return Ce.hidden&&(De|=1),typeof Be.width=="number"&&(De|=2),Ce.level&&(De|=Ce.level<<8),je.write_shift(2,De),je}var BrtMarginKeys=["left","right","top","bottom","header","footer"];function parse_BrtMargins(Re){var Ce={};return BrtMarginKeys.forEach(function(je){Ce[je]=parse_Xnum(Re)}),Ce}function write_BrtMargins(Re,Ce){return Ce==null&&(Ce=new_buf(48)),default_margins(Re),BrtMarginKeys.forEach(function(je){write_Xnum(Re[je],Ce)}),Ce}function parse_BrtBeginWsView(Re){var Ce=Re.read_shift(2);return Re.l+=28,{RTL:Ce&32}}function write_BrtBeginWsView(Re,Ce,je){je==null&&(je=new_buf(30));var Be=924;return(((Ce||{}).Views||[])[0]||{}).RTL&&(Be|=32),je.write_shift(2,Be),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(1,0),je.write_shift(1,0),je.write_shift(2,0),je.write_shift(2,100),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(2,0),je.write_shift(4,0),je}function write_BrtCellIgnoreEC(Re){var Ce=new_buf(24);return Ce.write_shift(4,4),Ce.write_shift(4,1),write_UncheckedRfX(Re,Ce),Ce}function write_BrtSheetProtection(Re,Ce){return Ce==null&&(Ce=new_buf(66)),Ce.write_shift(2,Re.password?crypto_CreatePasswordVerifier_Method1(Re.password):0),Ce.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(je){je[1]?Ce.write_shift(4,Re[je[0]]!=null&&!Re[je[0]]?1:0):Ce.write_shift(4,Re[je[0]]!=null&&Re[je[0]]?0:1)}),Ce}function parse_BrtDVal(){}function parse_BrtDVal14(){}function write_ws_bin_cell(Re,Ce,je,Be,De,Fe,ke){if(Ce.v===void 0)return!1;var Oe="";switch(Ce.t){case"b":Oe=Ce.v?"1":"0";break;case"d":Ce=dup(Ce),Ce.z=Ce.z||table_fmt[14],Ce.v=datenum(parseDate(Ce.v)),Ce.t="n";break;case"n":case"e":Oe=""+Ce.v;break;default:Oe=Ce.v;break}var Me={r:je,c:Be};switch(Me.s=get_cell_style(De.cellXfs,Ce,De),Ce.l&&Fe["!links"].push([encode_cell(Me),Ce.l]),Ce.c&&Fe["!comments"].push([encode_cell(Me),Ce.c]),Ce.t){case"s":case"str":return De.bookSST?(Oe=get_sst_id(De.Strings,Ce.v,De.revStrings),Me.t="s",Me.v=Oe,ke?write_record(Re,18,write_BrtShortIsst(Ce,Me)):write_record(Re,7,write_BrtCellIsst(Ce,Me))):(Me.t="str",ke?write_record(Re,17,write_BrtShortSt(Ce,Me)):write_record(Re,6,write_BrtCellSt(Ce,Me))),!0;case"n":return Ce.v==(Ce.v|0)&&Ce.v>-1e3&&Ce.v<1e3?ke?write_record(Re,13,write_BrtShortRk(Ce,Me)):write_record(Re,2,write_BrtCellRk(Ce,Me)):ke?write_record(Re,16,write_BrtShortReal(Ce,Me)):write_record(Re,5,write_BrtCellReal(Ce,Me)),!0;case"b":return Me.t="b",ke?write_record(Re,15,write_BrtShortBool(Ce,Me)):write_record(Re,4,write_BrtCellBool(Ce,Me)),!0;case"e":return Me.t="e",ke?write_record(Re,14,write_BrtShortError(Ce,Me)):write_record(Re,3,write_BrtCellError(Ce,Me)),!0}return ke?write_record(Re,12,write_BrtShortBlank(Ce,Me)):write_record(Re,1,write_BrtCellBlank(Ce,Me)),!0}function write_CELLTABLE(Re,Ce,je,Be){var De=safe_decode_range(Ce["!ref"]||"A1"),Fe,ke="",Oe=[];write_record(Re,145);var Me=Array.isArray(Ce),Ue=De.e.r;Ce["!rows"]&&(Ue=Math.max(De.e.r,Ce["!rows"].length-1));for(var $e=De.s.r;$e<=Ue;++$e){ke=encode_row($e),write_row_header(Re,Ce,De,$e);var He=!1;if($e<=De.e.r)for(var Qe=De.s.c;Qe<=De.e.c;++Qe){$e===De.s.r&&(Oe[Qe]=encode_col(Qe)),Fe=Oe[Qe]+ke;var We=Me?(Ce[$e]||[])[Qe]:Ce[Fe];if(!We){He=!1;continue}He=write_ws_bin_cell(Re,We,$e,Qe,Be,Ce,He)}}write_record(Re,146)}function write_MERGECELLS(Re,Ce){!Ce||!Ce["!merges"]||(write_record(Re,177,write_BrtBeginMergeCells(Ce["!merges"].length)),Ce["!merges"].forEach(function(je){write_record(Re,176,write_BrtMergeCell(je))}),write_record(Re,178))}function write_COLINFOS(Re,Ce){!Ce||!Ce["!cols"]||(write_record(Re,390),Ce["!cols"].forEach(function(je,Be){je&&write_record(Re,60,write_BrtColInfo(Be,je))}),write_record(Re,391))}function write_IGNOREECS(Re,Ce){!Ce||!Ce["!ref"]||(write_record(Re,648),write_record(Re,649,write_BrtCellIgnoreEC(safe_decode_range(Ce["!ref"]))),write_record(Re,650))}function write_HLINKS(Re,Ce,je){Ce["!links"].forEach(function(Be){if(Be[1].Target){var De=add_rels(je,-1,Be[1].Target.replace(/#.*$/,""),RELS.HLINK);write_record(Re,494,write_BrtHLink(Be,De))}}),delete Ce["!links"]}function write_LEGACYDRAWING(Re,Ce,je,Be){if(Ce["!comments"].length>0){var De=add_rels(Be,-1,"../drawings/vmlDrawing"+(je+1)+".vml",RELS.VML);write_record(Re,551,write_RelID("rId"+De)),Ce["!legacy"]=De}}function write_AUTOFILTER(Re,Ce,je,Be){if(Ce["!autofilter"]){var De=Ce["!autofilter"],Fe=typeof De.ref=="string"?De.ref:encode_range(De.ref);je.Workbook||(je.Workbook={Sheets:[]}),je.Workbook.Names||(je.Workbook.Names=[]);var ke=je.Workbook.Names,Oe=decode_range(Fe);Oe.s.r==Oe.e.r&&(Oe.e.r=decode_range(Ce["!ref"]).e.r,Fe=encode_range(Oe));for(var Me=0;Me<ke.length;++Me){var Ue=ke[Me];if(Ue.Name=="_xlnm._FilterDatabase"&&Ue.Sheet==Be){Ue.Ref="'"+je.SheetNames[Be]+"'!"+Fe;break}}Me==ke.length&&ke.push({Name:"_xlnm._FilterDatabase",Sheet:Be,Ref:"'"+je.SheetNames[Be]+"'!"+Fe}),write_record(Re,161,write_UncheckedRfX(safe_decode_range(Fe))),write_record(Re,162)}}function write_WSVIEWS2(Re,Ce,je){write_record(Re,133),write_record(Re,137,write_BrtBeginWsView(Ce,je)),write_record(Re,138),write_record(Re,134)}function write_SHEETPROTECT(Re,Ce){Ce["!protect"]&&write_record(Re,535,write_BrtSheetProtection(Ce["!protect"]))}function write_ws_bin(Re,Ce,je,Be){var De=buf_array(),Fe=je.SheetNames[Re],ke=je.Sheets[Fe]||{},Oe=Fe;try{je&&je.Workbook&&(Oe=je.Workbook.Sheets[Re].CodeName||Oe)}catch{}var Me=safe_decode_range(ke["!ref"]||"A1");if(Me.e.c>16383||Me.e.r>1048575){if(Ce.WTF)throw new Error("Range "+(ke["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");Me.e.c=Math.min(Me.e.c,16383),Me.e.r=Math.min(Me.e.c,1048575)}return ke["!links"]=[],ke["!comments"]=[],write_record(De,129),(je.vbaraw||ke["!outline"])&&write_record(De,147,write_BrtWsProp(Oe,ke["!outline"])),write_record(De,148,write_BrtWsDim(Me)),write_WSVIEWS2(De,ke,je.Workbook),write_COLINFOS(De,ke),write_CELLTABLE(De,ke,Re,Ce),write_SHEETPROTECT(De,ke),write_AUTOFILTER(De,ke,je,Re),write_MERGECELLS(De,ke),write_HLINKS(De,ke,Be),ke["!margins"]&&write_record(De,476,write_BrtMargins(ke["!margins"])),(!Ce||Ce.ignoreEC||Ce.ignoreEC==null)&&write_IGNOREECS(De,ke),write_LEGACYDRAWING(De,ke,Re,Be),write_record(De,130),De.end()}function parse_BrtCsProp(Re,Ce){Re.l+=10;var je=parse_XLWideString(Re);return{name:je}}var WBPropsDef=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function safe1904(Re){return!Re.Workbook||!Re.Workbook.WBProps?"false":parsexmlbool(Re.Workbook.WBProps.date1904)?"true":"false"}var badchars="][*?/\\".split("");function check_ws_name(Re,Ce){if(Re.length>31)throw new Error("Sheet names cannot exceed 31 chars");var je=!0;return badchars.forEach(function(Be){if(Re.indexOf(Be)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),je}function check_wb_names(Re,Ce,je){Re.forEach(function(Be,De){check_ws_name(Be);for(var Fe=0;Fe<De;++Fe)if(Be==Re[Fe])throw new Error("Duplicate Sheet Name: "+Be);if(je){var ke=Ce&&Ce[De]&&Ce[De].CodeName||Be;if(ke.charCodeAt(0)==95&&ke.length>22)throw new Error("Bad Code Name: Worksheet"+ke)}})}function check_wb(Re){if(!Re||!Re.SheetNames||!Re.Sheets)throw new Error("Invalid Workbook");if(!Re.SheetNames.length)throw new Error("Workbook is empty");var Ce=Re.Workbook&&Re.Workbook.Sheets||[];check_wb_names(Re.SheetNames,Ce,!!Re.vbaraw);for(var je=0;je<Re.SheetNames.length;++je)check_ws(Re.Sheets[Re.SheetNames[je]],Re.SheetNames[je],je)}function write_wb_xml(Re){var Ce=[XML_HEADER];Ce[Ce.length]=writextag("workbook",null,{xmlns:XMLNS_main[0],"xmlns:r":XMLNS.r});var je=Re.Workbook&&(Re.Workbook.Names||[]).length>0,Be={codeName:"ThisWorkbook"};Re.Workbook&&Re.Workbook.WBProps&&(WBPropsDef.forEach(function(Oe){Re.Workbook.WBProps[Oe[0]]!=null&&Re.Workbook.WBProps[Oe[0]]!=Oe[1]&&(Be[Oe[0]]=Re.Workbook.WBProps[Oe[0]])}),Re.Workbook.WBProps.CodeName&&(Be.codeName=Re.Workbook.WBProps.CodeName,delete Be.CodeName)),Ce[Ce.length]=writextag("workbookPr",null,Be);var De=Re.Workbook&&Re.Workbook.Sheets||[],Fe=0;if(De&&De[0]&&De[0].Hidden){for(Ce[Ce.length]="<bookViews>",Fe=0;Fe!=Re.SheetNames.length&&!(!De[Fe]||!De[Fe].Hidden);++Fe);Fe==Re.SheetNames.length&&(Fe=0),Ce[Ce.length]='<workbookView firstSheet="'+Fe+'" activeTab="'+Fe+'"/>',Ce[Ce.length]="</bookViews>"}for(Ce[Ce.length]="<sheets>",Fe=0;Fe!=Re.SheetNames.length;++Fe){var ke={name:escapexml(Re.SheetNames[Fe].slice(0,31))};if(ke.sheetId=""+(Fe+1),ke["r:id"]="rId"+(Fe+1),De[Fe])switch(De[Fe].Hidden){case 1:ke.state="hidden";break;case 2:ke.state="veryHidden";break}Ce[Ce.length]=writextag("sheet",null,ke)}return Ce[Ce.length]="</sheets>",je&&(Ce[Ce.length]="<definedNames>",Re.Workbook&&Re.Workbook.Names&&Re.Workbook.Names.forEach(function(Oe){var Me={name:Oe.Name};Oe.Comment&&(Me.comment=Oe.Comment),Oe.Sheet!=null&&(Me.localSheetId=""+Oe.Sheet),Oe.Hidden&&(Me.hidden="1"),Oe.Ref&&(Ce[Ce.length]=writextag("definedName",escapexml(Oe.Ref),Me))}),Ce[Ce.length]="</definedNames>"),Ce.length>2&&(Ce[Ce.length]="</workbook>",Ce[1]=Ce[1].replace("/>",">")),Ce.join("")}function parse_BrtBundleSh(Re,Ce){var je={};return je.Hidden=Re.read_shift(4),je.iTabID=Re.read_shift(4),je.strRelID=parse_RelID(Re),je.name=parse_XLWideString(Re),je}function write_BrtBundleSh(Re,Ce){return Ce||(Ce=new_buf(127)),Ce.write_shift(4,Re.Hidden),Ce.write_shift(4,Re.iTabID),write_RelID(Re.strRelID,Ce),write_XLWideString(Re.name.slice(0,31),Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function parse_BrtWbProp(Re,Ce){var je={},Be=Re.read_shift(4);je.defaultThemeVersion=Re.read_shift(4);var De=Ce>8?parse_XLWideString(Re):"";return De.length>0&&(je.CodeName=De),je.autoCompressPictures=!!(Be&65536),je.backupFile=!!(Be&64),je.checkCompatibility=!!(Be&4096),je.date1904=!!(Be&1),je.filterPrivacy=!!(Be&8),je.hidePivotFieldList=!!(Be&1024),je.promptedSolutions=!!(Be&16),je.publishItems=!!(Be&2048),je.refreshAllConnections=!!(Be&262144),je.saveExternalLinkValues=!!(Be&128),je.showBorderUnselectedTables=!!(Be&4),je.showInkAnnotation=!!(Be&32),je.showObjects=["all","placeholders","none"][Be>>13&3],je.showPivotChartFilter=!!(Be&32768),je.updateLinks=["userSet","never","always"][Be>>8&3],je}function write_BrtWbProp(Re,Ce){Ce||(Ce=new_buf(72));var je=0;return Re&&Re.filterPrivacy&&(je|=8),Ce.write_shift(4,je),Ce.write_shift(4,0),write_XLSBCodeName(Re&&Re.CodeName||"ThisWorkbook",Ce),Ce.slice(0,Ce.l)}function parse_BrtName(Re,Ce,je){var Be=Re.l+Ce;Re.l+=4,Re.l+=1;var De=Re.read_shift(4),Fe=parse_XLNameWideString(Re),ke=parse_XLSBNameParsedFormula(Re,0,je),Oe=parse_XLNullableWideString(Re);Re.l=Be;var Me={Name:Fe,Ptg:ke};return De<268435455&&(Me.Sheet=De),Oe&&(Me.Comment=Oe),Me}function write_BUNDLESHS(Re,Ce){write_record(Re,143);for(var je=0;je!=Ce.SheetNames.length;++je){var Be=Ce.Workbook&&Ce.Workbook.Sheets&&Ce.Workbook.Sheets[je]&&Ce.Workbook.Sheets[je].Hidden||0,De={Hidden:Be,iTabID:je+1,strRelID:"rId"+(je+1),name:Ce.SheetNames[je]};write_record(Re,156,write_BrtBundleSh(De))}write_record(Re,144)}function write_BrtFileVersion(Re,Ce){Ce||(Ce=new_buf(127));for(var je=0;je!=4;++je)Ce.write_shift(4,0);return write_XLWideString("SheetJS",Ce),write_XLWideString(XLSX.version,Ce),write_XLWideString(XLSX.version,Ce),write_XLWideString("7262",Ce),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function write_BrtBookView(Re,Ce){Ce||(Ce=new_buf(29)),Ce.write_shift(-4,0),Ce.write_shift(-4,460),Ce.write_shift(4,28800),Ce.write_shift(4,17600),Ce.write_shift(4,500),Ce.write_shift(4,Re),Ce.write_shift(4,Re);var je=120;return Ce.write_shift(1,je),Ce.length>Ce.l?Ce.slice(0,Ce.l):Ce}function write_BOOKVIEWS(Re,Ce){if(!(!Ce.Workbook||!Ce.Workbook.Sheets)){for(var je=Ce.Workbook.Sheets,Be=0,De=-1,Fe=-1;Be<je.length;++Be)!je[Be]||!je[Be].Hidden&&De==-1?De=Be:je[Be].Hidden==1&&Fe==-1&&(Fe=Be);Fe>De||(write_record(Re,135),write_record(Re,158,write_BrtBookView(De)),write_record(Re,136))}}function write_wb_bin(Re,Ce){var je=buf_array();return write_record(je,131),write_record(je,128,write_BrtFileVersion()),write_record(je,153,write_BrtWbProp(Re.Workbook&&Re.Workbook.WBProps||null)),write_BOOKVIEWS(je,Re),write_BUNDLESHS(je,Re),write_record(je,132),je.end()}function write_wb(Re,Ce,je){return(Ce.slice(-4)===".bin"?write_wb_bin:write_wb_xml)(Re)}function write_ws(Re,Ce,je,Be,De){return(Ce.slice(-4)===".bin"?write_ws_bin:write_ws_xml)(Re,je,Be,De)}function write_sty(Re,Ce,je){return(Ce.slice(-4)===".bin"?write_sty_bin:write_sty_xml)(Re,je)}function write_sst(Re,Ce,je){return(Ce.slice(-4)===".bin"?write_sst_bin:write_sst_xml)(Re,je)}function write_cmnt(Re,Ce,je){return(Ce.slice(-4)===".bin"?write_comments_bin:write_comments_xml)(Re)}function write_xlmeta(Re){return(Re.slice(-4)===".bin"?write_xlmeta_bin:write_xlmeta_xml)()}function write_props_xlml(Re,Ce){var je=[];return Re.Props&&je.push(xlml_write_docprops(Re.Props,Ce)),Re.Custprops&&je.push(xlml_write_custprops(Re.Props,Re.Custprops)),je.join("")}function write_wb_xlml(){return""}function write_sty_xlml(Re,Ce){var je=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return Ce.cellXfs.forEach(function(Be,De){var Fe=[];Fe.push(writextag("NumberFormat",null,{"ss:Format":escapexml(table_fmt[Be.numFmtId])}));var ke={"ss:ID":"s"+(21+De)};je.push(writextag("Style",Fe.join(""),ke))}),writextag("Styles",je.join(""))}function write_name_xlml(Re){return writextag("NamedRange",null,{"ss:Name":Re.Name,"ss:RefersTo":"="+a1_to_rc(Re.Ref,{r:0,c:0})})}function write_names_xlml(Re){if(!((Re||{}).Workbook||{}).Names)return"";for(var Ce=Re.Workbook.Names,je=[],Be=0;Be<Ce.length;++Be){var De=Ce[Be];De.Sheet==null&&(De.Name.match(/^_xlfn\./)||je.push(write_name_xlml(De)))}return writextag("Names",je.join(""))}function write_ws_xlml_names(Re,Ce,je,Be){if(!Re||!((Be||{}).Workbook||{}).Names)return"";for(var De=Be.Workbook.Names,Fe=[],ke=0;ke<De.length;++ke){var Oe=De[ke];Oe.Sheet==je&&(Oe.Name.match(/^_xlfn\./)||Fe.push(write_name_xlml(Oe)))}return Fe.join("")}function write_ws_xlml_wsopts(Re,Ce,je,Be){if(!Re)return"";var De=[];if(Re["!margins"]&&(De.push("<PageSetup>"),Re["!margins"].header&&De.push(writextag("Header",null,{"x:Margin":Re["!margins"].header})),Re["!margins"].footer&&De.push(writextag("Footer",null,{"x:Margin":Re["!margins"].footer})),De.push(writextag("PageMargins",null,{"x:Bottom":Re["!margins"].bottom||"0.75","x:Left":Re["!margins"].left||"0.7","x:Right":Re["!margins"].right||"0.7","x:Top":Re["!margins"].top||"0.75"})),De.push("</PageSetup>")),Be&&Be.Workbook&&Be.Workbook.Sheets&&Be.Workbook.Sheets[je])if(Be.Workbook.Sheets[je].Hidden)De.push(writextag("Visible",Be.Workbook.Sheets[je].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var Fe=0;Fe<je&&!(Be.Workbook.Sheets[Fe]&&!Be.Workbook.Sheets[Fe].Hidden);++Fe);Fe==je&&De.push("<Selected/>")}return((((Be||{}).Workbook||{}).Views||[])[0]||{}).RTL&&De.push("<DisplayRightToLeft/>"),Re["!protect"]&&(De.push(writetag("ProtectContents","True")),Re["!protect"].objects&&De.push(writetag("ProtectObjects","True")),Re["!protect"].scenarios&&De.push(writetag("ProtectScenarios","True")),Re["!protect"].selectLockedCells!=null&&!Re["!protect"].selectLockedCells?De.push(writetag("EnableSelection","NoSelection")):Re["!protect"].selectUnlockedCells!=null&&!Re["!protect"].selectUnlockedCells&&De.push(writetag("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(ke){Re["!protect"][ke[0]]&&De.push("<"+ke[1]+"/>")})),De.length==0?"":writextag("WorksheetOptions",De.join(""),{xmlns:XLMLNS.x})}function write_ws_xlml_comment(Re){return Re.map(function(Ce){var je=xlml_unfixstr(Ce.t||""),Be=writextag("ss:Data",je,{xmlns:"http://www.w3.org/TR/REC-html40"});return writextag("Comment",Be,{"ss:Author":Ce.a})}).join("")}function write_ws_xlml_cell(Re,Ce,je,Be,De,Fe,ke){if(!Re||Re.v==null&&Re.f==null)return"";var Oe={};if(Re.f&&(Oe["ss:Formula"]="="+escapexml(a1_to_rc(Re.f,ke))),Re.F&&Re.F.slice(0,Ce.length)==Ce){var Me=decode_cell(Re.F.slice(Ce.length+1));Oe["ss:ArrayRange"]="RC:R"+(Me.r==ke.r?"":"["+(Me.r-ke.r)+"]")+"C"+(Me.c==ke.c?"":"["+(Me.c-ke.c)+"]")}if(Re.l&&Re.l.Target&&(Oe["ss:HRef"]=escapexml(Re.l.Target),Re.l.Tooltip&&(Oe["x:HRefScreenTip"]=escapexml(Re.l.Tooltip))),je["!merges"])for(var Ue=je["!merges"],$e=0;$e!=Ue.length;++$e)Ue[$e].s.c!=ke.c||Ue[$e].s.r!=ke.r||(Ue[$e].e.c>Ue[$e].s.c&&(Oe["ss:MergeAcross"]=Ue[$e].e.c-Ue[$e].s.c),Ue[$e].e.r>Ue[$e].s.r&&(Oe["ss:MergeDown"]=Ue[$e].e.r-Ue[$e].s.r));var He="",Qe="";switch(Re.t){case"z":if(!Be.sheetStubs)return"";break;case"n":He="Number",Qe=String(Re.v);break;case"b":He="Boolean",Qe=Re.v?"1":"0";break;case"e":He="Error",Qe=BErr[Re.v];break;case"d":He="DateTime",Qe=new Date(Re.v).toISOString(),Re.z==null&&(Re.z=Re.z||table_fmt[14]);break;case"s":He="String",Qe=escapexlml(Re.v||"");break}var We=get_cell_style(Be.cellXfs,Re,Be);Oe["ss:StyleID"]="s"+(21+We),Oe["ss:Index"]=ke.c+1;var qe=Re.v!=null?Qe:"",Ke=Re.t=="z"?"":'<Data ss:Type="'+He+'">'+qe+"</Data>";return(Re.c||[]).length>0&&(Ke+=write_ws_xlml_comment(Re.c)),writextag("Cell",Ke,Oe)}function write_ws_xlml_row(Re,Ce){var je='<Row ss:Index="'+(Re+1)+'"';return Ce&&(Ce.hpt&&!Ce.hpx&&(Ce.hpx=pt2px(Ce.hpt)),Ce.hpx&&(je+=' ss:AutoFitHeight="0" ss:Height="'+Ce.hpx+'"'),Ce.hidden&&(je+=' ss:Hidden="1"')),je+">"}function write_ws_xlml_table(Re,Ce,je,Be){if(!Re["!ref"])return"";var De=safe_decode_range(Re["!ref"]),Fe=Re["!merges"]||[],ke=0,Oe=[];Re["!cols"]&&Re["!cols"].forEach(function(Xe,Ye){process_col(Xe);var Ze=!!Xe.width,Je=col_obj_w(Ye,Xe),tr={"ss:Index":Ye+1};Ze&&(tr["ss:Width"]=width2px(Je.width)),Xe.hidden&&(tr["ss:Hidden"]="1"),Oe.push(writextag("Column",null,tr))});for(var Me=Array.isArray(Re),Ue=De.s.r;Ue<=De.e.r;++Ue){for(var $e=[write_ws_xlml_row(Ue,(Re["!rows"]||[])[Ue])],He=De.s.c;He<=De.e.c;++He){var Qe=!1;for(ke=0;ke!=Fe.length;++ke)if(!(Fe[ke].s.c>He)&&!(Fe[ke].s.r>Ue)&&!(Fe[ke].e.c<He)&&!(Fe[ke].e.r<Ue)){(Fe[ke].s.c!=He||Fe[ke].s.r!=Ue)&&(Qe=!0);break}if(!Qe){var We={r:Ue,c:He},qe=encode_cell(We),Ke=Me?(Re[Ue]||[])[He]:Re[qe];$e.push(write_ws_xlml_cell(Ke,qe,Re,Ce,je,Be,We))}}$e.push("</Row>"),$e.length>2&&Oe.push($e.join(""))}return Oe.join("")}function write_ws_xlml(Re,Ce,je){var Be=[],De=je.SheetNames[Re],Fe=je.Sheets[De],ke=Fe?write_ws_xlml_names(Fe,Ce,Re,je):"";return ke.length>0&&Be.push("<Names>"+ke+"</Names>"),ke=Fe?write_ws_xlml_table(Fe,Ce,Re,je):"",ke.length>0&&Be.push("<Table>"+ke+"</Table>"),Be.push(write_ws_xlml_wsopts(Fe,Ce,Re,je)),Be.join("")}function write_xlml(Re,Ce){Ce||(Ce={}),Re.SSF||(Re.SSF=dup(table_fmt)),Re.SSF&&(make_ssf(),SSF_load_table(Re.SSF),Ce.revssf=evert_num(Re.SSF),Ce.revssf[Re.SSF[65535]]=0,Ce.ssf=Re.SSF,Ce.cellXfs=[],get_cell_style(Ce.cellXfs,{},{revssf:{General:0}}));var je=[];je.push(write_props_xlml(Re,Ce)),je.push(write_wb_xlml()),je.push(""),je.push("");for(var Be=0;Be<Re.SheetNames.length;++Be)je.push(writextag("Worksheet",write_ws_xlml(Be,Ce,Re),{"ss:Name":escapexml(Re.SheetNames[Be])}));return je[2]=write_sty_xlml(Re,Ce),je[3]=write_names_xlml(Re),XML_HEADER+writextag("Workbook",je.join(""),{xmlns:XLMLNS.ss,"xmlns:o":XLMLNS.o,"xmlns:x":XLMLNS.x,"xmlns:ss":XLMLNS.ss,"xmlns:dt":XLMLNS.dt,"xmlns:html":XLMLNS.html})}var PSCLSID={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function write_xls_props(Re,Ce){var je=[],Be=[],De=[],Fe=0,ke,Oe=evert_key(DocSummaryPIDDSI,"n"),Me=evert_key(SummaryPIDSI,"n");if(Re.Props)for(ke=keys(Re.Props),Fe=0;Fe<ke.length;++Fe)(Object.prototype.hasOwnProperty.call(Oe,ke[Fe])?je:Object.prototype.hasOwnProperty.call(Me,ke[Fe])?Be:De).push([ke[Fe],Re.Props[ke[Fe]]]);if(Re.Custprops)for(ke=keys(Re.Custprops),Fe=0;Fe<ke.length;++Fe)Object.prototype.hasOwnProperty.call(Re.Props||{},ke[Fe])||(Object.prototype.hasOwnProperty.call(Oe,ke[Fe])?je:Object.prototype.hasOwnProperty.call(Me,ke[Fe])?Be:De).push([ke[Fe],Re.Custprops[ke[Fe]]]);var Ue=[];for(Fe=0;Fe<De.length;++Fe)XLSPSSkip.indexOf(De[Fe][0])>-1||PseudoPropsPairs.indexOf(De[Fe][0])>-1||De[Fe][1]!=null&&Ue.push(De[Fe]);Be.length&&CFB.utils.cfb_add(Ce,"/SummaryInformation",write_PropertySetStream(Be,PSCLSID.SI,Me,SummaryPIDSI)),(je.length||Ue.length)&&CFB.utils.cfb_add(Ce,"/DocumentSummaryInformation",write_PropertySetStream(je,PSCLSID.DSI,Oe,DocSummaryPIDDSI,Ue.length?Ue:null,PSCLSID.UDI))}function write_xlscfb(Re,Ce){var je=Ce||{},Be=CFB.utils.cfb_new({root:"R"}),De="/Workbook";switch(je.bookType||"xls"){case"xls":je.bookType="biff8";case"xla":je.bookType||(je.bookType="xla");case"biff8":De="/Workbook",je.biff=8;break;case"biff5":De="/Book",je.biff=5;break;default:throw new Error("invalid type "+je.bookType+" for XLS CFB")}return CFB.utils.cfb_add(Be,De,write_biff_buf(Re,je)),je.biff==8&&(Re.Props||Re.Custprops)&&write_xls_props(Re,Be),je.biff==8&&Re.vbaraw&&fill_vba_xls(Be,CFB.read(Re.vbaraw,{type:typeof Re.vbaraw=="string"?"binary":"buffer"})),Be}var XLSBRecordEnum={0:{f:parse_BrtRowHdr},1:{f:parse_BrtCellBlank},2:{f:parse_BrtCellRk},3:{f:parse_BrtCellError},4:{f:parse_BrtCellBool},5:{f:parse_BrtCellReal},6:{f:parse_BrtCellSt},7:{f:parse_BrtCellIsst},8:{f:parse_BrtFmlaString},9:{f:parse_BrtFmlaNum},10:{f:parse_BrtFmlaBool},11:{f:parse_BrtFmlaError},12:{f:parse_BrtShortBlank},13:{f:parse_BrtShortRk},14:{f:parse_BrtShortError},15:{f:parse_BrtShortBool},16:{f:parse_BrtShortReal},17:{f:parse_BrtShortSt},18:{f:parse_BrtShortIsst},19:{f:parse_RichStr},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:parse_BrtName},40:{},42:{},43:{f:parse_BrtFont},44:{f:parse_BrtFmt},45:{f:parse_BrtFill},46:{f:parse_BrtBorder},47:{f:parse_BrtXF},48:{},49:{f:parse_Int32LE},50:{},51:{f:parse_BrtMdb},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:parse_ColInfo},62:{f:parse_BrtCellRString},63:{f:parse_BrtCalcChainItem$},64:{f:parse_BrtDVal},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:parsenoop,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:parse_BrtBeginWsView},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:parse_BrtWsProp},148:{f:parse_BrtWsDim,p:16},151:{f:parse_BrtPane},152:{},153:{f:parse_BrtWbProp},154:{},155:{},156:{f:parse_BrtBundleSh},157:{},158:{},159:{T:1,f:parse_BrtBeginSst},160:{T:-1},161:{T:1,f:parse_UncheckedRfX},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:parse_BrtMergeCell},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:parse_BrtMdtinfo},336:{T:-1},337:{f:parse_BrtBeginEsmdb,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:parse_RelID},357:{},358:{},359:{},360:{T:1},361:{},362:{f:parse_ExternSheet},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:parse_BrtArrFmla},427:{f:parse_BrtShrFmla},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:parse_BrtMargins},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:parse_BrtWsFmtInfo},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:parse_BrtHLink},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:parse_RelID},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:parse_BrtCommentAuthor},633:{T:1},634:{T:-1},635:{T:1,f:parse_BrtBeginComment},636:{T:-1},637:{f:parse_BrtCommentText},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:parse_BrtCsProp},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:parse_BrtDVal14},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function write_biff_rec(Re,Ce,je,Be){var De=Ce;if(!isNaN(De)){var Fe=Be||(je||[]).length||0,ke=Re.next(4);ke.write_shift(2,De),ke.write_shift(2,Fe),Fe>0&&is_buf(je)&&Re.push(je)}}function write_biff_continue(Re,Ce,je,Be){var De=(je||[]).length||0;if(De<=8224)return write_biff_rec(Re,Ce,je,De);var Fe=Ce;if(!isNaN(Fe)){for(var ke=je.parts||[],Oe=0,Me=0,Ue=0;Ue+(ke[Oe]||8224)<=8224;)Ue+=ke[Oe]||8224,Oe++;var $e=Re.next(4);for($e.write_shift(2,Fe),$e.write_shift(2,Ue),Re.push(je.slice(Me,Me+Ue)),Me+=Ue;Me<De;){for($e=Re.next(4),$e.write_shift(2,60),Ue=0;Ue+(ke[Oe]||8224)<=8224;)Ue+=ke[Oe]||8224,Oe++;$e.write_shift(2,Ue),Re.push(je.slice(Me,Me+Ue)),Me+=Ue}}}function write_BIFF2Cell(Re,Ce,je){return Re||(Re=new_buf(7)),Re.write_shift(2,Ce),Re.write_shift(2,je),Re.write_shift(2,0),Re.write_shift(1,0),Re}function write_BIFF2BERR(Re,Ce,je,Be){var De=new_buf(9);return write_BIFF2Cell(De,Re,Ce),write_Bes(je,Be||"b",De),De}function write_BIFF2LABEL(Re,Ce,je){var Be=new_buf(8+2*je.length);return write_BIFF2Cell(Be,Re,Ce),Be.write_shift(1,je.length),Be.write_shift(je.length,je,"sbcs"),Be.l<Be.length?Be.slice(0,Be.l):Be}function write_ws_biff2_cell(Re,Ce,je,Be){if(Ce.v!=null)switch(Ce.t){case"d":case"n":var De=Ce.t=="d"?datenum(parseDate(Ce.v)):Ce.v;De==(De|0)&&De>=0&&De<65536?write_biff_rec(Re,2,write_BIFF2INT(je,Be,De)):write_biff_rec(Re,3,write_BIFF2NUM(je,Be,De));return;case"b":case"e":write_biff_rec(Re,5,write_BIFF2BERR(je,Be,Ce.v,Ce.t));return;case"s":case"str":write_biff_rec(Re,4,write_BIFF2LABEL(je,Be,(Ce.v||"").slice(0,255)));return}write_biff_rec(Re,1,write_BIFF2Cell(null,je,Be))}function write_ws_biff2(Re,Ce,je,Be){var De=Array.isArray(Ce),Fe=safe_decode_range(Ce["!ref"]||"A1"),ke,Oe="",Me=[];if(Fe.e.c>255||Fe.e.r>16383){if(Be.WTF)throw new Error("Range "+(Ce["!ref"]||"A1")+" exceeds format limit A1:IV16384");Fe.e.c=Math.min(Fe.e.c,255),Fe.e.r=Math.min(Fe.e.c,16383),ke=encode_range(Fe)}for(var Ue=Fe.s.r;Ue<=Fe.e.r;++Ue){Oe=encode_row(Ue);for(var $e=Fe.s.c;$e<=Fe.e.c;++$e){Ue===Fe.s.r&&(Me[$e]=encode_col($e)),ke=Me[$e]+Oe;var He=De?(Ce[Ue]||[])[$e]:Ce[ke];He&&write_ws_biff2_cell(Re,He,Ue,$e)}}}function write_biff2_buf(Re,Ce){for(var je=Ce||{},Be=buf_array(),De=0,Fe=0;Fe<Re.SheetNames.length;++Fe)Re.SheetNames[Fe]==je.sheet&&(De=Fe);if(De==0&&je.sheet&&Re.SheetNames[0]!=je.sheet)throw new Error("Sheet not found: "+je.sheet);return write_biff_rec(Be,je.biff==4?1033:je.biff==3?521:9,write_BOF(Re,16,je)),write_ws_biff2(Be,Re.Sheets[Re.SheetNames[De]],De,je),write_biff_rec(Be,10),Be.end()}function write_FONTS_biff8(Re,Ce,je){write_biff_rec(Re,49,write_Font({sz:12,name:"Arial"},je))}function write_FMTS_biff8(Re,Ce,je){Ce&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(Be){for(var De=Be[0];De<=Be[1];++De)Ce[De]!=null&&write_biff_rec(Re,1054,write_Format(De,Ce[De],je))})}function write_FEAT(Re,Ce){var je=new_buf(19);je.write_shift(4,2151),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(2,3),je.write_shift(1,1),je.write_shift(4,0),write_biff_rec(Re,2151,je),je=new_buf(39),je.write_shift(4,2152),je.write_shift(4,0),je.write_shift(4,0),je.write_shift(2,3),je.write_shift(1,0),je.write_shift(4,0),je.write_shift(2,1),je.write_shift(4,4),je.write_shift(2,0),write_Ref8U(safe_decode_range(Ce["!ref"]||"A1"),je),je.write_shift(4,4),write_biff_rec(Re,2152,je)}function write_CELLXFS_biff8(Re,Ce){for(var je=0;je<16;++je)write_biff_rec(Re,224,write_XF({numFmtId:0,style:!0},0,Ce));Ce.cellXfs.forEach(function(Be){write_biff_rec(Re,224,write_XF(Be,0,Ce))})}function write_ws_biff8_hlinks(Re,Ce){for(var je=0;je<Ce["!links"].length;++je){var Be=Ce["!links"][je];write_biff_rec(Re,440,write_HLink(Be)),Be[1].Tooltip&&write_biff_rec(Re,2048,write_HLinkTooltip(Be))}delete Ce["!links"]}function write_ws_cols_biff8(Re,Ce){if(Ce){var je=0;Ce.forEach(function(Be,De){++je<=256&&Be&&write_biff_rec(Re,125,write_ColInfo(col_obj_w(De,Be),De))})}}function write_ws_biff8_cell(Re,Ce,je,Be,De){var Fe=16+get_cell_style(De.cellXfs,Ce,De);if(Ce.v==null&&!Ce.bf){write_biff_rec(Re,513,write_XLSCell(je,Be,Fe));return}if(Ce.bf)write_biff_rec(Re,6,write_Formula(Ce,je,Be,De,Fe));else switch(Ce.t){case"d":case"n":var ke=Ce.t=="d"?datenum(parseDate(Ce.v)):Ce.v;write_biff_rec(Re,515,write_Number(je,Be,ke,Fe));break;case"b":case"e":write_biff_rec(Re,517,write_BoolErr(je,Be,Ce.v,Fe,De,Ce.t));break;case"s":case"str":if(De.bookSST){var Oe=get_sst_id(De.Strings,Ce.v,De.revStrings);write_biff_rec(Re,253,write_LabelSst(je,Be,Oe,Fe))}else write_biff_rec(Re,516,write_Label(je,Be,(Ce.v||"").slice(0,255),Fe,De));break;default:write_biff_rec(Re,513,write_XLSCell(je,Be,Fe))}}function write_ws_biff8(Re,Ce,je){var Be=buf_array(),De=je.SheetNames[Re],Fe=je.Sheets[De]||{},ke=(je||{}).Workbook||{},Oe=(ke.Sheets||[])[Re]||{},Me=Array.isArray(Fe),Ue=Ce.biff==8,$e,He="",Qe=[],We=safe_decode_range(Fe["!ref"]||"A1"),qe=Ue?65536:16384;if(We.e.c>255||We.e.r>=qe){if(Ce.WTF)throw new Error("Range "+(Fe["!ref"]||"A1")+" exceeds format limit A1:IV16384");We.e.c=Math.min(We.e.c,255),We.e.r=Math.min(We.e.c,qe-1)}write_biff_rec(Be,2057,write_BOF(je,16,Ce)),write_biff_rec(Be,13,writeuint16(1)),write_biff_rec(Be,12,writeuint16(100)),write_biff_rec(Be,15,writebool(!0)),write_biff_rec(Be,17,writebool(!1)),write_biff_rec(Be,16,write_Xnum(.001)),write_biff_rec(Be,95,writebool(!0)),write_biff_rec(Be,42,writebool(!1)),write_biff_rec(Be,43,writebool(!1)),write_biff_rec(Be,130,writeuint16(1)),write_biff_rec(Be,128,write_Guts()),write_biff_rec(Be,131,writebool(!1)),write_biff_rec(Be,132,writebool(!1)),Ue&&write_ws_cols_biff8(Be,Fe["!cols"]),write_biff_rec(Be,512,write_Dimensions(We,Ce)),Ue&&(Fe["!links"]=[]);for(var Ke=We.s.r;Ke<=We.e.r;++Ke){He=encode_row(Ke);for(var Xe=We.s.c;Xe<=We.e.c;++Xe){Ke===We.s.r&&(Qe[Xe]=encode_col(Xe)),$e=Qe[Xe]+He;var Ye=Me?(Fe[Ke]||[])[Xe]:Fe[$e];Ye&&(write_ws_biff8_cell(Be,Ye,Ke,Xe,Ce),Ue&&Ye.l&&Fe["!links"].push([$e,Ye.l]))}}var Ze=Oe.CodeName||Oe.name||De;return Ue&&write_biff_rec(Be,574,write_Window2((ke.Views||[])[0])),Ue&&(Fe["!merges"]||[]).length&&write_biff_rec(Be,229,write_MergeCells(Fe["!merges"])),Ue&&write_ws_biff8_hlinks(Be,Fe),write_biff_rec(Be,442,write_XLUnicodeString(Ze)),Ue&&write_FEAT(Be,Fe),write_biff_rec(Be,10),Be.end()}function write_biff8_global(Re,Ce,je){var Be=buf_array(),De=(Re||{}).Workbook||{},Fe=De.Sheets||[],ke=De.WBProps||{},Oe=je.biff==8,Me=je.biff==5;if(write_biff_rec(Be,2057,write_BOF(Re,5,je)),je.bookType=="xla"&&write_biff_rec(Be,135),write_biff_rec(Be,225,Oe?writeuint16(1200):null),write_biff_rec(Be,193,writezeroes(2)),Me&&write_biff_rec(Be,191),Me&&write_biff_rec(Be,192),write_biff_rec(Be,226),write_biff_rec(Be,92,write_WriteAccess("SheetJS",je)),write_biff_rec(Be,66,writeuint16(Oe?1200:1252)),Oe&&write_biff_rec(Be,353,writeuint16(0)),Oe&&write_biff_rec(Be,448),write_biff_rec(Be,317,write_RRTabId(Re.SheetNames.length)),Oe&&Re.vbaraw&&write_biff_rec(Be,211),Oe&&Re.vbaraw){var Ue=ke.CodeName||"ThisWorkbook";write_biff_rec(Be,442,write_XLUnicodeString(Ue))}write_biff_rec(Be,156,writeuint16(17)),write_biff_rec(Be,25,writebool(!1)),write_biff_rec(Be,18,writebool(!1)),write_biff_rec(Be,19,writeuint16(0)),Oe&&write_biff_rec(Be,431,writebool(!1)),Oe&&write_biff_rec(Be,444,writeuint16(0)),write_biff_rec(Be,61,write_Window1()),write_biff_rec(Be,64,writebool(!1)),write_biff_rec(Be,141,writeuint16(0)),write_biff_rec(Be,34,writebool(safe1904(Re)=="true")),write_biff_rec(Be,14,writebool(!0)),Oe&&write_biff_rec(Be,439,writebool(!1)),write_biff_rec(Be,218,writeuint16(0)),write_FONTS_biff8(Be,Re,je),write_FMTS_biff8(Be,Re.SSF,je),write_CELLXFS_biff8(Be,je),Oe&&write_biff_rec(Be,352,writebool(!1));var $e=Be.end(),He=buf_array();Oe&&write_biff_rec(He,140,write_Country()),Oe&&je.Strings&&write_biff_continue(He,252,write_SST(je.Strings)),write_biff_rec(He,10);var Qe=He.end(),We=buf_array(),qe=0,Ke=0;for(Ke=0;Ke<Re.SheetNames.length;++Ke)qe+=(Oe?12:11)+(Oe?2:1)*Re.SheetNames[Ke].length;var Xe=$e.length+qe+Qe.length;for(Ke=0;Ke<Re.SheetNames.length;++Ke){var Ye=Fe[Ke]||{};write_biff_rec(We,133,write_BoundSheet8({pos:Xe,hs:Ye.Hidden||0,dt:0,name:Re.SheetNames[Ke]},je)),Xe+=Ce[Ke].length}var Ze=We.end();if(qe!=Ze.length)throw new Error("BS8 "+qe+" != "+Ze.length);var Je=[];return $e.length&&Je.push($e),Ze.length&&Je.push(Ze),Qe.length&&Je.push(Qe),bconcat(Je)}function write_biff8_buf(Re,Ce){var je=Ce||{},Be=[];Re&&!Re.SSF&&(Re.SSF=dup(table_fmt)),Re&&Re.SSF&&(make_ssf(),SSF_load_table(Re.SSF),je.revssf=evert_num(Re.SSF),je.revssf[Re.SSF[65535]]=0,je.ssf=Re.SSF),je.Strings=[],je.Strings.Count=0,je.Strings.Unique=0,fix_write_opts(je),je.cellXfs=[],get_cell_style(je.cellXfs,{},{revssf:{General:0}}),Re.Props||(Re.Props={});for(var De=0;De<Re.SheetNames.length;++De)Be[Be.length]=write_ws_biff8(De,je,Re);return Be.unshift(write_biff8_global(Re,Be,je)),bconcat(Be)}function write_biff_buf(Re,Ce){for(var je=0;je<=Re.SheetNames.length;++je){var Be=Re.Sheets[Re.SheetNames[je]];if(!(!Be||!Be["!ref"])){var De=decode_range(Be["!ref"]);De.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+Re.SheetNames[je]+"' extends beyond column IV (255).  Data may be lost.")}}var Fe=Ce||{};switch(Fe.biff||2){case 8:case 5:return write_biff8_buf(Re,Ce);case 4:case 3:case 2:return write_biff2_buf(Re,Ce)}throw new Error("invalid type "+Fe.bookType+" for BIFF")}function make_html_row(Re,Ce,je,Be){for(var De=Re["!merges"]||[],Fe=[],ke=Ce.s.c;ke<=Ce.e.c;++ke){for(var Oe=0,Me=0,Ue=0;Ue<De.length;++Ue)if(!(De[Ue].s.r>je||De[Ue].s.c>ke)&&!(De[Ue].e.r<je||De[Ue].e.c<ke)){if(De[Ue].s.r<je||De[Ue].s.c<ke){Oe=-1;break}Oe=De[Ue].e.r-De[Ue].s.r+1,Me=De[Ue].e.c-De[Ue].s.c+1;break}if(!(Oe<0)){var $e=encode_cell({r:je,c:ke}),He=Be.dense?(Re[je]||[])[ke]:Re[$e],Qe=He&&He.v!=null&&(He.h||escapehtml(He.w||(format_cell(He),He.w)||""))||"",We={};Oe>1&&(We.rowspan=Oe),Me>1&&(We.colspan=Me),Be.editable?Qe='<span contenteditable="true">'+Qe+"</span>":He&&(We["data-t"]=He&&He.t||"z",He.v!=null&&(We["data-v"]=He.v),He.z!=null&&(We["data-z"]=He.z),He.l&&(He.l.Target||"#").charAt(0)!="#"&&(Qe='<a href="'+He.l.Target+'">'+Qe+"</a>")),We.id=(Be.id||"sjs")+"-"+$e,Fe.push(writextag("td",Qe,We))}}var qe="<tr>";return qe+Fe.join("")+"</tr>"}var HTML_BEGIN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',HTML_END="</body></html>";function make_html_preamble(Re,Ce,je){var Be=[];return Be.join("")+"<table"+(je&&je.id?' id="'+je.id+'"':"")+">"}function sheet_to_html(Re,Ce){var je=Ce||{},Be=je.header!=null?je.header:HTML_BEGIN,De=je.footer!=null?je.footer:HTML_END,Fe=[Be],ke=decode_range(Re["!ref"]);je.dense=Array.isArray(Re),Fe.push(make_html_preamble(Re,ke,je));for(var Oe=ke.s.r;Oe<=ke.e.r;++Oe)Fe.push(make_html_row(Re,ke,Oe,je));return Fe.push("</table>"+De),Fe.join("")}function sheet_add_dom(Re,Ce,je){var Be=je||{},De=0,Fe=0;if(Be.origin!=null)if(typeof Be.origin=="number")De=Be.origin;else{var ke=typeof Be.origin=="string"?decode_cell(Be.origin):Be.origin;De=ke.r,Fe=ke.c}var Oe=Ce.getElementsByTagName("tr"),Me=Math.min(Be.sheetRows||1e7,Oe.length),Ue={s:{r:0,c:0},e:{r:De,c:Fe}};if(Re["!ref"]){var $e=decode_range(Re["!ref"]);Ue.s.r=Math.min(Ue.s.r,$e.s.r),Ue.s.c=Math.min(Ue.s.c,$e.s.c),Ue.e.r=Math.max(Ue.e.r,$e.e.r),Ue.e.c=Math.max(Ue.e.c,$e.e.c),De==-1&&(Ue.e.r=De=$e.e.r+1)}var He=[],Qe=0,We=Re["!rows"]||(Re["!rows"]=[]),qe=0,Ke=0,Xe=0,Ye=0,Ze=0,Je=0;for(Re["!cols"]||(Re["!cols"]=[]);qe<Oe.length&&Ke<Me;++qe){var tr=Oe[qe];if(is_dom_element_hidden(tr)){if(Be.display)continue;We[Ke]={hidden:!0}}var rr=tr.children;for(Xe=Ye=0;Xe<rr.length;++Xe){var ar=rr[Xe];if(!(Be.display&&is_dom_element_hidden(ar))){var ir=ar.hasAttribute("data-v")?ar.getAttribute("data-v"):ar.hasAttribute("v")?ar.getAttribute("v"):htmldecode(ar.innerHTML),nr=ar.getAttribute("data-z")||ar.getAttribute("z");for(Qe=0;Qe<He.length;++Qe){var cr=He[Qe];cr.s.c==Ye+Fe&&cr.s.r<Ke+De&&Ke+De<=cr.e.r&&(Ye=cr.e.c+1-Fe,Qe=-1)}Je=+ar.getAttribute("colspan")||1,((Ze=+ar.getAttribute("rowspan")||1)>1||Je>1)&&He.push({s:{r:Ke+De,c:Ye+Fe},e:{r:Ke+De+(Ze||1)-1,c:Ye+Fe+(Je||1)-1}});var mr={t:"s",v:ir},fr=ar.getAttribute("data-t")||ar.getAttribute("t")||"";ir!=null&&(ir.length==0?mr.t=fr||"z":Be.raw||ir.trim().length==0||fr=="s"||(ir==="TRUE"?mr={t:"b",v:!0}:ir==="FALSE"?mr={t:"b",v:!1}:isNaN(fuzzynum(ir))?isNaN(fuzzydate(ir).getDate())||(mr={t:"d",v:parseDate(ir)},Be.cellDates||(mr={t:"n",v:datenum(mr.v)}),mr.z=Be.dateNF||table_fmt[14]):mr={t:"n",v:fuzzynum(ir)})),mr.z===void 0&&nr!=null&&(mr.z=nr);var or="",yr=ar.getElementsByTagName("A");if(yr&&yr.length)for(var Cr=0;Cr<yr.length&&!(yr[Cr].hasAttribute("href")&&(or=yr[Cr].getAttribute("href"),or.charAt(0)!="#"));++Cr);or&&or.charAt(0)!="#"&&(mr.l={Target:or}),Be.dense?(Re[Ke+De]||(Re[Ke+De]=[]),Re[Ke+De][Ye+Fe]=mr):Re[encode_cell({c:Ye+Fe,r:Ke+De})]=mr,Ue.e.c<Ye+Fe&&(Ue.e.c=Ye+Fe),Ye+=Je}}++Ke}return He.length&&(Re["!merges"]=(Re["!merges"]||[]).concat(He)),Ue.e.r=Math.max(Ue.e.r,Ke-1+De),Re["!ref"]=encode_range(Ue),Ke>=Me&&(Re["!fullref"]=encode_range((Ue.e.r=Oe.length-qe+Ke-1+De,Ue))),Re}function parse_dom_table(Re,Ce){var je=Ce||{},Be=je.dense?[]:{};return sheet_add_dom(Be,Re,Ce)}function table_to_book(Re,Ce){return sheet_to_workbook(parse_dom_table(Re,Ce),Ce)}function is_dom_element_hidden(Re){var Ce="",je=get_get_computed_style_function(Re);return je&&(Ce=je(Re).getPropertyValue("display")),Ce||(Ce=Re.style&&Re.style.display),Ce==="none"}function get_get_computed_style_function(Re){return Re.ownerDocument.defaultView&&typeof Re.ownerDocument.defaultView.getComputedStyle=="function"?Re.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var write_styles_ods=(function(){var Re=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),Ce="<office:document-styles "+wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+Re+"</office:document-styles>";return function(){return XML_HEADER+Ce}})(),write_content_ods=(function(){var Re=function(Fe){return escapexml(Fe).replace(/  +/g,function(ke){return'<text:s text:c="'+ke.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},Ce=`          <table:table-cell />
`,je=`          <table:covered-table-cell/>
`,Be=function(Fe,ke,Oe){var Me=[];Me.push('      <table:table table:name="'+escapexml(ke.SheetNames[Oe])+`" table:style-name="ta1">
`);var Ue=0,$e=0,He=decode_range(Fe["!ref"]||"A1"),Qe=Fe["!merges"]||[],We=0,qe=Array.isArray(Fe);if(Fe["!cols"])for($e=0;$e<=He.e.c;++$e)Me.push("        <table:table-column"+(Fe["!cols"][$e]?' table:style-name="co'+Fe["!cols"][$e].ods+'"':"")+`></table:table-column>
`);var Ke="",Xe=Fe["!rows"]||[];for(Ue=0;Ue<He.s.r;++Ue)Ke=Xe[Ue]?' table:style-name="ro'+Xe[Ue].ods+'"':"",Me.push("        <table:table-row"+Ke+`></table:table-row>
`);for(;Ue<=He.e.r;++Ue){for(Ke=Xe[Ue]?' table:style-name="ro'+Xe[Ue].ods+'"':"",Me.push("        <table:table-row"+Ke+`>
`),$e=0;$e<He.s.c;++$e)Me.push(Ce);for(;$e<=He.e.c;++$e){var Ye=!1,Ze={},Je="";for(We=0;We!=Qe.length;++We)if(!(Qe[We].s.c>$e)&&!(Qe[We].s.r>Ue)&&!(Qe[We].e.c<$e)&&!(Qe[We].e.r<Ue)){(Qe[We].s.c!=$e||Qe[We].s.r!=Ue)&&(Ye=!0),Ze["table:number-columns-spanned"]=Qe[We].e.c-Qe[We].s.c+1,Ze["table:number-rows-spanned"]=Qe[We].e.r-Qe[We].s.r+1;break}if(Ye){Me.push(je);continue}var tr=encode_cell({r:Ue,c:$e}),rr=qe?(Fe[Ue]||[])[$e]:Fe[tr];if(rr&&rr.f&&(Ze["table:formula"]=escapexml(csf_to_ods_formula(rr.f)),rr.F&&rr.F.slice(0,tr.length)==tr)){var ar=decode_range(rr.F);Ze["table:number-matrix-columns-spanned"]=ar.e.c-ar.s.c+1,Ze["table:number-matrix-rows-spanned"]=ar.e.r-ar.s.r+1}if(!rr){Me.push(Ce);continue}switch(rr.t){case"b":Je=rr.v?"TRUE":"FALSE",Ze["office:value-type"]="boolean",Ze["office:boolean-value"]=rr.v?"true":"false";break;case"n":Je=rr.w||String(rr.v||0),Ze["office:value-type"]="float",Ze["office:value"]=rr.v||0;break;case"s":case"str":Je=rr.v==null?"":rr.v,Ze["office:value-type"]="string";break;case"d":Je=rr.w||parseDate(rr.v).toISOString(),Ze["office:value-type"]="date",Ze["office:date-value"]=parseDate(rr.v).toISOString(),Ze["table:style-name"]="ce1";break;default:Me.push(Ce);continue}var ir=Re(Je);if(rr.l&&rr.l.Target){var nr=rr.l.Target;nr=nr.charAt(0)=="#"?"#"+csf_to_ods_3D(nr.slice(1)):nr,nr.charAt(0)!="#"&&!nr.match(/^\w+:/)&&(nr="../"+nr),ir=writextag("text:a",ir,{"xlink:href":nr.replace(/&/g,"&amp;")})}Me.push("          "+writextag("table:table-cell",writextag("text:p",ir,{}),Ze)+`
`)}Me.push(`        </table:table-row>
`)}return Me.push(`      </table:table>
`),Me.join("")},De=function(Fe,ke){Fe.push(` <office:automatic-styles>
`),Fe.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),Fe.push(`   <number:month number:style="long"/>
`),Fe.push(`   <number:text>/</number:text>
`),Fe.push(`   <number:day number:style="long"/>
`),Fe.push(`   <number:text>/</number:text>
`),Fe.push(`   <number:year/>
`),Fe.push(`  </number:date-style>
`);var Oe=0;ke.SheetNames.map(function(Ue){return ke.Sheets[Ue]}).forEach(function(Ue){if(Ue&&Ue["!cols"]){for(var $e=0;$e<Ue["!cols"].length;++$e)if(Ue["!cols"][$e]){var He=Ue["!cols"][$e];if(He.width==null&&He.wpx==null&&He.wch==null)continue;process_col(He),He.ods=Oe;var Qe=Ue["!cols"][$e].wpx+"px";Fe.push('  <style:style style:name="co'+Oe+`" style:family="table-column">
`),Fe.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+Qe+`"/>
`),Fe.push(`  </style:style>
`),++Oe}}});var Me=0;ke.SheetNames.map(function(Ue){return ke.Sheets[Ue]}).forEach(function(Ue){if(Ue&&Ue["!rows"]){for(var $e=0;$e<Ue["!rows"].length;++$e)if(Ue["!rows"][$e]){Ue["!rows"][$e].ods=Me;var He=Ue["!rows"][$e].hpx+"px";Fe.push('  <style:style style:name="ro'+Me+`" style:family="table-row">
`),Fe.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+He+`"/>
`),Fe.push(`  </style:style>
`),++Me}}}),Fe.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),Fe.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),Fe.push(`  </style:style>
`),Fe.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),Fe.push(` </office:automatic-styles>
`)};return function(ke,Oe){var Me=[XML_HEADER],Ue=wxt_helper({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),$e=wxt_helper({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});Oe.bookType=="fods"?(Me.push("<office:document"+Ue+$e+`>
`),Me.push(write_meta_ods().replace(/office:document-meta/g,"office:meta"))):Me.push("<office:document-content"+Ue+`>
`),De(Me,ke),Me.push(`  <office:body>
`),Me.push(`    <office:spreadsheet>
`);for(var He=0;He!=ke.SheetNames.length;++He)Me.push(Be(ke.Sheets[ke.SheetNames[He]],ke,He));return Me.push(`    </office:spreadsheet>
`),Me.push(`  </office:body>
`),Oe.bookType=="fods"?Me.push("</office:document>"):Me.push("</office:document-content>"),Me.join("")}})();function write_ods(Re,Ce){if(Ce.bookType=="fods")return write_content_ods(Re,Ce);var je=zip_new(),Be="",De=[],Fe=[];return Be="mimetype",zip_add_file(je,Be,"application/vnd.oasis.opendocument.spreadsheet"),Be="content.xml",zip_add_file(je,Be,write_content_ods(Re,Ce)),De.push([Be,"text/xml"]),Fe.push([Be,"ContentFile"]),Be="styles.xml",zip_add_file(je,Be,write_styles_ods(Re,Ce)),De.push([Be,"text/xml"]),Fe.push([Be,"StylesFile"]),Be="meta.xml",zip_add_file(je,Be,XML_HEADER+write_meta_ods()),De.push([Be,"text/xml"]),Fe.push([Be,"MetadataFile"]),Be="manifest.rdf",zip_add_file(je,Be,write_rdf(Fe)),De.push([Be,"application/rdf+xml"]),Be="META-INF/manifest.xml",zip_add_file(je,Be,write_manifest(De)),je}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function u8_to_dataview(Re){return new DataView(Re.buffer,Re.byteOffset,Re.byteLength)}function stru8(Re){return typeof TextEncoder<"u"?new TextEncoder().encode(Re):s2a(utf8write(Re))}function u8contains(Re,Ce){e:for(var je=0;je<=Re.length-Ce.length;++je){for(var Be=0;Be<Ce.length;++Be)if(Re[je+Be]!=Ce[Be])continue e;return!0}return!1}function u8concat(Re){var Ce=Re.reduce(function(De,Fe){return De+Fe.length},0),je=new Uint8Array(Ce),Be=0;return Re.forEach(function(De){je.set(De,Be),Be+=De.length}),je}function writeDecimal128LE(Re,Ce,je){var Be=Math.floor(je==0?0:Math.LOG10E*Math.log(Math.abs(je)))+6176-20,De=je/Math.pow(10,Be-6176);Re[Ce+15]|=Be>>7,Re[Ce+14]|=(Be&127)<<1;for(var Fe=0;De>=1;++Fe,De/=256)Re[Ce+Fe]=De&255;Re[Ce+15]|=je>=0?0:128}function parse_varint49(Re,Ce){var je=Ce?Ce[0]:0,Be=Re[je]&127;e:if(Re[je++]>=128&&(Be|=(Re[je]&127)<<7,Re[je++]<128||(Be|=(Re[je]&127)<<14,Re[je++]<128)||(Be|=(Re[je]&127)<<21,Re[je++]<128)||(Be+=(Re[je]&127)*Math.pow(2,28),++je,Re[je++]<128)||(Be+=(Re[je]&127)*Math.pow(2,35),++je,Re[je++]<128)||(Be+=(Re[je]&127)*Math.pow(2,42),++je,Re[je++]<128)))break e;return Ce&&(Ce[0]=je),Be}function write_varint49(Re){var Ce=new Uint8Array(7);Ce[0]=Re&127;var je=1;e:if(Re>127){if(Ce[je-1]|=128,Ce[je]=Re>>7&127,++je,Re<=16383||(Ce[je-1]|=128,Ce[je]=Re>>14&127,++je,Re<=2097151)||(Ce[je-1]|=128,Ce[je]=Re>>21&127,++je,Re<=268435455)||(Ce[je-1]|=128,Ce[je]=Re/256>>>21&127,++je,Re<=34359738367)||(Ce[je-1]|=128,Ce[je]=Re/65536>>>21&127,++je,Re<=4398046511103))break e;Ce[je-1]|=128,Ce[je]=Re/16777216>>>21&127,++je}return Ce.slice(0,je)}function varint_to_i32(Re){var Ce=0,je=Re[Ce]&127;e:if(Re[Ce++]>=128){if(je|=(Re[Ce]&127)<<7,Re[Ce++]<128||(je|=(Re[Ce]&127)<<14,Re[Ce++]<128)||(je|=(Re[Ce]&127)<<21,Re[Ce++]<128))break e;je|=(Re[Ce]&127)<<28}return je}function parse_shallow(Re){for(var Ce=[],je=[0];je[0]<Re.length;){var Be=je[0],De=parse_varint49(Re,je),Fe=De&7;De=Math.floor(De/8);var ke=0,Oe;if(De==0)break;switch(Fe){case 0:{for(var Me=je[0];Re[je[0]++]>=128;);Oe=Re.slice(Me,je[0])}break;case 5:ke=4,Oe=Re.slice(je[0],je[0]+ke),je[0]+=ke;break;case 1:ke=8,Oe=Re.slice(je[0],je[0]+ke),je[0]+=ke;break;case 2:ke=parse_varint49(Re,je),Oe=Re.slice(je[0],je[0]+ke),je[0]+=ke;break;case 3:case 4:default:throw new Error("PB Type ".concat(Fe," for Field ").concat(De," at offset ").concat(Be))}var Ue={data:Oe,type:Fe};Ce[De]==null?Ce[De]=[Ue]:Ce[De].push(Ue)}return Ce}function write_shallow(Re){var Ce=[];return Re.forEach(function(je,Be){je.forEach(function(De){De.data&&(Ce.push(write_varint49(Be*8+De.type)),De.type==2&&Ce.push(write_varint49(De.data.length)),Ce.push(De.data))})}),u8concat(Ce)}function parse_iwa_file(Re){for(var Ce,je=[],Be=[0];Be[0]<Re.length;){var De=parse_varint49(Re,Be),Fe=parse_shallow(Re.slice(Be[0],Be[0]+De));Be[0]+=De;var ke={id:varint_to_i32(Fe[1][0].data),messages:[]};Fe[2].forEach(function(Oe){var Me=parse_shallow(Oe.data),Ue=varint_to_i32(Me[3][0].data);ke.messages.push({meta:Me,data:Re.slice(Be[0],Be[0]+Ue)}),Be[0]+=Ue}),(Ce=Fe[3])!=null&&Ce[0]&&(ke.merge=varint_to_i32(Fe[3][0].data)>>>0>0),je.push(ke)}return je}function write_iwa_file(Re){var Ce=[];return Re.forEach(function(je){var Be=[];Be[1]=[{data:write_varint49(je.id),type:0}],Be[2]=[],je.merge!=null&&(Be[3]=[{data:write_varint49(+!!je.merge),type:0}]);var De=[];je.messages.forEach(function(ke){De.push(ke.data),ke.meta[3]=[{type:0,data:write_varint49(ke.data.length)}],Be[2].push({data:write_shallow(ke.meta),type:2})});var Fe=write_shallow(Be);Ce.push(write_varint49(Fe.length)),Ce.push(Fe),De.forEach(function(ke){return Ce.push(ke)})}),u8concat(Ce)}function parse_snappy_chunk(Re,Ce){if(Re!=0)throw new Error("Unexpected Snappy chunk type ".concat(Re));for(var je=[0],Be=parse_varint49(Ce,je),De=[];je[0]<Ce.length;){var Fe=Ce[je[0]]&3;if(Fe==0){var ke=Ce[je[0]++]>>2;if(ke<60)++ke;else{var Oe=ke-59;ke=Ce[je[0]],Oe>1&&(ke|=Ce[je[0]+1]<<8),Oe>2&&(ke|=Ce[je[0]+2]<<16),Oe>3&&(ke|=Ce[je[0]+3]<<24),ke>>>=0,ke++,je[0]+=Oe}De.push(Ce.slice(je[0],je[0]+ke)),je[0]+=ke;continue}else{var Me=0,Ue=0;if(Fe==1?(Ue=(Ce[je[0]]>>2&7)+4,Me=(Ce[je[0]++]&224)<<3,Me|=Ce[je[0]++]):(Ue=(Ce[je[0]++]>>2)+1,Fe==2?(Me=Ce[je[0]]|Ce[je[0]+1]<<8,je[0]+=2):(Me=(Ce[je[0]]|Ce[je[0]+1]<<8|Ce[je[0]+2]<<16|Ce[je[0]+3]<<24)>>>0,je[0]+=4)),De=[u8concat(De)],Me==0)throw new Error("Invalid offset 0");if(Me>De[0].length)throw new Error("Invalid offset beyond length");if(Ue>=Me)for(De.push(De[0].slice(-Me)),Ue-=Me;Ue>=De[De.length-1].length;)De.push(De[De.length-1]),Ue-=De[De.length-1].length;De.push(De[0].slice(-Me,-Me+Ue))}}var $e=u8concat(De);if($e.length!=Be)throw new Error("Unexpected length: ".concat($e.length," != ").concat(Be));return $e}function decompress_iwa_file(Re){for(var Ce=[],je=0;je<Re.length;){var Be=Re[je++],De=Re[je]|Re[je+1]<<8|Re[je+2]<<16;je+=3,Ce.push(parse_snappy_chunk(Be,Re.slice(je,je+De))),je+=De}if(je!==Re.length)throw new Error("data is not a valid framed stream!");return u8concat(Ce)}function compress_iwa_file(Re){for(var Ce=[],je=0;je<Re.length;){var Be=Math.min(Re.length-je,268435455),De=new Uint8Array(4);Ce.push(De);var Fe=write_varint49(Be),ke=Fe.length;Ce.push(Fe),Be<=60?(ke++,Ce.push(new Uint8Array([Be-1<<2]))):Be<=256?(ke+=2,Ce.push(new Uint8Array([240,Be-1&255]))):Be<=65536?(ke+=3,Ce.push(new Uint8Array([244,Be-1&255,Be-1>>8&255]))):Be<=16777216?(ke+=4,Ce.push(new Uint8Array([248,Be-1&255,Be-1>>8&255,Be-1>>16&255]))):Be<=4294967296&&(ke+=5,Ce.push(new Uint8Array([252,Be-1&255,Be-1>>8&255,Be-1>>16&255,Be-1>>>24&255]))),Ce.push(Re.slice(je,je+Be)),ke+=Be,De[0]=0,De[1]=ke&255,De[2]=ke>>8&255,De[3]=ke>>16&255,je+=Be}return u8concat(Ce)}function write_new_storage(Re,Ce){var je=new Uint8Array(32),Be=u8_to_dataview(je),De=12,Fe=0;switch(je[0]=5,Re.t){case"n":je[1]=2,writeDecimal128LE(je,De,Re.v),Fe|=1,De+=16;break;case"b":je[1]=6,Be.setFloat64(De,Re.v?1:0,!0),Fe|=2,De+=8;break;case"s":if(Ce.indexOf(Re.v)==-1)throw new Error("Value ".concat(Re.v," missing from SST!"));je[1]=3,Be.setUint32(De,Ce.indexOf(Re.v),!0),Fe|=8,De+=4;break;default:throw"unsupported cell type "+Re.t}return Be.setUint32(8,Fe,!0),je.slice(0,De)}function write_old_storage(Re,Ce){var je=new Uint8Array(32),Be=u8_to_dataview(je),De=12,Fe=0;switch(je[0]=3,Re.t){case"n":je[2]=2,Be.setFloat64(De,Re.v,!0),Fe|=32,De+=8;break;case"b":je[2]=6,Be.setFloat64(De,Re.v?1:0,!0),Fe|=32,De+=8;break;case"s":if(Ce.indexOf(Re.v)==-1)throw new Error("Value ".concat(Re.v," missing from SST!"));je[2]=3,Be.setUint32(De,Ce.indexOf(Re.v),!0),Fe|=16,De+=4;break;default:throw"unsupported cell type "+Re.t}return Be.setUint32(4,Fe,!0),je.slice(0,De)}function parse_TSP_Reference(Re){var Ce=parse_shallow(Re);return parse_varint49(Ce[1][0].data)}function write_tile_row(Re,Ce,je){var Be,De,Fe,ke;if(!((Be=Re[6])!=null&&Be[0])||!((De=Re[7])!=null&&De[0]))throw"Mutation only works on post-BNC storages!";var Oe=((ke=(Fe=Re[8])==null?void 0:Fe[0])==null?void 0:ke.data)&&varint_to_i32(Re[8][0].data)>0||!1;if(Oe)throw"Math only works with normal offsets";for(var Me=0,Ue=u8_to_dataview(Re[7][0].data),$e=0,He=[],Qe=u8_to_dataview(Re[4][0].data),We=0,qe=[],Ke=0;Ke<Ce.length;++Ke){if(Ce[Ke]==null){Ue.setUint16(Ke*2,65535,!0),Qe.setUint16(Ke*2,65535);continue}Ue.setUint16(Ke*2,$e,!0),Qe.setUint16(Ke*2,We,!0);var Xe,Ye;switch(typeof Ce[Ke]){case"string":Xe=write_new_storage({t:"s",v:Ce[Ke]},je),Ye=write_old_storage({t:"s",v:Ce[Ke]},je);break;case"number":Xe=write_new_storage({t:"n",v:Ce[Ke]},je),Ye=write_old_storage({t:"n",v:Ce[Ke]},je);break;case"boolean":Xe=write_new_storage({t:"b",v:Ce[Ke]},je),Ye=write_old_storage({t:"b",v:Ce[Ke]},je);break;default:throw new Error("Unsupported value "+Ce[Ke])}He.push(Xe),$e+=Xe.length,qe.push(Ye),We+=Ye.length,++Me}for(Re[2][0].data=write_varint49(Me);Ke<Re[7][0].data.length/2;++Ke)Ue.setUint16(Ke*2,65535,!0),Qe.setUint16(Ke*2,65535,!0);return Re[6][0].data=u8concat(He),Re[3][0].data=u8concat(qe),Me}function write_numbers_iwa(Re,Ce){if(!Ce||!Ce.numbers)throw new Error("Must pass a `numbers` option -- check the README");var je=Re.Sheets[Re.SheetNames[0]];Re.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var Be=decode_range(je["!ref"]);Be.s.r=Be.s.c=0;var De=!1;Be.e.c>9&&(De=!0,Be.e.c=9),Be.e.r>49&&(De=!0,Be.e.r=49),De&&console.error("The Numbers writer is currently limited to ".concat(encode_range(Be)));var Fe=sheet_to_json(je,{range:Be,header:1}),ke=["~Sh33tJ5~"];Fe.forEach(function(Ir){return Ir.forEach(function(Dr){typeof Dr=="string"&&ke.push(Dr)})});var Oe={},Me=[],Ue=CFB.read(Ce.numbers,{type:"base64"});Ue.FileIndex.map(function(Ir,Dr){return[Ir,Ue.FullPaths[Dr]]}).forEach(function(Ir){var Dr=Ir[0],Or=Ir[1];if(Dr.type==2&&Dr.name.match(/\.iwa/)){var br=Dr.content,Ur=decompress_iwa_file(br),Qr=parse_iwa_file(Ur);Qr.forEach(function(zr){Me.push(zr.id),Oe[zr.id]={deps:[],location:Or,type:varint_to_i32(zr.messages[0].meta[1][0].data)}})}}),Me.sort(function(Ir,Dr){return Ir-Dr});var $e=Me.filter(function(Ir){return Ir>1}).map(function(Ir){return[Ir,write_varint49(Ir)]});Ue.FileIndex.map(function(Ir,Dr){return[Ir,Ue.FullPaths[Dr]]}).forEach(function(Ir){var Dr=Ir[0];if(Ir[1],!!Dr.name.match(/\.iwa/)){var Or=parse_iwa_file(decompress_iwa_file(Dr.content));Or.forEach(function(br){br.messages.forEach(function(Ur){$e.forEach(function(Qr){br.messages.some(function(zr){return varint_to_i32(zr.meta[1][0].data)!=11006&&u8contains(zr.data,Qr[1])})&&Oe[Qr[0]].deps.push(br.id)})})})}});for(var He=CFB.find(Ue,Oe[1].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),We,qe=0;qe<Qe.length;++qe){var Ke=Qe[qe];Ke.id==1&&(We=Ke)}var Xe=parse_TSP_Reference(parse_shallow(We.messages[0].data)[1][0].data);for(He=CFB.find(Ue,Oe[Xe].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),qe=0;qe<Qe.length;++qe)Ke=Qe[qe],Ke.id==Xe&&(We=Ke);for(Xe=parse_TSP_Reference(parse_shallow(We.messages[0].data)[2][0].data),He=CFB.find(Ue,Oe[Xe].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),qe=0;qe<Qe.length;++qe)Ke=Qe[qe],Ke.id==Xe&&(We=Ke);for(Xe=parse_TSP_Reference(parse_shallow(We.messages[0].data)[2][0].data),He=CFB.find(Ue,Oe[Xe].location),Qe=parse_iwa_file(decompress_iwa_file(He.content)),qe=0;qe<Qe.length;++qe)Ke=Qe[qe],Ke.id==Xe&&(We=Ke);var Ye=parse_shallow(We.messages[0].data);{Ye[6][0].data=write_varint49(Be.e.r+1),Ye[7][0].data=write_varint49(Be.e.c+1);var Ze=parse_TSP_Reference(Ye[46][0].data),Je=CFB.find(Ue,Oe[Ze].location),tr=parse_iwa_file(decompress_iwa_file(Je.content));{for(var rr=0;rr<tr.length&&tr[rr].id!=Ze;++rr);if(tr[rr].id!=Ze)throw"Bad ColumnRowUIDMapArchive";var ar=parse_shallow(tr[rr].messages[0].data);ar[1]=[],ar[2]=[],ar[3]=[];for(var ir=0;ir<=Be.e.c;++ir){var nr=[];nr[1]=nr[2]=[{type:0,data:write_varint49(ir+420690)}],ar[1].push({type:2,data:write_shallow(nr)}),ar[2].push({type:0,data:write_varint49(ir)}),ar[3].push({type:0,data:write_varint49(ir)})}ar[4]=[],ar[5]=[],ar[6]=[];for(var cr=0;cr<=Be.e.r;++cr)nr=[],nr[1]=nr[2]=[{type:0,data:write_varint49(cr+726270)}],ar[4].push({type:2,data:write_shallow(nr)}),ar[5].push({type:0,data:write_varint49(cr)}),ar[6].push({type:0,data:write_varint49(cr)});tr[rr].messages[0].data=write_shallow(ar)}Je.content=compress_iwa_file(write_iwa_file(tr)),Je.size=Je.content.length,delete Ye[46];var mr=parse_shallow(Ye[4][0].data);{mr[7][0].data=write_varint49(Be.e.r+1);var fr=parse_shallow(mr[1][0].data),or=parse_TSP_Reference(fr[2][0].data);Je=CFB.find(Ue,Oe[or].location),tr=parse_iwa_file(decompress_iwa_file(Je.content));{if(tr[0].id!=or)throw"Bad HeaderStorageBucket";var yr=parse_shallow(tr[0].messages[0].data);for(cr=0;cr<Fe.length;++cr){var Cr=parse_shallow(yr[2][0].data);Cr[1][0].data=write_varint49(cr),Cr[4][0].data=write_varint49(Fe[cr].length),yr[2][cr]={type:yr[2][0].type,data:write_shallow(Cr)}}tr[0].messages[0].data=write_shallow(yr)}Je.content=compress_iwa_file(write_iwa_file(tr)),Je.size=Je.content.length;var jr=parse_TSP_Reference(mr[2][0].data);Je=CFB.find(Ue,Oe[jr].location),tr=parse_iwa_file(decompress_iwa_file(Je.content));{if(tr[0].id!=jr)throw"Bad HeaderStorageBucket";for(yr=parse_shallow(tr[0].messages[0].data),ir=0;ir<=Be.e.c;++ir)Cr=parse_shallow(yr[2][0].data),Cr[1][0].data=write_varint49(ir),Cr[4][0].data=write_varint49(Be.e.r+1),yr[2][ir]={type:yr[2][0].type,data:write_shallow(Cr)};tr[0].messages[0].data=write_shallow(yr)}Je.content=compress_iwa_file(write_iwa_file(tr)),Je.size=Je.content.length;var vr=parse_TSP_Reference(mr[4][0].data);(function(){for(var Ir=CFB.find(Ue,Oe[vr].location),Dr=parse_iwa_file(decompress_iwa_file(Ir.content)),Or,br=0;br<Dr.length;++br){var Ur=Dr[br];Ur.id==vr&&(Or=Ur)}var Qr=parse_shallow(Or.messages[0].data);{Qr[3]=[];var zr=[];ke.forEach(function(nn,bn){zr[1]=[{type:0,data:write_varint49(bn)}],zr[2]=[{type:0,data:write_varint49(1)}],zr[3]=[{type:2,data:stru8(nn)}],Qr[3].push({type:2,data:write_shallow(zr)})})}Or.messages[0].data=write_shallow(Qr);var Gr=write_iwa_file(Dr),fn=compress_iwa_file(Gr);Ir.content=fn,Ir.size=Ir.content.length})();var Tr=parse_shallow(mr[3][0].data);{var wr=Tr[1][0];delete Tr[2];var Er=parse_shallow(wr.data);{var Pr=parse_TSP_Reference(Er[2][0].data);(function(){for(var Ir=CFB.find(Ue,Oe[Pr].location),Dr=parse_iwa_file(decompress_iwa_file(Ir.content)),Or,br=0;br<Dr.length;++br){var Ur=Dr[br];Ur.id==Pr&&(Or=Ur)}var Qr=parse_shallow(Or.messages[0].data);{delete Qr[6],delete Tr[7];var zr=new Uint8Array(Qr[5][0].data);Qr[5]=[];for(var Gr=0,fn=0;fn<=Be.e.r;++fn){var nn=parse_shallow(zr);Gr+=write_tile_row(nn,Fe[fn],ke),nn[1][0].data=write_varint49(fn),Qr[5].push({data:write_shallow(nn),type:2})}Qr[1]=[{type:0,data:write_varint49(Be.e.c+1)}],Qr[2]=[{type:0,data:write_varint49(Be.e.r+1)}],Qr[3]=[{type:0,data:write_varint49(Gr)}],Qr[4]=[{type:0,data:write_varint49(Be.e.r+1)}]}Or.messages[0].data=write_shallow(Qr);var bn=write_iwa_file(Dr),hn=compress_iwa_file(bn);Ir.content=hn,Ir.size=Ir.content.length})()}wr.data=write_shallow(Er)}mr[3][0].data=write_shallow(Tr)}Ye[4][0].data=write_shallow(mr)}We.messages[0].data=write_shallow(Ye);var Mr=write_iwa_file(Qe),_r=compress_iwa_file(Mr);return He.content=_r,He.size=He.content.length,Ue}function fix_opts_func(Re){return function(je){for(var Be=0;Be!=Re.length;++Be){var De=Re[Be];je[De[0]]===void 0&&(je[De[0]]=De[1]),De[2]==="n"&&(je[De[0]]=Number(je[De[0]]))}}}function fix_write_opts(Re){fix_opts_func([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(Re)}function write_zip(Re,Ce){return Ce.bookType=="ods"?write_ods(Re,Ce):Ce.bookType=="numbers"?write_numbers_iwa(Re,Ce):Ce.bookType=="xlsb"?write_zip_xlsxb(Re,Ce):write_zip_xlsx(Re,Ce)}function write_zip_xlsxb(Re,Ce){_shapeid=1024,Re&&!Re.SSF&&(Re.SSF=dup(table_fmt)),Re&&Re.SSF&&(make_ssf(),SSF_load_table(Re.SSF),Ce.revssf=evert_num(Re.SSF),Ce.revssf[Re.SSF[65535]]=0,Ce.ssf=Re.SSF),Ce.rels={},Ce.wbrels={},Ce.Strings=[],Ce.Strings.Count=0,Ce.Strings.Unique=0,browser_has_Map?Ce.revStrings=new Map:(Ce.revStrings={},Ce.revStrings.foo=[],delete Ce.revStrings.foo);var je=Ce.bookType=="xlsb"?"bin":"xml",Be=VBAFMTS.indexOf(Ce.bookType)>-1,De=new_ct();fix_write_opts(Ce=Ce||{});var Fe=zip_new(),ke="",Oe=0;if(Ce.cellXfs=[],get_cell_style(Ce.cellXfs,{},{revssf:{General:0}}),Re.Props||(Re.Props={}),ke="docProps/core.xml",zip_add_file(Fe,ke,write_core_props(Re.Props,Ce)),De.coreprops.push(ke),add_rels(Ce.rels,2,ke,RELS.CORE_PROPS),ke="docProps/app.xml",!(Re.Props&&Re.Props.SheetNames))if(!Re.Workbook||!Re.Workbook.Sheets)Re.Props.SheetNames=Re.SheetNames;else{for(var Me=[],Ue=0;Ue<Re.SheetNames.length;++Ue)(Re.Workbook.Sheets[Ue]||{}).Hidden!=2&&Me.push(Re.SheetNames[Ue]);Re.Props.SheetNames=Me}for(Re.Props.Worksheets=Re.Props.SheetNames.length,zip_add_file(Fe,ke,write_ext_props(Re.Props)),De.extprops.push(ke),add_rels(Ce.rels,3,ke,RELS.EXT_PROPS),Re.Custprops!==Re.Props&&keys(Re.Custprops||{}).length>0&&(ke="docProps/custom.xml",zip_add_file(Fe,ke,write_cust_props(Re.Custprops)),De.custprops.push(ke),add_rels(Ce.rels,4,ke,RELS.CUST_PROPS)),Oe=1;Oe<=Re.SheetNames.length;++Oe){var $e={"!id":{}},He=Re.Sheets[Re.SheetNames[Oe-1]],Qe=(He||{})["!type"]||"sheet";switch(Qe){case"chart":default:ke="xl/worksheets/sheet"+Oe+"."+je,zip_add_file(Fe,ke,write_ws(Oe-1,ke,Ce,Re,$e)),De.sheets.push(ke),add_rels(Ce.wbrels,-1,"worksheets/sheet"+Oe+"."+je,RELS.WS[0])}if(He){var We=He["!comments"],qe=!1,Ke="";We&&We.length>0&&(Ke="xl/comments"+Oe+"."+je,zip_add_file(Fe,Ke,write_cmnt(We,Ke)),De.comments.push(Ke),add_rels($e,-1,"../comments"+Oe+"."+je,RELS.CMNT),qe=!0),He["!legacy"]&&qe&&zip_add_file(Fe,"xl/drawings/vmlDrawing"+Oe+".vml",write_comments_vml(Oe,He["!comments"])),delete He["!comments"],delete He["!legacy"]}$e["!id"].rId1&&zip_add_file(Fe,get_rels_path(ke),write_rels($e))}return Ce.Strings!=null&&Ce.Strings.length>0&&(ke="xl/sharedStrings."+je,zip_add_file(Fe,ke,write_sst(Ce.Strings,ke,Ce)),De.strs.push(ke),add_rels(Ce.wbrels,-1,"sharedStrings."+je,RELS.SST)),ke="xl/workbook."+je,zip_add_file(Fe,ke,write_wb(Re,ke)),De.workbooks.push(ke),add_rels(Ce.rels,1,ke,RELS.WB),ke="xl/theme/theme1.xml",zip_add_file(Fe,ke,write_theme(Re.Themes,Ce)),De.themes.push(ke),add_rels(Ce.wbrels,-1,"theme/theme1.xml",RELS.THEME),ke="xl/styles."+je,zip_add_file(Fe,ke,write_sty(Re,ke,Ce)),De.styles.push(ke),add_rels(Ce.wbrels,-1,"styles."+je,RELS.STY),Re.vbaraw&&Be&&(ke="xl/vbaProject.bin",zip_add_file(Fe,ke,Re.vbaraw),De.vba.push(ke),add_rels(Ce.wbrels,-1,"vbaProject.bin",RELS.VBA)),ke="xl/metadata."+je,zip_add_file(Fe,ke,write_xlmeta(ke)),De.metadata.push(ke),add_rels(Ce.wbrels,-1,"metadata."+je,RELS.XLMETA),zip_add_file(Fe,"[Content_Types].xml",write_ct(De,Ce)),zip_add_file(Fe,"_rels/.rels",write_rels(Ce.rels)),zip_add_file(Fe,"xl/_rels/workbook."+je+".rels",write_rels(Ce.wbrels)),delete Ce.revssf,delete Ce.ssf,Fe}function write_zip_xlsx(Re,Ce){_shapeid=1024,Re&&!Re.SSF&&(Re.SSF=dup(table_fmt)),Re&&Re.SSF&&(make_ssf(),SSF_load_table(Re.SSF),Ce.revssf=evert_num(Re.SSF),Ce.revssf[Re.SSF[65535]]=0,Ce.ssf=Re.SSF),Ce.rels={},Ce.wbrels={},Ce.Strings=[],Ce.Strings.Count=0,Ce.Strings.Unique=0,browser_has_Map?Ce.revStrings=new Map:(Ce.revStrings={},Ce.revStrings.foo=[],delete Ce.revStrings.foo);var je="xml",Be=VBAFMTS.indexOf(Ce.bookType)>-1,De=new_ct();fix_write_opts(Ce=Ce||{});var Fe=zip_new(),ke="",Oe=0;if(Ce.cellXfs=[],get_cell_style(Ce.cellXfs,{},{revssf:{General:0}}),Re.Props||(Re.Props={}),ke="docProps/core.xml",zip_add_file(Fe,ke,write_core_props(Re.Props,Ce)),De.coreprops.push(ke),add_rels(Ce.rels,2,ke,RELS.CORE_PROPS),ke="docProps/app.xml",!(Re.Props&&Re.Props.SheetNames))if(!Re.Workbook||!Re.Workbook.Sheets)Re.Props.SheetNames=Re.SheetNames;else{for(var Me=[],Ue=0;Ue<Re.SheetNames.length;++Ue)(Re.Workbook.Sheets[Ue]||{}).Hidden!=2&&Me.push(Re.SheetNames[Ue]);Re.Props.SheetNames=Me}Re.Props.Worksheets=Re.Props.SheetNames.length,zip_add_file(Fe,ke,write_ext_props(Re.Props)),De.extprops.push(ke),add_rels(Ce.rels,3,ke,RELS.EXT_PROPS),Re.Custprops!==Re.Props&&keys(Re.Custprops||{}).length>0&&(ke="docProps/custom.xml",zip_add_file(Fe,ke,write_cust_props(Re.Custprops)),De.custprops.push(ke),add_rels(Ce.rels,4,ke,RELS.CUST_PROPS));var $e=["SheetJ5"];for(Ce.tcid=0,Oe=1;Oe<=Re.SheetNames.length;++Oe){var He={"!id":{}},Qe=Re.Sheets[Re.SheetNames[Oe-1]],We=(Qe||{})["!type"]||"sheet";switch(We){case"chart":default:ke="xl/worksheets/sheet"+Oe+"."+je,zip_add_file(Fe,ke,write_ws_xml(Oe-1,Ce,Re,He)),De.sheets.push(ke),add_rels(Ce.wbrels,-1,"worksheets/sheet"+Oe+"."+je,RELS.WS[0])}if(Qe){var qe=Qe["!comments"],Ke=!1,Xe="";if(qe&&qe.length>0){var Ye=!1;qe.forEach(function(Ze){Ze[1].forEach(function(Je){Je.T==!0&&(Ye=!0)})}),Ye&&(Xe="xl/threadedComments/threadedComment"+Oe+"."+je,zip_add_file(Fe,Xe,write_tcmnt_xml(qe,$e,Ce)),De.threadedcomments.push(Xe),add_rels(He,-1,"../threadedComments/threadedComment"+Oe+"."+je,RELS.TCMNT)),Xe="xl/comments"+Oe+"."+je,zip_add_file(Fe,Xe,write_comments_xml(qe)),De.comments.push(Xe),add_rels(He,-1,"../comments"+Oe+"."+je,RELS.CMNT),Ke=!0}Qe["!legacy"]&&Ke&&zip_add_file(Fe,"xl/drawings/vmlDrawing"+Oe+".vml",write_comments_vml(Oe,Qe["!comments"])),delete Qe["!comments"],delete Qe["!legacy"]}He["!id"].rId1&&zip_add_file(Fe,get_rels_path(ke),write_rels(He))}return Ce.Strings!=null&&Ce.Strings.length>0&&(ke="xl/sharedStrings."+je,zip_add_file(Fe,ke,write_sst_xml(Ce.Strings,Ce)),De.strs.push(ke),add_rels(Ce.wbrels,-1,"sharedStrings."+je,RELS.SST)),ke="xl/workbook."+je,zip_add_file(Fe,ke,write_wb_xml(Re)),De.workbooks.push(ke),add_rels(Ce.rels,1,ke,RELS.WB),ke="xl/theme/theme1.xml",zip_add_file(Fe,ke,write_theme(Re.Themes,Ce)),De.themes.push(ke),add_rels(Ce.wbrels,-1,"theme/theme1.xml",RELS.THEME),ke="xl/styles."+je,zip_add_file(Fe,ke,write_sty_xml(Re,Ce)),De.styles.push(ke),add_rels(Ce.wbrels,-1,"styles."+je,RELS.STY),Re.vbaraw&&Be&&(ke="xl/vbaProject.bin",zip_add_file(Fe,ke,Re.vbaraw),De.vba.push(ke),add_rels(Ce.wbrels,-1,"vbaProject.bin",RELS.VBA)),ke="xl/metadata."+je,zip_add_file(Fe,ke,write_xlmeta_xml()),De.metadata.push(ke),add_rels(Ce.wbrels,-1,"metadata."+je,RELS.XLMETA),$e.length>1&&(ke="xl/persons/person.xml",zip_add_file(Fe,ke,write_people_xml($e)),De.people.push(ke),add_rels(Ce.wbrels,-1,"persons/person.xml",RELS.PEOPLE)),zip_add_file(Fe,"[Content_Types].xml",write_ct(De,Ce)),zip_add_file(Fe,"_rels/.rels",write_rels(Ce.rels)),zip_add_file(Fe,"xl/_rels/workbook."+je+".rels",write_rels(Ce.wbrels)),delete Ce.revssf,delete Ce.ssf,Fe}function firstbyte(Re,Ce){var je="";switch((Ce||{}).type||"base64"){case"buffer":return[Re[0],Re[1],Re[2],Re[3],Re[4],Re[5],Re[6],Re[7]];case"base64":je=Base64_decode(Re.slice(0,12));break;case"binary":je=Re;break;case"array":return[Re[0],Re[1],Re[2],Re[3],Re[4],Re[5],Re[6],Re[7]];default:throw new Error("Unrecognized type "+(Ce&&Ce.type||"undefined"))}return[je.charCodeAt(0),je.charCodeAt(1),je.charCodeAt(2),je.charCodeAt(3),je.charCodeAt(4),je.charCodeAt(5),je.charCodeAt(6),je.charCodeAt(7)]}function write_cfb_ctr(Re,Ce){switch(Ce.type){case"base64":case"binary":break;case"buffer":case"array":Ce.type="";break;case"file":return write_dl(Ce.file,CFB.write(Re,{type:has_buf?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+Ce.bookType+"' files");default:throw new Error("Unrecognized type "+Ce.type)}return CFB.write(Re,Ce)}function write_zip_type(Re,Ce){var je=dup(Ce||{}),Be=write_zip(Re,je);return write_zip_denouement(Be,je)}function write_zip_denouement(Re,Ce){var je={},Be=has_buf?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(Ce.compression&&(je.compression="DEFLATE"),Ce.password)je.type=Be;else switch(Ce.type){case"base64":je.type="base64";break;case"binary":je.type="string";break;case"string":throw new Error("'string' output type invalid for '"+Ce.bookType+"' files");case"buffer":case"file":je.type=Be;break;default:throw new Error("Unrecognized type "+Ce.type)}var De=Re.FullPaths?CFB.write(Re,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[je.type]||je.type,compression:!!Ce.compression}):Re.generate(je);if(typeof Deno<"u"&&typeof De=="string"){if(Ce.type=="binary"||Ce.type=="base64")return De;De=new Uint8Array(s2ab(De))}return Ce.password&&typeof encrypt_agile<"u"?write_cfb_ctr(encrypt_agile(De,Ce.password),Ce):Ce.type==="file"?write_dl(Ce.file,De):Ce.type=="string"?utf8read(De):De}function write_cfb_type(Re,Ce){var je=Ce||{},Be=write_xlscfb(Re,je);return write_cfb_ctr(Be,je)}function write_string_type(Re,Ce,je){je||(je="");var Be=je+Re;switch(Ce.type){case"base64":return Base64_encode(utf8write(Be));case"binary":return utf8write(Be);case"string":return Re;case"file":return write_dl(Ce.file,Be,"utf8");case"buffer":return has_buf?Buffer_from(Be,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(Be):write_string_type(Be,{type:"binary"}).split("").map(function(De){return De.charCodeAt(0)})}throw new Error("Unrecognized type "+Ce.type)}function write_stxt_type(Re,Ce){switch(Ce.type){case"base64":return Base64_encode(Re);case"binary":return Re;case"string":return Re;case"file":return write_dl(Ce.file,Re,"binary");case"buffer":return has_buf?Buffer_from(Re,"binary"):Re.split("").map(function(je){return je.charCodeAt(0)})}throw new Error("Unrecognized type "+Ce.type)}function write_binary_type(Re,Ce){switch(Ce.type){case"string":case"base64":case"binary":for(var je="",Be=0;Be<Re.length;++Be)je+=String.fromCharCode(Re[Be]);return Ce.type=="base64"?Base64_encode(je):Ce.type=="string"?utf8read(je):je;case"file":return write_dl(Ce.file,Re);case"buffer":return Re;default:throw new Error("Unrecognized type "+Ce.type)}}function writeSync(Re,Ce){reset_cp(),check_wb(Re);var je=dup(Ce||{});if(je.cellStyles&&(je.cellNF=!0,je.sheetStubs=!0),je.type=="array"){je.type="binary";var Be=writeSync(Re,je);return je.type="array",s2ab(Be)}var De=0;if(je.sheet&&(typeof je.sheet=="number"?De=je.sheet:De=Re.SheetNames.indexOf(je.sheet),!Re.SheetNames[De]))throw new Error("Sheet not found: "+je.sheet+" : "+typeof je.sheet);switch(je.bookType||"xlsb"){case"xml":case"xlml":return write_string_type(write_xlml(Re,je),je);case"slk":case"sylk":return write_string_type(SYLK.from_sheet(Re.Sheets[Re.SheetNames[De]],je),je);case"htm":case"html":return write_string_type(sheet_to_html(Re.Sheets[Re.SheetNames[De]],je),je);case"txt":return write_stxt_type(sheet_to_txt(Re.Sheets[Re.SheetNames[De]],je),je);case"csv":return write_string_type(sheet_to_csv(Re.Sheets[Re.SheetNames[De]],je),je,"\uFEFF");case"dif":return write_string_type(DIF.from_sheet(Re.Sheets[Re.SheetNames[De]],je),je);case"dbf":return write_binary_type(DBF.from_sheet(Re.Sheets[Re.SheetNames[De]],je),je);case"prn":return write_string_type(PRN.from_sheet(Re.Sheets[Re.SheetNames[De]],je),je);case"rtf":return write_string_type(RTF.from_sheet(Re.Sheets[Re.SheetNames[De]],je),je);case"eth":return write_string_type(ETH.from_sheet(Re.Sheets[Re.SheetNames[De]],je),je);case"fods":return write_string_type(write_ods(Re,je),je);case"wk1":return write_binary_type(WK_.sheet_to_wk1(Re.Sheets[Re.SheetNames[De]],je),je);case"wk3":return write_binary_type(WK_.book_to_wk3(Re,je),je);case"biff2":je.biff||(je.biff=2);case"biff3":je.biff||(je.biff=3);case"biff4":return je.biff||(je.biff=4),write_binary_type(write_biff_buf(Re,je),je);case"biff5":je.biff||(je.biff=5);case"biff8":case"xla":case"xls":return je.biff||(je.biff=8),write_cfb_type(Re,je);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return write_zip_type(Re,je);default:throw new Error("Unrecognized bookType |"+je.bookType+"|")}}function resolve_book_type(Re){if(!Re.bookType){var Ce={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},je=Re.file.slice(Re.file.lastIndexOf(".")).toLowerCase();je.match(/^\.[a-z]+$/)&&(Re.bookType=je.slice(1)),Re.bookType=Ce[Re.bookType]||Re.bookType}}function writeFileSync(Re,Ce,je){var Be={};return Be.type="file",Be.file=Ce,resolve_book_type(Be),writeSync(Re,Be)}function make_json_row(Re,Ce,je,Be,De,Fe,ke,Oe){var Me=encode_row(je),Ue=Oe.defval,$e=Oe.raw||!Object.prototype.hasOwnProperty.call(Oe,"raw"),He=!0,Qe=De===1?[]:{};if(De!==1)if(Object.defineProperty)try{Object.defineProperty(Qe,"__rowNum__",{value:je,enumerable:!1})}catch{Qe.__rowNum__=je}else Qe.__rowNum__=je;if(!ke||Re[je])for(var We=Ce.s.c;We<=Ce.e.c;++We){var qe=ke?Re[je][We]:Re[Be[We]+Me];if(qe===void 0||qe.t===void 0){if(Ue===void 0)continue;Fe[We]!=null&&(Qe[Fe[We]]=Ue);continue}var Ke=qe.v;switch(qe.t){case"z":if(Ke==null)break;continue;case"e":Ke=Ke==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+qe.t)}if(Fe[We]!=null){if(Ke==null)if(qe.t=="e"&&Ke===null)Qe[Fe[We]]=null;else if(Ue!==void 0)Qe[Fe[We]]=Ue;else if($e&&Ke===null)Qe[Fe[We]]=null;else continue;else Qe[Fe[We]]=$e&&(qe.t!=="n"||qe.t==="n"&&Oe.rawNumbers!==!1)?Ke:format_cell(qe,Ke,Oe);Ke!=null&&(He=!1)}}return{row:Qe,isempty:He}}function sheet_to_json(Re,Ce){if(Re==null||Re["!ref"]==null)return[];var je={t:"n",v:0},Be=0,De=1,Fe=[],ke=0,Oe="",Me={s:{r:0,c:0},e:{r:0,c:0}},Ue=Ce||{},$e=Ue.range!=null?Ue.range:Re["!ref"];switch(Ue.header===1?Be=1:Ue.header==="A"?Be=2:Array.isArray(Ue.header)?Be=3:Ue.header==null&&(Be=0),typeof $e){case"string":Me=safe_decode_range($e);break;case"number":Me=safe_decode_range(Re["!ref"]),Me.s.r=$e;break;default:Me=$e}Be>0&&(De=0);var He=encode_row(Me.s.r),Qe=[],We=[],qe=0,Ke=0,Xe=Array.isArray(Re),Ye=Me.s.r,Ze=0,Je={};Xe&&!Re[Ye]&&(Re[Ye]=[]);var tr=Ue.skipHidden&&Re["!cols"]||[],rr=Ue.skipHidden&&Re["!rows"]||[];for(Ze=Me.s.c;Ze<=Me.e.c;++Ze)if(!(tr[Ze]||{}).hidden)switch(Qe[Ze]=encode_col(Ze),je=Xe?Re[Ye][Ze]:Re[Qe[Ze]+He],Be){case 1:Fe[Ze]=Ze-Me.s.c;break;case 2:Fe[Ze]=Qe[Ze];break;case 3:Fe[Ze]=Ue.header[Ze-Me.s.c];break;default:if(je==null&&(je={w:"__EMPTY",t:"s"}),Oe=ke=format_cell(je,null,Ue),Ke=Je[ke]||0,!Ke)Je[ke]=1;else{do Oe=ke+"_"+Ke++;while(Je[Oe]);Je[ke]=Ke,Je[Oe]=1}Fe[Ze]=Oe}for(Ye=Me.s.r+De;Ye<=Me.e.r;++Ye)if(!(rr[Ye]||{}).hidden){var ar=make_json_row(Re,Me,Ye,Qe,Be,Fe,Xe,Ue);(ar.isempty===!1||(Be===1?Ue.blankrows!==!1:Ue.blankrows))&&(We[qe++]=ar.row)}return We.length=qe,We}var qreg=/"/g;function make_csv_row(Re,Ce,je,Be,De,Fe,ke,Oe){for(var Me=!0,Ue=[],$e="",He=encode_row(je),Qe=Ce.s.c;Qe<=Ce.e.c;++Qe)if(Be[Qe]){var We=Oe.dense?(Re[je]||[])[Qe]:Re[Be[Qe]+He];if(We==null)$e="";else if(We.v!=null){Me=!1,$e=""+(Oe.rawNumbers&&We.t=="n"?We.v:format_cell(We,null,Oe));for(var qe=0,Ke=0;qe!==$e.length;++qe)if((Ke=$e.charCodeAt(qe))===De||Ke===Fe||Ke===34||Oe.forceQuotes){$e='"'+$e.replace(qreg,'""')+'"';break}$e=="ID"&&($e='"ID"')}else We.f!=null&&!We.F?(Me=!1,$e="="+We.f,$e.indexOf(",")>=0&&($e='"'+$e.replace(qreg,'""')+'"')):$e="";Ue.push($e)}return Oe.blankrows===!1&&Me?null:Ue.join(ke)}function sheet_to_csv(Re,Ce){var je=[],Be=Ce??{};if(Re==null||Re["!ref"]==null)return"";var De=safe_decode_range(Re["!ref"]),Fe=Be.FS!==void 0?Be.FS:",",ke=Fe.charCodeAt(0),Oe=Be.RS!==void 0?Be.RS:`
`,Me=Oe.charCodeAt(0),Ue=new RegExp((Fe=="|"?"\\|":Fe)+"+$"),$e="",He=[];Be.dense=Array.isArray(Re);for(var Qe=Be.skipHidden&&Re["!cols"]||[],We=Be.skipHidden&&Re["!rows"]||[],qe=De.s.c;qe<=De.e.c;++qe)(Qe[qe]||{}).hidden||(He[qe]=encode_col(qe));for(var Ke=0,Xe=De.s.r;Xe<=De.e.r;++Xe)(We[Xe]||{}).hidden||($e=make_csv_row(Re,De,Xe,He,ke,Me,Fe,Be),$e!=null&&(Be.strip&&($e=$e.replace(Ue,"")),($e||Be.blankrows!==!1)&&je.push((Ke++?Oe:"")+$e)));return delete Be.dense,je.join("")}function sheet_to_txt(Re,Ce){Ce||(Ce={}),Ce.FS="	",Ce.RS=`
`;var je=sheet_to_csv(Re,Ce);return je}function sheet_to_formulae(Re){var Ce="",je,Be="";if(Re==null||Re["!ref"]==null)return[];var De=safe_decode_range(Re["!ref"]),Fe="",ke=[],Oe,Me=[],Ue=Array.isArray(Re);for(Oe=De.s.c;Oe<=De.e.c;++Oe)ke[Oe]=encode_col(Oe);for(var $e=De.s.r;$e<=De.e.r;++$e)for(Fe=encode_row($e),Oe=De.s.c;Oe<=De.e.c;++Oe)if(Ce=ke[Oe]+Fe,je=Ue?(Re[$e]||[])[Oe]:Re[Ce],Be="",je!==void 0){if(je.F!=null){if(Ce=je.F,!je.f)continue;Be=je.f,Ce.indexOf(":")==-1&&(Ce=Ce+":"+Ce)}if(je.f!=null)Be=je.f;else{if(je.t=="z")continue;if(je.t=="n"&&je.v!=null)Be=""+je.v;else if(je.t=="b")Be=je.v?"TRUE":"FALSE";else if(je.w!==void 0)Be="'"+je.w;else{if(je.v===void 0)continue;je.t=="s"?Be="'"+je.v:Be=""+je.v}}Me[Me.length]=Ce+"="+Be}return Me}function sheet_add_json(Re,Ce,je){var Be=je||{},De=+!Be.skipHeader,Fe=Re||{},ke=0,Oe=0;if(Fe&&Be.origin!=null)if(typeof Be.origin=="number")ke=Be.origin;else{var Me=typeof Be.origin=="string"?decode_cell(Be.origin):Be.origin;ke=Me.r,Oe=Me.c}var Ue,$e={s:{c:0,r:0},e:{c:Oe,r:ke+Ce.length-1+De}};if(Fe["!ref"]){var He=safe_decode_range(Fe["!ref"]);$e.e.c=Math.max($e.e.c,He.e.c),$e.e.r=Math.max($e.e.r,He.e.r),ke==-1&&(ke=He.e.r+1,$e.e.r=ke+Ce.length-1+De)}else ke==-1&&(ke=0,$e.e.r=Ce.length-1+De);var Qe=Be.header||[],We=0;Ce.forEach(function(Ke,Xe){keys(Ke).forEach(function(Ye){(We=Qe.indexOf(Ye))==-1&&(Qe[We=Qe.length]=Ye);var Ze=Ke[Ye],Je="z",tr="",rr=encode_cell({c:Oe+We,r:ke+Xe+De});Ue=ws_get_cell_stub(Fe,rr),Ze&&typeof Ze=="object"&&!(Ze instanceof Date)?Fe[rr]=Ze:(typeof Ze=="number"?Je="n":typeof Ze=="boolean"?Je="b":typeof Ze=="string"?Je="s":Ze instanceof Date?(Je="d",Be.cellDates||(Je="n",Ze=datenum(Ze)),tr=Be.dateNF||table_fmt[14]):Ze===null&&Be.nullError&&(Je="e",Ze=0),Ue?(Ue.t=Je,Ue.v=Ze,delete Ue.w,delete Ue.R,tr&&(Ue.z=tr)):Fe[rr]=Ue={t:Je,v:Ze},tr&&(Ue.z=tr))})}),$e.e.c=Math.max($e.e.c,Oe+Qe.length-1);var qe=encode_row(ke);if(De)for(We=0;We<Qe.length;++We)Fe[encode_col(We+Oe)+qe]={t:"s",v:Qe[We]};return Fe["!ref"]=encode_range($e),Fe}function json_to_sheet(Re,Ce){return sheet_add_json(null,Re,Ce)}function ws_get_cell_stub(Re,Ce,je){if(typeof Ce=="string"){if(Array.isArray(Re)){var Be=decode_cell(Ce);return Re[Be.r]||(Re[Be.r]=[]),Re[Be.r][Be.c]||(Re[Be.r][Be.c]={t:"z"})}return Re[Ce]||(Re[Ce]={t:"z"})}return typeof Ce!="number"?ws_get_cell_stub(Re,encode_cell(Ce)):ws_get_cell_stub(Re,encode_cell({r:Ce,c:je||0}))}function wb_sheet_idx(Re,Ce){if(typeof Ce=="number"){if(Ce>=0&&Re.SheetNames.length>Ce)return Ce;throw new Error("Cannot find sheet # "+Ce)}else if(typeof Ce=="string"){var je=Re.SheetNames.indexOf(Ce);if(je>-1)return je;throw new Error("Cannot find sheet name |"+Ce+"|")}else throw new Error("Cannot find sheet |"+Ce+"|")}function book_new(){return{SheetNames:[],Sheets:{}}}function book_append_sheet(Re,Ce,je,Be){var De=1;if(!je)for(;De<=65535&&Re.SheetNames.indexOf(je="Sheet"+De)!=-1;++De,je=void 0);if(!je||Re.SheetNames.length>=65535)throw new Error("Too many worksheets");if(Be&&Re.SheetNames.indexOf(je)>=0){var Fe=je.match(/(^.*?)(\d+)$/);De=Fe&&+Fe[2]||0;var ke=Fe&&Fe[1]||je;for(++De;De<=65535&&Re.SheetNames.indexOf(je=ke+De)!=-1;++De);}if(check_ws_name(je),Re.SheetNames.indexOf(je)>=0)throw new Error("Worksheet with name |"+je+"| already exists!");return Re.SheetNames.push(je),Re.Sheets[je]=Ce,je}function book_set_sheet_visibility(Re,Ce,je){Re.Workbook||(Re.Workbook={}),Re.Workbook.Sheets||(Re.Workbook.Sheets=[]);var Be=wb_sheet_idx(Re,Ce);switch(Re.Workbook.Sheets[Be]||(Re.Workbook.Sheets[Be]={}),je){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+je)}Re.Workbook.Sheets[Be].Hidden=je}function cell_set_number_format(Re,Ce){return Re.z=Ce,Re}function cell_set_hyperlink(Re,Ce,je){return Ce?(Re.l={Target:Ce},je&&(Re.l.Tooltip=je)):delete Re.l,Re}function cell_set_internal_link(Re,Ce,je){return cell_set_hyperlink(Re,"#"+Ce,je)}function cell_add_comment(Re,Ce,je){Re.c||(Re.c=[]),Re.c.push({t:Ce,a:je||"SheetJS"})}function sheet_set_array_formula(Re,Ce,je,Be){for(var De=typeof Ce!="string"?Ce:safe_decode_range(Ce),Fe=typeof Ce=="string"?Ce:encode_range(Ce),ke=De.s.r;ke<=De.e.r;++ke)for(var Oe=De.s.c;Oe<=De.e.c;++Oe){var Me=ws_get_cell_stub(Re,ke,Oe);Me.t="n",Me.F=Fe,delete Me.v,ke==De.s.r&&Oe==De.s.c&&(Me.f=je,Be&&(Me.D=!0))}return Re}var utils={encode_col,encode_row,encode_cell,encode_range,decode_col,decode_row,split_cell,decode_cell,decode_range,format_cell,sheet_add_aoa,sheet_add_json,sheet_add_dom,aoa_to_sheet,json_to_sheet,table_to_sheet:parse_dom_table,table_to_book,sheet_to_csv,sheet_to_txt,sheet_to_json,sheet_to_html,sheet_to_formulae,sheet_to_row_object_array:sheet_to_json,sheet_get_cell:ws_get_cell_stub,book_new,book_append_sheet,book_set_sheet_visibility,cell_set_number_format,cell_set_hyperlink,cell_set_internal_link,cell_add_comment,sheet_set_array_formula,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};function composeClasses(Re,Ce,je=void 0){const Be={};for(const De in Re){const Fe=Re[De];let ke="",Oe=!0;for(let Me=0;Me<Fe.length;Me+=1){const Ue=Fe[Me];Ue&&(ke+=(Oe===!0?"":" ")+Ce(Ue),Oe=!1,je&&je[Ue]&&(ke+=" "+je[Ue]))}Be[De]=ke}return Be}function slotShouldForwardProp(Re){return Re!=="ownerState"&&Re!=="theme"&&Re!=="sx"&&Re!=="as"}const rootShouldForwardProp=Re=>slotShouldForwardProp(Re)&&Re!=="classes";function formatMuiErrorMessage(Re,...Ce){const je=new URL(`https://mui.com/production-error/?code=${Re}`);return Ce.forEach(Be=>je.searchParams.append("args[]",Be)),`Minified MUI error #${Re}; visit ${je} for the full message.`}function capitalize(Re){if(typeof Re!="string")throw new Error(formatMuiErrorMessage(7));return Re.charAt(0).toUpperCase()+Re.slice(1)}function isPlainObject(Re){if(typeof Re!="object"||Re===null)return!1;const Ce=Object.getPrototypeOf(Re);return(Ce===null||Ce===Object.prototype||Object.getPrototypeOf(Ce)===null)&&!(Symbol.toStringTag in Re)&&!(Symbol.iterator in Re)}function deepClone(Re){if(reactExports.isValidElement(Re)||reactIsExports.isValidElementType(Re)||!isPlainObject(Re))return Re;const Ce={};return Object.keys(Re).forEach(je=>{Ce[je]=deepClone(Re[je])}),Ce}function deepmerge(Re,Ce,je={clone:!0}){const Be=je.clone?{...Re}:Re;return isPlainObject(Re)&&isPlainObject(Ce)&&Object.keys(Ce).forEach(De=>{reactExports.isValidElement(Ce[De])||reactIsExports.isValidElementType(Ce[De])?Be[De]=Ce[De]:isPlainObject(Ce[De])&&Object.prototype.hasOwnProperty.call(Re,De)&&isPlainObject(Re[De])?Be[De]=deepmerge(Re[De],Ce[De],je):je.clone?Be[De]=isPlainObject(Ce[De])?deepClone(Ce[De]):Ce[De]:Be[De]=Ce[De]}),Be}function merge(Re,Ce){return Ce?deepmerge(Re,Ce,{clone:!1}):Re}function sortContainerQueries(Re,Ce){if(!Re.containerQueries)return Ce;const je=Object.keys(Ce).filter(Be=>Be.startsWith("@container")).sort((Be,De)=>{const Fe=/min-width:\s*([0-9.]+)/;return+(Be.match(Fe)?.[1]||0)-+(De.match(Fe)?.[1]||0)});return je.length?je.reduce((Be,De)=>{const Fe=Ce[De];return delete Be[De],Be[De]=Fe,Be},{...Ce}):Ce}function isCqShorthand(Re,Ce){return Ce==="@"||Ce.startsWith("@")&&(Re.some(je=>Ce.startsWith(`@${je}`))||!!Ce.match(/^@\d/))}function getContainerQuery(Re,Ce){const je=Ce.match(/^@([^/]+)?\/?(.+)?$/);if(!je)return null;const[,Be,De]=je,Fe=Number.isNaN(+Be)?Be||0:+Be;return Re.containerQueries(De).up(Fe)}function cssContainerQueries(Re){const Ce=(Fe,ke)=>Fe.replace("@media",ke?`@container ${ke}`:"@container");function je(Fe,ke){Fe.up=(...Oe)=>Ce(Re.breakpoints.up(...Oe),ke),Fe.down=(...Oe)=>Ce(Re.breakpoints.down(...Oe),ke),Fe.between=(...Oe)=>Ce(Re.breakpoints.between(...Oe),ke),Fe.only=(...Oe)=>Ce(Re.breakpoints.only(...Oe),ke),Fe.not=(...Oe)=>{const Me=Ce(Re.breakpoints.not(...Oe),ke);return Me.includes("not all and")?Me.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):Me}}const Be={},De=Fe=>(je(Be,Fe),Be);return je(De),{...Re,containerQueries:De}}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:Re=>`@media (min-width:${values$1[Re]}px)`},defaultContainerQueries={containerQueries:Re=>({up:Ce=>{let je=typeof Ce=="number"?Ce:values$1[Ce]||Ce;return typeof je=="number"&&(je=`${je}px`),Re?`@container ${Re} (min-width:${je})`:`@container (min-width:${je})`}})};function handleBreakpoints(Re,Ce,je){const Be=Re.theme||{};if(Array.isArray(Ce)){const Fe=Be.breakpoints||defaultBreakpoints;return Ce.reduce((ke,Oe,Me)=>(ke[Fe.up(Fe.keys[Me])]=je(Ce[Me]),ke),{})}if(typeof Ce=="object"){const Fe=Be.breakpoints||defaultBreakpoints;return Object.keys(Ce).reduce((ke,Oe)=>{if(isCqShorthand(Fe.keys,Oe)){const Me=getContainerQuery(Be.containerQueries?Be:defaultContainerQueries,Oe);Me&&(ke[Me]=je(Ce[Oe],Oe))}else if(Object.keys(Fe.values||values$1).includes(Oe)){const Me=Fe.up(Oe);ke[Me]=je(Ce[Oe],Oe)}else{const Me=Oe;ke[Me]=Ce[Me]}return ke},{})}return je(Ce)}function createEmptyBreakpointObject(Re={}){return Re.keys?.reduce((je,Be)=>{const De=Re.up(Be);return je[De]={},je},{})||{}}function removeUnusedBreakpoints(Re,Ce){return Re.reduce((je,Be)=>{const De=je[Be];return(!De||Object.keys(De).length===0)&&delete je[Be],je},Ce)}function getPath(Re,Ce,je=!0){if(!Ce||typeof Ce!="string")return null;if(Re&&Re.vars&&je){const Be=`vars.${Ce}`.split(".").reduce((De,Fe)=>De&&De[Fe]?De[Fe]:null,Re);if(Be!=null)return Be}return Ce.split(".").reduce((Be,De)=>Be&&Be[De]!=null?Be[De]:null,Re)}function getStyleValue$1(Re,Ce,je,Be=je){let De;return typeof Re=="function"?De=Re(je):Array.isArray(Re)?De=Re[je]||Be:De=getPath(Re,je)||Be,Ce&&(De=Ce(De,Be,Re)),De}function style$1(Re){const{prop:Ce,cssProperty:je=Re.prop,themeKey:Be,transform:De}=Re,Fe=ke=>{if(ke[Ce]==null)return null;const Oe=ke[Ce],Me=ke.theme,Ue=getPath(Me,Be)||{};return handleBreakpoints(ke,Oe,He=>{let Qe=getStyleValue$1(Ue,De,He);return He===Qe&&typeof He=="string"&&(Qe=getStyleValue$1(Ue,De,`${Ce}${He==="default"?"":capitalize(He)}`,He)),je===!1?Qe:{[je]:Qe}})};return Fe.propTypes={},Fe.filterProps=[Ce],Fe}function memoize(Re){const Ce={};return je=>(Ce[je]===void 0&&(Ce[je]=Re(je)),Ce[je])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(Re=>{if(Re.length>2)if(aliases[Re])Re=aliases[Re];else return[Re];const[Ce,je]=Re.split(""),Be=properties[Ce],De=directions[je]||"";return Array.isArray(De)?De.map(Fe=>Be+Fe):[Be+De]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(Re,Ce,je,Be){const De=getPath(Re,Ce,!0)??je;return typeof De=="number"||typeof De=="string"?Fe=>typeof Fe=="string"?Fe:typeof De=="string"?De.startsWith("var(")&&Fe===0?0:De.startsWith("var(")&&Fe===1?De:`calc(${Fe} * ${De})`:De*Fe:Array.isArray(De)?Fe=>{if(typeof Fe=="string")return Fe;const ke=Math.abs(Fe),Oe=De[ke];return Fe>=0?Oe:typeof Oe=="number"?-Oe:typeof Oe=="string"&&Oe.startsWith("var(")?`calc(-1 * ${Oe})`:`-${Oe}`}:typeof De=="function"?De:()=>{}}function createUnarySpacing(Re){return createUnaryUnit(Re,"spacing",8)}function getValue(Re,Ce){return typeof Ce=="string"||Ce==null?Ce:Re(Ce)}function getStyleFromPropValue(Re,Ce){return je=>Re.reduce((Be,De)=>(Be[De]=getValue(Ce,je),Be),{})}function resolveCssProperty(Re,Ce,je,Be){if(!Ce.includes(je))return null;const De=getCssProperties(je),Fe=getStyleFromPropValue(De,Be),ke=Re[je];return handleBreakpoints(Re,ke,Fe)}function style(Re,Ce){const je=createUnarySpacing(Re.theme);return Object.keys(Re).map(Be=>resolveCssProperty(Re,Ce,Be,je)).reduce(merge,{})}function margin(Re){return style(Re,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(Re){return style(Re,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function compose(...Re){const Ce=Re.reduce((Be,De)=>(De.filterProps.forEach(Fe=>{Be[Fe]=De}),Be),{}),je=Be=>Object.keys(Be).reduce((De,Fe)=>Ce[Fe]?merge(De,Ce[Fe](Be)):De,{});return je.propTypes={},je.filterProps=Re.reduce((Be,De)=>Be.concat(De.filterProps),[]),je}function borderTransform(Re){return typeof Re!="number"?Re:`${Re}px solid`}function createBorderStyle(Re,Ce){return style$1({prop:Re,themeKey:"borders",transform:Ce})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=Re=>{if(Re.borderRadius!==void 0&&Re.borderRadius!==null){const Ce=createUnaryUnit(Re.theme,"shape.borderRadius",4),je=Be=>({borderRadius:getValue(Ce,Be)});return handleBreakpoints(Re,Re.borderRadius,je)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=Re=>{if(Re.gap!==void 0&&Re.gap!==null){const Ce=createUnaryUnit(Re.theme,"spacing",8),je=Be=>({gap:getValue(Ce,Be)});return handleBreakpoints(Re,Re.gap,je)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=Re=>{if(Re.columnGap!==void 0&&Re.columnGap!==null){const Ce=createUnaryUnit(Re.theme,"spacing",8),je=Be=>({columnGap:getValue(Ce,Be)});return handleBreakpoints(Re,Re.columnGap,je)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=Re=>{if(Re.rowGap!==void 0&&Re.rowGap!==null){const Ce=createUnaryUnit(Re.theme,"spacing",8),je=Be=>({rowGap:getValue(Ce,Be)});return handleBreakpoints(Re,Re.rowGap,je)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$1({prop:"gridColumn"}),gridRow=style$1({prop:"gridRow"}),gridAutoFlow=style$1({prop:"gridAutoFlow"}),gridAutoColumns=style$1({prop:"gridAutoColumns"}),gridAutoRows=style$1({prop:"gridAutoRows"}),gridTemplateColumns=style$1({prop:"gridTemplateColumns"}),gridTemplateRows=style$1({prop:"gridTemplateRows"}),gridTemplateAreas=style$1({prop:"gridTemplateAreas"}),gridArea=style$1({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(Re,Ce){return Ce==="grey"?Ce:Re}const color=style$1({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$1({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$1({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(Re){return Re<=1&&Re!==0?`${Re*100}%`:Re}const width=style$1({prop:"width",transform:sizingTransform}),maxWidth=Re=>{if(Re.maxWidth!==void 0&&Re.maxWidth!==null){const Ce=je=>{const Be=Re.theme?.breakpoints?.values?.[je]||values$1[je];return Be?Re.theme?.breakpoints?.unit!=="px"?{maxWidth:`${Be}${Re.theme.breakpoints.unit}`}:{maxWidth:Be}:{maxWidth:sizingTransform(je)}};return handleBreakpoints(Re,Re.maxWidth,Ce)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$1({prop:"minWidth",transform:sizingTransform}),height=style$1({prop:"height",transform:sizingTransform}),maxHeight=style$1({prop:"maxHeight",transform:sizingTransform}),minHeight=style$1({prop:"minHeight",transform:sizingTransform});style$1({prop:"size",cssProperty:"width",transform:sizingTransform});style$1({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$1({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:Re=>({"@media print":{display:Re}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function objectsHaveSameKeys(...Re){const Ce=Re.reduce((Be,De)=>Be.concat(Object.keys(De)),[]),je=new Set(Ce);return Re.every(Be=>je.size===Object.keys(Be).length)}function callIfFn(Re,Ce){return typeof Re=="function"?Re(Ce):Re}function unstable_createStyleFunctionSx(){function Re(je,Be,De,Fe){const ke={[je]:Be,theme:De},Oe=Fe[je];if(!Oe)return{[je]:Be};const{cssProperty:Me=je,themeKey:Ue,transform:$e,style:He}=Oe;if(Be==null)return null;if(Ue==="typography"&&Be==="inherit")return{[je]:Be};const Qe=getPath(De,Ue)||{};return He?He(ke):handleBreakpoints(ke,Be,qe=>{let Ke=getStyleValue$1(Qe,$e,qe);return qe===Ke&&typeof qe=="string"&&(Ke=getStyleValue$1(Qe,$e,`${je}${qe==="default"?"":capitalize(qe)}`,qe)),Me===!1?Ke:{[Me]:Ke}})}function Ce(je){const{sx:Be,theme:De={},nested:Fe}=je||{};if(!Be)return null;const ke=De.unstable_sxConfig??defaultSxConfig;function Oe(Me){let Ue=Me;if(typeof Me=="function")Ue=Me(De);else if(typeof Me!="object")return Me;if(!Ue)return null;const $e=createEmptyBreakpointObject(De.breakpoints),He=Object.keys($e);let Qe=$e;return Object.keys(Ue).forEach(We=>{const qe=callIfFn(Ue[We],De);if(qe!=null)if(typeof qe=="object")if(ke[We])Qe=merge(Qe,Re(We,qe,De,ke));else{const Ke=handleBreakpoints({theme:De},qe,Xe=>({[We]:Xe}));objectsHaveSameKeys(Ke,qe)?Qe[We]=Ce({sx:qe,theme:De,nested:!0}):Qe=merge(Qe,Ke)}else Qe=merge(Qe,Re(We,qe,De,ke))}),!Fe&&De.modularCssLayers?{"@layer sx":sortContainerQueries(De,removeUnusedBreakpoints(He,Qe))}:sortContainerQueries(De,removeUnusedBreakpoints(He,Qe))}return Array.isArray(Be)?Be.map(Oe):Oe(Be)}return Ce}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(Re){return reactPropsRegex.test(Re)||Re.charCodeAt(0)===111&&Re.charCodeAt(1)===110&&Re.charCodeAt(2)<91}),testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function Re(Ce){return Ce!=="theme"},getDefaultShouldForwardProp=function Re(Ce){return typeof Ce=="string"&&Ce.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function Re(Ce,je,Be){var De;if(je){var Fe=je.shouldForwardProp;De=Ce.__emotion_forwardProp&&Fe?function(ke){return Ce.__emotion_forwardProp(ke)&&Fe(ke)}:Fe}return typeof De!="function"&&Be&&(De=Ce.__emotion_forwardProp),De},Insertion=function Re(Ce){var je=Ce.cache,Be=Ce.serialized,De=Ce.isStringTag;return registerStyles(je,Be,De),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(je,Be,De)}),null},createStyled$1=function Re(Ce,je){var Be=Ce.__emotion_real===Ce,De=Be&&Ce.__emotion_base||Ce,Fe,ke;je!==void 0&&(Fe=je.label,ke=je.target);var Oe=composeShouldForwardProps(Ce,je,Be),Me=Oe||getDefaultShouldForwardProp(De),Ue=!Me("as");return function(){var $e=arguments,He=Be&&Ce.__emotion_styles!==void 0?Ce.__emotion_styles.slice(0):[];if(Fe!==void 0&&He.push("label:"+Fe+";"),$e[0]==null||$e[0].raw===void 0)He.push.apply(He,$e);else{var Qe=$e[0];He.push(Qe[0]);for(var We=$e.length,qe=1;qe<We;qe++)He.push($e[qe],Qe[qe])}var Ke=withEmotionCache(function(Xe,Ye,Ze){var Je=Ue&&Xe.as||De,tr="",rr=[],ar=Xe;if(Xe.theme==null){ar={};for(var ir in Xe)ar[ir]=Xe[ir];ar.theme=reactExports.useContext(ThemeContext)}typeof Xe.className=="string"?tr=getRegisteredStyles(Ye.registered,rr,Xe.className):Xe.className!=null&&(tr=Xe.className+" ");var nr=serializeStyles(He.concat(rr),Ye.registered,ar);tr+=Ye.key+"-"+nr.name,ke!==void 0&&(tr+=" "+ke);var cr=Ue&&Oe===void 0?getDefaultShouldForwardProp(Je):Me,mr={};for(var fr in Xe)Ue&&fr==="as"||cr(fr)&&(mr[fr]=Xe[fr]);return mr.className=tr,Ze&&(mr.ref=Ze),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:Ye,serialized:nr,isStringTag:typeof Je=="string"}),reactExports.createElement(Je,mr))});return Ke.displayName=Fe!==void 0?Fe:"Styled("+(typeof De=="string"?De:De.displayName||De.name||"Component")+")",Ke.defaultProps=Ce.defaultProps,Ke.__emotion_real=Ke,Ke.__emotion_base=De,Ke.__emotion_styles=He,Ke.__emotion_forwardProp=Oe,Object.defineProperty(Ke,"toString",{value:function(){return"."+ke}}),Ke.withComponent=function(Xe,Ye){var Ze=Re(Xe,_extends$1({},je,Ye,{shouldForwardProp:composeShouldForwardProps(Ke,Ye,!0)}));return Ze.apply(void 0,He)},Ke}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],styled$2=createStyled$1.bind(null);tags.forEach(function(Re){styled$2[Re]=styled$2(Re)});function isEmpty$2(Re){return Re==null||Object.keys(Re).length===0}function GlobalStyles$2(Re){const{styles:Ce,defaultTheme:je={}}=Re,Be=typeof Ce=="function"?De=>Ce(isEmpty$2(De)?je:De):Ce;return jsxRuntimeExports.jsx(Global,{styles:Be})}function styled$1(Re,Ce){return styled$2(Re,Ce)}function internal_mutateStyles(Re,Ce){Array.isArray(Re.__emotion_styles)&&(Re.__emotion_styles=Ce(Re.__emotion_styles))}const wrapper=[];function internal_serializeStyles(Re){return wrapper[0]=Re,serializeStyles(wrapper)}const sortBreakpointsValues=Re=>{const Ce=Object.keys(Re).map(je=>({key:je,val:Re[je]}))||[];return Ce.sort((je,Be)=>je.val-Be.val),Ce.reduce((je,Be)=>({...je,[Be.key]:Be.val}),{})};function createBreakpoints(Re){const{values:Ce={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:je="px",step:Be=5,...De}=Re,Fe=sortBreakpointsValues(Ce),ke=Object.keys(Fe);function Oe(Qe){return`@media (min-width:${typeof Ce[Qe]=="number"?Ce[Qe]:Qe}${je})`}function Me(Qe){return`@media (max-width:${(typeof Ce[Qe]=="number"?Ce[Qe]:Qe)-Be/100}${je})`}function Ue(Qe,We){const qe=ke.indexOf(We);return`@media (min-width:${typeof Ce[Qe]=="number"?Ce[Qe]:Qe}${je}) and (max-width:${(qe!==-1&&typeof Ce[ke[qe]]=="number"?Ce[ke[qe]]:We)-Be/100}${je})`}function $e(Qe){return ke.indexOf(Qe)+1<ke.length?Ue(Qe,ke[ke.indexOf(Qe)+1]):Oe(Qe)}function He(Qe){const We=ke.indexOf(Qe);return We===0?Oe(ke[1]):We===ke.length-1?Me(ke[We]):Ue(Qe,ke[ke.indexOf(Qe)+1]).replace("@media","@media not all and")}return{keys:ke,values:Fe,up:Oe,down:Me,between:Ue,only:$e,not:He,unit:je,...De}}const shape={borderRadius:4};function createSpacing(Re=8,Ce=createUnarySpacing({spacing:Re})){if(Re.mui)return Re;const je=(...Be)=>(Be.length===0?[1]:Be).map(Fe=>{const ke=Ce(Fe);return typeof ke=="number"?`${ke}px`:ke}).join(" ");return je.mui=!0,je}function applyStyles(Re,Ce){const je=this;if(je.vars){if(!je.colorSchemes?.[Re]||typeof je.getColorSchemeSelector!="function")return{};let Be=je.getColorSchemeSelector(Re);return Be==="&"?Ce:((Be.includes("data-")||Be.includes("."))&&(Be=`*:where(${Be.replace(/\s*&$/,"")}) &`),{[Be]:Ce})}return je.palette.mode===Re?Ce:{}}function createTheme$1(Re={},...Ce){const{breakpoints:je={},palette:Be={},spacing:De,shape:Fe={},...ke}=Re,Oe=createBreakpoints(je),Me=createSpacing(De);let Ue=deepmerge({breakpoints:Oe,direction:"ltr",components:{},palette:{mode:"light",...Be},spacing:Me,shape:{...shape,...Fe}},ke);return Ue=cssContainerQueries(Ue),Ue.applyStyles=applyStyles,Ue=Ce.reduce(($e,He)=>deepmerge($e,He),Ue),Ue.unstable_sxConfig={...defaultSxConfig,...ke?.unstable_sxConfig},Ue.unstable_sx=function(He){return styleFunctionSx({sx:He,theme:this})},Ue}function isObjectEmpty$2(Re){return Object.keys(Re).length===0}function useTheme$2(Re=null){const Ce=reactExports.useContext(ThemeContext);return!Ce||isObjectEmpty$2(Ce)?Re:Ce}const systemDefaultTheme$1=createTheme$1();function useTheme$1(Re=systemDefaultTheme$1){return useTheme$2(Re)}function wrapGlobalLayer(Re){const Ce=internal_serializeStyles(Re);return Re!==Ce&&Ce.styles?(Ce.styles.match(/^@layer\s+[^{]*$/)||(Ce.styles=`@layer global{${Ce.styles}}`),Ce):Re}function GlobalStyles$1({styles:Re,themeId:Ce,defaultTheme:je={}}){const Be=useTheme$1(je),De=Ce&&Be[Ce]||Be;let Fe=typeof Re=="function"?Re(De):Re;return De.modularCssLayers&&(Array.isArray(Fe)?Fe=Fe.map(ke=>wrapGlobalLayer(typeof ke=="function"?ke(De):ke)):Fe=wrapGlobalLayer(Fe)),jsxRuntimeExports.jsx(GlobalStyles$2,{styles:Fe})}const defaultGenerator=Re=>Re,createClassNameGenerator=()=>{let Re=defaultGenerator;return{configure(Ce){Re=Ce},generate(Ce){return Re(Ce)},reset(){Re=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass(Re,Ce,je="Mui"){const Be=globalStateClasses[Ce];return Be?`${je}-${Be}`:`${ClassNameGenerator.generate(Re)}-${Ce}`}function generateUtilityClasses(Re,Ce,je="Mui"){const Be={};return Ce.forEach(De=>{Be[De]=generateUtilityClass(Re,De,je)}),Be}function preprocessStyles(Re){const{variants:Ce,...je}=Re,Be={variants:Ce,style:internal_serializeStyles(je),isProcessed:!0};return Be.style===je||Ce&&Ce.forEach(De=>{typeof De.style!="function"&&(De.style=internal_serializeStyles(De.style))}),Be}const systemDefaultTheme=createTheme$1();function shouldForwardProp(Re){return Re!=="ownerState"&&Re!=="theme"&&Re!=="sx"&&Re!=="as"}function shallowLayer(Re,Ce){return Ce&&Re&&typeof Re=="object"&&Re.styles&&!Re.styles.startsWith("@layer")&&(Re.styles=`@layer ${Ce}{${String(Re.styles)}}`),Re}function defaultOverridesResolver(Re){return Re?(Ce,je)=>je[Re]:null}function attachTheme(Re,Ce,je){Re.theme=isObjectEmpty$1(Re.theme)?je:Re.theme[Ce]||Re.theme}function processStyle(Re,Ce,je){const Be=typeof Ce=="function"?Ce(Re):Ce;if(Array.isArray(Be))return Be.flatMap(De=>processStyle(Re,De,je));if(Array.isArray(Be?.variants)){let De;if(Be.isProcessed)De=je?shallowLayer(Be.style,je):Be.style;else{const{variants:Fe,...ke}=Be;De=je?shallowLayer(internal_serializeStyles(ke),je):ke}return processStyleVariants(Re,Be.variants,[De],je)}return Be?.isProcessed?je?shallowLayer(internal_serializeStyles(Be.style),je):Be.style:je?shallowLayer(internal_serializeStyles(Be),je):Be}function processStyleVariants(Re,Ce,je=[],Be=void 0){let De;e:for(let Fe=0;Fe<Ce.length;Fe+=1){const ke=Ce[Fe];if(typeof ke.props=="function"){if(De??={...Re,...Re.ownerState,ownerState:Re.ownerState},!ke.props(De))continue}else for(const Oe in ke.props)if(Re[Oe]!==ke.props[Oe]&&Re.ownerState?.[Oe]!==ke.props[Oe])continue e;typeof ke.style=="function"?(De??={...Re,...Re.ownerState,ownerState:Re.ownerState},je.push(Be?shallowLayer(internal_serializeStyles(ke.style(De)),Be):ke.style(De))):je.push(Be?shallowLayer(internal_serializeStyles(ke.style),Be):ke.style)}return je}function createStyled(Re={}){const{themeId:Ce,defaultTheme:je=systemDefaultTheme,rootShouldForwardProp:Be=shouldForwardProp,slotShouldForwardProp:De=shouldForwardProp}=Re;function Fe(Oe){attachTheme(Oe,Ce,je)}return(Oe,Me={})=>{internal_mutateStyles(Oe,ar=>ar.filter(ir=>ir!==styleFunctionSx));const{name:Ue,slot:$e,skipVariantsResolver:He,skipSx:Qe,overridesResolver:We=defaultOverridesResolver(lowercaseFirstLetter($e)),...qe}=Me,Ke=Ue&&Ue.startsWith("Mui")||$e?"components":"custom",Xe=He!==void 0?He:$e&&$e!=="Root"&&$e!=="root"||!1,Ye=Qe||!1;let Ze=shouldForwardProp;$e==="Root"||$e==="root"?Ze=Be:$e?Ze=De:isStringTag(Oe)&&(Ze=void 0);const Je=styled$1(Oe,{shouldForwardProp:Ze,label:generateStyledLabel(),...qe}),tr=ar=>{if(ar.__emotion_real===ar)return ar;if(typeof ar=="function")return function(nr){return processStyle(nr,ar,nr.theme.modularCssLayers?Ke:void 0)};if(isPlainObject(ar)){const ir=preprocessStyles(ar);return function(cr){return ir.variants?processStyle(cr,ir,cr.theme.modularCssLayers?Ke:void 0):cr.theme.modularCssLayers?shallowLayer(ir.style,Ke):ir.style}}return ar},rr=(...ar)=>{const ir=[],nr=ar.map(tr),cr=[];if(ir.push(Fe),Ue&&We&&cr.push(function(yr){const jr=yr.theme.components?.[Ue]?.styleOverrides;if(!jr)return null;const vr={};for(const Tr in jr)vr[Tr]=processStyle(yr,jr[Tr],yr.theme.modularCssLayers?"theme":void 0);return We(yr,vr)}),Ue&&!Xe&&cr.push(function(yr){const jr=yr.theme?.components?.[Ue]?.variants;return jr?processStyleVariants(yr,jr,[],yr.theme.modularCssLayers?"theme":void 0):null}),Ye||cr.push(styleFunctionSx),Array.isArray(nr[0])){const or=nr.shift(),yr=new Array(ir.length).fill(""),Cr=new Array(cr.length).fill("");let jr;jr=[...yr,...or,...Cr],jr.raw=[...yr,...or.raw,...Cr],ir.unshift(jr)}const mr=[...ir,...nr,...cr],fr=Je(...mr);return Oe.muiName&&(fr.muiName=Oe.muiName),fr};return Je.withConfig&&(rr.withConfig=Je.withConfig),rr}}function generateStyledLabel(Re,Ce){return void 0}function isObjectEmpty$1(Re){for(const Ce in Re)return!1;return!0}function isStringTag(Re){return typeof Re=="string"&&Re.charCodeAt(0)>96}function lowercaseFirstLetter(Re){return Re&&Re.charAt(0).toLowerCase()+Re.slice(1)}function resolveProps(Re,Ce,je=!1){const Be={...Ce};for(const De in Re)if(Object.prototype.hasOwnProperty.call(Re,De)){const Fe=De;if(Fe==="components"||Fe==="slots")Be[Fe]={...Re[Fe],...Be[Fe]};else if(Fe==="componentsProps"||Fe==="slotProps"){const ke=Re[Fe],Oe=Ce[Fe];if(!Oe)Be[Fe]=ke||{};else if(!ke)Be[Fe]=Oe;else{Be[Fe]={...Oe};for(const Me in ke)if(Object.prototype.hasOwnProperty.call(ke,Me)){const Ue=Me;Be[Fe][Ue]=resolveProps(ke[Ue],Oe[Ue],je)}}}else Fe==="className"&&je&&Ce.className?Be.className=clsx(Re?.className,Ce?.className):Fe==="style"&&je&&Ce.style?Be.style={...Re?.style,...Ce?.style}:Be[Fe]===void 0&&(Be[Fe]=Re[Fe])}return Be}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function clamp(Re,Ce=Number.MIN_SAFE_INTEGER,je=Number.MAX_SAFE_INTEGER){return Math.max(Ce,Math.min(Re,je))}function clampWrapper(Re,Ce=0,je=1){return clamp(Re,Ce,je)}function hexToRgb(Re){Re=Re.slice(1);const Ce=new RegExp(`.{1,${Re.length>=6?2:1}}`,"g");let je=Re.match(Ce);return je&&je[0].length===1&&(je=je.map(Be=>Be+Be)),je?`rgb${je.length===4?"a":""}(${je.map((Be,De)=>De<3?parseInt(Be,16):Math.round(parseInt(Be,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(Re){if(Re.type)return Re;if(Re.charAt(0)==="#")return decomposeColor(hexToRgb(Re));const Ce=Re.indexOf("("),je=Re.substring(0,Ce);if(!["rgb","rgba","hsl","hsla","color"].includes(je))throw new Error(formatMuiErrorMessage(9,Re));let Be=Re.substring(Ce+1,Re.length-1),De;if(je==="color"){if(Be=Be.split(" "),De=Be.shift(),Be.length===4&&Be[3].charAt(0)==="/"&&(Be[3]=Be[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(De))throw new Error(formatMuiErrorMessage(10,De))}else Be=Be.split(",");return Be=Be.map(Fe=>parseFloat(Fe)),{type:je,values:Be,colorSpace:De}}const colorChannel=Re=>{const Ce=decomposeColor(Re);return Ce.values.slice(0,3).map((je,Be)=>Ce.type.includes("hsl")&&Be!==0?`${je}%`:je).join(" ")},private_safeColorChannel=(Re,Ce)=>{try{return colorChannel(Re)}catch{return Re}};function recomposeColor(Re){const{type:Ce,colorSpace:je}=Re;let{values:Be}=Re;return Ce.includes("rgb")?Be=Be.map((De,Fe)=>Fe<3?parseInt(De,10):De):Ce.includes("hsl")&&(Be[1]=`${Be[1]}%`,Be[2]=`${Be[2]}%`),Ce.includes("color")?Be=`${je} ${Be.join(" ")}`:Be=`${Be.join(", ")}`,`${Ce}(${Be})`}function hslToRgb(Re){Re=decomposeColor(Re);const{values:Ce}=Re,je=Ce[0],Be=Ce[1]/100,De=Ce[2]/100,Fe=Be*Math.min(De,1-De),ke=(Ue,$e=(Ue+je/30)%12)=>De-Fe*Math.max(Math.min($e-3,9-$e,1),-1);let Oe="rgb";const Me=[Math.round(ke(0)*255),Math.round(ke(8)*255),Math.round(ke(4)*255)];return Re.type==="hsla"&&(Oe+="a",Me.push(Ce[3])),recomposeColor({type:Oe,values:Me})}function getLuminance(Re){Re=decomposeColor(Re);let Ce=Re.type==="hsl"||Re.type==="hsla"?decomposeColor(hslToRgb(Re)).values:Re.values;return Ce=Ce.map(je=>(Re.type!=="color"&&(je/=255),je<=.03928?je/12.92:((je+.055)/1.055)**2.4)),Number((.2126*Ce[0]+.7152*Ce[1]+.0722*Ce[2]).toFixed(3))}function getContrastRatio(Re,Ce){const je=getLuminance(Re),Be=getLuminance(Ce);return(Math.max(je,Be)+.05)/(Math.min(je,Be)+.05)}function alpha(Re,Ce){return Re=decomposeColor(Re),Ce=clampWrapper(Ce),(Re.type==="rgb"||Re.type==="hsl")&&(Re.type+="a"),Re.type==="color"?Re.values[3]=`/${Ce}`:Re.values[3]=Ce,recomposeColor(Re)}function private_safeAlpha(Re,Ce,je){try{return alpha(Re,Ce)}catch{return Re}}function darken(Re,Ce){if(Re=decomposeColor(Re),Ce=clampWrapper(Ce),Re.type.includes("hsl"))Re.values[2]*=1-Ce;else if(Re.type.includes("rgb")||Re.type.includes("color"))for(let je=0;je<3;je+=1)Re.values[je]*=1-Ce;return recomposeColor(Re)}function private_safeDarken(Re,Ce,je){try{return darken(Re,Ce)}catch{return Re}}function lighten(Re,Ce){if(Re=decomposeColor(Re),Ce=clampWrapper(Ce),Re.type.includes("hsl"))Re.values[2]+=(100-Re.values[2])*Ce;else if(Re.type.includes("rgb"))for(let je=0;je<3;je+=1)Re.values[je]+=(255-Re.values[je])*Ce;else if(Re.type.includes("color"))for(let je=0;je<3;je+=1)Re.values[je]+=(1-Re.values[je])*Ce;return recomposeColor(Re)}function private_safeLighten(Re,Ce,je){try{return lighten(Re,Ce)}catch{return Re}}function emphasize(Re,Ce=.15){return getLuminance(Re)>.5?darken(Re,Ce):lighten(Re,Ce)}function private_safeEmphasize(Re,Ce,je){try{return emphasize(Re,Ce)}catch{return Re}}const RtlContext=reactExports.createContext(),useRtl=()=>reactExports.useContext(RtlContext)??!1,PropsContext=reactExports.createContext(void 0);function getThemeProps(Re){const{theme:Ce,name:je,props:Be}=Re;if(!Ce||!Ce.components||!Ce.components[je])return Be;const De=Ce.components[je];return De.defaultProps?resolveProps(De.defaultProps,Be,Ce.components.mergeClassNameAndStyle):!De.styleOverrides&&!De.variants?resolveProps(De,Be,Ce.components.mergeClassNameAndStyle):Be}function useDefaultProps$1({props:Re,name:Ce}){const je=reactExports.useContext(PropsContext);return getThemeProps({props:Re,name:Ce,theme:{components:je}})}let globalId=0;function useGlobalId(Re){const[Ce,je]=reactExports.useState(Re),Be=Ce;return reactExports.useEffect(()=>{Ce==null&&(globalId+=1,je(`mui-${globalId}`))},[Ce]),Be}const safeReact={...React$1},maybeReactUseId=safeReact.useId;function useId(Re){return maybeReactUseId!==void 0?maybeReactUseId():useGlobalId(Re)}const arg={theme:void 0};function unstable_memoTheme(Re){let Ce,je;return function(De){let Fe=Ce;return(Fe===void 0||De.theme!==je)&&(arg.theme=De.theme,Fe=preprocessStyles(Re(arg)),Ce=Fe,je=De.theme),Fe}}function createGetCssVar$1(Re=""){function Ce(...Be){if(!Be.length)return"";const De=Be[0];return typeof De=="string"&&!De.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${Re?`${Re}-`:""}${De}${Ce(...Be.slice(1))})`:`, ${De}`}return(Be,...De)=>`var(--${Re?`${Re}-`:""}${Be}${Ce(...De)})`}const assignNestedKeys=(Re,Ce,je,Be=[])=>{let De=Re;Ce.forEach((Fe,ke)=>{ke===Ce.length-1?Array.isArray(De)?De[Number(Fe)]=je:De&&typeof De=="object"&&(De[Fe]=je):De&&typeof De=="object"&&(De[Fe]||(De[Fe]=Be.includes(Fe)?[]:{}),De=De[Fe])})},walkObjectDeep=(Re,Ce,je)=>{function Be(De,Fe=[],ke=[]){Object.entries(De).forEach(([Oe,Me])=>{(!je||je&&!je([...Fe,Oe]))&&Me!=null&&(typeof Me=="object"&&Object.keys(Me).length>0?Be(Me,[...Fe,Oe],Array.isArray(Me)?[...ke,Oe]:ke):Ce([...Fe,Oe],Me,ke))})}Be(Re)},getCssValue=(Re,Ce)=>typeof Ce=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(Be=>Re.includes(Be))||Re[Re.length-1].toLowerCase().includes("opacity")?Ce:`${Ce}px`:Ce;function cssVarsParser(Re,Ce){const{prefix:je,shouldSkipGeneratingVar:Be}=Ce||{},De={},Fe={},ke={};return walkObjectDeep(Re,(Oe,Me,Ue)=>{if((typeof Me=="string"||typeof Me=="number")&&(!Be||!Be(Oe,Me))){const $e=`--${je?`${je}-`:""}${Oe.join("-")}`,He=getCssValue(Oe,Me);Object.assign(De,{[$e]:He}),assignNestedKeys(Fe,Oe,`var(${$e})`,Ue),assignNestedKeys(ke,Oe,`var(${$e}, ${He})`,Ue)}},Oe=>Oe[0]==="vars"),{css:De,vars:Fe,varsWithDefaults:ke}}function prepareCssVars(Re,Ce={}){const{getSelector:je=Ye,disableCssColorScheme:Be,colorSchemeSelector:De,enableContrastVars:Fe}=Ce,{colorSchemes:ke={},components:Oe,defaultColorScheme:Me="light",...Ue}=Re,{vars:$e,css:He,varsWithDefaults:Qe}=cssVarsParser(Ue,Ce);let We=Qe;const qe={},{[Me]:Ke,...Xe}=ke;if(Object.entries(Xe||{}).forEach(([tr,rr])=>{const{vars:ar,css:ir,varsWithDefaults:nr}=cssVarsParser(rr,Ce);We=deepmerge(We,nr),qe[tr]={css:ir,vars:ar}}),Ke){const{css:tr,vars:rr,varsWithDefaults:ar}=cssVarsParser(Ke,Ce);We=deepmerge(We,ar),qe[Me]={css:tr,vars:rr}}function Ye(tr,rr){let ar=De;if(De==="class"&&(ar=".%s"),De==="data"&&(ar="[data-%s]"),De?.startsWith("data-")&&!De.includes("%s")&&(ar=`[${De}="%s"]`),tr){if(ar==="media")return Re.defaultColorScheme===tr?":root":{[`@media (prefers-color-scheme: ${ke[tr]?.palette?.mode||tr})`]:{":root":rr}};if(ar)return Re.defaultColorScheme===tr?`:root, ${ar.replace("%s",String(tr))}`:ar.replace("%s",String(tr))}return":root"}return{vars:We,generateThemeVars:()=>{let tr={...$e};return Object.entries(qe).forEach(([,{vars:rr}])=>{tr=deepmerge(tr,rr)}),tr},generateStyleSheets:()=>{const tr=[],rr=Re.defaultColorScheme||"light";function ar(cr,mr){Object.keys(mr).length&&tr.push(typeof cr=="string"?{[cr]:{...mr}}:cr)}ar(je(void 0,{...He}),He);const{[rr]:ir,...nr}=qe;if(ir){const{css:cr}=ir,mr=ke[rr]?.palette?.mode,fr=!Be&&mr?{colorScheme:mr,...cr}:{...cr};ar(je(rr,{...fr}),fr)}return Object.entries(nr).forEach(([cr,{css:mr}])=>{const fr=ke[cr]?.palette?.mode,or=!Be&&fr?{colorScheme:fr,...mr}:{...mr};ar(je(cr,{...or}),or)}),Fe&&tr.push({":root":{"--__l-threshold":"0.7","--__l":"clamp(0, (l / var(--__l-threshold) - 1) * -infinity, 1)","--__a":"clamp(0.87, (l / var(--__l-threshold) - 1) * -infinity, 1)"}}),tr}}}function createGetColorSchemeSelector(Re){return function(je){return Re==="media"?`@media (prefers-color-scheme: ${je})`:Re?Re.startsWith("data-")&&!Re.includes("%s")?`[${Re}="${je}"] &`:Re==="class"?`.${je} &`:Re==="data"?`[data-${je}] &`:`${Re.replace("%s",je)} &`:"&"}}const common={black:"#000",white:"#fff"},grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},purple={50:"#f3e5f5",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",700:"#7b1fa2"},red={300:"#e57373",400:"#ef5350",500:"#f44336",700:"#d32f2f",800:"#c62828"},orange={300:"#ffb74d",400:"#ffa726",500:"#ff9800",700:"#f57c00",900:"#e65100"},blue={50:"#e3f2fd",200:"#90caf9",400:"#42a5f5",700:"#1976d2",800:"#1565c0"},lightBlue={300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",700:"#0288d1",900:"#01579b"},green={300:"#81c784",400:"#66bb6a",500:"#4caf50",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"};function getLight(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common.white,default:common.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const light=getLight();function getDark(){return{text:{primary:common.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const dark=getDark();function addLightOrDark(Re,Ce,je,Be){const De=Be.light||Be,Fe=Be.dark||Be*1.5;Re[Ce]||(Re.hasOwnProperty(je)?Re[Ce]=Re[je]:Ce==="light"?Re.light=lighten(Re.main,De):Ce==="dark"&&(Re.dark=darken(Re.main,Fe)))}function mixLightOrDark(Re,Ce,je,Be,De){const Fe=De.light||De,ke=De.dark||De*1.5;Ce[je]||(Ce.hasOwnProperty(Be)?Ce[je]=Ce[Be]:je==="light"?Ce.light=`color-mix(in ${Re}, ${Ce.main}, #fff ${(Fe*100).toFixed(0)}%)`:je==="dark"&&(Ce.dark=`color-mix(in ${Re}, ${Ce.main}, #000 ${(ke*100).toFixed(0)}%)`))}function getDefaultPrimary(Re="light"){return Re==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(Re="light"){return Re==="dark"?{main:purple[200],light:purple[50],dark:purple[400]}:{main:purple[500],light:purple[300],dark:purple[700]}}function getDefaultError(Re="light"){return Re==="dark"?{main:red[500],light:red[300],dark:red[700]}:{main:red[700],light:red[400],dark:red[800]}}function getDefaultInfo(Re="light"){return Re==="dark"?{main:lightBlue[400],light:lightBlue[300],dark:lightBlue[700]}:{main:lightBlue[700],light:lightBlue[500],dark:lightBlue[900]}}function getDefaultSuccess(Re="light"){return Re==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(Re="light"){return Re==="dark"?{main:orange[400],light:orange[300],dark:orange[700]}:{main:"#ed6c02",light:orange[500],dark:orange[900]}}function contrastColor(Re){return`oklch(from ${Re} var(--__l) 0 h / var(--__a))`}function createPalette(Re){const{mode:Ce="light",contrastThreshold:je=3,tonalOffset:Be=.2,colorSpace:De,...Fe}=Re,ke=Re.primary||getDefaultPrimary(Ce),Oe=Re.secondary||getDefaultSecondary(Ce),Me=Re.error||getDefaultError(Ce),Ue=Re.info||getDefaultInfo(Ce),$e=Re.success||getDefaultSuccess(Ce),He=Re.warning||getDefaultWarning(Ce);function Qe(Xe){return De?contrastColor(Xe):getContrastRatio(Xe,dark.text.primary)>=je?dark.text.primary:light.text.primary}const We=({color:Xe,name:Ye,mainShade:Ze=500,lightShade:Je=300,darkShade:tr=700})=>{if(Xe={...Xe},!Xe.main&&Xe[Ze]&&(Xe.main=Xe[Ze]),!Xe.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,Ye?` (${Ye})`:"",Ze));if(typeof Xe.main!="string")throw new Error(formatMuiErrorMessage(12,Ye?` (${Ye})`:"",JSON.stringify(Xe.main)));return De?(mixLightOrDark(De,Xe,"light",Je,Be),mixLightOrDark(De,Xe,"dark",tr,Be)):(addLightOrDark(Xe,"light",Je,Be),addLightOrDark(Xe,"dark",tr,Be)),Xe.contrastText||(Xe.contrastText=Qe(Xe.main)),Xe};let qe;return Ce==="light"?qe=getLight():Ce==="dark"&&(qe=getDark()),deepmerge({common:{...common},mode:Ce,primary:We({color:ke,name:"primary"}),secondary:We({color:Oe,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:We({color:Me,name:"error"}),warning:We({color:He,name:"warning"}),info:We({color:Ue,name:"info"}),success:We({color:$e,name:"success"}),grey,contrastThreshold:je,getContrastText:Qe,augmentColor:We,tonalOffset:Be,...qe},Fe)}function prepareTypographyVars(Re){const Ce={};return Object.entries(Re).forEach(Be=>{const[De,Fe]=Be;typeof Fe=="object"&&(Ce[De]=`${Fe.fontStyle?`${Fe.fontStyle} `:""}${Fe.fontVariant?`${Fe.fontVariant} `:""}${Fe.fontWeight?`${Fe.fontWeight} `:""}${Fe.fontStretch?`${Fe.fontStretch} `:""}${Fe.fontSize||""}${Fe.lineHeight?`/${Fe.lineHeight} `:""}${Fe.fontFamily||""}`)}),Ce}function createMixins(Re,Ce){return{toolbar:{minHeight:56,[Re.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[Re.up("sm")]:{minHeight:64}},...Ce}}function round(Re){return Math.round(Re*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(Re,Ce){const{fontFamily:je=defaultFontFamily,fontSize:Be=14,fontWeightLight:De=300,fontWeightRegular:Fe=400,fontWeightMedium:ke=500,fontWeightBold:Oe=700,htmlFontSize:Me=16,allVariants:Ue,pxToRem:$e,...He}=typeof Ce=="function"?Ce(Re):Ce,Qe=Be/14,We=$e||(Xe=>`${Xe/Me*Qe}rem`),qe=(Xe,Ye,Ze,Je,tr)=>({fontFamily:je,fontWeight:Xe,fontSize:We(Ye),lineHeight:Ze,...je===defaultFontFamily?{letterSpacing:`${round(Je/Ye)}em`}:{},...tr,...Ue}),Ke={h1:qe(De,96,1.167,-1.5),h2:qe(De,60,1.2,-.5),h3:qe(Fe,48,1.167,0),h4:qe(Fe,34,1.235,.25),h5:qe(Fe,24,1.334,0),h6:qe(ke,20,1.6,.15),subtitle1:qe(Fe,16,1.75,.15),subtitle2:qe(ke,14,1.57,.1),body1:qe(Fe,16,1.5,.15),body2:qe(Fe,14,1.43,.15),button:qe(ke,14,1.75,.4,caseAllCaps),caption:qe(Fe,12,1.66,.4),overline:qe(Fe,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge({htmlFontSize:Me,pxToRem:We,fontFamily:je,fontSize:Be,fontWeightLight:De,fontWeightRegular:Fe,fontWeightMedium:ke,fontWeightBold:Oe,...Ke},He,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...Re){return[`${Re[0]}px ${Re[1]}px ${Re[2]}px ${Re[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${Re[4]}px ${Re[5]}px ${Re[6]}px ${Re[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${Re[8]}px ${Re[9]}px ${Re[10]}px ${Re[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(Re){return`${Math.round(Re)}ms`}function getAutoHeightDuration(Re){if(!Re)return 0;const Ce=Re/36;return Math.min(Math.round((4+15*Ce**.25+Ce/5)*10),3e3)}function createTransitions(Re){const Ce={...easing,...Re.easing},je={...duration,...Re.duration};return{getAutoHeightDuration,create:(De=["all"],Fe={})=>{const{duration:ke=je.standard,easing:Oe=Ce.easeInOut,delay:Me=0,...Ue}=Fe;return(Array.isArray(De)?De:[De]).map($e=>`${$e} ${typeof ke=="string"?ke:formatMs(ke)} ${Oe} ${typeof Me=="string"?Me:formatMs(Me)}`).join(",")},...Re,easing:Ce,duration:je}}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function isSerializable(Re){return isPlainObject(Re)||typeof Re>"u"||typeof Re=="string"||typeof Re=="boolean"||typeof Re=="number"||Array.isArray(Re)}function stringifyTheme(Re={}){const Ce={...Re};function je(Be){const De=Object.entries(Be);for(let Fe=0;Fe<De.length;Fe++){const[ke,Oe]=De[Fe];!isSerializable(Oe)||ke.startsWith("unstable_")?delete Be[ke]:isPlainObject(Oe)&&(Be[ke]={...Oe},je(Be[ke]))}}return je(Ce),`import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';

const theme = ${JSON.stringify(Ce,null,2)};

theme.breakpoints = createBreakpoints(theme.breakpoints || {});
theme.transitions = createTransitions(theme.transitions || {});

export default theme;`}function coefficientToPercentage(Re){return typeof Re=="number"?`${(Re*100).toFixed(0)}%`:`calc((${Re}) * 100%)`}const parseAddition=Re=>{if(!Number.isNaN(+Re))return+Re;const Ce=Re.match(/\d*\.?\d+/g);if(!Ce)return 0;let je=0;for(let Be=0;Be<Ce.length;Be+=1)je+=+Ce[Be];return je};function attachColorManipulators(Re){Object.assign(Re,{alpha(Ce,je){const Be=this||Re;return Be.colorSpace?`oklch(from ${Ce} l c h / ${typeof je=="string"?`calc(${je})`:je})`:Be.vars?`rgba(${Ce.replace(/var\(--([^,\s)]+)(?:,[^)]+)?\)+/g,"var(--$1Channel)")} / ${typeof je=="string"?`calc(${je})`:je})`:alpha(Ce,parseAddition(je))},lighten(Ce,je){const Be=this||Re;return Be.colorSpace?`color-mix(in ${Be.colorSpace}, ${Ce}, #fff ${coefficientToPercentage(je)})`:lighten(Ce,je)},darken(Ce,je){const Be=this||Re;return Be.colorSpace?`color-mix(in ${Be.colorSpace}, ${Ce}, #000 ${coefficientToPercentage(je)})`:darken(Ce,je)}})}function createThemeNoVars(Re={},...Ce){const{breakpoints:je,mixins:Be={},spacing:De,palette:Fe={},transitions:ke={},typography:Oe={},shape:Me,colorSpace:Ue,...$e}=Re;if(Re.vars&&Re.generateThemeVars===void 0)throw new Error(formatMuiErrorMessage(20));const He=createPalette({...Fe,colorSpace:Ue}),Qe=createTheme$1(Re);let We=deepmerge(Qe,{mixins:createMixins(Qe.breakpoints,Be),palette:He,shadows:shadows.slice(),typography:createTypography(He,Oe),transitions:createTransitions(ke),zIndex:{...zIndex}});return We=deepmerge(We,$e),We=Ce.reduce((qe,Ke)=>deepmerge(qe,Ke),We),We.unstable_sxConfig={...defaultSxConfig,...$e?.unstable_sxConfig},We.unstable_sx=function(Ke){return styleFunctionSx({sx:Ke,theme:this})},We.toRuntimeSource=stringifyTheme,attachColorManipulators(We),We}function getOverlayAlpha(Re){let Ce;return Re<1?Ce=5.11916*Re**2:Ce=4.5*Math.log(Re+1)+2,Math.round(Ce*10)/1e3}const defaultDarkOverlays=[...Array(25)].map((Re,Ce)=>{if(Ce===0)return"none";const je=getOverlayAlpha(Ce);return`linear-gradient(rgba(255 255 255 / ${je}), rgba(255 255 255 / ${je}))`});function getOpacity(Re){return{inputPlaceholder:Re==="dark"?.5:.42,inputUnderline:Re==="dark"?.7:.42,switchTrackDisabled:Re==="dark"?.2:.12,switchTrack:Re==="dark"?.3:.38}}function getOverlays(Re){return Re==="dark"?defaultDarkOverlays:[]}function createColorScheme(Re){const{palette:Ce={mode:"light"},opacity:je,overlays:Be,colorSpace:De,...Fe}=Re,ke=createPalette({...Ce,colorSpace:De});return{palette:ke,opacity:{...getOpacity(ke.mode),...je},overlays:Be||getOverlays(ke.mode),...Fe}}function shouldSkipGeneratingVar(Re){return!!Re[0].match(/(cssVarPrefix|colorSchemeSelector|modularCssLayers|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!Re[0].match(/sxConfig$/)||Re[0]==="palette"&&!!Re[1]?.match(/(mode|contrastThreshold|tonalOffset)/)}const excludeVariablesFromRoot=Re=>[...[...Array(25)].map((Ce,je)=>`--${Re?`${Re}-`:""}overlays-${je}`),`--${Re?`${Re}-`:""}palette-AppBar-darkBg`,`--${Re?`${Re}-`:""}palette-AppBar-darkColor`],defaultGetSelector=Re=>(Ce,je)=>{const Be=Re.rootSelector||":root",De=Re.colorSchemeSelector;let Fe=De;if(De==="class"&&(Fe=".%s"),De==="data"&&(Fe="[data-%s]"),De?.startsWith("data-")&&!De.includes("%s")&&(Fe=`[${De}="%s"]`),Re.defaultColorScheme===Ce){if(Ce==="dark"){const ke={};return excludeVariablesFromRoot(Re.cssVarPrefix).forEach(Oe=>{ke[Oe]=je[Oe],delete je[Oe]}),Fe==="media"?{[Be]:je,"@media (prefers-color-scheme: dark)":{[Be]:ke}}:Fe?{[Fe.replace("%s",Ce)]:ke,[`${Be}, ${Fe.replace("%s",Ce)}`]:je}:{[Be]:{...je,...ke}}}if(Fe&&Fe!=="media")return`${Be}, ${Fe.replace("%s",String(Ce))}`}else if(Ce){if(Fe==="media")return{[`@media (prefers-color-scheme: ${String(Ce)})`]:{[Be]:je}};if(Fe)return Fe.replace("%s",String(Ce))}return Be};function assignNode(Re,Ce){Ce.forEach(je=>{Re[je]||(Re[je]={})})}function setColor(Re,Ce,je){!Re[Ce]&&je&&(Re[Ce]=je)}function toRgb(Re){return typeof Re!="string"||!Re.startsWith("hsl")?Re:hslToRgb(Re)}function setColorChannel(Re,Ce){`${Ce}Channel`in Re||(Re[`${Ce}Channel`]=private_safeColorChannel(toRgb(Re[Ce])))}function getSpacingVal(Re){return typeof Re=="number"?`${Re}px`:typeof Re=="string"||typeof Re=="function"||Array.isArray(Re)?Re:"8px"}const silent=Re=>{try{return Re()}catch{}},createGetCssVar=(Re="mui")=>createGetCssVar$1(Re);function attachColorScheme$1(Re,Ce,je,Be,De){if(!je)return;je=je===!0?{}:je;const Fe=De==="dark"?"dark":"light";if(!Be){Ce[De]=createColorScheme({...je,palette:{mode:Fe,...je?.palette},colorSpace:Re});return}const{palette:ke,...Oe}=createThemeNoVars({...Be,palette:{mode:Fe,...je?.palette},colorSpace:Re});return Ce[De]={...je,palette:ke,opacity:{...getOpacity(Fe),...je?.opacity},overlays:je?.overlays||getOverlays(Fe)},Oe}function createThemeWithVars(Re={},...Ce){const{colorSchemes:je={light:!0},defaultColorScheme:Be,disableCssColorScheme:De=!1,cssVarPrefix:Fe="mui",nativeColor:ke=!1,shouldSkipGeneratingVar:Oe=shouldSkipGeneratingVar,colorSchemeSelector:Me=je.light&&je.dark?"media":void 0,rootSelector:Ue=":root",...$e}=Re,He=Object.keys(je)[0],Qe=Be||(je.light&&He!=="light"?"light":He),We=createGetCssVar(Fe),{[Qe]:qe,light:Ke,dark:Xe,...Ye}=je,Ze={...Ye};let Je=qe;if((Qe==="dark"&&!("dark"in je)||Qe==="light"&&!("light"in je))&&(Je=!0),!Je)throw new Error(formatMuiErrorMessage(21,Qe));let tr;ke&&(tr="oklch");const rr=attachColorScheme$1(tr,Ze,Je,$e,Qe);Ke&&!Ze.light&&attachColorScheme$1(tr,Ze,Ke,void 0,"light"),Xe&&!Ze.dark&&attachColorScheme$1(tr,Ze,Xe,void 0,"dark");let ar={defaultColorScheme:Qe,...rr,cssVarPrefix:Fe,colorSchemeSelector:Me,rootSelector:Ue,getCssVar:We,colorSchemes:Ze,font:{...prepareTypographyVars(rr.typography),...rr.font},spacing:getSpacingVal($e.spacing)};Object.keys(ar.colorSchemes).forEach(fr=>{const or=ar.colorSchemes[fr].palette,yr=jr=>{const vr=jr.split("-"),Tr=vr[1],wr=vr[2];return We(jr,or[Tr][wr])};or.mode==="light"&&(setColor(or.common,"background","#fff"),setColor(or.common,"onBackground","#000")),or.mode==="dark"&&(setColor(or.common,"background","#000"),setColor(or.common,"onBackground","#fff"));function Cr(jr,vr,Tr){if(tr){let wr;return jr===private_safeAlpha&&(wr=`transparent ${((1-Tr)*100).toFixed(0)}%`),jr===private_safeDarken&&(wr=`#000 ${(Tr*100).toFixed(0)}%`),jr===private_safeLighten&&(wr=`#fff ${(Tr*100).toFixed(0)}%`),`color-mix(in ${tr}, ${vr}, ${wr})`}return jr(vr,Tr)}if(assignNode(or,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"]),or.mode==="light"){setColor(or.Alert,"errorColor",Cr(private_safeDarken,or.error.light,.6)),setColor(or.Alert,"infoColor",Cr(private_safeDarken,or.info.light,.6)),setColor(or.Alert,"successColor",Cr(private_safeDarken,or.success.light,.6)),setColor(or.Alert,"warningColor",Cr(private_safeDarken,or.warning.light,.6)),setColor(or.Alert,"errorFilledBg",yr("palette-error-main")),setColor(or.Alert,"infoFilledBg",yr("palette-info-main")),setColor(or.Alert,"successFilledBg",yr("palette-success-main")),setColor(or.Alert,"warningFilledBg",yr("palette-warning-main")),setColor(or.Alert,"errorFilledColor",silent(()=>or.getContrastText(or.error.main))),setColor(or.Alert,"infoFilledColor",silent(()=>or.getContrastText(or.info.main))),setColor(or.Alert,"successFilledColor",silent(()=>or.getContrastText(or.success.main))),setColor(or.Alert,"warningFilledColor",silent(()=>or.getContrastText(or.warning.main))),setColor(or.Alert,"errorStandardBg",Cr(private_safeLighten,or.error.light,.9)),setColor(or.Alert,"infoStandardBg",Cr(private_safeLighten,or.info.light,.9)),setColor(or.Alert,"successStandardBg",Cr(private_safeLighten,or.success.light,.9)),setColor(or.Alert,"warningStandardBg",Cr(private_safeLighten,or.warning.light,.9)),setColor(or.Alert,"errorIconColor",yr("palette-error-main")),setColor(or.Alert,"infoIconColor",yr("palette-info-main")),setColor(or.Alert,"successIconColor",yr("palette-success-main")),setColor(or.Alert,"warningIconColor",yr("palette-warning-main")),setColor(or.AppBar,"defaultBg",yr("palette-grey-100")),setColor(or.Avatar,"defaultBg",yr("palette-grey-400")),setColor(or.Button,"inheritContainedBg",yr("palette-grey-300")),setColor(or.Button,"inheritContainedHoverBg",yr("palette-grey-A100")),setColor(or.Chip,"defaultBorder",yr("palette-grey-400")),setColor(or.Chip,"defaultAvatarColor",yr("palette-grey-700")),setColor(or.Chip,"defaultIconColor",yr("palette-grey-700")),setColor(or.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),setColor(or.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),setColor(or.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),setColor(or.LinearProgress,"primaryBg",Cr(private_safeLighten,or.primary.main,.62)),setColor(or.LinearProgress,"secondaryBg",Cr(private_safeLighten,or.secondary.main,.62)),setColor(or.LinearProgress,"errorBg",Cr(private_safeLighten,or.error.main,.62)),setColor(or.LinearProgress,"infoBg",Cr(private_safeLighten,or.info.main,.62)),setColor(or.LinearProgress,"successBg",Cr(private_safeLighten,or.success.main,.62)),setColor(or.LinearProgress,"warningBg",Cr(private_safeLighten,or.warning.main,.62)),setColor(or.Skeleton,"bg",tr?Cr(private_safeAlpha,or.text.primary,.11):`rgba(${yr("palette-text-primaryChannel")} / 0.11)`),setColor(or.Slider,"primaryTrack",Cr(private_safeLighten,or.primary.main,.62)),setColor(or.Slider,"secondaryTrack",Cr(private_safeLighten,or.secondary.main,.62)),setColor(or.Slider,"errorTrack",Cr(private_safeLighten,or.error.main,.62)),setColor(or.Slider,"infoTrack",Cr(private_safeLighten,or.info.main,.62)),setColor(or.Slider,"successTrack",Cr(private_safeLighten,or.success.main,.62)),setColor(or.Slider,"warningTrack",Cr(private_safeLighten,or.warning.main,.62));const jr=tr?Cr(private_safeDarken,or.background.default,.6825):private_safeEmphasize(or.background.default,.8);setColor(or.SnackbarContent,"bg",jr),setColor(or.SnackbarContent,"color",silent(()=>tr?dark.text.primary:or.getContrastText(jr))),setColor(or.SpeedDialAction,"fabHoverBg",private_safeEmphasize(or.background.paper,.15)),setColor(or.StepConnector,"border",yr("palette-grey-400")),setColor(or.StepContent,"border",yr("palette-grey-400")),setColor(or.Switch,"defaultColor",yr("palette-common-white")),setColor(or.Switch,"defaultDisabledColor",yr("palette-grey-100")),setColor(or.Switch,"primaryDisabledColor",Cr(private_safeLighten,or.primary.main,.62)),setColor(or.Switch,"secondaryDisabledColor",Cr(private_safeLighten,or.secondary.main,.62)),setColor(or.Switch,"errorDisabledColor",Cr(private_safeLighten,or.error.main,.62)),setColor(or.Switch,"infoDisabledColor",Cr(private_safeLighten,or.info.main,.62)),setColor(or.Switch,"successDisabledColor",Cr(private_safeLighten,or.success.main,.62)),setColor(or.Switch,"warningDisabledColor",Cr(private_safeLighten,or.warning.main,.62)),setColor(or.TableCell,"border",Cr(private_safeLighten,Cr(private_safeAlpha,or.divider,1),.88)),setColor(or.Tooltip,"bg",Cr(private_safeAlpha,or.grey[700],.92))}if(or.mode==="dark"){setColor(or.Alert,"errorColor",Cr(private_safeLighten,or.error.light,.6)),setColor(or.Alert,"infoColor",Cr(private_safeLighten,or.info.light,.6)),setColor(or.Alert,"successColor",Cr(private_safeLighten,or.success.light,.6)),setColor(or.Alert,"warningColor",Cr(private_safeLighten,or.warning.light,.6)),setColor(or.Alert,"errorFilledBg",yr("palette-error-dark")),setColor(or.Alert,"infoFilledBg",yr("palette-info-dark")),setColor(or.Alert,"successFilledBg",yr("palette-success-dark")),setColor(or.Alert,"warningFilledBg",yr("palette-warning-dark")),setColor(or.Alert,"errorFilledColor",silent(()=>or.getContrastText(or.error.dark))),setColor(or.Alert,"infoFilledColor",silent(()=>or.getContrastText(or.info.dark))),setColor(or.Alert,"successFilledColor",silent(()=>or.getContrastText(or.success.dark))),setColor(or.Alert,"warningFilledColor",silent(()=>or.getContrastText(or.warning.dark))),setColor(or.Alert,"errorStandardBg",Cr(private_safeDarken,or.error.light,.9)),setColor(or.Alert,"infoStandardBg",Cr(private_safeDarken,or.info.light,.9)),setColor(or.Alert,"successStandardBg",Cr(private_safeDarken,or.success.light,.9)),setColor(or.Alert,"warningStandardBg",Cr(private_safeDarken,or.warning.light,.9)),setColor(or.Alert,"errorIconColor",yr("palette-error-main")),setColor(or.Alert,"infoIconColor",yr("palette-info-main")),setColor(or.Alert,"successIconColor",yr("palette-success-main")),setColor(or.Alert,"warningIconColor",yr("palette-warning-main")),setColor(or.AppBar,"defaultBg",yr("palette-grey-900")),setColor(or.AppBar,"darkBg",yr("palette-background-paper")),setColor(or.AppBar,"darkColor",yr("palette-text-primary")),setColor(or.Avatar,"defaultBg",yr("palette-grey-600")),setColor(or.Button,"inheritContainedBg",yr("palette-grey-800")),setColor(or.Button,"inheritContainedHoverBg",yr("palette-grey-700")),setColor(or.Chip,"defaultBorder",yr("palette-grey-700")),setColor(or.Chip,"defaultAvatarColor",yr("palette-grey-300")),setColor(or.Chip,"defaultIconColor",yr("palette-grey-300")),setColor(or.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),setColor(or.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),setColor(or.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),setColor(or.LinearProgress,"primaryBg",Cr(private_safeDarken,or.primary.main,.5)),setColor(or.LinearProgress,"secondaryBg",Cr(private_safeDarken,or.secondary.main,.5)),setColor(or.LinearProgress,"errorBg",Cr(private_safeDarken,or.error.main,.5)),setColor(or.LinearProgress,"infoBg",Cr(private_safeDarken,or.info.main,.5)),setColor(or.LinearProgress,"successBg",Cr(private_safeDarken,or.success.main,.5)),setColor(or.LinearProgress,"warningBg",Cr(private_safeDarken,or.warning.main,.5)),setColor(or.Skeleton,"bg",tr?Cr(private_safeAlpha,or.text.primary,.13):`rgba(${yr("palette-text-primaryChannel")} / 0.13)`),setColor(or.Slider,"primaryTrack",Cr(private_safeDarken,or.primary.main,.5)),setColor(or.Slider,"secondaryTrack",Cr(private_safeDarken,or.secondary.main,.5)),setColor(or.Slider,"errorTrack",Cr(private_safeDarken,or.error.main,.5)),setColor(or.Slider,"infoTrack",Cr(private_safeDarken,or.info.main,.5)),setColor(or.Slider,"successTrack",Cr(private_safeDarken,or.success.main,.5)),setColor(or.Slider,"warningTrack",Cr(private_safeDarken,or.warning.main,.5));const jr=tr?Cr(private_safeLighten,or.background.default,.985):private_safeEmphasize(or.background.default,.98);setColor(or.SnackbarContent,"bg",jr),setColor(or.SnackbarContent,"color",silent(()=>tr?light.text.primary:or.getContrastText(jr))),setColor(or.SpeedDialAction,"fabHoverBg",private_safeEmphasize(or.background.paper,.15)),setColor(or.StepConnector,"border",yr("palette-grey-600")),setColor(or.StepContent,"border",yr("palette-grey-600")),setColor(or.Switch,"defaultColor",yr("palette-grey-300")),setColor(or.Switch,"defaultDisabledColor",yr("palette-grey-600")),setColor(or.Switch,"primaryDisabledColor",Cr(private_safeDarken,or.primary.main,.55)),setColor(or.Switch,"secondaryDisabledColor",Cr(private_safeDarken,or.secondary.main,.55)),setColor(or.Switch,"errorDisabledColor",Cr(private_safeDarken,or.error.main,.55)),setColor(or.Switch,"infoDisabledColor",Cr(private_safeDarken,or.info.main,.55)),setColor(or.Switch,"successDisabledColor",Cr(private_safeDarken,or.success.main,.55)),setColor(or.Switch,"warningDisabledColor",Cr(private_safeDarken,or.warning.main,.55)),setColor(or.TableCell,"border",Cr(private_safeDarken,Cr(private_safeAlpha,or.divider,1),.68)),setColor(or.Tooltip,"bg",Cr(private_safeAlpha,or.grey[700],.92))}setColorChannel(or.background,"default"),setColorChannel(or.background,"paper"),setColorChannel(or.common,"background"),setColorChannel(or.common,"onBackground"),setColorChannel(or,"divider"),Object.keys(or).forEach(jr=>{const vr=or[jr];jr!=="tonalOffset"&&vr&&typeof vr=="object"&&(vr.main&&setColor(or[jr],"mainChannel",private_safeColorChannel(toRgb(vr.main))),vr.light&&setColor(or[jr],"lightChannel",private_safeColorChannel(toRgb(vr.light))),vr.dark&&setColor(or[jr],"darkChannel",private_safeColorChannel(toRgb(vr.dark))),vr.contrastText&&setColor(or[jr],"contrastTextChannel",private_safeColorChannel(toRgb(vr.contrastText))),jr==="text"&&(setColorChannel(or[jr],"primary"),setColorChannel(or[jr],"secondary")),jr==="action"&&(vr.active&&setColorChannel(or[jr],"active"),vr.selected&&setColorChannel(or[jr],"selected")))})}),ar=Ce.reduce((fr,or)=>deepmerge(fr,or),ar);const ir={prefix:Fe,disableCssColorScheme:De,shouldSkipGeneratingVar:Oe,getSelector:defaultGetSelector(ar),enableContrastVars:ke},{vars:nr,generateThemeVars:cr,generateStyleSheets:mr}=prepareCssVars(ar,ir);return ar.vars=nr,Object.entries(ar.colorSchemes[ar.defaultColorScheme]).forEach(([fr,or])=>{ar[fr]=or}),ar.generateThemeVars=cr,ar.generateStyleSheets=mr,ar.generateSpacing=function(){return createSpacing($e.spacing,createUnarySpacing(this))},ar.getColorSchemeSelector=createGetColorSchemeSelector(Me),ar.spacing=ar.generateSpacing(),ar.shouldSkipGeneratingVar=Oe,ar.unstable_sxConfig={...defaultSxConfig,...$e?.unstable_sxConfig},ar.unstable_sx=function(or){return styleFunctionSx({sx:or,theme:this})},ar.toRuntimeSource=stringifyTheme,ar}function attachColorScheme(Re,Ce,je){Re.colorSchemes&&je&&(Re.colorSchemes[Ce]={...je!==!0&&je,palette:createPalette({...je===!0?{}:je.palette,mode:Ce})})}function createTheme(Re={},...Ce){const{palette:je,cssVariables:Be=!1,colorSchemes:De=je?void 0:{light:!0},defaultColorScheme:Fe=je?.mode,...ke}=Re,Oe=Fe||"light",Me=De?.[Oe],Ue={...De,...je?{[Oe]:{...typeof Me!="boolean"&&Me,palette:je}}:void 0};if(Be===!1){if(!("colorSchemes"in Re))return createThemeNoVars(Re,...Ce);let $e=je;"palette"in Re||Ue[Oe]&&(Ue[Oe]!==!0?$e=Ue[Oe].palette:Oe==="dark"&&($e={mode:"dark"}));const He=createThemeNoVars({...Re,palette:$e},...Ce);return He.defaultColorScheme=Oe,He.colorSchemes=Ue,He.palette.mode==="light"&&(He.colorSchemes.light={...Ue.light!==!0&&Ue.light,palette:He.palette},attachColorScheme(He,"dark",Ue.dark)),He.palette.mode==="dark"&&(He.colorSchemes.dark={...Ue.dark!==!0&&Ue.dark,palette:He.palette},attachColorScheme(He,"light",Ue.light)),He}return!je&&!("light"in Ue)&&Oe==="light"&&(Ue.light=!0),createThemeWithVars({...ke,colorSchemes:Ue,defaultColorScheme:Oe,...typeof Be!="boolean"&&Be},...Ce)}const defaultTheme=createTheme(),THEME_ID="$$material";function useTheme(){const Re=useTheme$1(defaultTheme);return Re[THEME_ID]||Re}function GlobalStyles(Re){return jsxRuntimeExports.jsx(GlobalStyles$1,{...Re,defaultTheme,themeId:THEME_ID})}const styled=createStyled({themeId:THEME_ID,defaultTheme,rootShouldForwardProp});function globalCss(Re){return function(je){return jsxRuntimeExports.jsx(GlobalStyles,{styles:typeof Re=="function"?Be=>Re({theme:Be,...je}):Re})}}const memoTheme=unstable_memoTheme;function useDefaultProps(Re){return useDefaultProps$1(Re)}const ListContext=reactExports.createContext({});function isFocusVisible(Re){try{return Re.matches(":focus-visible")}catch{}return!1}function useForkRef(...Re){const Ce=reactExports.useRef(void 0),je=reactExports.useCallback(Be=>{const De=Re.map(Fe=>{if(Fe==null)return null;if(typeof Fe=="function"){const ke=Fe,Oe=ke(Be);return typeof Oe=="function"?Oe:()=>{ke(null)}}return Fe.current=Be,()=>{Fe.current=null}});return()=>{De.forEach(Fe=>Fe?.())}},Re);return reactExports.useMemo(()=>Re.every(Be=>Be==null)?null:Be=>{Ce.current&&(Ce.current(),Ce.current=void 0),Be!=null&&(Ce.current=je(Be))},Re)}function useEventCallback(Re){const Ce=reactExports.useRef(Re);return useEnhancedEffect(()=>{Ce.current=Re}),reactExports.useRef((...je)=>(0,Ce.current)(...je)).current}const UNINITIALIZED={};function useLazyRef(Re,Ce){const je=reactExports.useRef(UNINITIALIZED);return je.current===UNINITIALIZED&&(je.current=Re(Ce)),je}class LazyRipple{static create(){return new LazyRipple}static use(){const Ce=useLazyRef(LazyRipple.create).current,[je,Be]=reactExports.useState(!1);return Ce.shouldMount=je,Ce.setShouldMount=Be,reactExports.useEffect(Ce.mountEffect,[je]),Ce}constructor(){this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=createControlledPromise(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}mountEffect=()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())};start(...Ce){this.mount().then(()=>this.ref.current?.start(...Ce))}stop(...Ce){this.mount().then(()=>this.ref.current?.stop(...Ce))}pulsate(...Ce){this.mount().then(()=>this.ref.current?.pulsate(...Ce))}}function useLazyRipple(){return LazyRipple.use()}function createControlledPromise(){let Re,Ce;const je=new Promise((Be,De)=>{Re=Be,Ce=De});return je.resolve=Re,je.reject=Ce,je}function _inheritsLoose(Re,Ce){Re.prototype=Object.create(Ce.prototype),Re.prototype.constructor=Re,_setPrototypeOf(Re,Ce)}const config={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function Re(Ce){return Ce.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=(function(Re){_inheritsLoose(Ce,Re);function Ce(Be,De){var Fe;Fe=Re.call(this,Be,De)||this;var ke=De,Oe=ke&&!ke.isMounting?Be.enter:Be.appear,Me;return Fe.appearStatus=null,Be.in?Oe?(Me=EXITED,Fe.appearStatus=ENTERING):Me=ENTERED:Be.unmountOnExit||Be.mountOnEnter?Me=UNMOUNTED:Me=EXITED,Fe.state={status:Me},Fe.nextCallback=null,Fe}Ce.getDerivedStateFromProps=function(De,Fe){var ke=De.in;return ke&&Fe.status===UNMOUNTED?{status:EXITED}:null};var je=Ce.prototype;return je.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},je.componentDidUpdate=function(De){var Fe=null;if(De!==this.props){var ke=this.state.status;this.props.in?ke!==ENTERING&&ke!==ENTERED&&(Fe=ENTERING):(ke===ENTERING||ke===ENTERED)&&(Fe=EXITING)}this.updateStatus(!1,Fe)},je.componentWillUnmount=function(){this.cancelNextCallback()},je.getTimeouts=function(){var De=this.props.timeout,Fe,ke,Oe;return Fe=ke=Oe=De,De!=null&&typeof De!="number"&&(Fe=De.exit,ke=De.enter,Oe=De.appear!==void 0?De.appear:ke),{exit:Fe,enter:ke,appear:Oe}},je.updateStatus=function(De,Fe){if(De===void 0&&(De=!1),Fe!==null)if(this.cancelNextCallback(),Fe===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var ke=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);ke&&forceReflow(ke)}this.performEnter(De)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},je.performEnter=function(De){var Fe=this,ke=this.props.enter,Oe=this.context?this.context.isMounting:De,Me=this.props.nodeRef?[Oe]:[ReactDOM.findDOMNode(this),Oe],Ue=Me[0],$e=Me[1],He=this.getTimeouts(),Qe=Oe?He.appear:He.enter;if(!De&&!ke||config.disabled){this.safeSetState({status:ENTERED},function(){Fe.props.onEntered(Ue)});return}this.props.onEnter(Ue,$e),this.safeSetState({status:ENTERING},function(){Fe.props.onEntering(Ue,$e),Fe.onTransitionEnd(Qe,function(){Fe.safeSetState({status:ENTERED},function(){Fe.props.onEntered(Ue,$e)})})})},je.performExit=function(){var De=this,Fe=this.props.exit,ke=this.getTimeouts(),Oe=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!Fe||config.disabled){this.safeSetState({status:EXITED},function(){De.props.onExited(Oe)});return}this.props.onExit(Oe),this.safeSetState({status:EXITING},function(){De.props.onExiting(Oe),De.onTransitionEnd(ke.exit,function(){De.safeSetState({status:EXITED},function(){De.props.onExited(Oe)})})})},je.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},je.safeSetState=function(De,Fe){Fe=this.setNextCallback(Fe),this.setState(De,Fe)},je.setNextCallback=function(De){var Fe=this,ke=!0;return this.nextCallback=function(Oe){ke&&(ke=!1,Fe.nextCallback=null,De(Oe))},this.nextCallback.cancel=function(){ke=!1},this.nextCallback},je.onTransitionEnd=function(De,Fe){this.setNextCallback(Fe);var ke=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),Oe=De==null&&!this.props.addEndListener;if(!ke||Oe){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Me=this.props.nodeRef?[this.nextCallback]:[ke,this.nextCallback],Ue=Me[0],$e=Me[1];this.props.addEndListener(Ue,$e)}De!=null&&setTimeout(this.nextCallback,De)},je.render=function(){var De=this.state.status;if(De===UNMOUNTED)return null;var Fe=this.props,ke=Fe.children;Fe.in,Fe.mountOnEnter,Fe.unmountOnExit,Fe.appear,Fe.enter,Fe.exit,Fe.timeout,Fe.addEndListener,Fe.onEnter,Fe.onEntering,Fe.onEntered,Fe.onExit,Fe.onExiting,Fe.onExited,Fe.nodeRef;var Oe=_objectWithoutPropertiesLoose$1(Fe,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof ke=="function"?ke(De,Oe):React.cloneElement(React.Children.only(ke),Oe))},Ce})(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$1(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$1,onEntering:noop$1,onEntered:noop$1,onExit:noop$1,onExiting:noop$1,onExited:noop$1};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;function getChildMapping(Re,Ce){var je=function(Fe){return Ce&&reactExports.isValidElement(Fe)?Ce(Fe):Fe},Be=Object.create(null);return Re&&reactExports.Children.map(Re,function(De){return De}).forEach(function(De){Be[De.key]=je(De)}),Be}function mergeChildMappings(Re,Ce){Re=Re||{},Ce=Ce||{};function je($e){return $e in Ce?Ce[$e]:Re[$e]}var Be=Object.create(null),De=[];for(var Fe in Re)Fe in Ce?De.length&&(Be[Fe]=De,De=[]):De.push(Fe);var ke,Oe={};for(var Me in Ce){if(Be[Me])for(ke=0;ke<Be[Me].length;ke++){var Ue=Be[Me][ke];Oe[Be[Me][ke]]=je(Ue)}Oe[Me]=je(Me)}for(ke=0;ke<De.length;ke++)Oe[De[ke]]=je(De[ke]);return Oe}function getProp(Re,Ce,je){return je[Ce]!=null?je[Ce]:Re.props[Ce]}function getInitialChildMapping(Re,Ce){return getChildMapping(Re.children,function(je){return reactExports.cloneElement(je,{onExited:Ce.bind(null,je),in:!0,appear:getProp(je,"appear",Re),enter:getProp(je,"enter",Re),exit:getProp(je,"exit",Re)})})}function getNextChildMapping(Re,Ce,je){var Be=getChildMapping(Re.children),De=mergeChildMappings(Ce,Be);return Object.keys(De).forEach(function(Fe){var ke=De[Fe];if(reactExports.isValidElement(ke)){var Oe=Fe in Ce,Me=Fe in Be,Ue=Ce[Fe],$e=reactExports.isValidElement(Ue)&&!Ue.props.in;Me&&(!Oe||$e)?De[Fe]=reactExports.cloneElement(ke,{onExited:je.bind(null,ke),in:!0,exit:getProp(ke,"exit",Re),enter:getProp(ke,"enter",Re)}):!Me&&Oe&&!$e?De[Fe]=reactExports.cloneElement(ke,{in:!1}):Me&&Oe&&reactExports.isValidElement(Ue)&&(De[Fe]=reactExports.cloneElement(ke,{onExited:je.bind(null,ke),in:Ue.props.in,exit:getProp(ke,"exit",Re),enter:getProp(ke,"enter",Re)}))}}),De}var values=Object.values||function(Re){return Object.keys(Re).map(function(Ce){return Re[Ce]})},defaultProps={component:"div",childFactory:function Re(Ce){return Ce}},TransitionGroup=(function(Re){_inheritsLoose(Ce,Re);function Ce(Be,De){var Fe;Fe=Re.call(this,Be,De)||this;var ke=Fe.handleExited.bind(_assertThisInitialized(Fe));return Fe.state={contextValue:{isMounting:!0},handleExited:ke,firstRender:!0},Fe}var je=Ce.prototype;return je.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},je.componentWillUnmount=function(){this.mounted=!1},Ce.getDerivedStateFromProps=function(De,Fe){var ke=Fe.children,Oe=Fe.handleExited,Me=Fe.firstRender;return{children:Me?getInitialChildMapping(De,Oe):getNextChildMapping(De,ke,Oe),firstRender:!1}},je.handleExited=function(De,Fe){var ke=getChildMapping(this.props.children);De.key in ke||(De.props.onExited&&De.props.onExited(Fe),this.mounted&&this.setState(function(Oe){var Me=_extends$1({},Oe.children);return delete Me[De.key],{children:Me}}))},je.render=function(){var De=this.props,Fe=De.component,ke=De.childFactory,Oe=_objectWithoutPropertiesLoose$1(De,["component","childFactory"]),Me=this.state.contextValue,Ue=values(this.state.children).map(ke);return delete Oe.appear,delete Oe.enter,delete Oe.exit,Fe===null?React.createElement(TransitionGroupContext.Provider,{value:Me},Ue):React.createElement(TransitionGroupContext.Provider,{value:Me},React.createElement(Fe,Oe,Ue))},Ce})(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps;const EMPTY=[];function useOnMount(Re){reactExports.useEffect(Re,EMPTY)}class Timeout{static create(){return new Timeout}currentId=null;start(Ce,je){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,je()},Ce)}clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)};disposeEffect=()=>this.clear}function useTimeout(){const Re=useLazyRef(Timeout.create).current;return useOnMount(Re.disposeEffect),Re}function Ripple(Re){const{className:Ce,classes:je,pulsate:Be=!1,rippleX:De,rippleY:Fe,rippleSize:ke,in:Oe,onExited:Me,timeout:Ue}=Re,[$e,He]=reactExports.useState(!1),Qe=clsx(Ce,je.ripple,je.rippleVisible,Be&&je.ripplePulsate),We={width:ke,height:ke,top:-(ke/2)+Fe,left:-(ke/2)+De},qe=clsx(je.child,$e&&je.childLeaving,Be&&je.childPulsate);return!Oe&&!$e&&He(!0),reactExports.useEffect(()=>{if(!Oe&&Me!=null){const Ke=setTimeout(Me,Ue);return()=>{clearTimeout(Ke)}}},[Me,Oe,Ue]),jsxRuntimeExports.jsx("span",{className:Qe,style:We,children:jsxRuntimeExports.jsx("span",{className:qe})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,exitKeyframe=keyframes`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,pulsateKeyframe=keyframes`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${touchRippleClasses.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${enterKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:Re})=>Re.transitions.easing.easeInOut};
  }

  &.${touchRippleClasses.ripplePulsate} {
    animation-duration: ${({theme:Re})=>Re.transitions.duration.shorter}ms;
  }

  & .${touchRippleClasses.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${touchRippleClasses.childLeaving} {
    opacity: 0;
    animation-name: ${exitKeyframe};
    animation-duration: ${DURATION}ms;
    animation-timing-function: ${({theme:Re})=>Re.transitions.easing.easeInOut};
  }

  & .${touchRippleClasses.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${pulsateKeyframe};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:Re})=>Re.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,TouchRipple=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiTouchRipple"}),{center:De=!1,classes:Fe={},className:ke,...Oe}=Be,[Me,Ue]=reactExports.useState([]),$e=reactExports.useRef(0),He=reactExports.useRef(null);reactExports.useEffect(()=>{He.current&&(He.current(),He.current=null)},[Me]);const Qe=reactExports.useRef(!1),We=useTimeout(),qe=reactExports.useRef(null),Ke=reactExports.useRef(null),Xe=reactExports.useCallback(tr=>{const{pulsate:rr,rippleX:ar,rippleY:ir,rippleSize:nr,cb:cr}=tr;Ue(mr=>[...mr,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(Fe.ripple,touchRippleClasses.ripple),rippleVisible:clsx(Fe.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(Fe.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(Fe.child,touchRippleClasses.child),childLeaving:clsx(Fe.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(Fe.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:rr,rippleX:ar,rippleY:ir,rippleSize:nr},$e.current)]),$e.current+=1,He.current=cr},[Fe]),Ye=reactExports.useCallback((tr={},rr={},ar=()=>{})=>{const{pulsate:ir=!1,center:nr=De||rr.pulsate,fakeElement:cr=!1}=rr;if(tr?.type==="mousedown"&&Qe.current){Qe.current=!1;return}tr?.type==="touchstart"&&(Qe.current=!0);const mr=cr?null:Ke.current,fr=mr?mr.getBoundingClientRect():{width:0,height:0,left:0,top:0};let or,yr,Cr;if(nr||tr===void 0||tr.clientX===0&&tr.clientY===0||!tr.clientX&&!tr.touches)or=Math.round(fr.width/2),yr=Math.round(fr.height/2);else{const{clientX:jr,clientY:vr}=tr.touches&&tr.touches.length>0?tr.touches[0]:tr;or=Math.round(jr-fr.left),yr=Math.round(vr-fr.top)}if(nr)Cr=Math.sqrt((2*fr.width**2+fr.height**2)/3),Cr%2===0&&(Cr+=1);else{const jr=Math.max(Math.abs((mr?mr.clientWidth:0)-or),or)*2+2,vr=Math.max(Math.abs((mr?mr.clientHeight:0)-yr),yr)*2+2;Cr=Math.sqrt(jr**2+vr**2)}tr?.touches?qe.current===null&&(qe.current=()=>{Xe({pulsate:ir,rippleX:or,rippleY:yr,rippleSize:Cr,cb:ar})},We.start(DELAY_RIPPLE,()=>{qe.current&&(qe.current(),qe.current=null)})):Xe({pulsate:ir,rippleX:or,rippleY:yr,rippleSize:Cr,cb:ar})},[De,Xe,We]),Ze=reactExports.useCallback(()=>{Ye({},{pulsate:!0})},[Ye]),Je=reactExports.useCallback((tr,rr)=>{if(We.clear(),tr?.type==="touchend"&&qe.current){qe.current(),qe.current=null,We.start(0,()=>{Je(tr,rr)});return}qe.current=null,Ue(ar=>ar.length>0?ar.slice(1):ar),He.current=rr},[We]);return reactExports.useImperativeHandle(je,()=>({pulsate:Ze,start:Ye,stop:Je}),[Ze,Ye,Je]),jsxRuntimeExports.jsx(TouchRippleRoot,{className:clsx(touchRippleClasses.root,Fe.root,ke),ref:Ke,...Oe,children:jsxRuntimeExports.jsx(TransitionGroup,{component:null,exit:!0,children:Me})})});function getButtonBaseUtilityClass(Re){return generateUtilityClass("MuiButtonBase",Re)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),useUtilityClasses$f=Re=>{const{disabled:Ce,focusVisible:je,focusVisibleClassName:Be,classes:De}=Re,ke=composeClasses({root:["root",Ce&&"disabled",je&&"focusVisible"]},getButtonBaseUtilityClass,De);return je&&Be&&(ke.root+=` ${Be}`),ke},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiButtonBase"}),{action:De,centerRipple:Fe=!1,children:ke,className:Oe,component:Me="button",disabled:Ue=!1,disableRipple:$e=!1,disableTouchRipple:He=!1,focusRipple:Qe=!1,focusVisibleClassName:We,LinkComponent:qe="a",onBlur:Ke,onClick:Xe,onContextMenu:Ye,onDragLeave:Ze,onFocus:Je,onFocusVisible:tr,onKeyDown:rr,onKeyUp:ar,onMouseDown:ir,onMouseLeave:nr,onMouseUp:cr,onTouchEnd:mr,onTouchMove:fr,onTouchStart:or,tabIndex:yr=0,TouchRippleProps:Cr,touchRippleRef:jr,type:vr,...Tr}=Be,wr=reactExports.useRef(null),Er=useLazyRipple(),Pr=useForkRef(Er.ref,jr),[Mr,_r]=reactExports.useState(!1);Ue&&Mr&&_r(!1),reactExports.useImperativeHandle(De,()=>({focusVisible:()=>{_r(!0),wr.current.focus()}}),[]);const Ir=Er.shouldMount&&!$e&&!Ue;reactExports.useEffect(()=>{Mr&&Qe&&!$e&&Er.pulsate()},[$e,Qe,Mr,Er]);const Dr=useRippleHandler(Er,"start",ir,He),Or=useRippleHandler(Er,"stop",Ye,He),br=useRippleHandler(Er,"stop",Ze,He),Ur=useRippleHandler(Er,"stop",cr,He),Qr=useRippleHandler(Er,"stop",Gn=>{Mr&&Gn.preventDefault(),nr&&nr(Gn)},He),zr=useRippleHandler(Er,"start",or,He),Gr=useRippleHandler(Er,"stop",mr,He),fn=useRippleHandler(Er,"stop",fr,He),nn=useRippleHandler(Er,"stop",Gn=>{isFocusVisible(Gn.target)||_r(!1),Ke&&Ke(Gn)},!1),bn=useEventCallback(Gn=>{wr.current||(wr.current=Gn.currentTarget),isFocusVisible(Gn.target)&&(_r(!0),tr&&tr(Gn)),Je&&Je(Gn)}),hn=()=>{const Gn=wr.current;return Me&&Me!=="button"&&!(Gn.tagName==="A"&&Gn.href)},yn=useEventCallback(Gn=>{Qe&&!Gn.repeat&&Mr&&Gn.key===" "&&Er.stop(Gn,()=>{Er.start(Gn)}),Gn.target===Gn.currentTarget&&hn()&&Gn.key===" "&&Gn.preventDefault(),rr&&rr(Gn),Gn.target===Gn.currentTarget&&hn()&&Gn.key==="Enter"&&!Ue&&(Gn.preventDefault(),Xe&&Xe(Gn))}),Zr=useEventCallback(Gn=>{Qe&&Gn.key===" "&&Mr&&!Gn.defaultPrevented&&Er.stop(Gn,()=>{Er.pulsate(Gn)}),ar&&ar(Gn),Xe&&Gn.target===Gn.currentTarget&&hn()&&Gn.key===" "&&!Gn.defaultPrevented&&Xe(Gn)});let Rn=Me;Rn==="button"&&(Tr.href||Tr.to)&&(Rn=qe);const ri={};Rn==="button"?(ri.type=vr===void 0?"button":vr,ri.disabled=Ue):(!Tr.href&&!Tr.to&&(ri.role="button"),Ue&&(ri["aria-disabled"]=Ue));const Yn=useForkRef(je,wr),ti={...Be,centerRipple:Fe,component:Me,disabled:Ue,disableRipple:$e,disableTouchRipple:He,focusRipple:Qe,tabIndex:yr,focusVisible:Mr},ei=useUtilityClasses$f(ti);return jsxRuntimeExports.jsxs(ButtonBaseRoot,{as:Rn,className:clsx(ei.root,Oe),ownerState:ti,onBlur:nn,onClick:Xe,onContextMenu:Or,onFocus:bn,onKeyDown:yn,onKeyUp:Zr,onMouseDown:Dr,onMouseLeave:Qr,onMouseUp:Ur,onDragLeave:br,onTouchEnd:Gr,onTouchMove:fn,onTouchStart:zr,ref:Yn,tabIndex:Ue?-1:yr,type:vr,...ri,...Tr,children:[ke,Ir?jsxRuntimeExports.jsx(TouchRipple,{ref:Pr,center:Fe,...Cr}):null]})});function useRippleHandler(Re,Ce,je,Be=!1){return useEventCallback(De=>(je&&je(De),Be||Re[Ce](De),!0))}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]);function hasCorrectMainProperty(Re){return typeof Re.main=="string"}function checkSimplePaletteColorValues(Re,Ce=[]){if(!hasCorrectMainProperty(Re))return!1;for(const je of Ce)if(!Re.hasOwnProperty(je)||typeof Re[je]!="string")return!1;return!0}function createSimplePaletteValueFilter(Re=[]){return([,Ce])=>Ce&&checkSimplePaletteColorValues(Ce,Re)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);function isHostComponent$1(Re){return typeof Re=="string"}function appendOwnerState(Re,Ce,je){return Re===void 0||isHostComponent$1(Re)?Ce:{...Ce,ownerState:{...Ce.ownerState,...je}}}function resolveComponentProps(Re,Ce,je){return typeof Re=="function"?Re(Ce,je):Re}function extractEventHandlers(Re,Ce=[]){if(Re===void 0)return{};const je={};return Object.keys(Re).filter(Be=>Be.match(/^on[A-Z]/)&&typeof Re[Be]=="function"&&!Ce.includes(Be)).forEach(Be=>{je[Be]=Re[Be]}),je}function omitEventHandlers(Re){if(Re===void 0)return{};const Ce={};return Object.keys(Re).filter(je=>!(je.match(/^on[A-Z]/)&&typeof Re[je]=="function")).forEach(je=>{Ce[je]=Re[je]}),Ce}function mergeSlotProps$1(Re){const{getSlotProps:Ce,additionalProps:je,externalSlotProps:Be,externalForwardedProps:De,className:Fe}=Re;if(!Ce){const We=clsx(je?.className,Fe,De?.className,Be?.className),qe={...je?.style,...De?.style,...Be?.style},Ke={...je,...De,...Be};return We.length>0&&(Ke.className=We),Object.keys(qe).length>0&&(Ke.style=qe),{props:Ke,internalRef:void 0}}const ke=extractEventHandlers({...De,...Be}),Oe=omitEventHandlers(Be),Me=omitEventHandlers(De),Ue=Ce(ke),$e=clsx(Ue?.className,je?.className,Fe,De?.className,Be?.className),He={...Ue?.style,...je?.style,...De?.style,...Be?.style},Qe={...Ue,...je,...Me,...Oe};return $e.length>0&&(Qe.className=$e),Object.keys(He).length>0&&(Qe.style=He),{props:Qe,internalRef:Ue.ref}}function useSlot(Re,Ce){const{className:je,elementType:Be,ownerState:De,externalForwardedProps:Fe,internalForwardedProps:ke,shouldForwardComponentProp:Oe=!1,...Me}=Ce,{component:Ue,slots:$e={[Re]:void 0},slotProps:He={[Re]:void 0},...Qe}=Fe,We=$e[Re]||Be,qe=resolveComponentProps(He[Re],De),{props:{component:Ke,...Xe},internalRef:Ye}=mergeSlotProps$1({className:je,...Me,externalForwardedProps:Re==="root"?Qe:void 0,externalSlotProps:qe}),Ze=useForkRef(Ye,qe?.ref,Ce.ref),Je=Re==="root"?Ke||Ue:Ke,tr=appendOwnerState(We,{...Re==="root"&&!Ue&&!$e[Re]&&ke,...Re!=="root"&&!$e[Re]&&ke,...Xe,...Je&&!Oe&&{as:Je},...Je&&Oe&&{component:Je},ref:Ze},De);return[We,tr]}function getMenuItemUtilityClass(Re){return generateUtilityClass("MuiMenuItem",Re)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),overridesResolver=(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,je.dense&&Ce.dense,je.divider&&Ce.divider,!je.disableGutters&&Ce.gutters]},useUtilityClasses$e=Re=>{const{disabled:Ce,dense:je,divider:Be,disableGutters:De,selected:Fe,classes:ke}=Re,Me=composeClasses({root:["root",je&&"dense",Ce&&"disabled",!De&&"gutters",Be&&"divider",Fe&&"selected"]},getMenuItemUtilityClass,ke);return{...ke,...Me}},MenuItemRoot=styled(ButtonBase,{shouldForwardProp:Re=>rootShouldForwardProp(Re)||Re==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(memoTheme(({theme:Re})=>({...Re.typography.body1,display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap","&:hover":{textDecoration:"none",backgroundColor:(Re.vars||Re).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses.selected}`]:{backgroundColor:Re.alpha((Re.vars||Re).palette.primary.main,(Re.vars||Re).palette.action.selectedOpacity),[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:Re.alpha((Re.vars||Re).palette.primary.main,`${(Re.vars||Re).palette.action.selectedOpacity} + ${(Re.vars||Re).palette.action.focusOpacity}`)}},[`&.${menuItemClasses.selected}:hover`]:{backgroundColor:Re.alpha((Re.vars||Re).palette.primary.main,`${(Re.vars||Re).palette.action.selectedOpacity} + ${(Re.vars||Re).palette.action.hoverOpacity}`),"@media (hover: none)":{backgroundColor:Re.alpha((Re.vars||Re).palette.primary.main,(Re.vars||Re).palette.action.selectedOpacity)}},[`&.${menuItemClasses.focusVisible}`]:{backgroundColor:(Re.vars||Re).palette.action.focus},[`&.${menuItemClasses.disabled}`]:{opacity:(Re.vars||Re).palette.action.disabledOpacity},[`& + .${dividerClasses.root}`]:{marginTop:Re.spacing(1),marginBottom:Re.spacing(1)},[`& + .${dividerClasses.inset}`]:{marginLeft:52},[`& .${listItemTextClasses.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses.root}`]:{minWidth:36},variants:[{props:({ownerState:Ce})=>!Ce.disableGutters,style:{paddingLeft:16,paddingRight:16}},{props:({ownerState:Ce})=>Ce.divider,style:{borderBottom:`1px solid ${(Re.vars||Re).palette.divider}`,backgroundClip:"padding-box"}},{props:({ownerState:Ce})=>!Ce.dense,style:{[Re.breakpoints.up("sm")]:{minHeight:"auto"}}},{props:({ownerState:Ce})=>Ce.dense,style:{minHeight:32,paddingTop:4,paddingBottom:4,...Re.typography.body2,[`& .${listItemIconClasses.root} svg`]:{fontSize:"1.25rem"}}}]}))),MenuItem=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiMenuItem"}),{autoFocus:De=!1,component:Fe="li",dense:ke=!1,divider:Oe=!1,disableGutters:Me=!1,focusVisibleClassName:Ue,role:$e="menuitem",tabIndex:He,className:Qe,...We}=Be,qe=reactExports.useContext(ListContext),Ke=reactExports.useMemo(()=>({dense:ke||qe.dense||!1,disableGutters:Me}),[qe.dense,ke,Me]),Xe=reactExports.useRef(null);useEnhancedEffect(()=>{De&&Xe.current&&Xe.current.focus()},[De]);const Ye={...Be,dense:Ke.dense,divider:Oe,disableGutters:Me},Ze=useUtilityClasses$e(Be),Je=useForkRef(Xe,je);let tr;return Be.disabled||(tr=He!==void 0?He:-1),jsxRuntimeExports.jsx(ListContext.Provider,{value:Ke,children:jsxRuntimeExports.jsx(MenuItemRoot,{ref:Je,role:$e,tabIndex:tr,component:Fe,focusVisibleClassName:clsx(Ze.focusVisible,Ue),className:clsx(Ze.root,Qe),...We,ownerState:Ye,classes:Ze})})});function getReactElementRef(Re){return parseInt(reactExports.version,10)>=19?Re?.props?.ref||null:Re?.ref||null}function ownerDocument(Re){return Re&&Re.ownerDocument||document}function useSlotProps(Re){const{elementType:Ce,externalSlotProps:je,ownerState:Be,skipResolvingSlotProps:De=!1,...Fe}=Re,ke=De?{}:resolveComponentProps(je,Be),{props:Oe,internalRef:Me}=mergeSlotProps$1({...Fe,externalSlotProps:ke}),Ue=useForkRef(Me,ke?.ref,Re.additionalProps?.ref);return appendOwnerState(Ce,{...Oe,ref:Ue},Be)}function getListUtilityClass(Re){return generateUtilityClass("MuiList",Re)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const useUtilityClasses$d=Re=>{const{classes:Ce,disablePadding:je,dense:Be,subheader:De}=Re;return composeClasses({root:["root",!je&&"padding",Be&&"dense",De&&"subheader"]},getListUtilityClass,Ce)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,!je.disablePadding&&Ce.padding,je.dense&&Ce.dense,je.subheader&&Ce.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:({ownerState:Re})=>!Re.disablePadding,style:{paddingTop:8,paddingBottom:8}},{props:({ownerState:Re})=>Re.subheader,style:{paddingTop:0}}]}),List=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiList"}),{children:De,className:Fe,component:ke="ul",dense:Oe=!1,disablePadding:Me=!1,subheader:Ue,...$e}=Be,He=reactExports.useMemo(()=>({dense:Oe}),[Oe]),Qe={...Be,component:ke,dense:Oe,disablePadding:Me},We=useUtilityClasses$d(Qe);return jsxRuntimeExports.jsx(ListContext.Provider,{value:He,children:jsxRuntimeExports.jsxs(ListRoot,{as:ke,className:clsx(We.root,Fe),ref:je,ownerState:Qe,...$e,children:[Ue,De]})})});function getScrollbarSize(Re=window){const Ce=Re.document.documentElement.clientWidth;return Re.innerWidth-Ce}function createChainedFunction(...Re){return Re.reduce((Ce,je)=>je==null?Ce:function(...De){Ce.apply(this,De),je.apply(this,De)},()=>{})}function getSvgIconUtilityClass(Re){return generateUtilityClass("MuiSvgIcon",Re)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const useUtilityClasses$c=Re=>{const{color:Ce,fontSize:je,classes:Be}=Re,De={root:["root",Ce!=="inherit"&&`color${capitalize(Ce)}`,`fontSize${capitalize(je)}`]};return composeClasses(De,getSvgIconUtilityClass,Be)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,je.color!=="inherit"&&Ce[`color${capitalize(je.color)}`],Ce[`fontSize${capitalize(je.fontSize)}`]]}})(memoTheme(({theme:Re})=>({userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:Re.transitions?.create?.("fill",{duration:(Re.vars??Re).transitions?.duration?.shorter}),variants:[{props:Ce=>!Ce.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:Re.typography?.pxToRem?.(20)||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:Re.typography?.pxToRem?.(24)||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:Re.typography?.pxToRem?.(35)||"2.1875rem"}},...Object.entries((Re.vars??Re).palette).filter(([,Ce])=>Ce&&Ce.main).map(([Ce])=>({props:{color:Ce},style:{color:(Re.vars??Re).palette?.[Ce]?.main}})),{props:{color:"action"},style:{color:(Re.vars??Re).palette?.action?.active}},{props:{color:"disabled"},style:{color:(Re.vars??Re).palette?.action?.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}))),SvgIcon=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiSvgIcon"}),{children:De,className:Fe,color:ke="inherit",component:Oe="svg",fontSize:Me="medium",htmlColor:Ue,inheritViewBox:$e=!1,titleAccess:He,viewBox:Qe="0 0 24 24",...We}=Be,qe=reactExports.isValidElement(De)&&De.type==="svg",Ke={...Be,color:ke,component:Oe,fontSize:Me,instanceFontSize:Ce.fontSize,inheritViewBox:$e,viewBox:Qe,hasSvgAsChild:qe},Xe={};$e||(Xe.viewBox=Qe);const Ye=useUtilityClasses$c(Ke);return jsxRuntimeExports.jsxs(SvgIconRoot,{as:Oe,className:clsx(Ye.root,Fe),focusable:"false",color:Ue,"aria-hidden":He?void 0:!0,role:He?"img":void 0,ref:je,...Xe,...We,...qe&&De.props,ownerState:Ke,children:[qe?De.props.children:De,He?jsxRuntimeExports.jsx("title",{children:He}):null]})});SvgIcon.muiName="SvgIcon";function createSvgIcon(Re,Ce){function je(Be,De){return jsxRuntimeExports.jsx(SvgIcon,{"data-testid":void 0,ref:De,...Be,children:Re})}return je.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(je))}function debounce(Re,Ce=166){let je;function Be(...De){const Fe=()=>{Re.apply(this,De)};clearTimeout(je),je=setTimeout(Fe,Ce)}return Be.clear=()=>{clearTimeout(je)},Be}function ownerWindow(Re){return ownerDocument(Re).defaultView||window}function setRef(Re,Ce){typeof Re=="function"?Re(Ce):Re&&(Re.current=Ce)}function useControlled(Re){const{controlled:Ce,default:je,name:Be,state:De="value"}=Re,{current:Fe}=reactExports.useRef(Ce!==void 0),[ke,Oe]=reactExports.useState(je),Me=Fe?Ce:ke,Ue=reactExports.useCallback($e=>{Fe||Oe($e)},[]);return[Me,Ue]}function isEventHandler(Re,Ce){const je=Re.charCodeAt(2);return Re[0]==="o"&&Re[1]==="n"&&je>=65&&je<=90&&typeof Ce=="function"}function mergeSlotProps(Re,Ce){if(!Re)return Ce;function je(ke,Oe){const Me={};return Object.keys(Oe).forEach(Ue=>{isEventHandler(Ue,Oe[Ue])&&typeof ke[Ue]=="function"&&(Me[Ue]=(...$e)=>{ke[Ue](...$e),Oe[Ue](...$e)})}),Me}if(typeof Re=="function"||typeof Ce=="function")return ke=>{const Oe=typeof Ce=="function"?Ce(ke):Ce,Me=typeof Re=="function"?Re({...ke,...Oe}):Re,Ue=clsx(ke?.className,Oe?.className,Me?.className),$e=je(Me,Oe);return{...Oe,...Me,...$e,...!!Ue&&{className:Ue},...Oe?.style&&Me?.style&&{style:{...Oe.style,...Me.style}},...Oe?.sx&&Me?.sx&&{sx:[...Array.isArray(Oe.sx)?Oe.sx:[Oe.sx],...Array.isArray(Me.sx)?Me.sx:[Me.sx]]}}};const Be=Ce,De=je(Re,Be),Fe=clsx(Be?.className,Re?.className);return{...Ce,...Re,...De,...!!Fe&&{className:Fe},...Be?.style&&Re?.style&&{style:{...Be.style,...Re.style}},...Be?.sx&&Re?.sx&&{sx:[...Array.isArray(Be.sx)?Be.sx:[Be.sx],...Array.isArray(Re.sx)?Re.sx:[Re.sx]]}}}function nextItem(Re,Ce,je){return Re===Ce?Re.firstChild:Ce&&Ce.nextElementSibling?Ce.nextElementSibling:je?null:Re.firstChild}function previousItem(Re,Ce,je){return Re===Ce?je?Re.firstChild:Re.lastChild:Ce&&Ce.previousElementSibling?Ce.previousElementSibling:je?null:Re.lastChild}function textCriteriaMatches(Re,Ce){if(Ce===void 0)return!0;let je=Re.innerText;return je===void 0&&(je=Re.textContent),je=je.trim().toLowerCase(),je.length===0?!1:Ce.repeating?je[0]===Ce.keys[0]:je.startsWith(Ce.keys.join(""))}function moveFocus(Re,Ce,je,Be,De,Fe){let ke=!1,Oe=De(Re,Ce,Ce?je:!1);for(;Oe;){if(Oe===Re.firstChild){if(ke)return!1;ke=!0}const Me=Be?!1:Oe.disabled||Oe.getAttribute("aria-disabled")==="true";if(!Oe.hasAttribute("tabindex")||!textCriteriaMatches(Oe,Fe)||Me)Oe=De(Re,Oe,je);else return Oe.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function Re(Ce,je){const{actions:Be,autoFocus:De=!1,autoFocusItem:Fe=!1,children:ke,className:Oe,disabledItemsFocusable:Me=!1,disableListWrap:Ue=!1,onKeyDown:$e,variant:He="selectedMenu",...Qe}=Ce,We=reactExports.useRef(null),qe=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{De&&We.current.focus()},[De]),reactExports.useImperativeHandle(Be,()=>({adjustStyleForScrollbar:(Je,{direction:tr})=>{const rr=!We.current.style.width;if(Je.clientHeight<We.current.clientHeight&&rr){const ar=`${getScrollbarSize(ownerWindow(Je))}px`;We.current.style[tr==="rtl"?"paddingLeft":"paddingRight"]=ar,We.current.style.width=`calc(100% + ${ar})`}return We.current}}),[]);const Ke=Je=>{const tr=We.current,rr=Je.key;if(Je.ctrlKey||Je.metaKey||Je.altKey){$e&&$e(Je);return}const ir=ownerDocument(tr).activeElement;if(rr==="ArrowDown")Je.preventDefault(),moveFocus(tr,ir,Ue,Me,nextItem);else if(rr==="ArrowUp")Je.preventDefault(),moveFocus(tr,ir,Ue,Me,previousItem);else if(rr==="Home")Je.preventDefault(),moveFocus(tr,null,Ue,Me,nextItem);else if(rr==="End")Je.preventDefault(),moveFocus(tr,null,Ue,Me,previousItem);else if(rr.length===1){const nr=qe.current,cr=rr.toLowerCase(),mr=performance.now();nr.keys.length>0&&(mr-nr.lastTime>500?(nr.keys=[],nr.repeating=!0,nr.previousKeyMatched=!0):nr.repeating&&cr!==nr.keys[0]&&(nr.repeating=!1)),nr.lastTime=mr,nr.keys.push(cr);const fr=ir&&!nr.repeating&&textCriteriaMatches(ir,nr);nr.previousKeyMatched&&(fr||moveFocus(tr,ir,!1,Me,nextItem,nr))?Je.preventDefault():nr.previousKeyMatched=!1}$e&&$e(Je)},Xe=useForkRef(We,je);let Ye=-1;reactExports.Children.forEach(ke,(Je,tr)=>{if(!reactExports.isValidElement(Je)){Ye===tr&&(Ye+=1,Ye>=ke.length&&(Ye=-1));return}Je.props.disabled||(He==="selectedMenu"&&Je.props.selected||Ye===-1)&&(Ye=tr),Ye===tr&&(Je.props.disabled||Je.props.muiSkipListHighlight||Je.type.muiSkipListHighlight)&&(Ye+=1,Ye>=ke.length&&(Ye=-1))});const Ze=reactExports.Children.map(ke,(Je,tr)=>{if(tr===Ye){const rr={};return Fe&&(rr.autoFocus=!0),Je.props.tabIndex===void 0&&He==="selectedMenu"&&(rr.tabIndex=0),reactExports.cloneElement(Je,rr)}return Je});return jsxRuntimeExports.jsx(List,{role:"menu",ref:Xe,className:Oe,onKeyDown:Ke,tabIndex:De?0:-1,...Qe,children:Ze})});function isHostComponent(Re){return typeof Re=="string"}const reflow=Re=>Re.scrollTop;function getTransitionProps(Re,Ce){const{timeout:je,easing:Be,style:De={}}=Re;return{duration:De.transitionDuration??(typeof je=="number"?je:je[Ce.mode]||0),easing:De.transitionTimingFunction??(typeof Be=="object"?Be[Ce.mode]:Be),delay:De.transitionDelay}}function getScale(Re){return`scale(${Re}, ${Re**2})`}const styles$2={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function Re(Ce,je){const{addEndListener:Be,appear:De=!0,children:Fe,easing:ke,in:Oe,onEnter:Me,onEntered:Ue,onEntering:$e,onExit:He,onExited:Qe,onExiting:We,style:qe,timeout:Ke="auto",TransitionComponent:Xe=Transition,...Ye}=Ce,Ze=useTimeout(),Je=reactExports.useRef(),tr=useTheme(),rr=reactExports.useRef(null),ar=useForkRef(rr,getReactElementRef(Fe),je),ir=jr=>vr=>{if(jr){const Tr=rr.current;vr===void 0?jr(Tr):jr(Tr,vr)}},nr=ir($e),cr=ir((jr,vr)=>{reflow(jr);const{duration:Tr,delay:wr,easing:Er}=getTransitionProps({style:qe,timeout:Ke,easing:ke},{mode:"enter"});let Pr;Ke==="auto"?(Pr=tr.transitions.getAutoHeightDuration(jr.clientHeight),Je.current=Pr):Pr=Tr,jr.style.transition=[tr.transitions.create("opacity",{duration:Pr,delay:wr}),tr.transitions.create("transform",{duration:isWebKit154?Pr:Pr*.666,delay:wr,easing:Er})].join(","),Me&&Me(jr,vr)}),mr=ir(Ue),fr=ir(We),or=ir(jr=>{const{duration:vr,delay:Tr,easing:wr}=getTransitionProps({style:qe,timeout:Ke,easing:ke},{mode:"exit"});let Er;Ke==="auto"?(Er=tr.transitions.getAutoHeightDuration(jr.clientHeight),Je.current=Er):Er=vr,jr.style.transition=[tr.transitions.create("opacity",{duration:Er,delay:Tr}),tr.transitions.create("transform",{duration:isWebKit154?Er:Er*.666,delay:isWebKit154?Tr:Tr||Er*.333,easing:wr})].join(","),jr.style.opacity=0,jr.style.transform=getScale(.75),He&&He(jr)}),yr=ir(Qe),Cr=jr=>{Ke==="auto"&&Ze.start(Je.current||0,jr),Be&&Be(rr.current,jr)};return jsxRuntimeExports.jsx(Xe,{appear:De,in:Oe,nodeRef:rr,onEnter:cr,onEntered:mr,onEntering:nr,onExit:or,onExited:yr,onExiting:fr,addEndListener:Cr,timeout:Ke==="auto"?null:Ke,...Ye,children:(jr,{ownerState:vr,...Tr})=>reactExports.cloneElement(Fe,{style:{opacity:0,transform:getScale(.75),visibility:jr==="exited"&&!Oe?"hidden":void 0,...styles$2[jr],...qe,...Fe.props.style},ref:ar,...Tr})})});Grow&&(Grow.muiSupportAuto=!0);function isOverflowing(Re){const Ce=ownerDocument(Re);return Ce.body===Re?ownerWindow(Re).innerWidth>Ce.documentElement.clientWidth:Re.scrollHeight>Re.clientHeight}function ariaHidden(Re,Ce){Ce?Re.setAttribute("aria-hidden","true"):Re.removeAttribute("aria-hidden")}function getPaddingRight(Re){return parseInt(ownerWindow(Re).getComputedStyle(Re).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(Re){const je=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(Re.tagName),Be=Re.tagName==="INPUT"&&Re.getAttribute("type")==="hidden";return je||Be}function ariaHiddenSiblings(Re,Ce,je,Be,De){const Fe=[Ce,je,...Be];[].forEach.call(Re.children,ke=>{const Oe=!Fe.includes(ke),Me=!isAriaHiddenForbiddenOnElement(ke);Oe&&Me&&ariaHidden(ke,De)})}function findIndexOf(Re,Ce){let je=-1;return Re.some((Be,De)=>Ce(Be)?(je=De,!0):!1),je}function handleContainer(Re,Ce){const je=[],Be=Re.container;if(!Ce.disableScrollLock){if(isOverflowing(Be)){const ke=getScrollbarSize(ownerWindow(Be));je.push({value:Be.style.paddingRight,property:"padding-right",el:Be}),Be.style.paddingRight=`${getPaddingRight(Be)+ke}px`;const Oe=ownerDocument(Be).querySelectorAll(".mui-fixed");[].forEach.call(Oe,Me=>{je.push({value:Me.style.paddingRight,property:"padding-right",el:Me}),Me.style.paddingRight=`${getPaddingRight(Me)+ke}px`})}let Fe;if(Be.parentNode instanceof DocumentFragment)Fe=ownerDocument(Be).body;else{const ke=Be.parentElement,Oe=ownerWindow(Be);Fe=ke?.nodeName==="HTML"&&Oe.getComputedStyle(ke).overflowY==="scroll"?ke:Be}je.push({value:Fe.style.overflow,property:"overflow",el:Fe},{value:Fe.style.overflowX,property:"overflow-x",el:Fe},{value:Fe.style.overflowY,property:"overflow-y",el:Fe}),Fe.style.overflow="hidden"}return()=>{je.forEach(({value:Fe,el:ke,property:Oe})=>{Fe?ke.style.setProperty(Oe,Fe):ke.style.removeProperty(Oe)})}}function getHiddenSiblings(Re){const Ce=[];return[].forEach.call(Re.children,je=>{je.getAttribute("aria-hidden")==="true"&&Ce.push(je)}),Ce}class ModalManager{constructor(){this.modals=[],this.containers=[]}add(Ce,je){let Be=this.modals.indexOf(Ce);if(Be!==-1)return Be;Be=this.modals.length,this.modals.push(Ce),Ce.modalRef&&ariaHidden(Ce.modalRef,!1);const De=getHiddenSiblings(je);ariaHiddenSiblings(je,Ce.mount,Ce.modalRef,De,!0);const Fe=findIndexOf(this.containers,ke=>ke.container===je);return Fe!==-1?(this.containers[Fe].modals.push(Ce),Be):(this.containers.push({modals:[Ce],container:je,restore:null,hiddenSiblings:De}),Be)}mount(Ce,je){const Be=findIndexOf(this.containers,Fe=>Fe.modals.includes(Ce)),De=this.containers[Be];De.restore||(De.restore=handleContainer(De,je))}remove(Ce,je=!0){const Be=this.modals.indexOf(Ce);if(Be===-1)return Be;const De=findIndexOf(this.containers,ke=>ke.modals.includes(Ce)),Fe=this.containers[De];if(Fe.modals.splice(Fe.modals.indexOf(Ce),1),this.modals.splice(Be,1),Fe.modals.length===0)Fe.restore&&Fe.restore(),Ce.modalRef&&ariaHidden(Ce.modalRef,je),ariaHiddenSiblings(Fe.container,Ce.mount,Ce.modalRef,Fe.hiddenSiblings,!1),this.containers.splice(De,1);else{const ke=Fe.modals[Fe.modals.length-1];ke.modalRef&&ariaHidden(ke.modalRef,!1)}return Be}isTopModal(Ce){return this.modals.length>0&&this.modals[this.modals.length-1]===Ce}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(Re){const Ce=parseInt(Re.getAttribute("tabindex")||"",10);return Number.isNaN(Ce)?Re.contentEditable==="true"||(Re.nodeName==="AUDIO"||Re.nodeName==="VIDEO"||Re.nodeName==="DETAILS")&&Re.getAttribute("tabindex")===null?0:Re.tabIndex:Ce}function isNonTabbableRadio(Re){if(Re.tagName!=="INPUT"||Re.type!=="radio"||!Re.name)return!1;const Ce=Be=>Re.ownerDocument.querySelector(`input[type="radio"]${Be}`);let je=Ce(`[name="${Re.name}"]:checked`);return je||(je=Ce(`[name="${Re.name}"]`)),je!==Re}function isNodeMatchingSelectorFocusable(Re){return!(Re.disabled||Re.tagName==="INPUT"&&Re.type==="hidden"||isNonTabbableRadio(Re))}function defaultGetTabbable(Re){const Ce=[],je=[];return Array.from(Re.querySelectorAll(candidatesSelector)).forEach((Be,De)=>{const Fe=getTabIndex(Be);Fe===-1||!isNodeMatchingSelectorFocusable(Be)||(Fe===0?Ce.push(Be):je.push({documentOrder:De,tabIndex:Fe,node:Be}))}),je.sort((Be,De)=>Be.tabIndex===De.tabIndex?Be.documentOrder-De.documentOrder:Be.tabIndex-De.tabIndex).map(Be=>Be.node).concat(Ce)}function defaultIsEnabled(){return!0}function FocusTrap(Re){const{children:Ce,disableAutoFocus:je=!1,disableEnforceFocus:Be=!1,disableRestoreFocus:De=!1,getTabbable:Fe=defaultGetTabbable,isEnabled:ke=defaultIsEnabled,open:Oe}=Re,Me=reactExports.useRef(!1),Ue=reactExports.useRef(null),$e=reactExports.useRef(null),He=reactExports.useRef(null),Qe=reactExports.useRef(null),We=reactExports.useRef(!1),qe=reactExports.useRef(null),Ke=useForkRef(getReactElementRef(Ce),qe),Xe=reactExports.useRef(null);reactExports.useEffect(()=>{!Oe||!qe.current||(We.current=!je)},[je,Oe]),reactExports.useEffect(()=>{if(!Oe||!qe.current)return;const Je=ownerDocument(qe.current);return qe.current.contains(Je.activeElement)||(qe.current.hasAttribute("tabIndex")||qe.current.setAttribute("tabIndex","-1"),We.current&&qe.current.focus()),()=>{De||(He.current&&He.current.focus&&(Me.current=!0,He.current.focus()),He.current=null)}},[Oe]),reactExports.useEffect(()=>{if(!Oe||!qe.current)return;const Je=ownerDocument(qe.current),tr=ir=>{Xe.current=ir,!(Be||!ke()||ir.key!=="Tab")&&Je.activeElement===qe.current&&ir.shiftKey&&(Me.current=!0,$e.current&&$e.current.focus())},rr=()=>{const ir=qe.current;if(ir===null)return;if(!Je.hasFocus()||!ke()||Me.current){Me.current=!1;return}if(ir.contains(Je.activeElement)||Be&&Je.activeElement!==Ue.current&&Je.activeElement!==$e.current)return;if(Je.activeElement!==Qe.current)Qe.current=null;else if(Qe.current!==null)return;if(!We.current)return;let nr=[];if((Je.activeElement===Ue.current||Je.activeElement===$e.current)&&(nr=Fe(qe.current)),nr.length>0){const cr=!!(Xe.current?.shiftKey&&Xe.current?.key==="Tab"),mr=nr[0],fr=nr[nr.length-1];typeof mr!="string"&&typeof fr!="string"&&(cr?fr.focus():mr.focus())}else ir.focus()};Je.addEventListener("focusin",rr),Je.addEventListener("keydown",tr,!0);const ar=setInterval(()=>{Je.activeElement&&Je.activeElement.tagName==="BODY"&&rr()},50);return()=>{clearInterval(ar),Je.removeEventListener("focusin",rr),Je.removeEventListener("keydown",tr,!0)}},[je,Be,De,ke,Oe,Fe]);const Ye=Je=>{He.current===null&&(He.current=Je.relatedTarget),We.current=!0,Qe.current=Je.target;const tr=Ce.props.onFocus;tr&&tr(Je)},Ze=Je=>{He.current===null&&(He.current=Je.relatedTarget),We.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:Oe?0:-1,onFocus:Ze,ref:Ue,"data-testid":"sentinelStart"}),reactExports.cloneElement(Ce,{ref:Ke,onFocus:Ye}),jsxRuntimeExports.jsx("div",{tabIndex:Oe?0:-1,onFocus:Ze,ref:$e,"data-testid":"sentinelEnd"})]})}function getContainer$1(Re){return typeof Re=="function"?Re():Re}const Portal=reactExports.forwardRef(function Re(Ce,je){const{children:Be,container:De,disablePortal:Fe=!1}=Ce,[ke,Oe]=reactExports.useState(null),Me=useForkRef(reactExports.isValidElement(Be)?getReactElementRef(Be):null,je);if(useEnhancedEffect(()=>{Fe||Oe(getContainer$1(De)||document.body)},[De,Fe]),useEnhancedEffect(()=>{if(ke&&!Fe)return setRef(je,ke),()=>{setRef(je,null)}},[je,ke,Fe]),Fe){if(reactExports.isValidElement(Be)){const Ue={ref:Me};return reactExports.cloneElement(Be,Ue)}return Be}return ke&&reactDomExports.createPortal(Be,ke)}),styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function Re(Ce,je){const Be=useTheme(),De={enter:Be.transitions.duration.enteringScreen,exit:Be.transitions.duration.leavingScreen},{addEndListener:Fe,appear:ke=!0,children:Oe,easing:Me,in:Ue,onEnter:$e,onEntered:He,onEntering:Qe,onExit:We,onExited:qe,onExiting:Ke,style:Xe,timeout:Ye=De,TransitionComponent:Ze=Transition,...Je}=Ce,tr=reactExports.useRef(null),rr=useForkRef(tr,getReactElementRef(Oe),je),ar=Cr=>jr=>{if(Cr){const vr=tr.current;jr===void 0?Cr(vr):Cr(vr,jr)}},ir=ar(Qe),nr=ar((Cr,jr)=>{reflow(Cr);const vr=getTransitionProps({style:Xe,timeout:Ye,easing:Me},{mode:"enter"});Cr.style.webkitTransition=Be.transitions.create("opacity",vr),Cr.style.transition=Be.transitions.create("opacity",vr),$e&&$e(Cr,jr)}),cr=ar(He),mr=ar(Ke),fr=ar(Cr=>{const jr=getTransitionProps({style:Xe,timeout:Ye,easing:Me},{mode:"exit"});Cr.style.webkitTransition=Be.transitions.create("opacity",jr),Cr.style.transition=Be.transitions.create("opacity",jr),We&&We(Cr)}),or=ar(qe),yr=Cr=>{Fe&&Fe(tr.current,Cr)};return jsxRuntimeExports.jsx(Ze,{appear:ke,in:Ue,nodeRef:tr,onEnter:nr,onEntered:cr,onEntering:ir,onExit:fr,onExited:or,onExiting:mr,addEndListener:yr,timeout:Ye,...Je,children:(Cr,{ownerState:jr,...vr})=>reactExports.cloneElement(Oe,{style:{opacity:0,visibility:Cr==="exited"&&!Ue?"hidden":void 0,...styles$1[Cr],...Xe,...Oe.props.style},ref:rr,...vr})})});function getBackdropUtilityClass(Re){return generateUtilityClass("MuiBackdrop",Re)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const useUtilityClasses$b=Re=>{const{classes:Ce,invisible:je}=Re;return composeClasses({root:["root",je&&"invisible"]},getBackdropUtilityClass,Ce)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,je.invisible&&Ce.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Backdrop=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiBackdrop"}),{children:De,className:Fe,component:ke="div",invisible:Oe=!1,open:Me,components:Ue={},componentsProps:$e={},slotProps:He={},slots:Qe={},TransitionComponent:We,transitionDuration:qe,...Ke}=Be,Xe={...Be,component:ke,invisible:Oe},Ye=useUtilityClasses$b(Xe),Ze={transition:We,root:Ue.Root,...Qe},Je={...$e,...He},tr={component:ke,slots:Ze,slotProps:Je},[rr,ar]=useSlot("root",{elementType:BackdropRoot,externalForwardedProps:tr,className:clsx(Ye.root,Fe),ownerState:Xe}),[ir,nr]=useSlot("transition",{elementType:Fade,externalForwardedProps:tr,ownerState:Xe});return jsxRuntimeExports.jsx(ir,{in:Me,timeout:qe,...Ke,...nr,children:jsxRuntimeExports.jsx(rr,{"aria-hidden":!0,...ar,classes:Ye,ref:je,children:De})})});function getContainer(Re){return typeof Re=="function"?Re():Re}function getHasTransition(Re){return Re?Re.props.hasOwnProperty("in"):!1}const noop=()=>{},manager=new ModalManager;function useModal(Re){const{container:Ce,disableEscapeKeyDown:je=!1,disableScrollLock:Be=!1,closeAfterTransition:De=!1,onTransitionEnter:Fe,onTransitionExited:ke,children:Oe,onClose:Me,open:Ue,rootRef:$e}=Re,He=reactExports.useRef({}),Qe=reactExports.useRef(null),We=reactExports.useRef(null),qe=useForkRef(We,$e),[Ke,Xe]=reactExports.useState(!Ue),Ye=getHasTransition(Oe);let Ze=!0;(Re["aria-hidden"]==="false"||Re["aria-hidden"]===!1)&&(Ze=!1);const Je=()=>ownerDocument(Qe.current),tr=()=>(He.current.modalRef=We.current,He.current.mount=Qe.current,He.current),rr=()=>{manager.mount(tr(),{disableScrollLock:Be}),We.current&&(We.current.scrollTop=0)},ar=useEventCallback(()=>{const jr=getContainer(Ce)||Je().body;manager.add(tr(),jr),We.current&&rr()}),ir=()=>manager.isTopModal(tr()),nr=useEventCallback(jr=>{Qe.current=jr,jr&&(Ue&&ir()?rr():We.current&&ariaHidden(We.current,Ze))}),cr=reactExports.useCallback(()=>{manager.remove(tr(),Ze)},[Ze]);reactExports.useEffect(()=>()=>{cr()},[cr]),reactExports.useEffect(()=>{Ue?ar():(!Ye||!De)&&cr()},[Ue,cr,Ye,De,ar]);const mr=jr=>vr=>{jr.onKeyDown?.(vr),!(vr.key!=="Escape"||vr.which===229||!ir())&&(je||(vr.stopPropagation(),Me&&Me(vr,"escapeKeyDown")))},fr=jr=>vr=>{jr.onClick?.(vr),vr.target===vr.currentTarget&&Me&&Me(vr,"backdropClick")};return{getRootProps:(jr={})=>{const vr=extractEventHandlers(Re);delete vr.onTransitionEnter,delete vr.onTransitionExited;const Tr={...vr,...jr};return{role:"presentation",...Tr,onKeyDown:mr(Tr),ref:qe}},getBackdropProps:(jr={})=>{const vr=jr;return{"aria-hidden":!0,...vr,onClick:fr(vr),open:Ue}},getTransitionProps:()=>{const jr=()=>{Xe(!1),Fe&&Fe()},vr=()=>{Xe(!0),ke&&ke(),De&&cr()};return{onEnter:createChainedFunction(jr,Oe?.props.onEnter??noop),onExited:createChainedFunction(vr,Oe?.props.onExited??noop)}},rootRef:qe,portalRef:nr,isTopModal:ir,exited:Ke,hasTransition:Ye}}function getModalUtilityClass(Re){return generateUtilityClass("MuiModal",Re)}generateUtilityClasses("MuiModal",["root","hidden","backdrop"]);const useUtilityClasses$a=Re=>{const{open:Ce,exited:je,classes:Be}=Re;return composeClasses({root:["root",!Ce&&je&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,Be)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,!je.open&&je.exited&&Ce.hidden]}})(memoTheme(({theme:Re})=>({position:"fixed",zIndex:(Re.vars||Re).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:({ownerState:Ce})=>!Ce.open&&Ce.exited,style:{visibility:"hidden"}}]}))),ModalBackdrop=styled(Backdrop,{name:"MuiModal",slot:"Backdrop"})({zIndex:-1}),Modal=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({name:"MuiModal",props:Ce}),{BackdropComponent:De=ModalBackdrop,BackdropProps:Fe,classes:ke,className:Oe,closeAfterTransition:Me=!1,children:Ue,container:$e,component:He,components:Qe={},componentsProps:We={},disableAutoFocus:qe=!1,disableEnforceFocus:Ke=!1,disableEscapeKeyDown:Xe=!1,disablePortal:Ye=!1,disableRestoreFocus:Ze=!1,disableScrollLock:Je=!1,hideBackdrop:tr=!1,keepMounted:rr=!1,onClose:ar,onTransitionEnter:ir,onTransitionExited:nr,open:cr,slotProps:mr={},slots:fr={},theme:or,...yr}=Be,Cr={...Be,closeAfterTransition:Me,disableAutoFocus:qe,disableEnforceFocus:Ke,disableEscapeKeyDown:Xe,disablePortal:Ye,disableRestoreFocus:Ze,disableScrollLock:Je,hideBackdrop:tr,keepMounted:rr},{getRootProps:jr,getBackdropProps:vr,getTransitionProps:Tr,portalRef:wr,isTopModal:Er,exited:Pr,hasTransition:Mr}=useModal({...Cr,rootRef:je}),_r={...Cr,exited:Pr},Ir=useUtilityClasses$a(_r),Dr={};if(Ue.props.tabIndex===void 0&&(Dr.tabIndex="-1"),Mr){const{onEnter:Gr,onExited:fn}=Tr();Dr.onEnter=Gr,Dr.onExited=fn}const Or={slots:{root:Qe.Root,backdrop:Qe.Backdrop,...fr},slotProps:{...We,...mr}},[br,Ur]=useSlot("root",{ref:je,elementType:ModalRoot,externalForwardedProps:{...Or,...yr,component:He},getSlotProps:jr,ownerState:_r,className:clsx(Oe,Ir?.root,!_r.open&&_r.exited&&Ir?.hidden)}),[Qr,zr]=useSlot("backdrop",{ref:Fe?.ref,elementType:De,externalForwardedProps:Or,shouldForwardComponentProp:!0,additionalProps:Fe,getSlotProps:Gr=>vr({...Gr,onClick:fn=>{Gr?.onClick&&Gr.onClick(fn)}}),className:clsx(Fe?.className,Ir?.backdrop),ownerState:_r});return!rr&&!cr&&(!Mr||Pr)?null:jsxRuntimeExports.jsx(Portal,{ref:wr,container:$e,disablePortal:Ye,children:jsxRuntimeExports.jsxs(br,{...Ur,children:[!tr&&De?jsxRuntimeExports.jsx(Qr,{...zr}):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:Ke,disableAutoFocus:qe,disableRestoreFocus:Ze,isEnabled:Er,open:cr,children:reactExports.cloneElement(Ue,Dr)})]})})});function getPaperUtilityClass(Re){return generateUtilityClass("MuiPaper",Re)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const useUtilityClasses$9=Re=>{const{square:Ce,elevation:je,variant:Be,classes:De}=Re,Fe={root:["root",Be,!Ce&&"rounded",Be==="elevation"&&`elevation${je}`]};return composeClasses(Fe,getPaperUtilityClass,De)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,Ce[je.variant],!je.square&&Ce.rounded,je.variant==="elevation"&&Ce[`elevation${je.elevation}`]]}})(memoTheme(({theme:Re})=>({backgroundColor:(Re.vars||Re).palette.background.paper,color:(Re.vars||Re).palette.text.primary,transition:Re.transitions.create("box-shadow"),variants:[{props:({ownerState:Ce})=>!Ce.square,style:{borderRadius:Re.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(Re.vars||Re).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Paper=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiPaper"}),De=useTheme(),{className:Fe,component:ke="div",elevation:Oe=1,square:Me=!1,variant:Ue="elevation",...$e}=Be,He={...Be,component:ke,elevation:Oe,square:Me,variant:Ue},Qe=useUtilityClasses$9(He);return jsxRuntimeExports.jsx(PaperRoot,{as:ke,ownerState:He,className:clsx(Qe.root,Fe),ref:je,...$e,style:{...Ue==="elevation"&&{"--Paper-shadow":(De.vars||De).shadows[Oe],...De.vars&&{"--Paper-overlay":De.vars.overlays?.[Oe]},...!De.vars&&De.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${alpha("#fff",getOverlayAlpha(Oe))}, ${alpha("#fff",getOverlayAlpha(Oe))})`}},...$e.style}})});function getPopoverUtilityClass(Re){return generateUtilityClass("MuiPopover",Re)}generateUtilityClasses("MuiPopover",["root","paper"]);function getOffsetTop(Re,Ce){let je=0;return typeof Ce=="number"?je=Ce:Ce==="center"?je=Re.height/2:Ce==="bottom"&&(je=Re.height),je}function getOffsetLeft(Re,Ce){let je=0;return typeof Ce=="number"?je=Ce:Ce==="center"?je=Re.width/2:Ce==="right"&&(je=Re.width),je}function getTransformOriginValue(Re){return[Re.horizontal,Re.vertical].map(Ce=>typeof Ce=="number"?`${Ce}px`:Ce).join(" ")}function resolveAnchorEl(Re){return typeof Re=="function"?Re():Re}const useUtilityClasses$8=Re=>{const{classes:Ce}=Re;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,Ce)},PopoverRoot=styled(Modal,{name:"MuiPopover",slot:"Root"})({}),PopoverPaper=styled(Paper,{name:"MuiPopover",slot:"Paper"})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiPopover"}),{action:De,anchorEl:Fe,anchorOrigin:ke={vertical:"top",horizontal:"left"},anchorPosition:Oe,anchorReference:Me="anchorEl",children:Ue,className:$e,container:He,elevation:Qe=8,marginThreshold:We=16,open:qe,PaperProps:Ke={},slots:Xe={},slotProps:Ye={},transformOrigin:Ze={vertical:"top",horizontal:"left"},TransitionComponent:Je,transitionDuration:tr="auto",TransitionProps:rr={},disableScrollLock:ar=!1,...ir}=Be,nr=reactExports.useRef(),cr={...Be,anchorOrigin:ke,anchorReference:Me,elevation:Qe,marginThreshold:We,transformOrigin:Ze,TransitionComponent:Je,transitionDuration:tr,TransitionProps:rr},mr=useUtilityClasses$8(cr),fr=reactExports.useCallback(()=>{if(Me==="anchorPosition")return Oe;const Gr=resolveAnchorEl(Fe),nn=(Gr&&Gr.nodeType===1?Gr:ownerDocument(nr.current).body).getBoundingClientRect();return{top:nn.top+getOffsetTop(nn,ke.vertical),left:nn.left+getOffsetLeft(nn,ke.horizontal)}},[Fe,ke.horizontal,ke.vertical,Oe,Me]),or=reactExports.useCallback(Gr=>({vertical:getOffsetTop(Gr,Ze.vertical),horizontal:getOffsetLeft(Gr,Ze.horizontal)}),[Ze.horizontal,Ze.vertical]),yr=reactExports.useCallback(Gr=>{const fn={width:Gr.offsetWidth,height:Gr.offsetHeight},nn=or(fn);if(Me==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(nn)};const bn=fr();let hn=bn.top-nn.vertical,yn=bn.left-nn.horizontal;const Zr=hn+fn.height,Rn=yn+fn.width,ri=ownerWindow(resolveAnchorEl(Fe)),Yn=ri.innerHeight-We,ti=ri.innerWidth-We;if(We!==null&&hn<We){const ei=hn-We;hn-=ei,nn.vertical+=ei}else if(We!==null&&Zr>Yn){const ei=Zr-Yn;hn-=ei,nn.vertical+=ei}if(We!==null&&yn<We){const ei=yn-We;yn-=ei,nn.horizontal+=ei}else if(Rn>ti){const ei=Rn-ti;yn-=ei,nn.horizontal+=ei}return{top:`${Math.round(hn)}px`,left:`${Math.round(yn)}px`,transformOrigin:getTransformOriginValue(nn)}},[Fe,Me,fr,or,We]),[Cr,jr]=reactExports.useState(qe),vr=reactExports.useCallback(()=>{const Gr=nr.current;if(!Gr)return;const fn=yr(Gr);fn.top!==null&&Gr.style.setProperty("top",fn.top),fn.left!==null&&(Gr.style.left=fn.left),Gr.style.transformOrigin=fn.transformOrigin,jr(!0)},[yr]);reactExports.useEffect(()=>(ar&&window.addEventListener("scroll",vr),()=>window.removeEventListener("scroll",vr)),[Fe,ar,vr]);const Tr=()=>{vr()},wr=()=>{jr(!1)};reactExports.useEffect(()=>{qe&&vr()}),reactExports.useImperativeHandle(De,()=>qe?{updatePosition:()=>{vr()}}:null,[qe,vr]),reactExports.useEffect(()=>{if(!qe)return;const Gr=debounce(()=>{vr()}),fn=ownerWindow(resolveAnchorEl(Fe));return fn.addEventListener("resize",Gr),()=>{Gr.clear(),fn.removeEventListener("resize",Gr)}},[Fe,qe,vr]);let Er=tr;const Pr={slots:{transition:Je,...Xe},slotProps:{transition:rr,paper:Ke,...Ye}},[Mr,_r]=useSlot("transition",{elementType:Grow,externalForwardedProps:Pr,ownerState:cr,getSlotProps:Gr=>({...Gr,onEntering:(fn,nn)=>{Gr.onEntering?.(fn,nn),Tr()},onExited:fn=>{Gr.onExited?.(fn),wr()}}),additionalProps:{appear:!0,in:qe}});tr==="auto"&&!Mr.muiSupportAuto&&(Er=void 0);const Ir=He||(Fe?ownerDocument(resolveAnchorEl(Fe)).body:void 0),[Dr,{slots:Or,slotProps:br,...Ur}]=useSlot("root",{ref:je,elementType:PopoverRoot,externalForwardedProps:{...Pr,...ir},shouldForwardComponentProp:!0,additionalProps:{slots:{backdrop:Xe.backdrop},slotProps:{backdrop:mergeSlotProps(typeof Ye.backdrop=="function"?Ye.backdrop(cr):Ye.backdrop,{invisible:!0})},container:Ir,open:qe},ownerState:cr,className:clsx(mr.root,$e)}),[Qr,zr]=useSlot("paper",{ref:nr,className:mr.paper,elementType:PopoverPaper,externalForwardedProps:Pr,shouldForwardComponentProp:!0,additionalProps:{elevation:Qe,style:Cr?void 0:{opacity:0}},ownerState:cr});return jsxRuntimeExports.jsx(Dr,{...Ur,...!isHostComponent(Dr)&&{slots:Or,slotProps:br,disableScrollLock:ar},children:jsxRuntimeExports.jsx(Mr,{..._r,timeout:Er,children:jsxRuntimeExports.jsx(Qr,{...zr,children:Ue})})})});function getMenuUtilityClass(Re){return generateUtilityClass("MuiMenu",Re)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$7=Re=>{const{classes:Ce}=Re;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,Ce)},MenuRoot=styled(Popover,{shouldForwardProp:Re=>rootShouldForwardProp(Re)||Re==="classes",name:"MuiMenu",slot:"Root"})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper"})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList,{name:"MuiMenu",slot:"List"})({outline:0}),Menu=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiMenu"}),{autoFocus:De=!0,children:Fe,className:ke,disableAutoFocusItem:Oe=!1,MenuListProps:Me={},onClose:Ue,open:$e,PaperProps:He={},PopoverClasses:Qe,transitionDuration:We="auto",TransitionProps:{onEntering:qe,...Ke}={},variant:Xe="selectedMenu",slots:Ye={},slotProps:Ze={},...Je}=Be,tr=useRtl(),rr={...Be,autoFocus:De,disableAutoFocusItem:Oe,MenuListProps:Me,onEntering:qe,PaperProps:He,transitionDuration:We,TransitionProps:Ke,variant:Xe},ar=useUtilityClasses$7(rr),ir=De&&!Oe&&$e,nr=reactExports.useRef(null),cr=(Er,Pr)=>{nr.current&&nr.current.adjustStyleForScrollbar(Er,{direction:tr?"rtl":"ltr"}),qe&&qe(Er,Pr)},mr=Er=>{Er.key==="Tab"&&(Er.preventDefault(),Ue&&Ue(Er,"tabKeyDown"))};let fr=-1;reactExports.Children.map(Fe,(Er,Pr)=>{reactExports.isValidElement(Er)&&(Er.props.disabled||(Xe==="selectedMenu"&&Er.props.selected||fr===-1)&&(fr=Pr))});const or={slots:Ye,slotProps:{list:Me,transition:Ke,paper:He,...Ze}},yr=useSlotProps({elementType:Ye.root,externalSlotProps:Ze.root,ownerState:rr,className:[ar.root,ke]}),[Cr,jr]=useSlot("paper",{className:ar.paper,elementType:MenuPaper,externalForwardedProps:or,shouldForwardComponentProp:!0,ownerState:rr}),[vr,Tr]=useSlot("list",{className:clsx(ar.list,Me.className),elementType:MenuMenuList,shouldForwardComponentProp:!0,externalForwardedProps:or,getSlotProps:Er=>({...Er,onKeyDown:Pr=>{mr(Pr),Er.onKeyDown?.(Pr)}}),ownerState:rr}),wr=typeof or.slotProps.transition=="function"?or.slotProps.transition(rr):or.slotProps.transition;return jsxRuntimeExports.jsx(MenuRoot,{onClose:Ue,anchorOrigin:{vertical:"bottom",horizontal:tr?"right":"left"},transformOrigin:tr?RTL_ORIGIN:LTR_ORIGIN,slots:{root:Ye.root,paper:Cr,backdrop:Ye.backdrop,...Ye.transition&&{transition:Ye.transition}},slotProps:{root:yr,paper:jr,backdrop:typeof Ze.backdrop=="function"?Ze.backdrop(rr):Ze.backdrop,transition:{...wr,onEntering:(...Er)=>{cr(...Er),wr?.onEntering?.(...Er)}}},open:$e,ref:je,transitionDuration:We,ownerState:rr,...Je,classes:Qe,children:jsxRuntimeExports.jsx(vr,{actions:nr,autoFocus:De&&(fr===-1||Oe),autoFocusItem:ir,variant:Xe,...Tr,children:Fe})})});function getNativeSelectUtilityClasses(Re){return generateUtilityClass("MuiNativeSelect",Re)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),useUtilityClasses$6=Re=>{const{classes:Ce,variant:je,disabled:Be,multiple:De,open:Fe,error:ke}=Re,Oe={select:["select",je,Be&&"disabled",De&&"multiple",ke&&"error"],icon:["icon",`icon${capitalize(je)}`,Fe&&"iconOpen",Be&&"disabled"]};return composeClasses(Oe,getNativeSelectUtilityClasses,Ce)},StyledSelectSelect=styled("select",{name:"MuiNativeSelect"})(({theme:Re})=>({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":{borderRadius:0},[`&.${nativeSelectClasses.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(Re.vars||Re).palette.background.paper},variants:[{props:({ownerState:Ce})=>Ce.variant!=="filled"&&Ce.variant!=="outlined",style:{"&&&":{paddingRight:24,minWidth:16}}},{props:{variant:"filled"},style:{"&&&":{paddingRight:32}}},{props:{variant:"outlined"},style:{borderRadius:(Re.vars||Re).shape.borderRadius,"&:focus":{borderRadius:(Re.vars||Re).shape.borderRadius},"&&&":{paddingRight:32}}}]})),NativeSelectSelect=styled(StyledSelectSelect,{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.select,Ce[je.variant],je.error&&Ce.error,{[`&.${nativeSelectClasses.multiple}`]:Ce.multiple}]}})({}),StyledSelectIcon=styled("svg",{name:"MuiNativeSelect"})(({theme:Re})=>({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(Re.vars||Re).palette.action.active,[`&.${nativeSelectClasses.disabled}`]:{color:(Re.vars||Re).palette.action.disabled},variants:[{props:({ownerState:Ce})=>Ce.open,style:{transform:"rotate(180deg)"}},{props:{variant:"filled"},style:{right:7}},{props:{variant:"outlined"},style:{right:7}}]})),NativeSelectIcon=styled(StyledSelectIcon,{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.icon,je.variant&&Ce[`icon${capitalize(je.variant)}`],je.open&&Ce.iconOpen]}})({}),NativeSelectInput=reactExports.forwardRef(function Re(Ce,je){const{className:Be,disabled:De,error:Fe,IconComponent:ke,inputRef:Oe,variant:Me="standard",...Ue}=Ce,$e={...Ce,disabled:De,variant:Me,error:Fe},He=useUtilityClasses$6($e);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,{ownerState:$e,className:clsx(He.select,Be),disabled:De,ref:Oe||je,...Ue}),Ce.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:ke,ownerState:$e,className:He.icon})]})});function hasValue(Re){return Re!=null&&!(Array.isArray(Re)&&Re.length===0)}function isFilled(Re,Ce=!1){return Re&&(hasValue(Re.value)&&Re.value!==""||Ce&&hasValue(Re.defaultValue)&&Re.defaultValue!=="")}function getSelectUtilityClasses(Re){return generateUtilityClass("MuiSelect",Re)}const selectClasses=generateUtilityClasses("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span$1;const SelectSelect=styled(StyledSelectSelect,{name:"MuiSelect",slot:"Select",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[{[`&.${selectClasses.select}`]:Ce.select},{[`&.${selectClasses.select}`]:Ce[je.variant]},{[`&.${selectClasses.error}`]:Ce.error},{[`&.${selectClasses.multiple}`]:Ce.multiple}]}})({[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled(StyledSelectIcon,{name:"MuiSelect",slot:"Icon",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.icon,je.variant&&Ce[`icon${capitalize(je.variant)}`],je.open&&Ce.iconOpen]}})({}),SelectNativeInput=styled("input",{shouldForwardProp:Re=>slotShouldForwardProp(Re)&&Re!=="classes",name:"MuiSelect",slot:"NativeInput"})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(Re,Ce){return typeof Ce=="object"&&Ce!==null?Re===Ce:String(Re)===String(Ce)}function isEmpty$1(Re){return Re==null||typeof Re=="string"&&!Re.trim()}const useUtilityClasses$5=Re=>{const{classes:Ce,variant:je,disabled:Be,multiple:De,open:Fe,error:ke}=Re,Oe={select:["select",je,Be&&"disabled",De&&"multiple",ke&&"error"],icon:["icon",`icon${capitalize(je)}`,Fe&&"iconOpen",Be&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(Oe,getSelectUtilityClasses,Ce)},SelectInput=reactExports.forwardRef(function Re(Ce,je){const{"aria-describedby":Be,"aria-label":De,autoFocus:Fe,autoWidth:ke,children:Oe,className:Me,defaultOpen:Ue,defaultValue:$e,disabled:He,displayEmpty:Qe,error:We=!1,IconComponent:qe,inputRef:Ke,labelId:Xe,MenuProps:Ye={},multiple:Ze,name:Je,onBlur:tr,onChange:rr,onClose:ar,onFocus:ir,onOpen:nr,open:cr,readOnly:mr,renderValue:fr,required:or,SelectDisplayProps:yr={},tabIndex:Cr,type:jr,value:vr,variant:Tr="standard",...wr}=Ce,[Er,Pr]=useControlled({controlled:vr,default:$e,name:"Select"}),[Mr,_r]=useControlled({controlled:cr,default:Ue,name:"Select"}),Ir=reactExports.useRef(null),Dr=reactExports.useRef(null),[Or,br]=reactExports.useState(null),{current:Ur}=reactExports.useRef(cr!=null),[Qr,zr]=reactExports.useState(),Gr=useForkRef(je,Ke),fn=reactExports.useCallback(Vn=>{Dr.current=Vn,Vn&&br(Vn)},[]),nn=Or?.parentNode;reactExports.useImperativeHandle(Gr,()=>({focus:()=>{Dr.current.focus()},node:Ir.current,value:Er}),[Er]),reactExports.useEffect(()=>{Ue&&Mr&&Or&&!Ur&&(zr(ke?null:nn.clientWidth),Dr.current.focus())},[Or,ke]),reactExports.useEffect(()=>{Fe&&Dr.current.focus()},[Fe]),reactExports.useEffect(()=>{if(!Xe)return;const Vn=ownerDocument(Dr.current).getElementById(Xe);if(Vn){const yi=()=>{getSelection().isCollapsed&&Dr.current.focus()};return Vn.addEventListener("click",yi),()=>{Vn.removeEventListener("click",yi)}}},[Xe]);const bn=(Vn,yi)=>{Vn?nr&&nr(yi):ar&&ar(yi),Ur||(zr(ke?null:nn.clientWidth),_r(Vn))},hn=Vn=>{Vn.button===0&&(Vn.preventDefault(),Dr.current.focus(),bn(!0,Vn))},yn=Vn=>{bn(!1,Vn)},Zr=reactExports.Children.toArray(Oe),Rn=Vn=>{const yi=Zr.find(jn=>jn.props.value===Vn.target.value);yi!==void 0&&(Pr(yi.props.value),rr&&rr(Vn,yi))},ri=Vn=>yi=>{let jn;if(yi.currentTarget.hasAttribute("tabindex")){if(Ze){jn=Array.isArray(Er)?Er.slice():[];const vn=Er.indexOf(Vn.props.value);vn===-1?jn.push(Vn.props.value):jn.splice(vn,1)}else jn=Vn.props.value;if(Vn.props.onClick&&Vn.props.onClick(yi),Er!==jn&&(Pr(jn),rr)){const vn=yi.nativeEvent||yi,Ni=new vn.constructor(vn.type,vn);Object.defineProperty(Ni,"target",{writable:!0,value:{value:jn,name:Je}}),rr(Ni,Vn)}Ze||bn(!1,yi)}},Yn=Vn=>{mr||[" ","ArrowUp","ArrowDown","Enter"].includes(Vn.key)&&(Vn.preventDefault(),bn(!0,Vn))},ti=Or!==null&&Mr,ei=Vn=>{!ti&&tr&&(Object.defineProperty(Vn,"target",{writable:!0,value:{value:Er,name:Je}}),tr(Vn))};delete wr["aria-invalid"];let Gn,Ei;const Ci=[];let Fi=!1;(isFilled({value:Er})||Qe)&&(fr?Gn=fr(Er):Fi=!0);const Si=Zr.map(Vn=>{if(!reactExports.isValidElement(Vn))return null;let yi;if(Ze){if(!Array.isArray(Er))throw new Error(formatMuiErrorMessage(2));yi=Er.some(jn=>areEqualValues(jn,Vn.props.value)),yi&&Fi&&Ci.push(Vn.props.children)}else yi=areEqualValues(Er,Vn.props.value),yi&&Fi&&(Ei=Vn.props.children);return reactExports.cloneElement(Vn,{"aria-selected":yi?"true":"false",onClick:ri(Vn),onKeyUp:jn=>{jn.key===" "&&jn.preventDefault(),Vn.props.onKeyUp&&Vn.props.onKeyUp(jn)},role:"option",selected:yi,value:void 0,"data-value":Vn.props.value})});Fi&&(Ze?Ci.length===0?Gn=null:Gn=Ci.reduce((Vn,yi,jn)=>(Vn.push(yi),jn<Ci.length-1&&Vn.push(", "),Vn),[]):Gn=Ei);let Ti=Qr;!ke&&Ur&&Or&&(Ti=nn.clientWidth);let ji;typeof Cr<"u"?ji=Cr:ji=He?null:0;const wi=yr.id||(Je?`mui-component-select-${Je}`:void 0),En={...Ce,variant:Tr,value:Er,open:ti,error:We},an=useUtilityClasses$5(En),On={...Ye.PaperProps,...typeof Ye.slotProps?.paper=="function"?Ye.slotProps.paper(En):Ye.slotProps?.paper},Mn={...Ye.MenuListProps,...typeof Ye.slotProps?.list=="function"?Ye.slotProps.list(En):Ye.slotProps?.list},ui=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,{as:"div",ref:fn,tabIndex:ji,role:"combobox","aria-controls":ti?ui:void 0,"aria-disabled":He?"true":void 0,"aria-expanded":ti?"true":"false","aria-haspopup":"listbox","aria-label":De,"aria-labelledby":[Xe,wi].filter(Boolean).join(" ")||void 0,"aria-describedby":Be,"aria-required":or?"true":void 0,"aria-invalid":We?"true":void 0,onKeyDown:Yn,onMouseDown:He||mr?null:hn,onBlur:ei,onFocus:ir,...yr,ownerState:En,className:clsx(yr.className,an.select,Me),id:wi,children:isEmpty$1(Gn)?_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:""})):Gn}),jsxRuntimeExports.jsx(SelectNativeInput,{"aria-invalid":We,value:Array.isArray(Er)?Er.join(","):Er,name:Je,ref:Ir,"aria-hidden":!0,onChange:Rn,tabIndex:-1,disabled:He,className:an.nativeInput,autoFocus:Fe,required:or,...wr,ownerState:En}),jsxRuntimeExports.jsx(SelectIcon,{as:qe,className:an.icon,ownerState:En}),jsxRuntimeExports.jsx(Menu,{id:`menu-${Je||""}`,anchorEl:nn,open:ti,onClose:yn,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},...Ye,slotProps:{...Ye.slotProps,list:{"aria-labelledby":Xe,role:"listbox","aria-multiselectable":Ze?"true":void 0,disableListWrap:!0,id:ui,...Mn},paper:{...On,style:{minWidth:Ti,...On!=null?On.style:null}}},children:Si})]})});function formControlState({props:Re,states:Ce,muiFormControl:je}){return Ce.reduce((Be,De)=>(Be[De]=Re[De],je&&typeof Re[De]>"u"&&(Be[De]=je[De]),Be),{})}const FormControlContext=reactExports.createContext(void 0);function useFormControl(){return reactExports.useContext(FormControlContext)}const ArrowDropDownIcon=createSvgIcon(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}));function getStyleValue(Re){return parseInt(Re,10)||0}const styles={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isObjectEmpty(Re){for(const Ce in Re)return!1;return!0}function isEmpty(Re){return isObjectEmpty(Re)||Re.outerHeightStyle===0&&!Re.overflowing}const TextareaAutosize=reactExports.forwardRef(function Re(Ce,je){const{onChange:Be,maxRows:De,minRows:Fe=1,style:ke,value:Oe,...Me}=Ce,{current:Ue}=reactExports.useRef(Oe!=null),$e=reactExports.useRef(null),He=useForkRef(je,$e),Qe=reactExports.useRef(null),We=reactExports.useRef(null),qe=reactExports.useCallback(()=>{const Je=$e.current,tr=We.current;if(!Je||!tr)return;const ar=ownerWindow(Je).getComputedStyle(Je);if(ar.width==="0px")return{outerHeightStyle:0,overflowing:!1};tr.style.width=ar.width,tr.value=Je.value||Ce.placeholder||"x",tr.value.slice(-1)===`
`&&(tr.value+=" ");const ir=ar.boxSizing,nr=getStyleValue(ar.paddingBottom)+getStyleValue(ar.paddingTop),cr=getStyleValue(ar.borderBottomWidth)+getStyleValue(ar.borderTopWidth),mr=tr.scrollHeight;tr.value="x";const fr=tr.scrollHeight;let or=mr;Fe&&(or=Math.max(Number(Fe)*fr,or)),De&&(or=Math.min(Number(De)*fr,or)),or=Math.max(or,fr);const yr=or+(ir==="border-box"?nr+cr:0),Cr=Math.abs(or-mr)<=1;return{outerHeightStyle:yr,overflowing:Cr}},[De,Fe,Ce.placeholder]),Ke=useEventCallback(()=>{const Je=$e.current,tr=qe();if(!Je||!tr||isEmpty(tr))return!1;const rr=tr.outerHeightStyle;return Qe.current!=null&&Qe.current!==rr}),Xe=reactExports.useCallback(()=>{const Je=$e.current,tr=qe();if(!Je||!tr||isEmpty(tr))return;const rr=tr.outerHeightStyle;Qe.current!==rr&&(Qe.current=rr,Je.style.height=`${rr}px`),Je.style.overflow=tr.overflowing?"hidden":""},[qe]),Ye=reactExports.useRef(-1);useEnhancedEffect(()=>{const Je=debounce(Xe),tr=$e?.current;if(!tr)return;const rr=ownerWindow(tr);rr.addEventListener("resize",Je);let ar;return typeof ResizeObserver<"u"&&(ar=new ResizeObserver(()=>{Ke()&&(ar.unobserve(tr),cancelAnimationFrame(Ye.current),Xe(),Ye.current=requestAnimationFrame(()=>{ar.observe(tr)}))}),ar.observe(tr)),()=>{Je.clear(),cancelAnimationFrame(Ye.current),rr.removeEventListener("resize",Je),ar&&ar.disconnect()}},[qe,Xe,Ke]),useEnhancedEffect(()=>{Xe()});const Ze=Je=>{Ue||Xe();const tr=Je.target,rr=tr.value.length,ar=tr.value.endsWith(`
`),ir=tr.selectionStart===rr;ar&&ir&&tr.setSelectionRange(rr,rr),Be&&Be(Je)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",{value:Oe,onChange:Ze,ref:He,rows:Fe,style:ke,...Me}),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:Ce.className,readOnly:!0,ref:We,tabIndex:-1,style:{...styles.shadow,...ke,paddingTop:0,paddingBottom:0}})]})});function getInputBaseUtilityClass(Re){return generateUtilityClass("MuiInputBase",Re)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]);var _InputGlobalStyles;const rootOverridesResolver=(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.root,je.formControl&&Ce.formControl,je.startAdornment&&Ce.adornedStart,je.endAdornment&&Ce.adornedEnd,je.error&&Ce.error,je.size==="small"&&Ce.sizeSmall,je.multiline&&Ce.multiline,je.color&&Ce[`color${capitalize(je.color)}`],je.fullWidth&&Ce.fullWidth,je.hiddenLabel&&Ce.hiddenLabel]},inputOverridesResolver=(Re,Ce)=>{const{ownerState:je}=Re;return[Ce.input,je.size==="small"&&Ce.inputSizeSmall,je.multiline&&Ce.inputMultiline,je.type==="search"&&Ce.inputTypeSearch,je.startAdornment&&Ce.inputAdornedStart,je.endAdornment&&Ce.inputAdornedEnd,je.hiddenLabel&&Ce.inputHiddenLabel]},useUtilityClasses$4=Re=>{const{classes:Ce,color:je,disabled:Be,error:De,endAdornment:Fe,focused:ke,formControl:Oe,fullWidth:Me,hiddenLabel:Ue,multiline:$e,readOnly:He,size:Qe,startAdornment:We,type:qe}=Re,Ke={root:["root",`color${capitalize(je)}`,Be&&"disabled",De&&"error",Me&&"fullWidth",ke&&"focused",Oe&&"formControl",Qe&&Qe!=="medium"&&`size${capitalize(Qe)}`,$e&&"multiline",We&&"adornedStart",Fe&&"adornedEnd",Ue&&"hiddenLabel",He&&"readOnly"],input:["input",Be&&"disabled",qe==="search"&&"inputTypeSearch",$e&&"inputMultiline",Qe==="small"&&"inputSizeSmall",Ue&&"inputHiddenLabel",We&&"inputAdornedStart",Fe&&"inputAdornedEnd",He&&"readOnly"]};return composeClasses(Ke,getInputBaseUtilityClass,Ce)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:Re})=>({...Re.typography.body1,color:(Re.vars||Re).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses.disabled}`]:{color:(Re.vars||Re).palette.text.disabled,cursor:"default"},variants:[{props:({ownerState:Ce})=>Ce.multiline,style:{padding:"4px 0 5px"}},{props:({ownerState:Ce,size:je})=>Ce.multiline&&je==="small",style:{paddingTop:1}},{props:({ownerState:Ce})=>Ce.fullWidth,style:{width:"100%"}}]}))),InputBaseInput=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:Re})=>{const Ce=Re.palette.mode==="light",je={color:"currentColor",...Re.vars?{opacity:Re.vars.opacity.inputPlaceholder}:{opacity:Ce?.42:.5},transition:Re.transitions.create("opacity",{duration:Re.transitions.duration.shorter})},Be={opacity:"0 !important"},De=Re.vars?{opacity:Re.vars.opacity.inputPlaceholder}:{opacity:Ce?.42:.5};return{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%","&::-webkit-input-placeholder":je,"&::-moz-placeholder":je,"&::-ms-input-placeholder":je,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses.formControl} &`]:{"&::-webkit-input-placeholder":Be,"&::-moz-placeholder":Be,"&::-ms-input-placeholder":Be,"&:focus::-webkit-input-placeholder":De,"&:focus::-moz-placeholder":De,"&:focus::-ms-input-placeholder":De},[`&.${inputBaseClasses.disabled}`]:{opacity:1,WebkitTextFillColor:(Re.vars||Re).palette.text.disabled},variants:[{props:({ownerState:Fe})=>!Fe.disableInjectingGlobalStyles,style:{animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}}},{props:{size:"small"},style:{paddingTop:1}},{props:({ownerState:Fe})=>Fe.multiline,style:{height:"auto",resize:"none",padding:0,paddingTop:0}},{props:{type:"search"},style:{MozAppearance:"textfield"}}]}})),InputGlobalStyles=globalCss({"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}),InputBase=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiInputBase"}),{"aria-describedby":De,autoComplete:Fe,autoFocus:ke,className:Oe,color:Me,components:Ue={},componentsProps:$e={},defaultValue:He,disabled:Qe,disableInjectingGlobalStyles:We,endAdornment:qe,error:Ke,fullWidth:Xe=!1,id:Ye,inputComponent:Ze="input",inputProps:Je={},inputRef:tr,margin:rr,maxRows:ar,minRows:ir,multiline:nr=!1,name:cr,onBlur:mr,onChange:fr,onClick:or,onFocus:yr,onKeyDown:Cr,onKeyUp:jr,placeholder:vr,readOnly:Tr,renderSuffix:wr,rows:Er,size:Pr,slotProps:Mr={},slots:_r={},startAdornment:Ir,type:Dr="text",value:Or,...br}=Be,Ur=Je.value!=null?Je.value:Or,{current:Qr}=reactExports.useRef(Ur!=null),zr=reactExports.useRef(),Gr=reactExports.useCallback(an=>{},[]),fn=useForkRef(zr,tr,Je.ref,Gr),[nn,bn]=reactExports.useState(!1),hn=useFormControl(),yn=formControlState({props:Be,muiFormControl:hn,states:["color","disabled","error","hiddenLabel","size","required","filled"]});yn.focused=hn?hn.focused:nn,reactExports.useEffect(()=>{!hn&&Qe&&nn&&(bn(!1),mr&&mr())},[hn,Qe,nn,mr]);const Zr=hn&&hn.onFilled,Rn=hn&&hn.onEmpty,ri=reactExports.useCallback(an=>{isFilled(an)?Zr&&Zr():Rn&&Rn()},[Zr,Rn]);useEnhancedEffect(()=>{Qr&&ri({value:Ur})},[Ur,ri,Qr]);const Yn=an=>{yr&&yr(an),Je.onFocus&&Je.onFocus(an),hn&&hn.onFocus?hn.onFocus(an):bn(!0)},ti=an=>{mr&&mr(an),Je.onBlur&&Je.onBlur(an),hn&&hn.onBlur?hn.onBlur(an):bn(!1)},ei=(an,...On)=>{if(!Qr){const Mn=an.target||zr.current;if(Mn==null)throw new Error(formatMuiErrorMessage(1));ri({value:Mn.value})}Je.onChange&&Je.onChange(an,...On),fr&&fr(an,...On)};reactExports.useEffect(()=>{ri(zr.current)},[]);const Gn=an=>{zr.current&&an.currentTarget===an.target&&zr.current.focus(),or&&or(an)};let Ei=Ze,Ci=Je;nr&&Ei==="input"&&(Er?Ci={type:void 0,minRows:Er,maxRows:Er,...Ci}:Ci={type:void 0,maxRows:ar,minRows:ir,...Ci},Ei=TextareaAutosize);const Fi=an=>{ri(an.animationName==="mui-auto-fill-cancel"?zr.current:{value:"x"})};reactExports.useEffect(()=>{hn&&hn.setAdornedStart(!!Ir)},[hn,Ir]);const Si={...Be,color:yn.color||"primary",disabled:yn.disabled,endAdornment:qe,error:yn.error,focused:yn.focused,formControl:hn,fullWidth:Xe,hiddenLabel:yn.hiddenLabel,multiline:nr,size:yn.size,startAdornment:Ir,type:Dr},Ti=useUtilityClasses$4(Si),ji=_r.root||Ue.Root||InputBaseRoot,wi=Mr.root||$e.root||{},En=_r.input||Ue.Input||InputBaseInput;return Ci={...Ci,...Mr.input??$e.input},jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!We&&typeof InputGlobalStyles=="function"&&(_InputGlobalStyles||(_InputGlobalStyles=jsxRuntimeExports.jsx(InputGlobalStyles,{}))),jsxRuntimeExports.jsxs(ji,{...wi,ref:je,onClick:Gn,...br,...!isHostComponent(ji)&&{ownerState:{...Si,...wi.ownerState}},className:clsx(Ti.root,wi.className,Oe,Tr&&"MuiInputBase-readOnly"),children:[Ir,jsxRuntimeExports.jsx(FormControlContext.Provider,{value:null,children:jsxRuntimeExports.jsx(En,{"aria-invalid":yn.error,"aria-describedby":De,autoComplete:Fe,autoFocus:ke,defaultValue:He,disabled:yn.disabled,id:Ye,onAnimationStart:Fi,name:cr,placeholder:vr,readOnly:Tr,required:yn.required,rows:Er,value:Ur,onKeyDown:Cr,onKeyUp:jr,type:Dr,...Ci,...!isHostComponent(En)&&{as:Ei,ownerState:{...Si,...Ci.ownerState}},ref:fn,className:clsx(Ti.input,Ci.className,Tr&&"MuiInputBase-readOnly"),onBlur:ti,onChange:ei,onFocus:Yn})}),qe,wr?wr({...yn,startAdornment:Ir}):null]})]})});function getInputUtilityClass(Re){return generateUtilityClass("MuiInput",Re)}const inputClasses={...inputBaseClasses,...generateUtilityClasses("MuiInput",["root","underline","input"])},useUtilityClasses$3=Re=>{const{classes:Ce,disableUnderline:je}=Re,De=composeClasses({root:["root",!je&&"underline"],input:["input"]},getInputUtilityClass,Ce);return{...Ce,...De}},InputRoot=styled(InputBaseRoot,{shouldForwardProp:Re=>rootShouldForwardProp(Re)||Re==="classes",name:"MuiInput",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[...rootOverridesResolver(Re,Ce),!je.disableUnderline&&Ce.underline]}})(memoTheme(({theme:Re})=>{let je=Re.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return Re.vars&&(je=Re.alpha(Re.vars.palette.common.onBackground,Re.vars.opacity.inputUnderline)),{position:"relative",variants:[{props:({ownerState:Be})=>Be.formControl,style:{"label + &":{marginTop:16}}},{props:({ownerState:Be})=>!Be.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:Re.transitions.create("transform",{duration:Re.transitions.duration.shorter,easing:Re.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(Re.vars||Re).palette.error.main}},"&::before":{borderBottom:`1px solid ${je}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:Re.transitions.create("border-bottom-color",{duration:Re.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses.disabled}, .${inputClasses.error}):before`]:{borderBottom:`2px solid ${(Re.vars||Re).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${je}`}},[`&.${inputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(Re.palette).filter(createSimplePaletteValueFilter()).map(([Be])=>({props:{color:Be,disableUnderline:!1},style:{"&::after":{borderBottom:`2px solid ${(Re.vars||Re).palette[Be].main}`}}}))]}})),InputInput=styled(InputBaseInput,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiInput"}),{disableUnderline:De=!1,components:Fe={},componentsProps:ke,fullWidth:Oe=!1,inputComponent:Me="input",multiline:Ue=!1,slotProps:$e,slots:He={},type:Qe="text",...We}=Be,qe=useUtilityClasses$3(Be),Xe={root:{ownerState:{disableUnderline:De}}},Ye=$e??ke?deepmerge($e??ke,Xe):Xe,Ze=He.root??Fe.Root??InputRoot,Je=He.input??Fe.Input??InputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:Ze,input:Je},slotProps:Ye,fullWidth:Oe,inputComponent:Me,multiline:Ue,ref:je,type:Qe,...We,classes:qe})});Input.muiName="Input";function getFilledInputUtilityClass(Re){return generateUtilityClass("MuiFilledInput",Re)}const filledInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiFilledInput",["root","underline","input","adornedStart","adornedEnd","sizeSmall","multiline","hiddenLabel"])},useUtilityClasses$2=Re=>{const{classes:Ce,disableUnderline:je,startAdornment:Be,endAdornment:De,size:Fe,hiddenLabel:ke,multiline:Oe}=Re,Me={root:["root",!je&&"underline",Be&&"adornedStart",De&&"adornedEnd",Fe==="small"&&`size${capitalize(Fe)}`,ke&&"hiddenLabel",Oe&&"multiline"],input:["input"]},Ue=composeClasses(Me,getFilledInputUtilityClass,Ce);return{...Ce,...Ue}},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:Re=>rootShouldForwardProp(Re)||Re==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(Re,Ce)=>{const{ownerState:je}=Re;return[...rootOverridesResolver(Re,Ce),!je.disableUnderline&&Ce.underline]}})(memoTheme(({theme:Re})=>{const Ce=Re.palette.mode==="light",je=Ce?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",Be=Ce?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",De=Ce?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",Fe=Ce?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return{position:"relative",backgroundColor:Re.vars?Re.vars.palette.FilledInput.bg:Be,borderTopLeftRadius:(Re.vars||Re).shape.borderRadius,borderTopRightRadius:(Re.vars||Re).shape.borderRadius,transition:Re.transitions.create("background-color",{duration:Re.transitions.duration.shorter,easing:Re.transitions.easing.easeOut}),"&:hover":{backgroundColor:Re.vars?Re.vars.palette.FilledInput.hoverBg:De,"@media (hover: none)":{backgroundColor:Re.vars?Re.vars.palette.FilledInput.bg:Be}},[`&.${filledInputClasses.focused}`]:{backgroundColor:Re.vars?Re.vars.palette.FilledInput.bg:Be},[`&.${filledInputClasses.disabled}`]:{backgroundColor:Re.vars?Re.vars.palette.FilledInput.disabledBg:Fe},variants:[{props:({ownerState:ke})=>!ke.disableUnderline,style:{"&::after":{left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:Re.transitions.create("transform",{duration:Re.transitions.duration.shorter,easing:Re.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses.error}`]:{"&::before, &::after":{borderBottomColor:(Re.vars||Re).palette.error.main}},"&::before":{borderBottom:`1px solid ${Re.vars?Re.alpha(Re.vars.palette.common.onBackground,Re.vars.opacity.inputUnderline):je}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:Re.transitions.create("border-bottom-color",{duration:Re.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses.disabled}, .${filledInputClasses.error}):before`]:{borderBottom:`1px solid ${(Re.vars||Re).palette.text.primary}`},[`&.${filledInputClasses.disabled}:before`]:{borderBottomStyle:"dotted"}}},...Object.entries(Re.palette).filter(createSimplePaletteValueFilter()).map(([ke])=>({props:{disableUnderline:!1,color:ke},style:{"&::after":{borderBottom:`2px solid ${(Re.vars||Re).palette[ke]?.main}`}}})),{props:({ownerState:ke})=>ke.startAdornment,style:{paddingLeft:12}},{props:({ownerState:ke})=>ke.endAdornment,style:{paddingRight:12}},{props:({ownerState:ke})=>ke.multiline,style:{padding:"25px 12px 8px"}},{props:({ownerState:ke,size:Oe})=>ke.multiline&&Oe==="small",style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:ke})=>ke.multiline&&ke.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:ke})=>ke.multiline&&ke.hiddenLabel&&ke.size==="small",style:{paddingTop:8,paddingBottom:9}}]}})),FilledInputInput=styled(InputBaseInput,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:Re})=>({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12,...!Re.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:Re.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:Re.palette.mode==="light"?null:"#fff",caretColor:Re.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},...Re.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[Re.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{paddingTop:21,paddingBottom:4}},{props:({ownerState:Ce})=>Ce.hiddenLabel,style:{paddingTop:16,paddingBottom:17}},{props:({ownerState:Ce})=>Ce.startAdornment,style:{paddingLeft:0}},{props:({ownerState:Ce})=>Ce.endAdornment,style:{paddingRight:0}},{props:({ownerState:Ce})=>Ce.hiddenLabel&&Ce.size==="small",style:{paddingTop:8,paddingBottom:9}},{props:({ownerState:Ce})=>Ce.multiline,style:{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}}]}))),FilledInput=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiFilledInput"}),{disableUnderline:De=!1,components:Fe={},componentsProps:ke,fullWidth:Oe=!1,hiddenLabel:Me,inputComponent:Ue="input",multiline:$e=!1,slotProps:He,slots:Qe={},type:We="text",...qe}=Be,Ke={...Be,disableUnderline:De,fullWidth:Oe,inputComponent:Ue,multiline:$e,type:We},Xe=useUtilityClasses$2(Be),Ye={root:{ownerState:Ke},input:{ownerState:Ke}},Ze=He??ke?deepmerge(Ye,He??ke):Ye,Je=Qe.root??Fe.Root??FilledInputRoot,tr=Qe.input??Fe.Input??FilledInputInput;return jsxRuntimeExports.jsx(InputBase,{slots:{root:Je,input:tr},slotProps:Ze,fullWidth:Oe,inputComponent:Ue,multiline:$e,ref:je,type:We,...qe,classes:Xe})});FilledInput.muiName="Input";var _span;const NotchedOutlineRoot$1=styled("fieldset",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{name:"MuiNotchedOutlined",shouldForwardProp:rootShouldForwardProp})(memoTheme(({theme:Re})=>({float:"unset",width:"auto",overflow:"hidden",variants:[{props:({ownerState:Ce})=>!Ce.withLabel,style:{padding:0,lineHeight:"11px",transition:Re.transitions.create("width",{duration:150,easing:Re.transitions.easing.easeOut})}},{props:({ownerState:Ce})=>Ce.withLabel,style:{display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:Re.transitions.create("max-width",{duration:50,easing:Re.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}}},{props:({ownerState:Ce})=>Ce.withLabel&&Ce.notched,style:{maxWidth:"100%",transition:Re.transitions.create("max-width",{duration:100,easing:Re.transitions.easing.easeOut,delay:50})}}]})));function NotchedOutline(Re){const{children:Ce,classes:je,className:Be,label:De,notched:Fe,...ke}=Re,Oe=De!=null&&De!=="",Me={...Re,notched:Fe,withLabel:Oe};return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,{"aria-hidden":!0,className:Be,ownerState:Me,...ke,children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:Me,children:Oe?jsxRuntimeExports.jsx("span",{children:De}):_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate","aria-hidden":!0,children:""}))})})}function getOutlinedInputUtilityClass(Re){return generateUtilityClass("MuiOutlinedInput",Re)}const outlinedInputClasses={...inputBaseClasses,...generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])},useUtilityClasses$1=Re=>{const{classes:Ce}=Re,Be=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,Ce);return{...Ce,...Be}},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:Re=>rootShouldForwardProp(Re)||Re==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(memoTheme(({theme:Re})=>{const Ce=Re.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{position:"relative",borderRadius:(Re.vars||Re).shape.borderRadius,[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Re.vars||Re).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses.notchedOutline}`]:{borderColor:Re.vars?Re.alpha(Re.vars.palette.common.onBackground,.23):Ce}},[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderWidth:2},variants:[...Object.entries(Re.palette).filter(createSimplePaletteValueFilter()).map(([je])=>({props:{color:je},style:{[`&.${outlinedInputClasses.focused} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Re.vars||Re).palette[je].main}}})),{props:{},style:{[`&.${outlinedInputClasses.error} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Re.vars||Re).palette.error.main},[`&.${outlinedInputClasses.disabled} .${outlinedInputClasses.notchedOutline}`]:{borderColor:(Re.vars||Re).palette.action.disabled}}},{props:({ownerState:je})=>je.startAdornment,style:{paddingLeft:14}},{props:({ownerState:je})=>je.endAdornment,style:{paddingRight:14}},{props:({ownerState:je})=>je.multiline,style:{padding:"16.5px 14px"}},{props:({ownerState:je,size:Be})=>je.multiline&&Be==="small",style:{padding:"8.5px 14px"}}]}})),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline"})(memoTheme(({theme:Re})=>{const Ce=Re.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:Re.vars?Re.alpha(Re.vars.palette.common.onBackground,.23):Ce}})),OutlinedInputInput=styled(InputBaseInput,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(memoTheme(({theme:Re})=>({padding:"16.5px 14px",...!Re.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:Re.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:Re.palette.mode==="light"?null:"#fff",caretColor:Re.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},...Re.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[Re.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},variants:[{props:{size:"small"},style:{padding:"8.5px 14px"}},{props:({ownerState:Ce})=>Ce.multiline,style:{padding:0}},{props:({ownerState:Ce})=>Ce.startAdornment,style:{paddingLeft:0}},{props:({ownerState:Ce})=>Ce.endAdornment,style:{paddingRight:0}}]}))),OutlinedInput=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({props:Ce,name:"MuiOutlinedInput"}),{components:De={},fullWidth:Fe=!1,inputComponent:ke="input",label:Oe,multiline:Me=!1,notched:Ue,slots:$e={},slotProps:He={},type:Qe="text",...We}=Be,qe=useUtilityClasses$1(Be),Ke=useFormControl(),Xe=formControlState({props:Be,muiFormControl:Ke,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Ye={...Be,color:Xe.color||"primary",disabled:Xe.disabled,error:Xe.error,focused:Xe.focused,formControl:Ke,fullWidth:Fe,hiddenLabel:Xe.hiddenLabel,multiline:Me,size:Xe.size,type:Qe},Ze=$e.root??De.Root??OutlinedInputRoot,Je=$e.input??De.Input??OutlinedInputInput,[tr,rr]=useSlot("notchedOutline",{elementType:NotchedOutlineRoot,className:qe.notchedOutline,shouldForwardComponentProp:!0,ownerState:Ye,externalForwardedProps:{slots:$e,slotProps:He},additionalProps:{label:Oe!=null&&Oe!==""&&Xe.required?jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[Oe,"","*"]}):Oe}});return jsxRuntimeExports.jsx(InputBase,{slots:{root:Ze,input:Je},slotProps:He,renderSuffix:ar=>jsxRuntimeExports.jsx(tr,{...rr,notched:typeof Ue<"u"?Ue:!!(ar.startAdornment||ar.filled||ar.focused)}),fullWidth:Fe,inputComponent:ke,multiline:Me,ref:je,type:Qe,...We,classes:{...qe,notchedOutline:null}})});OutlinedInput.muiName="Input";const useUtilityClasses=Re=>{const{classes:Ce}=Re,Be=composeClasses({root:["root"]},getSelectUtilityClasses,Ce);return{...Ce,...Be}},styledRootConfig={name:"MuiSelect",slot:"Root",shouldForwardProp:Re=>rootShouldForwardProp(Re)&&Re!=="variant"},StyledInput=styled(Input,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput,styledRootConfig)(""),StyledFilledInput=styled(FilledInput,styledRootConfig)(""),Select=reactExports.forwardRef(function Re(Ce,je){const Be=useDefaultProps({name:"MuiSelect",props:Ce}),{autoWidth:De=!1,children:Fe,classes:ke={},className:Oe,defaultOpen:Me=!1,displayEmpty:Ue=!1,IconComponent:$e=ArrowDropDownIcon,id:He,input:Qe,inputProps:We,label:qe,labelId:Ke,MenuProps:Xe,multiple:Ye=!1,native:Ze=!1,onClose:Je,onOpen:tr,open:rr,renderValue:ar,SelectDisplayProps:ir,variant:nr="outlined",...cr}=Be,mr=Ze?NativeSelectInput:SelectInput,fr=useFormControl(),or=formControlState({props:Be,muiFormControl:fr,states:["variant","error"]}),yr=or.variant||nr,Cr={...Be,variant:yr,classes:ke},jr=useUtilityClasses(Cr),{root:vr,...Tr}=jr,wr=Qe||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Cr}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:qe,ownerState:Cr}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Cr})}[yr],Er=useForkRef(je,getReactElementRef(wr));return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(wr,{inputComponent:mr,inputProps:{children:Fe,error:or.error,IconComponent:$e,variant:yr,type:void 0,multiple:Ye,...Ze?{id:He}:{autoWidth:De,defaultOpen:Me,displayEmpty:Ue,labelId:Ke,MenuProps:Xe,onClose:Je,onOpen:tr,open:rr,renderValue:ar,SelectDisplayProps:{id:He,...ir}},...We,classes:We?deepmerge(Tr,We.classes):Tr,...Qe?Qe.props.inputProps:{}},...(Ye&&Ze||Ue)&&yr==="outlined"?{notched:!0}:{},ref:Er,className:clsx(wr.props.className,Oe,jr.root),...!Qe&&{variant:yr},...cr})})});Select.muiName="Select";function r2(Re){return Math.round((Number(Re)+Number.EPSILON)*100)/100}function toNum(Re,Ce=0){const je=Number(Re);return Number.isFinite(je)?je:Ce}function taxTypeForPOS(Re,Ce){return!Re||!Ce||Re.trim().toLowerCase()===Ce.trim().toLowerCase()?"CGST_SGST":"IGST"}function calculateProforma({lines:Re=[],orderCharges:Ce={},distributorState:je,retailerState:Be,rounding:De="NEAREST"}={}){let Fe=0;const ke=Re.map((nr={})=>{const cr=r2(toNum(nr.qty)),mr=r2(toNum(nr.price)),fr=r2(toNum(nr.itemDiscountPct)),or=r2(toNum(nr.gstRate)),yr=r2(cr*mr),Cr=r2(yr*fr/100),jr=r2(yr-Cr);return Fe=r2(Fe+jr),{...nr,qty:cr,price:mr,itemDiscountPct:fr,gstRate:or,gross:yr,discountAmount:Cr,taxable:jr}}),Oe=r2(toNum(Ce.delivery)),Me=r2(toNum(Ce.packing)),Ue=r2(toNum(Ce.insurance)),$e=r2(toNum(Ce.other)),He=r2(Fe+Oe+Me+Ue+$e),Qe=r2(toNum(Ce.discountPct)),We=r2(toNum(Ce.discountAmt)),qe=r2(He*Qe/100),Ke=r2(We||qe),Xe=r2(He-Ke),Ye=taxTypeForPOS(je,Be);let Ze=0,Je=0,tr=0;if(Xe>0){const nr=ke.reduce((cr,mr)=>r2(cr+mr.taxable),0)||1;ke.forEach(cr=>{const mr=r2(cr.taxable/nr),fr=r2(Xe*mr),or=r2(toNum(cr.gstRate)),yr=r2(fr*or/100);if(Ye==="IGST")tr=r2(tr+yr);else{const Cr=r2(yr/2);Ze=r2(Ze+Cr),Je=r2(Je+Cr)}})}const rr=r2(Xe+Ze+Je+tr);let ar=0,ir=rr;if(De==="UP"){const nr=Math.ceil(rr);ar=r2(nr-rr),ir=nr}else if(De==="DOWN"){const nr=Math.floor(rr);ar=r2(nr-rr),ir=nr}else{const nr=Math.round(rr);ar=r2(nr-rr),ir=nr}return{lines:ke,orderCharges:{delivery:Oe,packing:Me,insurance:Ue,other:$e,discountPct:Qe,discountAmt:We},subTotal:Fe,discountTotal:Ke,taxableBase:Xe,taxType:Ye,taxBreakup:{cgst:r2(Ze),sgst:r2(Je),igst:r2(tr)},roundOff:ar,grandTotal:ir}}function sanitizeForFirestore(Re){if(Array.isArray(Re))return Re.map(sanitizeForFirestore);if(Re&&typeof Re=="object"){const Ce={};for(const[je,Be]of Object.entries(Re))if(Be!==void 0){if(typeof Be=="number"&&Number.isNaN(Be)){Ce[je]=0;continue}Ce[je]=sanitizeForFirestore(Be)}return Ce}return typeof Re=="number"&&Number.isNaN(Re)?0:Re}function ChargesTaxesEditor({orderId:Re,distributorId:Ce,retailerId:je,order:Be,distributorState:De,retailerState:Fe,onSaved:ke}){const Oe=getFirestore(),Me=reactExports.useMemo(()=>(Array.isArray(Be?.items)?Be.items:[]).map(ir=>({name:ir.productName||ir.name||"Item",sku:ir.sku,hsn:ir.hsn,uom:ir.uom||ir.unit,qty:Number(ir.quantity??ir.qty??0),price:Number(ir.unitPrice??ir.price??0),itemDiscountPct:Number(ir.itemDiscountPct??0),gstRate:Number(ir.gstRate??0)})),[Be]),[Ue,$e]=reactExports.useState(Me),[He,Qe]=reactExports.useState({delivery:0,packing:0,insurance:0,other:0,discountPct:0,discountAmt:0}),[We,qe]=reactExports.useState("NEAREST"),[Ke,Xe]=reactExports.useState(!1),Ye=reactExports.useMemo(()=>calculateProforma({lines:Ue,orderCharges:He,distributorState:De,retailerState:Fe,rounding:We}),[Ue,He,De,Fe,We]),Ze=reactExports.useMemo(()=>{const ar=(De||"").toString(),ir=(Fe||"").toString();return Ye.taxType==="IGST"?`IGST (Interstate: ${ar}  ${ir})`:`CGST + SGST (Intrastate: ${ar}  ${ir})`},[Ye.taxType,De,Fe]);function Je(ar,ir,nr){$e(cr=>{const mr=[...cr],fr={...mr[ar]};if(["qty","price","itemDiscountPct","gstRate"].includes(ir)){let or=Number(nr||0);Number.isFinite(or)||(or=0),(ir==="qty"||ir==="price")&&(or=Math.max(0,or)),ir==="itemDiscountPct"&&(or=Math.min(100,Math.max(0,or))),ir==="gstRate"&&(or=Math.min(28,Math.max(0,or))),fr[ir]=or}else fr[ir]=nr;return mr[ar]=fr,mr})}function tr(ar,ir){let nr=Number(ir||0);Number.isFinite(nr)||(nr=0),nr=Math.max(0,nr),Qe(cr=>({...cr,[ar]:nr}))}async function rr(){if(!(Array.isArray(Ue)&&Ue.some(ir=>Number(ir.qty)>0))){y$2.error("Add at least one item with quantity > 0 before generating a proforma.");return}if((!De||!Fe)&&y$2.warn("Missing state info for POS. Tax type may be incorrect (IGST vs CGST/SGST).",{autoClose:3500}),!(Be?.proforma&&!window.confirm("A proforma already exists for this order. Overwrite it?"))){Xe(!0);try{const nr={...sanitizeForFirestore(Ye),date:serverTimestamp(),version:1},cr=doc(Oe,`businesses/${Ce}/orderRequests/${Re}`);await updateDoc(cr,{proforma:nr,statusCode:ORDER_STATUSES.QUOTED,status:"Quoted",updatedAt:serverTimestamp()});const mr=doc(Oe,`businesses/${je}/sentOrders/${Re}`);await updateDoc(mr,{proforma:nr,statusCode:ORDER_STATUSES.QUOTED,status:"Quoted",updatedAt:serverTimestamp()}),y$2.success("Proforma generated and shared with retailer."),ke&&ke(nr)}catch(ir){console.error(ir),y$2.error("Failed to generate proforma. Check console for details.")}finally{Xe(!1)}}}return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-3",children:"Line Items (Distributor View)"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-white/80",children:[jsxRuntimeExports.jsx("th",{className:"text-left p-2",children:"Item"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"Disc %"}),jsxRuntimeExports.jsx("th",{className:"text-right p-2",children:"GST %"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ue.map((ar,ir)=>jsxRuntimeExports.jsxs("tr",{className:"border-t border-white/10",children:[jsxRuntimeExports.jsxs("td",{className:"p-2 text-white/90",children:[jsxRuntimeExports.jsx("div",{className:"font-medium",children:ar.name}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-white/60",children:[ar.sku||""," ",ar.hsn?` HSN ${ar.hsn}`:""]})]}),jsxRuntimeExports.jsx("td",{className:"p-2 text-right",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1",value:ar.qty,onChange:nr=>Je(ir,"qty",nr.target.value),min:"0"})}),jsxRuntimeExports.jsx("td",{className:"p-2 text-right",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-28 rounded bg-white/10 text-white px-2 py-1",value:ar.price,onChange:nr=>Je(ir,"price",nr.target.value),min:"0"})}),jsxRuntimeExports.jsx("td",{className:"p-2 text-right",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1",value:ar.itemDiscountPct,onChange:nr=>Je(ir,"itemDiscountPct",nr.target.value),min:"0",max:"100"})}),jsxRuntimeExports.jsx("td",{className:"p-2 text-right",children:jsxRuntimeExports.jsx("input",{type:"number",className:"w-24 rounded bg-white/10 text-white px-2 py-1",value:ar.gstRate,onChange:nr=>Je(ir,"gstRate",nr.target.value),min:"0",max:"28"})})]},ir))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-3",children:"Order-level Charges & Discount"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsx(LabeledNumber,{label:"Delivery",value:He.delivery,onChange:ar=>tr("delivery",ar)}),jsxRuntimeExports.jsx(LabeledNumber,{label:"Packing",value:He.packing,onChange:ar=>tr("packing",ar)}),jsxRuntimeExports.jsx(LabeledNumber,{label:"Insurance",value:He.insurance,onChange:ar=>tr("insurance",ar)}),jsxRuntimeExports.jsx(LabeledNumber,{label:"Other",value:He.other,onChange:ar=>tr("other",ar)}),jsxRuntimeExports.jsx(LabeledNumber,{label:"Discount %",value:He.discountPct,onChange:ar=>tr("discountPct",ar)}),jsxRuntimeExports.jsx(LabeledNumber,{label:"Discount ",value:He.discountAmt,onChange:ar=>tr("discountAmt",ar)})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-white/90 text-sm mb-1",children:"Rounding"}),jsxRuntimeExports.jsxs("select",{value:We,onChange:ar=>qe(ar.target.value),className:"rounded bg-white/10 text-white px-2 py-1",children:[jsxRuntimeExports.jsx("option",{value:"NEAREST",children:"Nearest"}),jsxRuntimeExports.jsx("option",{value:"UP",children:"Up"}),jsxRuntimeExports.jsx("option",{value:"DOWN",children:"Down"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-white font-semibold mb-3",children:"Proforma Preview"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[jsxRuntimeExports.jsx(Row,{k:"SubTotal (precharges)",v:Ye.subTotal}),jsxRuntimeExports.jsx(Row,{k:"+ Delivery",v:Ye.orderCharges.delivery}),jsxRuntimeExports.jsx(Row,{k:"+ Packing",v:Ye.orderCharges.packing}),jsxRuntimeExports.jsx(Row,{k:"+ Insurance",v:Ye.orderCharges.insurance}),jsxRuntimeExports.jsx(Row,{k:"+ Other",v:Ye.orderCharges.other}),jsxRuntimeExports.jsx(Row,{k:" Order Discount",v:Ye.discountTotal}),jsxRuntimeExports.jsx(Row,{k:"Taxable Base",v:Ye.taxableBase,bold:!0}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Tax Type"}),jsxRuntimeExports.jsx("span",{children:Ze})]}),Ye.taxType==="IGST"?jsxRuntimeExports.jsx(Row,{k:"IGST",v:Ye.taxBreakup.igst}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Row,{k:"CGST",v:Ye.taxBreakup.cgst}),jsxRuntimeExports.jsx(Row,{k:"SGST",v:Ye.taxBreakup.sgst})]}),jsxRuntimeExports.jsx(Row,{k:"Round Off",v:Ye.roundOff}),jsxRuntimeExports.jsx(Row,{k:"Grand Total",v:Ye.grandTotal,bold:!0})]}),jsxRuntimeExports.jsx("button",{onClick:rr,disabled:Ke,className:`mt-4 w-full md:w-auto rounded-lg px-4 py-2 font-semibold text-white ${Ke?"bg-emerald-500/60 cursor-not-allowed":"bg-emerald-500/90 hover:bg-emerald-500"}`,children:Ke?"Saving...":"Generate Proforma"})]})]})]})}function Row({k:Re,v:Ce,bold:je}){return jsxRuntimeExports.jsxs("div",{className:`flex justify-between ${je?"font-semibold text-white":""}`,children:[jsxRuntimeExports.jsx("span",{children:Re}),jsxRuntimeExports.jsxs("span",{children:["",Number(Ce||0).toFixed(2)]})]})}function LabeledNumber({label:Re,value:Ce,onChange:je}){return jsxRuntimeExports.jsxs("label",{className:"block",children:[jsxRuntimeExports.jsx("span",{className:"block text-white/90 text-sm mb-1",children:Re}),jsxRuntimeExports.jsx("input",{type:"number",value:Ce,onChange:Be=>je(Be.target.value),className:"w-full rounded bg-white/10 text-white px-2 py-1",min:"0",step:"0.01"})]})}const OrderRequests=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState(!0),[De,Fe]=reactExports.useState("none"),[ke,Oe]=reactExports.useState([]),[Me,Ue]=reactExports.useState(""),[$e,He]=reactExports.useState("All"),[Qe,We]=reactExports.useState([]),[qe,Ke]=reactExports.useState("all"),[Xe,Ye]=reactExports.useState(!1),[Ze,Je]=reactExports.useState(""),[tr,rr]=reactExports.useState(null),ar=br=>{if(br==null)return 0;if(typeof br=="number")return isNaN(br)?0:br;if(typeof br=="string"){const Ur=br.replace(/[^\d.-]/g,""),Qr=Number(Ur);return isNaN(Qr)?0:Qr}return 0},ir=br=>ar(br.quantity??br.qty),nr=br=>ar(br.price??br.unitPrice??br.sellingPrice??br.rate??br.unit_price),cr=br=>ir(br)*nr(br),mr=(br=[])=>br.reduce((Ur,Qr)=>Ur+cr(Qr),0),fr=br=>{try{return new Date(br).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},or=br=>{try{return new Date(br).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}},yr=br=>{rr(br),Je(""),Ye(!0)},Cr=()=>{Ye(!1),Je(""),rr(null)},jr=async()=>{const br=Ze.trim();br&&(await _r(tr,"Rejected",br),Cr())},vr=br=>{Oe(Ur=>Ur.includes(br)?Ur.filter(Qr=>Qr!==br):[...Ur,br])},Tr=()=>{const br=(Me||"").toLowerCase();return(Re||[]).filter(Ur=>{const Qr=(Ur.id||"").toLowerCase().includes(br)||(Ur.retailerName||"").toLowerCase().includes(br)||(Ur.retailerEmail||"").toLowerCase().includes(br)||(Ur.retailerPhone||"").toLowerCase().includes(br)||(Ur.retailerCity||"").toLowerCase().includes(br)||(Ur.retailerAddress||"").toLowerCase().includes(br),zr=$e==="All"||Ur.status===$e,Gr=qe==="all"||Ur.retailerId===qe;return Qr&&zr&&Gr})},wr=()=>{const br=Tr();if(!br.length){alert("No orders to export.");return}const Ur=[["Order ID","Retailer","Email","Phone","City","Status","Payment","Requested On","Total"]];br.forEach(fn=>{Ur.push([fn.id||"",fn.retailerName||"N/A",fn.retailerEmail||"N/A",fn.retailerPhone||"N/A",fn.retailerCity||"N/A",fn.status||"N/A",fn.paymentMode||"N/A",fn.timestamp?.seconds?fr(fn.timestamp.seconds*1e3):"",fn.items?mr(fn.items).toFixed(2):"0.00"])});const Qr=Ur.map(fn=>fn.map(nn=>`"${String(nn).replace(/"/g,'""')}"`).join(",")).join(`
`),zr=new Blob([Qr],{type:"text/csv"}),Gr=document.createElement("a");Gr.href=URL.createObjectURL(zr),Gr.download=`order_requests_${Date.now()}.csv`,Gr.click()},Er=()=>{const br=Tr();if(!br.length){alert("No orders to export.");return}const Ur=br.map(Gr=>({"Order ID":Gr.id||"",Retailer:Gr.retailerName||"N/A",Email:Gr.retailerEmail||"N/A",Phone:Gr.retailerPhone||"N/A",City:Gr.retailerCity||"N/A",Status:Gr.status||"N/A",Payment:Gr.paymentMode||"N/A","Requested On":Gr.timestamp?.seconds?fr(Gr.timestamp.seconds*1e3):"",Total:Gr.items?mr(Gr.items).toFixed(2):"0.00"})),Qr=utils.book_new(),zr=utils.json_to_sheet(Ur);utils.book_append_sheet(Qr,zr,"Orders"),writeFileSync(Qr,`order_requests_${Date.now()}.xlsx`)},Pr=getFirestore(),Mr=getAuth();reactExports.useEffect(()=>{const br=Mr.currentUser;if(!br)return;const Ur=async nn=>{const bn=doc(Pr,"businesses",nn.retailerId);let hn={};try{const Zr=await getDoc(bn);if(Zr.exists()){const Rn=Zr.data();hn={retailerName:Rn.businessName||Rn.ownerName||"N/A",retailerEmail:Rn.email||"N/A",retailerPhone:Rn.phone||"N/A",retailerCity:Rn.city||"N/A",retailerState:Rn.state||"N/A",retailerAddress:Rn.address||"N/A"}}}catch(Zr){console.warn("Retailer fetch failed:",Zr)}const yn=await Promise.all((nn.items||[]).map(async Zr=>{if(!Zr.distributorProductId)return{...Zr};try{const Rn=await getDoc(doc(Pr,"businesses",Mr.currentUser.uid,"products",Zr.distributorProductId));if(Rn.exists()){const ri=Rn.data().quantity;return{...Zr,availableStock:ri}}}catch(Rn){console.warn("Stock lookup failed:",Rn)}return{...Zr}}));return{...nn,...hn,items:yn}},Qr=async nn=>{try{if(!nn?.id||!nn?.retailerId||nn.status==="Accepted"||nn.statusCode==="ACCEPTED")return;const bn=doc(Pr,"businesses",nn.retailerId,"sentOrders",nn.id),hn=await getDoc(bn);if(!hn.exists())return;const yn=hn.data();if(yn?.status==="Accepted"||yn?.statusCode==="ACCEPTED"){const Zr=doc(Pr,"businesses",Mr.currentUser.uid,"orderRequests",nn.id);await updateDoc(Zr,{status:"Accepted",statusCode:"ACCEPTED",statusTimestamps:{acceptedAt:serverTimestamp()},updatedAt:serverTimestamp()}),nn.status="Accepted",nn.statusCode="ACCEPTED"}}catch(bn){if(bn?.code==="permission-denied")return;console.debug("Mirror sync skipped:",bn?.message||bn)}},zr=collection(Pr,"businesses",br.uid,"orderRequests"),Gr=onSnapshot(zr,nn=>{const bn=nn.docs.map(hn=>Ur({id:hn.id,...hn.data()}));Promise.all(bn).then(async hn=>{await Promise.all(hn.filter(yn=>yn?.status!=="Accepted"&&yn?.statusCode!=="ACCEPTED").map(yn=>Qr(yn))),hn.sort((yn,Zr)=>(Zr.timestamp?.seconds||0)-(yn.timestamp?.seconds||0)),Ce(hn),Be(!1)})});return(async()=>{const bn=(await getDocs(collection(Pr,"businesses",br.uid,"connectedRetailers"))).docs.map(hn=>hn.data());We(bn)})(),()=>{Gr()}},[]),Qe.map(br=>({value:br.retailerId,label:`${br.retailerName||br.businessName||br.ownerName||"Unnamed"}  ${br.city||br.address?.city||""}  ${br.retailerEmail||br.email||"N/A"} (ID: ${(br.retailerId||"").substring(0,6)}...)`}));const _r=async(br,Ur,Qr)=>{try{const Gr=(await getDoc(doc(Pr,"businesses",Mr.currentUser.uid,"orderRequests",br))).data(),fn=doc(Pr,"businesses",Gr.distributorId||Mr.currentUser.uid,"orderRequests",br),nn=doc(Pr,"businesses",Gr.retailerId,"sentOrders",br),bn=await getDoc(nn);if(Ur==="Accepted"){const yn=[];for(let Rn of Gr.items||[]){let ri={...Rn};if(Rn.distributorProductId){const Yn=doc(Pr,"businesses",Mr.currentUser.uid,"products",Rn.distributorProductId),ti=await getDoc(Yn);if(ti.exists()){const ei=ti.data(),Gn=ei.quantity||0,Ei=Math.max(Gn-Number(Rn.quantity||0),0);await updateDoc(Yn,{quantity:Ei}),ri={...ri,price:ei.sellingPrice||ei.price||0,subtotal:(ei.sellingPrice||ei.price||0)*Number(Rn.quantity||0),sku:ei.sku||"",category:ei.category||"",brand:ei.brand||""}}}yn.push(ri)}const Zr={status:Ur,items:yn,distributorId:Mr.currentUser.uid,retailerId:Gr.retailerId,timestamp:Gr.timestamp,notes:Gr.notes||"",paymentMode:Gr.paymentMode||"N/A",creditDays:Gr.creditDays||null,splitPayment:Gr.splitPayment||null};await updateDoc(fn,{status:Ur,items:yn,statusTimestamps:{acceptedAt:serverTimestamp()}}),bn.exists()?await updateDoc(nn,{...Zr,status:Ur,statusTimestamps:{acceptedAt:serverTimestamp()}}):await setDoc(nn,{...Zr,statusTimestamps:{requestedAt:Gr.timestamp}});return}const hn={status:Ur,items:Gr.items,distributorId:Mr.currentUser.uid,retailerId:Gr.retailerId,timestamp:Gr.timestamp,notes:Gr.notes||"",paymentMode:Gr.paymentMode||"N/A",creditDays:Gr.creditDays||null,splitPayment:Gr.splitPayment||null};if(Ur==="Rejected"){const yn=(Qr||"").trim();if(!yn)return;await updateDoc(fn,{status:Ur,rejectionNote:yn,statusTimestamps:{rejectedAt:serverTimestamp()}}),bn.exists()?await updateDoc(nn,{status:Ur,rejectionNote:yn,statusTimestamps:{rejectedAt:serverTimestamp()}}):await setDoc(nn,{...hn,rejectionNote:yn,statusTimestamps:{requestedAt:Gr.timestamp}});return}}catch(zr){console.error("Failed to update status:",zr)}},Ir=br=>{const Ur=[["Retailer","Email","Date","Payment","Status"],[br.retailerName,br.retailerEmail,br.timestamp?.seconds?or(br.timestamp.seconds*1e3):"",br.paymentMode,br.status]].map(Gr=>Gr.join(",")).join(`
`),Qr=new Blob([Ur],{type:"text/csv"}),zr=document.createElement("a");zr.href=URL.createObjectURL(Qr),zr.download=`order_${br.id}.csv`,zr.click()},Dr=br=>{const Ur=utils.book_new(),Qr=utils.json_to_sheet([{Retailer:br.retailerName,Email:br.retailerEmail,Date:br.timestamp?.seconds?or(br.timestamp.seconds*1e3):"",Payment:br.paymentMode,Status:br.status}]);utils.book_append_sheet(Ur,Qr,"Order"),writeFileSync(Ur,`order_${br.id}.xlsx`)},Or=br=>{const Ur=document.getElementById(`order-card-${br.id}`);html2pdf().from(Ur).save(`order_${br.id}.pdf`)};return je?jsxRuntimeExports.jsx("div",{className:"p-4 text-white",children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:[0,1,2].map(br=>jsxRuntimeExports.jsx("div",{className:"rounded-xl overflow-hidden bg-white/5 backdrop-blur-xl border border-white/10 animate-pulse shadow-xl",children:jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 w-full",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-white/10 rounded w-1/3"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("div",{className:"h-3 bg-white/10 rounded w-1/5"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-white/10 rounded w-1/6"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-white/10 rounded w-1/6"})]})]}),jsxRuntimeExports.jsx("div",{className:"h-6 w-20 bg-white/10 rounded-full"})]})},br))})}):Re.length===0?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 backdrop-blur-xl text-white p-6 text-center shadow-xl",children:[jsxRuntimeExports.jsx("div",{className:"text-2xl",children:""}),jsxRuntimeExports.jsx("p",{className:"mt-2 font-medium",children:"No order requests yet"}),jsxRuntimeExports.jsx("p",{className:"text-white/70 text-sm",children:"New orders from retailers will appear here."})]})}):jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4 text-white",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-end mb-4",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:wr,className:"px-3 py-1 rounded-lg text-sm bg-white/10 border border-white/15 hover:bg-white/15 transition shadow-sm backdrop-blur-xl","aria-label":"Export visible orders as CSV",children:"Export CSV (visible)"}),jsxRuntimeExports.jsx("button",{onClick:Er,className:"px-3 py-1 rounded-lg text-sm bg-white/10 border border-white/15 hover:bg-white/15 transition shadow-sm backdrop-blur-xl","aria-label":"Export visible orders as Excel",children:"Export Excel (visible)"})]})}),jsxRuntimeExports.jsxs("div",{className:"sticky top-[72px] z-40 rounded-xl p-4 mb-4 flex flex-col md:flex-row md:items-center md:gap-4 gap-3 border border-white/10 bg-[#0B0F14]/90 supports-[backdrop-filter]:bg-[#0B0F14]/70 backdrop-blur-xl shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by Order ID, Retailer Name, Email, Phone, City, or Address",value:Me,onChange:br=>Ue(br.target.value.toLowerCase()),className:"w-full px-3 py-2 rounded-lg text-sm bg-white/10 border border-white/20 placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:["All","Requested","Accepted","Rejected"].map(br=>{const Ur=$e===br;return jsxRuntimeExports.jsx("button",{type:"button",className:`px-4 py-1 rounded-full text-xs border transition ${Ur?"bg-emerald-500 text-slate-900 border-transparent shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white border-white/20 hover:bg-white/15"}`,onClick:()=>He(br),children:br},br)})}),jsxRuntimeExports.jsx("div",{className:"min-w-[200px]",children:jsxRuntimeExports.jsxs(Select,{value:qe||"all",onChange:br=>Ke(br.target.value),displayEmpty:!0,size:"small",sx:{backgroundColor:"rgba(255,255,255,0.08)",color:"#fff",borderRadius:"0.75rem",fontSize:14,boxShadow:"0 1px 2px 0 rgb(0 0 0 / 0.10)",".MuiSvgIcon-root":{color:"#fff"},".MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.2)"},"&:hover .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(255,255,255,0.35)"},"&.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"rgba(16,185,129,0.6)"},minWidth:"180px",height:"36px"},inputProps:{className:"px-3 py-2 text-sm"},MenuProps:{PaperProps:{sx:{bgcolor:"rgba(15,23,42,0.98)",color:"#fff"}}},children:[jsxRuntimeExports.jsx(MenuItem,{value:"all",children:jsxRuntimeExports.jsx("span",{className:"text-sm text-white",children:"All Retailers"})}),Qe.filter(br=>br.status==="accepted").map(br=>{const Ur=br.businessName||br.retailerName||br.ownerName||"N/A",Qr=br.ownerName||br.retailerName||"N/A",zr=br.address||"N/A",Gr=br.city||"N/A",fn=br.state||"N/A";return jsxRuntimeExports.jsx(MenuItem,{value:br.retailerId,children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:Ur}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-white/70",children:["Owner: ",Qr]}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-white/70",children:[zr!=="N/A"?zr:"",zr!=="N/A"&&(Gr!=="N/A"||fn!=="N/A")?", ":"",Gr!=="N/A"||fn!=="N/A"?[Gr!=="N/A"?Gr:"",fn!=="N/A"?fn:""].filter(Boolean).join(", "):""]})]})},br.retailerId)})]})})]}),jsxRuntimeExports.jsx("div",{id:"order-requests-content",children:Tr().map((br,Ur)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{delay:Ur*.03,duration:.28,type:"spring",damping:20},className:"rounded-xl overflow-hidden mb-4 bg-white/5 backdrop-blur-xl border border-white/10 shadow-xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between px-5 py-3 cursor-pointer select-none hover:bg-white/5 transition",onClick:()=>vr(br.id),children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-bold text-lg text-white",children:br.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-white/60 mt-1",children:[br.retailerCity||"N/A",br.retailerState?`, ${br.retailerState}`:"",br.retailerAddress?`  ${br.retailerAddress}`:""]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 mt-1 text-xs text-white/50",children:[jsxRuntimeExports.jsx("span",{children:br.timestamp?.seconds?`Requested on: ${fr(br.timestamp.seconds*1e3)}`:"Requested on: N/A"}),jsxRuntimeExports.jsxs("span",{children:["Items: ",br.items?.length||0]}),jsxRuntimeExports.jsxs("span",{children:["Total: ",jsxRuntimeExports.jsxs("span",{className:"font-semibold text-emerald-300",children:["",mr(br.items).toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2",children:[jsxRuntimeExports.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium
                  ${br.status==="Requested"?"bg-sky-400/15 text-sky-300":br.status==="Accepted"?"bg-emerald-400/15 text-emerald-300":br.status==="Rejected"?"bg-rose-400/15 text-rose-300":"bg-white/10 text-white/80"}
                  `,children:[br.status==="Requested"&&" ",br.status==="Accepted"&&" ",br.status==="Rejected"&&" ",br.status]}),jsxRuntimeExports.jsx("button",{className:"text-xs text-emerald-300 underline focus:outline-none","aria-expanded":ke.includes(br.id),onClick:()=>vr(br.id),children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1",children:[jsxRuntimeExports.jsx("span",{children:ke.includes(br.id)?"Hide Details":"Show Details"}),jsxRuntimeExports.jsx("span",{className:`transition-transform ${ke.includes(br.id)?"rotate-180":""}`,children:""})]})})]})]}),ke.includes(br.id)&&jsxRuntimeExports.jsxs(motion.div,{id:`order-card-${br.id}`,className:"bg-white/5 px-5 pb-5 pt-3",initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.2},children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 text-sm font-bold",children:[br.status==="Accepted"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-emerald-400/15 text-emerald-300 rounded-full font-bold",children:" Accepted"}),br.status==="Rejected"&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-rose-400/15 text-rose-300 rounded-full font-bold",children:" Rejected"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Order ID:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.id})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Retailer Email:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.retailerEmail||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Phone:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.retailerPhone||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Address:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.retailerAddress||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"City:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.retailerCity||"N/A"}),jsxRuntimeExports.jsx("span",{className:"ml-4 font-medium text-white/70",children:"State:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.retailerState||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Requested On:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.timestamp?.seconds?fr(br.timestamp.seconds*1e3):"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Order Note:"}),jsxRuntimeExports.jsx("span",{className:"ml-2 text-white",children:br.notes||""})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Status:"}),jsxRuntimeExports.jsx("span",{className:`ml-2 px-2 py-1 rounded-full font-semibold text-xs
                        ${br.status==="Requested"?"bg-sky-400/15 text-sky-300":br.status==="Accepted"?"bg-emerald-400/15 text-emerald-300":br.status==="Rejected"?"bg-rose-400/15 text-rose-300":"bg-white/10 text-white/80"}`,children:br.status})]}),jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Payment Mode:"}),br.paymentMode==="Credit Cycle"?jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-400/15 text-orange-300 font-medium text-xs",children:"Credit Cycle"}):br.paymentMode==="Split Payment"?jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-fuchsia-400/15 text-fuchsia-300 font-medium text-xs",children:"Split Payment"}):jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 font-medium text-xs",children:br.paymentMode||"N/A"})]}),br.paymentMode==="Credit Cycle"&&br.timestamp?.seconds&&br.creditDays&&jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Due Date:"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-400/15 text-orange-300 font-medium text-xs",children:or(br.timestamp.seconds*1e3+br.creditDays*864e5)})]}),br.paymentMode==="Split Payment"&&br.splitPayment&&jsxRuntimeExports.jsxs("div",{className:"mb-1 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/70",children:"Split Payment:"}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-fuchsia-400/15 text-fuchsia-300 font-medium text-xs",children:["Advance ",br.splitPayment.advance,"% / Balance ",br.splitPayment.balance,"%"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-1",children:"Items:"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 border border-white/10 rounded-md overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 font-semibold bg-white/10 border-b border-white/10 px-3 py-2 text-xs",children:[jsxRuntimeExports.jsx("div",{children:"Name"}),jsxRuntimeExports.jsx("div",{children:"Brand"}),jsxRuntimeExports.jsx("div",{children:"Category"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit"}),jsxRuntimeExports.jsx("div",{children:"Stock"})]}),br.items.map((Qr,zr)=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-6 border-t border-white/10 px-3 py-2 text-sm hover:bg-white/5 transition",children:[jsxRuntimeExports.jsx("div",{children:Qr.productName}),jsxRuntimeExports.jsx("div",{children:Qr.brand||""}),jsxRuntimeExports.jsx("div",{children:Qr.category||""}),jsxRuntimeExports.jsx("div",{children:Qr.quantity}),jsxRuntimeExports.jsx("div",{children:Qr.unit}),jsxRuntimeExports.jsx("div",{className:`font-medium ${Qr.availableStock===void 0?"text-white/50":Qr.availableStock>=Qr.quantity?"text-emerald-300":Qr.availableStock>0?"text-amber-300":"text-rose-300"}`,children:Qr.availableStock===void 0?"N/A":Qr.availableStock>=Qr.quantity?`${Qr.availableStock} In Stock`:Qr.availableStock>0?`${Qr.availableStock} Low`:"Out of Stock"})]},zr))]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex justify-end text-emerald-300 text-sm font-semibold",children:["Total: ",mr(br.items).toFixed(2)]}),br.status==="Requested"&&jsxRuntimeExports.jsxs("div",{className:"mt-5",children:[jsxRuntimeExports.jsx("h4",{className:"font-medium mb-2",children:"Proforma / Taxes & Charges"}),jsxRuntimeExports.jsx(ChargesTaxesEditor,{orderId:br.id,distributorId:Mr.currentUser?.uid,retailerId:br.retailerId,order:br,distributorState:br.distributorState,retailerState:br.retailerState,onSaved:()=>{}})]}),br.status!=="Requested"&&br.proforma&&jsxRuntimeExports.jsxs("div",{className:"mt-5 rounded-xl border border-white/10 bg-white/5 p-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-3",children:"Proforma Summary"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/80 space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Taxable Base"}),jsxRuntimeExports.jsxs("span",{children:["",Number(br.proforma.taxableBase||0).toFixed(2)]})]}),br.proforma.taxType==="IGST"?jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"IGST"}),jsxRuntimeExports.jsxs("span",{children:["",Number(br.proforma.taxBreakup?.igst||0).toFixed(2)]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"CGST"}),jsxRuntimeExports.jsxs("span",{children:["",Number(br.proforma.taxBreakup?.cgst||0).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"SGST"}),jsxRuntimeExports.jsxs("span",{children:["",Number(br.proforma.taxBreakup?.sgst||0).toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Round Off"}),jsxRuntimeExports.jsxs("span",{children:["",Number(br.proforma.roundOff||0).toFixed(2)]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between font-semibold text-white",children:[jsxRuntimeExports.jsx("span",{children:"Grand Total"}),jsxRuntimeExports.jsxs("span",{children:["",Number(br.proforma.grandTotal||0).toFixed(2)]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ir(br),className:"px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/15 hover:bg-white/15 transition",title:"Export this order as CSV",children:"CSV"}),jsxRuntimeExports.jsx("button",{onClick:()=>Dr(br),className:"px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/15 hover:bg-white/15 transition",title:"Export this order as Excel",children:"Excel"}),jsxRuntimeExports.jsx("button",{onClick:()=>Or(br),className:"px-3 py-1 text-xs rounded-lg bg-white/10 border border-white/15 hover:bg-white/15 transition",title:"Export this order as PDF",children:"PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-2",children:[jsxRuntimeExports.jsx("button",{disabled:br.status!=="Requested",onClick:()=>_r(br.id,"Accepted"),className:`rounded-full px-4 py-1 font-medium text-sm transition ${br.status!=="Requested"?"bg-white/10 text-white/40 cursor-not-allowed":"text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)]"}`,children:"Accept"}),jsxRuntimeExports.jsx("button",{disabled:br.status!=="Requested",onClick:()=>yr(br.id),className:`rounded-full px-4 py-1 font-medium text-sm transition ${br.status!=="Requested"?"bg-white/10 text-white/40 cursor-not-allowed":"bg-rose-600 hover:bg-rose-700 text-white shadow"}`,children:"Reject"})]}),br.rejectionNote&&jsxRuntimeExports.jsxs("p",{className:"text-sm mt-2 text-rose-300",children:[jsxRuntimeExports.jsx("strong",{children:"Reason:"})," ",br.rejectionNote]})]})]},br.id))}),Xe&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:Cr}),jsxRuntimeExports.jsxs("div",{className:"relative w-full max-w-lg mx-4 rounded-xl border border-white/10 bg-[#0B0F14]/90 backdrop-blur-2xl text-white shadow-[0_20px_60px_rgba(0,0,0,0.55)]",children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 border-b border-white/10",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold",children:"Reject Order"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:"Please provide a reason for rejection. This will be visible to the retailer."})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-4",children:[jsxRuntimeExports.jsx("div",{className:"mb-2 text-xs text-white/70",children:"Quick reasons:"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["Out of stock","Incorrect pricing","Address mismatch","Credit overdue","Not serviceable","Duplicate request"].map(br=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Je(br),className:"px-2.5 py-1 rounded-full border text-xs bg-white/10 border-white/20 hover:bg-white/15",children:br},br))}),jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Reason"}),jsxRuntimeExports.jsx("textarea",{value:Ze,onChange:br=>Je(br.target.value),rows:4,className:"w-full rounded-md px-3 py-2 text-sm bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"Write the rejection reason..."})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 border-t border-white/10 flex justify-end gap-2 bg-white/5 rounded-b-xl",children:[jsxRuntimeExports.jsx("button",{onClick:Cr,className:"px-4 py-2 text-sm rounded border bg-white/10 border-white/20 hover:bg-white/15",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:jr,disabled:!Ze.trim(),className:`px-4 py-2 text-sm rounded ${Ze.trim()?"bg-rose-600 hover:bg-rose-700 text-white":"bg-white/10 text-white/40 cursor-not-allowed"}`,children:"Confirm Reject"})]})]})]})]})},PendingOrders=()=>{const[Re,Ce]=reactExports.useState([]),je=getFirestore(),Be=getAuth(),De=async(Ze,Je)=>{const tr=Be.currentUser;if(!tr)return;const rr=doc(je,"businesses",tr.uid,"orderRequests",Ze);await updateDoc(rr,{expectedDeliveryDate:Je})},Fe=async(Ze,Je)=>{const tr=Be.currentUser;if(!tr)return;const rr=doc(je,"businesses",tr.uid,"orderRequests",Ze);await updateDoc(rr,{deliveryMode:Je})},ke=async(Ze,Je)=>{const tr=Be.currentUser;if(!tr)return;const rr=doc(je,"businesses",tr.uid,"orderRequests",Ze);await updateDoc(rr,{paymentMode:Je})},Oe=async Ze=>{const Je=Be.currentUser;if(!Je)return;const tr=Re.find(cr=>cr.id===Ze);if(!tr||(Ce(cr=>cr.map(mr=>mr.id!==Ze?mr:{...mr,deliveryDateError:!mr.expectedDeliveryDate,deliveryModeError:!mr.deliveryMode})),!tr.expectedDeliveryDate||!tr.deliveryMode))return;const rr=doc(je,"businesses",Je.uid,"orderRequests",Ze),ar=doc(je,"businesses",tr.retailerId,"sentOrders",Ze),ir={status:"Shipped",retailerName:tr.retailerName||tr.retailer?.name||"N/A",retailerEmail:tr.retailerEmail||tr.retailer?.email||"N/A",retailerPhone:tr.retailerPhone||tr.retailer?.phone||"N/A",paymentMethod:tr.paymentMode||"N/A",createdAt:tr.timestamp?.seconds?new Date(tr.timestamp.seconds*1e3).toISOString():new Date().toISOString(),expectedDeliveryDate:tr.expectedDeliveryDate,deliveryMode:tr.deliveryMode,statusTimestamps:{shippedAt:serverTimestamp()}};await updateDoc(rr,ir);const nr={status:"Shipped",expectedDeliveryDate:tr.expectedDeliveryDate,deliveryMode:tr.deliveryMode,shippedAt:new Date().toISOString(),statusTimestamps:{shippedAt:serverTimestamp()}};await updateDoc(ar,nr)},Me=(Ze,Je,tr,rr)=>{Ce(ar=>ar.map(ir=>{if(ir.id!==Ze)return ir;const nr=[...ir.items];return nr[Je]={...nr[Je],[tr]:rr},{...ir,items:nr}}))},Ue=(Ze,Je)=>{Ce(tr=>tr.map(rr=>{if(rr.id!==Ze)return rr;const ar=rr.items.filter((ir,nr)=>nr!==Je);return{...rr,items:ar}}))},$e=async Ze=>{const Je=Be.currentUser;if(!Je)return;const tr=Re.find(ar=>ar.id===Ze),rr=doc(je,"businesses",Je.uid,"orderRequests",Ze);await updateDoc(rr,{items:tr.items,paymentMode:tr.paymentMode,deliveryMode:tr.deliveryMode||"",expectedDeliveryDate:tr.expectedDeliveryDate||""})},He=Ze=>Ze.stockAvailable===void 0||Ze.stockAvailable===null?{isOverstock:!1,message:""}:Ze.quantity>Ze.stockAvailable?{isOverstock:!0,message:`Only ${Ze.stockAvailable} in stock`}:{isOverstock:!1,message:""};reactExports.useEffect(()=>{const Ze=Be.currentUser;if(!Ze)return;const Je=collection(je,"businesses",Ze.uid,"orderRequests"),tr=query(Je,where("status","in",["Accepted","Modified"])),rr=onSnapshot(tr,async ar=>{const ir=await Promise.all(ar.docs.map(async nr=>{const cr=nr.data(),mr=doc(je,"businesses",cr.retailerId),fr=await getDoc(mr),or=fr.exists()?fr.data():{},yr=await Promise.all((cr.items||[]).map(async(Cr,jr)=>{const vr=Array.isArray(cr.proforma?.lines)?cr.proforma.lines[jr]:void 0;let Tr={...Cr};if(!vr&&Cr.productId)try{const wr=doc(je,"products",Cr.productId),Er=await getDoc(wr);if(Er.exists()){const Pr=Er.data();Tr={...Tr,stockAvailable:Pr.stockAvailable,price:Pr.sellingPrice||0,sku:Pr.sku||"",unit:Pr.unit||""}}}catch{}return vr&&(Tr={...Tr,price:Number(vr.price??Tr.price??0),proformaGross:Number(vr.gross??0),gstRate:Number(vr.gstRate??Tr.gstRate??0)}),Tr}));return{id:nr.id,...cr,items:yr,retailerName:or.businessName||or.ownerName||"N/A",retailerEmail:or.email||"N/A"}}));Ce(ir)});return()=>rr()},[]);const[Qe,We]=reactExports.useState("All"),qe=Re.filter(Ze=>Qe==="All"||Ze.status===Qe),Ke=Ze=>{try{return new Date(Ze).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},Xe=(Ze,Je,tr)=>{if(Array.isArray(Ze?.proforma?.lines)){const rr=Ze.proforma.lines[Je];if(rr&&rr.price!=null)return Number(rr.price)||0}return Number(tr?.price)||0},Ye=(Ze,Je,tr)=>{if(Array.isArray(Ze?.proforma?.lines)){const ir=Ze.proforma.lines[Je];if(ir&&ir.gross!=null)return Number(ir.gross)||0}const rr=Number(tr?.quantity)||0,ar=Number(tr?.price)||0;return rr*ar};return jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6 text-white",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 sticky top-[72px] z-30 backdrop-blur-xl bg-[#0B0F14]/60 border border-white/10 rounded-xl px-3 py-2",children:jsxRuntimeExports.jsx("div",{className:"flex gap-2 flex-wrap",children:["All","Accepted","Modified"].map(Ze=>{const Je=Qe===Ze;return jsxRuntimeExports.jsx("button",{type:"button",className:`px-4 py-1 rounded-full text-sm border transition backdrop-blur-xl ${Je?"bg-emerald-500 text-slate-900 border-transparent shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white border-white/15 hover:bg-white/15"}`,onClick:()=>We(Ze),children:Ze},Ze)})})}),qe.map(Ze=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-xl hover:shadow-emerald-400/10 transition p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg text-white",children:["Retailer: ",Ze.retailerName]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-white/60",children:["Order ID: ",Ze.id]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:jsxRuntimeExports.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${Ze.status==="Accepted"?"bg-emerald-400/15 text-emerald-300":Ze.status==="Modified"?"bg-amber-400/15 text-amber-300":"bg-white/10 text-white/80"}`,children:Ze.status})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[jsxRuntimeExports.jsxs("p",{className:"text-white/70",children:["Email: ",Ze.retailerEmail]}),Ze.status==="Modified"?jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"Payment Mode:"}),jsxRuntimeExports.jsxs("select",{value:Ze.paymentMode||"",onChange:Je=>ke(Ze.id,Je.target.value),className:"rounded-lg px-3 py-2 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"COD",children:"Cash on Delivery (COD)"}),jsxRuntimeExports.jsx("option",{value:"Split Payment",children:"Split Payment (50/50 or custom %)"}),jsxRuntimeExports.jsx("option",{value:"Advance Payment",children:"Advance Payment"}),jsxRuntimeExports.jsx("option",{value:"End of Month",children:"End of Month"}),jsxRuntimeExports.jsx("option",{value:"Credit Cycle",children:"Credit Cycle (15/30 days)"}),jsxRuntimeExports.jsx("option",{value:"UPI",children:"UPI"}),jsxRuntimeExports.jsx("option",{value:"Net Banking",children:"Net Banking"}),jsxRuntimeExports.jsx("option",{value:"Cheque",children:"Cheque"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}):jsxRuntimeExports.jsxs("p",{className:"text-white/70",children:[jsxRuntimeExports.jsx("span",{className:"font-medium",children:"Payment Mode:"})," ",Ze.paymentMode||"N/A"]})]}),jsxRuntimeExports.jsxs("p",{className:"mt-1 text-white/60 text-sm",children:["Requested On: ",Ze.timestamp?.seconds?Ke(Ze.timestamp.seconds*1e3):"N/A"]}),Ze?.proforma&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(ProformaSummary,{proforma:Ze.proforma,distributorState:Ze.distributorState,retailerState:Ze.retailerState})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 border border-white/10 rounded-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-8 font-semibold bg-white/5 border-b border-white/10 px-4 py-2 text-white",children:[jsxRuntimeExports.jsx("div",{children:"Name"}),jsxRuntimeExports.jsx("div",{children:"Brand"}),jsxRuntimeExports.jsx("div",{children:"Category"}),jsxRuntimeExports.jsx("div",{children:"Qty"}),jsxRuntimeExports.jsx("div",{children:"Unit"}),jsxRuntimeExports.jsx("div",{children:"Actions"}),jsxRuntimeExports.jsx("div",{children:"Price"}),jsxRuntimeExports.jsx("div",{children:"Subtotal"})]}),Ze.items.map((Je,tr)=>{const{isOverstock:rr,message:ar}=He(Je);return jsxRuntimeExports.jsx("div",{className:"grid grid-cols-8 border-t border-white/10 px-4 py-2 text-sm items-center gap-2 hover:bg-white/5 transition",children:Ze.status==="Modified"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:Je.productName,onChange:ir=>Me(Ze.id,tr,"productName",ir.target.value)}),jsxRuntimeExports.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:Je.brand||"",onChange:ir=>Me(Ze.id,tr,"brand",ir.target.value)}),jsxRuntimeExports.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:Je.category||"",onChange:ir=>Me(Ze.id,tr,"category",ir.target.value)}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[jsxRuntimeExports.jsx("input",{className:`rounded px-2 py-1 bg-white/10 border ${rr?"border-rose-500":"border-white/20"} text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition`,type:"number",value:Je.quantity,onChange:ir=>Me(Ze.id,tr,"quantity",parseInt(ir.target.value))}),rr&&jsxRuntimeExports.jsx("span",{className:"text-xs text-rose-300",children:ar})]}),jsxRuntimeExports.jsx("input",{className:"rounded px-2 py-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/40 transition",type:"text",value:Je.unit||"",onChange:ir=>Me(Ze.id,tr,"unit",ir.target.value)}),jsxRuntimeExports.jsx("button",{onClick:()=>Ue(Ze.id,tr),className:"text-rose-300 font-semibold px-2 py-1 rounded hover:bg-white/10 transition",title:"Delete Item",type:"button",children:"Delete"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{children:Je.productName}),jsxRuntimeExports.jsx("div",{children:Je.brand||"N/A"}),jsxRuntimeExports.jsx("div",{children:Je.category||"N/A"}),jsxRuntimeExports.jsxs("div",{children:[Je.quantity,Je.stockAvailable!==void 0&&Je.quantity>Je.stockAvailable&&jsxRuntimeExports.jsx("span",{className:"text-rose-300 text-xs ml-1",children:"Out of Stock"})]}),jsxRuntimeExports.jsx("div",{children:Je.unit||"N/A"}),jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{children:["",Xe(Ze,tr,Je).toFixed(2)]}),jsxRuntimeExports.jsxs("div",{children:["",Ye(Ze,tr,Je).toFixed(2)]})]})},tr)}),Ze?.proforma?.grandTotal!=null&&jsxRuntimeExports.jsxs("div",{className:"flex justify-end px-4 py-2 border-t border-white/10 text-sm font-semibold",children:[jsxRuntimeExports.jsx("span",{className:"mr-2 text-white/80",children:"Grand Total:"}),jsxRuntimeExports.jsxs("span",{children:["",Number(Ze.proforma.grandTotal||0).toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 flex flex-col md:flex-row md:items-center md:gap-6 gap-3",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 font-medium text-white/80",children:["Expected Delivery Date:",jsxRuntimeExports.jsx("input",{type:"date",value:Ze.expectedDeliveryDate||"",onChange:Je=>{De(Ze.id,Je.target.value),Ce(tr=>tr.map(rr=>rr.id===Ze.id?{...rr,expectedDeliveryDate:Je.target.value}:rr))},className:"rounded-lg px-3 py-2 ml-1 bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition"})]}),Ze.deliveryDateError&&jsxRuntimeExports.jsx("p",{className:"text-rose-300 text-sm mt-1",children:"Please select a valid delivery date."}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 font-medium text-white/80",children:["Delivery Mode:",jsxRuntimeExports.jsxs("select",{value:Ze.deliveryMode||"",onChange:Je=>{Fe(Ze.id,Je.target.value),Ce(tr=>tr.map(rr=>rr.id===Ze.id?{...rr,deliveryMode:Je.target.value}:rr))},className:"rounded-lg px-3 py-2 ml-1 bg-white/10 border border-white/20 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/50 transition",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"By Distributor",children:"By Distributor"}),jsxRuntimeExports.jsx("option",{value:"Shiprocket",children:"Shiprocket"}),jsxRuntimeExports.jsx("option",{value:"Delhivery",children:"Delhivery"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),Ze.deliveryModeError&&jsxRuntimeExports.jsx("p",{className:"text-rose-300 text-sm mt-1",children:"Please select a delivery mode."})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 flex gap-3 flex-wrap",children:[Ze.status==="Modified"&&jsxRuntimeExports.jsx("button",{onClick:()=>$e(Ze.id),className:"px-4 py-2 rounded-full font-medium text-sm text-slate-900 bg-gradient-to-r from-amber-300 via-yellow-300 to-orange-300 hover:shadow-[0_8px_24px_rgba(251,191,36,0.35)] transition",children:"Save Changes"}),jsxRuntimeExports.jsx("button",{onClick:()=>Oe(Ze.id),className:"px-4 py-2 rounded-full font-medium text-sm text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] transition",children:"Mark as Shipped"})]})]},Ze.id))]})};function q(Re){return`"${String(Re??"").replace(/"/g,'""')}"`}function linePrice$2(Re,Ce,je){const Be=Array.isArray(Re?.proforma?.lines)?Re.proforma.lines[je]:void 0;return Be&&Be.price!=null?Number(Be.price)||0:Number(Ce?.price)||0}function lineSubtotal$2(Re,Ce,je){const Be=Array.isArray(Re?.proforma?.lines)?Re.proforma.lines[je]:void 0;if(Be&&Be.gross!=null)return Number(Be.gross)||0;const De=Number(Ce?.quantity)||0,Fe=linePrice$2(Re,Ce,je);return De*Fe}function orderToCSV(Re){const Ce=["Product Name","Brand","SKU","Qty","Price","Subtotal"],Be=(Array.isArray(Re?.items)?Re.items:[]).map((Me,Ue)=>{const $e=Me.productName||Me.name||"",He=Me.brand||"",Qe=Me.sku||"",We=Number(Me.quantity??Me.qty??0)||0,qe=linePrice$2(Re,Me,Ue),Ke=lineSubtotal$2(Re,Me,Ue);return[$e,He,Qe,We,qe,Ke]}),De=Be.reduce((Me,Ue)=>Me+(Number(Ue[5])||0),0),Fe=Number(Re?.proforma?.grandTotal??De)||0,ke=[["Order ID",Re?.id||""],["Distributor",Re?.distributorName||Re?.distributorBusinessName||""],["Retailer",Re?.retailerName||Re?.retailerBusinessName||""],["Payment Mode",Re?.paymentMode||Re?.paymentMethod||""],["Tax Type",Re?.proforma?.taxType||""]],Oe=[];return ke.forEach(Me=>Oe.push(`${q(Me[0])},${q(Me[1])}`)),ke.length&&Oe.push(""),Oe.push(Ce.map(q).join(",")),Be.forEach(Me=>Oe.push(Me.map(q).join(","))),Oe.push([q(""),q(""),q(""),q(""),q("Grand Total"),q(Fe.toFixed(2))].join(",")),Oe.join(`
`)}function downloadCSV(Re,Ce){const je=new Blob([Ce],{type:"text/csv;charset=utf-8;"}),Be=document.createElement("a");Be.href=URL.createObjectURL(je),Be.download=Re&&Re.endsWith(".csv")?Re:`${Re||"order"}.csv`,document.body.appendChild(Be),Be.click(),document.body.removeChild(Be),setTimeout(()=>URL.revokeObjectURL(Be.href),1e3)}function exportOrderCSV(Re,Ce="order.csv"){const je=orderToCSV(Re);downloadCSV(Ce,je)}const linePrice$1=(Re,Ce,je)=>{const Be=Array.isArray(Re?.proforma?.lines)?Re.proforma.lines[je]:void 0;return Be&&Be.price!=null?Number(Be.price)||0:Number(Ce?.price)||0},lineSubtotal$1=(Re,Ce,je)=>{const Be=Array.isArray(Re?.proforma?.lines)?Re.proforma.lines[je]:void 0;if(Be&&Be.gross!=null)return Number(Be.gross)||0;const De=Number(Ce?.quantity??Ce?.qty??0)||0,Fe=linePrice$1(Re,Ce,je);return De*Fe},grandTotal$1=(Re,Ce)=>Re?.proforma?.grandTotal!=null?Number(Re.proforma.grandTotal)||0:Number(Ce||0);function downloadOrderExcel(Re,Ce="order.xlsx"){const Be=(Array.isArray(Re?.items)?Re.items:[]).map((Qe,We)=>{const qe=linePrice$1(Re,Qe,We),Ke=Number(Qe?.quantity??Qe?.qty??0)||0,Xe=lineSubtotal$1(Re,Qe,We);return{"Product Name":Qe.productName||Qe.name||"",Brand:Qe.brand||"",SKU:Qe.sku||"",Qty:Ke,Price:qe,Subtotal:Xe}}),De=Be.reduce((Qe,We)=>Qe+(Number(We.Subtotal)||0),0),Fe=grandTotal$1(Re,De);Be.push({"Product Name":"",Brand:"",SKU:"",Qty:"",Price:"Grand Total",Subtotal:Number(Fe||0)});const ke=utils.json_to_sheet(Be,{header:["Product Name","Brand","SKU","Qty","Price","Subtotal"]}),Oe=utils.decode_range(ke["!ref"]);for(let Qe=1;Qe<=Oe.e.r;Qe++)[3,4,5].forEach(We=>{const qe=utils.encode_cell({r:Qe,c:We}),Ke=ke[qe];Ke&&typeof Ke.v=="number"&&(Ke.t="n",Ke.z="0.00")});const Me=[{Field:"Order ID",Value:Re?.id||""},{Field:"Distributor",Value:Re?.distributorName||Re?.distributorBusinessName||""},{Field:"Retailer",Value:Re?.retailerName||Re?.retailerBusinessName||""},{Field:"Payment Mode",Value:Re?.paymentMode||Re?.paymentMethod||""},{Field:"Tax Type",Value:Re?.proforma?.taxType||""}],Ue=utils.json_to_sheet(Me,{header:["Field","Value"]}),$e=utils.book_new();utils.book_append_sheet($e,Ue,"Meta"),utils.book_append_sheet($e,ke,"Items");const He=Ce.endsWith(".xlsx")?Ce:`${Ce}.xlsx`;writeFileSync($e,He)}const linePrice=(Re,Ce,je)=>{const Be=Array.isArray(Re?.proforma?.lines)?Re.proforma.lines[je]:void 0;return Be&&Be.price!=null?Number(Be.price)||0:Number(Ce?.price)||0},lineSubtotal=(Re,Ce,je)=>{const Be=Array.isArray(Re?.proforma?.lines)?Re.proforma.lines[je]:void 0;if(Be&&Be.gross!=null)return Number(Be.gross)||0;const De=Number(Ce?.quantity??Ce?.qty??0)||0,Fe=linePrice(Re,Ce,je);return De*Fe},grandTotal=(Re,Ce)=>Re?.proforma?.grandTotal!=null?Number(Re.proforma.grandTotal)||0:Number(Ce||0),fmt=Re=>Number(Re||0).toFixed(2);function downloadOrderPDF(Re,Ce="order.pdf"){const je=new E({unit:"pt",format:"a4"}),Be=40;let De=40;je.setFont("helvetica","bold"),je.setFontSize(14);const Fe=Re?.distributorBusinessName||Re?.distributorName||"Distributor";je.text(Fe,Be,De),De+=18,je.setFont("helvetica","normal"),je.setFontSize(10);const ke=Re?.retailerBusinessName||Re?.retailerName||"Retailer";[`Order ID: ${Re?.id||""}`,`Retailer: ${ke}`,`Payment: ${Re?.paymentMode||Re?.paymentMethod||"N/A"}`,Re?.proforma?.taxType?`Tax Type: ${Re.proforma.taxType}`:null].filter(Boolean).forEach(Ke=>{De+=14,je.text(Ke,Be,De)});const Ue=(Array.isArray(Re?.items)?Re.items:[]).map((Ke,Xe)=>{const Ye=linePrice(Re,Ke,Xe),Ze=Number(Ke?.quantity??Ke?.qty??0)||0,Je=lineSubtotal(Re,Ke,Xe);return[Ke.productName||Ke.name||"",Ke.brand||"",Ke.sku||"",Ze,fmt(Ye),fmt(Je)]});autoTable(je,{startY:De+20,head:[["Product Name","Brand","SKU","Qty","Price","Subtotal"]],body:Ue,styles:{fontSize:9,cellPadding:4},headStyles:{fillColor:[33,150,243]},columnStyles:{3:{halign:"right"},4:{halign:"right"},5:{halign:"right"}},theme:"grid",margin:{left:Be,right:Be}});let $e=je.lastAutoTable&&je.lastAutoTable.finalY||De+40;const He=Ue.reduce((Ke,Xe)=>Ke+Number(Xe[5]||0),0),Qe=grandTotal(Re,He);if(Re?.proforma){const Ke=Re.proforma;Ke.taxType;const Xe=[];Ke.taxBreakup?.igst!=null?Xe.push(["IGST",fmt(Ke.taxBreakup.igst)]):Ke.taxBreakup&&(Ke.taxBreakup.cgst!=null&&Xe.push(["CGST",fmt(Ke.taxBreakup.cgst)]),Ke.taxBreakup.sgst!=null&&Xe.push(["SGST",fmt(Ke.taxBreakup.sgst)]));const Ye=[["Sub-Total (pre-charges)",fmt(Ke.subTotal)],["Delivery",fmt(Ke.orderCharges?.delivery)],["Packing",fmt(Ke.orderCharges?.packing)],["Insurance",fmt(Ke.orderCharges?.insurance)],["Other",fmt(Ke.orderCharges?.other)],["Order Discount",`- ${fmt(Ke.discountTotal)}`],["Taxable Base",fmt(Ke.taxableBase)],...Xe,["Round Off",fmt(Ke.roundOff)],["Grand Total",fmt(Ke.grandTotal)]];autoTable(je,{startY:$e+16,head:[["Proforma","Amount ()"]],body:Ye,styles:{fontSize:9,cellPadding:4},headStyles:{fillColor:[76,175,80]},columnStyles:{1:{halign:"right"}},theme:"grid",margin:{left:Be,right:Be}}),$e=je.lastAutoTable&&je.lastAutoTable.finalY||$e}else autoTable(je,{startY:$e+16,head:[["Totals","Amount ()"]],body:[["Grand Total",fmt(Qe)]],styles:{fontSize:9,cellPadding:4},headStyles:{fillColor:[76,175,80]},columnStyles:{1:{halign:"right"}},theme:"grid",margin:{left:Be,right:Be}}),$e=je.lastAutoTable&&je.lastAutoTable.finalY||$e;const We=Math.min($e+28,je.internal.pageSize.getHeight()-40);je.setFontSize(9),je.setTextColor(120),je.text("Generated by Flyp  amounts include applicable taxes/charges as per Proforma.",Be,We);const qe=Ce.endsWith(".pdf")?Ce:`${Ce}.pdf`;je.save(qe)}const TrackOrders=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(""),[ke,Oe]=reactExports.useState(""),[Me,Ue]=reactExports.useState("Out for Delivery");reactExports.useEffect(()=>{const br=()=>{const Ur=window.location.hash||"",Qr=Ur.indexOf("?");if(Qr!==-1){const Gr=(new URLSearchParams(Ur.substring(Qr+1)).get("sub")||"").toLowerCase();Gr==="payment-due"?Ue("Payment Due"):Gr==="out-for-delivery"?Ue("Out for Delivery"):(Gr==="paid"||Gr==="paid-orders")&&Ue("Paid Orders")}};return br(),window.addEventListener("hashchange",br),()=>window.removeEventListener("hashchange",br)},[]);const $e=br=>{Ue(br);try{const Ur=window.location.hash||"#/distributor-dashboard",[Qr,zr=""]=Ur.split("?"),Gr=new URLSearchParams(zr);Gr.set("tab","track-orders"),br==="Payment Due"?Gr.set("sub","payment-due"):br==="Out for Delivery"?Gr.set("sub","out-for-delivery"):br==="Paid Orders"?Gr.set("sub","paid"):Gr.delete("sub");const fn=`${Qr}?${Gr.toString()}`;fn!==Ur&&window.history.replaceState(null,"",fn)}catch{}},He=getFirestore(),Qe=getAuth(),[We,qe]=reactExports.useState({}),[Ke,Xe]=reactExports.useState({}),[Ye,Ze]=reactExports.useState({}),Je=reactExports.useRef({}),tr=br=>{Be(Ur=>Ur.includes(br)?Ur.filter(Qr=>Qr!==br):[...Ur,br])},rr=br=>(br||"order").toString().replace(/[^a-z0-9_-]+/gi,"_"),ar=br=>{const Ur=`${rr(br.retailerBusinessName||br.retailerName)}_${br.id}`;exportOrderCSV(br,`${Ur}.csv`)},ir=br=>{const Ur=`${rr(br.retailerBusinessName||br.retailerName)}_${br.id}`;downloadOrderExcel(br,`${Ur}.xlsx`)},nr=br=>{const Ur=`${rr(br.retailerBusinessName||br.retailerName)}_${br.id}`;downloadOrderPDF(br,`${Ur}.pdf`)},cr=br=>{const Ur=Ye[br.id];return typeof Ur=="number"&&Ur>0?Ur:Number(br.creditDays||15)},mr=br=>{const Ur=new Date;return Ur.setDate(Ur.getDate()+Number(br||0)),Ur};reactExports.useEffect(()=>{const br=onAuthStateChanged(Qe,Ur=>{if(!Ur)return;const Qr=query(collection(He,"businesses",Ur.uid,"orderRequests"),where("status","in",["Shipped","Out for Delivery","Delivered"])),zr=onSnapshot(Qr,Gr=>{const fn=Gr.docs.map(nn=>({id:nn.id,...nn.data()})).sort((nn,bn)=>{const hn=nn.status==="Delivered",yn=bn.status==="Delivered";return hn!==yn?hn?1:-1:new Date(bn.createdAt||0).getTime()-new Date(nn.createdAt||0).getTime()});Ce(fn)});return()=>zr()});return()=>br()},[]),reactExports.useEffect(()=>{if(!Re||Re.length===0)return;Array.from(new Set(Re.map(Ur=>Ur.retailerId).filter(Boolean))).forEach(Ur=>{if(Je.current[Ur])return;const Qr=doc(He,"businesses",Ur),zr=onSnapshot(Qr,Gr=>{Gr.exists()&&qe(fn=>({...fn,[Ur]:Gr.data()}))});Je.current[Ur]=zr})},[Re]),reactExports.useEffect(()=>{const br=onAuthStateChanged(Qe,Ur=>{if(!Ur)return;const Qr=collection(He,"businesses",Ur.uid,"connectedRetailers"),zr=onSnapshot(Qr,Gr=>{const fn={};Gr.forEach(nn=>{const bn=nn.data();bn?.retailerId&&(fn[bn.retailerId]=bn)}),Xe(fn)});return()=>zr()});return()=>br()},[]);const fr=async br=>{const Ur=Qe.currentUser;if(!Ur)return;const Qr=doc(He,"businesses",Ur.uid,"orderRequests",br),Gr=(await getDoc(Qr)).data();if(!Gr||!Gr.retailerId)return;const fn=doc(He,"businesses",Gr.retailerId,"sentOrders",br),nn=new Date;let bn={status:"Delivered",deliveredAt:nn.toISOString(),"statusTimestamps.deliveredAt":serverTimestamp()};if(Gr.paymentMethod==="Credit Cycle"&&Gr.creditDays){const hn=new Date(nn);hn.setDate(hn.getDate()+Number(Gr.creditDays)),bn.creditDueDate=hn.toISOString(),bn.isPaid=!1}await updateDoc(Qr,bn),await updateDoc(fn,bn),y$2.success(" Order marked as Delivered!",{position:"top-right",autoClose:3e3,icon:""})},or=async br=>{const Ur=Qe.currentUser;if(!Ur)return;const Qr=doc(He,"businesses",Ur.uid,"orderRequests",br.id),zr=doc(He,"businesses",br.retailerId,"sentOrders",br.id),Gr={isPaid:!0,paymentStatus:"Paid",paidAt:new Date().toISOString()};await updateDoc(Qr,Gr),await updateDoc(zr,Gr),y$2.success(" Payment received marked (COD)")},yr=async br=>{if(br.paymentMethod==="COD"&&!br.isPaid){y$2.info("For COD, please confirm 'Payment Received' first.");return}if(br.paymentMethod==="Credit Cycle"){const Ur=Number(cr(br));if(!Number.isFinite(Ur)||Ur<=0){y$2.error("Invalid credit days");return}const Qr=Qe.currentUser;if(!Qr)return;const zr=doc(He,"businesses",Qr.uid,"orderRequests",br.id),Gr=doc(He,"businesses",br.retailerId,"sentOrders",br.id);await updateDoc(zr,{creditDays:Ur}),await updateDoc(Gr,{creditDays:Ur})}await fr(br.id)},Cr=De.toLowerCase(),jr=br=>br.id?.toLowerCase().includes(Cr)||br.retailerName?.toLowerCase().includes(Cr)||br.retailerEmail?.toLowerCase().includes(Cr)||br.retailerPhone?.toLowerCase().includes(Cr)||br.retailerAddress?.toLowerCase().includes(Cr)||br.city?.toLowerCase().includes(Cr),vr=br=>ke?br.expectedDeliveryDate?.slice(0,10)===ke:!0,Tr=br=>{if(br?.creditDueDate)return new Date(br.creditDueDate);if(br?.deliveredAt&&(br?.creditDays||br?.creditDays===0)){const Ur=new Date(br.deliveredAt);return Ur.setDate(Ur.getDate()+Number(br.creditDays||0)),Ur}return null},wr=Re.filter(br=>(br.status==="Shipped"||br.status==="Out for Delivery")&&jr(br)&&vr(br));let Er=Re.filter(br=>br.paymentMethod!=="Credit Cycle"||br.isPaid===!0||br.paymentStatus==="Paid"?!1:!!Tr(br)&&jr(br)&&vr(br));Er=Er.map(br=>({...br,__dueDate:Tr(br)})).sort((br,Ur)=>br.__dueDate-Ur.__dueDate);let Pr=Re.filter(br=>(br.isPaid===!0||br.paymentStatus==="Paid")&&jr(br)&&vr(br));const Mr=(br,Ur,Qr)=>{const zr=Array.isArray(br?.proforma?.lines)?br.proforma.lines[Ur]:void 0;return zr&&zr.price!=null?Number(zr.price)||0:Number(Qr?.price)||0},_r=(br,Ur,Qr)=>{const zr=Array.isArray(br?.proforma?.lines)?br.proforma.lines[Ur]:void 0;if(zr&&zr.gross!=null)return Number(zr.gross)||0;const Gr=Number(Qr?.quantity)||0,fn=Number(Qr?.price)||0;return Gr*fn},Ir=br=>br?.proforma?.grandTotal!=null?Number(br.proforma.grandTotal)||0:(br.items||[]).reduce((Ur,Qr,zr)=>Ur+_r(br,zr,Qr),0);Er.reduce((br,Ur)=>br+Ir(Ur),0),Pr.reduce((br,Ur)=>br+Ir(Ur),0);const Dr=br=>{try{return new Date(br).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})}catch{return"N/A"}},Or=br=>{try{return new Date(br).toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"N/A"}};return jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx(Lt,{}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Track Orders"}),jsxRuntimeExports.jsxs("div",{className:"sticky top-[72px] z-30 backdrop-blur-xl bg-[#0B0F14]/60 supports-[backdrop-filter]:bg-[#0B0F14]/50 border border-white/15 rounded-xl p-4 mb-4 flex flex-col md:flex-row md:items-center gap-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by order ID, retailer, phone, email, etc.",value:De,onChange:br=>Fe(br.target.value),className:"px-4 py-2 rounded-lg w-full md:w-1/2 bg-white/10 border border-white/15 placeholder-white/50 text-white focus:outline-none focus:ring-2 focus:ring-emerald-400/60"}),jsxRuntimeExports.jsx("input",{type:"date",value:ke,onChange:br=>Oe(br.target.value),className:"px-4 py-2 rounded-lg bg-white/10 border border-white/15 text-white placeholder-white/50 focus:outline-none focus:ring-2 focus:ring-emerald-400/60"})]}),jsxRuntimeExports.jsxs("div",{className:"inline-flex rounded-full bg-white/5 border border-white/15 overflow-hidden mb-4 backdrop-blur-xl",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>$e("Out for Delivery"),className:"px-4 py-2 font-medium text-sm transition focus:outline-none "+(Me==="Out for Delivery"?"bg-emerald-500/20 text-emerald-200":"text-white/70 hover:bg-white/5"),children:["Out for Delivery (",wr.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$e("Payment Due"),className:"px-4 py-2 font-medium text-sm transition focus:outline-none border-l border-white/10 "+(Me==="Payment Due"?"bg-amber-500/20 text-amber-200":"text-white/70 hover:bg-white/5"),children:["Payment Due (",Er.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>$e("Paid Orders"),className:"px-4 py-2 font-medium text-sm transition focus:outline-none border-l border-white/10 "+(Me==="Paid Orders"?"bg-sky-500/20 text-sky-200":"text-white/70 hover:bg-white/5"),children:["Paid Orders (",Pr.length,")"]})]}),Er.length===0&&Pr.length===0?jsxRuntimeExports.jsx("p",{className:"text-white/60 mt-8 text-center",children:"No orders to track yet."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Me==="Out for Delivery"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-emerald-200 mb-2",children:" Out for Delivery"}),wr.length===0?jsxRuntimeExports.jsx("div",{className:"text-white/60 mb-6",children:"No orders are currently out for delivery."}):wr.map(br=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition hover:bg-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-white",children:br.retailerBusinessName||br.retailerName||br.retailer?.name||"N/A"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-sky-500/15 text-sky-200",children:br.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"Total:"})," ",Ir(br).toFixed(2)]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-white/10 text-white/80 text-xs font-medium",children:["Payment: ",br.paymentMethod||"N/A"]}),br.paymentMethod==="Credit Cycle"&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-white/70 font-medium",children:"Credit Days:"}),jsxRuntimeExports.jsx("input",{type:"number",min:1,max:180,className:"w-16 px-2 py-1 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",value:cr(br),onChange:Ur=>{const Qr=Number(Ur.target.value);Ze(zr=>({...zr,[br.id]:Number.isFinite(Qr)?Qr:""}))}}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/15 text-amber-200 text-[11px] font-medium",children:["Due if delivered today: ",Or(mr(cr(br)))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 pb-2 flex flex-col md:flex-row gap-2",children:[br.paymentMethod==="COD"&&!br.isPaid&&jsxRuntimeExports.jsx("button",{onClick:()=>or(br),className:"rounded-lg px-4 py-2 font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-500 transition",children:"Confirm Payment Received"}),jsxRuntimeExports.jsx("button",{onClick:()=>yr(br),className:`rounded-lg px-4 py-2 font-medium text-white transition ${br.paymentMethod==="COD"&&!br.isPaid?"bg-white/10 cursor-not-allowed":"bg-gradient-to-r from-sky-500 to-indigo-500 hover:from-sky-400 hover:to-indigo-500"}`,disabled:br.paymentMethod==="COD"&&!br.isPaid,children:"Mark Delivered"})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 pb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>tr(br.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:je.includes(br.id)?"Hide Details":"Show Details"})}),je.includes(br.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-1",children:"At time of order"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-white",children:br.retailerBusinessName||br.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70",children:["Owner: ",br.ownerName||br.retailerOwnerName||br.retailerName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:(()=>{const Ur=[br.retailerAddress,br.city,br.state].filter(Boolean).join(", "),Qr=We[br.retailerId]||{},zr=[Qr.address,Qr.city,Qr.state].filter(Boolean).join(", "),Gr=Ke[br.retailerId]||{},fn=[Gr.address,Gr.city,Gr.state].filter(Boolean).join(", ");return Ur||zr||fn||""})()})]}),jsxRuntimeExports.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-1",children:"Current profile"}),(()=>{const Ur=We[br.retailerId]||{},Qr=Ur.businessName||Ur.retailerName||Ur.ownerName||"",zr=Ur.ownerName||"",Gr=[Ur.address,Ur.city,Ur.state].filter(Boolean).join(", ")||"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-white",children:Qr}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70",children:["Owner: ",zr]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:Gr})]})})()]})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",br.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",br.retailerEmail||br.retailer?.email||We[br.retailerId]?.email||Ke[br.retailerId]?.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",br.retailerPhone||br.retailer?.phone||We[br.retailerId]?.phone||Ke[br.retailerId]?.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",br.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",br.deliveryMode||"N/A"]}),br?.proforma&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(ProformaSummary,{proforma:br.proforma,distributorState:br.distributorState,retailerState:br.retailerState||br.state})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-lg bg-white/5 border border-white/10 p-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/5",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-white/70",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(br.items||[]).map((Ur,Qr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.sku||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center",children:Ur.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",Mr(br,Qr,Ur).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",_r(br,Qr,Ur).toFixed(2)]})]},Qr))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",Ir(br).toFixed(2)]})]})]})]})]},br.id))]}),Me==="Payment Due"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-amber-200 mb-2",children:" Payment Due"}),Er.length===0?jsxRuntimeExports.jsx("div",{className:"text-white/60 mb-6",children:"No payment due orders."}):Er.map(br=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition hover:bg-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-white",children:br.retailerBusinessName||br.retailerName||br.retailer?.name||"N/A"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-emerald-500/15 text-emerald-200",children:br.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[br.deliveredAt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"Delivered:"})," ",Or(br.deliveredAt)]}),(br.creditDueDate||br.__dueDate)&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/15 text-amber-200 text-xs font-medium",children:["Credit Due Date: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Or(br.creditDueDate||br.__dueDate)})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 pb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>tr(br.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:je.includes(br.id)?"Hide Details":"Show Details"})}),je.includes(br.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[br.deliveredAt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"Delivered:"})," ",Or(br.deliveredAt)]}),(br.creditDueDate||br.__dueDate)&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-amber-500/15 text-amber-200 text-xs font-medium",children:["Credit Due Date: ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:Or(br.creditDueDate||br.__dueDate)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-1",children:"At time of order"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-white",children:br.retailerBusinessName||br.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70",children:["Owner: ",br.ownerName||br.retailerOwnerName||br.retailerName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:(()=>{const Ur=[br.retailerAddress,br.city,br.state].filter(Boolean).join(", "),Qr=We[br.retailerId]||{},zr=[Qr.address,Qr.city,Qr.state].filter(Boolean).join(", "),Gr=Ke[br.retailerId]||{},fn=[Gr.address,Gr.city,Gr.state].filter(Boolean).join(", ");return Ur||zr||fn||""})()})]}),jsxRuntimeExports.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-1",children:"Current profile"}),(()=>{const Ur=We[br.retailerId]||{},Qr=Ur.businessName||Ur.retailerName||Ur.ownerName||"",zr=Ur.ownerName||"",Gr=[Ur.address,Ur.city,Ur.state].filter(Boolean).join(", ")||"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-white",children:Qr}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70",children:["Owner: ",zr]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:Gr})]})})()]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",br.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",br.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",br.retailerEmail||br.retailer?.email||We[br.retailerId]?.email||Ke[br.retailerId]?.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",br.retailerPhone||br.retailer?.phone||We[br.retailerId]?.phone||Ke[br.retailerId]?.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",br.deliveryMode||"N/A"]}),br.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered On:"})," ",Dr(br.deliveredAt)]})]}),br?.proforma&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(ProformaSummary,{proforma:br.proforma,distributorState:br.distributorState,retailerState:br.retailerState||br.state})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-lg bg-white/5 border border-white/10 p-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/5",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-white/70",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(br.items||[]).map((Ur,Qr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.sku||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center",children:Ur.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",Mr(br,Qr,Ur).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",_r(br,Qr,Ur).toFixed(2)]})]},Qr))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",Ir(br).toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(br.paymentMethod==="Credit Cycle"?"bg-amber-500/15 text-amber-200":"bg-white/10 text-white/80"),children:["Payment: ",br.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(br.deliveryMode==="Self Pickup"?"bg-emerald-500/15 text-emerald-200":br.deliveryMode==="Courier"?"bg-sky-500/15 text-sky-200":"bg-white/10 text-white/80"),children:["Delivery: ",br.deliveryMode||"N/A"]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex flex-col md:flex-row gap-2 items-center",children:jsxRuntimeExports.jsx("button",{onClick:async()=>{const Ur=Qe.currentUser;if(!Ur)return;const Qr=doc(He,"businesses",Ur.uid,"orderRequests",br.id),zr=doc(He,"businesses",br.retailerId,"sentOrders",br.id),Gr={isPaid:!0,paymentStatus:"Paid",paidAt:new Date().toISOString()};await updateDoc(Qr,Gr),await updateDoc(zr,Gr),y$2.success(" Credit payment marked as received!")},className:"rounded-lg px-4 py-2 font-medium text-white bg-gradient-to-r from-emerald-500 to-teal-500 hover:from-emerald-400 hover:to-teal-500 transition",children:"Mark Credit as Paid"})})]})]},br.id))]}),Me==="Paid Orders"&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-emerald-200 mb-2",children:" Paid Orders"}),Pr.length===0?jsxRuntimeExports.jsx("div",{className:"text-white/60 mb-6",children:"No paid orders."}):Pr.map(br=>jsxRuntimeExports.jsxs("div",{className:"rounded-xl bg-white/5 border border-white/10 backdrop-blur-xl shadow-xl overflow-hidden mb-4 transition hover:bg-white/10",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center px-4 pt-4 pb-2",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("span",{className:"font-bold text-lg text-white",children:br.retailerBusinessName||br.retailerName||br.retailer?.name||"N/A"})}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(br.status==="Delivered"?"bg-emerald-500/15 text-emerald-200":br.status==="Shipped"?"bg-sky-500/15 text-sky-200":br.status==="Accepted"?"bg-amber-500/15 text-amber-200":(br.status==="Requested","bg-white/10 text-white/80")),children:br.status})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6 items-center text-sm text-white/60 px-4 pb-2",children:[jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"City:"})," ",br.city||Ke[br.retailerId]?.city||We[br.retailerId]?.city||""]}),br.deliveredAt&&jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"Delivered:"})," ",Or(br.deliveredAt)]}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-white/80",children:"Total:"})," ","",Ir(br).toFixed(2)]})]}),jsxRuntimeExports.jsx("div",{className:"px-4 pb-2",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:(()=>{const Ur=["Requested","Accepted","Shipped","Delivered","Paid"];let zr=["Requested","Accepted","Shipped","Delivered"].indexOf(br.status);return(br.isPaid||br.paymentStatus==="Paid")&&(zr=4),Ur.map((Gr,fn)=>{const nn=fn<zr,bn=fn===zr;return jsxRuntimeExports.jsxs("div",{className:`flex items-center gap-1 ${bn?"text-blue-600":nn?"text-green-600":"text-gray-400"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${bn?"bg-blue-600":nn?"bg-green-600":"bg-gray-300"}`}),jsxRuntimeExports.jsx("span",{className:"text-xs",children:Gr}),fn!==4&&jsxRuntimeExports.jsx("div",{className:"w-6 h-px bg-gray-200"})]},Gr)})})()})}),jsxRuntimeExports.jsx("div",{className:"flex justify-end px-4 pb-2",children:jsxRuntimeExports.jsx("button",{onClick:()=>tr(br.id),className:"text-sm text-blue-600 hover:underline focus:outline-none",children:je.includes(br.id)?"Hide Details":"Show Details"})}),je.includes(br.id)&&jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-1",children:"At time of order"}),jsxRuntimeExports.jsx("div",{className:"font-medium text-white",children:br.retailerBusinessName||br.retailerName||"N/A"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70",children:["Owner: ",br.ownerName||br.retailerOwnerName||br.retailerName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:(()=>{const Ur=[br.retailerAddress,br.city,br.state].filter(Boolean).join(", "),Qr=We[br.retailerId]||{},zr=[Qr.address,Qr.city,Qr.state].filter(Boolean).join(", "),Gr=Ke[br.retailerId]||{},fn=[Gr.address,Gr.city,Gr.state].filter(Boolean).join(", ");return Ur||zr||fn||""})()})]}),jsxRuntimeExports.jsxs("div",{className:"border border-white/10 rounded-lg p-3 bg-white/5",children:[jsxRuntimeExports.jsx("div",{className:"text-[10px] uppercase tracking-wide text-white/60 font-semibold mb-1",children:"Current profile"}),(()=>{const Ur=We[br.retailerId]||{},Qr=Ur.businessName||Ur.retailerName||Ur.ownerName||"",zr=Ur.ownerName||"",Gr=[Ur.address,Ur.city,Ur.state].filter(Boolean).join(", ")||"";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-white",children:Qr}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-white/70",children:["Owner: ",zr]}),jsxRuntimeExports.jsx("div",{className:"text-sm text-white/70",children:Gr})]})})()]})]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Order ID:"})," ",br.id]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Email:"})," ",br.retailerEmail||br.retailer?.email||We[br.retailerId]?.email||Ke[br.retailerId]?.retailerEmail||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Retailer Phone:"})," ",br.retailerPhone||br.retailer?.phone||We[br.retailerId]?.phone||Ke[br.retailerId]?.retailerPhone||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Payment Method:"})," ",br.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivery Mode:"})," ",br.deliveryMode||"N/A"]}),br.deliveredAt&&jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Delivered On:"})," ",Dr(br.deliveredAt)]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-blue-600 text-white text-xs hover:bg-blue-700 transition",onClick:()=>ar(br),children:"Export CSV"}),jsxRuntimeExports.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-green-600 text-white text-xs hover:bg-green-700 transition",onClick:()=>ir(br),children:"Export Excel"}),jsxRuntimeExports.jsx("button",{className:"rounded-lg px-4 py-2 font-medium bg-red-500 text-white text-xs hover:bg-red-600 transition",onClick:()=>nr(br),children:"Export PDF"})]}),br?.proforma&&jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx(ProformaSummary,{proforma:br.proforma,distributorState:br.distributorState,retailerState:br.retailerState||br.state})}),jsxRuntimeExports.jsxs("div",{className:"mt-4 rounded-lg bg-white/5 border border-white/10 p-3",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold mb-2",children:"Items Ordered:"}),jsxRuntimeExports.jsxs("div",{className:"overflow-x-auto",children:[jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/5",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Product Name"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-left text-xs font-semibold text-white/70",children:"SKU"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-center text-xs font-semibold text-white/70",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"px-2 py-2 text-right text-xs font-semibold text-white/70",children:"Subtotal"})]})}),jsxRuntimeExports.jsx("tbody",{children:(br.items||[]).map((Ur,Qr)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-white/5 transition",children:[jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.productName||"N/A"}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.brand||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2",children:Ur.sku||""}),jsxRuntimeExports.jsx("td",{className:"px-2 py-2 text-center",children:Ur.quantity}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",Mr(br,Qr,Ur).toFixed(2)]}),jsxRuntimeExports.jsxs("td",{className:"px-2 py-2 text-right",children:["",_r(br,Qr,Ur).toFixed(2)]})]},Qr))})]}),jsxRuntimeExports.jsxs("div",{className:"text-right font-semibold mt-2",children:["Total: ",Ir(br).toFixed(2)]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(br.paymentMethod==="Credit Cycle"?"bg-amber-500/15 text-amber-200":br.paymentMethod==="Online"?"bg-sky-500/15 text-sky-200":"bg-white/10 text-white/80"),children:["Payment: ",br.paymentMethod||"N/A"]}),jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full text-xs font-medium "+(br.deliveryMode==="Self Pickup"?"bg-emerald-500/15 text-emerald-200":br.deliveryMode==="Courier"?"bg-sky-500/15 text-sky-200":"bg-white/10 text-white/80"),children:["Delivery: ",br.deliveryMode||"N/A"]})]})]})]},br.id))]})]})]})},DispatchTracker=()=>{const[Re,Ce]=reactExports.useState("requests"),je={requests:"order-requests",pending:"pending-orders",completed:"track-orders"},Be={"order-requests":"requests","pending-orders":"pending","track-orders":"completed"};reactExports.useEffect(()=>{const ke=()=>{const Oe=window.location.hash||"",Me=Oe.indexOf("?");if(Me===-1)return;const $e=(new URLSearchParams(Oe.substring(Me+1)).get("tab")||"").toLowerCase();Be[$e]&&Ce(Be[$e])};return ke(),window.addEventListener("hashchange",ke),()=>window.removeEventListener("hashchange",ke)},[]);const De=ke=>{Ce(ke);try{const Oe=window.location.hash||"#/distributor-dashboard",[Me,Ue=""]=Oe.split("?"),$e=new URLSearchParams(Ue),He=je[ke]||"order-requests";$e.set("tab",He),He!=="track-orders"&&$e.delete("sub");const Qe=`${Me}?${$e.toString()}`;Qe!==Oe&&window.history.replaceState(null,"",Qe)}catch{}},Fe=({id:ke,active:Oe,onClick:Me,children:Ue})=>jsxRuntimeExports.jsx("button",{onClick:()=>Me(ke),className:`${Oe?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white border border-white/15 hover:bg-white/15"} px-4 py-2 rounded-full text-sm font-medium transition-colors duration-200 border focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-400/50`,"aria-selected":Oe,role:"tab",children:Ue});return jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-xl bg-white/5 backdrop-blur-xl border border-white/10 shadow-xl text-white",children:[jsxRuntimeExports.jsxs("div",{className:"relative mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Dispatch Tracker"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-px bg-gradient-to-r from-transparent via-emerald-300/40 to-transparent"})]}),jsxRuntimeExports.jsx("div",{className:"mb-6 sticky top-[72px] z-30",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex gap-2 p-1 rounded-full border border-white/15 bg-[#0B0F14]/80 supports-[backdrop-filter]:bg-[#0B0F14]/60 backdrop-blur-xl shadow-lg",role:"tablist","aria-label":"Dispatch sections",children:[jsxRuntimeExports.jsx(Fe,{id:"requests",active:Re==="requests",onClick:De,children:"Order Requests"}),jsxRuntimeExports.jsx(Fe,{id:"pending",active:Re==="pending",onClick:De,children:"Pending Orders"}),jsxRuntimeExports.jsx(Fe,{id:"completed",active:Re==="completed",onClick:De,children:"Track Orders"})]})}),jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[Re==="requests"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:jsxRuntimeExports.jsx(OrderRequests,{})},"requests"),Re==="pending"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:jsxRuntimeExports.jsx(PendingOrders,{})},"pending"),Re==="completed"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:jsxRuntimeExports.jsx(TrackOrders,{})},"completed")]})]})};var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,(function(Re,Ce){(function(je,Be){Re.exports=Be()})(dayjs_min,(function(){var je=1e3,Be=6e4,De=36e5,Fe="millisecond",ke="second",Oe="minute",Me="hour",Ue="day",$e="week",He="month",Qe="quarter",We="year",qe="date",Ke="Invalid Date",Xe=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Ye=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Ze={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Cr){var jr=["th","st","nd","rd"],vr=Cr%100;return"["+Cr+(jr[(vr-20)%10]||jr[vr]||jr[0])+"]"}},Je=function(Cr,jr,vr){var Tr=String(Cr);return!Tr||Tr.length>=jr?Cr:""+Array(jr+1-Tr.length).join(vr)+Cr},tr={s:Je,z:function(Cr){var jr=-Cr.utcOffset(),vr=Math.abs(jr),Tr=Math.floor(vr/60),wr=vr%60;return(jr<=0?"+":"-")+Je(Tr,2,"0")+":"+Je(wr,2,"0")},m:function Cr(jr,vr){if(jr.date()<vr.date())return-Cr(vr,jr);var Tr=12*(vr.year()-jr.year())+(vr.month()-jr.month()),wr=jr.clone().add(Tr,He),Er=vr-wr<0,Pr=jr.clone().add(Tr+(Er?-1:1),He);return+(-(Tr+(vr-wr)/(Er?wr-Pr:Pr-wr))||0)},a:function(Cr){return Cr<0?Math.ceil(Cr)||0:Math.floor(Cr)},p:function(Cr){return{M:He,y:We,w:$e,d:Ue,D:qe,h:Me,m:Oe,s:ke,ms:Fe,Q:Qe}[Cr]||String(Cr||"").toLowerCase().replace(/s$/,"")},u:function(Cr){return Cr===void 0}},rr="en",ar={};ar[rr]=Ze;var ir="$isDayjsObject",nr=function(Cr){return Cr instanceof or||!(!Cr||!Cr[ir])},cr=function Cr(jr,vr,Tr){var wr;if(!jr)return rr;if(typeof jr=="string"){var Er=jr.toLowerCase();ar[Er]&&(wr=Er),vr&&(ar[Er]=vr,wr=Er);var Pr=jr.split("-");if(!wr&&Pr.length>1)return Cr(Pr[0])}else{var Mr=jr.name;ar[Mr]=jr,wr=Mr}return!Tr&&wr&&(rr=wr),wr||!Tr&&rr},mr=function(Cr,jr){if(nr(Cr))return Cr.clone();var vr=typeof jr=="object"?jr:{};return vr.date=Cr,vr.args=arguments,new or(vr)},fr=tr;fr.l=cr,fr.i=nr,fr.w=function(Cr,jr){return mr(Cr,{locale:jr.$L,utc:jr.$u,x:jr.$x,$offset:jr.$offset})};var or=(function(){function Cr(vr){this.$L=cr(vr.locale,null,!0),this.parse(vr),this.$x=this.$x||vr.x||{},this[ir]=!0}var jr=Cr.prototype;return jr.parse=function(vr){this.$d=(function(Tr){var wr=Tr.date,Er=Tr.utc;if(wr===null)return new Date(NaN);if(fr.u(wr))return new Date;if(wr instanceof Date)return new Date(wr);if(typeof wr=="string"&&!/Z$/i.test(wr)){var Pr=wr.match(Xe);if(Pr){var Mr=Pr[2]-1||0,_r=(Pr[7]||"0").substring(0,3);return Er?new Date(Date.UTC(Pr[1],Mr,Pr[3]||1,Pr[4]||0,Pr[5]||0,Pr[6]||0,_r)):new Date(Pr[1],Mr,Pr[3]||1,Pr[4]||0,Pr[5]||0,Pr[6]||0,_r)}}return new Date(wr)})(vr),this.init()},jr.init=function(){var vr=this.$d;this.$y=vr.getFullYear(),this.$M=vr.getMonth(),this.$D=vr.getDate(),this.$W=vr.getDay(),this.$H=vr.getHours(),this.$m=vr.getMinutes(),this.$s=vr.getSeconds(),this.$ms=vr.getMilliseconds()},jr.$utils=function(){return fr},jr.isValid=function(){return this.$d.toString()!==Ke},jr.isSame=function(vr,Tr){var wr=mr(vr);return this.startOf(Tr)<=wr&&wr<=this.endOf(Tr)},jr.isAfter=function(vr,Tr){return mr(vr)<this.startOf(Tr)},jr.isBefore=function(vr,Tr){return this.endOf(Tr)<mr(vr)},jr.$g=function(vr,Tr,wr){return fr.u(vr)?this[Tr]:this.set(wr,vr)},jr.unix=function(){return Math.floor(this.valueOf()/1e3)},jr.valueOf=function(){return this.$d.getTime()},jr.startOf=function(vr,Tr){var wr=this,Er=!!fr.u(Tr)||Tr,Pr=fr.p(vr),Mr=function(zr,Gr){var fn=fr.w(wr.$u?Date.UTC(wr.$y,Gr,zr):new Date(wr.$y,Gr,zr),wr);return Er?fn:fn.endOf(Ue)},_r=function(zr,Gr){return fr.w(wr.toDate()[zr].apply(wr.toDate("s"),(Er?[0,0,0,0]:[23,59,59,999]).slice(Gr)),wr)},Ir=this.$W,Dr=this.$M,Or=this.$D,br="set"+(this.$u?"UTC":"");switch(Pr){case We:return Er?Mr(1,0):Mr(31,11);case He:return Er?Mr(1,Dr):Mr(0,Dr+1);case $e:var Ur=this.$locale().weekStart||0,Qr=(Ir<Ur?Ir+7:Ir)-Ur;return Mr(Er?Or-Qr:Or+(6-Qr),Dr);case Ue:case qe:return _r(br+"Hours",0);case Me:return _r(br+"Minutes",1);case Oe:return _r(br+"Seconds",2);case ke:return _r(br+"Milliseconds",3);default:return this.clone()}},jr.endOf=function(vr){return this.startOf(vr,!1)},jr.$set=function(vr,Tr){var wr,Er=fr.p(vr),Pr="set"+(this.$u?"UTC":""),Mr=(wr={},wr[Ue]=Pr+"Date",wr[qe]=Pr+"Date",wr[He]=Pr+"Month",wr[We]=Pr+"FullYear",wr[Me]=Pr+"Hours",wr[Oe]=Pr+"Minutes",wr[ke]=Pr+"Seconds",wr[Fe]=Pr+"Milliseconds",wr)[Er],_r=Er===Ue?this.$D+(Tr-this.$W):Tr;if(Er===He||Er===We){var Ir=this.clone().set(qe,1);Ir.$d[Mr](_r),Ir.init(),this.$d=Ir.set(qe,Math.min(this.$D,Ir.daysInMonth())).$d}else Mr&&this.$d[Mr](_r);return this.init(),this},jr.set=function(vr,Tr){return this.clone().$set(vr,Tr)},jr.get=function(vr){return this[fr.p(vr)]()},jr.add=function(vr,Tr){var wr,Er=this;vr=Number(vr);var Pr=fr.p(Tr),Mr=function(Dr){var Or=mr(Er);return fr.w(Or.date(Or.date()+Math.round(Dr*vr)),Er)};if(Pr===He)return this.set(He,this.$M+vr);if(Pr===We)return this.set(We,this.$y+vr);if(Pr===Ue)return Mr(1);if(Pr===$e)return Mr(7);var _r=(wr={},wr[Oe]=Be,wr[Me]=De,wr[ke]=je,wr)[Pr]||1,Ir=this.$d.getTime()+vr*_r;return fr.w(Ir,this)},jr.subtract=function(vr,Tr){return this.add(-1*vr,Tr)},jr.format=function(vr){var Tr=this,wr=this.$locale();if(!this.isValid())return wr.invalidDate||Ke;var Er=vr||"YYYY-MM-DDTHH:mm:ssZ",Pr=fr.z(this),Mr=this.$H,_r=this.$m,Ir=this.$M,Dr=wr.weekdays,Or=wr.months,br=wr.meridiem,Ur=function(Gr,fn,nn,bn){return Gr&&(Gr[fn]||Gr(Tr,Er))||nn[fn].slice(0,bn)},Qr=function(Gr){return fr.s(Mr%12||12,Gr,"0")},zr=br||function(Gr,fn,nn){var bn=Gr<12?"AM":"PM";return nn?bn.toLowerCase():bn};return Er.replace(Ye,(function(Gr,fn){return fn||(function(nn){switch(nn){case"YY":return String(Tr.$y).slice(-2);case"YYYY":return fr.s(Tr.$y,4,"0");case"M":return Ir+1;case"MM":return fr.s(Ir+1,2,"0");case"MMM":return Ur(wr.monthsShort,Ir,Or,3);case"MMMM":return Ur(Or,Ir);case"D":return Tr.$D;case"DD":return fr.s(Tr.$D,2,"0");case"d":return String(Tr.$W);case"dd":return Ur(wr.weekdaysMin,Tr.$W,Dr,2);case"ddd":return Ur(wr.weekdaysShort,Tr.$W,Dr,3);case"dddd":return Dr[Tr.$W];case"H":return String(Mr);case"HH":return fr.s(Mr,2,"0");case"h":return Qr(1);case"hh":return Qr(2);case"a":return zr(Mr,_r,!0);case"A":return zr(Mr,_r,!1);case"m":return String(_r);case"mm":return fr.s(_r,2,"0");case"s":return String(Tr.$s);case"ss":return fr.s(Tr.$s,2,"0");case"SSS":return fr.s(Tr.$ms,3,"0");case"Z":return Pr}return null})(Gr)||Pr.replace(":","")}))},jr.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},jr.diff=function(vr,Tr,wr){var Er,Pr=this,Mr=fr.p(Tr),_r=mr(vr),Ir=(_r.utcOffset()-this.utcOffset())*Be,Dr=this-_r,Or=function(){return fr.m(Pr,_r)};switch(Mr){case We:Er=Or()/12;break;case He:Er=Or();break;case Qe:Er=Or()/3;break;case $e:Er=(Dr-Ir)/6048e5;break;case Ue:Er=(Dr-Ir)/864e5;break;case Me:Er=Dr/De;break;case Oe:Er=Dr/Be;break;case ke:Er=Dr/je;break;default:Er=Dr}return wr?Er:fr.a(Er)},jr.daysInMonth=function(){return this.endOf(He).$D},jr.$locale=function(){return ar[this.$L]},jr.locale=function(vr,Tr){if(!vr)return this.$L;var wr=this.clone(),Er=cr(vr,Tr,!0);return Er&&(wr.$L=Er),wr},jr.clone=function(){return fr.w(this.$d,this)},jr.toDate=function(){return new Date(this.valueOf())},jr.toJSON=function(){return this.isValid()?this.toISOString():null},jr.toISOString=function(){return this.$d.toISOString()},jr.toString=function(){return this.$d.toUTCString()},Cr})(),yr=or.prototype;return mr.prototype=yr,[["$ms",Fe],["$s",ke],["$m",Oe],["$H",Me],["$W",Ue],["$M",He],["$y",We],["$D",qe]].forEach((function(Cr){yr[Cr[1]]=function(jr){return this.$g(jr,Cr[0],Cr[1])}})),mr.extend=function(Cr,jr){return Cr.$i||(Cr(jr,or,mr),Cr.$i=!0),mr},mr.locale=cr,mr.isDayjs=nr,mr.unix=function(Cr){return mr(1e3*Cr)},mr.en=ar[rr],mr.Ls=ar,mr.p={},mr}))})(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs(dayjs_minExports),DispatchSpeedTracker=({distributorId:Re})=>{const[Ce,je]=reactExports.useState(null),[Be,De]=reactExports.useState(0);return reactExports.useEffect(()=>{Re&&(async()=>{const ke=collection(db$2,"businesses",Re,"orderRequests"),Oe=await getDocs(ke);let Me=0,Ue=0;Oe.forEach(He=>{const Qe=He.data(),We=Qe.orderAcceptedAt||Qe.createdAt,qe=Qe.orderShippedAt||Qe.deliveredAt;if(We&&qe){const Ke=dayjs(We),Ye=dayjs(qe).diff(Ke,"minute");!isNaN(Ye)&&Ye>=0&&(Me+=Ye,Ue+=1)}});const $e=Ue>0?(Me/Ue).toFixed(1):null;je($e),De(Ue)})()},[Re]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Dispatch Speed Tracker"}),Ce!==null?jsxRuntimeExports.jsxs("p",{children:["Average Dispatch Time: ",jsxRuntimeExports.jsxs("strong",{children:[Ce," minutes"]})," across ",Be," orders"]}):jsxRuntimeExports.jsx("p",{children:"No dispatch data available."})]})},InventoryDrainForecast=({distributorId:Re})=>{const[Ce,je]=reactExports.useState([]);return reactExports.useEffect(()=>{Re&&(async()=>{const De=collection(db$2,"businesses",Re,"orderRequests"),Fe=await getDocs(De),ke={},Me=dayjs().subtract(7,"day");Fe.forEach($e=>{const He=$e.data();dayjs(He.timestamp?.toDate?.()||He.timestamp).isAfter(Me)&&Array.isArray(He.items)&&He.items.forEach(We=>{const qe=We.distributorProductId,Ke=parseInt(We.quantity)||0;ke[qe]||(ke[qe]={name:We.productName,sold:0}),ke[qe].sold+=Ke})});const Ue=[];for(const $e in ke){const He=doc(db$2,"businesses",Re,"products",$e),We=(await getDoc(He)).data();if(We){const qe=parseInt(We.quantity||0),Ke=ke[$e].sold/7,Xe=Ke>0?Math.floor(qe/Ke):"";Ue.push({name:ke[$e].name,currentStock:qe,avgDailySale:Ke.toFixed(1),daysLeft:Xe})}}je(Ue)})()},[Re]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Inventory Drain Forecast"}),Ce.length===0?jsxRuntimeExports.jsx("p",{children:"No data available for forecast."}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Stock"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Avg Sold/Day"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Est. Days Left"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map((Be,De)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.name}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.currentStock}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.avgDailySale}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.daysLeft})]},De))})]})]})};Chart$1.register(ArcElement,plugin_tooltip,plugin_legend);const RetailerDependencyRisk=({distributorId:Re})=>{const[Ce,je]=reactExports.useState([]),[Be,De]=reactExports.useState(!1);reactExports.useEffect(()=>{Re&&(async()=>{const Oe=collection(db$2,"businesses",Re,"orderRequests"),Me=await getDocs(Oe),Ue={};let $e=0;Me.forEach(qe=>{const Xe=qe.data().retailerName||"Unknown";Ue[Xe]=(Ue[Xe]||0)+1,$e+=1});const He=Object.entries(Ue).sort((qe,Ke)=>Ke[1]-qe[1]).map(([qe,Ke])=>({name:qe,count:Ke})),We=He.slice(0,3).reduce((qe,Ke)=>qe+Ke.count,0)/$e*100;De(We>60),je(He)})()},[Re]);const Fe={labels:Ce.map(ke=>ke.name),datasets:[{data:Ce.map(ke=>ke.count),backgroundColor:["#4CAF50","#FF9800","#2196F3","#F44336","#9C27B0","#3F51B5","#009688","#FF5722","#607D8B"]}]};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Retailer Dependency Risk"}),Ce.length===0?jsxRuntimeExports.jsx("p",{children:"No data yet."}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Pie,{data:Fe}),Be&&jsxRuntimeExports.jsx("p",{className:"mt-4 text-red-600 font-medium",children:" High dependency on a few retailers. Consider diversifying your reach."})]})]})},BrandPerformanceTracker=({distributorId:Re})=>{const[Ce,je]=reactExports.useState([]);return reactExports.useEffect(()=>{Re&&(async()=>{const De=collection(db$2,"businesses",Re,"orderRequests"),Fe=await getDocs(De),ke={};Fe.forEach(Me=>{const Ue=Me.data();Ue.status==="Delivered"&&Array.isArray(Ue.items)&&Ue.items.forEach($e=>{const He=$e.brand||"Unknown",Qe=parseInt($e.quantity)||0,We=($e.unitPrice||0)*Qe,qe=($e.price||0)*Qe,Ke=We-qe;ke[He]||(ke[He]={quantity:0,revenue:0,profit:0}),ke[He].quantity+=Qe,ke[He].revenue+=We,ke[He].profit+=Ke})});const Oe=Object.entries(ke).map(([Me,Ue])=>({brand:Me,...Ue}));Oe.sort((Me,Ue)=>Ue.profit-Me.profit),je(Oe)})()},[Re]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Brand Performance Tracker"}),Ce.length===0?jsxRuntimeExports.jsx("p",{children:"No brand data available."}):jsxRuntimeExports.jsxs("table",{className:"w-full text-sm mt-2",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"text-left border-b",children:[jsxRuntimeExports.jsx("th",{className:"py-1",children:"Brand"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Units Sold"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Revenue"}),jsxRuntimeExports.jsx("th",{className:"py-1",children:"Profit"})]})}),jsxRuntimeExports.jsx("tbody",{children:Ce.map((Be,De)=>jsxRuntimeExports.jsxs("tr",{className:"border-b",children:[jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.brand}),jsxRuntimeExports.jsx("td",{className:"py-1",children:Be.quantity}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:["",Be.revenue]}),jsxRuntimeExports.jsxs("td",{className:"py-1",children:["",Be.profit]})]},De))})]})]})},DailySmartSummary=({distributorId:Re})=>{const[Ce,je]=reactExports.useState({totalOrders:0,totalRevenue:0,totalProfit:0,avgProfitPercent:0});return reactExports.useEffect(()=>{Re&&(async()=>{const De=dayjs().startOf("day").toDate(),Fe=dayjs().endOf("day").toDate(),ke=collection(db$2,"businesses",Re,"orderRequests"),Oe=query(ke,where("status","==","Delivered"),where("timestamp",">=",Timestamp.fromDate(De)),where("timestamp","<=",Timestamp.fromDate(Fe))),Me=await getDocs(Oe);let Ue=0,$e=0,He=0;Me.forEach(We=>{const qe=We.data();Ue+=1,$e+=qe.totalAmount||0,Array.isArray(qe.items)&&qe.items.forEach(Ke=>{const Xe=(Ke.unitPrice||0)-(Ke.price||0);He+=Xe*(parseInt(Ke.quantity)||0)})});const Qe=$e>0?(He/$e*100).toFixed(2):0;je({totalOrders:Ue,totalRevenue:$e,totalProfit:He,avgProfitPercent:Qe})})()},[Re]),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-2",children:" Todays Smart Summary"}),jsxRuntimeExports.jsxs("p",{children:[" Orders Delivered: ",jsxRuntimeExports.jsx("strong",{children:Ce.totalOrders})]}),jsxRuntimeExports.jsxs("p",{children:[" Revenue: ",jsxRuntimeExports.jsxs("strong",{children:["",Ce.totalRevenue]})]}),jsxRuntimeExports.jsxs("p",{children:[" Profit: ",jsxRuntimeExports.jsxs("strong",{children:["",Ce.totalProfit]})," (",Ce.avgProfitPercent,"% avg profit)"]})]})},DistributorAnalytics=({distributorId:Re})=>{console.log(" DistributorAnalytics loaded with distributorId:",Re);const[Ce,je]=reactExports.useState(0),[Be,De]=reactExports.useState(0),[Fe,ke]=reactExports.useState([]),Oe=getFirestore();return reactExports.useEffect(()=>{if(!Re)return;(async()=>{try{const Ue=collection(Oe,"businesses",Re,"orderRequests"),$e=await getDocs(Ue);je($e.size)}catch(Ue){console.error("Failed to fetch analytics:",Ue)}})()},[Re]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Analytics"}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow rounded p-6 grid gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Total Orders Fulfilled"}),jsxRuntimeExports.jsx("p",{className:"text-2xl",children:Ce})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Avg. Dispatch Time (mins)"}),jsxRuntimeExports.jsx("p",{className:"text-2xl",children:Be})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-lg font-medium",children:"Top Requested Products"}),Fe.length===0?jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"No data yet."}):jsxRuntimeExports.jsx("ul",{className:"list-disc list-inside",children:Fe.map((Me,Ue)=>jsxRuntimeExports.jsx("li",{children:Me.name},Ue))})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8 grid gap-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold",children:"Advanced Insights"}),jsxRuntimeExports.jsx(DispatchSpeedTracker,{distributorId:Re}),jsxRuntimeExports.jsx(InventoryDrainForecast,{distributorId:Re}),jsxRuntimeExports.jsx(RetailerDependencyRisk,{distributorId:Re}),jsxRuntimeExports.jsx(BrandPerformanceTracker,{distributorId:Re}),jsxRuntimeExports.jsx(DailySmartSummary,{distributorId:Re})]})]})},ManageRetailers=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{children:"Manage Retailers"}),jsxRuntimeExports.jsx("p",{children:"This is the Manage Retailers placeholder component."})]}),GlassCard=({className:Re="",children:Ce})=>jsxRuntimeExports.jsx("div",{className:`rounded-xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-xl hover:shadow-emerald-400/10 hover:scale-[1.005] transition duration-300 vignette ${Re}`,children:Ce}),StatCard=({label:Re,value:Ce,note:je,tone:Be="default"})=>{const De={default:"text-white",yellow:"text-amber-300",green:"text-emerald-300",blue:"text-cyan-300",purple:"text-fuchsia-300"};return jsxRuntimeExports.jsxs(GlassCard,{className:"p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-xs uppercase tracking-wide text-white/70",children:Re}),jsxRuntimeExports.jsx("div",{className:`mt-1 text-2xl font-semibold ${De[Be]||De.default}`,children:Ce}),je&&jsxRuntimeExports.jsx("div",{className:"mt-2 text-[11px] text-white/70 space-y-1",children:je})]})},Pill=({children:Re,tone:Ce="neutral"})=>{const je={danger:"bg-red-400/15 text-red-300",warning:"bg-orange-400/15 text-orange-300",amber:"bg-amber-400/15 text-amber-300",info:"bg-sky-400/15 text-sky-300",purple:"bg-fuchsia-400/15 text-fuchsia-300",neutral:"bg-white/10 text-white/90"}[Ce];return jsxRuntimeExports.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${je}`,children:Re})},SectionHeader=({title:Re,icon:Ce})=>jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-lg mb-2 flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xl",children:Ce}),jsxRuntimeExports.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:Re})]}),DistributorHome=()=>{const[Re,Ce]=reactExports.useState({totalOrders:0,pendingOrders:0,completedOrders:0,totalRevenue:0,dueCreditTotal:0,inventoryCount:0,lowStockCount:0,yetToShip:0,outForDelivery:0}),[je,Be]=reactExports.useState({overdue:[],today:[],tomorrow:[],upcoming:[],totals:{overdue:0,today:0,tomorrow:0,upcoming:0,allDue:0}}),[De,Fe]=reactExports.useState({bucket:"ALL",sort:"dueDate",dir:"asc",query:""}),[ke,Oe]=reactExports.useState({}),Me=Ye=>Oe(Ze=>({...Ze,[Ye]:!Ze[Ye]})),Ue=Ye=>{if(!Ye)return null;if(typeof Ye.toDate=="function")return Ye.toDate();if(Ye.seconds)return new Date(Ye.seconds*1e3);const Ze=new Date(Ye);return isNaN(Ze.getTime())?null:Ze},$e=Ye=>{const Ze=Ue(Ye.creditDueDate||Ye.dueDate);if(Ze)return Ze;const Je=Ue(Ye.deliveredAt),tr=Number(Ye.creditDays||0);if(!Je||!tr)return null;const rr=new Date(Je);return rr.setDate(rr.getDate()+tr),rr},He=Ye=>{if(!Ye)return null;const Ze=new Date;Ze.setHours(0,0,0,0);const Je=new Date(Ye);return Je.setHours(0,0,0,0),Math.round((Je.getTime()-Ze.getTime())/(1e3*60*60*24))};reactExports.useEffect(()=>{(async()=>{const Ze=auth$2.currentUser?.uid;if(Ze)try{const Je=await getDocs(collection(db$2,`businesses/${Ze}/orderRequests`));let tr=0,rr=0,ar=0,ir=0,nr=0,cr=0;const mr=[],fr=[],or=[],yr=[];Je.forEach(wr=>{const Er=wr.data();if(tr++,(Er.status==="Accepted"||Er.status==="Modified")&&nr++,(Er.status==="Shipped"||Er.status==="Out for Delivery")&&cr++,Er.status==="Delivered"){if(rr++,Er.isPaid===!0)ar+=Number(Er.totalAmount||0);else if(Er.isPaid===!1){const Pr=Number(Er.totalAmount||0);ir+=Pr;const Mr=$e(Er),_r=He(Mr),Ir={id:wr.id,retailerId:Er.retailerId,retailer:Er.retailerBusinessName||Er.retailerName||"N/A",amount:Pr,dueDate:Mr,daysLeft:_r,deliveredAt:Ue(Er.deliveredAt),creditDays:Number(Er.creditDays||0),paymentMode:Er.paymentMode||Er.paymentMethod||"Credit Cycle"};_r===0?fr.push(Ir):_r===1?or.push(Ir):_r<0?mr.push(Ir):yr.push(Ir)}}});const Cr=await getDocs(collection(db$2,`businesses/${Ze}/products`));let jr=0,vr=0;Cr.forEach(wr=>{const Er=wr.data();jr++,Er.quantity<5&&vr++}),Ce({totalOrders:tr,pendingOrders:nr+cr,completedOrders:rr,totalRevenue:ar,dueCreditTotal:ir,inventoryCount:jr,lowStockCount:vr,yetToShip:nr,outForDelivery:cr});const Tr=(wr,Er)=>(wr.dueDate?.getTime?.()||0)-(Er.dueDate?.getTime?.()||0);mr.sort(Tr),fr.sort(Tr),or.sort(Tr),yr.sort(Tr),Be({overdue:mr,today:fr,tomorrow:or,upcoming:yr,totals:{overdue:mr.reduce((wr,Er)=>wr+Er.amount,0),today:fr.reduce((wr,Er)=>wr+Er.amount,0),tomorrow:or.reduce((wr,Er)=>wr+Er.amount,0),upcoming:yr.reduce((wr,Er)=>wr+Er.amount,0),allDue:mr.concat(fr,or,yr).reduce((wr,Er)=>wr+Er.amount,0)}})}catch(Je){console.error("Error loading distributor stats:",Je)}})()},[]);const Qe=()=>{let Ye=[...je.overdue,...je.today,...je.tomorrow,...je.upcoming];De.bucket!=="ALL"&&(Ye={OVERDUE:je.overdue,TODAY:je.today,TOMORROW:je.tomorrow,UPCOMING:je.upcoming}[De.bucket]||Ye);const Ze=(De.query||"").toLowerCase();Ze&&(Ye=Ye.filter(tr=>(tr.retailer||"").toLowerCase().includes(Ze)||(tr.id||"").toLowerCase().includes(Ze)));const Je=De.dir==="desc"?-1:1;return Ye.sort((tr,rr)=>{if(De.sort==="amount")return(Number(tr.amount)-Number(rr.amount))*Je;if(De.sort==="retailer")return(tr.retailer||"").localeCompare(rr.retailer||"")*Je;const ar=tr.dueDate?new Date(tr.dueDate).getTime():0,ir=rr.dueDate?new Date(rr.dueDate).getTime():0;return(ar-ir)*Je}),Ye},We=Ye=>{Be(Ze=>{const Je=cr=>cr.filter(mr=>mr.id!==Ye),tr=Je(Ze.overdue),rr=Je(Ze.today),ar=Je(Ze.tomorrow),ir=Je(Ze.upcoming),nr=cr=>cr.reduce((mr,fr)=>mr+Number(fr.amount||0),0);return{overdue:tr,today:rr,tomorrow:ar,upcoming:ir,totals:{overdue:nr(tr),today:nr(rr),tomorrow:nr(ar),upcoming:nr(ir),allDue:nr(tr)+nr(rr)+nr(ar)+nr(ir)}}})},qe=async Ye=>{try{const Ze=auth$2.currentUser?.uid;if(!Ze)return;const Je=doc(db$2,`businesses/${Ze}/orderRequests/${Ye.id}`),tr=Ye.retailerId?doc(db$2,`businesses/${Ye.retailerId}/sentOrders/${Ye.id}`):null,rr={isPaid:!0,paymentStatus:"Paid",paidAt:new Date().toISOString()};await updateDoc(Je,rr),tr&&await updateDoc(tr,rr),We(Ye.id)}catch(Ze){console.error("Failed to mark paid:",Ze),alert("Failed to mark paid. Please try again.")}},Ke=async Ye=>{try{const Ze=Number(Ye.creditDays||15),Je=window.prompt("Set new total credit days for this order",String(Ze));if(Je===null)return;const tr=Number(Je);if(!Number.isFinite(tr)||tr<=0){alert("Invalid number of days");return}const rr=Ye.deliveredAt?new Date(Ye.deliveredAt):new Date,ar=new Date(rr);ar.setDate(ar.getDate()+tr);const ir=auth$2.currentUser?.uid;if(!ir)return;const nr=doc(db$2,`businesses/${ir}/orderRequests/${Ye.id}`),cr=Ye.retailerId?doc(db$2,`businesses/${Ye.retailerId}/sentOrders/${Ye.id}`):null,mr={creditDays:tr,creditDueDate:ar.toISOString()};await updateDoc(nr,mr),cr&&await updateDoc(cr,mr),Be(fr=>{const or=wr=>wr.map(Er=>Er.id===Ye.id?{...Er,creditDays:tr,dueDate:ar,daysLeft:He(ar)}:Er),yr=or(fr.overdue),Cr=or(fr.today),jr=or(fr.tomorrow),vr=or(fr.upcoming),Tr=wr=>wr.reduce((Er,Pr)=>Er+Number(Pr.amount||0),0);return{overdue:yr,today:Cr,tomorrow:jr,upcoming:vr,totals:{overdue:Tr(yr),today:Tr(Cr),tomorrow:Tr(jr),upcoming:Tr(vr),allDue:Tr(yr)+Tr(Cr)+Tr(jr)+Tr(vr)}}})}catch(Ze){console.error("Failed to extend credit:",Ze),alert("Failed to update credit days.")}},Xe=()=>{try{const Ze=window.location.hash||"#/distributor-dashboard",[Je]=Ze.split("?"),tr=new URLSearchParams;tr.set("tab","track-orders"),tr.set("sub","payment-due"),window.location.hash=`${Je}?${tr.toString()}`}catch{window.location.hash="#/distributor-dashboard?tab=track-orders&sub=payment-due"}};return jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"p-6 space-y-6 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:" Distributor Business Snapshot"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-px bg-gradient-to-r from-transparent via-emerald-300/40 to-transparent"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsx(StatCard,{label:"Total Orders",value:Re.totalOrders}),jsxRuntimeExports.jsx(StatCard,{label:"Pending Orders",value:Re.pendingOrders,tone:"yellow",note:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:" Yet to ship"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:Re.yetToShip})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("span",{children:" Out for delivery"}),jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:Re.outForDelivery})]})]})}),jsxRuntimeExports.jsx(StatCard,{label:"Completed Orders",value:Re.completedOrders,tone:"green"}),jsxRuntimeExports.jsx(StatCard,{label:"Total Revenue (Paid)",value:`${Re.totalRevenue.toFixed(2)}`,tone:"blue"}),jsxRuntimeExports.jsx(StatCard,{label:"Due Credit Total",value:`${Re.dueCreditTotal.toFixed(2)}`,tone:"purple"})]}),jsxRuntimeExports.jsxs(GlassCard,{className:"p-5 mt-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-lg",children:" Credit Due Snapshot"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[jsxRuntimeExports.jsxs(Pill,{tone:"danger",children:["Overdue: ",je.totals.overdue.toLocaleString()]}),jsxRuntimeExports.jsxs(Pill,{tone:"warning",children:["Today: ",je.totals.today.toLocaleString()]}),jsxRuntimeExports.jsxs(Pill,{tone:"amber",children:["Tomorrow: ",je.totals.tomorrow.toLocaleString()]}),jsxRuntimeExports.jsxs(Pill,{tone:"info",children:["Upcoming: ",je.totals.upcoming.toLocaleString()]}),jsxRuntimeExports.jsxs(Pill,{tone:"purple",children:["Total: ",je.totals.allDue.toLocaleString()]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3 text-sm",children:[jsxRuntimeExports.jsxs("select",{className:"rounded-lg bg-white/10 border border-white/20 text-white px-2 py-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:De.bucket,onChange:Ye=>Fe(Ze=>({...Ze,bucket:Ye.target.value})),"aria-label":"Filter bucket",children:[jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"ALL",children:"All"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"OVERDUE",children:"Overdue"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"TODAY",children:"Due Today"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"TOMORROW",children:"Due Tomorrow"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"UPCOMING",children:"Upcoming"})]}),jsxRuntimeExports.jsxs("select",{className:"rounded-lg bg-white/10 border border-white/20 text-white px-2 py-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:De.sort,onChange:Ye=>Fe(Ze=>({...Ze,sort:Ye.target.value})),"aria-label":"Sort by",children:[jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"dueDate",children:"Sort: Due date"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"amount",children:"Sort: Amount"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"retailer",children:"Sort: Retailer"})]}),jsxRuntimeExports.jsxs("select",{className:"rounded-lg bg-white/10 border border-white/20 text-white px-2 py-1 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",value:De.dir,onChange:Ye=>Fe(Ze=>({...Ze,dir:Ye.target.value})),"aria-label":"Sort direction",children:[jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"asc",children:"Asc"}),jsxRuntimeExports.jsx("option",{className:"text-slate-900",value:"desc",children:"Desc"})]}),jsxRuntimeExports.jsx("input",{type:"text",className:"rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 px-2 py-1 flex-1 min-w-[160px] focus:outline-none focus:ring-2 focus:ring-emerald-400/50",placeholder:"Search retailer or order ID",value:De.query,onChange:Ye=>Fe(Ze=>({...Ze,query:Ye.target.value}))})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto border border-white/10 rounded-lg",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full table-auto",children:[jsxRuntimeExports.jsx("thead",{className:"bg-white/10",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-white/80",children:"Retailer"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-white/80",children:"Amount"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-white/80",children:"Due Date"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-left text-xs font-semibold text-white/80",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-3 py-2 text-right text-xs font-semibold text-white/80",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{children:(()=>{const Ye=Qe().slice(0,12);return Ye.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-3 py-6 text-center text-white/60",children:"No credit dues found."})}):Ye.map(Ze=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("tr",{className:"border-t border-white/10 hover:bg-white/5",children:[jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-sm font-medium text-white",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Me(Ze.id),className:"text-emerald-300 hover:underline mr-2",children:ke[Ze.id]?"Hide":"Show"}),Ze.retailer,jsxRuntimeExports.jsxs("div",{className:"text-[11px] text-white/60",children:["#",Ze.id.slice(0,8)]})]}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-sm text-right",children:["",Number(Ze.amount||0).toLocaleString()]}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm",children:Ze.dueDate?new Date(Ze.dueDate).toLocaleDateString("en-GB"):""}),jsxRuntimeExports.jsxs("td",{className:"px-3 py-2 text-sm",children:[Ze.daysLeft<0&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-red-400/15 text-red-300 text-xs font-semibold",children:[Math.abs(Ze.daysLeft)," day(s) overdue"]}),Ze.daysLeft===0&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-orange-400/15 text-orange-300 text-xs font-semibold",children:"Due today"}),Ze.daysLeft===1&&jsxRuntimeExports.jsx("span",{className:"px-2 py-1 rounded-full bg-amber-400/15 text-amber-300 text-xs font-semibold",children:"Due tomorrow"}),Ze.daysLeft>1&&jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 rounded-full bg-sky-400/15 text-sky-300 text-xs font-semibold",children:[Ze.daysLeft," days left"]})]}),jsxRuntimeExports.jsx("td",{className:"px-3 py-2 text-sm text-right",children:jsxRuntimeExports.jsxs("div",{className:"inline-flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>qe(Ze),className:"px-3 py-1.5 rounded-full text-xs font-medium text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_8px_24px_rgba(16,185,129,0.35)] focus:outline-none focus-visible:ring-2 focus-visible:ring-emerald-300/60",children:"Mark Paid"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ke(Ze),className:"px-3 py-1.5 rounded-full text-xs font-medium text-slate-900 bg-gradient-to-r from-sky-400 to-indigo-500 hover:shadow-[0_8px_24px_rgba(56,189,248,0.35)] focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-300/60",children:"Extend"})]})})]}),ke[Ze.id]&&jsxRuntimeExports.jsx("tr",{className:"border-t border-white/10 bg-white/5",children:jsxRuntimeExports.jsx("td",{colSpan:5,className:"px-4 py-3 text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white/70 text-xs",children:"Delivered"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:Ze.deliveredAt?new Date(Ze.deliveredAt).toLocaleDateString("en-GB"):""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white/70 text-xs",children:"Credit Days"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:Ze.creditDays||""})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white/70 text-xs",children:"Payment Mode"}),jsxRuntimeExports.jsx("div",{className:"font-medium",children:Ze.paymentMode})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("button",{onClick:Xe,className:"text-emerald-300 hover:underline",children:"Open in Track Orders"})})]})})})]},Ze.id))})()})]})}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-right text-sm",children:jsxRuntimeExports.jsx("button",{onClick:Xe,className:"text-emerald-300 hover:underline",children:"Go to Track Orders  Payment Due"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[jsxRuntimeExports.jsxs(GlassCard,{className:"p-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Order Trends",icon:jsxRuntimeExports.jsx("span",{children:""})}),jsxRuntimeExports.jsx("div",{className:"h-40 rounded bg-white/5 animate-pulse flex items-center justify-center text-white/50",children:"Loading chart..."})]}),jsxRuntimeExports.jsxs(GlassCard,{className:"p-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Revenue Insights",icon:jsxRuntimeExports.jsx("span",{children:""})}),jsxRuntimeExports.jsx("div",{className:"h-40 rounded bg-white/5 animate-pulse flex items-center justify-center text-white/50",children:"Loading chart..."})]})]}),jsxRuntimeExports.jsxs(GlassCard,{className:"p-4 mt-6 hover:shadow-emerald-400/10",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Todays Collection Schedule",icon:jsxRuntimeExports.jsx("span",{children:""})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:"Data will list retailers with dues today (future enhancement)"})]})]})},DistributorDashboard=()=>{const Re=useNavigate(),[Ce,je]=reactExports.useState(0),[Be,De]=reactExports.useState(0),[Fe,ke]=reactExports.useState(0),[Oe,Me]=reactExports.useState("dashboard"),Ue=cr=>{const mr=(cr?.target?.tagName||"").toUpperCase();return mr==="INPUT"||mr==="TEXTAREA"||mr==="SELECT"||cr?.target?.isContentEditable===!0},$e=({className:cr="",children:mr})=>jsxRuntimeExports.jsx("div",{className:`rounded-xl border border-white/10 bg-white/5 shadow-xl hover:shadow-emerald-400/10 hover:scale-[1.005] transition duration-300 vignette ${cr}`,children:mr}),[He,Qe]=reactExports.useState(!1),We=[{id:"dashboard",label:"Dashboard"},{id:"retailerRequests",label:"Retailer Requests"},{id:"inventory",label:"Inventory"},{id:"dispatch",label:"Dispatch Tracker"},{id:"analytics",label:"Analytics"},{id:"manageRetailers",label:"Manage Retailers"}],qe=["dashboard","retailerRequests","inventory","dispatch","analytics","manageRetailers"],[Ke,Xe]=reactExports.useState(!0);reactExports.useEffect(()=>{const cr=setTimeout(()=>Xe(!1),4e3);return()=>clearTimeout(cr)},[]);const Ye={dashboard:"dashboard",retailerRequests:"retailer-requests",inventory:"inventory",dispatch:"track-orders",analytics:"analytics",manageRetailers:"manage-retailers"},Ze={dashboard:"dashboard","retailer-requests":"retailerRequests",inventory:"inventory","track-orders":"dispatch",analytics:"analytics","manage-retailers":"manageRetailers"};reactExports.useEffect(()=>{const cr=()=>{const mr=window.location.hash||"",fr=mr.indexOf("?");if(fr===-1)return;const yr=(new URLSearchParams(mr.substring(fr+1)).get("tab")||"").toLowerCase();Ze[yr]&&Me(Ze[yr])};return cr(),window.addEventListener("hashchange",cr),()=>window.removeEventListener("hashchange",cr)},[]);const Je=cr=>{Me(cr);try{const mr=window.location.hash||"#/distributor-dashboard",[fr,or=""]=mr.split("?"),yr=new URLSearchParams(or),Cr=Ye[cr]||"dashboard";yr.set("tab",Cr),Cr!=="track-orders"&&yr.delete("sub");const jr=`${fr}?${yr.toString()}`;jr!==mr&&window.history.replaceState(null,"",jr)}catch{}},[tr,rr]=reactExports.useState(null),ar=getFirestore();reactExports.useEffect(()=>{(async()=>{const mr=auth$2.currentUser;if(!mr)return;const fr=doc(ar,"businesses",mr.uid),or=await getDoc(fr);or.exists()&&rr(or.data());const yr=collection(ar,"businesses",mr.uid,"retailerRequests"),Cr=collection(ar,"businesses",mr.uid,"products"),jr=collection(ar,"businesses",mr.uid,"dispatches"),[vr,Tr,wr]=await Promise.all([getDocs(yr),getDocs(Cr),getDocs(jr)]);je(vr.size),De(Tr.size),ke(wr.size)})()},[]);const ir=reactExports.useRef(null);reactExports.useEffect(()=>{const cr=mr=>{if(Ue(mr)||mr.ctrlKey||mr.metaKey||mr.altKey)return;const fr=mr.key.toLowerCase();if(/^[1-6]$/.test(fr)){const yr=parseInt(fr,10)-1,Cr=qe[yr];Cr&&Je(Cr);return}const or=Date.now();if(ir.current&&or-ir.current.time<900){const yr=ir.current.key;ir.current=null,yr==="g"&&(fr==="r"?Je("retailerRequests"):fr==="i"?Je("inventory"):fr==="d"?Je("dispatch"):fr==="a"?Je("analytics"):fr==="m"&&Je("manageRetailers"));return}fr==="g"&&(ir.current={key:"g",time:or})};return window.addEventListener("keydown",cr),()=>window.removeEventListener("keydown",cr)},[]),reactExports.useEffect(()=>{const cr=mr=>{Ue(mr)&&(ir.current=null)};return window.addEventListener("focusin",cr),()=>window.removeEventListener("focusin",cr)},[]),reactExports.useEffect(()=>{const cr=mr=>{Ue(mr)||((mr.ctrlKey||mr.metaKey)&&mr.key.toLowerCase()==="k"&&(mr.preventDefault(),Qe(fr=>!fr)),mr.key==="Escape"&&Qe(!1))};return window.addEventListener("keydown",cr),()=>window.removeEventListener("keydown",cr)},[]);const nr=async()=>{await signOut(auth$2),Re("/")};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("style",{children:`
        @keyframes auroraShift {
          0% { background-position: 0% 50%; }
          50% { background-position: 100% 50%; }
          100% { background-position: 0% 50%; }
        }
        @keyframes fade-in-out {
          0% { opacity: 0; transform: translateY(-10px); }
          10% { opacity: 1; transform: translateY(0); }
          90% { opacity: 1; }
          100% { opacity: 0; transform: translateY(-10px); }
        }
        .animate-fade-in-out {
          animation: fade-in-out 4s ease-in-out forwards;
        }
        /* UI-only: glass scrollbars */
        .glass-scroll::-webkit-scrollbar { width: 10px; height: 10px; }
        .glass-scroll::-webkit-scrollbar-track { background: transparent; }
        .glass-scroll::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.15); border-radius: 9999px; border: 2px solid transparent; background-clip: padding-box; }
        .glass-scroll:hover::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.25); }
        /* UI-only: subtle vignette + inner highlight on cards */
        .vignette { position: relative; }
        .vignette:before { content: ""; position: absolute; inset: 0; border-radius: 0.75rem; pointer-events: none; box-shadow: inset 0 0 120px rgba(0,0,0,.18); }
        .vignette:after { content: ""; position: absolute; inset: 0; border-radius: 0.75rem; pointer-events: none; box-shadow: inset 0 1px 0 rgba(255,255,255,.08); }
        /* Tiny noise film */
        .page-noise:before { content: ""; position: fixed; inset: 0; pointer-events: none; background-image: radial-gradient(rgba(255,255,255,.025) 1px, transparent 1px); background-size: 3px 3px; opacity: .25; }
        /* Reusable pill */
        .chip { padding: 4px 8px; border-radius: 9999px; font-size: 12px; font-weight: 600; }
      `}),jsxRuntimeExports.jsxs("div",{className:"flex h-screen overflow-hidden bg-gradient-to-br from-[#0B1220] via-[#0F1A2A] to-[#0B1220] text-white font-sans transition-all duration-300 ease-in-out page-noise",children:[jsxRuntimeExports.jsxs("aside",{className:"w-64 bg-gradient-to-b from-[#0D1524] via-[#0B1220] to-[#0B1220] backdrop-blur-md text-white shadow-lg p-5 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-extrabold tracking-wide text-white mb-6",children:"FLYP"}),jsxRuntimeExports.jsxs("nav",{className:"space-y-4 mt-20",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je("dashboard"),className:`w-full text-left px-3 py-2 rounded font-medium transition-transform duration-200 hover:scale-[1.02] hover:bg-white/5 ${Oe==="dashboard"?"border-l-4 border-emerald-300 bg-white/10 shadow-inner text-white":"text-white"}`,children:" Dashboard"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("retailerRequests"),className:`w-full text-left px-3 py-2 rounded font-medium transition-transform duration-200 hover:scale-[1.02] hover:bg-white/5 ${Oe==="retailerRequests"?"border-l-4 border-emerald-300 bg-white/10 shadow-inner text-white":"text-white"}`,children:" Retailer Requests"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("inventory"),className:`w-full text-left px-3 py-2 rounded font-medium transition-transform duration-200 hover:scale-[1.02] hover:bg-white/5 ${Oe==="inventory"?"border-l-4 border-emerald-300 bg-white/10 shadow-inner text-white":"text-white"}`,children:" Inventory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("dispatch"),className:`w-full text-left px-3 py-2 rounded font-medium transition-transform duration-200 hover:scale-[1.02] hover:bg-white/5 ${Oe==="dispatch"?"border-l-4 border-emerald-300 bg-white/10 shadow-inner text-white":"text-white"}`,children:" Dispatch Tracker"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("analytics"),className:`w-full text-left px-3 py-2 rounded font-medium transition-transform duration-200 hover:scale-[1.02] hover:bg-white/5 ${Oe==="analytics"?"border-l-4 border-emerald-300 bg-white/10 shadow-inner text-white":"text-white"}`,children:" Analytics"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("manageRetailers"),className:`w-full text-left px-3 py-2 rounded font-medium transition-transform duration-200 hover:scale-[1.02] hover:bg-white/5 ${Oe==="manageRetailers"?"border-l-4 border-emerald-300 bg-white/10 shadow-inner text-white":"text-white"}`,children:" Manage Retailers"})]})]}),jsxRuntimeExports.jsx("button",{onClick:nr,className:"bg-red-600 hover:bg-red-700 py-2 rounded text-sm mt-6",children:"Sign Out"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto transition-all duration-300 ease-in-out flex flex-col glass-scroll motion-reduce:transform-none motion-reduce:transition-none",children:[jsxRuntimeExports.jsxs("header",{className:"sticky top-0 z-10 bg-slate-900/70 backdrop-blur-md border-b border-slate-800 text-white px-5 py-3 shadow-sm flex items-center justify-between",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("h1",{className:"text-white font-semibold text-xl",children:"Distributor Dashboard"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-0 right-0 h-px bg-gradient-to-r from-transparent via-emerald-300/40 to-transparent"})]})}),jsxRuntimeExports.jsxs("div",{className:"text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-sm text-white/70",children:tr?.businessName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-white/50",children:auth$2.currentUser?.email}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-white/40",children:["ID: ",auth$2.currentUser?.uid]})]})]}),jsxRuntimeExports.jsxs("main",{className:"relative p-4 md:p-6 m-4",children:[Ke&&jsxRuntimeExports.jsxs("div",{className:"absolute top-3 right-6 bg-white/10 text-white px-4 py-2 rounded-lg shadow backdrop-blur-md z-20 animate-fade-in-out",children:[" Welcome back, ",tr?.ownerName||"Partner"]}),jsxRuntimeExports.jsxs(AnimatePresence,{mode:"wait",children:[Oe==="dashboard"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 gap-4",children:jsxRuntimeExports.jsx($e,{className:"p-6",children:jsxRuntimeExports.jsx(DistributorHome,{})})})},"dashboard"),Oe==="retailerRequests"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(RetailerRequests,{db:ar,auth:auth$2})},"retailerRequests"),Oe==="inventory"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DistributorInventory,{db:ar,auth:auth$2})},"inventory"),Oe==="dispatch"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DispatchTracker,{db:ar,auth:auth$2})},"dispatch"),Oe==="analytics"&&auth$2?.currentUser&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(DistributorAnalytics,{distributorId:auth$2.currentUser.uid})},"analytics"),Oe==="manageRetailers"&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:jsxRuntimeExports.jsx(ManageRetailers,{db:ar,auth:auth$2})},"manageRetailers")]}),He&&jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[60] flex items-start justify-center pt-24",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>Qe(!1)}),jsxRuntimeExports.jsxs("div",{className:"relative w-[90%] max-w-xl rounded-2xl border border-white/10 bg-[#0B0F14]/90 backdrop-blur-2xl shadow-[0_20px_60px_rgba(0,0,0,0.55)]",children:[jsxRuntimeExports.jsx("div",{className:"p-3 border-b border-white/10",children:jsxRuntimeExports.jsx("input",{autoFocus:!0,placeholder:"Jump to (16, g+r/i/d/a/m, /Ctrl+K)",className:"w-full px-3 py-2 rounded-xl bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"})}),jsxRuntimeExports.jsx("div",{className:"max-h-72 overflow-y-auto glass-scroll",children:We.map(cr=>jsxRuntimeExports.jsx("button",{onClick:()=>{Je(cr.id),Qe(!1)},className:`w-full text-left px-4 py-3 hover:bg-white/10 ${Oe===cr.id?"text-emerald-200":"text-white"}`,children:cr.label},cr.id))})]})]})]})]})]})]})},ProductOwnerDashboard=()=>{const Re=useNavigate(),Ce=async()=>{try{await signOut(auth$2),Re("/")}catch(je){console.error("Sign out error:",je)}};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen",children:[jsxRuntimeExports.jsxs("div",{className:"w-64 bg-gray-900 text-white p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Product Owner"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-4",children:[jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Dashboard"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Production"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Inventory"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Reports"}),jsxRuntimeExports.jsx("li",{className:"hover:text-yellow-400 cursor-pointer",children:"Business Insights"})]}),jsxRuntimeExports.jsx("button",{onClick:Ce,className:"mt-12 bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded",children:"Sign Out"})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-gray-100 p-10 overflow-y-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Welcome Product Owner!"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-6",children:"Here's your central hub to manage production cycles, oversee inventory, and analyze supply performance."}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Active Products"}),jsxRuntimeExports.jsx("p",{className:"text-green-600 text-3xl mt-2",children:"145"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Production Units"}),jsxRuntimeExports.jsx("p",{className:"text-blue-600 text-3xl mt-2",children:"32"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow p-6 rounded",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold",children:"Pending Shipments"}),jsxRuntimeExports.jsx("p",{className:"text-orange-600 text-3xl mt-2",children:"9"})]})]})]})]})},AddInventoryOptions=()=>{const[Re,Ce]=reactExports.useState(null),je=()=>Re==="manual"?jsxRuntimeExports.jsxs("form",{className:"space-y-4 mt-6 p-6 rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",onSubmit:async Be=>{Be.preventDefault();const De=getAuth(),Fe=getFirestore(app),ke=De.currentUser;if(!ke){alert("User not authenticated");return}const Oe=new FormData(Be.target),Me={productName:Oe.get("productName"),sku:Oe.get("sku"),brand:Oe.get("brand"),category:Oe.get("category"),quantity:parseInt(Oe.get("quantity")),unit:Oe.get("unit"),costPrice:parseFloat(Oe.get("costPrice")),sellingPrice:parseFloat(Oe.get("sellingPrice")),description:Oe.get("description"),timestamp:serverTimestamp()};try{await addDoc(collection(Fe,"businesses",ke.uid,"products"),Me),alert("Product added successfully!"),Be.target.reset(),Ce(null)}catch(Ue){console.error("Error adding product:",Ue),alert("Failed to add product.")}},id:"add-product-form",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"productName",placeholder:"Product Name",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"sku",placeholder:"SKU",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"text",name:"brand",placeholder:"Brand",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"text",name:"category",placeholder:"Category",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"number",name:"quantity",placeholder:"Quantity",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50",required:!0}),jsxRuntimeExports.jsx("input",{type:"text",name:"unit",placeholder:"Unit (e.g. pcs, box)",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"number",name:"costPrice",placeholder:"Cost Price",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"number",name:"sellingPrice",placeholder:"Selling Price",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("textarea",{name:"description",placeholder:"Description",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsx("input",{type:"file",name:"productImage",accept:"image/*",className:"w-full p-2 rounded bg-white/10 border border-white/20 text-white placeholder-white/60 focus:outline-none focus:ring-2 focus:ring-emerald-400/50"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between mt-4",children:[jsxRuntimeExports.jsx("button",{type:"submit",className:"px-4 py-2 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)]",children:"Submit"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ce(null),className:"px-4 py-2 rounded-xl border border-white/20 bg-white/10 text-white hover:bg-white/15",children:"Cancel"})]})]}):Re==="ocr"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-white/70",children:"OCR form coming soon."}):Re==="ai"?jsxRuntimeExports.jsx("div",{className:"mt-6 text-white/70",children:"AI auto-generation coming soon."}):null;return jsxRuntimeExports.jsxs("div",{className:"mt-6 text-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Select Inventory Input Method"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ce("manual"),className:`px-4 py-2 rounded-xl transition ${Re==="manual"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:"Manual Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("ocr"),className:`px-4 py-2 rounded-xl transition ${Re==="ocr"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:"OCR Upload"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ce("ai"),className:`px-4 py-2 rounded-xl transition ${Re==="ai"?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`,children:"AI Generate"})]}),je()]})},ItemGroups=()=>jsxRuntimeExports.jsxs("div",{className:"p-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold mb-4 text-gray-800",children:"Item Groups"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"This section will allow users to group similar items together (like variants or combos)."}),jsxRuntimeExports.jsx("div",{className:"mt-6 border rounded p-4 bg-yellow-50 border-yellow-300",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-800",children:" Feature coming soon: Add item groups by SKU, brand, or category."})})]}),LowStockAlerts=()=>{const[Re,Ce]=reactExports.useState([]);return reactExports.useEffect(()=>{(async()=>{const Be=getFirestore(app),Fe=getAuth(app).currentUser;if(Fe)try{const ke=collection(Be,"businesses",Fe.uid,"products"),Oe=query(ke,where("quantity","<=",5)),Me=await getDocs(Oe),Ue=[];Me.forEach($e=>{Ue.push({id:$e.id,...$e.data()})}),Ce(Ue)}catch(ke){console.error("Error fetching low stock items:",ke)}})()},[]),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-red-600 mb-4",children:"Low Stock Alerts"}),Re.length===0?jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:" All products are well-stocked!"}):jsxRuntimeExports.jsx("ul",{className:"divide-y divide-gray-200",children:Re.map(je=>jsxRuntimeExports.jsxs("li",{className:"py-3 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-md font-medium text-gray-800",children:je.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["SKU: ",je.sku]})]}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-red-600",children:[je.quantity," left"]})]},je.id))})]})},Inventory=()=>{const[Re,Ce]=reactExports.useState("add"),je=()=>{try{switch(Re){case"add":return jsxRuntimeExports.jsx(AddInventoryOptions,{});case"view":return jsxRuntimeExports.jsx(ViewInventory$1,{});case"groups":return jsxRuntimeExports.jsx(ItemGroups,{});case"alerts":return jsxRuntimeExports.jsx(LowStockAlerts,{});default:return jsxRuntimeExports.jsx("div",{className:"text-rose-300",children:"Invalid tab selected"})}}catch(De){return jsxRuntimeExports.jsxs("div",{className:"text-rose-300",children:["An error occurred while rendering the tab: ",De.message]})}},Be=De=>`px-4 py-2 rounded-xl transition ${Re===De?"bg-emerald-500 text-slate-900 shadow-[0_8px_24px_rgba(16,185,129,0.35)]":"bg-white/10 text-white hover:bg-white/15 border border-white/15"}`;return jsxRuntimeExports.jsxs("div",{className:"p-4 text-white",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold mb-4 bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"Inventory Management"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[jsxRuntimeExports.jsx("button",{className:Be("add"),onClick:()=>Ce("add"),children:" Add Inventory"}),jsxRuntimeExports.jsx("button",{className:Be("view"),onClick:()=>Ce("view"),children:" View Inventory"}),jsxRuntimeExports.jsx("button",{className:Be("groups"),onClick:()=>Ce("groups"),children:" Item Groups"}),jsxRuntimeExports.jsx("button",{className:Be("alerts"),onClick:()=>Ce("alerts"),children:" Low Stock Alerts"})]}),jsxRuntimeExports.jsx("div",{className:"p-4 min-h-[200px] rounded-xl bg-white/10 backdrop-blur-xl border border-white/10 shadow-[0_8px_40px_rgba(0,0,0,0.35)]",children:je()})]})},InvoiceCard=({invoice:Re})=>{const{customerInfo:Ce,items:je,total:Be,subtotal:De,gst:Fe,createdAt:ke,settings:Oe}=Re;return jsxRuntimeExports.jsx("div",{className:"w-full max-w-md mx-auto mb-4",children:jsxRuntimeExports.jsxs("div",{className:"border border-gray-300 rounded-lg p-4 shadow-md bg-white hover:shadow-lg transition-all overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between items-center mb-2",children:[jsxRuntimeExports.jsxs("h3",{className:"font-semibold text-base md:text-lg",children:[" ",Oe?.invoiceType||"Invoice"]}),jsxRuntimeExports.jsx("span",{className:"text-xs md:text-sm text-gray-500",children:new Date(ke).toLocaleDateString()})]}),jsxRuntimeExports.jsxs("div",{className:"mb-2",children:[jsxRuntimeExports.jsx("p",{className:"font-medium text-base md:text-sm",children:Ce?.name}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:Ce?.email}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600",children:Ce?.phone})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 text-xs md:text-sm",children:[je?.slice(0,3).map((Me,Ue)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsxs("span",{children:[Me.name,"  ",Me.quantity]}),jsxRuntimeExports.jsxs("span",{children:["",Me.subtotal]})]},Ue)),je?.length>3&&jsxRuntimeExports.jsxs("p",{className:"text-xs text-blue-500 mt-1",children:["+ ",je.length-3," more items"]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-2 mt-2 text-xs md:text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsx("span",{children:"Subtotal"}),jsxRuntimeExports.jsxs("span",{children:["",De]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between",children:[jsxRuntimeExports.jsx("span",{children:"GST"}),jsxRuntimeExports.jsxs("span",{children:["",Fe]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 justify-between font-bold",children:[jsxRuntimeExports.jsx("span",{children:"Total"}),jsxRuntimeExports.jsxs("span",{children:["",Be]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 text-right",children:jsxRuntimeExports.jsx("button",{className:"text-blue-600 hover:underline text-xs md:text-sm",children:"View / Download"})})]})})},InvoicePreview=({invoice:Re,onClose:Ce})=>{if(!Re)return null;const{customer:je,cartItems:Be,totalAmount:De,issuedAt:Fe,settings:ke,paymentMode:Oe}=Re;return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 bg-black bg-opacity-50 flex justify-end",children:jsxRuntimeExports.jsxs("div",{className:"w-full sm:max-w-xl bg-white shadow-xl p-4 md:p-6 rounded-xl overflow-y-auto max-h-[90vh] space-y-4 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)]",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold",children:"Invoice Preview"}),jsxRuntimeExports.jsx("button",{onClick:Ce,className:"text-red-500 font-bold text-lg",children:""})]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Date: ",new Date(Fe).toLocaleString()]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Customer Info"}),jsxRuntimeExports.jsxs("p",{children:["Name: ",je?.name]}),jsxRuntimeExports.jsxs("p",{children:["Email: ",je?.email]}),jsxRuntimeExports.jsxs("p",{children:["Phone: ",je?.phone]}),jsxRuntimeExports.jsxs("p",{children:["Address: ",je?.address]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:"Items"}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm border",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Product"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Qty"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Price"}),jsxRuntimeExports.jsx("th",{className:"text-left p-2 border",children:"Total"})]})}),jsxRuntimeExports.jsx("tbody",{children:Be?.map((Me,Ue)=>jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("td",{className:"p-2 border",children:Me.name}),jsxRuntimeExports.jsx("td",{className:"p-2 border",children:Me.quantity}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",Me.price]}),jsxRuntimeExports.jsxs("td",{className:"p-2 border",children:["",(Me.quantity*Me.price*(1-(Me.discount||0)/100)).toFixed(2)]})]},Ue))})]})})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm border-t pt-4",children:[jsxRuntimeExports.jsxs("p",{className:"font-bold",children:["Total: ",De]}),jsxRuntimeExports.jsxs("p",{children:["Payment Mode: ",ke?.paymentMode]})]}),jsxRuntimeExports.jsx("div",{className:"mt-4",children:jsxRuntimeExports.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Download PDF"})})]})})},AllInvoices=()=>{const[Re,Ce]=reactExports.useState([]),[je,Be]=reactExports.useState([]),[De,Fe]=reactExports.useState(null),[ke,Oe]=reactExports.useState(""),[Me,Ue]=reactExports.useState({from:"",to:""});reactExports.useEffect(()=>{(async()=>{const We=getAuth().currentUser;if(!We)return;const qe=collection(getFirestore(),`businesses/${We.uid}/finalizedInvoices`),Xe=(await getDocs(qe)).docs.map(Ye=>({id:Ye.id,...Ye.data()}));Ce(Xe),Be(Xe)})()},[]),reactExports.useEffect(()=>{const Qe=ke.toLowerCase(),We=Re.filter(qe=>{const Ke=qe.customerInfo?.name?.toLowerCase().includes(Qe),Xe=qe.customerInfo?.email?.toLowerCase().includes(Qe),Ye=new Date(qe.createdAt),Ze=Me.from?new Date(Me.from):null,Je=Me.to?new Date(Me.to):null,tr=(!Ze||Ye>=Ze)&&(!Je||Ye<=Je);return(Ke||Xe)&&tr});Be(We)},[ke,Me,Re]);const $e=Qe=>Fe(Qe),He=()=>Fe(null);return jsxRuntimeExports.jsxs("div",{className:"px-4 py-6 md:px-6 pt-[env(safe-area-inset-top)] pb-[env(safe-area-inset-bottom)] space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold mb-4",children:"All Invoices"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-4 mb-4",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search by customer name/email",value:ke,onChange:Qe=>Oe(Qe.target.value),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"}),jsxRuntimeExports.jsx("input",{type:"date",value:Me.from,onChange:Qe=>Ue(We=>({...We,from:Qe.target.value})),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"}),jsxRuntimeExports.jsx("input",{type:"date",value:Me.to,onChange:Qe=>Ue(We=>({...We,to:Qe.target.value})),className:"border border-gray-300 p-2 rounded w-full sm:max-w-xs text-sm"})]}),je.length===0?jsxRuntimeExports.jsx("p",{children:"No invoices found."}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:je.map(Qe=>jsxRuntimeExports.jsx(InvoiceCard,{invoice:Qe,onView:()=>$e(Qe)},Qe.id))}),De&&jsxRuntimeExports.jsx(InvoicePreview,{invoice:De,onClose:He})]})},__vite_import_meta_env__={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_REACT_APP_OCR_FUNCTION_URL:"https://ocrfromimage-rg2uh6cnqq-el.a.run.app"},auth$1=getAuth(app);try{typeof window<"u"&&["localhost","127.0.0.1"].includes(window.location.hostname)&&__vite_import_meta_env__?.VITE_BYPASS_PHONE_RECAPTCHA==="true"&&(auth$1.settings.appVerificationDisabledForTesting=!0,console.info("[Auth] appVerificationDisabledForTesting enabled on localhost via env flag"))}catch(Re){}const db$1=getFirestore(app),genFlypId=()=>`FLYP-${Math.random().toString(36).slice(2,7).toUpperCase()}`;function validateGSTIN(Re){if(!Re)return{ok:!0,reason:""};const Ce=Re.toUpperCase().trim();return Ce.length!==15?{ok:!1,reason:"GSTIN must be 15 characters"}:/^\d{2}[A-Z]{5}\d{4}[A-Z]{1}[A-Z0-9]{1}Z[A-Z0-9]{1}$/i.test(Ce)?{ok:!0,reason:""}:{ok:!1,reason:"Format looks invalid"}}const ONLY_DIGITS=/[^0-9]/g;function sanitize10Digits(Re=""){return(Re||"").replace(ONLY_DIGITS,"").slice(0,10)}function toE164IN(Re){return Re?`+91${Re}`:""}const Icon=({name:Re,className:Ce=""})=>{const je="h-5 w-5";return Re==="user"?jsxRuntimeExports.jsxs("svg",{className:`${je} ${Ce}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"7",r:"4"})]}):Re==="mail"?jsxRuntimeExports.jsxs("svg",{className:`${je} ${Ce}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M4 4h16v16H4z",stroke:"currentColor",fill:"none"}),jsxRuntimeExports.jsx("path",{d:"M22 6l-10 7L2 6"})]}):Re==="lock"?jsxRuntimeExports.jsxs("svg",{className:`${je} ${Ce}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("rect",{x:"3",y:"11",width:"18",height:"10",rx:"2"}),jsxRuntimeExports.jsx("path",{d:"M7 11V8a5 5 0 0 1 10 0v3"})]}):Re==="gst"?jsxRuntimeExports.jsx("svg",{className:`${je} ${Ce}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:jsxRuntimeExports.jsx("path",{d:"M4 7h16M4 12h16M4 17h10"})}):Re==="spark"?jsxRuntimeExports.jsx("svg",{className:`${je} ${Ce}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:jsxRuntimeExports.jsx("path",{d:"M12 2v5M12 17v5M2 12h5M17 12h5M5 5l3.5 3.5M15.5 15.5L19 19M5 19l3.5-3.5M15.5 8.5L19 5"})}):Re==="google"?jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",className:`${Ce}`,"aria-hidden":!0,children:[jsxRuntimeExports.jsx("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),jsxRuntimeExports.jsx("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,16.108,18.961,14,24,14c3.059,0,5.842,1.156,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),jsxRuntimeExports.jsx("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),jsxRuntimeExports.jsx("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.793,2.238-2.231,4.166-4.093,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C35.271,39.205,44,33.5,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}):Re==="arrow-right"?jsxRuntimeExports.jsxs("svg",{className:`${Ce}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M5 12h14"}),jsxRuntimeExports.jsx("path",{d:"M13 5l7 7-7 7"})]}):null},Register=({role:Re="retailer"})=>{const[Ce,je]=reactExports.useState({ownerName:"",email:"",password:"",confirmPassword:"",phone:"",gstin:"",agree:!1,role:""}),[Be,De]=reactExports.useState(!1),[Fe,ke]=reactExports.useState({error:"",success:""}),Oe=reactExports.useRef(null),Me=reactExports.useRef(null),Ue=useNavigate(),$e=rr=>{if(!Oe.current)return;const ar=rr.currentTarget.getBoundingClientRect(),ir=(rr.clientX-ar.left)/ar.width*100,nr=(rr.clientY-ar.top)/ar.height*100;Me.current&&cancelAnimationFrame(Me.current),Me.current=requestAnimationFrame(()=>{Oe.current.style.background=`radial-gradient(240px circle at ${ir}% ${nr}%, rgba(56,189,248,.20), transparent 60%)`})},He=reactExports.useRef(null),Qe=reactExports.useMemo(()=>validateGSTIN(Ce.gstin),[Ce.gstin]),We=rr=>je(ar=>{const{name:ir,type:nr,value:cr,checked:mr}=rr.target;let fr=nr==="checkbox"?mr:cr;return ir==="phone"&&(fr=sanitize10Digits(fr)),{...ar,[ir]:fr}}),qe=rr=>{const ar=new Date().toISOString(),ir=(Ce.role||Re||"Retailer").charAt(0).toUpperCase()+(Ce.role||Re||"Retailer").slice(1),nr=toE164IN(sanitize10Digits(Ce.phone));return{ownerId:rr,name:(Ce.ownerName||"").trim(),ownerName:(Ce.ownerName||"").trim(),email:(Ce.email||"").trim(),phone:nr,whatsappAlerts:!1,role:ir,businessType:ir,businessName:"",businessMode:"Online",invoicePreference:"Minimal",address:"",city:"",state:"",country:"India",zipcode:"",gstNumber:(Ce.gstin||"").toUpperCase().trim(),logoUrl:"",flypId:genFlypId(),profileVersion:1,createdAt:ar,lastUpdated:ar}},Ke=async rr=>{const ar=qe(rr);await setDoc(doc(db$1,"businesses",rr),ar,{merge:!0})},Xe=async rr=>{rr.preventDefault(),ke({error:"",success:""});const ar=toE164IN(sanitize10Digits(Ce.phone));if(sanitize10Digits(Ce.phone).length!==10)return ke({error:"Please enter a valid 10-digit Indian mobile number.",success:""});if(!Ce.agree)return ke({error:"Please accept Terms & Privacy to continue.",success:""});if(!Qe.ok)return ke({error:`GSTIN error: ${Qe.reason}`,success:""});if(Ce.password!==Ce.confirmPassword)return ke({error:"Passwords do not match.",success:""});try{De(!0);const ir=query(collection(db$1,"businesses"),where("phone","==",ar));if(!(await getDocs(ir)).empty)return ke({error:"Phone number already registered. Please sign in instead.",success:""});const cr=query(collection(db$1,"businesses"),where("email","==",Ce.email.trim()));if(!(await getDocs(cr)).empty)return ke({error:"Email already registered. Please sign in instead.",success:""});const or=(await __vitePreload(async()=>{const{createUserWithEmailAndPassword:Cr}=await Promise.resolve().then(()=>index_esm);return{createUserWithEmailAndPassword:Cr}},void 0,import.meta.url).then(({createUserWithEmailAndPassword:Cr})=>Cr(auth$1,Ce.email.trim(),Ce.password))).user;await updateProfile(or,{displayName:(Ce.ownerName||"").trim()}),await Ke(or.uid),await sendEmailVerification(or),ke({error:"",success:"Account created. Redirecting to dashboard"});const yr=(Ce.role||Re||"Retailer").charAt(0).toUpperCase()+(Ce.role||Re||"Retailer").slice(1);setTimeout(()=>{Ue(yr==="Retailer"?"/dashboard":yr==="Distributor"?"/distributor-dashboard":yr==="Product Owner"?"/product-owner-dashboard":"/dashboard")},2e3)}catch(ir){if(console.error(ir),ir?.code==="auth/email-already-in-use")return ke({error:"Email already registered. Please sign in.",success:""});ke({error:ir?.message||"Signup failed",success:""})}finally{De(!1)}},Ye=async()=>{ke({error:"",success:""});try{De(!0);const rr=new GoogleAuthProvider,ir=(await signInWithPopup(auth$1,rr)).user,nr=await fetchSignInMethodsForEmail(auth$1,ir.email);if(nr.includes("password")&&!nr.includes("google.com")){ke({error:"This email is already registered manually. Please login using email and password.",success:""}),De(!1);return}const{getDoc:cr,setDoc:mr,doc:fr,serverTimestamp:or}=await __vitePreload(async()=>{const{getDoc:wr,setDoc:Er,doc:Pr,serverTimestamp:Mr}=await Promise.resolve().then(()=>index_esm$1);return{getDoc:wr,setDoc:Er,doc:Pr,serverTimestamp:Mr}},void 0,import.meta.url),Cr=fr(db$1,"businesses",ir.uid),jr=await cr(Cr),vr=(Ce.role||Re||"Retailer").charAt(0).toUpperCase()+(Ce.role||Re||"Retailer").slice(1);jr.exists()||await mr(Cr,{ownerId:ir.uid,ownerName:ir.displayName||"",email:ir.email||"",phone:ir.phoneNumber||"",role:vr,createdAt:or(),profileVersion:1,whatsappAlerts:!1,state:"",zipcode:"",gstnumber:"",invoicePreference:"Minimal",logoUrl:""}),ke({error:"",success:"Signed in with Google. Redirecting"});const Tr=vr;setTimeout(()=>{Ue(Tr==="Retailer"?"/dashboard":Tr==="Distributor"?"/distributor-dashboard":Tr==="Product Owner"?"/product-owner-dashboard":"/dashboard")},1500)}catch(rr){rr?.code&&rr?.message?console.error("Sign-in error:",rr.code,rr.message):console.error(rr),ke({error:rr?.message||"Google sign-in failed",success:""})}finally{De(!1)}},Ze=(Ce.role||Re||"Retailer").charAt(0).toUpperCase()+(Ce.role||Re||"Retailer").slice(1),Je=Ze==="Retailer"?[{title:"Autobilling in seconds",text:"Scan, bill, and autodeduct stock  no spreadsheet drama."},{title:"Smart Inventory",text:"OCR + AI onboarding. Track lowstock. Forecast drain."},{title:"Connect to Distributors",text:"Send requests, compare, and track delivery to doorstep."}]:[{title:"Order Queue to Dispatch",text:"Accept, schedule, ship. Full traceability."},{title:"Inventory at a Glance",text:"Live stock, slow movers, brand performance."},{title:"Retailer Network",text:"Manage connections and automate reorders."}],tr=()=>{try{He.current?.scrollIntoView({behavior:"smooth",block:"center"})}catch{}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 -z-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#0b1220]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_15%_10%,rgba(56,189,248,0.12),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_85%_90%,rgba(217,70,239,0.10),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_100%)] bg-black/30 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-[0.05] bg-[url('data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22160%22%20height=%22160%22%20viewBox=%220%200%20160%20160%22%3E%3Cfilter%20id=%22n%22%3E%3CfeTurbulence%20type=%22fractalNoise%22%20baseFrequency=%220.8%22%20numOctaves=%222%22/%3E%3C/filter%3E%3Crect%20width=%22160%22%20height=%22160%22%20filter=%22url(%23n)%22%20opacity=%220.6%22/%3E%3C/svg%3E')]"})]}),jsxRuntimeExports.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-0 lg:gap-10 px-6 py-10 lg:py-20 relative",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs("div",{className:"max-w-xl pr-4",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 px-2 py-0.5 rounded-md bg-white/5 text-[11px] tracking-widest uppercase text-cyan-200/90",children:[jsxRuntimeExports.jsx(Icon,{name:"spark"})," Why FLYP for ",Ze]}),jsxRuntimeExports.jsx("h2",{className:"mt-3 text-4xl font-extrabold tracking-tight text-white leading-tight",children:"Register in seconds. Operate without clutter."}),jsxRuntimeExports.jsxs("p",{className:"mt-2 text-slate-300/95 text-sm leading-relaxed",children:["The panel on the right is the ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:"only registration form"}),". This left side is a quick overview to help you understand what you'll get after signup."]}),jsxRuntimeExports.jsx("div",{className:"mt-6 space-y-4",children:Je.map((rr,ar)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:rr.title}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:rr.text})]})]},ar))}),jsxRuntimeExports.jsx("div",{className:"mt-8 h-px w-full bg-white/10"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-xs text-slate-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Billing"}),jsxRuntimeExports.jsx("div",{children:"Autobilling, UPI/Cash/Card, credit cycles."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Inventory"}),jsxRuntimeExports.jsx("div",{children:"OCR/AI onboarding, lowstock alerts."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Connect"}),jsxRuntimeExports.jsx("div",{children:"Retailer  Distributor, dispatch tracking."})]})]}),jsxRuntimeExports.jsxs("button",{onClick:tr,className:"mt-8 inline-flex items-center gap-2 rounded-xl border border-cyan-400/30 bg-cyan-400/10 px-4 py-2 text-cyan-200 hover:text-white hover:bg-cyan-400/20 transition",children:["Go to registration",jsxRuntimeExports.jsx(Icon,{name:"arrow-right",className:"h-5 w-5"})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{onMouseMove:$e,className:"w-full max-w-md relative",children:[jsxRuntimeExports.jsx("div",{ref:Oe,className:"pointer-events-none absolute -inset-16 rounded-[32px] blur-3xl opacity-40 transition-opacity"}),jsxRuntimeExports.jsx("div",{className:"absolute -inset-1 rounded-[22px] bg-gradient-to-r from-cyan-500/30 via-blue-500/30 to-fuchsia-500/30 blur-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl border border-white/15 bg-white/10 backdrop-blur-xl shadow-[0_10px_40px_rgba(0,0,0,0.45)]",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-3 left-6 px-3 py-1 rounded-full text-[11px] font-semibold text-slate-900 bg-gradient-to-r from-emerald-300 to-cyan-300 shadow",children:"Start here"}),jsxRuntimeExports.jsxs("div",{className:"px-6 pt-6 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-transparent bg-clip-text bg-gradient-to-r from-white via-cyan-200 to-white text-3xl font-extrabold tracking-tight",children:"Create your FLYP account"}),jsxRuntimeExports.jsx("p",{className:"text-slate-300 mt-1 text-sm",children:"30second signup. Finish the rest later in Profile Settings."})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 mt-5 flex items-center justify-between text-xs",children:[jsxRuntimeExports.jsxs("div",{className:"text-slate-300",children:["Joining as"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-white",children:Ze}),jsxRuntimeExports.jsxs("select",{name:"role",value:Ce.role||Ze,onChange:We,className:"ml-2 px-2 py-1 rounded bg-slate-900/60 border border-white/20 text-cyan-200 text-xs",style:{minWidth:90},children:[jsxRuntimeExports.jsx("option",{value:"Retailer",children:"Retailer"}),jsxRuntimeExports.jsx("option",{value:"Distributor",children:"Distributor"}),jsxRuntimeExports.jsx("option",{value:"Product Owner",children:"Product Owner"})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-2 py-1 rounded-md bg-slate-900/40 border border-white/10 text-cyan-300 flex items-center gap-1",children:[jsxRuntimeExports.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3.5 w-3.5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",children:[jsxRuntimeExports.jsx("path",{d:"M9 12l2 2 4-4"}),jsxRuntimeExports.jsx("circle",{cx:"12",cy:"12",r:"9"})]}),jsxRuntimeExports.jsx("span",{children:"Protected by Firebase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 mt-4",children:[jsxRuntimeExports.jsxs("button",{onClick:Ye,disabled:Be,className:"w-full inline-flex items-center justify-center gap-2 rounded-xl px-4 py-2 bg-white text-slate-900 font-medium shadow hover:shadow-md transition active:scale-[0.99]",children:[jsxRuntimeExports.jsx(Icon,{name:"google",className:"h-5 w-5"}),"Continue with Google"]}),jsxRuntimeExports.jsxs("div",{className:"my-5 flex items-center gap-3 text-slate-400",children:[jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-white/15"}),jsxRuntimeExports.jsx("span",{className:"text-[11px] uppercase tracking-widest",children:"or"}),jsxRuntimeExports.jsx("div",{className:"h-px flex-1 bg-white/15"})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Xe,className:"px-6 pb-6",children:[Fe.error&&jsxRuntimeExports.jsx("div",{className:"mb-3 text-red-300 text-sm",children:Fe.error}),Fe.success&&jsxRuntimeExports.jsx("div",{className:"mb-3 text-emerald-300 text-sm",children:Fe.success}),jsxRuntimeExports.jsxs("label",{className:"group relative block",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"user"})}),jsxRuntimeExports.jsx("input",{type:"text",name:"ownerName",placeholder:"Owner name",value:Ce.ownerName,onChange:We,required:!0,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm mb-1 text-slate-200",children:"Phone"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center rounded-xl bg-white/10 text-white border border-white/15 focus-within:ring-2 focus-within:ring-cyan-400/80 focus-within:border-cyan-400/40",children:[jsxRuntimeExports.jsx("span",{className:"pl-3 pr-2 text-slate-300/90 select-none",children:"+91"}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-white/10"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phone",placeholder:"9876543210",value:Ce.phone,onChange:We,required:!0,inputMode:"numeric",pattern:"[0-9]{10}",maxLength:10,autoComplete:"tel-national",className:"w-full bg-transparent px-3 py-3 outline-none placeholder-white/60","aria-label":"10-digit Indian mobile number"})]}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-slate-400",children:"Enter 10 digits. Country code is fixed to India (+91)."})]}),jsxRuntimeExports.jsxs("label",{className:"group relative block mt-3",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"mail"})}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",placeholder:"Email",value:Ce.email,onChange:We,required:!0,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("label",{className:"group relative block mt-3",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"lock"})}),jsxRuntimeExports.jsx("input",{type:"password",name:"password",placeholder:"Password (min 6 chars)",value:Ce.password,onChange:We,required:!0,minLength:6,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("label",{className:"group relative block mt-3",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"lock"})}),jsxRuntimeExports.jsx("input",{type:"password",name:"confirmPassword",placeholder:"Confirm Password",value:Ce.confirmPassword,onChange:We,required:!0,minLength:6,className:"peer w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-1",children:[jsxRuntimeExports.jsxs("label",{htmlFor:"gstin",className:"text-slate-200 text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Icon,{name:"gst"})," GSTIN (optional)"]}),Ce.gstin&&jsxRuntimeExports.jsx("span",{className:`text-xs ${Qe.ok?"text-emerald-300":"text-red-300"}`,children:Qe.ok?"Looks valid":Qe.reason})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300/80",children:jsxRuntimeExports.jsx(Icon,{name:"gst"})}),jsxRuntimeExports.jsx("input",{id:"gstin",type:"text",name:"gstin",placeholder:"E.g., 27ABCDE1234F1Z5",value:Ce.gstin,onChange:We,className:"w-full pl-11 pr-3 py-3 rounded-xl bg-white/10 text-white border border-white/15 placeholder-white/60 outline-none focus:ring-2 focus:ring-cyan-400/80 focus:border-cyan-400/40 transition uppercase"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-slate-300 text-sm mt-4",children:[jsxRuntimeExports.jsx("input",{id:"agree",name:"agree",type:"checkbox",checked:Ce.agree,onChange:We,className:"h-4 w-4 rounded border-white/20 bg-white/10"}),jsxRuntimeExports.jsxs("label",{className:"text-sm text-gray-300",children:["I agree to the"," ",jsxRuntimeExports.jsx("a",{href:"/terms.html",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-300 hover:text-blue-400",children:"Terms"})," ","and"," ",jsxRuntimeExports.jsx("a",{href:"/privacy.html",target:"_blank",rel:"noopener noreferrer",className:"underline text-blue-300 hover:text-blue-400",children:"Privacy Policy"})]})]}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Be||sanitize10Digits(Ce.phone).length!==10,className:"mt-5 w-full relative overflow-hidden rounded-xl bg-gradient-to-r from-cyan-500 via-blue-500 to-fuchsia-500 py-3 font-semibold text-white shadow-lg transition [--shine:linear-gradient(120deg,transparent,rgba(255,255,255,.6),transparent)] hover:shadow-cyan-500/30 hover:-translate-y-0.5 transition-transform active:scale-[.99] disabled:opacity-60",children:[jsxRuntimeExports.jsx("span",{className:"relative z-10",children:Be?"Creating account":"Create account"}),jsxRuntimeExports.jsx("span",{className:"absolute inset-0 opacity-0 hover:opacity-100 transition-opacity [background-image:var(--shine)] bg-[length:250%_100%] bg-[position:-100%_0] hover:animate-[shine_1.6s_ease-in-out_infinite]"})]}),jsxRuntimeExports.jsx("div",{className:"text-[11px] text-slate-400 mt-3",children:"Add business name, address, logo, and GST rates later in Profile Settings."})]})]})]})})]}),jsxRuntimeExports.jsx("style",{children:`
        @keyframes shine{to{background-position:200% 0}}
        @keyframes marquee{0%{transform:translateX(0)}100%{transform:translateX(-50%)}}
        .animate-marquee{display:inline-block;min-width:200%;animation:marquee 18s linear infinite}
      `})]})},auth=getAuth(app),db=getFirestore(app),Login=()=>{const Re=useNavigate(),[Ce,je]=reactExports.useState({email:"",password:""}),[Be,De]=reactExports.useState(""),Fe=Me=>{je(Ue=>({...Ue,[Me.target.name]:Me.target.value}))},ke=async Me=>{Me.preventDefault(),De("");try{const $e=(await signInWithEmailAndPassword(auth,Ce.email,Ce.password)).user,He=await getDoc(doc(db,"businesses",$e.uid));if(!He.exists()){De(" User data not found in Firestore.");return}const We=He.data().role;Re(We==="retailer"?"/dashboard/inventory":We==="distributor"?"/dashboard/billing":"/dashboard/inventory")}catch(Ue){De(Ue.message)}},Oe=async()=>{if(!Ce.email){alert("Please enter your email first.");return}try{await sendPasswordResetEmail(auth,Ce.email),alert("Password reset email sent. Please check your inbox.")}catch(Me){console.error("Reset error:",Me.message),De("Failed to send reset email. Check your email and try again.")}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden bg-gradient-to-br from-[#0B0F14] via-[#0D1117] to-[#0B0F14]",children:[jsxRuntimeExports.jsxs("div",{className:"pointer-events-none absolute inset-0 opacity-40",children:[jsxRuntimeExports.jsx("div",{className:"absolute -top-24 -left-24 w-[60vmax] h-[60vmax] rounded-full blur-3xl bg-gradient-to-tr from-emerald-500/40 via-teal-400/30 to-cyan-400/30"}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-24 -right-24 w-[50vmax] h-[50vmax] rounded-full blur-3xl bg-gradient-to-tr from-cyan-500/30 via-sky-400/20 to-emerald-400/30"})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 flex items-center justify-center px-6 py-14 sm:px-8",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md rounded-3xl border border-white/20 bg-white/10 backdrop-blur-2xl shadow-[0_8px_40px_rgba(0,0,0,0.4)]",children:[jsxRuntimeExports.jsxs("div",{className:"px-7 sm:px-8 pt-8 pb-6 text-center",children:[jsxRuntimeExports.jsxs("div",{className:"mx-auto mb-4 inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xl font-semibold tracking-wider bg-clip-text text-transparent bg-gradient-to-r from-white via-white to-emerald-200",children:"FLYP"}),jsxRuntimeExports.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full border border-white/20 text-white/80",children:"Sign In"})]}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white",children:"Welcome back"}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-sm text-white/70",children:"Continue to your dashboard"})]}),Be&&jsxRuntimeExports.jsx("div",{className:"mx-7 sm:mx-8 mb-3 text-rose-300 text-sm bg-rose-900/30 border border-rose-500/30 rounded-lg px-3 py-2",children:Be}),jsxRuntimeExports.jsxs("form",{onSubmit:ke,className:"px-7 sm:px-8 pb-8 space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"group",children:jsxRuntimeExports.jsx("input",{type:"email",name:"email",placeholder:"Email address",value:Ce.email,onChange:Fe,required:!0,className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white placeholder-white/60 border border-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/60 focus:border-emerald-300/40 transition"})}),jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsx("input",{type:"password",name:"password",placeholder:"Password",value:Ce.password,onChange:Fe,required:!0,className:"w-full px-4 py-3 rounded-xl bg-white/10 text-white placeholder-white/60 border border-white/20 focus:outline-none focus:ring-2 focus:ring-emerald-400/60 focus:border-emerald-300/40 transition"}),jsxRuntimeExports.jsx("div",{className:"mt-2 text-right",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:Oe,className:"text-xs text-emerald-300/90 hover:text-emerald-200 underline underline-offset-4",children:"Forgot password?"})})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"w-full py-3 rounded-xl font-semibold text-slate-900 bg-gradient-to-r from-emerald-400 via-teal-300 to-cyan-400 hover:shadow-[0_10px_30px_rgba(16,185,129,0.35)] transition focus:outline-none focus:ring-2 focus:ring-emerald-400/60",children:"Sign In"}),jsxRuntimeExports.jsxs("div",{className:"pt-2 text-center text-xs text-white/70",children:["By continuing you agree to FLYPs ",jsxRuntimeExports.jsx("span",{className:"underline decoration-white/30",children:"Terms"})," & ",jsxRuntimeExports.jsx("span",{className:"underline decoration-white/30",children:"Privacy"})]})]}),jsxRuntimeExports.jsx("div",{className:"px-7 sm:px-8 pb-6 text-right",children:jsxRuntimeExports.jsx("button",{onClick:async()=>{await signOut(auth),Re("/")},className:"text-xs text-red-300/90 hover:text-red-200 underline underline-offset-4 transition",children:"Sign out"})})]})})]})},AuthPage=()=>{const{user:Re}=reactExports.useContext(AuthContext),Ce=useNavigate();useLocation();const[je]=useSearchParams(),Be=je.get("type"),[De,Fe]=reactExports.useState(""),[ke,Oe]=reactExports.useState(!0);if(reactExports.useEffect(()=>{if(!Be){Ce("/auth?type=login",{replace:!0});return}},[Be,Ce]),reactExports.useEffect(()=>{Be==="login"?(async()=>{if(!Re){Oe(!1);return}try{const $e=doc(db$2,"businesses",Re.uid),He=await getDoc($e);if(He.exists()){const We=He.data().role?.toLowerCase();Ce(We==="retailer"?"/dashboard":We==="distributor"?"/distributor-dashboard":We==="productowner"||We==="product owner"?"/product-owner-dashboard":"/")}else console.warn("No user profile found in Firestore."),Ce("/")}catch($e){console.error("Error fetching user role:",$e),Ce("/")}finally{Oe(!1)}})():Oe(!1)},[Re,Be]),ke)return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-white text-lg animate-pulse",children:"Loading..."})});const Me=Ue=>{Fe(Ue)};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-gray-800 flex items-center justify-center",children:jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Be==="register"&&!De&&jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen text-white",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 -z-10",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#0b1220]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_15%_10%,rgba(56,189,248,0.12),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [background:radial-gradient(60%_50%_at_85%_90%,rgba(217,70,239,0.10),transparent_60%)]"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 [mask-image:radial-gradient(ellipse_at_center,black_40%,transparent_100%)] bg-black/30 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 opacity-[0.05] bg-[url('data:image/svg+xml,%3Csvg%20xmlns=%22http://www.w3.org/2000/svg%22%20width=%22160%22%20height=%22160%22%20viewBox=%220%200%20160%20160%22%3E%3Cfilter%20id=%22n%22%3E%3CfeTurbulence%20type=%22fractalNoise%22%20baseFrequency=%220.8%22%20numOctaves=%222%22/%3E%3C/filter%3E%3Crect%20width=%22160%22%20height=%22160%22%20filter=%22url(%23n)%22%20opacity=%220.6%22/%3E%3C/svg%3E')]"})]}),jsxRuntimeExports.jsxs("div",{className:"mx-auto max-w-6xl grid grid-cols-1 lg:grid-cols-2 gap-0 lg:gap-10 px-6 py-16 lg:py-20 relative",children:[jsxRuntimeExports.jsx("div",{className:"hidden lg:block",children:jsxRuntimeExports.jsxs("div",{className:"max-w-xl pr-4",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center gap-2 px-2 py-0.5 rounded-md bg-white/5 text-[11px] tracking-widest uppercase text-cyan-200/90",children:"FLYP  Choose your role"}),jsxRuntimeExports.jsx("h2",{className:"mt-3 text-4xl font-extrabold tracking-tight text-white leading-tight",children:"Built for Retailers, Distributors, and Product Owners."}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-slate-300/95 text-sm leading-relaxed",children:"Pick the role that best describes your business. Youll get tailored dashboards, permissions, and workflows  no extra clutter."}),jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:"Rolebased views"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:"We only show what matters to your job to keep things fast."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:"Instant onboarding"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:"AI/OCR tooling to bring your catalog and billing live in minutes."})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"mt-1 h-2.5 w-2.5 rounded-full bg-gradient-to-r from-cyan-400 to-fuchsia-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-sm font-semibold text-white",children:"Connected workflows"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-slate-300",children:"Retailer  Distributor ordering, dispatch, and credit cycles."})]})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-8 h-px w-full bg-white/10"}),jsxRuntimeExports.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4 text-xs text-slate-300",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Billing"}),jsxRuntimeExports.jsx("div",{children:"UPI/Cash/Card, credit cycles."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Inventory"}),jsxRuntimeExports.jsx("div",{children:"OCR & AI onboarding."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"font-semibold text-white",children:"Dispatch"}),jsxRuntimeExports.jsx("div",{children:"Track requests to delivery."})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"w-full max-w-md relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-1 rounded-2xl bg-gradient-to-r from-cyan-500/30 via-blue-500/30 to-fuchsia-500/30 blur-2xl"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-2xl border border-white/10 bg-white/10 backdrop-blur-xl p-8 shadow-2xl",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold mb-2 text-center",children:"Select your role"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-slate-300 text-center mb-6",children:"Well customize FLYP for your workflow."}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me("Retailer"),"aria-label":"Select Retailer",className:"group w-full text-left rounded-xl border border-white/10 bg-white/5 p-5 transition-all hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-semibold text-lg",children:"Retailer"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-300",children:"Sell to end customers with fast billing & inventory."})]})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me("Distributor"),"aria-label":"Select Distributor",className:"group w-full text-left rounded-xl border border-white/10 bg-white/5 p-5 transition-all hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-semibold text-lg",children:"Distributor"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-300",children:"Supply retailers, manage orders, dispatch & credit."})]})]})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me("ProductOwner"),"aria-label":"Select Product Owner",className:"group w-full text-left rounded-xl border border-white/10 bg-white/5 p-5 transition-all hover:-translate-y-1 hover:shadow-xl focus:outline-none focus:ring-2 focus:ring-cyan-400/60",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("span",{className:"text-xl","aria-hidden":!0,children:""}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-white font-semibold text-lg",children:"Product Owner"}),jsxRuntimeExports.jsx("div",{className:"text-sm text-slate-300",children:"Own the brand, track distributors & performance."})]})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-center mt-6",children:jsxRuntimeExports.jsx("button",{className:"text-sm text-slate-300 hover:text-white hover:bg-white/10 px-4 py-2 rounded transition-all",onClick:()=>Ce("/"),children:"Cancel"})})]})]})})]})]}),Be==="register"&&De&&jsxRuntimeExports.jsx("div",{className:"animate-fadeInUp transition-all duration-500",children:jsxRuntimeExports.jsx(Register,{role:De})}),Be==="login"&&jsxRuntimeExports.jsx(Login,{})]})})},EmployeeLogin=()=>{const[Re,Ce]=reactExports.useState(""),[je,Be]=reactExports.useState(""),[De,Fe]=reactExports.useState(""),ke=async()=>{const Oe=Re.trim().toUpperCase(),Me=je.trim(),Ue=De.trim();if(!Oe||!Me||!Ue){y$2.error("Please fill in all fields");return}try{const $e=doc(db$2,"employeeIndex",Oe),He=await getDoc($e);if(!He.exists()){y$2.error("Invalid FLYP ID");return}const Qe=He.data(),{uid:We,retailerId:qe,email:Ke}=Qe;console.log(" Resolved flypId:",Oe),console.log(" Resolved UID from index:",We),console.log(" Retailer ID:",qe);const Ye=(await signInWithEmailAndPassword(auth$2,Ke,Ue)).user.uid;console.log(" Signed in Firebase UID:",Ye);const Ze=doc(db$2,"businesses",qe,"employees",Ye);console.log(" Fetching employee doc from path:",`businesses/${qe}/employees/${Ye}`);const Je=await getDoc(Ze);if(!Je.exists()){y$2.error("Employee not linked to this business");return}const tr=Je.data();if(tr.phone!==Me){y$2.error("Incorrect phone");return}localStorage.setItem("employeeRole",tr.role),localStorage.setItem("retailerId",qe),localStorage.setItem("employeeUID",Ye),await updateDoc(Ze,{online:!0,lastSeen:serverTimestamp()}),y$2.success(`Welcome ${tr.role}`),window.location.href="/employee-dashboard"}catch($e){console.error("Login error",$e.message),y$2.error("Login failed")}};return jsxRuntimeExports.jsxs("div",{className:"p-4 max-w-md mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-4",children:"Employee Login"}),jsxRuntimeExports.jsx("input",{className:"border p-2 w-full mb-2",placeholder:"FLYP ID",value:Re,onChange:Oe=>Ce(Oe.target.value)}),jsxRuntimeExports.jsx("input",{className:"border p-2 w-full mb-2",placeholder:"Phone Number",value:je,onChange:Oe=>Be(Oe.target.value)}),jsxRuntimeExports.jsx("input",{type:"password",className:"border p-2 w-full mb-2",placeholder:"Password",value:De,onChange:Oe=>Fe(Oe.target.value)}),jsxRuntimeExports.jsx("button",{onClick:ke,className:"bg-green-600 text-white px-4 py-2 rounded",children:"Login"})]})},PrivateRoute=({children:Re})=>{const{user:Ce,loading:je}=useAuth();return je?jsxRuntimeExports.jsx("div",{className:"text-center mt-20 text-gray-500",children:"Loading..."}):Ce?Re:jsxRuntimeExports.jsx(Navigate,{to:"/auth",replace:!0})},App=()=>jsxRuntimeExports.jsxs(AuthProvider,{children:[jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(LandingPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/auth/*",element:jsxRuntimeExports.jsx(AuthPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/employee-login",element:jsxRuntimeExports.jsx(EmployeeLogin,{})}),jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(RetailerDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/distributor-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(DistributorDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/product-owner-dashboard",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(ProductOwnerDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/inventory",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Inventory,{})})}),jsxRuntimeExports.jsx(Route,{path:"/billing",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(Billing,{})})}),jsxRuntimeExports.jsx(Route,{path:"/invoices",element:jsxRuntimeExports.jsx(PrivateRoute,{children:jsxRuntimeExports.jsx(AllInvoices,{})})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx(Navigate,{to:"/auth?type=login",replace:!0})})]}),jsxRuntimeExports.jsx(Lt,{position:"top-right",autoClose:3e3})]});ReactDOM$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(React.StrictMode,{children:jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(AuthProvider,{children:jsxRuntimeExports.jsx(App,{})})})}));export{Component as C,Deferred as D,ErrorFactory as E,Logger as L,_getProvider as _,getModularInstance as a,getGlobal as b,calculateBackoffMillis as c,base64 as d,_registerComponent as e,commonjsGlobal$2 as f,getApp as g,getDefaultExportFromCjs as h,isIndexedDBAvailable as i,_defineProperty$1 as j,registerVersion as r,uuidv4 as u};
